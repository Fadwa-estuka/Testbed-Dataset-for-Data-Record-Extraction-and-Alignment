
/* DAC.js 3.0.6 Copyright 2016 AOL Advertising. */
window.ADTECH=window.ADTECH||{debugMode:!1},window.ADTECH.config=window.ADTECH.config||{placements:{},placementsdyn:{}},window.DAC=window.DAC||{};try{!function(){"use strict";function a(a,b,c){function d(){var a=c&&c.navigator&&c.navigator.userAgent;if(a){var b=a.match(/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)/);b&&(b[1]||b[2])&&(k=e(b[1]||b[2]),l=k&&(9>k||c.document.documentMode&&c.document.documentMode<10));var d=a.match(/AppleWebKit\/([^\s]*)/);d&&d[1]&&(n=e(d[1]));var f=a.match(/(Chrome|CrMo|CriOS)\/([^\s]*)/);f&&f[1]&&f[2]&&(m=e(f[2]),n=0)}}function e(a){return parseFloat(a)}function f(){return k}function g(){return l}function h(){return!!m}function i(){return!!n}var j="Environment",k=0,l=!1,m=0,n=0;return d(),a[j]={isOldIEMode:g,getIEVersion:f,isChrome:h,isSafari:i},a[j]}function b(a,b,c){function d(a,b,c){var d,e=a&&a.length||0;for(d=0;e>d;d++)b.call(c,a[d],d)}function e(a,b,c){if(a){var d;for(d in a)a.hasOwnProperty(d)&&b.call(c,d,a[d])}}function f(a){return"object"==typeof a}function g(a){return"string"==typeof a}function h(a){return"function"==typeof a}function i(a){return"number"==typeof a&&isFinite(a)}function j(a){return"object"==typeof a&&a.constructor===Array}function k(a){return"boolean"==typeof a}function l(a){return/^\d*$/.test(a)}function m(a){var b;if(!c.JSON)throw new Error("JSON not found. Could not transform the string into an object");return b=c.JSON.parse(a)}function n(a,b,c,f){var g,h={};c?(d(c,function(a){b.hasOwnProperty(a)&&(h[a]=!0)}),g=f?function(b,c){h[b]||(a[b]=c)}:function(c){h[c]&&(a[c]=b[c])}):g=function(b,c){a[b]=c},e(b,g)}function o(a){var b=I.getElementById(a.adContainerId);return null!==b&&f(b)&&b}function p(b){var c=b.config,d=a.Environment.getIEVersion;if(!o(c)){if(c.ajax&&c.ajax.useajax)return void b.logger.log(H,"createAdContainer","<div> element with ID "+c.adContainerId+" not found, creation skiped (Ajax call)");if(!a.ResourceManager.isSync(b.config.legacyDACLoadType,d))throw H+"#createAdContainer Ad Container cannot be created";I.write('<div id="'+c.adContainerId+'" style="padding:0;margin:0;border:0;"></div>'),c.adContainer=I.getElementById(c.adContainerId),b.logger.log(H,"createAdContainer","Created <div> element with ID "+c.adContainerId)}}function q(a){var b=I.getElementById(a.adContainerId);if(a.adContainer&&!a.skipContainerClean&&(a.adContainer.innerHTML=""),null===b||!f(b))throw new Error(H+"#resolveContainer Ad Container not found");a.adContainer=b,a.skipContainerClean||(a.adContainer.innerHTML="")}function r(a){var b=a.queueId?' adtechQueueId="'+a.queueId+'"':"";return'<script type="text/javascript" src="'+a.config.adcallUrl+'"'+b+"></script>"}function s(a,b){return function(){try{a.apply(null,arguments)}catch(c){if(b&&(b.log("Exception raised: "+c.message),b.isEnabled()))throw c}}}function t(a){return Math.round(Math.random()*a)}function u(a,b,c,d){return void 0===a||void 0===b?!1:(c&&(c=w([a,b],c)),x(a,b,c,d)&&x(b,a,c,d))}function v(a,b){var c=[],f={};return d(a,function(a){e(a,function(a){!f[a]&&b.test(a)&&(c.push(a),f[a]=!0)})}),c}function w(a,b){var c=[];return d(b,function(b){if(b instanceof RegExp){var d=v(a,b);d.length>0&&Array.prototype.push.apply(c,d)}else c.push(b)}),c}function x(a,b,c,d){function e(e){var f=!(a.hasOwnProperty(e)||b.hasOwnProperty(e));return f?!0:d&&y(c,e)?!0:a.hasOwnProperty(e)&&b.hasOwnProperty(e)&&("object"==typeof a[e]?objectEquals(a[e],b[e]):a[e]===b[e])}var f;if(c&&c.constructor===Array&&!d){for(f=0;f<c.length;f++)if(!e(c[f]))return!1;return!0}for(f in a)if(a.hasOwnProperty(f)&&!e(f))return!1;return!0}function y(a,b){var c=!1;return d(a,function(a){a===b&&(c=!0)}),c}function z(a){var b=[];return d(a,function(a,c){b[c]=a}),b}function A(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c}function B(){var a=I.documentElement.clientWidth,b="CSS1Compat"===I.compatMode&&a||I.body&&I.body.clientWidth||a;return I.body||0!==b||(b=I.documentElement.scrollWidth),b}function C(){var a=I.documentElement.clientHeight;return"CSS1Compat"!==I.compatMode&&(a=c.innerHeight||a),a}function D(a,b,c,d){a[c]&&!b[d]&&(b[d]=a[c])}function E(a){var b={};return e(a,function(a,c){f(c)?(b[a]={},n(b[a],c)):b[a]=c}),b}function F(a){return G(a,c)}function G(a,b){if(g(a)){for(var c,d=a.split("."),e=b,f=0;e&&f<d.length;f++)e=e[d[f]],c=e;return c}}var H="Utils",I=c.document;return a[H]={each:d,eachKey:e,isString:g,isObject:f,isFunc:h,isBoolean:k,isNumber:i,isArray:j,isStringANumber:l,copyObject:n,resolveContainer:q,findAdContainer:o,generateScriptHTML:r,stringToObject:m,createClosure:s,createAdContainer:p,rnd:t,objectsEquals:u,buildObjectsProperties:w,cloneArray:z,addEventListener:A,getViewportWidth:B,getViewportHeight:C,copyMissingProperty:D,resolveHostPageVariable:F,resolveObjectProperty:G,cloneObject:E},a[H]}function c(a,b,c){function d(){if(q=c,q!=c.top)try{{c.top.location.href}q=c.top}catch(a){}}function e(a,b){var c={};h(b);var d=g(b.urlPart);return d?(m(b,c),f(b,c,d),a.logger.logObject(r,"extractURLConfig",c),c):(a.logger.log(r,"extractURLConfig#No URL section found"),c)}function f(a,b,c){var d=j(c),e=i(c);a.useBlackList&&(e=o(e,a.blackList));var f=k(c,a.urlSeparator);if(a.sendQueryKeyValue)l(b,e),a.combinePath&&a.keyName&&f.length>0&&(b[a.keyName]=f.join(":"));else{var g=f.join(":");e.length>0&&a.combinePath?g+=":"+n(e).join(":"):e.length>0&&!a.combinePath&&(g+="?"+d),b[a.keyName]=g}}function g(a){return a?q.location[a]:q.location.pathname+q.location.search}function h(a){q||d(),a.sendQueryKeyValue=a.sendQueryKeyValue!==!1,a.combinePath=a.combinePath!==!1,a.sendProtocol=a.sendProtocol!==!1,a.sendDomain=a.sendDomain!==!1,a.keyName=a.keyName||u,a.urlSeparator=a.urlSeparator||t,a.blackList=a.blackList||[],s.isBoolean(a.useBlackList)||(a.useBlackList=a.blackList.length>0)}function i(a){var b=a.indexOf("?"),c=[];if(-1===b)return c;var d=a.substring(b+1).split("&");return s.each(d,function(a){var b=a.split("=");c.push({key:b[0],value:b[1]})}),c}function j(a){var b=a.indexOf("?"),c="";return-1!==b&&(c=a.substring(b+1)),c}function k(a,b){var c=a.indexOf("?"),d=[],e=a;return-1!==c&&(e=a.substring(0,c)),e.length>0&&(e.charAt(0)===t&&(e=e.substring(1)),d=e.split(b)),d}function l(a,b){s.each(b,function(b){a[b.key]=b.value})}function m(a,b){a.sendProtocol===!0&&(b.protocol=q.location.protocol.substring(0,q.location.protocol.length-1)),a.sendDomain===!0&&(b.domain=q.location.host)}function n(a){var b=[];return s.each(a,function(a){b.push(a.value)}),b}function o(a,b){var c=[];return s.each(a,function(a){var d=p(b,a.key);-1===d&&c.push(a)}),c}function p(a,b){if(Array.prototype.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(a[c]==b)return c;return-1}var q,r="URLTargeting",s=a.Utils,t="/",u="url";return a[r]={extractURLConfig:e},a[r]}function d(a,b){function c(a){var b,c=a.config,g=c.ajax.method,h=c.adcallUrl;return"undefined"!=typeof XMLHttpRequest&&(b=new XMLHttpRequest),"withCredentials"in b?(c.ajax.xhr.withCredentials===!0&&(b.withCredentials=!0),b.open(g,h,!0)):"undefined"!=typeof XDomainRequest?(b=new XDomainRequest,b.open(g,h)):(b=null,a.logger.log(m,"getXMLHttpRequest#CORS not supported")),b&&(d(b,c),e(b,c.ajax.headers),f(b,a)),b}function d(a,b){b.ajax.dataType===o&&e(a,{Accept:"application/json, text/javascript, */*; q=0.01"})}function e(a,b){a.setRequestHeader&&n.eachKey(b,function(b,c){a.setRequestHeader(b,c)})}function f(a,b){a.onload=function(){g(a,b)},a.onerror=function(){i(a,b)}}function g(a,b){k(b);var c,d=b.config,e=a.responseText,f=a.status||200;if(f>=200&&400>f)try{e=j(e,d.ajax.dataType)}catch(g){c=g,b.logger.log(m,"processOKResponse#"+g.message)}else c=new Error("CORS call failed status: "+f);var i=h(b);d.complete&&!c?d.complete(e,i):c&&d.error&&d.error(c,i)}function h(a){var b={};return a.config.placement&&(b.placement=a.config.placement),a.config.alias&&(b.alias=a.config.alias),b}function i(a,b){k(b);var c=new Error("CORS call failed status: "+a.status);b.config.error&&b.config.error(c)}function j(a,b){return b===o&&a&&JSON&&(a=JSON.parse(a)),a}function k(a){a.queueId&&!a.partOfMultiAd&&b.queueCallback(a.queueId)}function l(a){var b=c(a);b&&b.send()}var m="Ajax",n=a.Utils,o="json";a[m]={doCall:l,getXMLHttpRequest:c}}function e(a,b,c){function d(){p&&(clearTimeout(q),q=setTimeout(e,p))}function e(){w=!1,o=s.getViewportWidth(),s.eachKey(u,function(b,c){i(c)&&(w||(w=!0,t.validatePageConfig()),a.BannerInjector.doAsync(c))}),f()}function f(){s.eachKey(v,function(a,b){g(b)})}function g(b){if(clearTimeout(b.reloadTimeout),b.running)b.reloadTimeout=setTimeout(function(){g(b)},p);else{var c=[],d=b.getResponsiveRequests();s.each(d,function(a){i(a)&&(w||(w=!0,t.validatePageConfig()),c.push(a.id))}),c.length>0&&a.AdQueue.reloadQueue(b,c)}}function h(a){if(a.hasResponsiveConfig()){p=a.config.responsiveCheckTimeout,u[a.id]=a;var b=i(a);!b&&a.config.responsive.allowGaps&&(a.disableAdInjection=!0),d()}}function i(a){var b,c,d,e=a.config.responsive.bounds;for(b=0;b<e.length;b++)if(c=e[b],j(c)){delete a.disableAdInjection,b!==a.currentBoundIndex&&(d=!0,a.currentBoundIndex=b,a.responsiveId=c.id,delete a.config.adcallUrl);break}return d||delete a.responsiveId,d}function j(b){return o||(o=a.Utils.getViewportWidth()),o>=b.min&&o<=b.max}function k(a){var b=!1,c=[];s.each(a.storage,function(a,d){if(a.hasResponsiveConfig()){p=a.config.responsiveCheckTimeout,b=!0,c.push(d);var e=i(a);!e&&a.config.responsive.allowGaps&&(a.disableAdInjection=!0)}}),b&&(a.responsiveIndexes=c,v[a.id]=a)}function l(){return u}function m(){return v}function n(a){var b={params:{}},c=a.config.responsive.bounds[a.currentBoundIndex];return s.copyObject(b,a.config,["params","placement","alias","responsive"],!0),s.copyObject(b.params,c.params,["alias"],!0),b.placement=a.config.placement,c.adContainerId&&(a.config.adContainerId=c.adContainerId),s.isNumber(a.responsiveId)?b.placement=a.responsiveId:s.isString(a.responsiveId)&&(b.params.alias=a.responsiveId),b}var o,p,q,r="ResponsiveAdManager",s=a.Utils,t=a.ConfigFinalizer,u={},v={},w=!1;a.Utils.addEventListener(c,"resize",d),a[r]={register:h,registerQueue:k,currentViewportWidth:o,checkTimeout:q,getResponsiveAdsRegistry:l,getResponsiveQueuesRegistry:m,makeResponsiveConfigClone:n,shouldRefresh:i}}function f(a,b,c){function d(c,d){if(l.resolveContainer(c.config),j(c),c.shown=!0,c.config.fif.usefif)e("injectBannerAsyncMode","Fif",c),a.FifRenderer.setupFif(c);else{e("injectBannerAsyncMode","postscribe",c);var f=a.ResourceLoader.buildUrl(c.config,"postscribe.js"),g=d.bannerCode||l.generateScriptHTML(c);a.ResourceLoader.loadScript(f,"postscribe",!0,function(a){if(!a)throw new Error("BannerInjector# injectBannerAsyncMode.  Postscribe lib failed to load");c.logger.log(k,"injectBannerAsyncMode","Postscribe loaded. Performing ad injection for request id "+(c.id||"<?>")),b.postscribe(c.config.adContainer,g,{done:l.createClosure(function(){c.config.complete(c.getConfigIds())},c.logger),error:function(a){if(b.debugMode)throw a}})},c.logger)}}function e(a,b,c){var d=c.config;c.logger.log(k,a,"Inject banner in async mode using "+b+" for request id "+c.id+(d.adcallUrl?" using URL "+d.adcallUrl:""))}function f(b){var c=a.Detections;c.detectScreenSize(b),c.detectUTCOffset(b),c.detectFlashVersion(b),c.detectRichMediaSupport(b)}function g(b){b.disableAdInjection||(i(b),b.config.ajax.useajax?a.Ajax.doCall(b):d(b,{}))}function h(b){b.disableAdInjection||(b.shown=!0,i(b),b.logger.log(k,"doSync","Performing sync ad call using document.write"+(b.config.placement?" for placement "+b.config.placement:"")+" using URL "+b.config.adcallUrl),c.document.write(a.Utils.generateScriptHTML(b)))}function i(b){var c=b.config;b.responsiveId&&(c=a.ResponsiveAdManager.makeResponsiveConfigClone(b)),A.AdcallBuilder.buildUrl(c),b.config.adcallUrl=c.adcallUrl}function j(a){a.config.preLoad(a.getConfigIds(),a.config.adContainerId)}var k="BannerInjector",l=a.Utils;a[k]={injectBannerAsyncMode:d,performSyncDetections:f,doAsync:g,doSync:h}}function g(a,b,c){function d(a,c,d,g){b.resourceRegistry=b.resourceRegistry||{};var h=b.resourceRegistry;h[a]&&h[a].loaded&&(!d||d&&p)?c(h[a].status):(h[a]||(h[a]={queue:[],needPageDOM:d},g(e(a),f(a))),h[a].queue.push(c))}function e(a){return function(){g(a,!0)}}function f(a){return function(){g(a,!1)}}function g(a,c){var d=b.resourceRegistry;d[a].loaded=!0,d[a].status=c,h(d[a])}function h(a){if((!a.needPageDOM||p)&&a.loaded){for(var b=a.queue,c=0;c<b.length;c++)b[c](a.status);a.queue=[]}}function i(){if(!n){p=!0,n=!0;var a=b.resourceRegistry;for(var c in a)h(a[c])}}function j(){if("complete"===q.readyState)return setTimeout(i,1);if(q.addEventListener)q.addEventListener("DOMContentLoaded",i,!1),c.addEventListener("load",i,!1);else if(q.attachEvent){q.attachEvent("onreadystatechange",i),c.attachEvent("onload",i);var a=!1;try{a=null===c.frameElement}catch(b){}q.documentElement.doScroll&&a&&k()}}function k(){if(!n){try{q.documentElement.doScroll("left")}catch(a){return void setTimeout(k,1)}i()}}function l(a,b){var d="loading"===q.readyState;if(!d&&"interactive"===q.readyState&&c==c.top&&b)try{q.documentElement.doScroll&&q.documentElement.doScroll("left")}catch(e){d=!0}else!d&&"interactive"===q.readyState&&c!=c.top&&b&&(q.addEventListener?p||(d=!0):a&&(d=!0));return d}function m(){return p}var n,o="ResourceManager",p=!1,q=c.document;j(),a[o]={schedule:d,isSync:l,isDOMReady:m}}function h(a,b,c){function d(b,c,d,e,h){a.ResourceManager.schedule(c,a.Utils.createClosure(e,h),d,function(c,d){g(),f(b,j,{onSuccess:a.Utils.createClosure(c,h),onError:a.Utils.createClosure(d,h)},!1)})}function e(b,c,d){g(),f(b,j,{onSuccess:a.Utils.createClosure(function(){c(!0)},d),onError:a.Utils.createClosure(function(){c(!1)},d)},!0)}function f(b,d,e,f){var g=c.document.createElement("script"),h=a.Environment.getIEVersion();g.setAttribute("type","text/javascript"),g.setAttribute("src",b),h&&(9>h||c.document.documentMode&&c.document.documentMode<9)?g.onreadystatechange=function(){/loaded|complete/.test(g.readyState)&&(g.onreadystatechange=null,e.onSuccess&&e.onSuccess())}:h>=10&&!f?(g.onerror=function(){setTimeout(e.onError,0)},g.onload=function(){setTimeout(e.onSuccess,0)}):(g.onerror=e.onError,g.onload=e.onSuccess),d.appendChild(g)}function g(){if(!j){var a=c.document.head;if(!a){var b=c.document.getElementsByTagName("head");a=b&&b.length>0?b[0]:c.document.body||c.document.getElementsByTagName("body")[0]}j=a}}function h(a,b){return"https"===a.protocol?l+b:k+b}function i(a){var b=c.location.protocol.substring(0,c.location.protocol.length-1);return h({protocol:b},a+".js")}var j,k="http://aka-cdn-ns.adtech.de/dt/common/",l="https://aka-cdn.adtech.de/dt/common/",m="DACMultiAdPlugin",n="DACPubApiPlugin",o="ResourceLoader";a[o]={loadScript:d,loadTransientScript:e,buildUrl:h,buildPluginUrl:i,MULTI_AD_PLUGIN_NAME:m,PUB_API_PLUGIN_NAME:n}}function i(a){function b(b){if(!a.Utils.isString(b.adcallUrl)){b.serviceType||(b.serviceType="addyn"),b.serviceVersion||(b.serviceVersion="3.0");var e=b.protocol+"://"+b.server+d+b.serviceType+d+b.serviceVersion+d+b.network+d+(b.placement?b.placement:0)+d+b.pageid.toString()+d+b.sizeid.toString()+d+b.normaltarget;e=c(e,b,";"),b.adcallUrl=e}}function c(b,c,d,f,g,h){var i=!0,j="";return h=h||{},a.Utils.isObject(c.params)&&(i=void 0===c.params.misc,a.Utils.eachKey(c.params,function(a,c){g&&g[a]||(h[a]&&(c=h[a],delete h[a]),e[a]?j+=d+a+"="+c:b+=d+a+"="+c)}),a.Utils.eachKey(h,function(a,c){b+=d+a+"="+c})),i&&!f&&(b+=d+"misc="+(new Date).getTime()),b+=j}var d="/",e={rdclick:!0,rdview:!0,link:!0},f="AdcallBuilder";a[f]={buildUrl:b,addUrlParams:c}}function j(a,b,c){function d(a,c){function d(){F||(v.log(h,"adcallComplete","#"+a.id),c.queueId&&!c.partOfMultiAd&&b.queueCallback(c.queueId),F=!0)}function g(a){f()?a.onload=d:a.onreadystatechange=function(){/loaded|complete/.test(a.readyState)&&(a.onreadystatechange=null,d())}}function i(){v.log(h,"done","#"+a.id),d(),w.complete&&w.complete(c.getConfigIds())}function l(b,c){v.log(h,"resize","#"+a.id+" resizing to "+b+"x"+c),a.width=b,a.height=c}function m(){if(E){n(),w.fif.preResize(c.id);var a=o();l(a.width,a.height)}else l(C,D);i()}function n(){var a,b,d,e="img",f="a";if(!c.config.fif.contentStyle){if(d=I.children,j.isOldIEMode()){var g=I.nextSibling;g&&g.nodeName.toLowerCase()===f?a=g:g&&g.nodeName.toLowerCase()===e&&(b=g)}else if(2===d.length){var h=d[1].nodeName.toLowerCase();h===f?a=d[1]:h===e&&(b=d[1])}a&&1===a.children.length&&a.children[0].nodeName.toLowerCase()===e&&(b=a.children[0]),b&&(b.style.display="block")}}function o(){var a=I.scrollWidth,b=I.scrollHeight;return 0!==a&&0!==b||1!==I.children.length||!j.isOldIEMode()||"script"===I.children[0].nodeName.toLowerCase()&&(a=q("Width"),b=q("Height")),window.opera&&(2>a||2>b)&&(a=p("Width"),b=p("Height")),{width:a,height:b}}function p(a){var b=Math.max(B.documentElement["client"+a],B.body["scroll"+a],B.documentElement["scroll"+a],B.body["offset"+a],B.documentElement["offset"+a]);return b}function q(a){var b=Math.max(B.body["scroll"+a],B.body["offset"+a]);return b}function r(){var a=0,b=setInterval(function(){if(50>a&&"complete"!=B.readyState){var c=o();c.width>1&&c.height>1&&(clearInterval(b),l(c.width,c.height)),a++}else clearInterval(b)},100)}function s(){E?(G=0,t()):u()}function t(){var b=o();(b.width<=1||b.height<=1)&&H>G?(G+=k,v.log("#"+a.id+" recheck content size"),setTimeout(t,k)):u()}function u(){v.log("#"+a.id+" loaded"),m()}var v=c.logger,w=c.config,x="<script>var inFIF=inDapIF=true;</script>";w.fif.disableFriendlyFlag&&(x="");var y='<script id="adscript" src="'+w.adcallUrl+'"></script>';c.adLoadScript&&(y=c.adLoadScript);var z="<style>body {margin:0;padding:0;overflow:hidden;} html {margin:0;padding:0;} ";z+=c.config.fif.contentStyle,z+="</style>";var A="<!DOCTYPE html><html><head>"+z+"</head><body>"+x+'<div id="afd">'+y+"</div></body></html>",B=a.contentDocument||a.contentWindow.document,C=w.fif.width,D=w.fif.height,E=1>=C||1>=D,F=!1,G=0,H=c.config.fif.onloadResizeCheckTimeLimit;B.open("text/html","replace"),B.write(A),g(B.getElementById("adscript")),e()?setTimeout(function(){B.close()},500):B.close();var I=B.getElementById("afd");"complete"==B.readyState?E?s():(l(C,D),i()):(B.addEventListener?a.contentWindow.addEventListener("load",s,!1):B.body.onload=s,E&&!w.fif.disableLoadingResize&&r())}function e(){return!!c.opera||j.isOldIEMode()}function f(){var a=j.getIEVersion();return a&&(9>a||c.document.documentMode&&c.document.documentMode<9)?!1:!0}function g(a){var b=c.document.createElement("iframe"),e=a.config,f=e.placement+"_frame";f=e.alias?e.alias+"_frame":e.placement?e.placement+"_frame":e.adContainerId?e.adContainerId+"_frame":"rnd_frame"+i.rnd(1e6),b.seamless="seamless",b.id=f,b.name=f,b.style.border="0px",b.scrolling="no",b.frameBorder=0,b.width=1,b.height=1,b.allowtransparency=!0,b.setAttribute("allowFullScreen","true"),b.setAttribute("mozallowFullScreen","true"),b.setAttribute("webkitAllowFullScreen","true"),b.src="about:blank",e.adContainer.appendChild(b),a.logger.log(h,"setupFif","#"+f+" created"),d(b,a)}var h="FifRenderer",i=a.Utils,j=a.Environment,k=50;a[h]={setupFif:g}}function k(a,b,c){function d(a,b,c,d){c[a]=!!d[a+b]}function e(a,b,c,d){d[a+b]&&(c[a]=d[a+b])}function f(a,b){var f;if(c.Adtech!==s){var g=c.Adtech;f={network:g["networkSubnetwork"+a],protocol:g["protocol"+a],server:g["adURLHostName"+a],alias:g["placementAlias"+a],kv:g["KV"+a],fif:g["fif"+a],params:{}},d("performScreenDetection",a,f,g),d("performTimezoneDetection",a,f,g),d("performFlashDetection",a,f,g),d("performRichMediaDetection",a,f,g),d("performGeoDetection",a,f,g),d("syncIfPossible",a,f,g),d("legacyDACLoadType",a,f,g),e("loc",a,f.params,g),e("grp",a,f.params,g),b.logObject(t,"AdtechConfig",f)}return f}function g(a,b,c,d,e){if(v(a)){var f=c&&a[c]?c:b;d.log(t,"getPlacementConfig","Placement look up for level "+e+" done using "+(f===c?"alias: "+c:"placement id: "+b));var g=a[f];return g||(g=r(a,b,c,d)),g&&d.logObject(t,"getPlacementConfig",g),g}return s}function h(a){return v(a)?a.important:s}function i(b,c,d,e,f){var g=e||{},h={ajax:!0},j=!0,k=f!==s?f:!0;a.Utils.eachKey(c,function(a,e){"important"===a||k&&g[a]||k===!1&&!g[a]||(h[a]===!0&&(j=!1),d||"params"!==a||e.alias===s||c.alias!==s||(b.alias=e.alias),v(b[a])&&v(e)&&!d?i(b[a],e,j):b[a]===s&&v(e)&&!d?(b[a]={},i(b[a],e,j)):null===e?delete b[a]:e!==s&&(b[a]=e))})}function j(b){var c=b.logger,d=b.config,e=d.placement,f=d.alias;if(!a.Utils.isNumber(e)&&!a.Utils.isString(f))throw t+": Invalid ad identifier";c.log(t,"buildConfiguration","Resolving configuration for alias: "+f+" and placement: "+e);var g,h={},j=l(d,c),n="",o=m(j);for(o.urlTargeting&&o.urlTargeting.doTargeting===!0&&(j[w]={config:{kv:a.URLTargeting.extractURLConfig(b,o.urlTargeting)}}),g=0;g<j.length;g++)j[g]&&v(j[g].config)&&(n+=" "+g,j[g].resolvedConfig=p(j[g].config,c),i(h,j[g].resolvedConfig,!1,j[g].ignore));var q=h.responsive;if(q&&q.bounds&&q.bounds.length>0&&q.useresponsive!==!1)for(var r=0;r<q.bounds.length;r++)k(q.bounds[r],j);return c.log(t,"buildConfiguration","Found configuration at priorities"+n),h}function k(a,b){var c={};b[95]={resolvedConfig:a},b[205]={resolvedConfig:a.important};for(var d=0;d<b.length;d++)b[d]&&v(b[d].resolvedConfig)&&i(c,b[d].resolvedConfig,!1);u.copyObject(a,c,["kv","params","adContainerId"])}function l(a,c){var d=[],e=b.config,i=a.placement,j=a.alias,k={enableMultiAd:!0,responsiveCheckTimeout:!0};return d[10]={config:e.network},d[20]={config:e.website},d[30]={config:e.page},d[40]={config:g(e.placements,i,j,c,40),ignore:k},d[50]={config:e.networkdyn},d[60]={config:e.websitedyn},d[70]={config:e.pagedyn},d[80]={config:f(a.placement,c)},d[90]={config:g(e.placementsdyn,i,j,c,90),ignore:k},d[110]={config:h(e.network)},d[120]={config:h(e.website)},d[130]={config:h(e.page)},d[140]={config:n(d[40].config,i,j,c,140),ignore:k},d[150]={config:h(e.networkdyn)},d[160]={config:h(e.websitedyn)},d[170]={config:h(e.pagedyn)},d[180]={config:n(d[90].config,i,j,c,180),ignore:k},d[200]={config:a,ignore:k},d}function m(a){for(var b={},c=0;c<a.length;c++)a[c]&&v(a[c].config)&&i(b,a[c].config,!1,{urlTargeting:!0},!1);return b}function n(a,b,c,d,e){return d.log(t,"getPlacementImportantConfig","Placement look up for level "+e+" done using alias: "+c+", placement id: "+b),h(a)}function o(a){return!!b.config.placements&&!!b.config.placements[a]||!!b.config.placementsdyn&&!!b.config.placementsdyn[a]}function p(a,b){if(!a.dynamicBind)return a;var c=u.cloneObject(a);return b.logObject(t,"resolveDynamicBindings",a.dynamicBind),q(c,a.dynamicBind,b),delete c.dynamicBind,c}function q(a,b,c,d){u.eachKey(b,function(b,e){if(v(e))u.isArray(a)&&(b=a.length,"bounds"==d&&void 0!==e.index&&(b=e.index,delete e.index)),a[b]||(a[b]=u.isArray(e)?[]:{}),q(a[b],e,c,b);else{var f=u.resolveHostPageVariable(e);void 0!==f?a[b]=f:c&&c.log(t,"resolveDynamicBindingsValues","Could not find a value for "+e)}})}function r(a,b,c,d){var e,f=b?"placement":"alias",g=b?b:c;return u.eachKey(a,function(a,b){var c=b[f];!c&&"alias"===f&&b.params&&(c=b.params.alias),c===g&&(e=b)}),e&&d.logObject(t,"resolveLinkedIdConfig","Found config on a linked id placement id:"+b+", alias: "+c),e}var s,t="ConfigResolver",u=a.Utils,v=u.isObject,w=25;a[t]={buildConfiguration:j,isPlacementConfigDefined:o}}function l(a,b,c){function d(a,b){return z(a)&&""!==a?a:b}function e(a,b){return A(a)?a:b}function f(a){return a?"https":"http"}function g(a,b){var g,k={};if(!A(a.placement)&&!z(a.alias))throw"config.placement must be a Number or the config.alias has to be a string";if(y.each(["network"],function(b){if(!z(a[b]))throw v+"#process config."+b+" must be a String"}),k.placement=a.placement,k.alias=a.alias,k.network=a.network,k.server=d(a.server,D),k.protocol=d(a.protocol,f(a.secure===!0)),k.pageid=e(a.pageid,0),k.sizeid=e(a.sizeid,-1),k.normaltarget=d(a.normaltarget,"ADTECH"),k.serviceType=d(a.serviceType,"addyn"),k.serviceVersion=d(a.serviceVersion,"3.0"),k.gtsTime=a.gtsTime,k.metaInfo={configBuildCounter:1},g=a.placement?a.placement:a.alias,k.adContainerId=d(a.adContainerId,g.toString()),k.adContainerPrefix=d(a.adContainerPrefix,""),k.adContainerId!=a.placement||!a.alias&&!a.adContainerPrefix||y.findAdContainer(k)?k.adContainerId==a.alias&&a.adContainerPrefix&&!y.findAdContainer(k)&&(k.adContainerId=k.adContainerPrefix+""+a.alias):(k.adContainerId=a.alias,y.findAdContainer(k)||(k.adContainerId=k.adContainerPrefix+""+a.placement)),j(k,a,"enableMultiAd",!1),i(k,a,"responsiveCheckTimeout",w),B(a.fif)?(k.fif={usefif:a.fif.usefif!==!1,width:e(a.fif.width,0),height:e(a.fif.height,0)},h(k.fif,a.fif,"disableFriendlyFlag"),h(k.fif,a.fif,"disableLoadingResize"),i(k.fif,a.fif,"shareWithAddOns",!0),k.fif.contentStyle=y.isString(a.fif.contentStyle)?a.fif.contentStyle:"",k.fif.preResize=y.isFunc(a.fif.preResize)?a.fif.preResize:C,k.fif.onloadResizeCheckTimeLimit=A(a.fif.onloadResizeCheckTimeLimit)&&a.fif.onloadResizeCheckTimeLimit>0?a.fif.onloadResizeCheckTimeLimit:x):k.fif={usefif:!1,width:0,height:0,disableFriendlyFlag:!1,disableLoadingResize:!1},k.complete=y.isFunc(a.complete)?a.complete:C,k.error=y.isFunc(a.error)?a.error:C,k.preLoad=y.isFunc(a.preLoad)?a.preLoad:C,k.params={},B(a.params)&&y.eachKey(a.params,function(b){z(a.params[b])&&a.params[b].length>0&&(k.params[b]=a.params[b])}),k.alias&&(k.params.alias=k.alias),B(a.kv)&&l(k,a),y.isObject(a.responsive)?(k.responsive={useresponsive:a.responsive.useresponsive!==!1,allowGaps:a.responsive.allowGaps===!0,bounds:[]},y.isArray(a.responsive.bounds)&&y.each(a.responsive.bounds,function(a){if(a.id&&A(a.min)&&A(a.max)&&a.min<=a.max){var b=y.cloneObject(a);k.responsive.bounds.push(b),b.params||(b.params={}),B(b.kv)&&(l(b,b),delete b.kv)}}),0===k.responsive.bounds.length&&(k.responsive.useresponsive=!1)):k.responsive={useresponsive:!1,bounds:[]},"pubapi"===k.serviceType){if(k.params.callback||k.params.cors&&"yes"===k.params.cors||(k.params.callback="ADTECH.pubApiHandler"),"yes"===k.params.cors&&(B(a.ajax)||(a.ajax={}),y.isFunc(a.complete)||(k.complete=ADTECH.pubApiHandler)),!y.isObject(a.pubApiConfig))throw"pubApiConfig#is missing in configuration.";a.pubApiConfig.pubApiER&&!y.isFunc(a.error)&&(k.error=a.pubApiConfig.pubApiER),k.pubApiConfig=a.pubApiConfig,k.pubApiConfig.protocol=k.protocol}return B(a.ajax)?(k.ajax={useajax:a.ajax.useajax!==!1},k.ajax.method=d(a.ajax.method,"GET"),k.ajax.headers=B(a.ajax.headers)?a.ajax.headers:{},k.ajax.xhr=B(a.ajax.xhr)?a.ajax.xhr:{},k.ajax.dataType=d(a.ajax.dataType,"json"),j(k.ajax.xhr,k.ajax.xhr,"withCredentials",!0)):k.ajax={useajax:!1,headers:{},xhr:{}},h(k,a,"syncIfPossible"),h(k,a,"legacyDACLoadType"),h(k,a,"performGeoDetection"),j(k,a,"performScreenDetection",!0),h(k,a,"performTimezoneDetection"),h(k,a,"performFlashDetection"),h(k,a,"performRichMediaDetection"),h(k,a,"resetGroupId"),k.params.grp=k.params.grp||c.adgroupid,y.each(k.responsive.bounds,function(a){a.params.grp&&!a.hasCustomGrp&&(a.hasCustomGrp=!0),a.params.grp=a.params.grp||c.adgroupid}),m(k),b.logObject(v,"finalConfig",k),k}function h(a,b,c){a[c]=b[c]===!0}function i(a,b,c,d){a[c]=void 0!==b[c]?b[c]:d}function j(a,b,c,d){a[c]=y.isBoolean(b[c])?b[c]:d}function k(a){return a=a||{},a.multiAd=a.multiAd||{},a.multiAd.skipDefault=a.multiAd.skipDefault||!1,a.multiAd.disableAdInjection=a.multiAd.disableAdInjection||!1,i(a.multiAd,a.multiAd,"autoInjectShownResponsive",!0),a}function l(a,b){y.eachKey(b.kv,function(b,c){var d=[];y.isArray(c)?(y.each(c,function(a){(z(a)||A(a))&&d.push(a.toString())}),a.params["kv"+b]=d.join(":")):z(c)&&c.length>0?a.params["kv"+b]=c.toString():A(c)&&(a.params["kv"+b]=c.toString())})}function m(a){var b=o(a);b&&(a.metaInfo.configBuildCounter=b.metaInfo.configBuildCounter+1),a.placement&&(E[a.placement]=a),a.alias&&(E[a.alias]=a),a.responsive.useresponsive&&y.each(a.responsive.bounds,function(b){E[b.id]=a})}function n(a,b){var c,d=o(a);return d&&(c=y.resolveObjectProperty(b,d)),c}function o(a){var b,c,d;return y.isObject(a)?(b=a.placement,c=a.alias):d=E[a],!d&&b&&(d=E[b]),!d&&c&&(d=E[c]),d}function p(a){var b=!1;return y.eachKey(E,function(c,d){return b?void 0:d.params.grp===a?void(b=!0):void(d.responsive.useresponsive&&y.each(d.responsive.bounds,function(c){b||c.hasCustomGrp&&c.params.grp===a&&(b=!0)}))}),b}function q(){for(var a,b=!1;!b;)a=y.rnd(1e3),a===c.adgroupid||p(a)||(c.adgroupid=a,b=!0)}function r(){y.eachKey(E,function(a,b){b.resetGroupId&&b.params.grp!==c.adgroupid&&(b.params.grp=c.adgroupid),y.each(b.responsive.bounds,function(a){!a.hasCustomGrp&&b.resetGroupId&&a.params.grp!==c.adgroupid&&(a.params.grp=c.adgroupid)})})}function s(){y.eachKey(E,function(a,b){b.resetGroupId&&b.params.grp===c.adgroupid&&q()}),r()}function t(){s()}function u(a){a.resetGroupId&&1!==o(a).metaInfo.configBuildCounter&&a.params.grp===c.adgroupid&&t()}var v="ConfigFinalizer",w=150,x=500,y=a.Utils,z=y.isString,A=y.isNumber,B=y.isObject,C=function(){},D="adserver.adtech.de",E={};a[v]={process:g,processQueueConfig:k,getFinalConfig:o,getFinalConfigProperty:n,defaultFunc:C,validatePageConfig:t,validatePlacementConfig:u}}function m(a){function b(a,b,f){var g;return b===n&&f===n?g=c(a):p.isString(a)&&p.isString(b)?g=d(a,b,f):e(),g}function c(a){var b={legacyApi:!1};if(p.isNumber(a))b.config=f(a);else if(p.isString(a))b.config=g(a);else if(p.isObject(a)){if(b.config=m(a),l(b.config),!b.config.placement&&!b.config.alias)throw o+"#handleNewApi no placement id or alias found"}else e();return b}function d(a,b,c){var d={legacyApi:!0};return p.isObject(c)?d.config=h(a,b,c):c===n?d.config=h(a,b,{}):e(),d}function e(){throw o+"#handleParameters Invalid parameters combination"}function f(a){return{placement:a}}function g(a){if(!a)throw o+"#handleAliasString empty alias not allowed";return{alias:a}}function h(a,b,c){var d={};return i(a,b,d),c.fif?(d.fif={},d.fif.usefif=!0,d.fif.width=k(c.width,0),d.fif.height=k(c.height,0),d.fif.preResize=p.isFunc(c.preResize)?c.preResize:function(){}):d.fif={usefif:!1,width:0,height:0},d.ajax={useajax:!1},d.complete=j(c.complete),d.preLoad=p.isFunc(c.preLoad)?c.preLoad:function(){},d.debugMode=!!c.debugMode,d}function i(a,b,c){c.adContainerId=a,c.adcallUrl=b}function j(a){return p.isFunc(a)?a:n}function k(a,b){return p.isNumber(a)?a:b}function l(a){!a.adContainerId&&a.injectElementId&&(a.adContainerId=a.injectElementId),!a.alias&&a.params&&a.params.alias&&(a.alias=a.params.alias)}function m(a){var b=a;return a.placement&&!p.isNumber(a.placement)&&(b={},p.copyObject(b,a,["placement"],!0)),b}var n,o="LoadAdParametersHandler",p=a.Utils;a[o]={handleParameters:b}}function n(a,b,c){function d(a){if(a.performScreenDetection){c.screen&&c.screen.width&&c.screen.height&&(a.params.screenheight=c.screen.height.toString(),a.params.screenwidth=c.screen.width.toString(),c.devicePixelRatio&&(a.params.screendensity=c.devicePixelRatio.toString()),r.copyMissingProperty(a.params,a.params,t,w),r.copyMissingProperty(a.params,a.params,u,x),r.copyMissingProperty(a.params,a.params,v,y));var b={width:r.getViewportWidth().toString(),height:r.getViewportHeight().toString()};r.copyMissingProperty(b,a.params,"width",z),r.copyMissingProperty(b,a.params,"height",A),o(a,B)}}function e(a){if(a.performTimezoneDetection){var b=-(new Date).getTimezoneOffset();b>0&&(b="+"+b),a.params.aduho=encodeURIComponent(b),o(a,["aduho"])}}function f(){return!(c.navigator.mimeTypes!==p&&c.navigator.mimeTypes[s]!==p&&!navigator.mimeTypes[s].enabledPlugin)}function g(a){if(a.performFlashDetection){var b,d,e;if(c.navigator.plugins!==p&&c.navigator.plugins["Shockwave Flash"]!==p){var g=c.navigator.plugins["Shockwave Flash"].description;g&&f()&&(g=g.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),b=parseInt(g.replace(/^(.*)\..*$/,"$1"),10),d=parseInt(g.replace(/^.*\.(.*)\s.*$/,"$1"),10),e=/[a-zA-Z]/.test(g)?parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0)}else if(c.ActiveXObject!==p)try{var h=new c.ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(h){var i=h.GetVariable("$version");i&&(i=i.split(" ")[1].split(","),b=parseInt(i[0],10),d=parseInt(i[1],10),e=parseInt(i[2],10))}}catch(j){}b!==p&&(a.params.flashver=b+"."+d+"."+e,o(a,["flashver"]))
}}function h(a){if(c.mraid!==p){var b=c.mraid.getVersion();/1\.\d/.test(b)?a="3":/2\.\d/.test(b)&&(a="5")}return a}function i(a){var b=""!==a?":":"";return c.ormma!==p?a+b+"4":a}function j(a){if(a.performRichMediaDetection){var b="";b=h(b),b=i(b),""!==b&&(a.params.apifw=b,o(a,["apifw"]))}}function k(d){return function(e,f){function g(a){b.geoCoords=a.coords,e()}function h(a){d.logger.log(q,"myErr","GeoLocation failed: "+a.toString()),f()}c.navigator.geolocation.getCurrentPosition(a.Utils.createClosure(g,d.logger),a.Utils.createClosure(h,d.logger),{timeout:1e3})}}function l(c,d){var e=c.config;return a.Utils.createClosure(function(c){c&&b.geoCoords&&a.Utils.isNumber(b.geoCoords.latitude)&&a.Utils.isNumber(b.geoCoords.longitude)&&(e.params.lat=b.geoCoords.latitude.toString(),e.params["long"]=b.geoCoords.longitude.toString(),o(e,["lat","long"])),d()},c.logger)}function m(a){return!!(a.performGeoDetection&&c.navigator&&c.navigator.geolocation&&c.navigator.geolocation.getCurrentPosition)}function n(b,c){a.ResourceManager.schedule("geo",l(b,c),!1,k(b))}function o(a,b){a.responsive&&a.responsive.useresponsive&&r.each(a.responsive.bounds,function(c){r.each(b,function(b){r.copyMissingProperty(a.params,c.params,b,b)})})}var p,q="Detections",r=a.Utils,s="application/x-shockwave-flash",t="screenheight",u="screenwidth",v="screendensity",w="kvscreenheight",x="kvscreenwidth",y="kvscreendensity",z="kvviewportwidth",A="kvviewportheight",B=[t,u,v,w,x,y,z,A];return a[q]={detectScreenSize:d,detectUTCOffset:e,detectFlashVersion:g,detectRichMediaSupport:j,detectGeoLocation:n,isGeo:m},a[q]}function o(a,b,c){function d(d,e){var f;return f=new z(a,b,c,d),f.allowGrouping=e,b.adqueues=b.adqueues||{},b.adqueues[d]=f,b.adQueuesIdList=b.adQueuesIdList||[],b.currentAdQueue=f,b.adQueuesIdList.push(d),f}function e(a){var c=b.currentAdQueue||d(a.queueId||q.rnd(1e5).toString(),a.config.enableMultiAd);c.addRequest(a),a.queueId=c.id}function f(a){var c=b.currentAdQueue,d=c.id;if(!q.isObject(c))throw new Error(p+"#execute No AdQueue to execute was found");return b.currentAdQueue=void 0,c.allowGrouping?r.loadScript(r.buildPluginUrl(r.MULTI_AD_PLUGIN_NAME),r.MULTI_AD_PLUGIN_NAME,!1,function(b){if(!b)throw new Error(p+"#execute MultiAd plugin failed to load");c=h(c),g(c,a)},null):g(c,a),d}function g(b,c){b.executeConfig=c,a.ResponsiveAdManager.registerQueue(b),b.allowGrouping?(l(b,c.multiAd),a.MultiAdManager.load(b,[])):b.start()}function h(d){var e=new a.pluginClasses.MultiAdGroupQueue(a,b,c,d.id);return b.adqueues[d.id]=e,a.Utils.each(d.storage,function(a){e.addRequest(a,d.requests[a.id])}),e}function i(b,c){k(b,function(){try{b.disableAdInjection?c.advance():a.BannerInjector.doAsync(b)}catch(d){b.logger.log(p,"processAdRequest","Exception caught: "+d),c.advance()}})}function j(b,c,d){b.logger.log(p,"processMultiAdRequest","Start processing group from queue:"+c+" with index "+d),k(b,function(){a.MultiAdManager.loadGroup(b,c,d)})}function k(b,c){var d=b.config;a.BannerInjector.performSyncDetections(d),a.Detections.isGeo(d)?a.Detections.detectGeoLocation(b,function(){c()}):c()}function l(a,b){for(var c=b?b.skipDefault:!1,d=0;d<a.storage.length;d++){var e=a.storage[d];a.requests[e.id].multiAdSkipDefault=c}}function m(a,c){return c?b.adqueues[c].requests[a]:void 0}function n(a){if(0!==b.adQueuesIdList.length)for(var c=b.adQueuesIdList.length-1;c>=0;c--){var d=b.adQueuesIdList[c],e=b.adqueues[d],f=e.requests[a];if(f)return d}}function o(b,c){b.allowGrouping?(0===b.virtualSubGroupCounter&&(b.virtualSubGroupCounter=b.groupList.length),a.MultiAdManager.load(b,c)):(b.createVirtualSubQueue(c),b.start())}var p="AdQueue",q=a.Utils,r=a.ResourceLoader;a[p]={enqueue:e,execute:f,processAdRequest:i,processMultiAdRequest:j,getRequest:m,getRequestQueue:n,reloadQueue:o,promoteQueueToMultiAdQueue:h}}function p(a,b,c){function d(){var a=[];if(p.querySelectorAll)return p.querySelectorAll("["+r+"]");for(var b=p.getElementsByTagName("*"),c=0;c<b.length;c++){var d=b[c];d.getAttribute(r)&&a.push(d)}return a}function e(){var a;q||(q=!0,a=d(),a.length>0?(l(a),ADTECH.executeQueue()):s.logger.log(o,"domContentLoaded","No elements with attribute data-adtech found"))}function f(){return"complete"===p.readyState?setTimeout(e,1):void(p.addEventListener?(p.addEventListener("DOMContentLoaded",e,!1),c.addEventListener("load",e,!1)):p.attachEvent&&(p.attachEvent("onreadystatechange",e),c.attachEvent("onload",e)))}function g(a,b){for(var c,d=0;d<b.length;d++)if(c=new RegExp(b[d].urlPattern,"ig"),a.match(c))return s.logger.logObject(o,"getPageMap",b[d].attributesMapping),b[d].attributesMapping;return s.logger.log(o,"getPageMap","No attributes map found"),null}function h(){return a.Utils.rnd(1e7)}function i(a){var b=a.getAttribute("id");return b||(b="adtech"+h(),a.setAttribute("id",b)),b}function j(b,c){var d,e,f=i(b),g=c;d=a.Utils.isStringANumber(c),d&&(g=parseInt(c,10)),e=d?{placement:g,adContainerId:f}:{alias:c,adContainerId:f},s.logger.logObject(o,"processNodeWithAdTechAttribute",e);var h=window.ADTECH.config.network&&"undefined"!=typeof window.ADTECH.config.network.enableMultiAd;h||(window.ADTECH.config.network=window.ADTECH.config.network||{},window.ADTECH.config.network.enableMultiAd=!0),window.ADTECH.enqueueAd(e),h||delete window.ADTECH.config.network.enableMultiAd}function k(a){var b=a.getAttribute(r);j(a,b)}function l(a){var b=g(c.location.href,ADTECH.config.pageMap);if(b)m(a,b);else for(var d=0;d<a.length;d++)k(a[d])}function m(a,b){var c,d;for(c=0;c<a.length;c++)d=b[a[c].getAttribute(r)],d!==!1&&(d?j(a[c],d):k(a[c]))}function n(){c.ADTECH.autoLoad&&!c.ADTECH.domScanDone&&(c.ADTECH.domScanDone=!0,f())}var o="DomScanning",p=document,q=!1,r="data-adtech";c.ADTECH.autoLoad=c.ADTECH.autoLoad||!1,c.ADTECH.domScanDone=c.ADTECH.domScanDone||!1,c.ADTECH.config.pageMap=c.ADTECH.config.pageMap||[];var s=new y(A,b,c);return a[o]={doDomScan:n},a[o]}function q(a){if(a.pubApiConfig)try{var b=A.ResourceLoader;b.loadScript(b.buildPluginUrl(b.PUB_API_PLUGIN_NAME),b.PUB_API_PLUGIN_NAME,!1,function(b){if(!b)throw new Error("Core#registerPubApiConfig PubApi plugin failed to load.");A.PubApi.setConfig(a.pubApiConfig)},null)}catch(c){if(w.debugMode)throw c}}function r(a){A.BannerInjector.doAsync(a)}function s(a){t(a);var b=a.config;A.ResponsiveAdManager.register(a),A.BannerInjector.performSyncDetections(b),A.ConfigFinalizer.validatePlacementConfig(b),q(b),I.isGeo(b)?(H.createAdContainer(a),I.detectGeoLocation(a,function(){A.BannerInjector.doAsync(a)})):b.syncIfPossible&&A.ResourceManager.isSync(a.config.legacyDACLoadType,A.Environment.getIEVersion())?A.BannerInjector.doSync(a):(H.createAdContainer(a),A.BannerInjector.doAsync(a))}function t(a){var b=A.ConfigResolver.buildConfiguration(a);a.config=A.ConfigFinalizer.process(b,a.logger)}function u(a,b,c){var d,e=w.adqueues[b];if(e){var f=e.requests[a];d=f?f.context.logger:void 0}if(w.debugMode||d&&d.isEnabled())throw c}var v=window,w=v.ADTECH;if(!w.loadAd||w.allowDACRedefine){w.visibilityCallback=w.visibilityCallback||function(a){a&&"GUARANTEED_VIEW_TIME_REACHED"==a.eventType&&w.reloadAd(a)};var x=function(a,b,c){this.enabled=!!b.debugMode,this.output=c.console,this.modules=a,this.global=b,this.win=c};x.prototype.debug=function(a){this.enabled&&this.output&&this.output.log(a)},x.prototype.setEnabled=function(a){this.enabled=!!a||this.global.debugMode},x.prototype.isEnabled=function(){return this.enabled},x.prototype.logObject=function(a,b,c){var d=a+":"+b+" ";this.modules.Utils.isObject(v.JSON)?d+=v.JSON.stringify(c):(d+="{ ",this.modules.Utils.eachKey(c,function(a,b){d+=a+":"+b+" "}),d+="}"),this.debug(d)},x.prototype.log=function(a,b,c){this.debug(void 0===b&&void 0===c?a:a+"#"+b+" "+c)};var y=function(a,b,c){this.modules=a,this.global=b,this.win=c,this.logger=new x(a,b,c)};y.prototype.setConfig=function(a){this.config=a,this.id=a.alias?a.alias:a.placement},y.prototype.hasResponsiveConfig=function(){return this.config.responsive.useresponsive},y.prototype.getConfigParams=function(){return this.responsiveId?this.config.responsive.bounds[this.currentBoundIndex].params:this.config.params},y.prototype.getConfigIds=function(){var a={};return this.config.placement&&(a.placement=this.config.placement),this.config.alias&&(a.alias=this.config.alias),this.responsiveId&&(a.activeResponsiveBound=this.responsiveId),a.configId=this.id,a};var z=function(a,b,c,d){this.storage=[],this.requests={},this.allowGrouping=!1,this.doAutoAdInjection=!0,this.namespace=a,this.global=b,this.win=c,this.curPointer=-1,this.id=d,this.responsiveIndexes=[],this.virtualSubQueueIndexes=[],this.running=!1};z.prototype.advance=function(){var a=this.getNextRequest();this.namespace.Utils.isObject(a)?a.disableAdInjection?this.advance():this.namespace.AdQueue.processAdRequest(a,this):this.close()},z.prototype.start=function(){this.curPointer=-1,this.running=!0,this.advance()},z.prototype.close=function(){this.running=!1,this.virtualSubQueueIndexes=[]},z.prototype.inVirtualMode=function(){return this.virtualSubQueueIndexes.length>0},z.prototype.getNextRequest=function(){var a;if(this.curPointer+=1,this.inVirtualMode()){var b=this.virtualSubQueueIndexes[this.curPointer];a=this.storage[b]}else a=this.storage[this.curPointer];return a},z.prototype.addRequest=function(a){this.storage.push(a)},z.prototype.getResponsiveRequests=function(){var a=[],b=this;return this.namespace.Utils.each(this.responsiveIndexes,function(c){a.push(b.storage[c])}),a},z.prototype.createVirtualSubQueue=function(a){var b=this;this.virtualSubQueueIndexes=[],this.namespace.Utils.each(a,function(a){b.namespace.Utils.each(b.storage,function(c,d){c.id===a&&b.virtualSubQueueIndexes.push(d)})})};var A={pluginClasses:{}},B=w.dacAsyncLoad?"loadAdImpl":"loadAd",C=w.dacAsyncLoad?"reloadAdImpl":"reloadAd",D=w.dacAsyncLoad?"enqueueAdImpl":"enqueueAd",E=w.dacAsyncLoad?"executeQueueImpl":"executeQueue",F=w.dacAsyncLoad?"removeQueueImpl":"removeQueue",G=w.dacAsyncLoad?"showAdImpl":"showAd";a(A,w,v),g(A,w,v);var H=b(A,w,v);c(A,w,v),k(A,w,v),l(A,w,v),e(A,w,v);var I=n(A,w,v);d(A,w,v),h(A,w,v),f(A,w,v),i(A),m(A,w),j(A,w,v),o(A,w,v),p(A,w,v);void 0===v.adgroupid&&(v.adgroupid=H.rnd(1e3)),w.dacRequestAd=function(a,b){v.Adtech=v.Adtech||{};var c=parseInt(a,10),d=v.Adtech;H.isString(b)?d["KV"+a]=H.stringToObject(b):H.isObject(b)&&(d["KV"+a]=b),d["fif"+a]=d["fif"+a]||{},d["syncIfPossible"+a]=d["syncIfPossible"+a]||!0,d["legacyDACLoadType"+a]=!0,w.loadAd({placement:c})},w.pubApiHandler=function(a,b){try{var c=A.ResourceLoader;c.loadScript(c.buildPluginUrl(c.PUB_API_PLUGIN_NAME),c.PUB_API_PLUGIN_NAME,!1,function(c){if(!c)throw new Error("Core#pubApiHandler PubApi plugin failed to load.");A.PubApi.handleResponse(a,b)},null)}catch(d){if(w.debugMode)throw d}},w[B]=function(a,b,c){var d=w.debugMode;try{var e=new y(A,w,v),f=A.LoadAdParametersHandler.handleParameters(a,b,c);e.logger.setEnabled(f.config.debugMode),d=d||f.config.debugMode,e.setConfig(f.config),f.legacyApi?r(e):s(e)}catch(g){if(d)throw g}},w[C]=function(a){var b=w.debugMode;try{var c=new y(A,w,v),d=A.ConfigFinalizer.getFinalConfig(A.LoadAdParametersHandler.handleParameters(a).config);if(!d)throw new Error("Configuration missing, the request was not loaded previously.");c.logger.setEnabled(d.debugMode),b=b||d.debugMode,c.setConfig(d),delete d.adcallUrl;var e=A.ResponsiveAdManager.shouldRefresh(c);!e&&c.config.responsive.allowGaps&&(c.disableAdInjection=!0),A.BannerInjector.doAsync(c)}catch(f){if(b)throw f}},w.queueCallback=function(a){try{H.isObject(w.adqueues[a])&&w.adqueues[a].advance()}catch(b){if(w.debugMode)throw b}},w.registerPlugin=function(a){a({modules:A,coreClasses:{Queue:z,Logger:x,RequestContext:y}})},w[D]=function(a,b){var c=w.debugMode;try{var d=new y(A,w,v),e=A.LoadAdParametersHandler.handleParameters(a);d.logger.setEnabled(e.config.debugMode),c=c||e.config.debugMode,d.setConfig(e.config),t(d),b&&H.isString(b)&&(d.queueId=b),A.AdQueue.enqueue(d)}catch(f){if(c)throw f}},w[E]=function(a){try{return A.AdQueue.execute(A.ConfigFinalizer.processQueueConfig(a))}catch(b){if(w.debugMode)throw b}},w[F]=function(a){var b=!1;if(!w.adqueues[a])return b;try{var c=A.ResponsiveAdManager.getResponsiveQueuesRegistry();delete c[a],delete w.adqueues[a];var d=w.adQueuesIdList.indexOf(a);w.adQueuesIdList.splice(d,1),b=!0}catch(e){if(b=!1,w.debugMode)throw e}return b},w[G]=function(a,b){try{var c=A.ResourceLoader;c.loadScript(c.buildPluginUrl(c.MULTI_AD_PLUGIN_NAME),c.MULTI_AD_PLUGIN_NAME,!1,function(c){if(!c)throw new Error("Core#execute MultiAd plugin failed to load");A.MultiAdManager.showAd(a,b)},null)}catch(d){u(a,b,d)}},w.writeAd=function(a,b,c,d){try{A.MultiAdManager.writeAd(a,b,c,d)}catch(e){u(a,d,e)}},w.getFinalConfigProperty=function(a,b){return A.ConfigFinalizer.getFinalConfigProperty(a,b)},w.doDomScan=function(){A.DomScanning.doDomScan()},v.ADTECH.autoLoad&&v.ADTECH.doDomScan()}}(),function(){"use strict";var a=window,b=a.DAC;if(!b.requestAd||b.allowDACRedefine){var c=b.asyncLoad?"requestAdImpl":"requestAd";b[c]=function(b,c){a.ADTECH.dacRequestAd(b,c)}}}()}catch(e){if(window.ADTECH.debugMode)throw e}