PULSE.app.templates.audiodescriptioncta='<span class="label" alt="">{{ audioDesc-label }}</span> <span class="desc">{{ audioDesc-text }}</span> <span class="icon" alt=""></span>',PULSE.app.templates.disableaudiodescriptioncta='<span class="label" alt="">{{ audioDesc-label }}</span> <span class="desc">{{ disAudioDesc-text }}</span> <span class="icon" alt=""></span>',function(e,t){var a=function(){o=[],this.scriptSource="//players.brightcove.net/{{account}}/{{playerId}}_default/index.min.js",this.createScripts()},i={},o=[];a.prototype.getPlayer=function(){if(o[0])return this.players[o[0]]},a.prototype.getPlayersMap=function(){return i},a.prototype.getPlayerNameArray=function(){return o},a.prototype.getPlayerWithName=function(e,t){var a=o.filter(function(t){return t===e});return a.length>0?i[a[0]]:!(!t||!i[0])&&i[0]},a.prototype.createPlayers=function(t){videojs(this.getAttribute("data-player")).ready(function(){var t=new Event("videoReady"+this.id_);i[this.id_]=new e.brightCoveVideo(this.el_.parentElement,this),o.push(this.id_),window.dispatchEvent(t)})},a.prototype.createScripts=function(){var e=this,a=[],i=document.querySelectorAll("video");Array.prototype.map.call(i,function(i,o,d){var n={account:i.getAttribute("data-account"),playerId:i.getAttribute("data-player"),vttId:i.getAttribute("data-webVTT-id"),elementId:i.getAttribute("id")},r=t.common.formatString(e.scriptSource,n);if(a.indexOf(r)===-1){var s=document.createElement("script");s.setAttribute("data-player",n.elementId),document.getElementsByTagName("body")[0].appendChild(s),s.onload=e.createPlayers,s.src=r,a.push(r)}})},e.videoPlayerManager=new a,e.videoPlayerManager.onTemplateLoaded=function(t){var a=brightcove.api.getExperience(t),i=a.getModule(brightcove.api.modules.APIModules.VIDEO_PLAYER);e.videoPlayerManager.registerPlayerApi(t,a,i)},e.videoPlayerManager.onTemplateReady=function(e){}}(PULSE.app,PULSE.core),function(e,t,a){e.brightCoveVideo=function(e,t){var i=this;i.name=t.id_||"default_player",i.api=t,i.catalog=i.api.catalog,i.players=document.querySelectorAll('[data-widget="video-player"]'),i.model={"audioDesc-label":a.lookup("label.audiodescription"),"audioDesc-text":a.lookup("label.audiodescriptionavailable"),"disAudioDesc-text":a.lookup("label.disableaudiodescription")},i.idToPlayOnLoad=!1,i.ready=!1,i.element=e,i.metaElements=!1,i.attemptToFindMetaDivs(),i.hasWebVTT()},e.brightCoveVideo.prototype.attemptToFindMetaDivs=function(){var e=this;e.metaElements={title:e.element.querySelector(".videoTitle")||!1,description:e.element.querySelector(".videoDescription")||!1,date:e.element.querySelector(".videoDate")||!1}},e.brightCoveVideo.prototype.hasWebVTT=function(){var e=this;e.embeddedVTT=e.element.firstElementChild.getAttribute("data-webVTT-id"),e.embeddedId=e.element.firstElementChild.getAttribute("data-video-id"),e.embeddedVTT&&e.embeddedId&&e.attachCaptionToEmbeddedVideo()},e.brightCoveVideo.prototype.setMeta=function(e){var a=this,i=Object.keys(a.metaElements);if(i.map(function(t){var i=a.metaElements[t];i&&e[t]?i.innerHTML=e[t]:i&&"audioDesc"!==i.className&&(i.innerHTML="")}),e.contentId){var o=a.element.parentNode.getElementsByClassName("videoSocialShare")[0],d=window.location.hostname+"/video/single/"+e.contentId,n=new t.pageShare(o,d);n&&n.hoverElem&&(n.hoverElem.className+=" open")}},e.brightCoveVideo.prototype.setApiControllers=function(e,t){var a=this;a.player=e,a.api=t,a.ready=!0,a.idToPlayOnLoad&&(a.playVideoWithID(a.idToPlayOnLoad),a.api.pause(!1))},e.brightCoveVideo.prototype.playVideoWithID=function(e,t){var a=this;if(a.videoID&&t||(a.videoID=e),!a.embeddedVTT)for(var i=0;i<a.players.length;i++)a.players[i].style.display="";a.catalog.getVideo(e,function(e,t){a.catalog.load(t),a.api.play(),a.addCaptions()}),a.playVideo(e)},e.brightCoveVideo.prototype.addCaptions=function(t){var a=this;if(a.api.mediainfo.custom_fields&&a.api.mediainfo.custom_fields.web_vtt){a.metaElements.audioDesc=a.element.querySelector(".audioDesc")||!1;var i=a.metaElements.audioDesc;i?(i.innerHTML=Mustache.render(e.templates.audiodescriptioncta,a.model),a.setListeners(i)):i.innerHTML=""}},e.brightCoveVideo.prototype.attachCaptionToEmbeddedVideo=function(){var t=this;t.metaElements.audioDesc=t.element.querySelector(".audioDesc-"+t.embeddedVTT)||!1;var a=t.metaElements.audioDesc;a?(a.innerHTML=Mustache.render(e.templates.audiodescriptioncta,t.model),t.setListeners(a,!0)):a.innerHTML=""},e.brightCoveVideo.prototype.setListeners=function(t,a){var i=this;["keypress","click"].forEach(function(o){t.addEventListener(o,function(o){if(13===o.which||"click"===o.type){var d=i.api.mediainfo.custom_fields.web_vtt;d?(t.innerHTML=Mustache.render(e.templates.disableaudiodescriptioncta,i.model),i.playVideoWithID(d,!0)):(t.innerHTML=Mustache.render(e.templates.audiodescriptioncta,i.model),a?i.playVideoWithID(i.embeddedId):i.playVideoWithID(i.videoID))}})})},e.brightCoveVideo.prototype.stopVideo=function(){var e=this;e.api.pause()},e.brightCoveVideo.prototype.playVideo=function(e){};document.querySelectorAll('[data-widget="video-player"]')}(PULSE.app,PULSE.app.common,PULSE.I18N);