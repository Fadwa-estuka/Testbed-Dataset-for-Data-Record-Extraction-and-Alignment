/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/wwe_init/js/wwe-breakpoints.js. */
!(function($){'use strict';Drupal.behaviors.wweThemeBreakpoints={breakpoint:{},attach:function(context,settings){if(context===document){this.setValue();$(window).resize(function(){Drupal.behaviors.wweThemeBreakpoints.setValue()}).resize()}},setValue:function(){this.breakpoint.value=window.getComputedStyle(document.querySelector('body'),':before').getPropertyValue('content').replace(/\"|\'/g,'')}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/wwe_init/js/wwe-breakpoints.js. */

(function($){$.extend({tablesorter:new
function(){var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:'/\.|\,/g',onRenderHeader:null,selectorHeaders:'thead th',debug:false};function benchmark(s,d){log(s+","+(new Date().getTime()-d.getTime())+"ms");}this.benchmark=benchmark;function log(s){if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.log(s);}else{alert(s);}}function buildParserCache(table,$headers){if(table.config.debug){var parsersDebug="";}if(table.tBodies.length==0)return;var rows=table.tBodies[0].rows;if(rows[0]){var list=[],cells=rows[0].cells,l=cells.length;for(var i=0;i<l;i++){var p=false;if($.metadata&&($($headers[i]).metadata()&&$($headers[i]).metadata().sorter)){p=getParserById($($headers[i]).metadata().sorter);}else if((table.config.headers[i]&&table.config.headers[i].sorter)){p=getParserById(table.config.headers[i].sorter);}if(!p){p=detectParserForColumn(table,rows,-1,i);}if(table.config.debug){parsersDebug+="column:"+i+" parser:"+p.id+"\n";}list.push(p);}}if(table.config.debug){log(parsersDebug);}return list;};function detectParserForColumn(table,rows,rowIndex,cellIndex){var l=parsers.length,node=false,nodeValue=false,keepLooking=true;while(nodeValue==''&&keepLooking){rowIndex++;if(rows[rowIndex]){node=getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex);nodeValue=trimAndGetNodeText(table.config,node);if(table.config.debug){log('Checking if value was empty on row:'+rowIndex);}}else{keepLooking=false;}}for(var i=1;i<l;i++){if(parsers[i].is(nodeValue,table,node)){return parsers[i];}}return parsers[0];}function getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex){return rows[rowIndex].cells[cellIndex];}function trimAndGetNodeText(config,node){return $.trim(getElementText(config,node));}function getParserById(name){var l=parsers.length;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==name.toLowerCase()){return parsers[i];}}return false;}function buildCache(table){if(table.config.debug){var cacheTime=new Date();}var totalRows=(table.tBodies[0]&&table.tBodies[0].rows.length)||0,totalCells=(table.tBodies[0].rows[0]&&table.tBodies[0].rows[0].cells.length)||0,parsers=table.config.parsers,cache={row:[],normalized:[]};for(var i=0;i<totalRows;++i){var c=$(table.tBodies[0].rows[i]),cols=[];if(c.hasClass(table.config.cssChildRow)){cache.row[cache.row.length-1]=cache.row[cache.row.length-1].add(c);continue;}cache.row.push(c);for(var j=0;j<totalCells;++j){cols.push(parsers[j].format(getElementText(table.config,c[0].cells[j]),table,c[0].cells[j]));}cols.push(cache.normalized.length);cache.normalized.push(cols);cols=null;};if(table.config.debug){benchmark("Building cache for "+totalRows+" rows:",cacheTime);}return cache;};function getElementText(config,node){var text="";if(!node)return"";if(!config.supportsTextContent)config.supportsTextContent=node.textContent||false;if(config.textExtraction=="simple"){if(config.supportsTextContent){text=node.textContent;}else{if(node.childNodes[0]&&node.childNodes[0].hasChildNodes()){text=node.childNodes[0].innerHTML;}else{text=node.innerHTML;}}}else{if(typeof(config.textExtraction)=="function"){text=config.textExtraction(node);}else{text=$(node).text();}}return text;}function appendToTable(table,cache){if(table.config.debug){var appendTime=new Date()}var c=cache,r=c.row,n=c.normalized,totalRows=n.length,checkCell=(n[0].length-1),tableBody=$(table.tBodies[0]),rows=[];for(var i=0;i<totalRows;i++){var pos=n[i][checkCell];rows.push(r[pos]);if(!table.config.appender){var l=r[pos].length;for(var j=0;j<l;j++){tableBody[0].appendChild(r[pos][j]);}}}if(table.config.appender){table.config.appender(table,rows);}rows=null;if(table.config.debug){benchmark("Rebuilt table:",appendTime);}applyWidget(table);setTimeout(function(){$(table).trigger("sortEnd");},0);};function buildHeaders(table){if(table.config.debug){var time=new Date();}var meta=($.metadata)?true:false;var header_index=computeTableHeaderCellIndexes(table);$tableHeaders=$(table.config.selectorHeaders,table).each(function(index){this.column=header_index[this.parentNode.rowIndex+"-"+this.cellIndex];this.order=formatSortingOrder(table.config.sortInitialOrder);this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(table,index))this.sortDisabled=true;if(checkHeaderOptionsSortingLocked(table,index))this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(table,index);if(!this.sortDisabled){var $th=$(this).addClass(table.config.cssHeader);if(table.config.onRenderHeader)table.config.onRenderHeader.apply($th);}table.config.headerList[index]=this;});if(table.config.debug){benchmark("Built headers:",time);log($tableHeaders);}return $tableHeaders;};function computeTableHeaderCellIndexes(t){var matrix=[];var lookup={};var thead=t.getElementsByTagName('THEAD')[0];var trs=thead.getElementsByTagName('TR');for(var i=0;i<trs.length;i++){var cells=trs[i].cells;for(var j=0;j<cells.length;j++){var c=cells[j];var rowIndex=c.parentNode.rowIndex;var cellId=rowIndex+"-"+c.cellIndex;var rowSpan=c.rowSpan||1;var colSpan=c.colSpan||1
var firstAvailCol;if(typeof(matrix[rowIndex])=="undefined"){matrix[rowIndex]=[];}for(var k=0;k<matrix[rowIndex].length+1;k++){if(typeof(matrix[rowIndex][k])=="undefined"){firstAvailCol=k;break;}}lookup[cellId]=firstAvailCol;for(var k=rowIndex;k<rowIndex+rowSpan;k++){if(typeof(matrix[k])=="undefined"){matrix[k]=[];}var matrixrow=matrix[k];for(var l=firstAvailCol;l<firstAvailCol+colSpan;l++){matrixrow[l]="x";}}}}return lookup;}function checkCellColSpan(table,rows,row){var arr=[],r=table.tHead.rows,c=r[row].cells;for(var i=0;i<c.length;i++){var cell=c[i];if(cell.colSpan>1){arr=arr.concat(checkCellColSpan(table,headerArr,row++));}else{if(table.tHead.length==1||(cell.rowSpan>1||!r[row+1])){arr.push(cell);}}}return arr;};function checkHeaderMetadata(cell){if(($.metadata)&&($(cell).metadata().sorter===false)){return true;};return false;}function checkHeaderOptions(table,i){if((table.config.headers[i])&&(table.config.headers[i].sorter===false)){return true;};return false;}function checkHeaderOptionsSortingLocked(table,i){if((table.config.headers[i])&&(table.config.headers[i].lockedOrder))return table.config.headers[i].lockedOrder;return false;}function applyWidget(table){var c=table.config.widgets;var l=c.length;for(var i=0;i<l;i++){getWidgetById(c[i]).format(table);}}function getWidgetById(name){var l=widgets.length;for(var i=0;i<l;i++){if(widgets[i].id.toLowerCase()==name.toLowerCase()){return widgets[i];}}};function formatSortingOrder(v){if(typeof(v)!="Number"){return(v.toLowerCase()=="desc")?1:0;}else{return(v==1)?1:0;}}function isValueInArray(v,a){var l=a.length;for(var i=0;i<l;i++){if(a[i][0]==v){return true;}}return false;}function setHeadersCss(table,$headers,list,css){$headers.removeClass(css[0]).removeClass(css[1]);var h=[];$headers.each(function(offset){if(!this.sortDisabled){h[this.column]=$(this);}});var l=list.length;for(var i=0;i<l;i++){h[list[i][0]].addClass(css[list[i][1]]);}}function fixColumnWidth(table,$headers){var c=table.config;if(c.widthFixed){var colgroup=$('<colgroup>');$("tr:first td",table.tBodies[0]).each(function(){colgroup.append($('<col>').css('width',$(this).width()));});$(table).prepend(colgroup);};}function updateHeaderSortCount(table,sortList){var c=table.config,l=sortList.length;for(var i=0;i<l;i++){var s=sortList[i],o=c.headerList[s[0]];o.count=s[1];o.count++;}}function multisort(table,sortList,cache){if(table.config.debug){var sortTime=new Date();}var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0];var order=sortList[i][1];var s=(table.config.parsers[c].type=="text")?((order==0)?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c)):((order==0)?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c));var e="e"+i;dynamicExp+="var "+e+" = "+s;dynamicExp+="if("+e+") { return "+e+"; } ";dynamicExp+="else { ";}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++){dynamicExp+="}; ";}dynamicExp+="return 0; ";dynamicExp+="}; ";if(table.config.debug){benchmark("Evaling expression:"+dynamicExp,new Date());}eval(dynamicExp);cache.normalized.sort(sortWrapper);if(table.config.debug){benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime);}return cache;};function makeSortFunction(type,direction,index){var a="a["+index+"]",b="b["+index+"]";if(type=='text'&&direction=='asc'){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+a+" < "+b+") ? -1 : 1 )));";}else if(type=='text'&&direction=='desc'){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+b+" < "+a+") ? -1 : 1 )));";}else if(type=='numeric'&&direction=='asc'){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+a+" - "+b+"));";}else if(type=='numeric'&&direction=='desc'){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+b+" - "+a+"));";}};function makeSortText(i){return"((a["+i+"] < b["+i+"]) ? -1 : ((a["+i+"] > b["+i+"]) ? 1 : 0));";};function makeSortTextDesc(i){return"((b["+i+"] < a["+i+"]) ? -1 : ((b["+i+"] > a["+i+"]) ? 1 : 0));";};function makeSortNumeric(i){return"a["+i+"]-b["+i+"];";};function makeSortNumericDesc(i){return"b["+i+"]-a["+i+"];";};function sortText(a,b){if(table.config.sortLocaleCompare)return a.localeCompare(b);return((a<b)?-1:((a>b)?1:0));};function sortTextDesc(a,b){if(table.config.sortLocaleCompare)return b.localeCompare(a);return((b<a)?-1:((b>a)?1:0));};function sortNumeric(a,b){return a-b;};function sortNumericDesc(a,b){return b-a;};function getCachedSortType(parsers,i){return parsers[i].type;};this.construct=function(settings){return this.each(function(){if(!this.tHead||!this.tBodies)return;var $this,$document,$headers,cache,config,shiftDown=0,sortOrder;this.config={};config=$.extend(this.config,$.tablesorter.defaults,settings);$this=$(this);$.data(this,"tablesorter",config);$headers=buildHeaders(this);this.config.parsers=buildParserCache(this,$headers);cache=buildCache(this);var sortCSS=[config.cssDesc,config.cssAsc];fixColumnWidth(this);$headers.click(function(e){var totalRows=($this[0].tBodies[0]&&$this[0].tBodies[0].rows.length)||0;if(!this.sortDisabled&&totalRows>0){$this.trigger("sortStart");var $cell=$(this);var i=this.column;this.order=this.count++%2;if(this.lockedOrder)this.order=this.lockedOrder;if(!e[config.sortMultiSortKey]){config.sortList=[];if(config.sortForce!=null){var a=config.sortForce;for(var j=0;j<a.length;j++){if(a[j][0]!=i){config.sortList.push(a[j]);}}}config.sortList.push([i,this.order]);}else{if(isValueInArray(i,config.sortList)){for(var j=0;j<config.sortList.length;j++){var s=config.sortList[j],o=config.headerList[s[0]];if(s[0]==i){o.count=s[1];o.count++;s[1]=o.count%2;}}}else{config.sortList.push([i,this.order]);}};setTimeout(function(){setHeadersCss($this[0],$headers,config.sortList,sortCSS);appendToTable($this[0],multisort($this[0],config.sortList,cache));},1);return false;}}).mousedown(function(){if(config.cancelSelection){this.onselectstart=function(){return false};return false;}});$this.bind("update",function(){var me=this;setTimeout(function(){me.config.parsers=buildParserCache(me,$headers);cache=buildCache(me);},1);}).bind("updateCell",function(e,cell){var config=this.config;var pos=[(cell.parentNode.rowIndex-1),cell.cellIndex];cache.normalized[pos[0]][pos[1]]=config.parsers[pos[1]].format(getElementText(config,cell),cell);}).bind("sorton",function(e,list){$(this).trigger("sortStart");config.sortList=list;var sortList=config.sortList;updateHeaderSortCount(this,sortList);setHeadersCss(this,$headers,sortList,sortCSS);appendToTable(this,multisort(this,sortList,cache));}).bind("appendCache",function(){appendToTable(this,cache);}).bind("applyWidgetId",function(e,id){getWidgetById(id).format(this);}).bind("applyWidgets",function(){applyWidget(this);});if($.metadata&&($(this).metadata()&&$(this).metadata().sortlist)){config.sortList=$(this).metadata().sortlist;}if(config.sortList.length>0){$this.trigger("sorton",[config.sortList]);}applyWidget(this);});};this.addParser=function(parser){var l=parsers.length,a=true;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==parser.id.toLowerCase()){a=false;}}if(a){parsers.push(parser);};};this.addWidget=function(widget){widgets.push(widget);};this.formatFloat=function(s){var i=parseFloat(s);return(isNaN(i))?0:i;};this.formatInt=function(s){var i=parseInt(s);return(isNaN(i))?0:i;};this.isDigit=function(s,config){return/^[-+]?\d*$/.test($.trim(s.replace(/[,.']/g,'')));};this.clearTableBody=function(table){if($.browser.msie){function empty(){while(this.firstChild)this.removeChild(this.firstChild);}empty.apply(table.tBodies[0]);}else{table.tBodies[0].innerHTML="";}};}});$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(s){return true;},format:function(s){return $.trim(s.toLocaleLowerCase());},type:"text"});ts.addParser({id:"digit",is:function(s,table){var c=table.config;return $.tablesorter.isDigit(s,c);},format:function(s){return $.tablesorter.formatFloat(s);},type:"numeric"});ts.addParser({id:"currency",is:function(s){return/^[£$€?.]/.test(s);},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/[£$€]/g),""));},type:"numeric"});ts.addParser({id:"ipAddress",is:function(s){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(s);},format:function(s){var a=s.split("."),r="",l=a.length;for(var i=0;i<l;i++){var item=a[i];if(item.length==2){r+="0"+item;}else{r+=item;}}return $.tablesorter.formatFloat(r);},type:"numeric"});ts.addParser({id:"url",is:function(s){return/^(https?|ftp|file):\/\/$/.test(s);},format:function(s){return jQuery.trim(s.replace(new RegExp(/(https?|ftp|file):\/\//),''));},type:"text"});ts.addParser({id:"isoDate",is:function(s){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(s);},format:function(s){return $.tablesorter.formatFloat((s!="")?new Date(s.replace(new RegExp(/-/g),"/")).getTime():"0");},type:"numeric"});ts.addParser({id:"percent",is:function(s){return/\%$/.test($.trim(s));},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/%/g),""));},type:"numeric"});ts.addParser({id:"usLongDate",is:function(s){return s.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/));},format:function(s){return $.tablesorter.formatFloat(new Date(s).getTime());},type:"numeric"});ts.addParser({id:"shortDate",is:function(s){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(s);},format:function(s,table){var c=table.config;s=s.replace(/\-/g,"/");if(c.dateFormat=="us"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2");}else if (c.dateFormat == "pt") {s = s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/, "$3/$2/$1");} else if(c.dateFormat=="uk"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1");}else if(c.dateFormat=="dd/mm/yy"||c.dateFormat=="dd-mm-yy"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3");}return $.tablesorter.formatFloat(new Date(s).getTime());},type:"numeric"});ts.addParser({id:"time",is:function(s){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(s);},format:function(s){return $.tablesorter.formatFloat(new Date("2000/01/01 "+s).getTime());},type:"numeric"});ts.addParser({id:"metadata",is:function(s){return false;},format:function(s,table,cell){var c=table.config,p=(!c.parserMetadataName)?'sortValue':c.parserMetadataName;return $(cell).metadata()[p];},type:"numeric"});ts.addWidget({id:"zebra",format:function(table){if(table.config.debug){var time=new Date();}var $tr,row=-1,odd;$("tr:visible",table.tBodies[0]).each(function(i){$tr=$(this);if(!$tr.hasClass(table.config.cssChildRow))row++;odd=(row%2==0);$tr.removeClass(table.config.widgetZebra.css[odd?0:1]).addClass(table.config.widgetZebra.css[odd?1:0])});if(table.config.debug){$.tablesorter.benchmark("Applying Zebra widget",time);}}});})(jQuery);
;/**/
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/ct_championship/js/championship-reign-held.js. */
!(function($){'use strict';Drupal.behaviors.championshipReignHeld={second:1,minute:60,hour:60*60,day:60*60*24,attach:function(context,settings){},reignTimeHeld:function(reignStart){var reignNow=Date.now()/1e3|0,reignDiff=reignNow-reignStart,html=this.calculateDays(reignDiff);if(reignDiff<this.hour){html=this.calculateMinutes(reignDiff);return html}else if(reignDiff<this.day){html=this.calculateHours(reignDiff);return html};return html},calculateMinutes:function(reignDiff){var html="";html+='<span class="time-held-figure">'+Math.ceil(reignDiff/this.minute)+'</span> ';if(reignDiff==this.minute){html+='<span class="time-held-units">'+Drupal.t('minute')+'</span>'}else if(reignDiff<this.hour)html+='<span class="time-held-units">'+Drupal.t('minutes')+'</span>';return html},calculateHours:function(reignDiff){var html="";html+='<span class="time-held-figure">'+Math.ceil(reignDiff/this.hour)+'</span> ';if(reignDiff==this.hour){html+='<span class="time-held-units hours">'+Drupal.t('hour')+'</span>'}else if(reignDiff<this.day)html+='<span class="time-held-units hours">'+Drupal.t('hours')+'</span>';return html},calculateDays:function(reignDiff){var html="",roundedDay=Math.floor(reignDiff/this.day),hoursAndDays=reignDiff%this.day,roundedHour=Math.floor(hoursAndDays/this.hour);if(roundedDay>1){html+='<span class="time-held-figure days">'+roundedDay+'</span> ';html+='<span class="time-held-units days">'+Drupal.t('days')+'</span>'}else{html+='<span class="time-held-figure days">1</span> ';html+='<span class="time-held-units days">'+Drupal.t('day')+'</span>'};if(roundedHour>=2){html+='<div class="time-held-hours"><span class="time-held-figure hours">'+roundedHour+'</span> ';html+='<span class="time-held-units hours">'+Drupal.t('hours')+'</span></div>'}else if(roundedHour==1){html+='<div class="time-held-hours"><span class="time-held-figure hours">'+roundedHour+'</span> ';html+='<span class="time-held-units hours">'+Drupal.t('hour')+'</span></div>'};return html}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/ct_championship/js/championship-reign-held.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/ct_championship/js/championship-hero.js. */
!(function($){'use strict';Drupal.behaviors.championshipHero={second:1,minute:60,hour:60*60,day:60*60*24,attach:function(context,settings){if(context===document){var self=this;if(!Date.now)Date.now=function(){return new Date().getTime()};var $reign=$(".championship-hero--reign-start-date"),reignStart=$reign.attr("data-reign-start-date"),html=Drupal.behaviors.championshipReignHeld.reignTimeHeld(reignStart);$reign.html(html)}}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/ct_championship/js/championship-hero.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/ct_championship/js/championship-holders.js. */
!(function($){'use strict';Drupal.behaviors.championshipHolders={attach:function(context,settings){if(context===document){var self=this,$reignRows=$('.reign-row');if(typeof $reignRows!=='undefined')$reignRows.each(function(i,object){var reignId=$(object).data('reign-id');$(object).on('click',function(e){self.handleReignContent(e,reignId)})});var $toggle=$(".championship-holders--decade--toggle");$toggle.on("click",function(evt){self.handleSeeMoreClick(evt)});var $currentReignDates=$(".current-reign-row .reign-dates");$currentReignDates.each(function(){var $currentReignDate=$(this),reignStart=$currentReignDate.attr("data-reign-start-date"),html=Drupal.behaviors.championshipReignHeld.reignTimeHeld(reignStart);$currentReignDate.next().html(html)});$.tablesorter.addParser({id:'reignDates',is:function(s){return false},format:function(s){var re=/[a-zA-Z]{3} \d{1,2}, \d{4}/,matches=s.match(re),d=Date.parse(matches[0]);return d},type:'numeric'});$(".championship-reigns").tablesorter({headers:{1:{sorter:'reignDates'}},sortList:[[1,1]]}).bind("sortStart",function(e,t){if($(this).find('tr.reign-row__open').length>0)throw new Error('')});$(".championship-reigns thead .champ, .championship-reigns thead .time-held").off("click")}},handleSeeMoreClick:function(evt){var $target=$(evt.currentTarget),$toggle=$target.find(".see-more"),$decade=$target.parents(".championship-holders--decade"),$reigns=$decade.find(".championship-holders--decade--reigns");$decade.toggleClass("championship-holders--decade__open");$reigns.slideToggle();if($decade.hasClass("championship-holders--decade__open")){$toggle.html(Drupal.t("See less")).addClass("wwe-content-toggle__open")}else $toggle.html(Drupal.t("See more")).removeClass("wwe-content-toggle__open")},handleReignContent:function(e,reignId){var self=this,$target=$(e.currentTarget),targetIsOpen=$target.hasClass("reign-row__open"),openCount=$(".championship-reigns .reign-row__open").length;if(targetIsOpen){this.removeReignContent($target)}else if(!targetIsOpen&&openCount>0){this.removeReignContent($target,function(){self.addReignContent(e,reignId)})}else self.addReignContent(e,reignId)},addReignContent:function(e,reignId){var $target=$(e.currentTarget),reigns=Drupal.settings.ct_championship.reigns,reign=reigns[reignId],i,output='<tr class="reign-detail toggle-open"><td colspan="3">';output+='<div class="reign-detail-content">';output+='<div class="reign-detail-wrapper">';if(reign.related_content.length!==0){output+='<div class="reign-related-content">';for(i=0;i<reign.related_content.length;i++)output+=reign.related_content[i];output+='</div>'};output+='<div class="reign-detail-title">'+reign.teaser_title;output+='<div class="reign-detail-social">'+reign.social_share+'</div>';output+='</div>';output+='<div class="reign-detail-body">'+reign.body+'</div>';output+='<div class="reign-detail-link">';output+=reign.match_link;output+='</div>';output+='</div>';output+='</div>';output+='</td></tr>';$target.addClass("reign-row__open").after(output);var $reign=$(".championship-reigns .reign-detail-content"),$detail=$(".championship-reigns .reign-detail");$detail.addClass("reign-detail-open");Drupal.attachBehaviors('.reign-detail',Drupal.settings);if(typeof(Drupal.behaviors.wweAnalytics)!='undefined')Drupal.behaviors.wweAnalytics.bindTrackingEvents();$reign.slideDown()},removeReignContent:function($target,callback){callback=typeof callback!=='undefined'?callback:function(){};var $target=$(".championship-reigns .reign-row__open"),$reign=$(".championship-reigns .reign-detail-content"),$detail=$(".championship-reigns .reign-detail");$target.removeClass("reign-row__open");$detail.removeClass("reign-detail-open");$reign.slideUp({complete:function(){$detail.remove();callback()}})},reignTimeHeld:function(){var $reign=$(".championship-hero--reign-start-date"),reignStart=$reign.attr("data-reign-start-date"),reignNow=Date.now()/1e3|0,reignDiff=reignNow-reignStart,html="";switch(true){case reignDiff<this.minute:html=this.calculateSeconds(reignDiff);break;case reignDiff<this.hour:html=this.calculateMinutes(reignDiff);html+=' '+this.calculateSeconds(reignDiff%this.minute);break;case reignDiff<this.day:html=this.calculateHours(reignDiff);html+=' '+this.calculateMinutes(reignDiff%this.hour);break;default:html=this.calculateDays(reignDiff);html+=' '+this.calculateHours(reignDiff%this.day);break};$reign.html(html)}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/ct_championship/js/championship-holders.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/ct_episode/js/episodes-feed-cards.js. */
!(function($){'use strict';Drupal.behaviors.episodeFeed={$content:null,$toggle:null,toggleTextOpen:'See Less',toggleTextClosed:'See More',bodyCharCount:320,bodyCharAppend:'...',attach:function(context,settings){var ef=this;if($('.episode-feed-cards--wrapper').length)ef.init()},init:function(){var ef=this;ef.$content=$('.episode-feed-card--body');ef.$toggle=$('.js-episode-content-tgl');if(Drupal.behaviors.wweThemeBreakpoints.breakpoint.value==='mobile')ef.$content.each(function(){ef.truncateText($(this),ef.bodyCharCount,ef.bodyCharAppend)});ef.$toggle.off().on('click',{context:ef},ef.toggleContent);$(window).resize(function(){if(Drupal.behaviors.wweThemeBreakpoints.breakpoint.value==='mobile')ef.$content.each(function(){if(!$(this).hasClass('is-open'))ef.truncateText($(this),ef.bodyCharCount,ef.bodyCharAppend)})})},toggleContent:function(e){e.preventDefault();var ef=e.data.context,$target=$(e.target),$content=$target.siblings('.episode-feed-card--main-col').children('.episode-feed-card--body');if($target.hasClass("wwe-content-toggle__open")){$content.find('.hidden').slideUp();$content.find('.ellipses').show();$content.removeClass('is-open');$target.removeClass('wwe-content-toggle__open').text(ef.toggleTextClosed)}else{$content.find('.hidden').slideDown();$content.find('.ellipses').hide();$content.addClass('is-open');$target.addClass('wwe-content-toggle__open').text(ef.toggleTextOpen)}},truncateText:function(text,limit,append){var string,stringLength=0,ellipses='<span class="ellipses">'+append+'</span><span class="hidden">',content=text.html();if(content.indexOf(ellipses)>0)return false;if(text.children('p').length>0){var hitLimit=false;text.children('p').each(function(i){var prevLength=stringLength;stringLength=stringLength+$(this).text().length;if(stringLength>limit&&!hitLimit){hitLimit=true;var pString=$(this).text(),index=pString.length-1,truncateIndex=limit-prevLength,newString=Drupal.behaviors.episodeFeed.insertText(pString,truncateIndex,ellipses);$(this).html(newString+'</span>')}else if(stringLength>limit&&hitLimit)$(this).addClass('hidden')})};if(stringLength<=limit)text.parent().siblings('.js-episode-content-tgl').hide();return false},insertText:function(string,index,value){return string.substr(0,index)+value+string.substr(index)},bind:function(){var ef=this;ef.$toggle.on('click',{context:this},ef.toggleContent)}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/ct_episode/js/episodes-feed-cards.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/ct_episode/js/episode-feature-event-countdown.js. */
!(function($){'use strict';Drupal.behaviors.startOfEventCountdown={second:1,minute:60,hour:60*60,day:60*60*24,calculateTime:function(eventDiff){var html="";html=this.calculateTheEntireTime(eventDiff,this.day,Drupal.settings.ct_episode.day);html+=' '+this.calculateTheEntireTime(eventDiff%this.day,this.hour,Drupal.settings.ct_episode.hour);html+=' '+this.calculateTheEntireTime(eventDiff%this.hour,this.minute,Drupal.settings.ct_episode.min);html+=' '+this.calculateTheEntireTime(eventDiff%this.minute,this.second,Drupal.settings.ct_episode.sec);return html},calculateTheEntireTime:function(eventDiff,unit,displayUnit){var html="";if(Math.floor(eventDiff/unit)==1){html+='<div class="wwe-episode--countdown__child">';html+='<span class="time-until-event-units">'+displayUnit+'</span>';html+='<span class="time-until-event-figure">'+Math.floor(eventDiff/unit)+'</span> ';html+='</div>'}else if(Math.floor(eventDiff/unit)<0){html+='<div class="wwe-episode--countdown__child">';html+='<span class="time-until-event-units">'+displayUnit+'</span>';html+='<span class="time-until-event-figure">0</span> ';html+='</div>'}else{html+='<div class="wwe-episode--countdown__child">';html+='<span class="time-until-event-units">'+displayUnit+'</span>';html+='<span class="time-until-event-figure">'+Math.floor(eventDiff/unit)+'</span> ';html+='</div>'};return html},timeToEventStart:function(eventStart){var eventNow=Date.now()/1e3|0,eventDiff=eventStart-eventNow,html="";html=this.calculateTime(eventDiff);return html}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/ct_episode/js/episode-feature-event-countdown.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/ct_episode/js/episode-feature-countdown.js. */
!(function($){'use strict';Drupal.behaviors.eventFeaturedCountdown={attach:function(context,settings){if(context===document){var $eventCD=$(".wwe-episode--countdown, .wwe-match--countdown"),eventStart=$eventCD.attr("data-episode-countdown"),html=Drupal.behaviors.startOfEventCountdown.timeToEventStart(eventStart);$eventCD.html(html);window.setInterval(function(){var html=Drupal.behaviors.startOfEventCountdown.timeToEventStart(eventStart);$eventCD.html(html)},1e3)}}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/ct_episode/js/episode-feature-countdown.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/ct_episode/js/episode-feature-quickhits-smoothscroll.js. */
!(function($){'use strict';Drupal.behaviors.quickHitsSmoothScroll={offsetDepth:-117,scrollCount:0,attach:function(context,settings){var self=this;if(context==document){self.scrollToHash();if(typeof googletag!='undefined')googletag.pubads().addEventListener('slotRenderEnded',function(event){if(self.scrollCount<3)self.scrollToHash();self.scrollCount++})};var $lazyImages=$('.lazyload',context);$('.js-anchor-smooth',context).on('click',function(){var element=this,$element=$(element),hash=$element.attr('href').substr(1);$lazyImages.each(function(i,element){if(typeof lazySizes!=='undefined'){lazySizes.loader.unveil(element)}else return false});setTimeout(function(){$('html, body').animate({scrollTop:$('[name="'+hash+'"]').offset().top+(self.offsetDepth)},500);window.location.hash=hash},250);return false})},scrollToHash:function(animationSpeed){var self=this;if(typeof animationSpeed==='undefined'||animationSpeed==='')animationSpeed=250;if(!window.location.hash)return;if(typeof lazySizes!=='undefined'){var $lazyImages=$('.lazyload');$lazyImages.each(function(i,element){lazySizes.loader.unveil(element)})};var anchorName=window.location.hash.substr(1).replace("'","").replace("\"","").replace(")","");if(anchorName.length>0)setTimeout(function(){var $itemLocation=$('[name="'+anchorName+'"]');if($itemLocation.length>0){var scrollPosition=$itemLocation.offset().top+self.offsetDepth;$('html, body').animate({scrollTop:scrollPosition},animationSpeed)}},250)}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/ct_episode/js/episode-feature-quickhits-smoothscroll.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/ct_gallery/assets/js/wwe-photo-gallery-a.js. */
!(function($){'use strict';Drupal.behaviors.WWEPhotoGalleryA={win:null,initialSlide:0,initialFid:0,Active:{},Related:{},RelatedAds:{},RelatedAdCount:0,EntireActive:[],itemsPerPage:12,itemsOffset:0,numRelated:12,offsetRelated:0,adFreq:5,adUnit:[],adSlots:{active:{},grid:{}},adGridCount:0,adCarouselCount:0,adReferer:'',leaderboard:false,galleryCarousel:null,$galleryGrid:null,grid:null,$galleryGridOverlay:null,isLoadingContent:false,$galleryBtn:null,$galleryCloseBtn:null,$galleryViewBtn:null,viewBtnLabelCarousel:'gallery list',viewBtnLabelList:'gallery carousel',$overlayWrap:null,$overlayHeader:null,$overlayTitle:null,$galleryContent:null,$galleryItemsWrap:null,$galleryItemInfo:null,$galleryCopyWrap:null,$gallerySocial:null,$galleryRelated:null,$relatedWrap:null,$currItem:null,$totalItems:null,$loader:null,overlayBaseHTML:null,currentPageId:0,transporter:null,wweSda:null,originalContent:{url:null,title:null,unitName:null},currentContent:{url:null,title:null,unitName:null},$gallerySponsorMarkup:undefined,previousSlide:null,externalAttach:function(context){if(context===document)this.initializeGalleryA(context);$('.js-gallery--btn').off('click.galleryBtn').on('click.galleryBtn',{context:this},this.handleGalleryClick)},initializeGalleryA:function(context){if(context===document){this.adReferer=Drupal.settings.WWEAds.path;this.init()}},init:function(){this.$overlayWrap=$('#wwe-gallery--overlay');$('#wwe-gallery--overlay').not(this.$overlayWrap).remove();if($('#wwe-gallery--overlay').length===0)return;this.win=$(window);this.$galleryBtn=$('.js-gallery--btn');this.$galleryCloseBtn=$('#wwe-gallery--overlay .wwe-gallery--view-close');this.$galleryViewBtn=$('#wwe-gallery--overlay .wwe-gallery--view-toggle');this.overlayBaseHTML=$('#wwe-gallery--overlay').html();this.$overlayHeader=$('#wwe-gallery--overlay .wwe-gallery--header');this.$overlayTitle=$('#wwe-gallery--overlay .wwe-gallery--title');this.$overlayCaption=$('#wwe-gallery--overlay .wwe-gallery--caption');this.$galleryContent=$('#wwe-gallery--overlay .wwe-gallery--content');this.$galleryItemInfo=$('#wwe-gallery--overlay .wwe-gallery--info');this.$galleryItemsWrap=$('#wwe-gallery--overlay .wwe-gallery--items');this.$galleryCopyWrap=$('#wwe-gallery--overlay .wwe-gallery--captions');this.$gallerySocial=$('#wwe-gallery--overlay .wwe-gallery--social');this.$galleryRelated=$('#wwe-gallery--overlay .wwe-gallery--related');this.$galleryRelatedLower=$('#wwe-gallery--overlay .wwe-related-ad-lower');this.$gallerySponsorMarkup=$('#wwe-gallery--overlay .wwe-sponsored--track');this.$gallerySponsor=$('.wwe-gallery--sponsored-track');this.$gallerySponsorGrid=$('.wwe-gallery-grid--sponsored-track');this.$gallerySponsorGridTrack=$('.wwe-gallery-grid--sponsored-track .wwe-sponsored--track');this.$relatedCarousel=$('#wwe-gallery--overlay .wwe-related-media--carousel');this.$currItem=$('#wwe-gallery--overlay .wwe-gallery--curr');this.$totalItems=$('#wwe-gallery--overlay .wwe-gallery--total');this.$loader=$('#wwe-gallery--overlay .wwe-loader');this.initialFid=this.getFidFromHash();if(typeof Drupal.settings.transporter!=='undefined')if(typeof Drupal.settings.transporter.domElement!=='undefined')this.transporter=Drupal.settings.transporter.domElement;if(typeof Drupal.behaviors.WWEAds!='undefined'){this.wweSda=Drupal.behaviors.WWEAds}else this.wweSda={breakpoint:null,loggedIn:false,adFrequency:0,mobileHeader:null,setKeyValue:function(){},defineSlot:function(){},displaySlot:function(){},renderAds:function(){},showImage:function(){},setAdUnit:function(){},adSlots:{},old:{}};this.$galleryItemInfo.hide();this.$galleryBtn.off('click.galleryBtn').on('click.galleryBtn',{context:this},this.handleGalleryClick);this.$galleryCloseBtn.on('click',{context:this},this.closeOverlay);this.$galleryViewBtn.on('click',{context:this},this.handleToggleClick);if(typeof Drupal.settings.WWEAds!=='undefined')if(typeof Drupal.settings.WWEAds.adFrequency!=='undefined')this.adFreq=Drupal.settings.WWEAds.adFrequency;if(Drupal.settings.WWEPhotoGallery!==undefined&&Drupal.settings.WWEPhotoGallery.currentPageId!==undefined&&!this.$overlayWrap.hasClass('open')){$('body').addClass('no-scroll');this.$overlayWrap.addClass('open');this.loadGallery(Drupal.settings.WWEPhotoGallery.currentPageId);if(Drupal.behaviors.wweThemeBreakpoints.breakpoint.value==='mobile'||Drupal.behaviors.wweThemeBreakpoints.breakpoint.value==='tablet'){window.resizeTo(this.win.width-1,this.win.height);window.resizeTo(this.win.width+1,this.win.height)}};$(".slick-disabled").on('click',function(){return false})},handleGalleryClick:function(evt){evt.preventDefault();var self=evt.data.context,$target=$(evt.target),$pane=$target.closest('.panel-pane');$('body').addClass('no-scroll');self.EntireActive=[];if(!self.$overlayWrap.hasClass('open')){self.$overlayWrap.addClass('open');self.wweSda.attachMobileBannerScroll('#wwe-gallery--overlay')};if(!self.originalContent.url){self.originalContent.url=window.location.pathname;self.originalContent.title=$(document).attr('title');self.originalContent.unitName=self.wweSda.unitName};self.currentContent.url=window.location.pathname;self.currentContent.title=$(document).attr('title');self.currentContent.unitName=self.wweSda.unitName;var $target=$(evt.currentTarget),nodeID=$target.data('nid');if(self.Active.node_id!==nodeID){history.pushState({fid:0},$(this).attr('alt'),$(this).attr('href'));self.resetGallery();self.loadGallery(nodeID)};if(typeof _vrq!=='undefined'&&typeof _vrtrack!=='undefined')_vrtrack();if($target.hasClass('js-track-related'))if(typeof(Drupal.behaviors.wweAnalytics)!='undefined')Drupal.behaviors.wweAnalytics.handleCustomTrackingEvent(null,$pane,$target)},loadGallery:function(nodeID){var self=this,url='/api/gallery/'+nodeID+'/'+self.itemsPerPage+'/'+self.itemsOffset+'/'+self.initialFid;self.isLoadingContent=true;$.getJSON(url,function(data){self.Active=data;self.Active.node_id=nodeID;self.Active.pages=1;self.Active.slide=0;self.loadRelated(nodeID);for(var i=0;i<data.photos.length;i++)self.EntireActive.push(data.photos[i])})},loadRelated:function(nodeID){var self=this,url='/api/gallery-related/'+nodeID+'/'+self.numRelated+'/'+self.offsetRelated;$.getJSON(url,function(data){self.Related=data;self.buildGallery()})},buildGallery:function(){var self=this;self.populateText();self.populateActiveGallery();self.populateRelatedGalleries()},populateText:function(){this.$overlayTitle.html('<h1 class="page-title page-title-inherit">'+this.Active.title+'</h1>');this.$overlayCaption.html(this.Active.description);this.updateGalleryCountDisplay();this.updateSocialMarkup(0);this.$gallerySponsorMarkup.html(this.Active.sponsors);if(typeof Drupal.behaviors.WWEAds!=='undefined')if(typeof Drupal.behaviors.WWEAds.processAdSlots!=='undefined')Drupal.behaviors.WWEAds.processAdSlots(this.$gallerySponsorMarkup)},updateGalleryCountDisplay:function(){var self=this,output=self.getCurrentGalleryIndex();self.$currItem.html(output);this.$totalItems.html(this.Active.total_images);this.$galleryItemInfo.show()},getCurrentGalleryIndex:function(){var self=this,fid=$(".wwe-gallery--item.slick-current").data('fid'),output=0;$.each(this.Active.photos,function(index,v){if(this.fid==fid)output=index+1});return output},updateHash:function(){var fid=$(".wwe-gallery--item.slick-current").data('fid'),hash=window.location.hash.substring(1),title=$(".wwe-gallery--header .wwe-gallery--title").text();window.document.title=title;var newHash,url=location.pathname;if(hash!='fid-'+fid){newHash='#fid-'+fid;history.pushState({fid:fid},title,newHash);url=url+newHash};if(typeof wwe_ga_dataLayer!='undefined'){wwe_ga_dataLayer.push({contentType:'gallery'});wwe_ga_dataLayer.push({event:'virtualPageview',virtualPageURL:url,virtualPageTitle:title})}},updateSocialMarkup:function(currSlide){if(currSlide==='ad'){this.$gallerySocial.fadeOut('fast')}else{this.$gallerySocial.fadeIn('fast');if(typeof(this.Active.photos[currSlide])!=="undefined")this.$gallerySocial.html(this.Active.photos[currSlide].social)};$('.social-menu-toggle').on('click',{context:Drupal.behaviors.wweThemeSocialShare},Drupal.behaviors.wweThemeSocialShare.toggleMenu);if(typeof(Drupal.behaviors.wweAnalytics)!='undefined')Drupal.behaviors.wweAnalytics.bindTrackingEvents();return false},populateActiveGallery:function(data){var self=this,isAppended=data?true:false,data=data||this.Active,activePictures=[],activeCaptions=[],picture,caption,adCaption,adCount=0,breakpoint=self.wweSda.breakpoint;if(typeof googletag!=='undefined'){self.wweSda.old={dpos:self.wweSda.dpos,adCounter:self.wweSda.adCounter,unitName:self.wweSda.unitName};self.wweSda.setAdUnit(data.adUnit);if(self.currentContent.unitName!==null)self.wweSda.unitName=self.currentContent.unitName;self.wweSda.setKeyValue(googletag,data.adUnit);self.wweSda.dpos={};self.wweSda.adCounter=0};for(var i in data.photos){if(data.disableAds!=1&&i%self.adFreq===0&&i>0){adCount++;var galleryAdId=i/((self.adFreq>0)?self.adFreq:1),target='wwe-gallery-ad-'+galleryAdId,slot=this.createGallerySlot(target,'carousel');self.adSlots['active'][target]=slot;if(slot.sizes[breakpoint]){var ad=self.adMarkup(target,'carousel');adCaption=self.carouselCaptionMarkup('<button class="js-gallery-ad--btn wwe-gallery--ad-btn">'+Drupal.t('Advertisement: Click to Continue')+'</button>');if(isAppended){self.$galleryItemsWrap.slick('slickAdd',ad);self.$galleryCopyWrap.slick('slickAdd',adCaption)}else{activePictures.push(ad);activeCaptions.push(adCaption)}}};picture=self.carouselItemMarkup(data.photos[i]);caption=self.carouselCaptionMarkup(data.photos[i].caption);if(isAppended){self.Active.photos.push(data.photos[i]);self.$galleryItemsWrap.slick('slickAdd',picture);self.$galleryCopyWrap.slick('slickAdd',caption)}else{activePictures.push(picture);activeCaptions.push(caption)}};if(isAppended){self.$galleryItemsWrap.find('.wwe-loader__drk').remove()}else{this.$galleryItemsWrap.append(activePictures);this.$galleryCopyWrap.append(activeCaptions);this.buildGalleryCarousel()};self.isLoadingContent=false;$(document).on('keydown',function(e){if(self.isLoadingContent)return false;if(e.keyCode==37){self.galleryCarousel.slick('slickPrev')}else if(e.keyCode==39)self.galleryCarousel.slick('slickNext')});$('.js-gallery-ad--btn').on('click',function(){self.galleryCarousel.slick('slickNext')});var breakpoint=self.wweSda.breakpoint;if(breakpoint!='desktop'){var mobileHeader=self.wweSda.mobileHeader;$('#'+mobileHeader).css({'z-index':1006})};if(breakpoint!='desktop'){self.wweSda.displaySlot(self.wweSda.mobileHeader,true)}else{self.wweSda.displaySlot('wwe-ads-related',true);self.wweSda.displaySlot('wwe-ads-related-lower',true)};self.$galleryItemsWrap.on('afterChange',function(event,slick,current){if(typeof iom!=='undefined'){if(self.previous!=null&&self.previous!=current)iom.c({st:"wwedeu",cp:"wwe_photos",co:"wwe_photos",mg:"yes",sv:"in"},1);self.previous=current};var $slide=$(slick.$slides[current]);if($slide.hasClass('wwe-gallery--ad')){var id=$slide.attr('id'),slot=self.adSlots['active'][id],loggedIn=self.wweSda.loggedIn;if(loggedIn){self.wweSda.showImage(slot);self.wweSda.adSlots[id]=true;return false};if(!slot.defined){self.wweSda.defineSlot(slot);slot.defined=true};self.wweSda.displaySlot($slide.attr('id'),true)};if(breakpoint!='desktop'){self.wweSda.displaySlot(self.wweSda.mobileHeader,true)}else{self.wweSda.displaySlot('wwe-ads-related',true);self.wweSda.displaySlot('wwe-ads-related-lower',true)}});$(window).on('hashchange',function(e){e.preventDefault();var slideNumber=self.getSlideNumberFromHash();if(slideNumber>=0){var offset=self.adFreq>0&&slideNumber>0&&slideNumber>=self.adFreq?(Math.floor(slideNumber/self.adFreq)):0;self.$galleryItemsWrap.slick('slickGoTo',slideNumber+offset)}}).trigger('hashchange');$(document).trigger('wwe-content-added')},getSlideNumberFromHash:function(){var self=this,slideNumber=-1,fid=self.getFidFromHash();if(fid)$.each(self.EntireActive,function(key,value){if(value.fid==fid){slideNumber=key;return false}});return slideNumber},shouldAddItemsToCarousel:function(){var self=this;return self.Active.slide+1>=self.Active.photos.length&&self.Active.photos.length!==self.Active.total_images&&!self.isLoadingContent},loadMoreCarouselItems:function(){var self=this,nodeID=self.Active.node_id,offset=self.itemsPerPage*self.Active.pages,url='/api/gallery/'+self.Active.node_id+'/'+self.itemsPerPage+'/'+offset+'/0',loader="<div class='wwe-loader__drk'></div>",activeIndex=self.Active.slide+1;self.isLoadingContent=true;self.$galleryItemsWrap.find('.wwe-gallery--item').eq(activeIndex).append(loader);$.getJSON(url,function(data){self.populateActiveGallery(data);self.Active.pages++;$.each(data.photos,function(key,value){self.EntireActive.push(data.photos[key])});if(typeof(Drupal.behaviors.wweAnalytics)!='undefined')Drupal.behaviors.wweAnalytics.setupCarouselTracking(self.$galleryItemsWrap,'main')});$(".wwe-gallery--content").focus()},populateRelatedGalleries:function(){var self=this,relatedGalleries=[],adID='';if(self.wweSda.breakpoint=='desktop'){if(!self.wweSda.adSlots['wwe-ads-related']){var adSlot={type:'related-gallery-ad',target:'wwe-ads-related',sizes:{desktop:'[300,251]',mobile:false,tablet:false},interstitial:false},loggedIn=self.wweSda.loggedIn;if(loggedIn){self.wweSda.showImage(adSlot);self.wweSda.adSlots['wwe-ads-related']=true}else self.wweSda.defineSlot(adSlot)};self.wweSda.displaySlot('wwe-ads-related',true);if(!self.wweSda.adSlots['wwe-ads-related-lower']){var adSlot={type:'related-gallery-ad',target:'wwe-ads-related-lower',sizes:{desktop:'[970,251]',mobile:false,tablet:false},interstitial:false},loggedIn=self.wweSda.loggedIn;if(loggedIn){self.wweSda.showImage(adSlot);self.wweSda.adSlots['wwe-ads-related-lower']=true}else self.wweSda.defineSlot(adSlot)};self.wweSda.displaySlot('wwe-ads-related-lower',true)};var galleryIsOpen=false;if(this.$overlayWrap.hasClass('open'))galleryIsOpen=true;for(var i in this.Related.galleries){if(!galleryIsOpen)this.Related.galleries[i].title=this.Related.galleries[i].teaser_title;var thumb=self.relatedItemMarkup(this.Related.galleries[i]);relatedGalleries.push(thumb)};this.$relatedCarousel.append(relatedGalleries).addClass('js-carousel js-carousel--related-media');$('.js-gallery--btn').off('click.galleryBtn').on('click.galleryBtn',{context:this},this.handleGalleryClick);if(Drupal.behaviors.wweThemeBreakpoints.breakpoint.value==="desktop")Drupal.behaviors.wweThemeCarousels.buildRelatedPlaylist(this.$relatedCarousel);self.wweSda.renderAds(this.RelatedAds)},buildGalleryCarousel:function(){var self=this,galleryCopyClass=this.$galleryCopyWrap.attr('class'),galleryItemsClass=this.$galleryItemsWrap.attr('class');this.$galleryItemsWrap.animate({opacity:0},0,function(){self.$loader.remove()});this.$galleryItemsWrap.on('init',function(){self.$galleryItemsWrap.animate({opacity:1},300)});if(self.initialFid){self.initialSlide=$(".wwe-gallery--item[data-fid='"+self.initialFid+"']").index();if(self.initialSlide<0)self.initialSlide=0};if((this.$galleryItemsWrap).hasClass('slick-initialized'))this.$galleryItemsWrap.slick('unslick');if((this.$galleryCopyWrap).hasClass('slick-initialized'))this.$galleryCopyWrap.slick('unslick');this.galleryCarousel=this.$galleryItemsWrap.slick({initialSlide:self.initialSlide,slidesToShow:1,slidesToScroll:1,infinite:false,dots:false,speed:300,asNavFor:'.'+galleryCopyClass});this.galleryCopyCarousel=this.$galleryCopyWrap.slick({initialSlide:self.initialSlide,slidesToShow:1,slidesToScroll:1,infinite:false,dots:false,arrows:false,speed:300,fade:true,asNavFor:'.'+galleryItemsClass});self.updateGalleryCountDisplay();self.updateHash();self.updateSocialMarkup(self.initialSlide);self.checkSlickArrowActive();if(self.getCurrentGalleryIndex()==self.Active.total_images)self.showNextGalleryText();this.$galleryItemsWrap.on('beforeChange',function(evt,slick,currentSlide,nextSlide){var nextNotAd=!self.$galleryItemsWrap.find('.wwe-gallery--item').eq(nextSlide).hasClass('wwe-gallery--ad');self.Active.slide=currentSlide;if(currentSlide<nextSlide&&nextNotAd){self.Active.slide++}else if(nextNotAd)self.Active.slide--;var adBreakpoint=self.wweSda.breakpoint;if(typeof adBreakpoint!=='undefined'&&adBreakpoint!='desktop')self.wweSda.displaySlot(self.wweSda.mobileHeader,true)});this.$galleryItemsWrap.on('afterChange',function(evt,slick,currentSlide){var total_images=self.Active.total_images,slide=self.$galleryItemsWrap.find('.wwe-gallery--item').eq(currentSlide);if(slide.hasClass('wwe-gallery--ad')){var target=slide.attr('id');self.wweSda.displaySlot(target,true);self.$gallerySocial.fadeOut('fast')}else{self.updateGalleryCountDisplay();self.updateHash();self.updateSocialMarkup(currentSlide);self.$gallerySocial.fadeIn('fast');self.checkSlickArrowActive();if(self.getCurrentGalleryIndex()==total_images)self.showNextGalleryText()};if(self.shouldAddItemsToCarousel())self.loadMoreCarouselItems()});$("#wwe-gallery--overlay").on('click','.slick-next-gallery',function(){self.resetGallery();self.EntireActive=[];self.loadGallery(self.Active.next_gallery);self.updateSocialMarkup(self.initialSlide);if(typeof(history.pushState)!="undefined")history.pushState({},self.Active.title,'/'+self.Active.next_gallery_url)});if(typeof(Drupal.behaviors.wweAnalytics)!='undefined')Drupal.behaviors.wweAnalytics.setupCarouselTracking(this.$galleryItemsWrap,'main');$(document).trigger('wwe-content-added')},showNextGalleryText:function(){var self=this,nextGalleryText=Drupal.settings.ct_gallery.nextGalleryText;self.$galleryItemsWrap.find('slick-next').removeClass('slick-disabled');self.$galleryItemsWrap.find('.slick-next').addClass('slick-next-gallery').html(nextGalleryText)},checkSlickArrowActive:function(){var self=this;if(self.getCurrentGalleryIndex()==self.Active.total_images){$('.slick-next').addClass('slick-next-gallery');$('.slick-next').removeClass('slick-disabled')}else if($('.slick-next').hasClass('slick-next-gallery'))$('.slick-next').removeClass('slick-next-gallery')},carouselItemMarkup:function(data){var classes='wwe-gallery--item',content=data.photo,fid=data.fid;if(data.published==0)classes+=' unpublished';return"<div class='"+classes+"' data-fid="+fid+">"+content+"</div>"},carouselCaptionMarkup:function(content){return"<div class='wwe-gallery--caption-wrapper'><p>"+content+"</p></div>"},adMarkup:function(target,type){return"<div class='wwe-gallery--item wwe-gallery--ad wwe-gallery-ad--"+type+"' id='"+target+"'></div>"},relatedItemMarkup:function(content){return"<div class='wwe-related-media--item--wrapper'><a href='"+content.link+"' data-nid='"+content.nid+"' alt="+content.title+" class='js-gallery--btn js-track-related wwe-related-media--item' data-tracking-label='related gallery|galleryTitle="+content.title+"'><div class='wwe-related-media--item--thumb icon-gallery'><img src='"+content.image+"' alt='"+content.title+"' /></div><p class='wwe-related-media--item--caption'>"+content.title+"</p></a></div>"},handleToggleClick:function(evt){var self=evt.data.context;if(self.isLoadingContent)return false;if(self.$overlayWrap.hasClass('grid-view')){self.switchToCarousel()}else self.switchToGrid()},handleBackTop:function(evt){var self=evt.data.context;self.$overlayWrap.animate({scrollTop:0},250)},switchToCarousel:function(){var self=this;self.$overlayWrap.removeClass('grid-view');self.$galleryGrid.find('.wwe-gallery--item').addClass('hidden');self.galleryCarousel.fadeIn(50,function(){self.galleryCarousel.slick('setPosition');self.$galleryGrid.remove()});self.$galleryRelated.fadeIn(200);self.$gallerySponsor.fadeIn(200);self.$galleryRelatedLower.fadeIn(200);self.$gallerySponsorGrid.fadeOut(200);self.$galleryItemInfo.css('opacity',1);if(self.$gallerySponsorGrid.length)self.$galleryGrid.removeClass('sponsored');self.$galleryViewBtn.data('tracking-label',self.viewBtnLabelList);Drupal.behaviors.wweThemeSocialShare.init()},switchToGrid:function(){var self=this;self.isLoadingContent=true;self.$overlayWrap.addClass('grid-view');self.$galleryViewBtn.data('tracking-label',self.viewBtnLabelCarousel);var gridDOM="<div class='wwe-gallery--items wwe-gallery--items__grid'></div>";self.$galleryContent.append(gridDOM);self.$galleryGridOverlay=$('#wwe-gallery--overlay.grid-view');self.$galleryGridOverlay.on('scroll',{context:this},self.gridScroll);self.$galleryGrid=$('#wwe-gallery--overlay .wwe-gallery--items__grid');self.updateGridDOM();imagesLoaded(self.$galleryGrid,function(){self.grid=self.$galleryGrid.masonry({itemSelctor:'.wwe-gallery--item',columnWidth:'.wwe-gallery--item__sizer',isInitLayout:false,percentPosition:true,gutter:0});if(typeof Drupal.behaviors.WWEAds!=='undefined')if(typeof Drupal.behaviors.WWEAds.breakpoint!=='undefined')if(Drupal.behaviors.WWEAds.breakpoint==='phone'||Drupal.behaviors.WWEAds.breakpoint==='tablet')self.grid.masonry({transitionDuration:0})});self.$galleryGrid.on('layoutComplete',function(event,items){self.$galleryRelated.fadeOut(200);self.$gallerySponsor.fadeOut(200);self.$galleryRelatedLower.fadeOut(200);self.$gallerySponsorGrid.fadeIn(200);if(self.$gallerySponsorGrid.length)self.$galleryGrid.addClass('sponsored');if(self.$gallerySponsorGridTrack.is(':empty')){self.$galleryGrid.removeClass('sponsored');self.$gallerySponsorGrid.addClass('sponsor-hide')};self.galleryCarousel.fadeOut(200);self.$galleryItemInfo.css('opacity',0);self.$galleryGrid.find('.wwe-gallery--item').removeClass('hidden')});self.$galleryGrid.masonry();var slots=self.adSlots['grid'],loggedIn=self.wweSda.loggedIn;for(var k in slots){var slot=slots[k];if(loggedIn){if(slot.type=="gallery-ad--grid")$('#'+k).css({'min-height':'255px'});self.wweSda.showImage(slot);self.wweSda.adSlots[k]=true}else{self.wweSda.defineSlot(slot);self.wweSda.displaySlot(k,true)}};self.wweSda.attachMobileBannerScroll('#wwe-gallery--overlay');if(typeof wwe_ga_dataLayer!='undefined'){wwe_ga_dataLayer.push({contentType:'gallery'});wwe_ga_dataLayer.push({event:'virtualPageview',virtualPageURL:location.pathname,virtualPageTitle:'gridView'})}},gridItemMarkup:function(content,isAd){if(isAd)return"<div class='wwe-gallery--item hidden wwe-ad-grid'>"+content+"</div>";return"<div class='wwe-gallery--item hidden'><div class='wwe-gallery--item--img'>"+content.photo+"</div><div class='wwe-gallery--item--info'><div class='wwe-gallery--item--info--inner'><p class='wwe-gallery--item--caption'>"+content.caption+"</p><div class='wwe-gallery--item--social social__white social__vert--desktop'>"+content.social+"</div></div></div></div>"},updateGridDOM:function(data){var self=this,isAppended=data?true:false,data=data||this.Active,galleryItems='',item,breakpoint=self.wweSda.breakpoint;if(breakpoint=='desktop'&&!self.leaderboard){item='<div id="gallery-ad-leaderboard" class="wwe-gallery-ad-leaderboard"></div>';galleryItems=galleryItems+item;self.adSlots['grid']['gallery-ad-leaderboard']=this.createGallerySlot('gallery-ad-leaderboard','leader-board');self.leaderboard=true};for(var i in data.photos){if(i%this.adFreq===0&&i!=0){self.adGridCount++;var target='wwe-gallery-ad--grid-'+self.adGridCount,slot=this.createGallerySlot(target,'grid');self.adSlots['grid'][target]=slot;if(slot.sizes[breakpoint]){var ad=self.adMarkup(target,'grid');item=self.gridItemMarkup(ad,true);galleryItems=galleryItems+item}};item=self.gridItemMarkup(data.photos[i],false);galleryItems=galleryItems+item};if(!isAppended){var sizer="<div class='wwe-gallery--item__sizer'></div>";self.$galleryGrid.append($(sizer),$(galleryItems))}else{self.$galleryGrid.append($(galleryItems)).masonry('appended',$(galleryItems),true).imagesLoaded().progress(function(){self.grid.masonry('reloadItems');self.grid.masonry('layout')});var $newItems=$('.wwe-gallery--item.hidden');self.$galleryGrid.append($newItems).masonry('appended',$newItems,true).imagesLoaded().progress(function(){self.grid.masonry('reloadItems');self.grid.masonry('layout')});self.$galleryGrid.find('.wwe-loader--wrapper').remove()};Drupal.behaviors.wweThemeSocialShare.init();self.isLoadingContent=false},gridScroll:function(evt){var self=evt.data.context,atBottom=self.$overlayWrap.scrollTop()+self.win.height()>=self.$galleryGrid.height(),footerPresent=$('.wwe-gallery--footer').length>0;if(atBottom&&!self.isLoadingContent&&self.Active.photos.length<self.Active.total_images){self.loadMoreGridItems()}else if(atBottom&&!footerPresent&&!self.isLoadingContent&&self.Active.photos.length==self.Active.total_images)if(Drupal.behaviors.wweThemeBreakpoints.breakpoint.value==='mobile')self.addGridFooter()},addGridFooter:function(){var self=this,footer='<div class="wwe-gallery--item"><div class="wwe-gallery--footer">',backTop='<button class="wwe-gallery--ftr-btn wwe-gallery--ftr-btn-back-top icon icon-arrow-up">'+Drupal.t('Back to top')+'</button>',next='',close='<button class="wwe-gallery--ftr-btn wwe-gallery--ftr-btn-close icon icon-close js-track" data-tracking-label="close">'+Drupal.t('close')+'</button>';if(self.Related.galleries.length>0)next='<a class="wwe-gallery--ftr-btn wwe-gallery--ftr-btn-next icon icon-arrow-right" href="'+self.Related.galleries[0].link+'" data-nid="'+self.Related.galleries[0].nid+'" alt="'+self.Related.galleries[0].title+'" >'+Drupal.t('Next gallery')+'</a>';footer=footer+close+next+backTop+'</div></div>';self.$galleryGrid.append($(footer)).masonry('appended',$(footer),true).imagesLoaded().progress(function(){self.grid.masonry('reloadItems');self.grid.masonry('layout')});$('.wwe-gallery--footer .wwe-gallery--ftr-btn-close').on('click',{context:self},self.closeOverlay);$('.wwe-gallery--footer .wwe-gallery--ftr-btn-back-top').on('click',{context:self},self.handleBackTop);$('.wwe-gallery--footer .wwe-gallery--ftr-btn-next').off('click.galleryBtn').on('click.galleryBtn',{context:this},this.handleGalleryClick)},loadMoreGridItems:function(){var self=this;self.isLoadingContent=true;var nodeID=self.Active.node_id,offset=self.itemsPerPage*self.Active.pages,url='/api/gallery/'+self.Active.node_id+'/'+self.itemsPerPage+'/'+offset+'/0',loaderAndWrap="<div class='wwe-loader--wrapper'><div class='wwe-loader'></div></div>";self.$galleryGrid.append(loaderAndWrap);$.getJSON(url,function(data){self.updateGridDOM(data);self.populateActiveGallery(data);self.Active.pages++})},closeOverlay:function(evt){$('body').removeClass('no-scroll');if(evt){var self=evt.data.context;self.$overlayWrap.removeClass('open');if(self.wweSda&&typeof self.wweSda.attachMobileBannerScroll==='function')self.wweSda.attachMobileBannerScroll();var $transport=$(self.transporter);if(typeof self.originalContent.url!==null&&self.originalContent.title!==null){history.pushState({},self.originalContent.title,self.originalContent.url);$(document).attr("title",self.originalContent.title)}else if($transport.length>0){var transporter=$transport.data('transport');transporter.updateURL();$('.wwe-transporter--marker-previous').remove()};var event=$.Event('customLoadTransporter'),dom='#page';$(dom).trigger(event);$(dom).data('transport').updateURL();var mobileHeader=self.wweSda.mobileHeader;$('#'+mobileHeader).css({'z-index':998})}else this.$overlayWrap.removeClass('open');var language='en';if(typeof Drupal.settings.WWE!=='undefined')if(typeof Drupal.settings.WWE.language!=='undefined')language=Drupal.settings.WWE.language;if(language!=='de')if(Drupal.behaviors.WWEAds!==undefined){Drupal.behaviors.WWEAds.dpos=self.wweSda.old.dpos;Drupal.behaviors.WWEAds.adCounter=self.wweSda.old.adCounter;Drupal.behaviors.WWEAds.unitName=self.wweSda.old.unitName;Drupal.behaviors.WWEAds.attach()};self.EntireActive=[];self.Active.node_id=0;$(window).scroll();Drupal.behaviors.wweThemeSocialShare.init()},resetGallery:function(){if((this.$galleryItemsWrap).hasClass('slick-initialized'))this.$galleryItemsWrap.slick('unslick');if((this.$galleryCopyWrap).hasClass('slick-initialized'))this.$galleryCopyWrap.slick('unslick');$("#wwe-gallery--overlay").off('click','.slick-next-gallery');this.$overlayWrap.removeClass('grid-view');this.$overlayWrap.html(this.overlayBaseHTML);this.init()},getFidFromHash:function(){var fid=0,hash=window.location.hash.substring(1),regex=/fid-(\d+)/,match=regex.exec(hash);if(match)fid=Number(match[1]);return fid},createGallerySlot:function(target,type){var sizes={desktop:'[300,251]',tablet:false,phone:false};if(type=='leader-board')sizes.desktop='[[970,90],[970,250]]';if(type=='carousel'){sizes.desktop='[300, 255]';sizes.tablet='[300, 257]';sizes.phone='[300, 256]'};return{type:'gallery-ad--'+type,target:target,sizes:sizes,interstitial:false}}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/ct_gallery/assets/js/wwe-photo-gallery-a.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/ct_gallery/assets/js/wwe-photo-gallery-b.js. */
!(function($){'use strict';Drupal.behaviors.WWEPhotoGalleryB={win:null,initialSlide:0,initialFid:0,Active:{},Related:{},RelatedAds:{},RelatedAdCount:0,EntireActive:[],itemsPerPage:12,itemsOffset:0,numRelated:14,offsetRelated:0,adFreq:5,adUnit:[],adSlots:{active:{},grid:{}},adGridCount:0,adCarouselCount:0,adReferer:'',leaderboard:false,galleryCarousel:null,$galleryGrid:null,grid:null,$galleryGridOverlay:null,isLoadingContent:false,$galleryBtn:null,$galleryCloseBtn:null,$galleryViewBtn:null,viewBtnLabelCarousel:'gallery list',viewBtnLabelList:'gallery carousel',$overlayWrap:null,$overlayHeader:null,$overlayTitle:null,$galleryContent:null,$galleryItemsWrap:null,$galleryItemInfo:null,$galleryCopyWrap:null,$gallerySocial:null,$galleryRelated:null,$relatedWrap:null,$currItem:null,$totalItems:null,$loader:null,overlayBaseHTML:null,currentPageId:0,transporter:null,wweSda:null,originalContent:{url:null,title:null,unitName:null},currentContent:{url:null,title:null,unitName:null},$gallerySponsorMarkup:undefined,previousSlide:null,loadedGalleryNodeId:null,hasUserShownCaptions:false,captionShownForAd:false,positionCurrentSlideExpandButtonInterval:null,useLargePhotoInGallery:false,useLargePhotoInFullscreen:true,prevRelArrowFn:null,nextRelArrowFn:null,externalAttach:function(context){if(context===document)this.initializeGalleryB(context);$('.js-gallery--btn').off('click.galleryBtn').on('click.galleryBtn',{context:this},this.handleGalleryClick)},initializeGalleryB:function(context){if(context===document){this.adReferer=Drupal.settings.WWEAds.path;this.init()}},init:function(){var monetateTest='b';this.$overlayWrap=$('#wwe-gallery--overlay.gallery-'+monetateTest);$('#wwe-gallery--overlay').not(this.$overlayWrap).remove();if(this.$overlayWrap.length===0)return;this.win=$(window);this.$galleryBtn=$('.js-gallery--btn');this.$galleryCloseBtn=this.$overlayWrap.find('.wwe-gallery--view-close');this.$galleryViewBtn=this.$overlayWrap.find('.wwe-gallery--view-toggle');this.overlayBaseHTML=this.$overlayWrap.html();this.$overlayHeader=this.$overlayWrap.find('.wwe-gallery--header');this.$overlayTitle=this.$overlayWrap.find('.wwe-gallery--title');this.$overlayCaptionShowButton=this.$overlayWrap.find('.wwe-gallery--captions-show-button');this.$overlayCaptionHideButton=this.$overlayWrap.find('.wwe-gallery--close-captions-button');this.$overlayCaptionContainer=this.$overlayWrap.find('.wwe-gallery--captions-container');this.$overlayCaption=this.$overlayWrap.find('.wwe-gallery--caption');this.$galleryContent=this.$overlayWrap.find('.wwe-gallery--content');this.$galleryItemInfo=this.$overlayWrap.find('.wwe-gallery--info');this.$galleryItemsWrap=this.$overlayWrap.find('.wwe-gallery--items');this.$galleryCopyWrap=this.$overlayWrap.find('.wwe-gallery--captions');this.$galleryShowCaptionButton=this.$overlayWrap.find('.wwe-gallery--captions-show-button');this.$gallerySocial=this.$overlayWrap.find('.wwe-gallery--social');this.$galleryRelated=this.$overlayWrap.find('.wwe-gallery--related');this.$galleryRelatedLower=this.$overlayWrap.find('.wwe-related-ad-lower');this.$gallerySponsorMarkup=this.$overlayWrap.find('.wwe-sponsored--track');this.$relatedItemsWrap=this.$overlayWrap.find('.wwe-related-media--items');this.$relatedItemsViewAllButton=this.$overlayWrap.find('.wwe-related-media--cta');this.$relatedItemsPopup=this.$overlayWrap.find('.wwe-gallery--related-galleries-popup');this.$relatedItemsPopupWrap=this.$overlayWrap.find('.wwe-gallery--related-galleries-list');this.$relatedItemsBackToGalleryButton=this.$overlayWrap.find('.wwe-gallery--related-galleries--back-button');this.$relatedItemsBackToGalleryLink=this.$overlayWrap.find('.wwe-gallery--related-galleries--back-to-gallery-link');this.$currItem=this.$overlayWrap.find('.wwe-gallery--curr');this.$totalItems=this.$overlayWrap.find('.wwe-gallery--total');this.$loader=this.$overlayWrap.find('.wwe-loader');this.$gallerySponsor=this.$overlayWrap.find('.wwe-gallery--sponsored-track');this.$gallerySponsorGrid=this.$overlayWrap.find('.wwe-gallery-grid--sponsored-track');this.$gallerySponsorGridTrack=this.$gallerySponsorGrid.find('.wwe-sponsored--track');this.$galleryFullscreenExitButton=this.$overlayWrap.find('.wwe-gallery-fullscreen-close-button');this.$galleryFullscreenContent=this.$overlayWrap.find('.wwe-gallery--fullscreen-content');this.initialFid=this.getFidFromHash();this.setDrupalDefaults();this.attachEvents();this.setTransporterModule();this.defineWWEAds();this.setAdFrequency();this.initializeGallery()},attachEvents:function(){this.$galleryBtn.off('click.galleryBtn').on('click.galleryBtn',{context:this},this.handleGalleryClick);this.$galleryCloseBtn.on('click',{context:this},this.closeOverlay);this.$galleryViewBtn.on('click',{context:this},this.handleToggleClick);this.$overlayCaptionShowButton.on('click',this.showCaptionsClick.bind(this));this.$overlayCaptionHideButton.on('click',this.hideCaptionsClick.bind(this));this.$overlayWrap.off('click','.wwe-gallery--expand-image-button');this.$overlayWrap.on('click','.wwe-gallery--expand-image-button',this.galleryToggleFullscreenMode.bind(this));this.$relatedItemsViewAllButton.on('click',this.showRelatedGalleriesClick.bind(this));this.$relatedItemsBackToGalleryButton.on('click',this.hideRelatedGalleriesClick.bind(this));this.$relatedItemsBackToGalleryLink.on('click',this.hideRelatedGalleriesClick.bind(this))},setDrupalDefaults:function(){this.useLargePhotoInGallery=Drupal.settings.ct_gallery.hiResGallery;this.useLargePhotoInFullscreen=Drupal.settings.ct_gallery.hiResFullscreen},setTransporterModule:function(){if(typeof Drupal.settings.transporter!=='undefined')if(typeof Drupal.settings.transporter.domElement!=='undefined')this.transporter=Drupal.settings.transporter.domElement},defineWWEAds:function(){if(typeof Drupal.behaviors.WWEAds!='undefined'){this.wweSda=Drupal.behaviors.WWEAds}else this.wweSda={breakpoint:null,loggedIn:false,adFrequency:0,mobileHeader:null,setKeyValue:function(){},defineSlot:function(){},displaySlot:function(){},renderAds:function(){},showImage:function(){},setAdUnit:function(){},adSlots:{},old:{}}},setAdFrequency:function(){if(typeof Drupal.settings.WWEAds!=='undefined')if(typeof Drupal.settings.WWEAds.adFrequency!=='undefined')this.adFreq=Drupal.settings.WWEAds.adFrequency},initializeGallery:function(){var self=this;if(Drupal.settings.WWEPhotoGallery!==undefined&&Drupal.settings.WWEPhotoGallery.currentPageId!==undefined&&!this.$overlayWrap.hasClass('open')){this.setResolutionClasses();this.setItemsHeight();$('body').addClass('no-scroll');this.$overlayWrap.addClass('open');this.loadGalleryWithCallbacks(Drupal.settings.WWEPhotoGallery.currentPageId);if(Drupal.behaviors.wweThemeBreakpoints.breakpoint.value==='mobile'||Drupal.behaviors.wweThemeBreakpoints.breakpoint.value==='tablet'){window.resizeTo(this.win.width-1,this.win.height);window.resizeTo(this.win.width+1,this.win.height)}}},loadGalleryWithCallbacks:function(nodeId){var self=this;this.loadedGalleryNodeId=nodeId;this.loadGallery(nodeId).then(this.galleryLoaded.bind(self)).then(function(){return self.loadRelated(nodeId).then(self.relatedLoaded.bind(self))})},setResolutionClasses:function(){if(this.useLargePhotoInGallery)this.$overlayWrap.addClass('hi-res-gallery');if(this.useLargePhotoInFullscreen)this.$overlayWrap.addClass('hi-res-fullscreen')},getGalleryRequestUrl:function(nodeID,itemsPerPage,itemsOffset,initialFid){return'/api/gallery/'+nodeID+'/'+itemsPerPage+'/'+itemsOffset+'/'+initialFid},getRelatedRequestUrl:function(nodeID,itemsPerPage,itemsOffset){return'/api/gallery-related/'+nodeID+'/'+itemsPerPage+'/'+itemsOffset},loadGallery:function(nodeID){var self=this,url=this.getGalleryRequestUrl(nodeID,self.itemsPerPage,self.itemsOffset,self.initialFid);self.isLoadingContent=true;return $.getJSON(url)},galleryLoaded:function(data){var self=this,nodeID=this.loadedGalleryNodeId;self.Active=data;self.Active.node_id=nodeID;self.Active.pages=1;self.Active.slide=0;for(var i=0;i<data.photos.length;i++)self.EntireActive.push(data.photos[i]);this.buildGallery()},loadRelated:function(nodeID){var self=this,url=this.getRelatedRequestUrl(nodeID,self.numRelated,self.offsetRelated);return $.getJSON(url)},relatedLoaded:function(data){this.Related=data;this.buildRelatedGalleries()},buildGallery:function(){this.populateText();this.populateActiveGallery()},buildRelatedGalleries:function(){this.populateRelatedGalleries()},populateText:function(){this.$overlayTitle.html('<h1 class="page-title page-title-inherit">'+this.Active.title+'</h1>');this.$overlayCaption.html(this.Active.description);this.updateGalleryCountDisplay();this.updateSocialMarkup(0);this.$gallerySponsorMarkup.html(this.Active.sponsors);if(typeof Drupal.behaviors.WWEAds!=='undefined')if(typeof Drupal.behaviors.WWEAds.processAdSlots!=='undefined')Drupal.behaviors.WWEAds.processAdSlots(this.$gallerySponsorMarkup)},relatedItemMarkup:function(content){return"<div class='wwe-related-media--item--wrapper clearfix'><a href='"+content.link+"' data-nid='"+content.nid+"' alt="+content.title+" class='js-gallery--btn js-track-related wwe-related-media--item' data-tracking-label='related gallery|galleryTitle="+content.title+"'><div class='wwe-related-media--item--thumb icon-gallery'><img src='"+content.image_hires+"' alt='"+content.title+"' /></div><p class='wwe-related-media--item--caption'>"+content.title+"</p></a></div>"},updateGalleryCountDisplay:function(){var self=this,output=self.getCurrentGalleryIndex();self.$currItem.html(output);this.$totalItems.html(this.Active.total_images);this.$galleryItemInfo.show()},handleGalleryClick:function(evt){evt.preventDefault();var self=evt.data.context;self.clearPositionCurrentSlideExpandButtonInterval();var $target=$(evt.target),$pane=$target.closest('.panel-pane');$('body').addClass('no-scroll');self.EntireActive=[];if(!self.$overlayWrap.hasClass('open')){self.$overlayWrap.addClass('open');self.wweSda.attachMobileBannerScroll('#wwe-gallery--overlay')};if(!self.originalContent.url){self.originalContent.url=window.location.pathname;self.originalContent.title=$(document).attr('title');self.originalContent.unitName=self.wweSda.unitName};self.currentContent.url=window.location.pathname;self.currentContent.title=$(document).attr('title');self.currentContent.unitName=self.wweSda.unitName;var $target=$(evt.currentTarget),nodeID=$target.data('nid');if(self.Active.node_id!==nodeID){history.pushState({fid:0},$(this).attr('alt'),$(this).attr('href'));self.resetGallery();self.setResolutionClasses();self.setItemsHeight();self.$gallerySocial.removeClass('social-hidden');self.loadGalleryWithCallbacks(nodeID)};if(typeof _vrq!=='undefined'&&typeof _vrtrack!=='undefined')_vrtrack();if($target.hasClass('js-track-related'))if(typeof(Drupal.behaviors.wweAnalytics)!='undefined')Drupal.behaviors.wweAnalytics.handleCustomTrackingEvent(null,$pane,$target)},getCurrentGalleryIndex:function(){var self=this,fid=this.$overlayWrap.find(".wwe-gallery--item.slick-current").data('fid');if(!fid)return 1;var output=0;$.each(this.Active.photos,function(index,v){if(this.fid==fid)output=index+1});return output},updateSocialMarkup:function(currSlide){if(currSlide==='ad'){this.$gallerySocial.addClass('social-hidden')}else{this.$gallerySocial.removeClass('social-hidden');if(typeof(this.Active.photos[currSlide])!=="undefined")this.$gallerySocial.html(this.Active.photos[currSlide].social)};this.$overlayWrap.find('.social-menu-toggle').on('click',{context:Drupal.behaviors.wweThemeSocialShare},Drupal.behaviors.wweThemeSocialShare.toggleMenu);if(typeof(Drupal.behaviors.wweAnalytics)!='undefined')Drupal.behaviors.wweAnalytics.bindTrackingEvents();return false},populateActiveGallery:function(data){var self=this,isAppended=data?true:false,activePictures=[],activeCaptions=[],picture,pictureHiRes,caption,adCaption,adCount=0,breakpoint=self.wweSda.breakpoint;data=data||this.Active;if(typeof googletag!=='undefined'){self.wweSda.old={dpos:self.wweSda.dpos,adCounter:self.wweSda.adCounter,unitName:self.wweSda.unitName};self.wweSda.setAdUnit(data.adUnit);if(self.originalContent.unitName!==null)self.wweSda.unitName=self.originalContent.unitName;self.wweSda.setKeyValue(googletag,data.adUnit);self.wweSda.dpos={};self.wweSda.adCounter=0};var wrapSize=this.getGalleryWrapSize();for(var i in data.photos){if(data.disableAds!=1&&i%self.adFreq===0&&i>0){adCount++;var galleryAdId=i/((self.adFreq>0)?self.adFreq:1),target='wwe-gallery-ad-'+galleryAdId,slot=this.createGallerySlot(target,'carousel');self.adSlots['active'][target]=slot;if(slot.sizes[breakpoint]){var ad=self.adMarkup(target,'carousel');adCaption=self.carouselCaptionMarkup('<button class="js-gallery-ad--btn wwe-gallery--ad-btn">'+Drupal.t('Advertisement: Click to Continue')+'</button>');if(isAppended){self.$galleryItemsWrap.slick('slickAdd',ad);self.$galleryCopyWrap.append(adCaption)}else{activePictures.push(ad);activeCaptions.push(adCaption)}}};picture=$(self.carouselItemMarkup(data.photos[i]));if(this.useLargePhotoInGallery)picture.find('img').addClass('hi-res');if(!this.useLargePhotoInGallery&&this.useLargePhotoInFullscreen)picture.append(self.carouselHiResImgMarkup(data.photos[i]));caption=self.carouselCaptionMarkup(data.photos[i].caption);picture.find('img').on('load',function(){self.scaleGalleryImage($(this),wrapSize)});if(isAppended){self.Active.photos.push(data.photos[i]);self.$galleryItemsWrap.slick('slickAdd',picture);self.$galleryCopyWrap.append(caption)}else{activePictures.push(picture);activeCaptions.push(caption)}};if(isAppended){self.$galleryItemsWrap.find('.wwe-loader__drk').remove()}else{this.$galleryItemsWrap.append(activePictures);this.$galleryCopyWrap.append(activeCaptions);this.buildGalleryCarousel()};self.isLoadingContent=false;$(document).on('keydown',function(e){if(self.isLoadingContent)return false;if(e.keyCode==37){self.galleryCarousel.slick('slickPrev')}else if(e.keyCode==39)self.galleryCarousel.slick('slickNext')});$('.js-gallery-ad--btn').on('click',function(){self.galleryCarousel.slick('slickNext')});breakpoint=self.wweSda.breakpoint;if(breakpoint!=='desktop'){var mobileHeader=self.wweSda.mobileHeader;$('#'+mobileHeader).css({'z-index':1006})};if(breakpoint!='desktop'){self.wweSda.displaySlot(self.wweSda.mobileHeader,true)}else{self.wweSda.displaySlot('wwe-ads-related',true);self.wweSda.displaySlot('wwe-ads-related-lower',true)};self.$galleryItemsWrap.on('afterChange',function(event,slick,current){if(typeof iom!=='undefined'){if(self.previous!=null&&self.previous!=current)iom.c({st:'wwedeu',cp:'wwe_photos',co:'wwe_photos',mg:'yes',sv:'in'},1);self.previous=current};var $slide=$(slick.$slides[current]);if($slide.hasClass('wwe-gallery--ad')){var id=$slide.attr('id'),slot=self.adSlots['active'][id],loggedIn=self.wweSda.loggedIn;if(loggedIn){self.wweSda.showImage(slot);self.wweSda.adSlots[id]=true;return false};if(!slot.defined){self.wweSda.defineSlot(slot);slot.defined=true};self.wweSda.displaySlot($slide.attr('id'),true)};if(breakpoint!=='desktop'){self.wweSda.displaySlot(self.wweSda.mobileHeader,true);self.wweSda.displaySlot('wwe-ads-related-galleries',true)}else{self.wweSda.displaySlot('wwe-ads-related',true);self.wweSda.displaySlot('wwe-ads-related-lower',true)}});this.activeGalleryBuilt()},activeGalleryBuilt:function(){this.attachHashChangeListener();this.attachResizeListener();this.startPositionCurrentSlideExpandButtonInterval();$(document).trigger('wwe-content-added')},attachHashChangeListener:function(){this.win.on('hashchange',this.hashChangeHandler.bind(this))},hashChangeHandler:function(e){e.preventDefault();var slideNumber=this.getSlideNumberFromHash();if(slideNumber>=0){var offset=this.adFreq>0&&slideNumber>0&&slideNumber>=this.adFreq?(Math.floor(slideNumber/this.adFreq)):0;this.$galleryItemsWrap.slick('slickGoTo',slideNumber+offset)}},carouselItemMarkup:function(data){var classes='wwe-gallery--item',content=(this.useLargePhotoInGallery)?data.photo_hires:data.photo,fid=data.fid;if(data.published==0)classes+=' unpublished';return"<div class='"+classes+"' data-fid="+fid+"><button type='button' class='wwe-gallery--expand-image-button'></button>"+content+"</div>"},carouselHiResImgMarkup:function(data){return $(data.photo_hires).addClass('hi-res')},adMarkup:function(target,type){return"<div class='wwe-gallery--item wwe-gallery--ad wwe-gallery-ad--"+type+"' id='"+target+"'></div>"},carouselCaptionMarkup:function(content){return"<div class='wwe-gallery--caption-wrapper'><p>"+content+"</p></div>"},buildGalleryCarousel:function(){var self=this,galleryCopyClass=this.$galleryCopyWrap.attr('class'),galleryItemsClass=this.$galleryItemsWrap.attr('class');this.$galleryItemsWrap.animate({opacity:0},0,function(){self.$loader.remove()});this.$galleryItemsWrap.on('init',function(){self.$galleryItemsWrap.animate({opacity:1},300)});if(self.initialFid){self.initialSlide=self.$overlayWrap.find(".wwe-gallery--item[data-fid='"+self.initialFid+"']").index();if(self.initialSlide<0)self.initialSlide=0};if((this.$galleryItemsWrap).hasClass('slick-initialized'))this.$galleryItemsWrap.slick('unslick');if((this.$galleryCopyWrap).hasClass('slick-initialized'))this.$galleryCopyWrap.slick('unslick');this.galleryCarousel=this.$galleryItemsWrap.slick({initialSlide:self.initialSlide,slidesToShow:1,slidesToScroll:1,infinite:false,dots:false,speed:300});self.updateGalleryCountDisplay();self.updateHash();self.updateSocialMarkup(self.initialSlide);self.checkSlickArrowActive();self.setActiveCaption(self.initialSlide,true);this.$galleryItemsWrap.on('beforeChange',function(evt,slick,currentSlide,nextSlide){var nextNotAd=!self.$galleryItemsWrap.find('.wwe-gallery--item').eq(nextSlide).hasClass('wwe-gallery--ad');self.Active.slide=currentSlide;if(currentSlide<nextSlide&&nextNotAd){self.Active.slide++}else if(nextNotAd)self.Active.slide--;var adBreakpoint=self.wweSda.breakpoint;if(typeof adBreakpoint!=='undefined'&&adBreakpoint!='desktop')self.wweSda.displaySlot(self.wweSda.mobileHeader,true);self.setActiveCaption(nextSlide)});this.$galleryItemsWrap.on('afterChange',function(evt,slick,currentSlide){var total_images=self.Active.total_images,slide=self.$galleryItemsWrap.find('.wwe-gallery--item').eq(currentSlide);if(slide.hasClass('wwe-gallery--ad')){var target=slide.attr('id');self.wweSda.displaySlot(target,true);self.$gallerySocial.addClass('social-hidden')}else{self.updateGalleryCountDisplay();self.updateHash();self.updateSocialMarkup(currentSlide);self.$gallerySocial.removeClass('social-hidden');self.checkSlickArrowActive()};if(self.shouldAddItemsToCarousel())self.loadMoreCarouselItems()});self.$overlayWrap.on('click','.slick-related-galleries',function(e){e.preventDefault();e.stopPropagation();self.gallerySetNonFullscreenMode();self.showRelatedGalleries()});if(typeof(Drupal.behaviors.wweAnalytics)!='undefined')Drupal.behaviors.wweAnalytics.setupCarouselTracking(this.$galleryItemsWrap,'main');$(document).trigger('wwe-content-added')},setActiveCaption:function(captionIdx,showCaptionInitially){var self=this,$captionWrapper=this.$galleryCopyWrap.find('.wwe-gallery--caption-wrapper');$captionWrapper.eq(captionIdx).addClass('begin-active');$captionWrapper.removeClass('active');if(showCaptionInitially)this.showCaptionsClick();setTimeout(function(){$captionWrapper.removeClass('begin-active');$captionWrapper.eq(captionIdx).addClass('active')},1);this.setCaptionButtonVisibility($captionWrapper,captionIdx)},setCaptionButtonVisibility:function($captionWrapper,captionIdx){var hasCaption=!!$captionWrapper.eq(captionIdx).text();if(!hasCaption){this.$galleryShowCaptionButton.addClass('no-caption')}else this.$galleryShowCaptionButton.removeClass('no-caption');var isAd=this.$galleryItemsWrap.find('.wwe-gallery--item').eq(captionIdx).hasClass('wwe-gallery--ad');if(isAd&&hasCaption){if(!this.hasUserShownCaptions)this.captionShownForAd=true;return this.showCaptions()};if(!isAd&&this.captionShownForAd){this.captionShownForAd=false;return this.hideCaptions()};if(!hasCaption&&this.hasUserShownCaptions)this.hideCaptions();if(hasCaption&&this.hasUserShownCaptions)this.showCaptions()},checkSlickArrowActive:function(){var self=this,$slickNext=self.$overlayWrap.find('.slick-next');if(self.getCurrentGalleryIndex()==self.Active.total_images){var $slickEog=$slickNext.clone();$slickEog.addClass('slick-related-galleries').removeClass('slick-disabled');$slickNext.parent().append($slickEog);$slickNext.addClass('hidden-eog')}else{$slickNext.removeClass('hidden-eog');$('.slick-related-galleries').remove()}},updateHash:function(){var fid=this.$overlayWrap.find(".wwe-gallery--item.slick-current").data('fid'),hash=window.location.hash.substring(1),title=this.$overlayWrap.find(".wwe-gallery--header .wwe-gallery--title").text();window.document.title=title;var newHash,url=location.pathname;if(hash!='fid-'+fid){newHash='#fid-'+fid;history.pushState({fid:fid},title,newHash);url=url+newHash};if(typeof wwe_ga_dataLayer!='undefined'){wwe_ga_dataLayer.push({contentType:'gallery'});wwe_ga_dataLayer.push({event:'virtualPageview',virtualPageURL:url,virtualPageTitle:title})}},getSlideNumberFromHash:function(){var self=this,slideNumber=-1,fid=self.getFidFromHash();if(fid)$.each(self.EntireActive,function(key,value){if(value.fid==fid){slideNumber=key;return false}});return slideNumber},getFidFromHash:function(){var fid=0,hash=window.location.hash.substring(1),regex=/fid-(\d+)/,match=regex.exec(hash);if(match)fid=Number(match[1]);return fid},getAdSlot:function(){return{type:'related-gallery-ad',target:'wwe-ads-related',sizes:{desktop:'[300,251]',mobile:false,tablet:false},interstitial:false}},getRelatedAdSlot:function(){return{type:'related-gallery-ad',target:'wwe-ads-related-galleries',sizes:{desktop:false,phone:'[300,258]',mobile:'[300,258]',tablet:'[300,258]'},interstitial:false}},getRelatedPopupAdSlot:function(){return{type:'related-gallery-ad',target:'wwe-ads-related-popup-galleries',sizes:{desktop:'[300,251]',phone:'[300,251]',mobile:'[300,251]',tablet:'[300,251]'},interstitial:false}},getLowerAdSlot:function(){return{type:'related-gallery-ad',target:'wwe-ads-related-lower',sizes:{desktop:'[970,251]',mobile:false,tablet:false},interstitial:false}},relatedGalleriesPopupAdMarkup:function(){return'<span id="wwe-ads-related-popup-galleries"  class="wwe-ads--related"></span>'},relatedGalleriesAdMarkup:function(){return'<span id="wwe-ads-related-galleries"  class="wwe-ads--related"></span>'},insertAdSlot:function(){this.defineAdSlots();this.wweSda.displaySlot('wwe-ads-related',true)},insertRelatedAdSlot:function(){this.defineRelatedAdSlots();this.wweSda.displaySlot('wwe-ads-related-galleries',true)},insertRelatedPopupAdSlot:function(){this.defineRelatedPopupAdSlots();this.wweSda.displaySlot('wwe-ads-related-popup-galleries',true)},insertLowerAdSlot:function(){this.defineLowerAdSlots();this.wweSda.displaySlot('wwe-ads-related-lower',true)},defineAdSlots:function(){var adSlot,loggedIn,self=this;if(!self.wweSda.adSlots['wwe-ads-related']){adSlot=self.getAdSlot();loggedIn=self.wweSda.loggedIn;if(loggedIn){self.wweSda.showImage(adSlot);self.wweSda.adSlots['wwe-ads-related']=true}else self.wweSda.defineSlot(adSlot)}},defineRelatedAdSlots:function(){var adSlot,loggedIn,self=this;if(!self.wweSda.adSlots['wwe-ads-related-galleries']){adSlot=self.getRelatedAdSlot();loggedIn=self.wweSda.loggedIn;if(loggedIn){self.wweSda.showImage(adSlot);self.wweSda.adSlots['wwe-ads-related-galleries']=true}else self.wweSda.defineSlot(adSlot)}},defineRelatedPopupAdSlots:function(){var adSlot,loggedIn,self=this;if(!self.wweSda.adSlots['wwe-ads-related-popup-galleries']){adSlot=self.getRelatedPopupAdSlot();loggedIn=self.wweSda.loggedIn;if(loggedIn){self.wweSda.showImage(adSlot);self.wweSda.adSlots['wwe-ads-related-popup-galleries']=true}else self.wweSda.defineSlot(adSlot)}},defineLowerAdSlots:function(){var adSlot,loggedIn,self=this;if(!self.wweSda.adSlots['wwe-ads-related-lower']){adSlot=self.getLowerAdSlot();loggedIn=self.wweSda.loggedIn;if(loggedIn){self.wweSda.showImage(adSlot);self.wweSda.adSlots['wwe-ads-related-lower']=true}else self.wweSda.defineSlot(adSlot)}},populateRelatedGalleries:function(){var self=this,relatedGalleries=[];if(self.wweSda.breakpoint=='desktop'){self.insertAdSlot();self.insertLowerAdSlot()};var galleryIsOpen=false;if(this.$overlayWrap.hasClass('open'))galleryIsOpen=true;var loadedRelatedGalleries=this.Related.galleries;if(!loadedRelatedGalleries||!loadedRelatedGalleries.length)return null;for(var i=0;i<loadedRelatedGalleries.length;++i){if(!galleryIsOpen)loadedRelatedGalleries[i].title=loadedRelatedGalleries[i].teaser_title;var thumb=self.relatedItemMarkup(loadedRelatedGalleries[i]);relatedGalleries.push(thumb)};this.$relatedItemsWrap.append(this.getRelatedGalleriesToAppend(relatedGalleries));var relatedAdMarkup=this.relatedGalleriesAdMarkup();$(relatedAdMarkup).insertAfter(this.$relatedItemsWrap.find('.wwe-related-media--item--wrapper:nth-child(4)'));this.insertRelatedAdSlot();this.$relatedItemsPopupWrap.append(relatedGalleries);var relatedPopupAdMarkup=this.relatedGalleriesPopupAdMarkup();$(relatedPopupAdMarkup).insertAfter(this.$relatedItemsPopupWrap.find('.wwe-related-media--item--wrapper:nth-child(2)'));this.$overlayWrap.find('.js-gallery--btn').off('click.galleryBtn').on('click.galleryBtn',{context:this},this.handleGalleryClick);self.wweSda.renderAds(this.RelatedAds)},getRelatedGalleriesToAppend:function(relatedGalleries){return relatedGalleries.slice(0,6)},loadMoreCarouselItems:function(){var self=this,nodeID=self.Active.node_id,offset=self.itemsPerPage*self.Active.pages,url=this.getGalleryRequestUrl(self.Active.node_id,self.itemsPerPage,offset,0),loader="<div class='wwe-loader__drk'></div>",activeIndex=self.Active.slide+1;self.isLoadingContent=true;self.$galleryItemsWrap.find('.wwe-gallery--item').eq(activeIndex).append(loader);$.getJSON(url,function(data){self.populateActiveGallery(data);self.Active.pages++;$.each(data.photos,function(key,value){self.EntireActive.push(data.photos[key])});if(typeof(Drupal.behaviors.wweAnalytics)!='undefined')Drupal.behaviors.wweAnalytics.setupCarouselTracking(self.$galleryItemsWrap,'main')});this.$overlayWrap.find('.wwe-gallery--content').focus()},shouldAddItemsToCarousel:function(){var self=this;return self.Active.slide+1>=self.Active.photos.length&&self.Active.photos.length!==self.Active.total_images&&!self.isLoadingContent},switchToGrid:function(){var self=this;self.isLoadingContent=true;self.$overlayWrap.addClass('grid-view');self.$galleryViewBtn.data('tracking-label',self.viewBtnLabelCarousel);var gridDOM="<div class='wwe-gallery--items wwe-gallery--items__grid'></div>";self.$galleryContent.append(gridDOM);self.$galleryGridOverlay=this.$overlayWrap.find('#wwe-gallery--overlay.grid-view');self.$galleryGridOverlay.on('scroll',{context:this},self.gridScroll);self.$galleryGrid=this.$overlayWrap.find('.wwe-gallery--items__grid');self.updateGridDOM();imagesLoaded(self.$galleryGrid,function(){self.grid=self.$galleryGrid.masonry({itemSelctor:'.wwe-gallery--item',columnWidth:'.wwe-gallery--item__sizer',isInitLayout:false,percentPosition:true,gutter:0});if(typeof Drupal.behaviors.WWEAds!=='undefined')if(typeof Drupal.behaviors.WWEAds.breakpoint!=='undefined')if(Drupal.behaviors.WWEAds.breakpoint==='phone'||Drupal.behaviors.WWEAds.breakpoint==='tablet')self.grid.masonry({transitionDuration:0})});self.$galleryGrid.on('layoutComplete',function(event,items){self.$galleryRelated.fadeOut(200);self.$gallerySponsor.fadeOut(200);self.$galleryRelatedLower.fadeOut(200);self.$gallerySponsorGrid.fadeIn(200);if(self.$gallerySponsorGrid.length)self.$galleryGrid.addClass('sponsored');if(self.$gallerySponsorGridTrack.is(':empty')){self.$galleryGrid.removeClass('sponsored');self.$gallerySponsorGrid.addClass('sponsor-hide')};self.galleryCarousel.fadeOut(200);self.$galleryItemInfo.css('opacity',0);self.$galleryGrid.find('.wwe-gallery--item').removeClass('hidden')});self.$galleryGrid.masonry();var slots=self.adSlots['grid'],loggedIn=self.wweSda.loggedIn;for(var k in slots)if(slots.hasOwnProperty(k)){var slot=slots[k];if(loggedIn){if(slot.type=="gallery-ad--grid")$('#'+k).css({'min-height':'255px'});self.wweSda.showImage(slot);self.wweSda.adSlots[k]=true}else{self.wweSda.defineSlot(slot);self.wweSda.displaySlot(k,true)}};self.wweSda.attachMobileBannerScroll('#wwe-gallery--overlay');if(typeof wwe_ga_dataLayer!='undefined'){wwe_ga_dataLayer.push({contentType:'gallery'});wwe_ga_dataLayer.push({event:'virtualPageview',virtualPageURL:location.pathname,virtualPageTitle:'gridView'})}},gridItemMarkup:function(content,isAd){if(isAd)return"<div class='wwe-gallery--item hidden wwe-ad-grid'>"+content+"</div>";return"<div class='wwe-gallery--item hidden'><div class='wwe-gallery--item--img'>"+content.photo+"</div><div class='wwe-gallery--item--info'><div class='wwe-gallery--item--info--inner'><p class='wwe-gallery--item--caption'>"+content.caption+"</p><div class='wwe-gallery--item--social social__white social__vert--desktop'>"+content.social+"</div></div></div></div>"},updateGridDOM:function(data){var self=this,isAppended=data?true:false,data=data||this.Active,galleryItems='',item,breakpoint=self.wweSda.breakpoint;if(breakpoint=='desktop'&&!self.leaderboard){item='<div id="gallery-ad-leaderboard" class="wwe-gallery-ad-leaderboard"></div>';galleryItems=galleryItems+item;self.adSlots['grid']['gallery-ad-leaderboard']=this.createGallerySlot('gallery-ad-leaderboard','leader-board');self.leaderboard=true};for(var i in data.photos){if(i%this.adFreq===0&&i!=0){self.adGridCount++;var target='wwe-gallery-ad--grid-'+self.adGridCount,slot=this.createGallerySlot(target,'grid');self.adSlots['grid'][target]=slot;if(slot.sizes[breakpoint]){var ad=self.adMarkup(target,'grid');item=self.gridItemMarkup(ad,true);galleryItems=galleryItems+item}};item=self.gridItemMarkup(data.photos[i],false);galleryItems=galleryItems+item};if(!isAppended){var sizer="<div class='wwe-gallery--item__sizer'></div>";self.$galleryGrid.append($(sizer),$(galleryItems))}else{self.$galleryGrid.append($(galleryItems)).masonry('appended',$(galleryItems),true).imagesLoaded().progress(function(){self.grid.masonry('reloadItems');self.grid.masonry('layout')});var $newItems=$('.wwe-gallery--item.hidden');self.$galleryGrid.append($newItems).masonry('appended',$newItems,true).imagesLoaded().progress(function(){self.grid.masonry('reloadItems');self.grid.masonry('layout')});self.$galleryGrid.find('.wwe-loader--wrapper').remove()};Drupal.behaviors.wweThemeSocialShare.init();self.isLoadingContent=false},gridScroll:function(evt){var self=evt.data.context,atBottom=self.$overlayWrap.scrollTop()+self.win.height()>=self.$galleryGrid.height(),footerPresent=this.$overlayWrap.find('.wwe-gallery--footer').length>0;if(atBottom&&!self.isLoadingContent&&self.Active.photos.length<self.Active.total_images){self.loadMoreGridItems()}else if(atBottom&&!footerPresent&&!self.isLoadingContent&&self.Active.photos.length==self.Active.total_images)if(Drupal.behaviors.wweThemeBreakpoints.breakpoint.value==='mobile')self.addGridFooter()},addGridFooter:function(){var self=this,footer='<div class="wwe-gallery--item"><div class="wwe-gallery--footer">',backTop='<button class="wwe-gallery--ftr-btn wwe-gallery--ftr-btn-back-top icon icon-arrow-up">'+Drupal.t('Back to top')+'</button>',next='',close='<button class="wwe-gallery--ftr-btn wwe-gallery--ftr-btn-close icon icon-close js-track" data-tracking-label="close">'+Drupal.t('close')+'</button>';if(self.Related.galleries.length>0)next='<a class="wwe-gallery--ftr-btn wwe-gallery--ftr-btn-next icon icon-arrow-right" href="'+self.Related.galleries[0].link+'" data-nid="'+self.Related.galleries[0].nid+'" alt="'+self.Related.galleries[0].title+'" >'+Drupal.t('Next gallery')+'</a>';footer=footer+close+next+backTop+'</div></div>';self.$galleryGrid.append($(footer)).masonry('appended',$(footer),true).imagesLoaded().progress(function(){self.grid.masonry('reloadItems');self.grid.masonry('layout')});this.$overlayWrap.find('.wwe-gallery--footer .wwe-gallery--ftr-btn-close').on('click',{context:self},self.closeOverlay);this.$overlayWrap.find('.wwe-gallery--footer .wwe-gallery--ftr-btn-back-top').on('click',{context:self},self.handleBackTop);this.$overlayWrap.find('.wwe-gallery--footer .wwe-gallery--ftr-btn-next').off('click.galleryBtn').on('click.galleryBtn',{context:this},this.handleGalleryClick)},loadMoreGridItems:function(){var self=this;self.isLoadingContent=true;var nodeID=self.Active.node_id,offset=self.itemsPerPage*self.Active.pages,url=this.getGalleryRequestUrl(self.Active.node_id,self.itemsPerPage,offset,0),loaderAndWrap="<div class='wwe-loader--wrapper'><div class='wwe-loader'></div></div>";self.$galleryGrid.append(loaderAndWrap);$.getJSON(url,function(data){self.updateGridDOM(data);self.populateActiveGallery(data);self.Active.pages++})},closeOverlay:function(evt){$('body').removeClass('no-scroll');if(evt){var self=evt.data.context;self.$overlayWrap.removeClass('open');if(self.wweSda&&typeof self.wweSda.attachMobileBannerScroll==='function')self.wweSda.attachMobileBannerScroll();var $transport=$(self.transporter);if(typeof self.originalContent.url!==null&&self.originalContent.title!==null){history.pushState({},self.originalContent.title,self.originalContent.url);$(document).attr("title",self.originalContent.title)}else if($transport.length>0){var transporter=$transport.data('transport');transporter.updateURL();$('.wwe-transporter--marker-previous').remove()};var event=$.Event('customLoadTransporter'),dom='#page';$(dom).trigger(event);$(dom).data('transport').updateURL();var mobileHeader=self.wweSda.mobileHeader;$('#'+mobileHeader).css({'z-index':998})}else this.$overlayWrap.removeClass('open');var language='en';if(typeof Drupal.settings.WWE!=='undefined')if(typeof Drupal.settings.WWE.language!=='undefined')language=Drupal.settings.WWE.language;if(language!=='de')if(Drupal.behaviors.WWEAds!==undefined){Drupal.behaviors.WWEAds.dpos=self.wweSda.old.dpos;Drupal.behaviors.WWEAds.adCounter=self.wweSda.old.adCounter;Drupal.behaviors.WWEAds.unitName=self.wweSda.old.unitName;Drupal.behaviors.WWEAds.attach()};self.EntireActive=[];self.Active.node_id=0;$(window).scroll();Drupal.behaviors.wweThemeSocialShare.init()},resetGallery:function(){this.clearPositionCurrentSlideExpandButtonInterval();if((this.$galleryItemsWrap).hasClass('slick-initialized'))this.$galleryItemsWrap.slick('unslick');if((this.$galleryCopyWrap).hasClass('slick-initialized'))this.$galleryCopyWrap.slick('unslick');this.$overlayWrap.off('click','.slick-related-galleries');this.$overlayWrap.removeClass('grid-view');this.$overlayWrap.html(this.overlayBaseHTML);this.init()},createGallerySlot:function(target,type){var sizes={desktop:'[300,251]',tablet:false,phone:false};if(type=='leader-board')sizes.desktop='[[970,90],[970,250]]';if(type=='carousel'){sizes.desktop='[300, 255]';sizes.tablet='[300, 257]';sizes.phone='[300, 256]'};return{type:'gallery-ad--'+type,target:target,sizes:sizes,interstitial:false}},handleToggleClick:function(evt){var self=evt.data.context;if(self.isLoadingContent)return false;if(self.$overlayWrap.hasClass('grid-view')){self.switchToCarousel()}else self.switchToGrid()},switchToCarousel:function(){var self=this;self.$overlayWrap.removeClass('grid-view');self.$galleryGrid.find('.wwe-gallery--item').addClass('hidden');self.galleryCarousel.fadeIn(50,function(){self.galleryCarousel.slick('setPosition');self.$galleryGrid.remove()});self.$galleryRelated.fadeIn(200);self.$gallerySponsor.fadeIn(200);self.$galleryRelatedLower.fadeIn(200);self.$gallerySponsorGrid.fadeOut(200);self.$galleryItemInfo.css('opacity',1);if(self.$gallerySponsorGrid.length)self.$galleryGrid.removeClass('sponsored');self.$galleryViewBtn.data('tracking-label',self.viewBtnLabelList);Drupal.behaviors.wweThemeSocialShare.init()},attachResizeListener:function(){return this.win.on('resize',this.resizeHandler.bind(this))},resizeHandler:function(){this.scaleGalleryImages()},getGalleryImages:function(){return $('.wwe-gallery--item').find('img')},scaleGalleryImages:function(){var images=this.getGalleryImages(),wrapSize=this.getGalleryWrapSize();for(var i=0;i<images.length;++i)this.scaleGalleryImage($(images[i]),wrapSize)},getGalleryWrapSize:function($image){return{width:this.$galleryItemsWrap.width(),height:this.$galleryItemsWrap.height()}},scaleGalleryImage:function($image,wrapSize){var naturalSize=this.getImageNaturalSize($image),imgRatio=naturalSize.width/naturalSize.height,wrapRatio=wrapSize.width/wrapSize.height,scaleFactor=this.getScaleFactor(imgRatio,wrapRatio);$image.removeClass('scale-width scale-height scale-fits');if(scaleFactor==='height')return this.scaleGalleryImageBy($image,wrapSize,'scale-height');if(scaleFactor==='width')return this.scaleGalleryImageBy($image,wrapSize,'scale-width');if(scaleFactor==='fits')return this.scaleGalleryImageBy($image,wrapSize,'scale-fits')},scaleGalleryImageBy:function($image,wrapSize,_class){$image.addClass(_class);this.positionExpandButton($image,wrapSize)},getImageDimensions:function($image){var defer=$.Deferred(),interval;$image=$image.filter(':visible');interval=setInterval(function(){if($image.width()!==0&&$image.height()!==0){defer.resolve({width:$image.width(),height:$image.height()});clearInterval(interval)}},200);return defer.promise()},positionExpandButton:function($image,wrapSize){var $button=$image.prev('.wwe-gallery--expand-image-button'),self=this;this.getImageDimensions($image).then(function(imageDimensions){var imgCoords=self.getExpandButtonCoords($image.position().top,imageDimensions.width,wrapSize);self.setExpandButtonCoords($button,imgCoords.top,imgCoords.right)})},getExpandButtonCoords:function(imgTop,imgWidth,wrapSize){return{top:imgTop,right:(wrapSize.width-imgWidth)/2}},setExpandButtonCoords:function($button,top,right){return $button.css({top:top,right:right})},startPositionCurrentSlideExpandButtonInterval:function(){this.positionCurrentSlideExpandButtonInterval=this.positionCurrentSlideExpandButton()},clearPositionCurrentSlideExpandButtonInterval:function(){if(this.positionCurrentSlideExpandButtonInterval)clearInterval(this.positionCurrentSlideExpandButtonInterval)},positionCurrentSlideExpandButton:function(){var self=this;return setInterval(function(){if(!self.$galleryItemsWrap[0].slick)return;var currentIdx=self.$galleryItemsWrap.slick('slickCurrentSlide'),$currentSlide=self.$galleryItemsWrap.find('.wwe-gallery--item').eq(currentIdx),$currentButton=$currentSlide.find('.wwe-gallery--expand-image-button'),$currentImg=$currentSlide.find('img:visible');if(!$currentImg.length)return false;var wrapSize=self.getGalleryWrapSize($currentImg),imgCoords=self.getExpandButtonCoords($currentImg.position().top,$currentImg.width(),wrapSize);self.setExpandButtonCoords($currentButton,imgCoords.top,imgCoords.right)},200)},getScaleFactor:function(imgRatio,wrapRatio){if(imgRatio<wrapRatio)return'height';if(imgRatio>wrapRatio)return'width';return'fits'},getImageNaturalSize:function($image){return{width:$image[0].naturalWidth,height:$image[0].naturalHeight}},showCaptionsClick:function(e){this.hasUserShownCaptions=true;this.showCaptions()},showCaptions:function(){this.$overlayCaptionContainer.removeClass('caption-hidden')},hideCaptionsClick:function(e){this.hasUserShownCaptions=false;this.hideCaptions()},hideCaptions:function(){this.$overlayCaptionContainer.addClass('caption-hidden')},getExpandButtons:function(){return this.$overlayWrap.find('.wwe-gallery--expand-image-button')},galleryToggleFullscreenMode:function(event){this.setExpandButtonNotPositioned();if(this.$overlayWrap.hasClass('fullscreen-active')){this.gallerySetNonFullscreenMode(event)}else this.gallerySetFullscreenMode(event)},gallerySetFullscreenMode:function(event){this.$overlayWrap.addClass('fullscreen-active');this.triggerCarouselRezise();this.scaleGalleryImages();this.setExpandButtonPositioned()},gallerySetNonFullscreenMode:function(){this.$overlayWrap.removeClass('fullscreen-active');this.triggerCarouselRezise();this.scaleGalleryImages();this.setExpandButtonPositioned()},setExpandButtonNotPositioned:function(){var $expandButtons=this.getExpandButtons();$expandButtons.addClass('not-positioned')},setExpandButtonPositioned:function(){var $expandButtons=this.getExpandButtons();setTimeout(function(){$expandButtons.removeClass('not-positioned')},400)},triggerCarouselRezise:function(){var current=this.$galleryItemsWrap.slick('slickCurrentSlide');this.$galleryItemsWrap.slick('slickGoTo',current)},showRelatedGalleriesClick:function(e){return this.showRelatedGalleries()},showRelatedGalleries:function(){var self=this;this.insertRelatedPopupAdSlot();this.setupRelatedGalleriesPopupArrows();self.$overlayWrap.addClass('related-galleries-open');self.$relatedItemsPopup.addClass('related-galleries-begin-active');setTimeout(function(){self.$relatedItemsPopup.addClass('related-galleries-active')},1)},hideRelatedGalleriesClick:function(e){e.preventDefault();return this.hideRelatedGalleries()},hideRelatedGalleries:function(){var delay=this.getElementTransitionDelay(this.$relatedItemsPopup),self=this;self.unsetRelatedGalleriesPopupArrows();self.$overlayWrap.removeClass('related-galleries-open');self.$relatedItemsPopup.removeClass('related-galleries-active');setTimeout(function(){self.$relatedItemsPopup.removeClass('related-galleries-begin-active')},delay)},setupRelatedGalleriesPopupArrows:function(){this.$relatedItemsPopup.find('.wwe-gallery--related-galleries-arrow-container').css('top',this.win.height()/2+'px');this.prevRelArrowFn=this.relatedPrevArrowClick.bind(this);this.nextRelArrowFn=this.relatedNextArrowClick.bind(this);this.$relatedItemsPopup.find('.related-arrow-prev').on('click',this.prevRelArrowFn);this.$relatedItemsPopup.find('.related-arrow-next').addClass('js-gallery--btn').attr('href',this.getRelatedNextUrl())},unsetRelatedGalleriesPopupArrows:function(){this.$relatedItemsPopup.find('.related-arrow-prev').off('click',this.prevRelArrowFn)},relatedPrevArrowClick:function(){this.hideRelatedGalleries()},relatedNextArrowClick:function(){return this.$relatedItemsWrap.find('a').first().trigger('click')},getRelatedNextUrl:function(){return this.$relatedItemsWrap.find('a').first().attr('href')},getElementTransitionDelay:function($element){return parseFloat($element.css('transition-duration'))*1e3},getStickyAd:function(){return $('.wwe-ad-header')},setItemsHeight:function(){var $stickyAd=this.getStickyAd(),isLandscape=window.innerHeight<window.innerWidth,self=this;if(!!$stickyAd.length){var headerHeight=this.$overlayHeader.height(),mobileAdHeight=$stickyAd.height(),itemsMarginTotal=headerHeight+mobileAdHeight;this.$galleryContent.css({height:'calc(100% - '+itemsMarginTotal+'px)'})}}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/ct_gallery/assets/js/wwe-photo-gallery-b.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/ct_gallery/assets/js/wwe-photo-gallery-init.js. */
!(function($){'use strict';Drupal.behaviors.WWEPhotoGalleryInit={timeout:2e3,intervalFrequency:200,attach:function(context){this.waitForMonetate().then(function(galleryToLoad){var galleryKey='WWEPhotoGallery'+galleryToLoad;Drupal.behaviors[galleryKey].externalAttach(context)})},waitForMonetate:function(){var defer=$.Deferred(),interval,getTime=function(){return new Date().getTime()},beginTime=getTime(),self=this;interval=setInterval(function(){if(!!window.mt_gallery&&!!window.mt_gallery.experience){clearInterval(interval);defer.resolve(window.mt_gallery.experience.toUpperCase())};if(getTime()-self.timeout>beginTime){clearInterval(interval);defer.resolve(self.getDefaultExperience())}},200);return defer.promise()},getDefaultExperience:function(){if(!!Drupal.settings.ct_gallery.experience)return Drupal.settings.ct_gallery.experience.toUpperCase();return'A'}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/ct_gallery/assets/js/wwe-photo-gallery-init.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/ct_poll/js/wwe_poll.js. */
!(function($){'use strict';Drupal.behaviors.wwePoll={attach:function(context,settings){$('.wwe-poll',context).once('wwePoll',function(){var $thisPoll=$(this),$pollSubmit=$thisPoll.find('.poll-submit'),$pollDisplay=$thisPoll.find('.poll-display'),pollId=$pollDisplay.attr('id'),$opts=$pollDisplay.find('.poll-options input');$opts.on('change',function(){$pollSubmit.attr('disabled',false)});$pollSubmit.on('click',function(){var optId,voteUrl,$results,$resultsItems,$resultsItem,$resultsNone,$thanksHeading;$pollSubmit.attr('disabled',true);optId=$opts.filter(':checked').val();if(settings.wweVoting.server!==undefined){voteUrl=settings.wweVoting.server+'?poll='+pollId+'&option='+optId;$.ajax({url:voteUrl,datatype:'html'})};$results=$thisPoll.find('.poll-results').detach();$resultsItems=$results.find('.poll-results__items');$resultsItem=$resultsItems.find('.results-item').detach();$resultsNone=$results.find('.poll-results__no_results');$.getJSON('/api/poll/get-results/'+pollId,null,function(data){if(data.results.length!==0){$.each(data.results,function(i,resultsItem){var $item=$resultsItem.clone(),$bar=$item.find('.bar');$bar.width(resultsItem.percent+'%');$item.find('.per').text(resultsItem.percent);$item.find('.text').text(resultsItem.text);if(resultsItem.id===parseInt(optId,10)){$item.find('.vote-indicator').removeClass('js-hide')}else $item.find('.vote-indicator').remove();$resultsItems.append($item);$resultsNone.remove()})}else{$resultsNone.find('.poll-results--body').html(data.message);$resultsItem=undefined;$resultsItems.remove()};$pollDisplay.append($results);$pollDisplay.find('.poll-options').addClass('js-hide');$results.show();$pollDisplay.find('.poll-link').remove()});$thanksHeading=$thisPoll.find('.wwe-feed-cards--thanks-title');if($thanksHeading.length!==0){$thisPoll.find('.wwe-feed-cards--title').addClass('js-hide');$thanksHeading.removeClass('js-hide')}})});$('.view-polls-results tbody tr',context).once('wwePollResults',function(){var $rows=$(this);$.each($rows,function(i,row){var nid=$(row).attr("class").match(/\d+/g),$link=$('.'+nid+' .view-results'),url=$link.attr('href'),html;$.getJSON(url,null,function(data){html='';html+='<div class="poll-results '+nid+'" style="display: none;">';if(data.results.length!==0){$.each(data.results,function(i,resultsItem){html+='<div style="padding-left: 20px;">';html+='<div style="width: 50%; float: left; white-space: nowrap; overflow: hidden;">'+resultsItem.text+'</div>';html+='<div style="width: 10%; float: left; text-align: center;">'+resultsItem.votes+'</div>';html+='<div style="width: 10%; float: left; text-align: center;">'+resultsItem.percent+'%</div>';html+='<div style="width: 30%; float: left;"><div style="width: '+resultsItem.percent+'%; background-color: forestgreen";>&nbsp;</div></div>';html+='</div>'})}else html+='<div style="padding-left: 20px;">No results available.</div>';html+='</div>';$(row).after(html);$link.bind("click",function(e){e.preventDefault();$('.poll-results.'+nid).toggle()})})})})}}}(jQuery));;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/ct_poll/js/wwe_poll.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/ct_section/js/wwe-network-offer-pane.js. */
!(function($){'use strict';Drupal.behaviors.wwe_network_offer_pane={attach:function(context,settings){var $offer_pane=$('.pane-wwe-network-offer-pane',context);if($offer_pane.length!==0){var logged_in_status=this.loggedInStatus(),geo=this.getNetworkCookie();$('.wwe-section-network-sign-in-button a.'+logged_in_status,$offer_pane).removeClass("geo-shared-hidden");var found=false;$('.wwe-section-network-free-month-button a.'+logged_in_status,$offer_pane).each(function(){var countries=$(this).data('countries');if(countries.indexOf(geo)!==-1){$(this).removeClass("geo-shared-hidden");found=true}});if(!found)$(".wwe-section-network-free-month-button a."+logged_in_status+"[data-countries*='US']",$offer_pane).removeClass("geo-shared-hidden")}},loggedInStatus:function(){var status='logged-out';if($.cookie('entpc'))try{var ent_object=$.parseJSON($.cookie('entpc'));status='ent-'+ent_object.ent}catch(err){};return status},getNetworkCookie:function(){var geo=null,cookies=document.cookie.split('; ');for(var i=cookies.length-1;i>=0;i--){var row=cookies[i].split('=');if(row[0]=='geo[0]'||row[0]=='geo')geo=row[1]};if(geo==null)geo="US";return geo}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/ct_section/js/wwe-network-offer-pane.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/ct_show/assets/js/network-watch-cookie.js. */
!(function($){'use strict';Drupal.behaviors.wweNetworkCookie={isAuthed:false,attach:function(context,settings){var self=this,$networkWatchBreakers,$networkPPVPromos;this.getCookie();$networkWatchBreakers=$('.wwe-network-breaker--wrapper',context);if($networkWatchBreakers.length!==0)$networkWatchBreakers.each(function(){$(this,context).once('network-cookie',function(){self.processNetworkWatch($(this))})});$networkPPVPromos=$('.wwe-promotional-breaker',context);if($networkPPVPromos.length!==0)$networkPPVPromos.each(function(){$(this,context).once('network-cookie',function(){self.processPPVPromo($(this))})})},processPPVPromo:function($target){var self=this,ctaText,ctaLink,$cta=$('.network-ppv-promo-cta',$target),$image=$('.network-ppv-promo-image',$target),$flyoverLink=$('.wwe-promotional-breaker--cta-links .js--wwe-flyover-overlay');if(typeof Drupal.settings.wwe_network!=="undefined")if(self.isAuthed){ctaText=Drupal.settings.wwe_network.network_text_cta_in[Drupal.settings.wwe_network.langCode];ctaLink=Drupal.settings.wwe_network.wwe_network_logged_in_link;if($cta.length!==0){$cta.attr('href',ctaLink);$cta.text(ctaText)};if($image.length!==0)$image.attr('href',ctaLink);$flyoverLink.hide()}else $flyoverLink.show()},processNetworkWatch:function($target){var self=this,$title=$('.wwe-network-breaker--title',$target),$desc=$('.wwe-network-breaker--body',$target),$cta=$('.js-wwe-network-watch',$target);if($title.length===0&&$desc.length===0&&$cta.length===0)return;if(typeof Drupal.settings.wwe_network!=="undefined"){var title=Drupal.settings.wwe_network.network_pane_title_out[Drupal.settings.wwe_network.langCode],desc=Drupal.settings.wwe_network.network_pane_description_out[Drupal.settings.wwe_network.langCode],cta=Drupal.settings.wwe_network.network_text_cta_out[Drupal.settings.wwe_network.langCode],ctaLink=Drupal.settings.wwe_network.wwe_network_link;if(self.isAuthed){title=Drupal.settings.wwe_network.network_pane_title_in[Drupal.settings.wwe_network.langCode];desc=Drupal.settings.wwe_network.network_pane_description_in[Drupal.settings.wwe_network.langCode];cta=Drupal.settings.wwe_network.network_text_cta_in[Drupal.settings.wwe_network.langCode];ctaLink=Drupal.settings.wwe_network.wwe_network_logged_in_link};$title.text(title);$desc.text(desc);$cta.attr('href',ctaLink);$cta.text(cta).data('tracking-label',cta)}},getCookie:function(){if($.cookie('entpc'))this.isAuthed=true}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/ct_show/assets/js/network-watch-cookie.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/ct_social/assets/js/social-breaker.js. */
!(function($){'use strict';Drupal.behaviors.socialBreaker={$wrapper:null,attach:function(context,settings){this.$wrapper=$('.js-breaker-social');if(this.$wrapper.length)this.init()},init:function(){var sb=this;imagesLoaded(sb.$wrapper,function(){sb.$wrapper.packery({itemSelector:'.wwe-breaker--item-wrapper',columnWidth:'.wwe-breaker--item__spacer',percentPosition:true,gutter:0});sb.$wrapper.on('layoutComplete',function(event,laidOutItems){var diff=0;$.each(laidOutItems,function(key,value){var $this=$(this.element),$twitterElement=$this.find('.wwe-breaker--item__twitter-text');if($twitterElement.length){var thisHeight=parseInt($this.css('height'),10);if($twitterElement.height()>thisHeight){var padding=30;diff=$twitterElement.height()-thisHeight+padding;$this.css('height',thisHeight+diff+'px')}}})})})}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/ct_social/assets/js/social-breaker.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/ct_talent/js/talent-detail.js. */
!(function($){'use strict';Drupal.behaviors.wweThemeTalent={numBioShow:3,$statsBtn:'',$talentHero:'',$statsBtnClose:'',$talentStats:'',$talentName:'',$talentBio:'',$talentBioReadMore:'',currentBreakpoint:'',$dynamicNames:'',$tracking:'',attach:function(context,settings){this.$statsBtn=$('.wwe-talent__hero--stats-btn');this.$talentHero=$(".wwe-talent__hero");this.$statsBtnClose=$('.wwe-talent__close');this.$talentStats=$('.wwe-talent__stats--wrapper');this.$talentName=this.$talentHero.find('.wwe-talent__hero--title');this.$talentBioReadMore=$('.js-talent-content-tgl');this.$talentBio=$('.wwe-talent__bio-biography');this.checkNameLength();this.initStatsToggle();this.initBio();this.currentBreakpoint=Drupal.behaviors.wweThemeBreakpoints.breakpoint.value;$(window).resize(function(){var td=Drupal.behaviors.wweThemeTalent;if(td.currentBreakpoint!==Drupal.behaviors.wweThemeBreakpoints.breakpoint.value&&td.$dynamicNames.length>0){td.currentBreakpoint=Drupal.behaviors.wweThemeBreakpoints.breakpoint.value;td.resetNameSize()}})},checkNameLength:function(){var talentName=this.$talentName.text(),longNameLength=10,opts=this.getFlowTypeOpts(),names=talentName.replace(/\s+/g,' ').trim().split(' '),newNameMarkup='',i=0;for(i;i<names.length;i++)if(names[i].length>=longNameLength){newNameMarkup+='<span class="js-type-size">'+names[i]+' </span>'}else newNameMarkup+='<span>'+names[i]+' </span>';this.$talentName.html(newNameMarkup);this.$dynamicNames=this.$talentName.find('.js-type-size');if(this.$dynamicNames.length>0)this.$dynamicNames.css({display:'block',width:'100%'}).flowtype({fontRatio:opts.ratio,maxFont:opts.fontMax})},resetNameSize:function(){var opts=this.getFlowTypeOpts();this.$dynamicNames.flowtype({fontRatio:opts.ratio,maxFont:opts.fontMax})},getFlowTypeOpts:function(){var opts={ratio:9,fontMax:50};if(Drupal.behaviors.wweThemeBreakpoints.breakpoint.value=='mobile'){opts.ratio=12;opts.fontMax=50}else if(Drupal.behaviors.wweThemeBreakpoints.breakpoint.value=='tablet'){opts.ratio=9;opts.fontMax=50}else if(Drupal.behaviors.wweThemeBreakpoints.breakpoint.value=='desktop'){opts.ratio=11;opts.fontMax=48};return opts},initStatsToggle:function(){var td=this;td.$statsBtn.on('click',function(e){if(td.$talentStats.hasClass("wwe-talent__stats--open")){return false}else{td.$talentStats.addClass("wwe-talent__stats--open");td.$talentHero.addClass("wwe-talent__hero--open");e.stopPropagation()}});td.$statsBtnClose.on('click',function(){if(td.$talentStats.hasClass("wwe-talent__stats--open")&&td.$talentHero.hasClass("wwe-talent__hero--open")){td.$talentStats.removeClass("wwe-talent__stats--open");td.$talentHero.removeClass("wwe-talent__hero--open")}else return false});$(document).on('click touchend',function(e){if(!$(e.target).closest('.wwe-talent__stats').length)if($('.wwe-talent__stats--wrapper').hasClass("wwe-talent__stats--open")){$('.wwe-talent__stats--wrapper').removeClass("wwe-talent__stats--open");$('.wwe-talent__hero').removeClass("wwe-talent__hero--open")}})},initBio:function(){var td=this,$domItems=td.$talentBio.children();if($domItems.length<td.numBioShow){td.$talentBioReadMore.hide()}else{$domItems=$domItems.slice(0,-1);$domItems.each(function(i,e){if(i<td.numBioShow)return;$(this).hide()})};td.$talentBioReadMore.off().on('click',{context:td},td.handleBioToggle)},handleBioToggle:function(e){e.preventDefault();var td=e.data.context,$target=$(e.target);if($target.hasClass("wwe-content-toggle__open")){td.$talentBio.children().slice(td.numBioShow).not('.wwe-content-toggle').slideUp();$target.text(Drupal.t('Continue Reading'));$target.removeClass('wwe-content-toggle__open')}else{td.$talentBio.children().slice(td.numBioShow).not('.wwe-content-toggle').slideDown();$target.text(Drupal.t('Less'));$target.addClass('wwe-content-toggle__open')}}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/ct_talent/js/talent-detail.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/ct_talent/js/superstars-belts.js. */
!(function($){'use strict';Drupal.behaviors.superstarsBelts={$carousels:undefined,attach:function(context,settings){var self=this;if($('.superstars-belts--items',context).length)self.init(context)},init:function(context){var self=this,$carousels=$('.superstars-belts--items:not(.slick-initialized)',context);$carousels.on('breakpoint',function(){self.setupNavigation()});if(this.$carousels===undefined){this.$carousels=$carousels}else $.extend(this.$carousels,$carousels);self.setupCarousels();$(window).resize(function(){self.setupPositions()})},setupCarousels:function(){var self=this;this.$carousels.slick({infinite:true,cssEase:'linear',dots:true,arrows:true,speed:300,slidesToShow:3,slidesToScroll:3,responsive:[{breakpoint:1025,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:760,settings:{slidesToShow:1,slidesToScroll:1,dots:false}}]});self.setupNavigation()},setupNavigation:function(){this.$carousels.find('.slick-prev').addClass('wwe-carousel--btn wwe-carousel--btn-prev');this.$carousels.find('.slick-next').addClass('wwe-carousel--btn wwe-carousel--btn-next');this.$carousels.find('.slick-dots').addClass('wwe-carousel--nav');this.setupPositions()},setupPositions:function(){var prev=this.$carousels.find('.slick-prev'),next=this.$carousels.find('.slick-next'),dots=this.$carousels.find('.slick-dots');if(Drupal.behaviors.wweThemeBreakpoints.breakpoint.value=='desktop'||Drupal.behaviors.wweThemeBreakpoints.breakpoint.value=='tablet'){var widthCarousels=this.$carousels.outerWidth(true),widthDots=dots.outerWidth(true),x=(widthCarousels-widthDots)/2;prev.css("left",x);next.css("right",x)}else{prev.attr("style","");next.attr("style","")}}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/ct_talent/js/superstars-belts.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/ct_talent/js/superstars-search.js. */
!(function($){'use strict';Drupal.behaviors.superstarsSearch={$talentWrapper:undefined,limit:16,imageBreakers:[],talent:[],filters:[],filtered:[],$grid:null,range:{start:0,end:12,loaded:0},isScrolling:false,scrollInterval:null,isLoading:false,status:false,currentBreakpoint:'',attach:function(context,settings){var dom,ss=this;ss.currentBreakpoint=Drupal.behaviors.wweThemeBreakpoints.breakpoint.value;$(window).resize(function(){if(ss.currentBreakpoint!==Drupal.behaviors.wweThemeBreakpoints.breakpoint.value)ss.currentBreakpoint=Drupal.behaviors.wweThemeBreakpoints.breakpoint.value});$(window).bind("pageshow",function(event){if(event.originalEvent.persisted)window.location.reload()});if($("#superstars-search-talent-wrapper",context).length!==0&&typeof settings.superstarsSearch!==undefined){$('#superstars-search-talent-wrapper',context).once('superstarsSearch',function(){ss.status=true;ss.ssInit(settings)});if(context===document&&typeof Drupal.settings.transporter!=='undefined')if(typeof Drupal.settings.transporter.domElement!=='undefined'){dom=Drupal.settings.transporter.domElement;$(dom).on('startTransport.transport',function(e){if(ss.status)e.preventDefault()})}}},ssInit:function(settings){var ss=Drupal.behaviors.superstarsSearch;ss.limit=parseInt(settings.superstarsSearch.limit);ss.imageBreakers=settings.superstarsSearch.imageBreakers;ss.$superStarSeach=$("#superstars-search");ss.$talentWrapper=$("#superstars-search-talent-wrapper");ss.$selectWrapper=$("#superstars-search-select-wrapper");ss.$searchFieldWrapper=$("#superstars-search-field-wrapper");ss.$loadMoreWrapper=$("#superstars-search-load-more-wrapper");ss.$filterTitle=$('#superstars-search-category');ss.origFilterTitle=ss.$filterTitle.text();$.ajax({url:'/api/superstars',dataType:'json'}).done(function(data){ss.currentSelection=Drupal.settings.superstarsSearch.initialCategory;ss.filters=data.filters;ss.talent=data.talent;ss.range.loaded=ss.limit;ss.range.end=ss.limit;ss.pinnedTalent();ss.initSelectList();ss.applyFilter();ss.initSearchField()})},pinnedTalent:function(){var ss=this,pinnedTalent=Drupal.settings.superstarsSearch.pinnedTalent,pinnedTalentArr=[],newTalent=[];$(ss.talent).each(function(){if(pinnedTalent.indexOf(this.name)>-1){pinnedTalentArr.push(this)}else newTalent.push(this)});ss.talent=pinnedTalentArr.concat(newTalent)},initSelectList:function(){var ss=this,$sel=$('<select>').attr('id','superstar-search-select').appendTo(ss.$selectWrapper);$(ss.filters).each(function(){$sel.append($("<option>").attr('value',this.tid).text(this.name))});$sel.val(ss.currentSelection);ss.currentSelectionLabel=$sel.find('option:selected').text();var superstarSelectClass='superstar-search--selection-box',superstarOptClass='superstar-search--option';$($sel).selectionBox({selectContainerClass:superstarSelectClass,optionContainerClass:superstarOptClass,defaultText:ss.currentSelectionLabel});$('.superstar-search--option').on('click',function(){var textValue=$(this).text(),$superstarSearchSelectOption=$('#superstar-search-select').find('option');$superstarSearchSelectOption.each(function(){if($(this).text()!==textValue)$(this).attr('selected',false)});ss.currentSelection=$superstarSearchSelectOption.filter(function(){return $(this).text()===textValue}).val();ss.currentSelectionLabel=textValue;if(typeof(Drupal.behaviors.wweAnalytics)!='undefined')Drupal.behaviors.wweAnalytics.handleTrackingEvent($sel);ss.applyFilter()});var $selectBox=$('.'+superstarSelectClass),$selectOpt=$('.'+superstarOptClass);$selectBox.on('click',function(){$(this).toggleClass('active');if(!$(this).hasClass('active')&&Drupal.behaviors.wweThemeBreakpoints.breakpoint.value==='mobile'){Drupal.behaviors.WWEVideoExplorer.showHighlights()}else if($(this).hasClass('active')&&Drupal.behaviors.wweThemeBreakpoints.breakpoint.value==='mobile')Drupal.behaviors.WWEVideoExplorer.hideHighlights()});$selectOpt.on('click',function(){$selectBox.toggleClass('active');if(!$selectBox.hasClass('active')&&Drupal.behaviors.wweThemeBreakpoints.breakpoint.value==='mobile'){Drupal.behaviors.WWEVideoExplorer.showHighlights()}else if($selectBox.hasClass('active')&&Drupal.behaviors.wweThemeBreakpoints.breakpoint.value==='mobile')Drupal.behaviors.WWEVideoExplorer.hideHighlights()})},initSearchField:function(){var ss=this,$search_field=$('<input>').attr({id:'superstar-search-field',placeholder:'Search'}).appendTo(ss.$searchFieldWrapper);Drupal.behaviors.wweThemeGlobals.bindFormFields();var suggestions=[];$(ss.talent).each(function(i,talent){if(typeof talent.name!=="undefined"&&typeof talent.link!=="undefined")suggestions.push({value:talent.name,link:talent.link})});$($search_field).autocomplete({lookup:suggestions,onSelect:function(suggestion){if(typeof(Drupal.behaviors.wweAnalytics)!='undefined')Drupal.behaviors.wweAnalytics.handleTrackingEvent($search_field);ss.redirect(suggestion.value,suggestion.link)}});$($search_field).change(function(event){$(ss.talent).each(function(i,talent){if(event.currentTarget.value.toLowerCase()===talent.name.toLowerCase()){ss.redirect(talent.name,talent.link);return false}})})},redirect:function(name,link){var ss=this,throbber="<img src=\"/sites/all/modules/contrib/ctools/images/throbber.gif\" />";$(ss.$searchFieldWrapper).html(throbber);window.location=link},applyFilter:function(){var ss=this;if(ss.$grid){ss.status=true;ss.resetRange();ss.$talentWrapper.empty();ss.$talentWrapper.masonry('destroy');ss.$grid=undefined};if(typeof(ss.currentSelection)==="undefined"||ss.currentSelection==="all"){ss.filtered=[];$(ss.talent).each(function(){ss.filtered.push(this)});ss.$filterTitle.text(ss.origFilterTitle);if(typeof(ss.currentSelection)==="undefined"){ss.addImageBreakers()}else ss.$filterTitle.text(ss.currentSelectionLabel)}else{ss.filtered=$.grep(ss.talent,function(item){return item.filters.indexOf(ss.currentSelection)>-1});ss.$filterTitle.text(ss.currentSelectionLabel);if(ss.currentSelectionLabel==="Current Superstars")ss.addImageBreakers()};ss.updateDisplay()},addImageBreakers:function(){var ss=this,spacingDistance=7;if(ss.filtered.length>spacingDistance)$(ss.imageBreakers).each(function(i,v){var offset=(i*spacingDistance)+2,breaker={};breaker.type="image_breaker";breaker.image=ss.imageBreakers[i];ss.filtered.splice(offset,0,breaker)})},talentMarkup:function(data){return'<div class="superstars-search--item superstars--item nid-'+data.nid+' new img-not-loaded"><div class="superstars--item--inner"><a class="superstars--item--content js-track" data-tracking-label="'+data.name+'" href="'+data.link+'">'+data.image+'<div class="superstars--info"><span class="superstars--name">'+data.name+'</span></div></a></div></div>'},imageBreakerMarkup:function(data){return'<div class="superstars-search--item superstars--image-breaker new img-not-loaded"><div class="superstars--image-breaker--inner">'+data.image+'</div></div>'},addLoadMore:function(){var ss=this;$(window).on('scroll.superstarSearch',function(){ss.isScrolling=true});ss.scrollInterval=ss.triggerInterval()},triggerInterval:function(){var ss=this;return window.setInterval(function(){if(ss.isScrolling){ss.isScrolling=false;if(ss.shouldLoadMore()){ss.isLoading=true;ss.loadMore()}}},350)},shouldLoadMore:function(){var inCorrectLoc=$(window).scrollTop()+$(window).height()>this.$talentWrapper.height()+this.$talentWrapper.offset().top-200,moreToLoad=$(this.$talentWrapper).children().length<this.filtered.length;return inCorrectLoc&&moreToLoad&&!this.isLoading},loadMore:function(){var markup='<div class="wwe-loader--wrapper"><div class="wwe-loader__drk"></div></div>';$(this.$loadMoreWrapper).html(markup);this.updateRange();this.updateDisplay()},updateRange:function(){var ss=this,limit=ss.range.end-ss.range.start,new_start=ss.range.start+limit,new_end=ss.range.end+limit;ss.range={start:new_start,end:new_end,loaded:ss.range.loaded+ss.limit}},resetRange:function(){var ss=this;ss.range={start:0,end:ss.limit,loaded:ss.limit}},updateDisplay:function(){var ss=this,start=!ss.$grid?0:ss.range.start,end=!ss.$grid?ss.range.end:ss.range.loaded,items=$(ss.filtered).slice(start,end);if(!ss.$grid)$(ss.$talentWrapper).append("<div class='superstars--sizer'></div>");$.each(items,function(){if(this.type=="talent"){$(ss.$talentWrapper).append(ss.talentMarkup(this))}else if(this.type=="image_breaker")$(ss.$talentWrapper).append(ss.imageBreakerMarkup(this))});var $itemsAdded=ss.$talentWrapper.children('.new');if(!ss.$grid){ss.$talentWrapper.on('layoutComplete',function(){ss.$talentWrapper.find('.new').removeClass('new');imagesLoaded(ss.$talentWrapper,function(){ss.$talentWrapper.find('.img-not-loaded img').fadeIn(350,'linear',function(){$(this).parents('.img-not-loaded').removeClass('img-not-loaded')})})});ss.$grid=ss.$talentWrapper.masonry({itemSelctor:'.superstars-search--item',columnWidth:'.superstars--sizer',percentPosition:true})}else ss.$grid.masonry('appended',$itemsAdded).masonry();var displayedItemCount=$(ss.$talentWrapper).children().length-1;ss.isLoading=false;window.clearInterval(ss.scrollInterval);$(window).unbind('scroll.superstarSearch');if(displayedItemCount<ss.filtered.length){ss.addLoadMore()}else{ss.status=false;$(ss.$loadMoreWrapper).empty()};if(typeof(Drupal.behaviors.wweAnalytics)!='undefined')Drupal.behaviors.wweAnalytics.bindTrackingEvents()}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/ct_talent/js/superstars-search.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/ct_talent/js/superstars-card.js. */
!(function($){'use strict';Drupal.behaviors.wweSuperStarCard={attach:function(context,settings){this.currentBreakpoint=Drupal.behaviors.wweThemeBreakpoints.breakpoint.value;this.$bodyTruncate=$('.wwe-superstar__card-highlights--body');if(this.$bodyTruncate.length===0)return false;this.$bodyTruncated=this.$bodyTruncate.attr('data-truncate');this.$bodyFull=this.$bodyTruncate.attr('data-full');this.checkStarWindowSize();$(window).resize(function(){var td=Drupal.behaviors.wweSuperStarCard;if(td.currentBreakpoint!==Drupal.behaviors.wweThemeBreakpoints.breakpoint.value){td.currentBreakpoint=Drupal.behaviors.wweThemeBreakpoints.breakpoint.value;td.checkStarWindowSize()}})},checkStarWindowSize:function(){if(typeof(this.$bodyTruncated)!==undefined||typeof(this.$bodyFull)!==undefined)if(this.currentBreakpoint==='tablet'){if(this.$bodyTruncated.length>0)this.$bodyTruncate.html(this.$bodyTruncated)}else if(this.$bodyFull.length>0)this.$bodyTruncate.html(this.$bodyFull)}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/ct_talent/js/superstars-card.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/wwe_ads/assets/js/wwe-ads.js. */
!(function($){'use strict';Drupal.behaviors.WWEAds={networkID:'/4675',adSlots:{},adSlotsDisplayed:[],adSlotsRefreshed:{},unitName:'',hamburgerUnitName:'',adCounter:0,adsSet:0,loggedIn:0,dpos:{},browserBreakpoint:'',mobileHeader:false,seenAds:[],lazyThreshold:400,galleryRefresh:5e3,mobileRefresh:2e3,leaderboardTimeout:undefined,phoneBreakpoint:767,tabletBreakpoint:1024,dataOS:[],language:'',attach:function(context){var self=this,breakpoint;if(typeof googletag==='undefined'){return}else if(typeof googletag.pubads==='undefined')return;this.wweBrowserDetect.init();if(context===document)this.dpos={};this.setAdUnit();this.wweBrowserDetect.initialized=false;this.wweBrowserDetect.init();this.loggedIn=Drupal.settings.WWEAds.uid;if(typeof Drupal.settings.WWEAds!=='undefined'){if(typeof Drupal.settings.WWEAds.lazyLoad!=='undefined')this.lazyThreshold=Drupal.settings.WWEAds.lazyLoad;if(typeof Drupal.settings.WWEAds.galleryRefresh!=='undefined')this.galleryRefresh=Drupal.settings.WWEAds.galleryRefresh};if(typeof Drupal.settings.WWE!=='undefined')if(typeof Drupal.settings.WWE.language!=='undefined')this.language=Drupal.settings.WWE.language;if(self.language==='de'||self.language==='')return;var slots=Drupal.settings.WWEAds.adSlots;for(var key in slots){var slot=slots[key];if(this.seenAds.indexOf(key)===-1){this.lazyLoader(slot);this.seenAds.push(key)}};self.processAdSlots(context);googletag.pubads().enableAsyncRendering();googletag.enableServices();this.setKeyValue(googletag);breakpoint=this.wweBrowserDetect.breakpoint.toLowerCase();if(context===document&&breakpoint!=='desktop'){this.attachMobileBannerScroll();$(window).scroll()};if(context===document)$(window).on('successfulTransport.transport',function(e,data){self.adSlotsRefreshed={}})},wweBrowserDetect:{breakpoint:'DESKTOP',operatingsystem:'',mobile:false,troublemaker:false,altLogin:false,width:1024,height:768,initialized:false,init:function(){if(this.initialized)return;Drupal.behaviors.WWEAds.defineDataOS();if(typeof(window.innerHeight)!=='undefined'){this.width=parseInt(window.innerWidth);this.height=parseInt(window.innerHeight)}else if(typeof(document.documentElement.clientHeight)!=='undefined'){this.width=document.documentElement.clientWidth;this.height=document.documentElement.clientHeight};var ua=navigator.userAgent.toLowerCase();this.mobile=(/iphone|ipod|ipad|android|xoom|sch-i800|playbook|silk|tablet|kindle|smartphone|iemobile|palm|mini|blackberry|bb10|windows\sce/i.test(ua));this.troublemaker=(/Version\/4.0/i.test(ua)||/Chrome\/18/i.test(ua));this.altLogin=(/Version\//i.test(ua));if(this.width<=Drupal.behaviors.WWEAds.phoneBreakpoint&&this.mobile){this.breakpoint='PHONE'}else if(this.width<=Drupal.behaviors.WWEAds.tabletBreakpoint&&this.mobile){this.breakpoint='TABLET'}else if(this.width<=Drupal.behaviors.WWEAds.tabletBreakpoint)this.breakpoint='SM-DESKTOP';this.operatingsystem=this.searchString(Drupal.behaviors.WWEAds.dataOS);if(/iphone|ipod|ipad/i.test(navigator.userAgent));this.initialized=true},searchString:function(data){for(var i=0;i<data.length;i++){var dataIdentityRegExGroups=data[i].identityRegExGroups,dataString=data[i].string,dataProp=data[i].prop;if(dataIdentityRegExGroups){var matches=dataIdentityRegExGroups.exec(dataString);if(matches)return matches[1]}else if(dataString){if(dataString.indexOf(data[i].subString)!=-1)return data[i].identity}else if(dataProp)return data[i].identity};return'unknown'}},processAdSlots:function(context){var self=this;$('.wwe-ad--non-sponsored',context).each(function(){var $element=$(this),target=$element.attr('id'),customvars={dcampaign:$element.data('dcampaign'),dcommit:$element.data('dcommit'),dcardtype:$element.data('dcardtype')};if(target&&!self.adSlots['target']){var slot={type:'non-sponsored-element',target:target,sizes:{desktop:'[14,9]',tablet:'[14,9]',phone:'[14,9]'},interstitial:false,customvars:customvars};self.lazyLoader(slot)}});$('.wwe-ad--sponsored',context).each(function(){var $element=$(this),target=$element.attr('id'),customvars={dcampaign:$element.data('dcampaign'),dcommit:$element.data('dcommit'),dcardtype:$element.data('dcardtype')};if(target&&!self.adSlots['target']){var slot={type:'sponsored-element',target:target,sizes:{desktop:'[14,5]',tablet:'[14,5]',phone:'[14,5]'},interstitial:false,customvars:customvars};self.lazyLoader(slot)}});$('.wwe-ad--sponsored-content',context).each(function(){var $element=$(this),target=$element.attr('id'),customvars={dcampaign:$element.data('dcampaign'),dcommit:$element.data('dcommit'),dcardtype:$element.data('dcardtype')};if(target&&!self.adSlots['target']){var slot={type:'sponsored-element-content',target:target,sizes:{desktop:'[14,3]',tablet:'[14,3]',phone:'[14,3]'},interstitial:false,customvars:customvars};self.lazyLoader(slot)}});if(self.language!=='de')$('.wwe-ad--rail').children('div').not('#ads-outer').each(function(){var target=$(this).attr('id');if(target&&!self.adSlots[target]){var slot={type:'rail-ad',target:target,sizes:{desktop:'[[300,250],[300,600]]',phone:false,tablet:false},interstitial:false};self.lazyLoader(slot)}});$('.wwe-ad-footer',context).each(function(){var target=$(this).attr('id');if(target&&!self.adSlots['target']){var slot={type:'header-ad',target:target,sizes:{desktop:'[[970,90],[970,250]]',phone:false,tablet:false},interstitial:false};self.lazyLoader(slot)}});$('.wwe-ad-interstitial',context).each(function(){var target=$(this).attr('id');if(target&&!self.adSlots['target']){var slot={type:'interstitial-ad',target:target,sizes:{},interstitial:true};self.lazyLoader(slot)}});if(self.language!=='de')$('.wwe-ad-header',context).each(function(){var target=$(this).attr('id'),sizes={desktop:'[[970,90],[970,250]]',phone:'[320, 50]',tablet:'[728, 90]'};if(self.breakpoint!='desktop')if(self.mobileHeader){sizes={desktop:'[[970,90],[970,250]]',phone:false,tablet:false}}else self.mobileHeader=target;if(target&&!self.adSlots['target']){var slot={type:'header-ad',target:target,sizes:sizes,interstitial:false};self.lazyLoader(slot)}})},setAdUnit:function(adUnit){if(typeof adUnit==='undefined')adUnit=Drupal.settings.WWEAds;var unitName,hamburgerUnitName,adUnitName,hamburgerAdUnitName,breakpoint=this.breakpoint=this.wweBrowserDetect.breakpoint.toLowerCase();if(breakpoint=='sm-desktop'){breakpoint='tablet';if(parseInt(window.innerWidth)<this.phoneBreakpoint)breakpoint='phone'};this.browserBreakpoint=breakpoint;if(typeof(this.wweBrowserDetect)!='undefined'&&this.wweBrowserDetect.mobile){unitName='MobileWeb/'+breakpoint+'/'+this.wweBrowserDetect.operatingsystem+'/'+adUnit.ddesktop2;hamburgerUnitName='MobileWeb/'+breakpoint+'/'+this.wweBrowserDetect.operatingsystem+'/navigation';var three=adUnit.ddesktop3;if(three!='NONE'){unitName+='/'+three;hamburgerUnitName+='/'+three}}else{unitName='desktop';for(var i=2;i<5;i++){var c='ddesktop'+i,d=adUnit[c];if(d!='NONE')unitName+='/'+d}};adUnitName=this.networkID+'/'+unitName;hamburgerAdUnitName=this.networkID+'/'+hamburgerUnitName;this.unitName=adUnitName.toLowerCase();this.hamburgerUnitName=hamburgerAdUnitName.toLowerCase()},setKeyValue:function(googletag,settings){if(typeof settings==='undefined')settings=Drupal.settings.WWEAds;var k;for(k in settings){if(k=='adSlots')continue;googletag.pubads().setTargeting(k,settings[k])};var params=location.search.replace(/^\?/,'').split('&');if(params.length>0)for(var i=0;i<params.length;i++){var param=params[i].split('=');if(param[0]=='gpttestad')googletag.pubads().setTargeting("gpttestad",param[1])};googletag.pubads().setTargeting("dregion",window.location.hostname)},defineSlot:function(slot){var self=this,target=slot.target,type=slot.type,breakpoint=self.breakpoint;if(breakpoint=='sm-desktop'){breakpoint='tablet';if(parseInt(window.innerWidth)<this.phoneBreakpoint)breakpoint='phone'};if(breakpoint!='desktop'&&target==self.mobileHeader){var css={position:'fixed',bottom:0,'z-index':998,width:728,left:0,right:0,margin:'0 auto'};if(breakpoint=='phone')css.width='320';$('#'+self.mobileHeader).css(css);$('.pane-ads-header-pane').css({height:0})};if(this.adSlots[target])return;if(slot.interstitial){this.adSlots[target]=googletag.defineOutOfPageSlot(this.unitName,target).addService(googletag.pubads())}else{if(!slot.sizes[breakpoint])return;var size=JSON.parse(slot.sizes[breakpoint]);googletag.pubads().enableAsyncRendering();if(type==='wwe-hamburger'){var ds=googletag.defineSlot(this.hamburgerUnitName,size,target)}else var ds=googletag.defineSlot(this.unitName,size,target);if(ds){if(!this.dpos[type]){this.dpos[type]=1}else this.dpos[type]++;this.adCounter++;this.adSlots[target]=ds.addService(googletag.pubads()).setTargeting('dcounter',this.adCounter).setTargeting('dpos',this.dpos[type]);if(type=='gallery-ad--leader-board'||type=='gallery-ad--grid')ds.setTargeting('dpagetype','gallerygrid');if(typeof slot.customvars!=='undefined')for(var key in slot.customvars)ds.setTargeting(key,slot.customvars[key]);if(type==='non-sponsored-element'||type==='sponsored-element'||type==='sponsored-element-content'){ds.setTargeting('dcampaign',slot.customvars.dcampaign);ds.setTargeting('dcommit',slot.customvars.dcommit);ds.setTargeting('dcardtype',slot.customvars.dcardtype)}}else this.showImage(slot)};return true},displaySlot:function(target,changeCorrelator){var self=this,slot=this.adSlots[target];if(slot){if(this.adSlotsDisplayed.indexOf(target)!==-1){if(this.adSlotsRefreshed[target]===undefined)googletag.cmd.push(function(){googletag.pubads().refresh([slot],{changeCorrelator:changeCorrelator})})}else{googletag.cmd.push(function(){if(changeCorrelator)googletag.pubads().updateCorrelator();googletag.display(target)});this.adSlotsDisplayed.push(target)};if(this.adSlotsRefreshed[target]===undefined){self.adSlotsRefreshed[target]=true;window.setTimeout(function(target){if(self.adSlotsRefreshed[target]!==undefined)delete self.adSlotsRefreshed[target]},self.galleryRefresh,target)}}},showImage:function(slot){var self=this,breakpoint=this.breakpoint;if(slot.interstitial)return;var target=slot.target;if(breakpoint!='desktop'&&target==self.mobileHeader){var css={position:'fixed',bottom:'50px','z-index':998,width:728,left:0,right:0,margin:'0 auto'};if(this.breakpoint=='phone')css.width='320';$('#'+self.mobileHeader).css(css);$('.pane-ads-header-pane').css({height:0})};if(this.adSlots[target])return;if(!slot.sizes)return;var size=slot.sizes[this.breakpoint];if(!size)return;if(self.language=='de'&&$('#'+target).parent().hasClass('wwe-ad--rail'))return;size=JSON.parse(size);if(typeof(size[0])=='object')size=size[0];var img='http://www.placehold.it/'+size[0]+'x'+size[1];$('#'+target).prepend($('<img>',{src:img}));this.adSlots[target]=slot},renderAds:function(data,nodisplay){var key;if(!Drupal.settings.WWEAds.adSlots)Drupal.settings.WWEAds.adSlots={};for(key in data)if(!this.adSlots[key]){Drupal.settings.WWEAds.adSlots[key]=data[key];if(this.wweBrowserDetect.initialized)this.lazyLoader(data)}},lazyLoader:function(data){var self=this,target=data.target,$window=$(window),$target=$('#'+target);if($target.data('process-ad')===false)return false;if(self.loggedIn){self.showImage(data);self.adSlots[target]=true;return false};if(target==="wwe-ad--hamburger"){$target.not('.ad-load-processed').each(function(){var $elem=$(this);$elem.once('ad-load',function(){self.defineSlot(data);self.displaySlot(target)})})}else{var height=$window.height(),videoOverlayVisible=$('.pane-video-explorer').hasClass('overlay-visible'),galleryOverlayVisible=$('#wwe-gallery--overlay').hasClass('open'),isSponsored=$target.hasClass('wwe-ad--sponsored-content');if((videoOverlayVisible||galleryOverlayVisible)&&isSponsored){self.defineSlot(data);self.displaySlot(target,true)};$window.on('scroll',function(){$target.not('.ad-load-processed').each(function(){var $elem=$(this),docViewTop=$window.scrollTop(),docViewBottom=docViewTop+(height+parseInt(self.lazyThreshold)),elemTop=$elem.offset().top;if((elemTop<=docViewBottom)){var noSuppress=true;if($('#wwe-gallery--overlay').hasClass('open')&&!$elem.hasClass('wwe-gallery--overlay'))if($elem.attr('id')!=self.mobileHeader)noSuppress=false;if($elem.parent().hasClass('wwe-ad--rail')){if(self.language=='de')return false;var $footerAd=$('.wwe-ad-footer').last();if($footerAd.length>0&&$footerAd.offset().top-elemTop<255)noSuppress=false;if($elem.parents('.hybrid-col-frame_rail').length==0)noSuppress=false};if(noSuppress)$elem.once('ad-load',function(){if(data.type==='header-ad'){if(typeof Drupal.settings.WWEAds!=='undefined')if(typeof Drupal.settings.WWEAds.leaderStick!=='undefined')var duration=Drupal.settings.WWEAds.leaderStick;self.leaderboardTimeout=setTimeout(function(){Drupal.behaviors.WWEStickAds.shouldLeaderboardStick=false},parseInt(duration))};self.defineSlot(data);self.displaySlot(target,true)})}})})}},attachMobileBannerScroll:function(target){var self=this,mobileHeader=this.mobileHeader,$scrollElement=$(window),startScrollPos,scrollCount=0,readyForUpdate=false;if(target)$scrollElement=$(target);var mobileRefreshRate=1e3,mobileNumberOfSwipes=5;if(!$(target).hasClass('open')){if(typeof Drupal.settings.WWEAds.mobileNonPhotoRefresh!=='undefined')mobileRefreshRate=Drupal.settings.WWEAds.mobileNonPhotoRefresh;if(typeof Drupal.settings.WWEAds.mobileNonPhotoSwipes!=='undefined')mobileNumberOfSwipes=Drupal.settings.WWEAds.mobileNonPhotoSwipes;$scrollElement=$(document)}else{$scrollElement.find('.wwe-gallery--view-close').on('click touchend',function(){$scrollElement=$(document)});if(typeof Drupal.settings.WWEAds.mobileRefresh!=='undefined')mobileRefreshRate=Drupal.settings.WWEAds.mobileRefresh};var startUpdateTimer=function(){window.setTimeout(function(){readyForUpdate=true},mobileRefreshRate)};startUpdateTimer();$(document).on('touchstart',function(){startScrollPos=$scrollElement.scrollTop()}).on('touchend',function(){var currScrollPos=$scrollElement.scrollTop();if(Math.abs(currScrollPos-startScrollPos)>=5)scrollCount+=1});window.setInterval(function(){var updateScrolls=mobileNumberOfSwipes;if((scrollCount>=updateScrolls)&&readyForUpdate){if(typeof self.adSlots[mobileHeader].setTargeting!=='undefined'){self.adCounter++;self.adSlots[mobileHeader].setTargeting('dcounter',self.adCounter)};self.displaySlot(mobileHeader);scrollCount=0;readyForUpdate=false;startUpdateTimer()}else if(scrollCount>=updateScrolls)scrollCount=updateScrolls-1},1e3)},defineDataOS:function(){this.dataOS=[{string:navigator.userAgent,subString:"iPhone",identity:"ios"},{string:navigator.userAgent,subString:"iPad",identity:"ios"},{string:navigator.userAgent,subString:"iPod",identity:"ios"},{string:navigator.userAgent,subString:"Nexus",identity:"nexus"},{string:navigator.platform,subString:"Android",identity:"Android"},{string:navigator.userAgent,subString:"Blackberry",identity:"Blackberry"},{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.platform,subString:"Linux",identity:"Linux"},{string:navigator.userAgent,subString:"Windows Phone",identity:"Windows Phone"},{string:navigator.platform,subString:"Asha",identity:"Asha"}]}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/wwe_ads/assets/js/wwe-ads.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/wwe_ads/assets/js/sticky-ads.js. */
!(function($){'use strict';Drupal.behaviors.WWEStickAds={topHeight:0,adPadding:40,adminBarHeight:0,explorerHeight:0,ads:[],$breakers:undefined,numAds:0,seenAds:[],headerTops:[],leaderboardStick:1500,shouldLeaderboardStick:true,headerHeight:0,$liveAds:undefined,attach:function(context){var self=this;self.disableAds(context);if(typeof Drupal.behaviors.wweThemeBreakpoints!=='undefined')if(Drupal.behaviors.wweThemeBreakpoints.breakpoint.value!=='desktop')return;self.buildBreakers(context);self.getAds(context);if(context===document){var $nav=$('#mini-panel-header_navigation');if($nav.length>0){self.topHeight=$nav.height();self.topHeight=self.topHeight+self.adPadding};self.getHeaderAds(context);self.attachScrollListener()}},disableAds:function(context){var $ads=$('.wwe-ad--rail',context);$ads.each(function(i,element){$('div',element).attr('data-process-ad',false)})},buildBreakers:function(context){var self=this;$('.wwe-breaker--wrapper, .wwe-breaker--container','.pane-navigation-drawer').attr('data-no-break',true);$('.wwe-breaker--wrapper, .wwe-breaker--container','.pane-geo-shared-widget').attr('data-no-break',true);if(typeof self.$breakers==='undefined'||self.$breakers.length===0){self.$breakers=$('.wwe-breaker--wrapper, .wwe-breaker--container, .wwe-ad-footer')}else self.$breakers=self.$breakers.add('.wwe-breaker--wrapper, .wwe-breaker--container, .wwe-ad-footer');self.$breakers=$.grep(self.$breakers,function(element){var $element=$(element);if($element.data('no-break')===true)return false;var $nextBreaker=$element.nextAll().eq(1);if($nextBreaker.hasClass('wwe-breaker--wrapper')||$nextBreaker.hasClass('wwe-breaker--container')){var $subAd=$element.next();if($subAd.hasClass('wwe-ad--rail')){$subAd.remove();return true}};var $nextBreaker=$element.closest('.hybrid-col-frame_col-wrap').next();$nextBreaker.once('last-ad',function(){if($nextBreaker.hasClass('hybrid-col-frame_breaker-wrap')){var $lastAd=$element.parent().parent().find('.wwe-ad--rail').last();$lastAd.remove()}});return true});self.$breakers=$($.map(self.$breakers,function(el){return $.makeArray(el)}))},getAds:function(context){var self=this,$columnPanels=$('.hybrid-col-frame_col-wrap',context),$ads;if($columnPanels.length<=0)$columnPanels=$(context).closest('.hybrid-col-frame_col-wrap');$columnPanels.each(function(i,element){var $column=$(element),$adColumn=$column.find('.hybrid-col-frame_rail');if($adColumn.length<=0){var $newAdColumn=$('<div/>').addClass('l-hybrid-col-frame_rail-wrap hybrid-col-frame_rail-wrap').appendTo($column);$adColumn=$('<div/>').addClass('hybrid-col-frame_rail').appendTo($newAdColumn)};$ads=$column.find('.wwe-ad--rail');var $previous=$column.prev();if($previous.hasClass('hybrid-col-frame_breaker-wrap'))$ads=$ads.add($previous.find('.wwe-ad--rail'));if($ads.length>0)self.buildAds($ads,$adColumn)})},buildAds:function($ads,$adColumn){var self=this,i=0,l=self.seenAds.length;$ads.each(function(i,element){var $ad=$(element),n=0;for(;n<l;n++)if($ad.is(self.seenAds[n]))return;var breakerAd=false;if($ad.hasClass('wwe-breaker-ad'))breakerAd=true;var $leftColumnWrapper=$adColumn.parent().prev('.hybrid-col-frame_left').find("*").eq(1),customAdPadding=parseInt($leftColumnWrapper.css('padding-top'),10);if(customAdPadding===0)customAdPadding=parseInt($leftColumnWrapper.css('margin-top'),10);if(customAdPadding===0)customAdPadding=self.adPadding;var $adGhost=$('<div/>').addClass('wwe-ad--breaker-ghost');$adGhost.insertBefore($ad);self.ads.push({adElement:element,position:$ad.offset().top,isScrolling:false,bottom:0,$column:$adColumn,$ghost:$adGhost,isBreakerAd:breakerAd,adPadding:customAdPadding});$('div',$ad).data('process-ad',true);$ad.addClass('wwe-ad--valid');if(!$.contains($adColumn,element))$(element).detach().appendTo($adColumn);self.seenAds.push(element)});self.ads.sort(function(a,b){return a.position-b.position});self.numAds=self.ads.length;i=0;for(;i<self.numAds;i++)self.ads[i].adNumber=i;self.$liveAds=$('.wwe-ad--valid');self.updateAds()},updateAds:function(){var self=this,breakerTops=[];if(typeof self.$breakers!=='undefined'&&self.$breakers.length>0)self.$breakers.each(function(i,element){var $element=$(element),$hasAd=$element.prev('.wwe-ad-footer');if($hasAd.length>0){breakerTops.push($hasAd.offset().top)}else breakerTops.push($(element).offset().top)});var breakerTopsLength=breakerTops.length,i=0;for(;i<self.numAds;i++){var bottom='',n=0;for(;n<breakerTopsLength;n++){if(breakerTops[n]<=self.ads[i].position)continue;bottom=breakerTops[n];break};if(bottom===''){var $columnLeft=self.ads[i].$column.parent().prev('.hybrid-col-frame_left');if($columnLeft.length>0)bottom=$columnLeft.offset().top+$columnLeft.outerHeight()};self.ads[i].bottom=bottom-$(self.ads[i].adElement).outerHeight();if(self.ads[i].isScrolling===true)continue;var adColumnOffset=self.ads[i].$column.offset().top;self.ads[i].position=self.ads[i].$ghost.offset().top;var adPosition=self.ads[i].$ghost.offset().top-adColumnOffset;$(self.ads[i].adElement).css({top:adPosition+'px',position:'absolute'})}},attachScrollListener:function(){var self=this,$window=$(window),$adminBar,stuckAd=null,railRefresh=Drupal.settings.WWEAds.railRefresh,startScrollPos=0,currScrollPos=0;$window.on('resize',function(){if(typeof self.$liveAds==='undefined')return;if(typeof Drupal.behaviors.wweThemeBreakpoints!=='undefined')if(Drupal.behaviors.wweThemeBreakpoints.breakpoint.value==='desktop'){self.$liveAds.removeClass('js-hide')}else self.$liveAds.addClass('js-hide')}).resize();$window.on('scroll',function(){if(Drupal.settings.admin_menu!==undefined){if($adminBar===undefined||$adminBar.length===0)$adminBar=$('#admin-menu-wrapper');if($adminBar!==undefined&&$adminBar.length>0)self.adminBarHeight=$adminBar.height()};var $explorer=$('.wwe-video-hightlights--open, .wwe-video-explorer__mini');if($explorer.length>0){self.explorerHeight=$explorer.height()}else self.explorerHeight=0;self.updateAds();self.updateHeaderAds();self.headerHeight=self.topHeight+self.explorerHeight+self.adPadding;if(typeof self.stuckLeader==='undefined'){self.headerHeight=self.topHeight+self.explorerHeight+self.adPadding}else self.headerHeight=self.topHeight+self.explorerHeight+self.adPadding+(self.stuckLeader.$header.height()*.55);var scroll=$window.scrollTop(),modifiedTop=scroll+self.headerHeight,i=0;for(;i<self.numAds;i++){var bottom=self.ads[i].bottom,adTop=self.ads[i].position+self.ads[i].adPadding;if(modifiedTop>(adTop+self.ads[i].adPadding)){if(modifiedTop>bottom){self.toggleStick('bottom',self.ads[i]);self.ads[i].isScrolling=false;stuckAd=null}else{self.toggleStick('start',self.ads[i]);if(stuckAd==null)stuckAd={id:self.ads[i].adElement.firstElementChild.id,top:adTop,scrollStart:scroll}};self.ads[i].isScrolling=true}else if(modifiedTop<=(adTop+self.ads[i].adPadding)){self.toggleStick('top',self.ads[i]);self.ads[i].isScrolling=false;stuckAd=null}};if(stuckAd!=null)if(scroll-stuckAd.scrollStart>=railRefresh){Drupal.behaviors.WWEAds.displaySlot(stuckAd.id);stuckAd.scrollStart=scroll};self.shouldLeaderboardStick=false;if(self.shouldLeaderboardStick===true)if(scroll>0&&self.headerTops.length>0){var i=0,l=self.headerTops.length;for(;i<l;i++){var header=self.headerTops[i];if(scroll>1e3){header.$header.fadeOut("easeOutCubic",function(){header.$placeholder.removeClass('wwe-header-ad').css({width:0,height:0})});self.headerTops.splice(i,1);break};var t=header.top+(header.$header.height()*.55);if(modifiedTop>t){self.transitionHeader(header,i);break}}}});$(window).scroll()},transitionHeader:function(header,i){var self=this,fixedTop=self.topHeight+self.adminBarHeight+self.explorerHeight-self.adPadding;fixedTop=fixedTop-(header.$header.height()*.55);header.$header.addClass('wwe-header-ad--stuck').css({top:fixedTop+'px'});if(header.isStuck===false){header.$placeholder.addClass('wwe-header-ad').css({width:header.$header.width(),height:header.$header.height()});if(typeof Drupal.behaviors.WWEAds.leaderboardTimeout!=='undefined')clearTimeout(Drupal.behaviors.WWEAds.leaderboardTimeout);self.stuckLeader=header;setTimeout(function(){self.shouldLeaderboardStick=false;self.stuckLeader=undefined;header.$header.fadeOut("easeOutCubic",function(){header.$placeholder.removeClass('wwe-header-ad').css({width:0,height:0});$(this).removeClass('wwe-header-ad--stuck').fadeIn()});self.headerTops.splice(i,1)},self.leaderboardStick)};header.isStuck=true},toggleStick:function(toggle,ad){var self=this,position='',fixedTop=0,adColumnOffset=ad.$column.offset().top;if(toggle==='start'){position='fixed';fixedTop=self.headerHeight-ad.adPadding}else if(toggle==='bottom'){position='absolute';fixedTop=ad.bottom-adColumnOffset-ad.adPadding}else if(toggle==='top'){position='absolute';fixedTop=ad.position-adColumnOffset+ad.adPadding};$(ad.adElement).css({position:position,top:fixedTop+'px'}).parent().css({position:'relative','min-height':$(ad.adElement).height()})},getHeaderAds:function(context){var self=this,$headers=$('.wwe-ad-header',context);if(typeof Drupal.settings.WWEAds!=='undefined')if(typeof Drupal.settings.WWEAds.leaderStick!=='undefined')self.leaderboardStick=Drupal.settings.WWEAds.leaderStick;var processAds=self.allowHeaderAds();if(processAds!==true)return;$headers.each(function(i,element){var $element=$(element),leaderTop=self.topHeight+($element.height()*.55)-(self.adPadding),$placeholder=$('<div/>').css({width:'0',height:'0'});$placeholder.insertBefore($element);var top={$header:$element,top:leaderTop,isStuck:false,$placeholder:$placeholder};self.headerTops.push(top)})},updateHeaderAds:function(){var i=0,l=this.headerTops.length;for(;i<l;i++){var header=this.headerTops[i];header.top=header.$header.offset().top+this.topHeight-(this.adPadding*2);if(header.isStuck===true)header.$header.css('top',this.topHeight+this.adminBarHeight+this.explorerHeight-this.adPadding)}},allowHeaderAds:function(){var breakpoint='';if(typeof Drupal.behaviors.WWEAds!=='undefined')breakpoint=Drupal.behaviors.WWEAds.wweBrowserDetect.breakpoint.toLowerCase();if(breakpoint!=='desktop')return false;var loggedIn=false;if(typeof Drupal.settings.WWEAds!=='undefined')if(typeof Drupal.settings.WWEAds.uid!=='undefined')loggedIn=Drupal.settings.WWEAds.uid;if(loggedIn)return false;return true}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/wwe_ads/assets/js/sticky-ads.js. */
// Copyright (c) 2014 comScore, Inc.
var ns_=ns_||{};ns_.PlatformAPIs=ns_.PlatformAPIs||{Standard:0,Trilithium:1,AppleTV:2,Chromecast:3},ns_.Utils=ns_.Utils||function(){return{uid:function(){var e=1;return function(){return+(new Date)+"_"+e++}}(),filter:function(e,t){var n={};for(var r in t)t.hasOwnProperty(r)&&e(t[r])&&(n[r]=t[r]);return n},extend:function(e){var t=arguments.length,n;e=e||{};for(var r=1;r<t;r++){n=arguments[r];if(!n)continue;for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e},getString:function(e,t){var n=String(e);return e==null?t||"na":n},getLong:function(e,t){var n=Number(e);return e==null||isNaN(n)?t||0:n},getInteger:function(e,t){var n=Number(e);return e==null||isNaN(n)?t||0:n},getBoolean:function(e,t){var n=String(e).toLowerCase()=="true";return e==null?t||!1:n},isNotEmpty:function(e){return typeof e!="undefined"&&e!=null&&typeof e.length!="undefined"&&e.length>0},indexOf:function(e,t){var n=-1;return this.forEach(t,function(t,i){t==e&&(n=i)}),n},forEach:function(e,t,n){try{if(typeof t=="function"){n=typeof n!="undefined"?n:null;if(typeof e["length"]!="number"||typeof e[0]=="undefined"){var r=typeof e.__proto__!="undefined";for(var i in e)e.hasOwnProperty(i)&&(!r||r&&typeof e.__proto__[i]=="undefined")&&typeof e[i]!="function"&&t.call(n,e[i],i)}else for(var s=0,o=e.length;s<o;s++)t.call(n,e[s],s)}}catch(u){}},regionMatches:function(e,t,n,r,i){if(t<0||r<0||t+i>e.length||r+i>n.length)return!1;while(--i>=0){var s=e.charAt(t++),o=n.charAt(r++);if(s!=o)return!1}return!0},size:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t},log:function(e,t){if(typeof t!="undefined"&&t&&typeof console!="undefined"&&console){var n=new Date,r=n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();console.log(r,e)}},isTrue:function(e){return typeof e=="undefined"?!1:typeof e=="string"?(e=e.toLowerCase(),e==="true"||e==="1"||e==="on"):!!e},toString:function(e){if(typeof e=="undefined")return"undefined";if(typeof e=="string")return e;if(Object.prototype.toString.call(e)==="[object Array]")return e.join(",");if(this.size(e)>0){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t}return e.toString()},exists:function(e){return typeof e!="undefined"&&e!=null},firstGreaterThan0:function(){for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e];if(n>0)return n}return 0},cloneObject:function(e){if(null==e||"object"!=typeof e)return e;var t=function(){function e(){}function t(t){return typeof t=="object"?(e.prototype=t,new e):t}function r(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function i(){this.copiedObjects=[];var e=this;this.recursiveDeepCopy=function(t){return e.deepCopy(t)},this.depth=0}function s(e,t){var n=new i;return t&&(n.maxDepth=t),n.deepCopy(e)}function o(e){return typeof window!="undefined"&&window&&window.Node?e instanceof Node:e===document?!0:typeof e.nodeType=="number"&&e.attributes&&e.childNodes&&e.cloneNode}var n=[];return r.prototype={constructor:r,canCopy:function(){return!1},create:function(e){},populate:function(e,t,n){}},i.prototype={constructor:i,maxDepth:256,cacheResult:function(e,t){this.copiedObjects.push([e,t])},getCachedResult:function(e){var t=this.copiedObjects,n=t.length;for(var r=0;r<n;r++)if(t[r][0]===e)return t[r][1];return undefined},deepCopy:function(e){if(e===null)return null;if(typeof e!="object")return e;var t=this.getCachedResult(e);if(t)return t;for(var r=0;r<n.length;r++){var i=n[r];if(i.canCopy(e))return this.applyDeepCopier(i,e)}throw new Error("Unable to clone the following object "+e)},applyDeepCopier:function(e,t){var n=e.create(t);this.cacheResult(t,n),this.depth++;if(this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return e.populate(this.recursiveDeepCopy,t,n),this.depth--,n}},s.DeepCopier=r,s.deepCopiers=n,s.register=function(e){e instanceof r||(e=new r(e)),n.unshift(e)},s.register({canCopy:function(){return!0},create:function(e){return e instanceof e.constructor?t(e.constructor.prototype):{}},populate:function(e,t,n){for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}}),s.register({canCopy:function(e){return e instanceof Array},create:function(e){return new e.constructor},populate:function(e,t,n){for(var r=0;r<t.length;r++)n.push(e(t[r]));return n}}),s.register({canCopy:function(e){return e instanceof Date},create:function(e){return new Date(e)}}),s.register({canCopy:function(e){return o(e)},create:function(e){return e===document?document:e.cloneNode(!1)},populate:function(e,t,n){if(t===document)return document;if(t.childNodes&&t.childNodes.length)for(var r=0;r<t.childNodes.length;r++){var i=e(t.childNodes[r]);n.appendChild(i)}}}),{deepCopy:s}}();return t.deepCopy(e)},safeGet:function(e,t){return t=this.exists(t)?t:"",this.exists(e)?e:t},getBrowserName:function(){if(typeof navigator=="undefined"||!navigator.hasOwnProperty("userAgent")||!navigator.hasOwnProperty("appName"))return"";var e=navigator.userAgent,t=navigator.appName,n,r;return(r=e.indexOf("Opera"))!=-1||(r=e.indexOf("OPR/"))!=-1?t="Opera":(r=e.indexOf("Android"))!=-1?t="Android":(r=e.indexOf("Chrome"))!=-1?t="Chrome":(r=e.indexOf("Safari"))!=-1?t="Safari":(r=e.indexOf("Firefox"))!=-1?t="Firefox":(r=e.indexOf("IEMobile"))!=-1?t="Internet Explorer Mobile":t=="Microsoft Internet Explorer"||t=="Netscape"?t="Internet Explorer":(n=e.lastIndexOf(" ")+1)<(r=e.lastIndexOf("/"))&&(t=e.substring(n,r),t.toLowerCase()==t.toUpperCase()&&(t=navigator.appName)),t},getBrowserFullVersion:function(){if(typeof navigator=="undefined"||!navigator.hasOwnProperty("userAgent")||!navigator.hasOwnProperty("appName")||!navigator.hasOwnProperty("appVersion"))return"";var e=navigator.userAgent,t=navigator.appName,n=""+parseFloat(navigator.appVersion),r,i,s,o;return(i=e.indexOf("Opera"))!=-1?(n=e.substring(i+6),(i=e.indexOf("Version"))!=-1&&(n=e.substring(i+8))):(i=e.indexOf("OPR/"))!=-1?n=e.substring(i+4):(i=e.indexOf("Android"))!=-1?n=e.substring(i+11):(i=e.indexOf("Chrome"))!=-1?n=e.substring(i+7):(i=e.indexOf("Safari"))!=-1?(n=e.substring(i+7),(i=e.indexOf("Version"))!=-1&&(n=e.substring(i+8))):(i=e.indexOf("Firefox"))!=-1?n=e.substring(i+8):t=="Microsoft Internet Explorer"?(o=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),o.exec(e)!=null&&(n=parseFloat(RegExp.$1))):t=="Netscape"?(o=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),o.exec(e)!=null&&(n=parseFloat(RegExp.$1))):e.lastIndexOf(" ")+1<(i=e.lastIndexOf("/"))&&(n=e.substring(i+1)),n=n.toString(),(s=n.indexOf(";"))!=-1&&(n=n.substring(0,s)),(s=n.indexOf(" "))!=-1&&(n=n.substring(0,s)),(s=n.indexOf(")"))!=-1&&(n=n.substring(0,s)),r=parseInt(""+n,10),isNaN(r)&&(n=""+parseFloat(navigator.appVersion)),n},browserAcceptsLargeURLs:function(){return typeof window!="undefined"?window.ActiveXObject===null||!0:!0}}}(),ns_.StreamSense=ns_.StreamSense||function(){function w(t,n){var r=t||"",i="undefined",s=y.comScore||y.sitestat||function(t){var n="comScore=",r=b.cookie,s="",o="indexOf",u="substring",a="length",f=e.browserAcceptsLargeURLs()?N.URL_LENGTH_LIMIT:N.RESTRICTED_URL_LENGTH_LIMIT,l,c="&ns_",h="&",d,v,m,g,w=y.encodeURIComponent||escape;if(r[o](n)+1)for(m=0,v=r.split(";"),g=v[a];m<g;m++)d=v[m][o](n),d+1&&(s=h+unescape(v[m][u](d+n[a])));t+=c+"_t="+ +(new Date)+c+"c="+(b.characterSet||b.defaultCharset||"")+s,t.length>f&&t.indexOf(h)>0&&(l=t.substr(0,f-8).lastIndexOf(h),t=(t.substring(0,l)+c+"cut="+w(t.substring(l+1))).substr(0,f)),p.httpGet(t),typeof ns_p===i&&(ns_p={src:t}),ns_p.lastMeasurement=t};if(typeof n!==i){var o=[],u=y.encodeURIComponent||escape;for(var a in n)n.hasOwnProperty(a)&&o.push(u(a)+"="+u(n[a]));/[\?\&]$/.test(r)||(r+="&"),r+=o.join("&")}return s(r)}function E(t,n){var r,i=y.encodeURIComponent||escape,s=[],o=N.LABELS_ORDER,u=t.split("?"),a=u[0],f=u[1],l=f.split("&");for(var c=0,h=l.length;c<h;c++){var p=l[c].split("="),d=unescape(p[0]),v=unescape(p[1]);d&&(n[d]=v)}var m={};for(var g=0,w=o.length;g<w;g++){var E=o[g];if(n.hasOwnProperty(E)){var S=n[E];typeof S!="undefined"&&S!=null&&(m[E]=!0,s.push(i(E)+"="+i(n[E])))}}for(var x in n)if(n.hasOwnProperty(x)){if(m[x])continue;var T=n[x];typeof T!="undefined"&&T!=null&&s.push(i(x)+"="+i(n[x]))}r=a+"?"+s.join("&"),r=r+(r.indexOf("&c8=")<0?"&c8="+i(b.title):"")+(r.indexOf("&c7=")<0?"&c7="+i(b.URL):"")+(r.indexOf("&c9=")<0?"&c9="+i(b.referrer):"");var C=e.browserAcceptsLargeURLs()?N.URL_LENGTH_LIMIT:N.RESTRICTED_URL_LENGTH_LIMIT;if(r.length>C&&r.indexOf("&")>0){var k=r.substr(0,C-8).lastIndexOf("&");r=(r.substring(0,k)+"&ns_cut="+i(r.substring(k+1))).substr(0,C)}return r}var e=ns_.Utils,t=function(){var t="cs_";return function(){var n=typeof localStorage!="undefined"?localStorage:{};e.extend(this,{get:function(e){return n[t+e]},set:function(e,r){n[t+e]=r},has:function(e){return t+e in n},remove:function(e){delete n[t+e]},clear:function(){for(var e in n)n.hasOwnProperty(e)&&delete n[e]}})}}(),n=function(){var t="cs_",n=function(){var n=this,r=typeof atv!="undefined"&&typeof atv.localStorage!="undefined"&&atv.localStorage||null;e.extend(this,{get:function(e){return r&&e&&r.getItem(t+e)||null},set:function(e,n){r&&e&&(r[t+e]=n)},has:function(e){return r&&e&&r.getItem(t+e)!=null||!1},remove:function(e){r&&e&&r.removeItem(t+e)},clear:function(){}})};return n}(),r=function(e,t){if(typeof Image!="undefined"){var n=new Image;n.onload=function(){t&&t(200),n=null},n.onerror=function(){t&&t(),n=null},n.src=e}},i=function(e,t){typeof XMLHttpRequest!="undefined"&&t&&typeof setTimeout!="undefined"&&setTimeout(t,0);var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){n.readyState===4&&(t&&t(n.status),n=null)},n.send()},s=function(e,t,n){typeof XMLHttpRequest!="undefined"&&n&&typeof setTimeout!="undefined"&&setTimeout(n,0);var r=new XMLHttpRequest;r.open("POST",e,!0),r.onreadystatechange=function(){r.readyState===4&&(n&&n(r.status),r=null)},r.send(t)},o=function(e,t){t&&typeof setTimeout!="undefined"&&setTimeout(t,0)},u=function(e,t,n){n&&typeof setTimeout!="undefined"&&setTimeout(n,0)},a=function(){function f(e){var t=r+e;s[t]="",o[t]=[]}function l(e,n){var i=r+e;s[i]+=u+t(n),o[i].push(n)}function c(n,a){var f=r+n,l=o[f];l.splice(e.indexOf(a,l),1);var c=[];for(var h=0,p=l.length;h<p;h++)c.push(t(l[h]));s[f]=c.join(u),delete s[i+n+a]}function h(e,t,n){s[i+e+t]=n}function p(e,t){return s[i+e+t]}var t=typeof encodeURIComponent!="undefined"?encodeURIComponent:escape,n=typeof decodeURIComponent!="undefined"?decodeURIComponent:unescape,r="cs_dir_",i="cs_file_",s=typeof localStorage!="undefined"?localStorage:{},o={},u="|";return{dir:function(e){var t=r+e,i=o[t];if(i)return i.slice();var a=s[t];if(a){a=a.split(u),i=[];for(var f=0,l=a.length;f<l;f++)a[f].length>0&&i.push(n(a[f]));return o[t]=i,i.slice()}return null},append:function(e,t,n){var r=a.read(e,t);r?r+=n:r=n,a.write(e,t,r)},write:function(t,n,r){var i=a.dir(t);i||(f(t),i=[]),e.indexOf(n,i)==-1&&l(t,n),h(t,n,r)},deleteFile:function(t,n){var r=a.dir(t);return r?e.indexOf(n,r)==-1?!1:(c(t,n),!0):!1},read:function(t,n){var r=a.dir(t);return r?e.indexOf(n,r)==-1?null:p(t,n):null}}}(),f=function(){return{dir:function(){return null},append:function(e,t,n){},write:function(e,t,n){},deleteFile:function(){return!1},read:function(){return null}}}(),l=function(e,t){typeof engine!="undefined"&&t&&typeof setTimeout!="undefined"&&setTimeout(t,0);var n=engine.createHttpClient(),r=n.createRequest("GET",e,null);r.start(),t&&setTimeout(t,0)},c=function(e,t){if(typeof atv!="undefined"&&typeof atv.setTimeout=="function"){typeof XMLHttpRequest!="undefined"&&t&&atv.setTimeout(t,0);var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){n.readyState===4&&(t&&t(n.status),n=null)},n.send()}},h=function(e,t,n){if(typeof atv!="undefined"&&typeof atv.setTimeout=="function"){typeof XMLHttpRequest!="undefined"&&n&&atv.setTimeout(n,0);var r=new XMLHttpRequest;r.open("POST",e,!0),r.onreadystatechange=function(){r.readyState===4&&(n&&n(r.status),r=null)},r.send(t)}},p=function(){return{PLATFORM:"generic",httpGet:r,httpPost:u,Storage:t,IO:f,getCrossPublisherId:function(){return null},getAppName:function(){return Constants.UNKNOWN_VALUE},getAppVersion:function(){return Constants.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +(new Date)+~~(Math.random()*1e3)},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return""},getPlatformVersion:function(){return""},getPlatformName:function(){return"js"},getRuntimeName:function(){return""},getRuntimeVersion:function(){return""},getResolution:function(){return""},getLanguage:function(){return""},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(e,t,n){return setTimeout(e,t,n)},clearTimeout:function(e){return clearTimeout(e)},getDeviceArchitecture:function(){return Constants.UNKNOWN_VALUE},getConnectionType:function(){return Constants.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return Constants.UNKNOWN_VALUE}}}(),d=function(){function s(){return typeof engine!="undefined"&&typeof engine.stats!="undefined"}function o(){return e.isNotEmpty(engine.stats.device.id)?engine.stats.device.id:e.isNotEmpty(engine.stats.network.mac)?engine.stats.network.mac:null}function a(){if(n==null){var e=o();e!=null?(n=e,r="31",i=e):(n=+(new Date)+~~(Math.random()*1e3),r="72",i=null)}}var n=null,r=null,i=null;return{PLATFORM:"trilithium",httpGet:l,httpPost:u,Storage:t,IO:f,getCrossPublisherId:function(){return a(),i},getAppName:function(){return e.isNotEmpty(engine.stats.application.name)?engine.stats.application.name:Constants.UNKNOWN_VALUE},getAppVersion:function(){return e.isNotEmpty(engine.stats.application.version)?engine.stats.application.version:Constants.UNKNOWN_VALUE},getVisitorId:function(){return a(),n},getVisitorIdSuffix:function(){return r},getDeviceName:function(){return e.safeGet(engine.stats.device.platform,"")},getPlatformVersion:function(){return e.safeGet(engine.stats.device.version,"")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"trilithium"},getRuntimeVersion:function(){return""},getResolution:function(){return typeof screen!="undefined"&&typeof screen.height!="undefined"&&typeof screen.width!="undefined"?screen.height+"x"+screen.width:""},getLanguage:function(){return""},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},isCompatible:s}}(),v=function(){function s(){return typeof window=="undefined"&&typeof atv!="undefined"}function o(){t==null&&(typeof atv!="undefined"&&typeof atv.device!="undefined"&&atv.device.idForVendor?(t=e.safeGet(atv.device.idForVendor,""),r="62"):(t=+(new Date)+~~(Math.random()*1e3),r="72"),i=null)}var t=null,r=null,i=null;return{PLATFORM:"atv",httpGet:c,httpPost:h,Storage:n,IO:f,getCrossPublisherId:function(){return o(),i},getAppName:function(){return Constants.UNKNOWN_VALUE},getAppVersion:function(){return Constants.UNKNOWN_VALUE},getVisitorId:function(){return o(),t},getVisitorIdSuffix:function(){return r},getDeviceName:function(){return"Apple TV"},getPlatformVersion:function(){return typeof atv!="undefined"&&typeof atv.device!="undefined"&&e.safeGet(atv.device.softwareVersion,"")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"atv"},getRuntimeVersion:function(){return typeof atv!="undefined"&&typeof atv.device!="undefined"&&e.safeGet(atv.device.softwareVersion,"")},getResolution:function(){return typeof atv.device!="undefined"&&typeof atv.device.screenFrame!="undefined"&&typeof atv.device.screenFrame.height!="undefined"&&typeof atv.device.screenFrame.width!="undefined"?atv.device.screenFrame.height+"x"+atv.device.screenFrame.width:""},getLanguage:function(){return typeof atv!="undefined"&&typeof atv.device!="undefined"&&e.safeGet(atv.device.language,"")},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},setTimeout:function(e,t,n){return typeof atv!="undefined"&&typeof atv.setTimeout!="undefined"&&atv.setTimeout(e,t,n)},clearTimeout:function(e){return typeof atv!="undefined"&&typeof atv.clearTimeout!="undefined"&&atv.clearTimeout(e)},isCompatible:s}}(),m=function(){function n(){return typeof window!="undefined"&&typeof document!="undefined"}return{PLATFORM:"chromecast",httpGet:r,httpPost:s,Storage:t,IO:a,getCrossPublisherId:function(){return null},getAppName:function(){return typeof document!="undefined"&&document.title||Constants.UNKNOWN_VALUE},getAppVersion:function(){return Constants.UNKNOWN_VALUE},getVisitorId:function(){return+(new Date)+~~(Math.random()*1e3)},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return"chromecast"},getPlatformVersion:function(){return"5"},getPlatformName:function(){return"js"},getRuntimeName:function(){return"html"},getRuntimeVersion:function(){return e.safeGet(e.getBrowserName()+" "+e.getBrowserFullVersion(),Constants.UNKNOWN_VALUE)},getResolution:function(){var t=typeof window!="undefined"&&e.exists(window.screen)&&e.exists(window.screen.availWidth)?window.screen.availWidth:0,n=typeof window!="undefined"&&e.exists(window.screen)&&e.exists(window.screen.availHeight)?window.screen.availHeight:0;return t>0&&n>0?t+"x"+n:""},getLanguage:function(){return typeof window!="undefined"&&e.exists(window.navigator)&&e.safeGet(window.navigator.language,"")||""},getPackageName:function(){return typeof castReceiverManager!="undefined"&&castReceiverManager.getApplicationData&&typeof castReceiverManager.getApplicationData=="function"&&castReceiverManager.getApplicationData().namespaces&&castReceiverManager.getApplicationData().namespaces[0]||""},isConnectionAvailable:function(){return typeof window!="undefined"&&e.exists(window.navigator)&&e.safeGet(window.navigator.onLine,!0)||!0},isCompatible:n,getConnectionType:function(){return Constants.UNKNOWN_VALUE}}}();p.autoSelect=function(){d.isCompatible()?ns_.Utils.extend(p,d):v.isCompatible()&&ns_.Utils.extend(p,v)},p.setPlatformAPI=function(t){var n=!1;switch(t){case ns_.PlatformAPIs.Trilithium:ns_.Utils.extend(p,d),n=!0;break;case ns_.PlatformAPIs.AppleTV:ns_.Utils.extend(p,v),n=!0;break;case ns_.PlatformAPIs.Chromecast:e.extend(p,m),n=!0}n&&(p.autoSelect=function(){})};var g=typeof window!="undefined"&&typeof document!="undefined",y,b;g?(y=window,b=document):(y={},b={location:{href:""},title:"",URL:"",referrer:"",cookie:""});var e=e||{};e.filterMap=function(t,n){for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r,n)==-1&&delete t[r]},e.getKeys=function(e,t){var n,r=[];for(n in e)(!t||t.test(n))&&e.hasOwnProperty(n)&&(r[r.length]=n);return r};var S=function(){var e=["play","pause","end","buffer","keep-alive","hb","custom","ad_play","ad_pause","ad_end","ad_click"];return{PLAY:0,PAUSE:1,END:2,BUFFER:3,KEEP_ALIVE:4,HEART_BEAT:5,CUSTOM:6,AD_PLAY:7,AD_PAUSE:8,AD_END:9,AD_CLICK:10,toString:function(t){return e[t]}}}(),x=function(){var e=[S.END,S.PLAY,S.PAUSE,S.BUFFER];return{IDLE:0,PLAYING:1,PAUSED:2,BUFFERING:3,toEventType:function(t){return e[t]}}}(),T={ADPLAY:S.AD_PLAY,ADPAUSE:S.AD_PAUSE,ADEND:S.AD_END,ADCLICK:S.AD_CLICK},N={STREAMSENSE_VERSION:"4.1505.18",DEFAULT_PLAYERNAME:"streamsense",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sq","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_pt","ns_st_pa","ns_st_ad","ns_st_li","ns_st_ci","ns_ap_jb","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_bt","ns_st_bp","ns_st_pc","ns_st_pp","ns_st_br","ns_st_ub","ns_st_vo","ns_st_ws","ns_st_pl","ns_st_pr","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_dt","ns_st_de","ns_st_pu","ns_st_cu","ns_st_fee","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er"]},C=function(){return function(){function l(e,t){var n=t[e];n!=null&&(f[e]=n)}var t=this,n=0,r=0,i=0,s=0,o=0,u=0,a,f;e.extend(this,{reset:function(n){n!=null&&n.length>0?e.filterMap(f,n):f={},f.hasOwnProperty("ns_st_cl")||(f.ns_st_cl="0"),f.hasOwnProperty("ns_st_pn")||(f.ns_st_pn="1"),f.hasOwnProperty("ns_st_tp")||(f.ns_st_tp="1"),t.setPauses(0),t.setStarts(0),t.setBufferingTime(0),t.setBufferingTimestamp(-1),t.setPlaybackTime(0),t.setPlaybackTimestamp(-1)},setLabels:function(n,r){n!=null&&e.extend(f,n),t.setRegisters(f,r)},getLabels:function(){return f},setLabel:function(e,n){var r={};r[e]=n,t.setLabels(r,null)},getLabel:function(e){return f[e]},getClipId:function(){return(typeof a=="undefined"||a==null)&&t.setClipId("1"),a},setClipId:function(e){a=e},setRegisters:function(e,s){var u=e.ns_st_cn;u!=null&&(t.setClipId(u),delete e.ns_st_cn),u=e.ns_st_bt,u!=null&&(i=Number(u),delete e.ns_st_bt),l("ns_st_cl",e),l("ns_st_pn",e),l("ns_st_tp",e),l("ns_st_ub",e),l("ns_st_br",e);if(s==x.PLAYING||s==null)u=e.ns_st_sq,u!=null&&(r=Number(u),delete e.ns_st_sq);s!=x.BUFFERING&&(u=e.ns_st_pt,u!=null&&(o=Number(u),delete e.ns_st_pt));if(s==x.PAUSED||s==x.IDLE||s==null)u=e.ns_st_pc,u!=null&&(n=Number(u),delete e.ns_st_pc)},createLabels:function(i,s){var o=s||{};o.ns_st_cn=t.getClipId(),o.ns_st_bt=String(t.getBufferingTime());if(i==S.PLAY||i==null)o.ns_st_sq=String(r);if(i==S.PAUSE||i==S.END||i==S.KEEP_ALIVE||i==S.HEART_BEAT||i==null)o.ns_st_pt=String(t.getPlaybackTime()),o.ns_st_pc=String(n);return e.extend(o,t.getLabels()),o},incrementPauses:function(){n++},incrementStarts:function(){r++},getBufferingTime:function(){var e=i;return s>=0&&(e+=+(new Date)-s),e},setBufferingTime:function(e){i=e},getPlaybackTime:function(){var e=o;return u>=0&&(e+=+(new Date)-u),e},setPlaybackTime:function(e){o=e},getPlaybackTimestamp:function(){return u},setPlaybackTimestamp:function(e){u=e},getBufferingTimestamp:function(){return s},setBufferingTimestamp:function(e){s=e},getPauses:function(){return n},setPauses:function(e){n=e},getStarts:function(){return r},setStarts:function(e){r=e}}),f={},t.reset()}}(),k=function(){return function(){var t=this,n=null,r,i=0,s=0,o=0,u=0,a=0,f,l=0,c=!1;e.extend(this,{reset:function(n){n!=null&&n.length>0?e.filterMap(f,n):f={},t.setPlaylistId(+(new Date)+"_"+l),t.setBufferingTime(0),t.setPlaybackTime(0),t.setPauses(0),t.setStarts(0),t.setRebufferCount(0),c=!1},setLabels:function(n,r){n!=null&&e.extend(f,n),t.setRegisters(f,r)},getLabels:function(){return f},setLabel:function(e,n){var r={};r[e]=n,t.setLabels(r,null)},getLabel:function(e){return f[e]},getClip:function(){return n},getPlaylistId:function(){return r},setPlaylistId:function(e){r=e},setRegisters:function(e,t){var n=e.ns_st_sp;n!=null&&(i=Number(n),delete e.ns_st_sp),n=e.ns_st_bc,n!=null&&(o=Number(n),delete e.ns_st_bc),n=e.ns_st_bp,n!=null&&(u=Number(n),delete e.ns_st_bp),n=e.ns_st_id,n!=null&&(r=n,delete e.ns_st_id),t!=x.BUFFERING&&(n=e.ns_st_pa,n!=null&&(a=Number(n),delete e.ns_st_pa));if(t==x.PAUSED||t==x.IDLE||t==null)n=e.ns_st_pp,n!=null&&(s=Number(n),delete e.ns_st_pp)},createLabels:function(n,u){var a=u||{};a.ns_st_bp=String(t.getBufferingTime()),a.ns_st_sp=String(i),a.ns_st_id=String(r),o>0&&(a.ns_st_bc=String(o));if(n==S.PAUSE||n==S.END||n==S.KEEP_ALIVE||n==S.HEART_BEAT||n==null)a.ns_st_pa=String(t.getPlaybackTime()),a.ns_st_pp=String(s);if(n==S.PLAY||n==null)t.didFirstPlayOccurred()||(a.ns_st_pb="1",t.setFirstPlayOccurred(!0));return e.extend(a,t.getLabels()),a},incrementStarts:function(){i++},incrementPauses:function(){s++,n.incrementPauses()},setPlaylistCounter:function(e){l=e},incrementPlaylistCounter:function(){l++},addPlaybackTime:function(e){if(n.getPlaybackTimestamp()>=0){var r=e-n.getPlaybackTimestamp();n.setPlaybackTimestamp(-1),n.setPlaybackTime(n.getPlaybackTime()+r),t.setPlaybackTime(t.getPlaybackTime()+r)}},addBufferingTime:function(e){if(n.getBufferingTimestamp()>=0){var r=e-n.getBufferingTimestamp();n.setBufferingTimestamp(-1),n.setBufferingTime(n.getBufferingTime()+r),t.setBufferingTime(t.getBufferingTime()+r)}},getBufferingTime:function(){var e=u;return n.getBufferingTimestamp()>=0&&(e+=+(new Date)-n.getBufferingTimestamp()),e},setBufferingTime:function(e){u=e},getPlaybackTime:function(){var e=a;return n.getPlaybackTimestamp()>=0&&(e+=+(new Date)-n.getPlaybackTimestamp()),e},setPlaybackTime:function(e){a=e},getStarts:function(){return i},setStarts:function(e){i=e},getPauses:function(){return s},setPauses:function(e){s=e},getRebufferCount:function(){return o},incrementRebufferCount:function(){o++},setRebufferCount:function(e){o=e},didFirstPlayOccurred:function(){return c},setFirstPlayOccurred:function(e){c=e}}),n=new C,f={},t.reset()}}(),L=function(){var t=function(t,n,r){function q(e){var t=0;if(C!=null)for(var n=0;n<C.length;n++){var r=C[n],i=r.playingtime;if(!i||e<i){t=r.interval;break}}return t}function R(){X();var e=q(v.getClip().getPlaybackTime());if(e>0){var t=O>0?O:e;T=p.setTimeout(W,t)}O=0}function U(){X();var e=q(v.getClip().getPlaybackTime());O=e-v.getClip().getPlaybackTime()%e,T!=null&&X()}function z(){O=0,_=0,M=0}function W(){M++;var e=mt(S.HEART_BEAT,null);rt(e),O=0,R()}function X(){T!=null&&(p.clearTimeout(T),T=null)}function V(){J(),b=p.setTimeout($,L)}function $(){var e=mt(S.KEEP_ALIVE,null);rt(e),d++,V()}function J(){b!=null&&(p.clearTimeout(b),b=null)}function K(){G(),i.isPauseOnBufferingEnabled()&&at(x.PAUSED)&&(g=p.setTimeout(Q,A))}function Q(){if(P==x.PLAYING){v.incrementRebufferCount(),v.incrementPauses();var e=mt(S.PAUSE,null);rt(e),d++,P=x.PAUSED}}function G(){g!=null&&(p.clearTimeout(g),g=null)}function Y(e){return e==x.PLAYING||e==x.PAUSED}function Z(){l&&(p.clearTimeout(l),l=null)}function et(e){return e==S.PLAY?x.PLAYING:e==S.PAUSE?x.PAUSED:e==S.BUFFER?x.BUFFERING:e==S.END?x.IDLE:null}function tt(t,n,r){Z();if(r)l=p.setTimeout(function(e,t){return function(){tt(e,t)}}(t,n),r);else if(ct(t)){var i=pt(),s=a,o=lt(n),u=s>=0?o-s:0;ot(pt(),n),ut(t,n),dt(pt()),ht(t);for(var f=0,c=F.length;f<c;f++)F[f](i,t,n,u);nt(n),v.setRegisters(n,t),v.getClip().setRegisters(n,t);var m=mt(x.toEventType(t),n);e.extend(m,n),at(h)&&(rt(m),P=h,d++)}}function nt(e){var t=e.ns_st_mp;t!=null&&(H=t,delete e.ns_st_mp),t=e.ns_st_mv,t!=null&&(B=t,delete e.ns_st_mv),t=e.ns_st_ec,t!=null&&(d=Number(t),delete e.ns_st_ec)}function rt(e,t){t===undefined&&(t=!0),t&&st(e);var n=i.getPixelURL();if(m){if(!it()){var r=I.am,s=I.et,o=r.newApplicationMeasurement(m,s.HIDDEN,e,n);m.getQueue().offer(o)}}else n&&p.httpGet(E(n,e))}function it(){var e=m.getAppContext(),t=m.getSalt(),n=m.getPixelURL();return e==null||t==null||t.length==0||n==null||n.length==0}function st(t){j=mt(null),e.extend(j,t)}function ot(t,n){var r=lt(n);if(t==x.PLAYING)v.addPlaybackTime(r),U(),J();else if(t==x.BUFFERING)v.addBufferingTime(r),G();else if(t==x.IDLE){var i=e.getKeys(v.getClip().getLabels());v.getClip().reset(i)}}function ut(e,t){var n=lt(t);f=ft(t),e==x.PLAYING?(R(),V(),v.getClip().setPlaybackTimestamp(n),at(e)&&(v.getClip().incrementStarts(),v.getStarts()<1&&v.setStarts(1))):e==x.PAUSED?at(e)&&v.incrementPauses():e==x.BUFFERING?(v.getClip().setBufferingTimestamp(n),y&&K()):e==x.IDLE&&z()}function at(e){return e!=x.PAUSED&&e!=x.IDLE||P!=x.IDLE&&P!=null?e!=x.BUFFERING&&P!=e:!1}function ft(t){var n=-1;return t.hasOwnProperty("ns_st_po")&&(n=e.getInteger(t.ns_st_po)),n}function lt(e){var t=-1;return e.hasOwnProperty("ns_ts")&&(t=Number(e.ns_ts)),t}function ct(e){return e!=null&&pt()!=e}function ht(e){h=e,a=+(new Date)}function pt(){return h}function dt(e){c=e}function vt(){return c}function mt(){var t,n;arguments.length==1?(t=x.toEventType(h),n=arguments[0]):(t=arguments[0],n=arguments[1]);var r={};if(typeof document!="undefined"){var s=document;r.c7=s.URL,r.c8=s.title,r.c9=s.referrer}return n!=null&&e.extend(r,n),r.hasOwnProperty("ns_ts")||(r.ns_ts=String(+(new Date))),t!=null&&!r.hasOwnProperty("ns_st_ev")&&(r.ns_st_ev=S.toString(t)),e.extend(r,i.getLabels()),gt(t,r),v.createLabels(t,r),v.getClip().createLabels(t,r),r.hasOwnProperty("ns_st_mp")||(r.ns_st_mp=H),r.hasOwnProperty("ns_st_mv")||(r.ns_st_mv=B),r.hasOwnProperty("ns_st_ub")||(r.ns_st_ub="0"),r.hasOwnProperty("ns_st_br")||(r.ns_st_br="0"),r.hasOwnProperty("ns_st_pn")||(r.ns_st_pn="1"),r.hasOwnProperty("ns_st_tp")||(r.ns_st_tp="1"),r.hasOwnProperty("ns_st_it")||(r.ns_st_it="c"),r.ns_st_sv=N.STREAMSENSE_VERSION,r.ns_type="hidden",r}function gt(t,n){var r=n||{};r.ns_st_ec=String(d);if(!r.hasOwnProperty("ns_st_po")){var i=f,s=lt(r);if(t==S.PLAY||t==S.KEEP_ALIVE||t==S.HEART_BEAT||t==null&&h==x.PLAYING)i+=s-v.getClip().getPlaybackTimestamp();r.ns_st_po=e.getInteger(i)}return t==S.HEART_BEAT&&(r.ns_st_hc=String(M)),r}function yt(e){var t=lt(e);t<0&&(e.ns_ts=String(+(new Date)))}function bt(e,t,n){t=t||{},t.ns_st_ad=1,e>=S.AD_PLAY&&e<=S.AD_CLICK&&i.notify(e,t,n)}function wt(e,t){i.notify(S.CUSTOM,e,t)}var i=this,s=500,o,u=null,a=0,f=0,l,c,h,d=0,v=null,m,g,y=!0,b,T,C=N.DEFAULT_HEARTBEAT_INTERVAL,L=N.DEFAULT_KEEP_ALIVE_INTERVAL,A=N.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,O=0,M=0,_=0,D=!1,P,H,B,j,F,I={};r?p.setPlatformAPI(r):p.autoSelect(),e.extend(this,{reset:function(t){v.reset(t),v.setPlaylistCounter(0),v.setPlaylistId(+(new Date)+"_1"),v.getClip().reset(t),t!=null&&!t.isEmpty()?e.filterMap(o,t):o={},d=1,M=0,U(),z(),J(),G(),Z(),h=x.IDLE,c=null,a=-1,P=null,H=N.DEFAULT_PLAYERNAME,B=N.STREAMSENSE_VERSION,j=null},setPauseOnBufferingInterval:function(e){A=e},getPauseOnBufferingInterval:function(){return A},setKeepAliveInterval:function(e){L=e},getKeepAliveInterval:function(){return L},setHeartbeatIntervals:function(e){C=e},notify:function(){var t,n,r,o;n=arguments[0],arguments.length==3?(r=arguments[1],o=arguments[2]):(r={},o=arguments[1]);if(!S.toString(n))return;t=et(n);var u=e.extend({},r);yt(u),u.hasOwnProperty("ns_st_po")||(u.ns_st_po=e.getInteger(o).toString());if(n==S.PLAY||n==S.PAUSE||n==S.BUFFER||n==S.END)i.isThrottlingEnabled()&&Y(h)&&Y(t)&&(h!=x.PLAYING||t!=x.PAUSED||!!l)?tt(t,u,s):tt(t,u);else{var a=mt(n,u);e.extend(a,u),rt(a,!1),d++}},getLabels:function(){return o},getState:function(){return h},setLabels:function(e){for(var t in e)e.hasOwnProperty(t)&&i.setLabel(t,e[t])},getLabel:function(e){return o[e]},setLabel:function(e,t){t==null?delete o[e]:o[e]=t},setPixelURL:function(e){if(e==null||e.length==0)return null;var t=decodeURIComponent||unescape,n=e.indexOf("?");if(n>=0){if(n<e.length-1){var r=e.substring(n+1).split("&");for(var s=0,o=r.length;s<o;s++){var a=r[s],f=a.split("=");f.length==2?i.setLabel(f[0],t(f[1])):f.length==1&&i.setLabel(N.PAGE_NAME_LABEL,t(f[0]))}e=e.substring(0,n+1)}}else e+="?";return u=e,u},getPixelURL:function(){return u?u:typeof ns_p!="undefined"&&typeof ns_p.src=="string"?u=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):typeof ns_pixelUrl=="string"?u=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null},isPauseOnBufferingEnabled:function(){return y},setPauseOnBufferingEnabled:function(e){y=e},isThrottlingEnabled:function(){return D},setThrottlingEnabled:function(e){D=e},setThrottlingDelay:function(e){e&&e>0&&
(s=e)},getThrottlingDelay:function(){return s},setClip:function(e,t){var n=!1;return h==x.IDLE&&(v.getClip().reset(),v.getClip().setLabels(e,null),t&&v.incrementStarts(),n=!0),n},setPlaylist:function(e){var t=!1;return h==x.IDLE&&(v.incrementPlaylistCounter(),v.reset(),v.getClip().reset(),v.setLabels(e,null),t=!0),t},importState:function(t){reset();var n=e.extend({},t);v.setRegisters(n,null),v.getClip().setRegisters(n,null),nt(n),d++},exportState:function(){return j},getVersion:function(){return N.STREAMSENSE_VERSION},addListener:function(e){F.push(e)},removeListener:function(t){F.splice(e.indexOf(t,F),1)},getClip:function(){return v.getClip()},getPlaylist:function(){return v},setHttpGet:function(e){typeof e=="function"&&(p.httpGet=e)},setHttpPost:function(e){typeof e=="function"&&(p.httpPost=e)}}),e.extend(this,{adNotify:bt,customNotify:wt,viewNotify:function(e,t){e=e||i.getPixelURL(),e&&w(e,t)}}),ns_.comScore&&(I=ns_.comScore.exports,m=I.c()),o={},d=1,h=x.IDLE,v=new k,g=null,y=!0,T=null,M=0,z(),b=null,l=null,D=!1,P=null,f=0,F=[],i.reset(),t&&i.setLabels(t),n&&i.setPixelURL(n)};return function(t){function s(e,t){return n[i]||u(e,t)}function o(){i=-1;for(var e=0;e<=r;e++)if(n.hasOwnProperty(String(e))){i=e;break}return ns_.StreamSense.activeIndex=i,i}function u(e,t){return e=e||null,t=t||null,e&&typeof e=="object"&&(t=e,e=null),n[++r]=new ns_.StreamSense(t,e),o(),n[r]}function a(){var e=!1,t=i;if(typeof arguments[0]=="number"&&isFinite(arguments[0]))t=arguments[0];else if(arguments[0]instanceof ns_.StreamSense)for(var r in n)if(n.hasOwnProperty(r)&&n[r]===arguments[0]){t=r;break}return n.hasOwnProperty(String(t))&&(e=n[t],delete n[t],e.reset(),o()),e}function f(e){return e=e||{},s().setPlaylist(e),s().getPlaylist()}function l(e,t,n){return e=e||{},typeof t=="number"&&(e.ns_st_cn=t),s().setClip(e,n),s().getClip()}function c(e,t,n){return typeof e=="undefined"?!1:(n=n||null,t=t||{},s().notify(e,t,n))}function h(e){typeof e!="undefined"&&s().setLabels(e)}function p(){return s().getLabels()}function d(e){typeof e!="undefined"&&s().getPlaylist().setLabels(e)}function v(){return s().getPlaylist().getLabels()}function m(e){typeof e!="undefined"&&s().getClip().setLabels(e)}function g(){return s().getClip().getLabels()}function y(e){return s().reset(e||{})}function b(e){return s().getPlaylist().reset(e||{})}function w(e){return s().getClip().reset(e||{})}function E(e){return e=e||{},s().viewNotify(null,e)}function S(e,t){return arguments.length>2&&(e=arguments[1],t=arguments[2]),e=e||{},typeof t=="number"&&(e.ns_st_po=t),s().customNotify(e,t)}function x(){return s().exportState()}function T(e){s().importState(e)}var n={},r=-1,i=-1;e.extend(t,{activeIndex:i,newInstance:u,"new":u,destroyInstance:a,destroy:a,newPlaylist:f,newClip:l,notify:c,setLabels:h,getLabels:p,setPlaylistLabels:d,getPlaylistLabels:v,setClipLabels:m,getClipLabels:g,resetInstance:y,resetPlaylist:b,resetClip:w,viewEvent:E,customEvent:S,exportState:x,importState:T})}(t),t}();return L.AdEvents=T,L.PlayerEvents=S,L.InternalStates=x,L.getPlatformAPI=function(){return p},L}(),ns_.StreamingTag=ns_.StreamingTag||function(){var e=ns_.Utils,t=ns_.StreamSense,n=ns_.StreamSense.PlayerEvents,r=ns_.StreamSense.AdEvents,i=ns_.StreamSense.InternalStates||null,s=ns_.StreamSense.InternalStates!=null;return function(){var r=function(r){function v(){if(!s)return;if(ns_.comScore)c=new t,c.setLabel("ns_st_it","r");else if(e.exists(r)){h=e.isTrue(r.debug);if(e.exists(r.customerC2)&&r.customerC2.length>0){var n=r.secure?"https://sb":"http"+(document.location.href.charAt(4)=="s"?"s://sb":"://b");c=new t,c.setPixelURL(n+".scorecardresearch.com/p?c1=2"),c.setLabel("c2",r.customerC2),c.setLabel("ns_st_it","r")}else h&&console&&console.log("Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration.")}}function m(t){return e.exists(t)||(t={}),e.exists(t.ns_st_ci)||(t.ns_st_ci="0"),e.exists(t.c3)||(t.c3="*null"),e.exists(t.c4)||(t.c4="*null"),e.exists(t.c6)||(t.c6="*null"),t}function g(e){return u>0&&e>=u?a+=e-u:a=0,a}function y(e){c.getState()!=i.IDLE&&c.getState()!=i.PAUSED?c.notify(n.END,g(e)):c.getState()==i.PAUSED&&c.notify(n.END,a)}function b(e){return w("ns_st_ci",f,e)&&w("c3",f,e)&&w("c4",f,e)&&w("c6",f,e)}function w(t,n,r){if(e.exists(t)&&e.exists(n)&&e.exists(r)){var i=n[t],s=r[t];return e.exists(i)&&e.exists(s)&&i===s}return!1}function E(t,r){y(t),o++;var i={ns_st_cn:o,ns_st_pn:"1",ns_st_tp:"0"};e.extend(i,r),c.setClip(i),f=r,u=t,a=0,c.notify(n.PLAY,a)}function S(t){var r=+(new Date);y(r),o++,t=m(t);var i={ns_st_cn:o,ns_st_pn:"1",ns_st_tp:"1",ns_st_ad:"1"};e.extend(i,t),c.setClip(i),a=0,c.notify(n.PLAY,a),u=r,l=!1}function x(e,t){var r=+(new Date);e=m(e),d==p.None&&(d=t),l&&d==t?b(e)?(c.getClip().setLabels(e),c.getState()!=i.PLAYING&&(u=r,c.notify(n.PLAY,a))):E(r,e):E(r,e),l=!0,d=t}var o=0,u=0,a=0,f=null,l=!1,c=null,h=!1,p={None:0,AudioContent:1,VideoContent:2},d=p.None;e.extend(this,{playAdvertisement:function(){if(!c)return;h&&console&&console.warn("Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead.");var e={ns_st_ct:"va"};S(e)},playVideoAdvertisement:function(t){if(!c)return;var n={ns_st_ct:"va"};t&&e.extend(n,t),S(n)},playAudioAdvertisement:function(t){if(!c)return;var n={ns_st_ct:"aa"};t&&e.extend(n,t),S(n)},playContentPart:function(t){if(!c)return;h&&console&&console.warn("Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead.");var n={ns_st_ct:"vc"};t&&e.extend(n,t),x(n,p.VideoContent)},playVideoContentPart:function(t){if(!c)return;var n={ns_st_ct:"vc"};t&&e.extend(n,t),x(n,p.VideoContent)},playAudioContentPart:function(t){if(!c)return;var n={ns_st_ct:"ac"};t&&e.extend(n,t),x(n,p.AudioContent)},stop:function(){if(!c)return;var e=+(new Date);c.notify(n.PAUSE,g(e))}}),v()};return function(e){}(r),r}()}();
;/**/
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/wwe_feed_cards/js/archive-search.js. */
!(function($){'use strict';Drupal.behaviors.archiveSearch={attach:function(context,settings){var $seasonSelect=$('#search-show_season',context),$seasonPane=$('.pane-feed-cards-show-archive-pane');$seasonSelect.once('archiveSearch').change(function(e){var cacheId=$seasonSelect.data('cache-id'),$showArchiveWrapper=$('.wwe-show-archives',context),filter_value=e.target.value;if(isNaN(filter_value)&&!/^s\d+$/.test(filter_value))filter_value=new Date().getFullYear();$.ajax({url:'/api/show_archive/'+filter_value+'/'+cacheId}).done(function(data){var $newContent=$(data.data);$showArchiveWrapper.remove();$newContent.appendTo($seasonPane);Drupal.attachBehaviors($newContent,Drupal.settings)}).fail(function(jqXHR){var message;if(jqXHR.status===404){message=Drupal.t('Sorry, no content was found.')}else message=Drupal.t('An error occurred while retrieving content.');$showArchiveWrapper.html('<p>'+message+'</p>')})});if(typeof $seasonSelect.selectionBox==='function')$seasonSelect.selectionBox({defaultText:$seasonSelect.find('option:selected').text()});if(context===document){var selectedOption=$('#search-show_season').val();if(selectedOption)$('#search-show_season').val(selectedOption).trigger('change')}}}}(jQuery));;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/wwe_feed_cards/js/archive-search.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/wwe_feed_cards/js/wwe-feed-cards.js. */
!(function($){'use strict';Drupal.behaviors.wwe_feed_cards={attach:function(context,settings){var $cardsWrapper=$('.wwe-feed-cards--wrapper',context);$cardsWrapper.find('.wwe-feed-cards--wrapper').addClass('wwe-feed-cards--wrapper-child').removeClass('wwe-feed-cards--wrapper').removeAttr('data-vr-zone');if(typeof Drupal.behaviors.WWEVideoDuration!==undefined)Drupal.behaviors.WWEVideoDuration.checkForDurations();if($.cookie('entpc'))this.isAuthed=true;if(this.isAuthed)$('.wwe-feed-cards--network-promo .js--wwe-flyover-overlay').hide()}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/wwe_feed_cards/js/wwe-feed-cards.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/wwe_geo_shared_widget/assets/js/geo-share-widget.js. */
!(function($){'use strict';Drupal.behaviors.wweGeoSharedWidget={attach:function(context,settings){var geo="US";if(Drupal.behaviors.getNetworkCookie())geo=Drupal.behaviors.getNetworkCookie();var $widgets=$('.wwe-geo-shared-widget',context);$widgets.each(function(i,element){var $element=$(element),countriesData=$element.data('countries'),countries=countriesData.split(','),operation=$element.data('operation'),index=countries.indexOf(geo),show=false;if(operation==='include'&&index!==-1){show=true}else if(operation==='exclude'&&index===-1)show=true;if(show===true)$element.removeClass('js-hide')})}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/wwe_geo_shared_widget/assets/js/geo-share-widget.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/wwe_global_panes/assets/js/wwe_global_panes.js. */
!(function($){'use strict';Drupal.behaviors.addFooterLoginMyAccountLink={attach:function(context,settings){$('.wwe-distributed-footer--menu-footer').once('addFooterLoginMyAccountLink',function(index,elem){var href,text;if($.cookie('entpc')){href=settings.wwe_global_panes_footer_link.accountURL;text=Drupal.t('Manage account')}else{href=settings.wwe_global_panes_footer_link.signInURL;text=Drupal.t('Sign in')};$(elem).append('<li><a href="'+href+'">'+text+'</a></li>')})}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/wwe_global_panes/assets/js/wwe_global_panes.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/wwe_global_panes/assets/js/navigation-pane.js. */
!(function($){'use strict';Drupal.behaviors.navigationPane={attach:function(context){var $moreToggle=$('.wwe-more-container--toggle',context);if($moreToggle.length>0)$moreToggle.on('click',function(){$(this).toggleClass('more-container-open')})}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/wwe_global_panes/assets/js/navigation-pane.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/wwe_global_panes/assets/js/wwe_global_node-body.js. */
!(function($){'use strict';Drupal.behaviors.addNodeBodyLink={attach:function(context,settings){var $nodeBodyLink=$('.pane-node-body',context);if($nodeBodyLink.length>0)$(".pane-node-body a").on("click",function(){var currentAnchor=$(this);if(currentAnchor.text()==' click here'&&Drupal.settings.page.type=='article')if(typeof(Drupal.behaviors.wweAnalytics)!='undefined'){var user_Entitled=Drupal.behaviors.wweAnalytics.getEntitlementsUser();wwe_ga_dataLayer.push({event:'analyticsEvent',eventCategory:'WWE Network Click',eventAction:'Article Link',eventLabel:'Link',eventValue:user_Entitled})}})}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/wwe_global_panes/assets/js/wwe_global_node-body.js. */
/* ng-infinite-scroll - v1.0.0 - 2013-02-23 */
var mod;mod=angular.module("infinite-scroll",[]),mod.directive("infiniteScroll",["$rootScope","$window","$timeout",function(i,n,e){return{link:function(t,l,o){var r,c,f,a;return n=angular.element(n),f=0,null!=o.infiniteScrollDistance&&t.$watch(o.infiniteScrollDistance,function(i){return f=parseInt(i,10)}),a=!0,r=!1,null!=o.infiniteScrollDisabled&&t.$watch(o.infiniteScrollDisabled,function(i){return a=!i,a&&r?(r=!1,c()):void 0}),c=function(){var e,c,u,d;return d=n.height()+n.scrollTop(),e=l.offset().top+l.height(),c=e-d,u=n.height()*f>=c,u&&a?i.$$phase?t.$eval(o.infiniteScroll):t.$apply(o.infiniteScroll):u?r=!0:void 0},n.on("scroll",c),t.$on("$destroy",function(){return n.off("scroll",c)}),e(function(){return o.infiniteScrollImmediateCheck?t.$eval(o.infiniteScrollImmediateCheck)?c():void 0:c()},0)}}}]);;/**/
/*
 * jQuery doTimeout: Like setTimeout, but better! - v1.0 - 3/3/2010
 * http://benalman.com/projects/jquery-dotimeout-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($){var a={},c="doTimeout",d=Array.prototype.slice;$[c]=function(){return b.apply(window,[0].concat(d.call(arguments)))};$.fn[c]=function(){var f=d.call(arguments),e=b.apply(this,[c+f[0]].concat(f));return typeof f[0]==="number"||typeof f[1]==="number"?this:e};function b(l){var m=this,h,k={},g=l?$.fn:$,n=arguments,i=4,f=n[1],j=n[2],p=n[3];if(typeof f!=="string"){i--;f=l=0;j=n[1];p=n[2]}if(l){h=m.eq(0);h.data(l,k=h.data(l)||{})}else{if(f){k=a[f]||(a[f]={})}}k.id&&clearTimeout(k.id);delete k.id;function e(){if(l){h.removeData(l)}else{if(f){delete a[f]}}}function o(){k.id=setTimeout(function(){k.fn()},j)}if(p){k.fn=function(q){if(typeof p==="string"){p=g[p]}p.apply(m,d.call(n,i))===true&&!q?o():e()};o()}else{if(k.fn){j===undefined?e():k.fn(j===false);return true}else{e()}}}})(jQuery);;/**/
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/wwe_master/app/controllers/content-pane.js. */
'use strict';var app=angular.module('wweApp');app.requires.push('infinite-scroll');app.controller('ContentPaneController',['$scope','ContentPaneRequest','$timeout',function($scope,ContentPaneRequest,$timeout){var country='UND';if(typeof Drupal.behaviors.getNetworkCookie!=='undefined')country=Drupal.behaviors.getNetworkCookie();$scope.content={entityGroups:[]};$scope.$watch('path',function(){ContentPaneRequest.path=$scope.path});$scope.$watch('language',function(){ContentPaneRequest.language=$scope.language});$scope.$watch('confHash',function(){ContentPaneRequest.nextCache=$scope.confHash});$scope.$watch('basePath',function(){ContentPaneRequest.basePath=$scope.basePath});$scope.loadMore=function(){if(ContentPaneRequest.busy)return;ContentPaneRequest.getData().success(function(data){if(typeof data.entities!=='undefined'){var className=data.domClass,entities={entities:data.entities,class:className};$scope.content.entityGroups.push(entities);ContentPaneRequest.nextCache=data.cacheKey;$timeout(function(){Drupal.attachBehaviors('.'+className,Drupal.settings);if(typeof _vrq!=='undefined'&&typeof _vrtrack!=='undefined')_vrtrack();if(data.cacheKey!=='')ContentPaneRequest.busy=false;jQuery(document).trigger('wwe-content-added')})}})};$scope.geoTarget=function(element){if(element.countryLogic==='include'){return(element.countries.indexOf(country)!==-1)?true:false}else if(element.countryLogic==='exclude')return(element.countries.indexOf(country)!==-1)?false:true;return true}}]);app.filter('html',function($sce){return function(val){return $sce.trustAsHtml(val)}});app.filter('escapePath',function(){return function(val){return String(val).replace(/\//g,'_')}});app.directive('dynamic',function($compile){return{restrict:'A',replace:true,link:function(scope,ele,attrs){scope.$watch(attrs.dynamic,function(html){ele.html(html);$compile(ele.contents())(scope)})}}});;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/wwe_master/app/controllers/content-pane.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/wwe_master/app/services/content-pane-request.js. */
'use strict';var app=angular.module('wweApp');app.factory('ContentPaneRequest',['$http',function($http){var serviceObject={classname:'',busy:false,nextCache:'',path:'frontpage',language:'UND',basePath:'',getData:function(){this.busy=true;var url='/'+this.basePath+'/'+this.language+'/'+this.path+'/'+this.nextCache;return $http({method:'GET',url:url})}};return serviceObject}]);app.filter('html',function($sce){return function(val){return $sce.trustAsHtml(val)}});app.filter('escapePath',function(){return function(val){return String(val).replace(/\//g,'_')}});;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/wwe_master/app/services/content-pane-request.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/wwe_media_browser/assets/js/wwe-media-browser.js. */
!(function($){'use strict';Drupal.behaviors.WWEEntityPagination={attach:function(context){var $pageButtons=$('.wwe-media-browser--paging .form-item',context);$.each($pageButtons,function(i){$('a',this).bind('click',function(e){var $radio=$(this).parent().parent().find('.form-radio');$radio.attr('checked','checked').trigger('wweMediaBrowserPaginate');return false})})}};Drupal.behaviors.WWEMediaBrowserLiveSearch={attach:function(context){var $targetForm=$('.wwe-browser-live-search'),$submitBtn=$('.wwe-browse--search .wwe-browser-live-search-submit'),triggerEvent=$targetForm.data('event');if(!triggerEvent)triggerEvent='wweMediaBrowserInputSearch';$submitBtn.off('click').on('click',function(e){$targetForm.trigger(triggerEvent);return false});$targetForm.on('keypress',function(e){if(e.which==13)$submitBtn.trigger('click')})}};Drupal.behaviors.WWEMediaBrowserSearchFields={attach:function(context){$(".wwe-browse--search input, .wwe-browse--search select").each(function(){var this_id=$(this).attr('id'),this_ajax=Drupal.settings.ajax[this_id];if(typeof this_ajax!='undefined')$(this).on(this_ajax.event,function(){var $searchForm=$(this).closest('.wwe-browse--search');$searchForm.find('input, select, checkbox').not($(this)).addClass('progress-disabled').attr('disabled',true);$searchForm.find('input, select, checkbox').not($(this)).css('background-color','#E4E4E4')})})}};Drupal.behaviors.WWEMediaBrowserImagePreview={attach:function(context){var $mediaBrowserFields=$('.field-widget-wwe-media-browser-entityreference-browser',context);if(!$mediaBrowserFields.length)return;if(!$('body').hasClass('image-preview-processed')){var previewImageWrapper='<div class="media-browser-preview"></div>';$mediaBrowserFields.each(function(){var $currentField=$(this);$currentField.append(previewImageWrapper).css('position','relative');$currentField.find('.media-browser-preview').css({'align-items':'center',display:'flex',height:'100%',position:'fixed',left:'0','max-width':'100%',padding:'2rem 0',top:'0','z-index':'-1'})});$('body').addClass('image-preview-processed')};$('img[data-img-full]',context).hover(function(e){var $currentImage=$(this),$previewImageContainer=$currentImage.closest('.field-widget-wwe-media-browser-entityreference-browser').find('.media-browser-preview'),left=$currentImage[0].getBoundingClientRect()['left']+$currentImage.width(),top='0';$previewImageContainer.css({left:left,top:top,'z-index':'1000'});var inlineStyles='max-width: 100%;max-height: 70%;height: auto;width: auto;',previewImageString='<img src="'+$currentImage.attr('data-img-full')+'" class="preview-image" style="'+inlineStyles+'" />';$previewImageContainer.append(previewImageString).fadeIn('fast')},function(e){$('.field-widget-wwe-media-browser-entityreference-browser .media-browser-preview').empty()})}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/wwe_media_browser/assets/js/wwe-media-browser.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/wwe_network/js/wwe-network-pane.js. */
(function($){'use strict';Drupal.behaviors.wweNetworkLinks={attach:function(context,settings){if(typeof(Drupal.settings.wwe_network)==='undefined')return;var url='http://www.wwe.com/wwenetwork',tracking="logged_out";if(typeof(Drupal.settings.wwe_network.wwe_network_link)!='undefined')url=Drupal.settings.wwe_network.wwe_network_link;if($.cookie('entpc'))if(typeof(Drupal.settings.wwe_network.wwe_network_logged_in_link)!='undefined'){url=Drupal.settings.wwe_network.wwe_network_logged_in_link;var tracking="logged_in"};if(!$.cookie('entpc')&&Drupal.behaviors.nonNetworkCountry())if(typeof(Drupal.settings.wwe_network.wwe_network_howtowatch)!=='undefined')url=Drupal.settings.wwe_network.wwe_network_howtowatch;$('.js--network-url').attr('href',url).addClass('js-track').attr('data-tracking-label','network_cta_'+tracking+'|linkType=text')}};Drupal.behaviors.wweNetworkRibbon={attach:function(context,settings){var $selector=$('.js-network--cta-ribbon');if(typeof(Drupal.settings.wwe_network)==='undefined')return;var langCode='en';if(typeof(Drupal.settings.wwe_network.langCode)!=='undefined')langCode=Drupal.settings.wwe_network.langCode;if(Drupal.behaviors.networkLoggedIn())if(typeof(Drupal.settings.wwe_network.network_ribbon_cta_in[langCode])){$selector.addClass('authorized-member');$selector.find('.price--wrapper:first').hide();$selector.find('.access:first').html(Drupal.settings.wwe_network.network_ribbon_cta_in[langCode])}}};Drupal.behaviors.wweNetworkText={attach:function(context,settings){var $selector=$('.js-network--cta-text');if(typeof(Drupal.settings.wwe_network)==='undefined')return;var langCode='en';if(typeof(Drupal.settings.wwe_network.langCode)!=='undefined')langCode=Drupal.settings.wwe_network.langCode;var ctaLengthTest=Drupal.settings.wwe_network.network_text_cta_out[langCode].length,ctaTitle=Drupal.settings.wwe_network.network_text_cta_out[langCode],ctaText;if(ctaLengthTest>21){var newCTA=Drupal.settings.wwe_network.network_text_cta_out[langCode].substring(0,21)+'...';ctaText=newCTA}else ctaText=ctaTitle;if(Drupal.behaviors.networkLoggedIn()){if(typeof(Drupal.settings.wwe_network.network_text_cta_in[langCode])){$selector.addClass('authorized-member');$selector.attr('title',ctaTitle);$selector.html(ctaText)}}else if(typeof(Drupal.settings.wwe_network.network_text_cta_out[langCode])){$selector.removeClass('authorized-member');$selector.attr('title',ctaTitle);$selector.html(ctaText)}}};Drupal.behaviors.networkPromoElements={attach:function(context,settings){if(typeof(Drupal.settings.wwe_network)=='undefined')return;if($.cookie('entpc'))$('.network-breaker-search__wrapper .network').addClass('authorized-member')}};Drupal.behaviors.networkCTA={attach:function(context,settings){if(typeof(Drupal.settings.wwe_network)=='undefined')return;var geo=Drupal.behaviors.getNetworkCookie(),img='wwe-network-horizontal-flare.png';if(Drupal.behaviors.nonNetworkCountry())switch(geo){case'CA':img='wwe-network-CA.png';break;case'DZ':case'BH':case'EG':case'IQ':case'SA':case'KW':case'LB':case'MA':case'OM':case'QA':case'TN':case'AE':case'YE':case'PS':img='wwe-network-MENA.png';break;default:break};$('.pane-wwe-network-pane .wwe-network-cta').css('background-image','url(/a/i/'+img+')');if($.cookie('entpc')){$('.wwe-network-cta').addClass('authorized-member');$('.wwe-schedule-cta').removeClass('js--wwe-flyover-overlay')}}};Drupal.behaviors.hideHeroMatchLink={attach:function(context,settings){if(typeof(Drupal.settings.wwe_network)=='undefined')return;if(Drupal.behaviors.nonNetworkCountry())$('.championship-hero--match-link').hide()}};Drupal.behaviors.getNetworkCookie=function(){if(typeof(Drupal.settings.wwe_network.geo)!=='undefined')return Drupal.settings.wwe_network.geo;var geo=null,cookies=document.cookie.split('; ');for(var i=cookies.length-1;i>=0;i--){var row=cookies[i].split('=');if(row[0]=='geo[0]'||row[0]=='geo')geo=row[1]};if(geo==null)geo="US";Drupal.settings.wwe_network.geo=geo;return geo};Drupal.behaviors.nonNetworkCountry=function(){if(typeof(Drupal.settings.wwe_network.nonNetworkCountry)!=='undefined')return Drupal.settings.wwe_network.nonNetworkCountry;var geo=Drupal.behaviors.getNetworkCookie();if($.inArray(geo,Drupal.settings.wwe_network.countries)!==-1){Drupal.settings.wwe_network.nonNetworkCountry=true;return true};Drupal.settings.wwe_network.nonNetworkCountry=false;return false};Drupal.behaviors.networkLoggedIn=function(){if($.cookie('entpc'))return true;return false};Drupal.behaviors.networkIsEntitled=function(){var networkCookie=JSON.parse($.cookie('entpc'));if(networkCookie&&networkCookie.ent!=='N')return true;return false};Drupal.behaviors.wweNetworkFlyover={$flyoverContainer:undefined,attach:function(context){var self=this,$flyoverLinks=$('.js--wwe-flyover-overlay',context);$flyoverLinks.on('click',function(){if(typeof self.$flyoverContainer!=='undefined'&&self.$flyoverContainer.length>0){self.$flyoverContainer.removeClass('js-hide')}else self.queryAPI();return false});$(document).on('click','.wwe--flyover-container .experience-breaker__overlay--close-button',function(){self.$flyoverContainer.addClass('js-hide')});$(document).off('click','.nfu--cta').on('click','.nfu--cta',function(e){if(typeof(Drupal.behaviors.wweAnalytics)!='undefined'){var user_Entitled=Drupal.behaviors.wweAnalytics.getEntitlementsUser(),currentTrackingLabel='',currentTrackingData=$(this).attr("data-tracking-label");if(currentTrackingData=='1'){currentTrackingLabel='Top Button'}else if(currentTrackingData=='2')currentTrackingLabel='Bottom Button';if(typeof currentTrackingLabel!='undefined')wwe_ga_dataLayer.push({event:'analyticsEvent',eventCategory:'WWE Network Click',eventAction:'Network Flyover',eventLabel:currentTrackingLabel,eventValue:user_Entitled})}});$(document).off('click','.nfu--promo--overlay').on('click','.nfu--promo--overlay',function(e){if(typeof(Drupal.behaviors.wweAnalytics)!='undefined'){var user_Entitled=Drupal.behaviors.wweAnalytics.getEntitlementsUser(),currentTrackingLabel='',currentTrackingData=$(this).attr("data-tracking-label");if(currentTrackingData=='1'){currentTrackingLabel='Top Left Link'}else if(currentTrackingData=='2'){currentTrackingLabel='Top Right Link'}else if(currentTrackingData=='3'){currentTrackingLabel='Bottom Left Link'}else if(currentTrackingData=='4')currentTrackingLabel='Bottom Right Link';if(typeof currentTrackingLabel!='undefined')wwe_ga_dataLayer.push({event:'analyticsEvent',eventCategory:'WWE Network Click',eventAction:'Network Flyover',eventLabel:currentTrackingLabel,eventValue:user_Entitled})}})},queryAPI:function(){var self=this,url='/api/network-flyover';$.getJSON(url,function(data){if(typeof data.markup==='undefined')return;var content=data.markup,$flyover=$('<div/>').html(content).addClass('wwe--flyover-container').appendTo('body');self.$flyoverContainer=$('.experience-breaker--overlays',$flyover)})}};Drupal.behaviors.wweNetworkSchedule={attach:function(context,settings){$('.wwe-schedule-cta',context).each(function(){var $item=$(this),textNonEntitled=$item.attr('data-text-non-entitled'),linkNonEntitled=$item.attr('data-link-non-entitled'),textEntitled=$item.attr('data-text-entitled'),linkEntitled=$item.attr('data-link-entitled'),entitled=Drupal.behaviors.networkIsEntitled();if(entitled===true&&textEntitled.length>0&&linkEntitled.length>0){$item.attr('href',linkEntitled).text(textEntitled)}else if(textNonEntitled.length>0&&linkNonEntitled.length>0)$item.attr('href',linkNonEntitled).text(textNonEntitled)})}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/wwe_network/js/wwe-network-pane.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/wwe_quickedit/js/wwe-quickedit.js. */
!(function($){'use strict';Drupal.behaviors.WWEFileQuickEdit={attach:function(context){var self=this,$items=$('.wwe-media-browser--caption-edit .form-item, .wwe-media-browser--tags-edit .form-item',context);$.each($items,function(i){self.initFormElement(this)})},initFormElement:function(ta){var self=this,$langSelector=$('#edit-language'),formLang='';if($langSelector.length>0)if($langSelector.is('[disabled=disabled]')==false)var formLang=$langSelector.val();var $formElementWrapper=$(ta),elementClass='.form-textarea';if($formElementWrapper.find('.form-text').length>0)elementClass='.form-text';var $placeholder=self.initPlaceholder(ta);$formElementWrapper.find(elementClass).unbind('blur');$formElementWrapper.find(elementClass).on('blur',function(){var $formElement=$(this),textUpdated=($formElement.val()!=$placeholder[0].wholeText);self.initPlaceholder(ta,elementClass);if(textUpdated){$placeholder.append('<img src="/misc/throbber-active.gif" class="throbber" />');var postData=$formElement.data();postData.new_value=$formElement.val();postData.formLang=formLang;$.ajax({type:"POST",url:'/quickedit',data:JSON.stringify(postData)}).done(function(data){if(data.success)self.initPlaceholder(ta)})}else self.initPlaceholder(ta)})},initPlaceholder:function(ta){var self=this,$formElementWrapper=$(ta),elementClass='.form-textarea';if($formElementWrapper.find('.form-text').length>0)elementClass='.form-text';var $parent=undefined;if($formElementWrapper.parent().find('.placeholder').length==0){var $placeholder=$('<div>').addClass('placeholder');$formElementWrapper.after($placeholder);$parent=$placeholder.parents('td');var $captionEdit=$parent.find('.wwe-media-browser--caption-edit');if($captionEdit.length>0){$parent.addClass('wwe-quickedit--caption-parent');$formElementWrapper.find(elementClass).addClass('wwe-quickedit--caption-input');$formElementWrapper.parent().addClass('wwe-quickedit--caption-input')}}else{var $captionEdit=$formElementWrapper.parent(),$placeholder=$captionEdit.find('.placeholder');$placeholder.find('.throbber').remove();$parent=$placeholder};var textElement=$formElementWrapper.find(elementClass)[0],placeholderTxt=textElement.value;$('.placeholder').show();$formElementWrapper.hide();$('.form-disabled textarea').height('auto');$captionEdit.removeClass('expandable');$placeholder.html(placeholderTxt);$placeholder[0].wholeText=$placeholder[0].innerHTML;var $captionElement=$formElementWrapper.closest('td.wwe-quickedit--caption-parent');if($captionElement.length>0)if($placeholder[0].offsetHeight>0){var wordArray=$placeholder[0].innerHTML.split(' ');while($placeholder[0].offsetHeight>$captionElement[0].offsetHeight){wordArray.pop();$placeholder[0].innerHTML=wordArray.join(' ')+'...'}};if($parent.length>0)$parent.on('click',function(){$placeholder.hide();$formElementWrapper.show();$('.form-disabled textarea').height('auto');$captionEdit.addClass('expandable');$formElementWrapper.find('textarea, input[type="text"]')[0].focus()});return $placeholder}};Drupal.behaviors.WWESelectQuickEdit={attach:function(context){var self=Drupal.behaviors.WWESelectQuickEdit,$items=$('.wwe-media-browser--publication-status-edit .form-item',context);$.each($items,function(i){self.initFormElement(this)})},initFormElement:function(ta){var self=this,$formElement=$(ta).find('.form-select'),$table=$formElement.closest('table');$formElement.unbind('change');$formElement.on('change',function(){var optionSelected=$("option:selected",this),valueSelected=this.value,postData=$formElement.data();postData.new_value=$formElement.val();$.ajax({type:"POST",url:'/quickedit',data:JSON.stringify(postData)}).done(function(data){if(data.success)if(typeof(data.property_name)==='string'&&data.property_name=='published')if(data.new_value=="1"){$formElement.closest('tr.existing-item').removeClass('unpublished')}else $formElement.closest('tr.existing-item').addClass('unpublished')})})}};Drupal.behaviors.WWEFileBulkOps={attach:function(context){var self=Drupal.behaviors.WWEFileBulkOps,$items=$('.wwe-media-browser--bulk-ops .form-item',context);$.each($items,function(i){self.initFormElement(this)})},initFormElement:function(ta){var self=this,$formElement=$(ta).find('.form-select'),$table=$formElement.closest('table');$formElement.unbind('change');$formElement.on('change',function(){var optionSelected=$("option:selected",this),valueSelected=this.value,userConfirmed=confirm("Are you sure you want to "+$(optionSelected).text().toLowerCase()+'?');if(userConfirmed==true)if(valueSelected=='copy_caption'){var captionId='#'+$(this).attr('id').replace('bulk-ops','caption'),postData=$(captionId).data();postData.new_value=$(captionId).val();var entityIds=[];$table.find(".wwe-media-browser--caption-edit .form-textarea").each(function(){entityIds.push($(this).data('entity_ids'))});while(entityIds.length){var subset=entityIds.slice(0,9);entityIds=entityIds.slice(9);postData.entity_ids=subset.join(', ');$.ajax({type:"POST",url:'/quickedit',data:JSON.stringify(postData)}).done(function(data){if(data.success)$.each(data.entity_ids.split(', '),function(index,updateId){var selector=".wwe-media-browser--caption-edit .form-textarea[data-entity_ids="+updateId+"]";$(selector).val(data.new_value);$(selector).closest('.wwe-media-browser--caption-edit').find('.placeholder').html(data.new_value)})})};$(this).val($("option:first",this).val())}else if(valueSelected=='copy_tags'){var tagsId='#'+$(this).attr('id').replace('bulk-ops','tags'),postData=$(tagsId).data();postData.new_value=$(tagsId).val();var entityIds=[];$table.find(".wwe-media-browser--tags-edit .form-text").each(function(){entityIds.push($(this).data('entity_ids'))});while(entityIds.length){var subset=entityIds.slice(0,9);entityIds=entityIds.slice(9);postData.entity_ids=subset.join(', ');$.ajax({type:"POST",url:'/quickedit',data:JSON.stringify(postData)}).done(function(data){if(data.success)$.each(data.entity_ids.split(', '),function(index,updateId){var selector=".wwe-media-browser--tags-edit .form-text[data-entity_ids="+updateId+"]";$(selector).val(data.new_value);$(selector).closest('.wwe-media-browser--tags-edit').find('.placeholder').html(data.new_value)})})};$(this).val($("option:first",this).val())}})}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/wwe_quickedit/js/wwe-quickedit.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/wwe_search_gsa/js/wwe_search_gsa.block.js. */
!(function($){'use strict';Drupal.behaviors.wweSearchBlock={getFilter:function getFilter($form){var $filter=$form.find('select[name="filter"]');return $filter.length?$filter.val():'all'},getSearch:function getSearch($form){return $form.find('input[name="search_keys"]').val()},listenAutocompleteSelect:function($form){$form.find('input[name=search_keys]').on('autocompleteSelect',this.submit);$form.on('touchstart','#autocomplete ul li',function(e){var $selected=$(this);$form.find('input[name=search_keys]').trigger('submit',$selected)})},submit:function(e,selected){var $form=$(this),path='search',filterVal,searchVal;if(Drupal.settings.wweSearch!==undefined)if(Drupal.settings.wweSearch.searchPath!==undefined)path=Drupal.settings.wweSearch.searchPath;filterVal=Drupal.behaviors.wweSearchBlock.getFilter($form);if(selected!==undefined){searchVal=$(selected).text()}else searchVal=Drupal.behaviors.wweSearchBlock.getSearch($form);searchVal=searchVal.split("/").join(" ");window.location.href='/'+encodeURIComponent(path)+'/'+encodeURIComponent(filterVal)+'/'+encodeURIComponent(searchVal);return false},attach:function(context){if(document===context){var $form=$('.google-appliance-block-form',context);if($form.length!==0){this.listenAutocompleteSelect($form);$form.on('submit',this.submit)}}}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/wwe_search_gsa/js/wwe_search_gsa.block.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/wwe_shop/assets/js/wwe-shop.js. */
!(function($){'use strict';Drupal.behaviors.wweShop={geo:'',attach:function(context){var self=this,$cardTargets,$breakerTargets,$searchResults,$searchInput;this.geo=Drupal.behaviors.getNetworkCookie().toLowerCase();if(typeof(Drupal.settings.wweShop.enabled)==='undefined')return;$cardTargets=$('.wwe-feed-cards--card__shop');if($cardTargets.length!==0)$cardTargets.each(function(){$(this,context).once('show-card',function(){$(this).addClass('js-hide');if(Drupal.settings.wweShop.enabled===true)self.wweShopCards($(this))})});$breakerTargets=$('.wwe-breaker__shop');if($breakerTargets.length!==0)$breakerTargets.each(function(){$(this,context).once('show-breaker',function(){$(this).addClass('js-hide');if(Drupal.settings.wweShop.enabled===true)self.wweShopBreaker($(this))})})},wweShopCards:function($card){var product,price,productId=$card.data('product-id'),url='/api/wwe-shop/'+this.geo+'/card/0/1/'+productId;$.ajax({dataType:'JSON',url:url}).done(function(data){if(data.data.length!==0){product=data.data[0];price=(product.sales_price)?product.sales_price:product.price;var $link=$('<a>').attr({href:product.link,target:'_blank','class':'js-track','data-tracking-label':product.title+'|linkType=image'}),$image=$('<img>').attr({src:product.image_url_large,'class':'wwe-feed-card--thumb'});$('.wwe-feed-cards--card__shop--inner',$card).prepend($link.append($image));var $productTitle=$('<h3>').attr({'class':'wwe-feed-cards--title'}).text(product.title),$linkedTitle=$('<a href='+product.link+' class="js-track wwe-feed-cards--title" data-tracking-label="'+product.title+'|linkType=text"><h3>'+product.title+'</h3></a>'),$price=$('<div class="wwe-feed-card--shop-price">'+price+'</div>'),$shopButton=$('<a>').attr({href:product.link,target:'_blank','class':'wwe-feed-card--shop-button wwe-btn--cta js-track','data-tracking-label':product.title+'|linkType=CTA'}).text(Drupal.t('Shop')),$priceWrapper=$('<div></div>').attr({'class':'wwe-breaker__shop--purchase'});$priceWrapper.append($price).append($shopButton);$('.wwe-feed-cards--copy',$card).append($linkedTitle).append($priceWrapper);var encodedURI=encodeURI(product.link),fbShareLink='https://www.facebook.com/dialog/share?app_id='+Drupal.settings.wwe_social_media.fbAppId+'&display=popup&href='+encodedURI+'&redirect_uri='+encodedURI,twitterShareLink='https://twitter.com/intent/tweet?text='+product.title+'&url='+encodedURI,pinterestShareLink='//pinterest.com/pin/create/button?url='+encodedURI+'&description='+product.title,tumblrShareLink='https://www.tumblr.com/widgets/share/tool?canonicalUrl='+encodedURI+'&title='+product.title,emailShareLink='mailto:'+Drupal.settings.wwe_social_media.socialEmail+'?subject='+product.title+'&body='+product.title+' '+product.link;$card.find('.icon-facebook').attr('href',fbShareLink);$card.find('.icon-twitter').attr('href',twitterShareLink);$card.find('.icon-pinterest').attr('href',pinterestShareLink);$card.find('.icon-tumblr').attr('href',tumblrShareLink);$card.find('.icon-email').attr('href',emailShareLink);$card.removeClass('js-hide');Drupal.attachBehaviors($card,Drupal.settings)}else $card.remove()})},carouselInit:function($target){var self=this;this.$carouselShop=$target;this.$carouselShop.on('breakpoint',function(evt){self.setupNavigation()});self.setupCarousels();$(window).resize(function(){self.setupPositions()})},setupCarousels:function(){var self=this;this.$carouselShop.slick({infinite:true,cssEase:'linear',dots:true,arrows:true,speed:300,slidesToShow:3,slidesToScroll:3,responsive:[{breakpoint:900,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:760,settings:{slidesToShow:1,slidesToScroll:1,dots:false}}]});self.setupNavigation()},setupNavigation:function(){this.$carouselShop.find('.slick-prev').addClass('wwe-carousel--btn wwe-carousel--btn-prev');this.$carouselShop.find('.slick-next').addClass('wwe-carousel--btn wwe-carousel--btn-next');this.$carouselShop.find('.slick-dots').addClass('wwe-carousel--nav');this.setupPositions()},setupPositions:function(){var prev=this.$carouselShop.find('.slick-prev'),next=this.$carouselShop.find('.slick-next'),dots=this.$carouselShop.find('.slick-dots');if(Drupal.behaviors.wweThemeBreakpoints.breakpoint.value=='desktop'||Drupal.behaviors.wweThemeBreakpoints.breakpoint.value=='tablet'){var widthCarousels=this.$carouselShop.outerWidth(true),widthDots=dots.outerWidth(true),x=(widthCarousels-widthDots)/2;prev.css("left",x);next.css("right",x)}else{prev.attr("style","");next.attr("style","")}},wweShopBreaker:function($breaker){var i,shopQuery=$breaker.data('shop-breaker'),limit=$breaker.data('limit'),offset=$breaker.data('offset'),self=this,url='/api/wwe-shop/'+self.geo+'/breaker/'+offset+'/'+limit+'/'+shopQuery;$.ajax({dataType:'JSON',url:url}).done(function(data){var $shopBreakerInner;if(data.data&&data.data.length!==0){for(i=0;i<data.data.length;i++){var price=(data.data[i].sales_price)?data.data[i].sales_price:data.data[i].price,$itemWrapper=$('<div></div>').attr({'class':'wwe-breaker--item-wrapper wwe-breaker--item-shop-wrapper'}),$priceWrapper=$('<div></div>').attr({'class':'wwe-breaker__shop--purchase'}),$price=$('<div class="wwe-breaker__shop--purchase--price">'+price+'</div>'),trackingPrice=price.replace(/<sup>/g,'').replace(/<\/sup>/g,''),queryString='?utm_source=WWE&utm_medium=Dotcom&utm_term=superstar&utm_content=link&utm_campaign=breaker',$linkText=$('<a></a>').attr({href:data.data[i].link+queryString,target:'_blank','class':'js-track wwe-breaker--item-title','data-tracking-label':'shopItem='+data.data[i].title+'|price='+trackingPrice+'|linkType=text|slot='+(i+1)}).text(data.data[i].title),$link=$('<a></a>').attr({href:data.data[i].link+queryString,target:'_blank','class':'js-track wwe-shop-product--thumb','data-tracking-label':'shopItem='+data.data[i].title+'|price='+trackingPrice+'|linkType=image|slot='+(i+1)}),$image=$('<img />').attr({src:data.data[i].image_url_large});$itemWrapper.prepend($link.append($image));var $productTitle=$('<h3/>').attr({'class':'wwe-breaker--item-title'});$productTitle=$productTitle.append($linkText);var $shopButton=$('<a></a>').attr({href:data.data[i].link+queryString,target:'_blank','class':'wwe-btn--cta js-track','data-tracking-label':'shopItem='+data.data[i].title+'|price='+trackingPrice+'|linkType=cta|slot='+(i+1)}).text(Drupal.t('Shop Now'));$priceWrapper.append($price).append($shopButton);$itemWrapper.append($productTitle).append($priceWrapper);$('.wwe-breaker--content-inner',$breaker).append($itemWrapper)};$breaker.removeClass('js-hide');self.truncateShopTitle($breaker);$shopBreakerInner=$('.wwe-shop-breaker--content-inner',$breaker);self.carouselInit($shopBreakerInner);Drupal.attachBehaviors($shopBreakerInner,Drupal.settings);if(typeof(Drupal.behaviors.wweAnalytics)!='undefined')Drupal.behaviors.wweAnalytics.bindTrackingEvents()}else $breaker.remove()})},truncateShopTitle:function($breaker){var $shopProductTitles;if($.fn.dotdotdot){$shopProductTitles=$('.wwe-breaker--item-title a',$breaker);if($shopProductTitles.length)$shopProductTitles.each(function(){$(this).once('truncateShopTitle',function(){$(this).dotdotdot({height:'100px',watch:'window'})})})}}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/wwe_shop/assets/js/wwe-shop.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/wwe_social_media/assets/js/wwe-social-media.js. */
!(function($){'use strict';Drupal.behaviors.fbInit={attach:function(context,settings){if(context===document){if(typeof(Drupal.settings.wwe_social_media.fbAppId)==='undefined')return;(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src="//connect.facebook.net/en_US/sdk.js";fjs.parentNode.insertBefore(js,fjs)}(document,'script','facebook-jssdk'));window.fbAsyncInit=function(){FB.init({appId:Drupal.settings.wwe_social_media.fbAppId,version:'v2.5',width:'100%',num_posts:10,xfbml:true,colorscheme:'light'});Drupal.behaviors.fbShare();FB.XFBML.parse(context);FB.Canvas.setAutoGrow()}}else{var comments=$('.fb-comments',context);if(comments.length!==0&&typeof settings.transporter.alias!=='undefined'){var newComments=comments.clone();newComments.attr('data-href',location.protocol+settings.transporter.alias);comments.replaceWith(newComments);if(typeof FB!=='undefined')FB.XFBML.parse(context)}}}};Drupal.behaviors.fbShare=function(){if(typeof FB!=='undefined')$(document).on("click",'.js-fb-share',function(e){e.preventDefault();var $self=$(this);FB.ui({method:'share',mobile_iframe:true,href:decodeURIComponent($self.data('fb-url')),picture:decodeURIComponent($self.data('fb-img')),name:$self.data('fb-title')},function(response){})})};Drupal.behaviors.twitterIntent={attach:function(context,settings){$('.icon-twitter',context).not('.js--no-intent').on('click',function(e){e.preventDefault()})}}}(jQuery));;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/wwe_social_media/assets/js/wwe-social-media.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/wwe_transporter/assets/js/jquery.transport.js. */
!(function($){'use strict';var Transport=function(element,options){var self=this,settings=$.extend({},$.fn.Transport.defaults,options),loadedContent=false,changeURL=true,offset=0,newURL='',newTitle='',newIdentifier='',transported=false,documentHeight=$(document).height(),windowHeight=$(window).height(),transportedDocumentHeight=0,nextTimer=undefined,previousTimer=undefined,loadMarkup=typeof settings.loadMarkup==='undefined'?true:settings.loadMarkup,loadTransporter=function(){loadedContent=true;transported=false;var event=$.Event('startTransport.transport');$(element).trigger(event);if(event.isDefaultPrevented()){transported=false;changeURL=true;loadedContent=false;return};var url=settings.url+'/'+settings.cacheKey,$transporterDom=$('<div/>').addClass('transporter--content transporter--content__loading');$(element).append($transporterDom);$.getJSON(url,function(data){var eventData;$transporterDom.toggleClass('transporter--content__loading');if(data.markup!==''){if(typeof data.url!=='undefined')newURL=data.url;if(typeof data.page_title!=='undefined')newTitle=data.page_title;var $previousMarker=$('<div/>').addClass('wwe-transporter--marker-previous').attr('data-transport-url',window.location.pathname).attr('data-transport-title',document.title);$previousMarker.insertBefore($transporterDom);var $nextMarker=$('<div/>').addClass('wwe-transporter--marker-next').attr('data-transport-url',newURL).attr('data-transport-title',newTitle);$nextMarker.insertBefore($transporterDom);if(loadMarkup)$transporterDom.html(data.markup);$(document).on('customLoadTransporter',function(e){$transporterDom.html(data.markup);$(document).data('$injector',"");angular.bootstrap(document,['wweApp'])});offset++;if(changeURL===true)transported=true};if(typeof data.transport==='undefined'||data.transport===''){data.transport={};if(typeof data.transport.settings==='undefined'||data.transport.settings==='')data.transport.settings={}};if(typeof data.settings==='undefined'||data.settings==='')data.settings={};if(typeof data.transport!=='undefined'){data.settings.transporter={transporter:data.transport,newIdentifier:data.identifier,alias:data.url};if(typeof data.identifier!=='undefined')settings.identifier=data.identifier;loadedContent=false}else data.settings.transporter={newIdentifier:data.identifier,alias:data.url};if(typeof data.cacheKey!=='undefined')settings.cacheKey=data.cacheKey;settings.drupalSettings=data.settings;eventData={settings:settings,newElement:$transporterDom.get(0),newURL:newURL,newTitle:newTitle,markup:data.markup};$(element).trigger('successfulTransport.transport',[eventData])}).fail(function(){$transporterDom.toggleClass('transporter--content__loading');$(element).trigger('failedTransport.transport',[data.settings])})};if(loadedContent!==true&&windowHeight>=documentHeight){changeURL=false;loadTransporter()};this.updateURL=function(){history.pushState({},newTitle,newURL);$(document).attr("title",newTitle);changeURL=true};var doNotTrack=false;$(window).on('scroll',function(){documentHeight=$(document).height();windowHeight=$(window).height();var endlessPadding=documentHeight-10,bottom=$(window).scrollTop()+windowHeight;if(loadedContent!==true&&bottom>endlessPadding){transportedDocumentHeight=endlessPadding;loadTransporter();doNotTrack=true};var trackingTimer=2e3,$previousMarkers=$('.wwe-transporter--marker-previous');$previousMarkers.each(function(i,element){var $marker=$(element),thisTop=$marker.offset().top;if(thisTop>bottom){var previousURL=$marker.data('transport-url'),previousTitle=$marker.data('transport-title');if(previousURL!==window.location.pathname){history.pushState({},previousTitle,previousURL);$(document).attr("title",previousTitle);clearTimeout(nextTimer);previousTimer=setTimeout(function(){if(typeof(Drupal.behaviors.wweAnalytics)!='undefined')Drupal.behaviors.wweAnalytics.trackVirtualPageView(previousURL,previousTitle)},trackingTimer)};return false}});var nextMarkers=$('.wwe-transporter--marker-next').get().reverse();$(nextMarkers).each(function(i,element){var $marker=$(element),thisTop=$marker.offset().top;if($(window).scrollTop()>thisTop){var nextURL=$marker.data('transport-url'),nextTitle=$marker.data('transport-title');if(nextURL!==window.location.pathname){history.pushState({},nextTitle,nextURL);$(document).attr("title",nextTitle);clearTimeout(previousTimer);nextTimer=setTimeout(function(){if(typeof(Drupal.behaviors.wweAnalytics)!=='undefined')Drupal.behaviors.wweAnalytics.trackVirtualPageView(nextURL,nextTitle)},trackingTimer)};doNotTrack=false;return false}})})};$.fn.Transport=function(options){return this.each(function(i,el){var $element=$(el);if($element.data('transport'))return;var transport=new Transport(this,options);$element.data('transport',transport)})};$.fn.Transport.defaults={url:'/api/transporter',identifier:'',transport:'',cacheKey:''}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/wwe_transporter/assets/js/jquery.transport.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/wwe_transporter/assets/js/transporter.js. */
!(function($){'use strict';Drupal.behaviors.WWETransporter={attach:function(context,settings){if(context===document){var transport=null,identifier='',dom='#page',cacheKey='';if(typeof settings.transporter!=='undefined'){if(typeof settings.transporter.transport!=='undefined')transport=settings.transporter.transport;if(typeof settings.transporter.identifier!=='undefined')identifier=settings.transporter.identifier;if(typeof settings.transporter.domElement!=='undefined')dom=settings.transporter.domElement;if(typeof settings.transporter.cacheKey!=='undefined')cacheKey=settings.transporter.cacheKey};if(transport!==null&&cacheKey!==''){var transportIsOverlay=(transport==='video'||transport==='gallery'||transport==='video_playlist');if(transport=='video'||transport=='video_playlist')transportIsOverlay=!Drupal.behaviors.WWEVideoExplorer.miniExplorerIsOpen;var shouldLoadmarkup=!transportIsOverlay,language='en';if(typeof Drupal.settings.WWE!=='undefined')if(typeof Drupal.settings.WWE.language!=='undefined')language=Drupal.settings.WWE.language;if(transportIsOverlay&&language==='de')window.SOI_WERBUNG=false;var transporter=$(dom).Transport({identifier:identifier,transport:transport,cacheKey:cacheKey,loadMarkup:shouldLoadmarkup}),numberOfTransports=0;transporter.on('successfulTransport.transport',function(e,data){$.extend(Drupal.settings,data.settings.drupalSettings);$(data.newElement).find('#wwe-gallery--overlay').remove();if(typeof Drupal.behaviors.wweThemeOverlayLazyload!=='undefined')Drupal.behaviors.wweThemeOverlayLazyload.bindLoadMarkupEvents(data);if(transportIsOverlay){$(data.newElement).find('.wwe-ad-header').remove();if(typeof Drupal.behaviors.wweThemeOverlayLazyload!=='undefined')document.addEventListener('lazybeforeunveil',Drupal.behaviors.wweThemeOverlayLazyload.handleOverlay,true)}else if($(data.newElement).find('.pane-ads-header-pane').length===0){var $top=$(data.newElement).first(),rand='wwe-ad-transport-header-';rand+=Math.floor((Math.random()*1e4)+1);$('<div id="'+rand+'" class="wwe-ad-header" />').prependTo($top)};Drupal.attachBehaviors(data.newElement,Drupal.settings);numberOfTransports++;var gaProps={};gaProps.WN='Transporter';gaProps.EA='gaTransporterLoad';gaProps.E='TrackWidget';gaProps.OV=data.newURL;gaProps.OL=numberOfTransports;if(typeof(Drupal.behaviors.wweAnalytics)!='undefined')Drupal.behaviors.wweAnalytics.trackWidgetEvent(gaProps);angular.bootstrap(data.newElement,['wweApp'])})}}}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/wwe_transporter/assets/js/transporter.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/custom/wwe_travel_packages/assets/js/wwe-travel-packages.js. */
!(function($){'use strict';Drupal.behaviors.wweTravelPackages={attach:function(context){$('#travelpackages-landing div.drop-down').each(function(){var $dropdown=$(this),$expander=$dropdown.find('div.title, p.expander');$expander.click(function(e){$dropdown.toggleClass('closed')})});$('#travelpackages-landing .right-side ul li').click(function(e){e.preventDefault();var elementClicked=$(this).find('a').attr("href"),destination=$(elementClicked).offset().top;$("html:not(:animated),body:not(:animated)").animate({scrollTop:destination-80},500);$(elementClicked).removeClass('closed')})}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/custom/wwe_travel_packages/assets/js/wwe-travel-packages.js. */
/* Source and licensing information for the line(s) below can be found at /sites/all/modules/contrib/extlink/extlink.js. */
(function($){Drupal.extlink=Drupal.extlink||{};Drupal.extlink.attach=function(context,settings){if(!settings.hasOwnProperty('extlink'))return;var pattern=/^(([^\/:]+?\.)*)([^\.:]{4,})((\.[a-z]{1,4})*)(:[0-9]{1,5})?$/,host=window.location.host.replace(pattern,'$3$4'),subdomain=window.location.host.replace(pattern,'$1'),subdomains;if(settings.extlink.extSubdomains){subdomains="([^/]*\\.)?"}else if(subdomain=='www.'||subdomain==''){subdomains="(www\\.)?"}else subdomains=subdomain.replace(".","\\.");var internal_link=new RegExp("^https?://"+subdomains+host,"i"),extInclude=false;if(settings.extlink.extInclude)extInclude=new RegExp(settings.extlink.extInclude.replace(/\\/,'\\'),"i");var extExclude=false;if(settings.extlink.extExclude)extExclude=new RegExp(settings.extlink.extExclude.replace(/\\/,'\\'),"i");var extCssExclude=false;if(settings.extlink.extCssExclude)extCssExclude=settings.extlink.extCssExclude;var extCssExplicit=false;if(settings.extlink.extCssExplicit)extCssExplicit=settings.extlink.extCssExplicit;var external_links=new Array(),mailto_links=new Array();$("a:not(."+settings.extlink.extClass+", ."+settings.extlink.mailtoClass+"), area:not(."+settings.extlink.extClass+", ."+settings.extlink.mailtoClass+")",context).each(function(el){try{var url=this.href.toLowerCase();if(url.indexOf('http')==0&&((!url.match(internal_link)&&!(extExclude&&url.match(extExclude)))||(extInclude&&url.match(extInclude)))&&!(extCssExclude&&$(this).parents(extCssExclude).length>0)&&!(extCssExplicit&&$(this).parents(extCssExplicit).length<1)){external_links.push(this)}else if(this.tagName!='AREA'&&url.indexOf('mailto:')==0&&!(extCssExclude&&$(this).parents(extCssExclude).length>0)&&!(extCssExplicit&&$(this).parents(extCssExplicit).length<1))mailto_links.push(this)}catch(error){return false}});if(settings.extlink.extClass)Drupal.extlink.applyClassAndSpan(external_links,settings.extlink.extClass);if(settings.extlink.mailtoClass)Drupal.extlink.applyClassAndSpan(mailto_links,settings.extlink.mailtoClass);if(settings.extlink.extTarget)$(external_links).attr('target',settings.extlink.extTarget);Drupal.extlink=Drupal.extlink||{};Drupal.extlink.popupClickHandler=Drupal.extlink.popupClickHandler||function(){if(settings.extlink.extAlert)return confirm(settings.extlink.extAlertText)};$(external_links).click(function(e){return Drupal.extlink.popupClickHandler(e)})};Drupal.extlink.applyClassAndSpan=function(links,class_name){var $links_to_process;if(Drupal.settings.extlink.extImgClass){$links_to_process=$(links)}else{var links_with_images=$(links).find('img').parents('a');$links_to_process=$(links).not(links_with_images)};$links_to_process.addClass(class_name);var i,length=$links_to_process.length;for(i=0;i<length;i++){var $link=$($links_to_process[i]);if($link.css('display')=='inline'||$link.css('display')=='inline-block')if(class_name==Drupal.settings.extlink.mailtoClass){$link.append('<span class="'+class_name+'"><span class="element-invisible"> '+Drupal.settings.extlink.mailtoLabel+'</span></span>')}else $link.append('<span class="'+class_name+'"><span class="element-invisible"> '+Drupal.settings.extlink.extLabel+'</span></span>')}};Drupal.behaviors.extlink=Drupal.behaviors.extlink||{};Drupal.behaviors.extlink.attach=function(context,settings){if(typeof extlinkAttach==='function'){extlinkAttach(context)}else Drupal.extlink.attach(context,settings)}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at /sites/all/modules/contrib/extlink/extlink.js. */
