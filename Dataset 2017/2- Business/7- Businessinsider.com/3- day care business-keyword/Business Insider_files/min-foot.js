/*!
 * Modernizr v2.6.2
 * www.modernizr.com
 *
 * Copyright (c) Faruk Ates, Paul Irish, Alex Sexton
 * Available under the BSD and MIT licenses: www.modernizr.com/license/
 */
;window.Modernizr=(function(A,c,g){var J="2.6.2",w={},y=true,M=c.documentElement,a="modernizr",I=c.createElement(a),E=I.style,L=c.createElement("input"),C=":)",b={}.toString,j=" -webkit- -moz- -o- -ms- ".split(" "),h="Webkit Moz O ms",F=h.split(" "),K=h.toLowerCase().split(" "),H={svg:"http://www.w3.org/2000/svg"},l={},p={},f={},e=[],k=e.slice,s,n=function(V,X,P,W){var O,U,R,S,N=c.createElement("div"),T=c.body,Q=T||c.createElement("body");if(parseInt(P,10)){while(P--){R=c.createElement("div");R.id=W?W[P]:a+(P+1);N.appendChild(R)}}O=["&#173;",'<style id="s',a,'">',V,"</style>"].join("");N.id=a;(T?N:Q).innerHTML+=O;Q.appendChild(N);if(!T){Q.style.background="";Q.style.overflow="hidden";S=M.style.overflow;M.style.overflow="hidden";M.appendChild(Q)}U=X(N,V);if(!T){Q.parentNode.removeChild(Q);M.style.overflow=S}else{N.parentNode.removeChild(N)}return !!U},G=function(P){var O=A.matchMedia||A.msMatchMedia;if(O){return O(P).matches}var N;n("@media "+P+" { #"+a+" { position: absolute; } }",function(Q){N=(A.getComputedStyle?getComputedStyle(Q,null):Q.currentStyle)["position"]=="absolute"});return N},o=(function(){var O={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};function N(P,R){R=R||c.createElement(O[P]||"div");P="on"+P;var Q=P in R;if(!Q){if(!R.setAttribute){R=c.createElement("div")}if(R.setAttribute&&R.removeAttribute){R.setAttribute(P,"");Q=r(R[P],"function");if(!r(R[P],"undefined")){R[P]=g}R.removeAttribute(P)}}R=null;return Q}return N})(),i=({}).hasOwnProperty,x;if(!r(i,"undefined")&&!r(i.call,"undefined")){x=function(N,O){return i.call(N,O)}}else{x=function(N,O){return((O in N)&&r(N.constructor.prototype[O],"undefined"))}}if(!Function.prototype.bind){Function.prototype.bind=function d(P){var Q=this;if(typeof Q!="function"){throw new TypeError()}var N=k.call(arguments,1),O=function(){if(this instanceof O){var T=function(){};T.prototype=Q.prototype;var S=new T();var R=Q.apply(S,N.concat(k.call(arguments)));if(Object(R)===R){return R}return S}else{return Q.apply(P,N.concat(k.call(arguments)))}};return O}}function D(N){E.cssText=N}function u(O,N){return D(j.join(O+";")+(N||""))}function r(O,N){return typeof O===N}function t(O,N){return !!~(""+O).indexOf(N)}function z(P,N){for(var O in P){var Q=P[O];if(!t(Q,"-")&&E[Q]!==g){return N=="pfx"?Q:true}}return false}function q(O,R,Q){for(var N in O){var P=R[O[N]];if(P!==g){if(Q===false){return O[N]}if(r(P,"function")){return P.bind(Q||R)}return P}}return false}function m(R,N,Q){var O=R.charAt(0).toUpperCase()+R.slice(1),P=(R+" "+F.join(O+" ")+O).split(" ");if(r(N,"string")||r(N,"undefined")){return z(P,N)}else{P=(R+" "+(K).join(O+" ")+O).split(" ");return q(P,N,Q)}}l.flexbox=function(){return m("flexWrap")};l.flexboxlegacy=function(){return m("boxDirection")};l.canvas=function(){var N=c.createElement("canvas");return !!(N.getContext&&N.getContext("2d"))};l.canvastext=function(){return !!(w.canvas&&r(c.createElement("canvas").getContext("2d").fillText,"function"))};l.webgl=function(){return !!A.WebGLRenderingContext};l.geolocation=function(){return"geolocation" in navigator};l.postmessage=function(){return !!A.postMessage};l.websqldatabase=function(){return !!A.openDatabase};l.indexedDB=function(){return !!m("indexedDB",A)};l.hashchange=function(){return o("hashchange",A)&&(c.documentMode===g||c.documentMode>7)};l.history=function(){return !!(A.history&&history.pushState)};l.draganddrop=function(){var N=c.createElement("div");return("draggable" in N)||("ondragstart" in N&&"ondrop" in N)};l.websockets=function(){return"WebSocket" in A||"MozWebSocket" in A};l.rgba=function(){D("background-color:rgba(150,255,150,.5)");return t(E.backgroundColor,"rgba")};l.hsla=function(){D("background-color:hsla(120,40%,100%,.5)");return t(E.backgroundColor,"rgba")||t(E.backgroundColor,"hsla")
};l.multiplebgs=function(){D("background:url(https://),url(https://),red url(https://)");return(/(url\s*\(.*?){3}/).test(E.background)};l.backgroundsize=function(){return m("backgroundSize")};l.borderimage=function(){return m("borderImage")};l.borderradius=function(){return m("borderRadius")};l.boxshadow=function(){return m("boxShadow")};l.textshadow=function(){return c.createElement("div").style.textShadow===""};l.opacity=function(){u("opacity:.55");return(/^0.55$/).test(E.opacity)};l.cssanimations=function(){return m("animationName")};l.csscolumns=function(){return m("columnCount")};l.cssgradients=function(){var P="background-image:",O="gradient(linear,left top,right bottom,from(#9f9),to(white));",N="linear-gradient(left top,#9f9, white);";D((P+"-webkit- ".split(" ").join(O+P)+j.join(N+P)).slice(0,-P.length));return t(E.backgroundImage,"gradient")};l.cssreflections=function(){return m("boxReflect")};l.csstransforms=function(){return !!m("transform")};l.csstransforms3d=function(){var N=!!m("perspective");if(N&&"webkitPerspective" in M.style){n("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(O,P){N=O.offsetLeft===9&&O.offsetHeight===3})}return N};l.csstransitions=function(){return m("transition")};l.fontface=function(){var N;n('@font-face {font-family:"font";src:url("https://")}',function(R,S){var Q=c.getElementById("smodernizr"),O=Q.sheet||Q.styleSheet,P=O?(O.cssRules&&O.cssRules[0]?O.cssRules[0].cssText:O.cssText||""):"";N=/src/i.test(P)&&P.indexOf(S.split(" ")[0])===0});return N};l.video=function(){var O=c.createElement("video"),N=false;try{if(N=!!O.canPlayType){N=new Boolean(N);N.ogg=O.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"");N.h264=O.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"");N.webm=O.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}}catch(P){}return N};l.audio=function(){var O=c.createElement("audio"),N=false;try{if(N=!!O.canPlayType){N=new Boolean(N);N.ogg=O.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"");N.mp3=O.canPlayType("audio/mpeg;").replace(/^no$/,"");N.wav=O.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"");N.m4a=(O.canPlayType("audio/x-m4a;")||O.canPlayType("audio/aac;")).replace(/^no$/,"")}}catch(P){}return N};l.localstorage=function(){try{localStorage.setItem(a,a);localStorage.removeItem(a);return true}catch(N){return false}};l.sessionstorage=function(){try{sessionStorage.setItem(a,a);sessionStorage.removeItem(a);return true}catch(N){return false}};l.webworkers=function(){return !!A.Worker};l.applicationcache=function(){return !!A.applicationCache};l.svg=function(){return !!c.createElementNS&&!!c.createElementNS(H.svg,"svg").createSVGRect};l.inlinesvg=function(){var N=c.createElement("div");N.innerHTML="<svg/>";return(N.firstChild&&N.firstChild.namespaceURI)==H.svg};l.smil=function(){return !!c.createElementNS&&/SVGAnimate/.test(b.call(c.createElementNS(H.svg,"animate")))};l.svgclippaths=function(){return !!c.createElementNS&&/SVGClipPath/.test(b.call(c.createElementNS(H.svg,"clipPath")))};function B(){w.input=(function(P){for(var O=0,N=P.length;O<N;O++){f[P[O]]=!!(P[O] in L)}if(f.list){f.list=!!(c.createElement("datalist")&&A.HTMLDataListElement)}return f})("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));w.inputtypes=(function(Q){for(var P=0,O,S,R,N=Q.length;P<N;P++){L.setAttribute("type",S=Q[P]);O=L.type!=="text";if(O){L.value=C;L.style.cssText="position:absolute;visibility:hidden;";if(/^range$/.test(S)&&L.style.WebkitAppearance!==g){M.appendChild(L);R=c.defaultView;O=R.getComputedStyle&&R.getComputedStyle(L,null).WebkitAppearance!=="textfield"&&(L.offsetHeight!==0);M.removeChild(L)}else{if(/^(search|tel)$/.test(S)){}else{if(/^(url|email)$/.test(S)){O=L.checkValidity&&L.checkValidity()===false}else{O=L.value!=C}}}}p[Q[P]]=!!O}return p})("search tel url email datetime date month week time datetime-local number range color".split(" "))
}for(var v in l){if(x(l,v)){s=v.toLowerCase();w[s]=l[v]();e.push((w[s]?"":"no-")+s)}}w.input||B();w.addTest=function(O,P){if(typeof O=="object"){for(var N in O){if(x(O,N)){w.addTest(N,O[N])}}}else{O=O.toLowerCase();if(w[O]!==g){return w}P=typeof P=="function"?P():P;if(typeof y!=="undefined"&&y){M.className+=" "+(P?"":"no-")+O}w[O]=P}return w};D("");I=L=null;
/*! HTML5 Shiv v3.6.1 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed */
;(function(W,Y){var Q=W.html5||{};var T=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;var O=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;var ac;var U="_html5shiv";var N=0;var aa={};var R;(function(){try{var af=Y.createElement("a");af.innerHTML="<xyz></xyz>";ac=("hidden" in af);R=af.childNodes.length==1||(function(){(Y.createElement)("a");var ah=Y.createDocumentFragment();return(typeof ah.cloneNode=="undefined"||typeof ah.createDocumentFragment=="undefined"||typeof ah.createElement=="undefined")}())}catch(ag){ac=true;R=true}}());function S(af,ah){var ai=af.createElement("p"),ag=af.getElementsByTagName("head")[0]||af.documentElement;ai.innerHTML="x<style>"+ah+"</style>";return ag.insertBefore(ai.lastChild,ag.firstChild)}function X(){var af=V.elements;return typeof af=="string"?af.split(" "):af}function ab(af){var ag=aa[af[U]];if(!ag){ag={};N++;af[U]=N;aa[N]=ag}return ag}function Z(ai,af,ah){if(!af){af=Y}if(R){return af.createElement(ai)}if(!ah){ah=ab(af)}var ag;if(ah.cache[ai]){ag=ah.cache[ai].cloneNode()}else{if(O.test(ai)){ag=(ah.cache[ai]=ah.createElem(ai)).cloneNode()}else{ag=ah.createElem(ai)}}return ag.canHaveChildren&&!T.test(ai)?ah.frag.appendChild(ag):ag}function ad(ah,aj){if(!ah){ah=Y}if(R){return ah.createDocumentFragment()}aj=aj||ab(ah);var ak=aj.frag.cloneNode(),ai=0,ag=X(),af=ag.length;for(;ai<af;ai++){ak.createElement(ag[ai])}return ak}function ae(af,ag){if(!ag.cache){ag.cache={};ag.createElem=af.createElement;ag.createFrag=af.createDocumentFragment;ag.frag=ag.createFrag()}af.createElement=function(ah){if(!V.shivMethods){return ag.createElem(ah)}return Z(ah,af,ag)};af.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+X().join().replace(/\w+/g,function(ah){ag.createElem(ah);ag.frag.createElement(ah);return'c("'+ah+'")'})+");return n}")(V,ag.frag)}function P(af){if(!af){af=Y}var ag=ab(af);if(V.shivCSS&&!ac&&!ag.hasCSS){ag.hasCSS=!!S(af,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")}if(!R){ae(af,ag)}return af}var V={elements:Q.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:(Q.shivCSS!==false),supportsUnknownElements:R,shivMethods:(Q.shivMethods!==false),type:"default",shivDocument:P,createElement:Z,createDocumentFragment:ad};W.html5=V;P(Y)}(this,c));w._version=J;w._prefixes=j;w._domPrefixes=K;w._cssomPrefixes=F;w.mq=G;w.hasEvent=o;w.testProp=function(N){return z([N])};w.testAllProps=m;w.testStyles=n;w.prefixed=function(P,O,N){if(!O){return m(P,"pfx")}else{return m(P,O,N)}};M.className=M.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(y?" js "+e.join(" "):"");return w})(this,this.document);(function(a){if(typeof a.fn.each2=="undefined"){a.fn.extend({each2:function(f){var d=a([0]),e=-1,b=this.length;while(++e<b&&(d.context=d[0]=this[e])&&f.call(d[0],e,d)!==false){}return this}})}})(jQuery);(function(j,l){if(window.Select2!==l){return}var c,e,v,B,t,a;c={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(C){C=C.which?C.which:C;switch(C){case c.LEFT:case c.RIGHT:case c.UP:case c.DOWN:return true}return false},isControl:function(D){var C=D.which;switch(C){case c.SHIFT:case c.CTRL:case c.ALT:return true}if(D.metaKey){return true}return false},isFunctionKey:function(C){C=C.which?C.which:C;return C>=112&&C<=123}};t=(function(){var C=1;return function(){return C++}}());function b(F,G){var E=0,C=G.length,D;if(typeof F==="undefined"){return -1}if(F.constructor===String){for(;E<C;E=E+1){if(F.localeCompare(G[E])===0){return E}}}else{for(;E<C;E=E+1){D=G[E];if(D.constructor===String){if(D.localeCompare(F)===0){return E}}else{if(D===F){return E}}}}return -1}function q(D,C){if(D===C){return true}if(D===l||C===l){return false}if(D===null||C===null){return false}if(D.constructor===String){return D.localeCompare(C)===0}if(C.constructor===String){return C.localeCompare(D)===0}return false}function m(D,F){var G,E,C;if(D===null||D.length<1){return[]}G=D.split(F);for(E=0,C=G.length;E<C;E=E+1){G[E]=j.trim(G[E])}return G}function n(C){return C.outerWidth()-C.width()}function z(D){var C="keyup-change-value";D.bind("keydown",function(){if(j.data(D,C)===l){j.data(D,C,D.val())}});D.bind("keyup",function(){var E=j.data(D,C);if(E!==l&&D.val()!==E){j.removeData(D,C);D.trigger("keyup-change")}})}j(document).delegate("body","mousemove",function(C){j.data(document,"select2-lastpos",{x:C.pageX,y:C.pageY})});function u(C){C.bind("mousemove",function(E){var D=j.data(document,"select2-lastpos");if(D===l||D.x!==E.pageX||D.y!==E.pageY){j(E.target).trigger("mousemove-filtered",E)}})}function f(F,D,C){C=C||l;var E;return function(){var G=arguments;window.clearTimeout(E);E=window.setTimeout(function(){D.apply(C,G)},F)}}function A(E){var C=false,D;return function(){if(C===false){D=E();C=true}return D}}function g(C,E){var D=f(C,function(F){E.trigger("scroll-debounced",F)});E.bind("scroll",function(F){if(b(F.target,E.get())>=0){D(F)}})}function d(C){C.preventDefault();C.stopPropagation()}function x(D){if(!a){var C=D[0].currentStyle||window.getComputedStyle(D[0],null);a=j("<div></div>").css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:C.fontSize,fontFamily:C.fontFamily,fontStyle:C.fontStyle,fontWeight:C.fontWeight,letterSpacing:C.letterSpacing,textTransform:C.textTransform,whiteSpace:"nowrap"});j("body").append(a)}a.text(D.val());return a.width()}function i(G,F,D){var E=G.toUpperCase().indexOf(F.toUpperCase()),C=F.length;if(E<0){D.push(G);return}D.push(G.substring(0,E));D.push("<span class='select2-match'>");D.push(G.substring(E,E+C));D.push("</span>");D.push(G.substring(E+C,G.length))}function p(D){var F,C=0,E=null,G=D.quietMillis||100;return function(H){window.clearTimeout(F);F=window.setTimeout(function(){C+=1;var I=C,L=D.data,M=D.transport||j.ajax,K=D.traditional||false,J=D.type||"GET";L=L.call(this,H.term,H.page,H.context);if(null!==E){E.abort()}E=M.call(null,{url:D.url,dataType:D.dataType,data:L,type:J,traditional:K,success:function(O){if(I<C){return}var N=D.results(O,H.page);H.callback(N)}})},G)}}function r(C){var E=C,D,F=function(G){return""+G.text};if(!j.isArray(E)){F=E.text;if(!j.isFunction(F)){D=E.text;F=function(G){return G[D]}}E=E.results}return function(I){var H=I.term,G={results:[]},J;if(H===""){I.callback({results:E});return}J=function(L,N){var M,K;L=L[0];if(L.children){M={};for(K in L){if(L.hasOwnProperty(K)){M[K]=L[K]}}M.children=[];j(L.children).each2(function(O,P){J(P,M.children)});if(M.children.length){N.push(M)}}else{if(I.matcher(H,F(L))){N.push(L)}}};j(E).each2(function(L,K){J(K,G.results)});I.callback(G)
}}function o(C){if(j.isFunction(C)){return C}return function(F){var E=F.term,D={results:[]};j(C).each(function(){var G=this.text!==l,H=G?this.text:this;if(E===""||F.matcher(E,H)){D.results.push(G?this:{id:this,text:this})}});F.callback(D)}}function k(C,D){if(j.isFunction(C)){return true}if(!C){return false}throw new Error("formatterName must be a function or a falsy value")}function s(C){return j.isFunction(C)?C():C}function h(C){var D=0;j.each(C,function(E,F){if(F.children){D+=h(F.children)}else{D++}});return D}function y(K,L,I,C){var D=K,M=false,F,J,G,E,H;if(!C.createSearchChoice||!C.tokenSeparators||C.tokenSeparators.length<1){return l}while(true){J=-1;for(G=0,E=C.tokenSeparators.length;G<E;G++){H=C.tokenSeparators[G];J=K.indexOf(H);if(J>=0){break}}if(J<0){break}F=K.substring(0,J);K=K.substring(J+H.length);if(F.length>0){F=C.createSearchChoice(F,L);if(F!==l&&F!==null&&C.id(F)!==l&&C.id(F)!==null){M=false;for(G=0,E=L.length;G<E;G++){if(q(C.id(F),C.id(L[G]))){M=true;break}}if(!M){I(F)}}}}if(D.localeCompare(K)!=0){return K}}j(document).ready(function(){j(document).delegate("body","mousedown touchend",function(E){var D=j(E.target).closest("div.select2-container").get(0),C;if(D){j(document).find("div.select2-container-active").each(function(){if(this!==D){j(this).data("select2").blur()}})}else{D=j(E.target).closest("div.select2-drop").get(0);j(document).find("div.select2-drop-active").each(function(){if(this!==D){j(this).data("select2").blur()}})}D=j(E.target);C=D.attr("for");if("LABEL"===E.target.tagName&&C&&C.length>0){D=j("#"+C);D=D.data("select2");if(D!==l){D.focus();E.preventDefault()}}})});function w(C,D){var E=function(){};E.prototype=new C;E.prototype.constructor=E;E.prototype.parent=C.prototype;E.prototype=j.extend(E.prototype,D);return E}e=w(Object,{bind:function(D){var C=this;return function(){D.apply(C,arguments)}},init:function(E){var D,C,F=".select2-results";this.opts=E=this.prepareOpts(E);this.id=E.id;if(E.element.data("select2")!==l&&E.element.data("select2")!==null){this.destroy()}this.enabled=true;this.container=this.createContainer();this.containerId="s2id_"+(E.element.attr("id")||"autogen"+t());this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);this.body=A(function(){return E.element.closest("body")});if(E.element.attr("class")!==l){this.container.addClass(E.element.attr("class").replace(/validate\[[\S ]+] ?/,""))}this.container.css(s(E.containerCss));this.container.addClass(s(E.containerCssClass));this.opts.element.data("select2",this).hide().before(this.container);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");this.dropdown.addClass(s(E.dropdownCssClass));this.dropdown.data("select2",this);this.results=D=this.container.find(F);this.search=C=this.container.find("input.select2-input");C.attr("tabIndex",this.opts.element.attr("tabIndex"));this.resultsPage=0;this.context=null;this.initContainer();this.initContainerWidth();u(this.results);this.dropdown.delegate(F,"mousemove-filtered",this.bind(this.highlightUnderEvent));g(80,this.results);this.dropdown.delegate(F,"scroll-debounced",this.bind(this.loadMoreIfNeeded));if(j.fn.mousewheel){D.mousewheel(function(K,L,I,H){var J=D.scrollTop(),G;if(H>0&&J-H<=0){D.scrollTop(0);d(K)}else{if(H<0&&D.get(0).scrollHeight-D.scrollTop()+H<=D.height()){D.scrollTop(D.get(0).scrollHeight-D.height());d(K)}}})}z(C);C.bind("keyup-change",this.bind(this.updateResults));C.bind("focus",function(){C.addClass("select2-focused");if(C.val()===" "){C.val("")}});C.bind("blur",function(){C.removeClass("select2-focused")});this.dropdown.delegate(F,"mouseup",this.bind(function(G){if(j(G.target).closest(".select2-result-selectable:not(.select2-disabled)").length>0){this.highlightUnderEvent(G);this.selectHighlighted(G)}else{this.focusSearch()}d(G)}));this.dropdown.bind("click mouseup mousedown",function(G){G.stopPropagation()});if(j.isFunction(this.opts.initSelection)){this.initSelection();
this.monitorSource()}if(E.element.is(":disabled")||E.element.is("[readonly='readonly']")){this.disable()}},destroy:function(){var C=this.opts.element.data("select2");if(C!==l){C.container.remove();C.dropdown.remove();C.opts.element.removeData("select2").unbind(".select2").show()}},prepareOpts:function(G){var E,D,C,F;E=G.element;if(E.get(0).tagName.toLowerCase()==="select"){this.select=D=G.element}if(D){j.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in G){throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}})}G=j.extend({},{populateResults:function(H,L,N){var M,K,P,J,I=this.opts.id,O=this;M=function(V,Q,U){var W,S,ab,Y,aa,R,Z,X,T;for(W=0,S=V.length;W<S;W=W+1){ab=V[W];Y=I(ab)!==l;aa=ab.children&&ab.children.length>0;R=j("<li></li>");R.addClass("select2-results-dept-"+U);R.addClass("select2-result");R.addClass(Y?"select2-result-selectable":"select2-result-unselectable");if(aa){R.addClass("select2-result-with-children")}R.addClass(O.opts.formatResultCssClass(ab));Z=j("<div></div>");Z.addClass("select2-result-label");T=G.formatResult(ab,Z,N);if(T!==l){Z.html(O.opts.escapeMarkup(T))}R.append(Z);if(aa){X=j("<ul></ul>");X.addClass("select2-result-sub");M(ab.children,X,U+1);R.append(X)}R.data("select2-data",ab);Q.append(R)}};M(L,H,0)}},j.fn.select2.defaults,G);if(typeof(G.id)!=="function"){C=G.id;G.id=function(H){return H[C]}}if(D){G.query=this.bind(function(K){var J={results:[],more:false},I=K.term,H,M,L;L=function(N,P){var O;if(N.is("option")){if(K.matcher(I,N.text(),N)){P.push({id:N.attr("value"),text:N.text(),element:N.get(),css:N.attr("class")})}}else{if(N.is("optgroup")){O={text:N.attr("label"),children:[],element:N.get(),css:N.attr("class")};N.children().each2(function(Q,R){L(R,O.children)});if(O.children.length>0){P.push(O)}}}};H=E.children();if(this.getPlaceholder()!==l&&H.length>0){M=H[0];if(j(M).text()===""){H=H.not(M)}}H.each2(function(N,O){L(O,J.results)});K.callback(J)});G.id=function(H){return H.id};G.formatResultCssClass=function(H){return H.css}}else{if(!("query" in G)){if("ajax" in G){F=G.element.data("ajax-url");if(F&&F.length>0){G.ajax.url=F}G.query=p(G.ajax)}else{if("data" in G){G.query=r(G.data)}else{if("tags" in G){G.query=o(G.tags);G.createSearchChoice=function(H){return{id:H,text:H}};G.initSelection=function(H,J){var I=[];j(m(H.val(),G.separator)).each(function(){var M=this,L=this,K=G.tags;if(j.isFunction(K)){K=K()}j(K).each(function(){if(q(this.id,M)){L=this.text;return false}});I.push({id:M,text:L})});J(I)}}}}}}if(typeof(G.query)!=="function"){throw"query function not defined for Select2 "+G.element.attr("id")}return G},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(C){if(this.opts.element.data("select2-change-triggered")!==true){this.initSelection()}}))},triggerChange:function(C){C=C||{};C=j.extend({},C,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",true);this.opts.element.trigger(C);this.opts.element.data("select2-change-triggered",false);this.opts.element.click();if(this.opts.blurOnChange){this.opts.element.blur()}},enable:function(){if(this.enabled){return}this.enabled=true;this.container.removeClass("select2-container-disabled")},disable:function(){if(!this.enabled){return}this.close();this.enabled=false;this.container.addClass("select2-container-disabled")},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var G=this.container.offset(),O=this.container.outerHeight(),D=this.container.outerWidth(),F=this.dropdown.outerHeight(),K=j(window).scrollTop()+document.documentElement.clientHeight,C=G.top+O,N=G.left,L=C+F<=K,J=(G.top-F)>=this.body().scrollTop(),E=this.dropdown.hasClass("select2-drop-above"),H,M,I;if(this.body().css("position")!=="static"){H=this.body().offset();C-=H.top;N-=H.left}if(E){M=true;if(!J&&L){M=false}}else{M=false;if(!L&&J){M=true}}if(M){C=G.top-F;this.container.addClass("select2-drop-above");
this.dropdown.addClass("select2-drop-above")}else{this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")}I=j.extend({top:C,left:N,width:D},s(this.opts.dropdownCss));this.dropdown.css(I)},shouldOpen:function(){var C;if(this.opened()){return false}C=j.Event("open");this.opts.element.trigger(C);return !C.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){if(!this.shouldOpen()){return false}window.setTimeout(this.bind(this.opening),1);return true},opening:function(){var F=this.containerId,D=this.containerSelector,C="scroll."+F,E="resize."+F;this.container.parents().each(function(){j(this).bind(C,function(){var G=j(D);if(G.length==0){j(this).unbind(C)}G.select2("close")})});j(window).bind(E,function(){var G=j(D);if(G.length==0){j(window).unbind(E)}G.select2("close")});this.clearDropdownAlignmentPreference();if(this.search.val()===" "){this.search.val("")}this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.updateResults(true);if(this.dropdown[0]!==this.body().children().last()[0]){this.dropdown.detach().appendTo(this.body())}this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");this.ensureHighlightVisible();this.focusSearch()},close:function(){if(!this.opened()){return}var C=this;this.container.parents().each(function(){j(this).unbind("scroll."+C.containerId)});j(window).unbind("resize."+this.containerId);this.clearDropdownAlignmentPreference();this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();this.clearSearch();this.opts.element.trigger(j.Event("close"))},clearSearch:function(){},ensureHighlightVisible:function(){var F=this.results,E,C,J,I,G,H,D;C=this.highlight();if(C<0){return}if(C==0){F.scrollTop(0);return}E=F.find(".select2-result-selectable");J=j(E[C]);I=J.offset().top+J.outerHeight();if(C===E.length-1){D=F.find("li.select2-more-results");if(D.length>0){I=D.offset().top+D.outerHeight()}}G=F.offset().top+F.outerHeight();if(I>G){F.scrollTop(F.scrollTop()+(I-G))}H=J.offset().top-F.offset().top;if(H<0){F.scrollTop(F.scrollTop()+H)}},moveHighlight:function(F){var E=this.results.find(".select2-result-selectable"),D=this.highlight();while(D>-1&&D<E.length){D+=F;var C=j(E[D]);if(C.hasClass("select2-result-selectable")&&!C.hasClass("select2-disabled")){this.highlight(D);break}}},highlight:function(C){var D=this.results.find(".select2-result-selectable").not(".select2-disabled");if(arguments.length===0){return b(D.filter(".select2-highlighted")[0],D.get())}if(C>=D.length){C=D.length-1}if(C<0){C=0}D.removeClass("select2-highlighted");j(D[C]).addClass("select2-highlighted");this.ensureHighlightVisible()},countSelectableResults:function(){return this.results.find(".select2-result-selectable").not(".select2-disabled").length},highlightUnderEvent:function(D){var C=j(D.target).closest(".select2-result-selectable");if(C.length>0&&!C.is(".select2-highlighted")){var E=this.results.find(".select2-result-selectable");this.highlight(E.index(C))}else{if(C.length==0){this.results.find(".select2-highlighted").removeClass("select2-highlighted")}}},loadMoreIfNeeded:function(){var G=this.results,F=G.find("li.select2-more-results"),J,I=-1,H=this.resultsPage+1,C=this,E=this.search.val(),D=this.context;if(F.length===0){return}J=F.offset().top-G.offset().top-G.height();if(J<=0){F.addClass("select2-active");this.opts.query({term:E,page:H,context:D,matcher:this.opts.matcher,callback:this.bind(function(K){if(!C.opened()){return}C.opts.populateResults.call(this,G,K.results,{term:E,page:H,context:D});if(K.more===true){F.detach().appendTo(G).text(C.opts.formatLoadMore(H+1));window.setTimeout(function(){C.loadMoreIfNeeded()},10)}else{F.remove()}C.positionDropdown();C.resultsPage=H})})}},tokenize:function(){},updateResults:function(H){var K=this.search,F=this.results,C=this.opts,E,J=this,I;
if(H!==true&&(this.showSearchInput===false||!this.opened())){return}K.addClass("select2-active");function G(){F.scrollTop(0);K.removeClass("select2-active");J.positionDropdown()}function D(L){F.html(J.opts.escapeMarkup(L));G()}if(C.maximumSelectionSize>=1){E=this.data();if(j.isArray(E)&&E.length>=C.maximumSelectionSize&&k(C.formatSelectionTooBig,"formatSelectionTooBig")){D("<li class='select2-selection-limit'>"+C.formatSelectionTooBig(C.maximumSelectionSize)+"</li>");return}}if(K.val().length<C.minimumInputLength&&k(C.formatInputTooShort,"formatInputTooShort")){D("<li class='select2-no-results'>"+C.formatInputTooShort(K.val(),C.minimumInputLength)+"</li>");return}else{D("<li class='select2-searching'>"+C.formatSearching()+"</li>")}I=this.tokenize();if(I!=l&&I!=null){K.val(I)}this.resultsPage=1;C.query({term:K.val(),page:this.resultsPage,context:null,matcher:C.matcher,callback:this.bind(function(M){var L;if(!this.opened()){return}this.context=(M.context===l)?null:M.context;if(this.opts.createSearchChoice&&K.val()!==""){L=this.opts.createSearchChoice.call(null,K.val(),M.results);if(L!==l&&L!==null&&J.id(L)!==l&&J.id(L)!==null){if(j(M.results).filter(function(){return q(J.id(this),J.id(L))}).length===0){M.results.unshift(L)}}}if(M.results.length===0&&k(C.formatNoMatches,"formatNoMatches")){D("<li class='select2-no-results'>"+C.formatNoMatches(K.val())+"</li>");return}F.empty();J.opts.populateResults.call(this,F,M.results,{term:K.val(),page:this.resultsPage,context:null});if(M.more===true&&k(C.formatLoadMore,"formatLoadMore")){F.append("<li class='select2-more-results'>"+J.opts.escapeMarkup(C.formatLoadMore(this.resultsPage))+"</li>");window.setTimeout(function(){J.loadMoreIfNeeded()},10)}this.postprocessResults(M,H);G()})})},cancel:function(){this.close()},blur:function(){this.close();this.container.removeClass("select2-container-active");this.dropdown.removeClass("select2-drop-active");if(this.search[0]===document.activeElement){this.search.blur()}this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){this.search.show();this.search.focus();window.setTimeout(this.bind(function(){this.search.show();this.search.focus();this.search.val(this.search.val())}),10)},selectHighlighted:function(){var C=this.highlight(),D=this.results.find(".select2-highlighted").not(".select2-disabled"),E=D.closest(".select2-result-selectable").data("select2-data");if(E){D.addClass("select2-disabled");this.highlight(C);this.onSelect(E)}},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function D(){var H,F,I,G,E;if(this.opts.width==="off"){return null}else{if(this.opts.width==="element"){return this.opts.element.outerWidth()===0?"auto":this.opts.element.outerWidth()+"px"}else{if(this.opts.width==="copy"||this.opts.width==="resolve"){H=this.opts.element.attr("style");if(H!==l){F=H.split(";");for(G=0,E=F.length;G<E;G=G+1){I=F[G].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/);if(I!==null&&I.length>=1){return I[1]}}}if(this.opts.width==="resolve"){H=this.opts.element.css("width");if(H.indexOf("%")>0){return H}return(this.opts.element.outerWidth()===0?"auto":this.opts.element.outerWidth()+"px")}return null}else{if(j.isFunction(this.opts.width)){return this.opts.width()}else{return this.opts.width}}}}}var C=D.call(this);if(C!==null){this.container.attr("style","width: "+C)}}});v=w(e,{createContainer:function(){var C=j("<div></div>",{"class":"select2-container"}).html(["    <a href='#' onclick='return false;' class='select2-choice'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","    <div class='select2-drop select2-offscreen'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));
return C},opening:function(){this.search.show();this.parent.opening.apply(this,arguments);this.dropdown.removeClass("select2-offscreen")},close:function(){if(!this.opened()){return}this.parent.close.apply(this,arguments);this.dropdown.removeAttr("style").addClass("select2-offscreen").insertAfter(this.selection).show()},focus:function(){this.close();this.selection.focus()},isFocused:function(){return this.selection[0]===document.activeElement},cancel:function(){this.parent.cancel.apply(this,arguments);this.selection.focus()},initContainer:function(){var E,D=this.container,F=this.dropdown,C=false;this.selection=E=D.find(".select2-choice");this.search.bind("keydown",this.bind(function(G){if(!this.enabled){return}if(G.which===c.PAGE_UP||G.which===c.PAGE_DOWN){d(G);return}if(this.opened()){switch(G.which){case c.UP:case c.DOWN:this.moveHighlight((G.which===c.UP)?-1:1);d(G);return;case c.TAB:case c.ENTER:this.selectHighlighted();d(G);return;case c.ESC:this.cancel(G);d(G);return}}else{if(G.which===c.TAB||c.isControl(G)||c.isFunctionKey(G)||G.which===c.ESC){return}if(this.opts.openOnEnter===false&&G.which===c.ENTER){return}this.open();if(G.which===c.ENTER){return}}}));this.search.bind("focus",this.bind(function(){this.selection.attr("tabIndex","-1")}));this.search.bind("blur",this.bind(function(){if(!this.opened()){this.container.removeClass("select2-container-active")}window.setTimeout(this.bind(function(){this.selection.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)}));E.bind("mousedown",this.bind(function(G){C=true;if(this.opened()){this.close();this.selection.focus()}else{if(this.enabled){this.open()}}C=false}));F.bind("mousedown",this.bind(function(){this.search.focus()}));E.bind("focus",this.bind(function(){this.container.addClass("select2-container-active");this.search.attr("tabIndex","-1")}));E.bind("blur",this.bind(function(){if(!this.opened()){this.container.removeClass("select2-container-active")}window.setTimeout(this.bind(function(){this.search.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)}));E.bind("keydown",this.bind(function(H){if(!this.enabled){return}if(H.which===c.PAGE_UP||H.which===c.PAGE_DOWN){d(H);return}if(H.which===c.TAB||c.isControl(H)||c.isFunctionKey(H)||H.which===c.ESC){return}if(this.opts.openOnEnter===false&&H.which===c.ENTER){return}if(H.which==c.DELETE){if(this.opts.allowClear){this.clear()}return}this.open();if(H.which===c.ENTER){d(H);return}if(H.which<48){d(H);return}var G=String.fromCharCode(H.which).toLowerCase();if(H.shiftKey){G=G.toUpperCase()}this.search.focus();this.search.val(G);d(H)}));E.delegate("abbr","mousedown",this.bind(function(G){if(!this.enabled){return}this.clear();d(G);this.close();this.triggerChange();this.selection.focus()}));this.setPlaceholder();this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")}))},clear:function(){this.opts.element.val("");this.selection.find("span").empty();this.selection.removeData("select2-data");this.setPlaceholder()},initSelection:function(){var D;if(this.opts.element.val()===""){this.close();this.setPlaceholder()}else{var C=this;this.opts.initSelection.call(null,this.opts.element,function(E){if(E!==l&&E!==null){C.updateSelection(E);C.close();C.setPlaceholder()}})}},prepareOpts:function(){var C=this.parent.prepareOpts.apply(this,arguments);if(C.element.get(0).tagName.toLowerCase()==="select"){C.initSelection=function(D,F){var E=D.find(":selected");if(j.isFunction(F)){F({id:E.attr("value"),text:E.text()})}}}return C},setPlaceholder:function(){var C=this.getPlaceholder();if(this.opts.element.val()===""&&C!==l){if(this.select&&this.select.find("option:first").text()!==""){return}this.selection.find("span").html(this.opts.escapeMarkup(C));this.selection.addClass("select2-default");this.selection.find("abbr").hide()}},postprocessResults:function(F,D){var E=0,C=this,G=true;this.results.find(".select2-result-selectable").each2(function(H,I){if(q(C.id(I.data("select2-data")),C.opts.element.val())){E=H;
return false}});this.highlight(E);if(D===true){G=this.showSearchInput=h(F.results)>=this.opts.minimumResultsForSearch;this.dropdown.find(".select2-search")[G?"removeClass":"addClass"]("select2-search-hidden");j(this.dropdown,this.container)[G?"addClass":"removeClass"]("select2-with-searchbox")}},onSelect:function(D){var C=this.opts.element.val();this.opts.element.val(this.id(D));this.updateSelection(D);this.close();this.selection.focus();if(!q(C,this.id(D))){this.triggerChange()}},updateSelection:function(E){var C=this.selection.find("span"),D;this.selection.data("select2-data",E);C.empty();D=this.opts.formatSelection(E,C);if(D!==l){C.append(this.opts.escapeMarkup(D))}this.selection.removeClass("select2-default");if(this.opts.allowClear&&this.getPlaceholder()!==l){this.selection.find("abbr").show()}},val:function(){var E,D=null,C=this;if(arguments.length===0){return this.opts.element.val()}E=arguments[0];if(this.select){this.select.val(E).find(":selected").each2(function(F,G){D={id:G.attr("value"),text:G.text()};return false});this.updateSelection(D);this.setPlaceholder()}else{if(this.opts.initSelection===l){throw new Error("cannot call val() if initSelection() is not defined")}if(!E){this.clear();return}this.opts.element.val(E);this.opts.initSelection(this.opts.element,function(F){C.opts.element.val(!F?"":C.id(F));C.updateSelection(F);C.setPlaceholder()})}},clearSearch:function(){this.search.val("")},data:function(D){var C;if(arguments.length===0){C=this.selection.data("select2-data");if(C==l){C=null}return C}else{if(!D||D===""){this.clear()}else{this.opts.element.val(!D?"":this.id(D));this.updateSelection(D)}}}});B=w(e,{createContainer:function(){var C=j("<div></div>",{"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return C},prepareOpts:function(){var C=this.parent.prepareOpts.apply(this,arguments);if(C.element.get(0).tagName.toLowerCase()==="select"){C.initSelection=function(D,F){var E=[];D.find(":selected").each2(function(G,H){E.push({id:H.attr("value"),text:H.text()})});if(j.isFunction(F)){F(E)}}}return C},initContainer:function(){var C=".select2-choices",D;this.searchContainer=this.container.find(".select2-search-field");this.selection=D=this.container.find(C);this.search.bind("keydown",this.bind(function(F){if(!this.enabled){return}if(F.which===c.BACKSPACE&&this.search.val()===""){this.close();var G,E=D.find(".select2-search-choice-focus");if(E.length>0){this.unselect(E.first());this.search.width(10);d(F);return}G=D.find(".select2-search-choice");if(G.length>0){G.last().addClass("select2-search-choice-focus")}}else{D.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")}if(this.opened()){switch(F.which){case c.UP:case c.DOWN:this.moveHighlight((F.which===c.UP)?-1:1);d(F);return;case c.ENTER:case c.TAB:this.selectHighlighted();d(F);return;case c.ESC:this.cancel(F);d(F);return}}if(F.which===c.TAB||c.isControl(F)||c.isFunctionKey(F)||F.which===c.BACKSPACE||F.which===c.ESC){return}if(this.opts.openOnEnter===false&&F.which===c.ENTER){return}this.open();if(F.which===c.PAGE_UP||F.which===c.PAGE_DOWN){d(F)}}));this.search.bind("keyup",this.bind(this.resizeSearch));this.search.bind("blur",this.bind(function(E){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.clearSearch();E.stopImmediatePropagation()}));this.container.delegate(C,"mousedown",this.bind(function(E){if(!this.enabled){return}if(j(E.target).closest(".select2-search-choice").length>0){return}this.clearPlaceholder();this.open();this.focusSearch();E.preventDefault()}));this.container.delegate(C,"focus",this.bind(function(){if(!this.enabled){return}this.container.addClass("select2-container-active");
this.dropdown.addClass("select2-drop-active");this.clearPlaceholder()}));this.clearSearch()},enable:function(){if(this.enabled){return}this.parent.enable.apply(this,arguments);this.search.removeAttr("disabled")},disable:function(){if(!this.enabled){return}this.parent.disable.apply(this,arguments);this.search.attr("disabled",true)},initSelection:function(){var D;if(this.opts.element.val()===""){this.updateSelection([]);this.close();this.clearSearch()}if(this.select||this.opts.element.val()!==""){var C=this;this.opts.initSelection.call(null,this.opts.element,function(E){if(E!==l&&E!==null){C.updateSelection(E);C.close();C.clearSearch()}})}},clearSearch:function(){var C=this.getPlaceholder();if(C!==l&&this.getVal().length===0&&this.search.hasClass("select2-focused")===false){this.search.val(C).addClass("select2-default");this.resizeSearch()}else{this.search.val(" ").width(10)}},clearPlaceholder:function(){if(this.search.hasClass("select2-default")){this.search.val("").removeClass("select2-default")}else{if(this.search.val()===" "){this.search.val("")}}},opening:function(){this.parent.opening.apply(this,arguments);this.clearPlaceholder();this.resizeSearch();this.focusSearch()},close:function(){if(!this.opened()){return}this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(F){var E=[],D=[],C=this;j(F).each(function(){if(b(C.id(this),E)<0){E.push(C.id(this));D.push(this)}});F=D;this.selection.find(".select2-search-choice").remove();j(F).each(function(){C.addSelectedChoice(this)});C.postprocessResults()},tokenize:function(){var C=this.search.val();C=this.opts.tokenizer(C,this.data(),this.bind(this.onSelect),this.opts);if(C!=null&&C!=l){this.search.val(C);if(C.length>0){this.open()}}},onSelect:function(C){this.addSelectedChoice(C);if(this.select){this.postprocessResults()}if(this.opts.closeOnSelect){this.close();this.search.width(10)}else{if(this.countSelectableResults()>0){this.search.width(10);this.resizeSearch();this.positionDropdown()}else{this.close()}}this.triggerChange({added:C});this.focusSearch()},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(E){var C=j("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),G=this.id(E),F=this.getVal(),D;D=this.opts.formatSelection(E,C);C.find("div").replaceWith("<div>"+this.opts.escapeMarkup(D)+"</div>");C.find(".select2-search-choice-close").bind("mousedown",d).bind("click dblclick",this.bind(function(H){if(!this.enabled){return}j(H.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(j(H.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.close();this.focusSearch()})).dequeue();d(H)})).bind("focus",this.bind(function(){if(!this.enabled){return}this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active")}));C.data("select2-data",E);C.insertBefore(this.searchContainer);F.push(G);this.setVal(F)},unselect:function(D){var F=this.getVal(),E,C;D=D.closest(".select2-search-choice");if(D.length===0){throw"Invalid argument: "+D+". Must be .select2-search-choice"}E=D.data("select2-data");C=b(this.id(E),F);if(C>=0){F.splice(C,1);this.setVal(F);if(this.select){this.postprocessResults()}}D.remove();this.triggerChange({removed:E})},postprocessResults:function(){var E=this.getVal(),F=this.results.find(".select2-result-selectable"),D=this.results.find(".select2-result-with-children"),C=this;F.each2(function(H,G){var I=C.id(G.data("select2-data"));if(b(I,E)>=0){G.addClass("select2-disabled").removeClass("select2-result-selectable")}else{G.removeClass("select2-disabled").addClass("select2-result-selectable")}});D.each2(function(G,H){if(H.find(".select2-result-selectable").length==0){H.addClass("select2-disabled")}else{H.removeClass("select2-disabled")
}});F.each2(function(H,G){if(!G.hasClass("select2-disabled")&&G.hasClass("select2-result-selectable")){C.highlight(0);return false}})},resizeSearch:function(){var H,F,E,C,D,G=n(this.search);H=x(this.search)+10;F=this.search.offset().left;E=this.selection.width();C=this.selection.offset().left;D=E-(F-C)-G;if(D<H){D=E-G}if(D<40){D=E-G}this.search.width(D)},getVal:function(){var C;if(this.select){C=this.select.val();return C===null?[]:C}else{C=this.opts.element.val();return m(C,this.opts.separator)}},setVal:function(D){var C;if(this.select){this.select.val(D)}else{C=[];j(D).each(function(){if(b(this,C)<0){C.push(this)}});this.opts.element.val(C.length===0?"":C.join(this.opts.separator))}},val:function(){var E,D=[],C=this;if(arguments.length===0){return this.getVal()}E=arguments[0];if(!E){this.opts.element.val("");this.updateSelection([]);this.clearSearch();return}this.setVal(E);if(this.select){this.select.find(":selected").each(function(){D.push({id:j(this).attr("value"),text:j(this).text()})});this.updateSelection(D)}else{if(this.opts.initSelection===l){throw new Error("val() cannot be called if initSelection() is not defined")}this.opts.initSelection(this.opts.element,function(G){var F=j(G).map(C.id);C.setVal(F);C.updateSelection(G);C.clearSearch()})}this.clearSearch()},onSortStart:function(){if(this.select){throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.")}this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var D=[],C=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){D.push(C.opts.id(j(this).data("select2-data")))});this.setVal(D);this.triggerChange()},data:function(D){var C=this,E;if(arguments.length===0){return this.selection.find(".select2-search-choice").map(function(){return j(this).data("select2-data")}).get()}else{if(!D){D=[]}E=j.map(D,function(F){return C.opts.id(F)});this.setVal(E);this.updateSelection(D);this.clearSearch()}}});j.fn.select2=function(){var F=Array.prototype.slice.call(arguments,0),G,E,H,D,C=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable","positionDropdown","data"];this.each(function(){if(F.length===0||typeof(F[0])==="object"){G=F.length===0?{}:j.extend({},F[0]);G.element=j(this);if(G.element.get(0).tagName.toLowerCase()==="select"){D=G.element.attr("multiple")}else{D=G.multiple||false;if("tags" in G){G.multiple=D=true}}E=D?new B():new v();E.init(G)}else{if(typeof(F[0])==="string"){if(b(F[0],C)<0){throw"Unknown method: "+F[0]}H=l;E=j(this).data("select2");if(E===l){return}if(F[0]==="container"){H=E.container}else{H=E[F[0]].apply(E,F.slice(1))}if(H!==l){return false}}else{throw"Invalid arguments to select2 plugin: "+F}}});return(H===l)?this:H};j.fn.select2.defaults={width:"copy",closeOnSelect:true,openOnEnter:true,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(C,D,F){var E=[];i(C.text,F.term,E);return E.join("")},formatSelection:function(D,C){return D?D.text:l},formatResultCssClass:function(C){return l},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(C,D){return"Please enter "+(D-C.length)+" more characters"},formatSelectionTooBig:function(C){return"You can only select "+C+" item"+(C==1?"":"s")},formatLoadMore:function(C){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumSelectionSize:0,id:function(C){return C.id},matcher:function(C,D){return D.toUpperCase().indexOf(C.toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:y,escapeMarkup:function(C){if(C&&typeof(C)==="string"){return C.replace(/&/g,"&amp;")}return C},blurOnChange:false};window.Select2={query:{ajax:p,local:r,tags:o},util:{debounce:f,markMatch:i},"class":{"abstract":e,single:v,multi:B}}
}(jQuery));(function(d,g){var f=d.jQuery||d.Cowboy||(d.Cowboy={}),e;f.throttle=e=function(m,l,a,b){var c,n=0;if(typeof l!=="boolean"){b=a;a=l;l=g}function k(){var p=this,h=+new Date()-n,q=arguments;function i(){n=+new Date();a.apply(p,q)}function j(){c=g}if(b&&!c){i()}c&&clearTimeout(c);if(b===g&&h>m){i()}else{if(l!==true){c=setTimeout(b?j:i,b===g?m-h:m)}}}if(f.guid){k.guid=a.guid=a.guid||f.guid++}return k};f.debounce=function(c,b,a){return a===g?e(c,b,false):e(c,a,b!==false)}})(this);/*!
 * jQuery UI 1.8.9
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(d,b){function a(c){return !d(c).parents().andSelf().filter(function(){return d.curCSS(this,"visibility")==="hidden"||d.expr.filters.hidden(this)}).length}d.ui=d.ui||{};if(!d.ui.version){d.extend(d.ui,{version:"1.8.9",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});d.fn.extend({_focus:d.fn.focus,focus:function(e,c){return typeof e==="number"?this.each(function(){var f=this;setTimeout(function(){d(f).focus();c&&c.call(f)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var c;c=d.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(d.curCSS(this,"position",1))&&/(auto|scroll)/.test(d.curCSS(this,"overflow",1)+d.curCSS(this,"overflow-y",1)+d.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(d.curCSS(this,"overflow",1)+d.curCSS(this,"overflow-y",1)+d.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!c.length?d(document):c},zIndex:function(e){if(e!==b){return this.css("zIndex",e)}if(this.length){e=d(this[0]);for(var c;e.length&&e[0]!==document;){c=e.css("position");if(c==="absolute"||c==="relative"||c==="fixed"){c=parseInt(e.css("zIndex"),10);if(!isNaN(c)&&c!==0){return c}}e=e.parent()}}return 0},disableSelection:function(){return this.bind((d.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(c){c.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});d.each(["Width","Height"],function(f,c){function l(n,i,h,e){d.each(k,function(){i-=parseFloat(d.curCSS(n,"padding"+this,true))||0;if(h){i-=parseFloat(d.curCSS(n,"border"+this+"Width",true))||0}if(e){i-=parseFloat(d.curCSS(n,"margin"+this,true))||0}});return i}var k=c==="Width"?["Left","Right"]:["Top","Bottom"],j=c.toLowerCase(),g={innerWidth:d.fn.innerWidth,innerHeight:d.fn.innerHeight,outerWidth:d.fn.outerWidth,outerHeight:d.fn.outerHeight};d.fn["inner"+c]=function(e){if(e===b){return g["inner"+c].call(this)}return this.each(function(){d(this).css(j,l(this,e)+"px")})};d.fn["outer"+c]=function(h,e){if(typeof h!=="number"){return g["outer"+c].call(this,h)}return this.each(function(){d(this).css(j,l(this,h,true,e)+"px")})}});d.extend(d.expr[":"],{data:function(e,c,f){return !!d.data(e,f[3])},focusable:function(e){var c=e.nodeName.toLowerCase(),f=d.attr(e,"tabindex");if("area"===c){c=e.parentNode;f=c.name;if(!e.href||!f||c.nodeName.toLowerCase()!=="map"){return false}e=d("img[usemap=#"+f+"]")[0];return !!e&&a(e)}return(/input|select|textarea|button|object/.test(c)?!e.disabled:"a"==c?e.href||!isNaN(f):!isNaN(f))&&a(e)},tabbable:function(e){var c=d.attr(e,"tabindex");return(isNaN(c)||c>=0)&&d(e).is(":focusable")}});d(function(){var e=document.body,c=e.appendChild(c=document.createElement("div"));d.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});d.support.minHeight=c.offsetHeight===100;d.support.selectstart="onselectstart" in c;e.removeChild(c).style.display="none"});d.extend(d.ui,{plugin:{add:function(f,c,h){f=d.ui[f].prototype;for(var g in h){f.plugins[g]=f.plugins[g]||[];f.plugins[g].push([c,h[g]])}},call:function(f,c,h){if((c=f.plugins[c])&&f.element[0].parentNode){for(var g=0;g<c.length;g++){f.options[c[g][0]]&&c[g][1].apply(f.element,h)}}}},contains:function(e,c){return document.compareDocumentPosition?e.compareDocumentPosition(c)&16:e!==c&&e.contains(c)
},hasScroll:function(e,c){if(d(e).css("overflow")==="hidden"){return false}c=c&&c==="left"?"scrollLeft":"scrollTop";var f=false;if(e[c]>0){return true}e[c]=1;f=e[c]>0;e[c]=0;return f},isOverAxis:function(e,c,f){return e>c&&e<c+f},isOver:function(f,c,l,k,j,g){return d.ui.isOverAxis(f,l,j)&&d.ui.isOverAxis(c,k,g)}})}})(jQuery);
/*!
 * jQuery UI Widget 1.8.9
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(a,e){if(a.cleanData){var d=a.cleanData;a.cleanData=function(b){for(var g=0,f;(f=b[g])!=null;g++){a(f).triggerHandler("remove")}d(b)}}else{var c=a.fn.remove;a.fn.remove=function(b,f){return this.each(function(){if(!f){if(!b||a.filter(b,[this]).length){a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")})}}return c.call(a(this),b,f)})}}a.widget=function(b,j,i){var h=b.split(".")[0],g;b=b.split(".")[1];g=h+"-"+b;if(!i){i=j;j=a.Widget}a.expr[":"][g]=function(f){return !!a.data(f,b)};a[h]=a[h]||{};a[h][b]=function(f,k){arguments.length&&this._createWidget(f,k)};j=new j;j.options=a.extend(true,{},j.options);a[h][b].prototype=a.extend(true,j,{namespace:h,widgetName:b,widgetEventPrefix:a[h][b].prototype.widgetEventPrefix||b,widgetBaseClass:g},i);a.widget.bridge(b,a[h][b])};a.widget.bridge=function(b,f){a.fn[b]=function(k){var j=typeof k==="string",i=Array.prototype.slice.call(arguments,1),g=this;k=!j&&i.length?a.extend.apply(null,[true,k].concat(i)):k;if(j&&k.charAt(0)==="_"){return g}j?this.each(function(){var l=a.data(this,b),h=l&&a.isFunction(l[k])?l[k].apply(l,i):l;if(h!==l&&h!==e){g=h;return false}}):this.each(function(){var h=a.data(this,b);h?h.option(k||{})._init():a.data(this,b,new f(k,this))});return g}};a.Widget=function(b,f){arguments.length&&this._createWidget(b,f)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(b,g){a.data(g,this.widgetName,this);this.element=a(g);this.options=a.extend(true,{},this.options,this._getCreateOptions(),b);var f=this;this.element.bind("remove."+this.widgetName,function(){f.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(b,g){var f=b;if(arguments.length===0){return a.extend({},this.options)}if(typeof b==="string"){if(g===e){return this.options[b]}f={};f[b]=g}this._setOptions(f);return this},_setOptions:function(b){var f=this;a.each(b,function(h,g){f._setOption(h,g)});return this},_setOption:function(b,f){this.options[b]=f;if(b==="disabled"){this.widget()[f?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",f)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(b,j,i){var h=this.options[b];j=a.Event(j);j.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();i=i||{};if(j.originalEvent){b=a.event.props.length;for(var g;b;){g=a.event.props[--b];j[g]=j.originalEvent[g]}}this.element.trigger(j,i);return !(a.isFunction(h)&&h.call(this.element[0],j,i)===false||j.isDefaultPrevented())}}})(jQuery);
/*!
 * jQuery UI Mouse 1.8.9
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(a){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(c){return b._mouseDown(c)
}).bind("click."+this.widgetName,function(c){if(true===a.data(c.target,b.widgetName+".preventClickEvent")){a.removeData(c.target,b.widgetName+".preventClickEvent");c.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(d){d.originalEvent=d.originalEvent||{};if(!d.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(d);this._mouseDownEvent=d;var c=this,h=d.which==1,g=typeof this.options.cancel=="string"?a(d.target).parents().add(d.target).filter(this.options.cancel).length:false;if(!h||g||!this._mouseCapture(d)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)){this._mouseStarted=this._mouseStart(d)!==false;if(!this._mouseStarted){d.preventDefault();return true}}this._mouseMoveDelegate=function(b){return c._mouseMove(b)};this._mouseUpDelegate=function(b){return c._mouseUp(b)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);d.preventDefault();return d.originalEvent.mouseHandled=true}},_mouseMove:function(b){if(a.browser.msie&&!(document.documentMode>=9)&&!b.button){return this._mouseUp(b)}if(this._mouseStarted){this._mouseDrag(b);return b.preventDefault()}if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==false)?this._mouseDrag(b):this._mouseUp(b)}return !this._mouseStarted},_mouseUp:function(b){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",true);this._mouseStop(b)}return false},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);(function(f){f.ui=f.ui||{};var e=/left|center|right/,d=/top|center|bottom/,b=f.fn.position,a=f.fn.offset;f.fn.position=function(c){if(!c||!c.of){return b.apply(this,arguments)}c=f.extend({},c);var i=f(c.of),q=i[0],o=(c.collision||"flip").split(" "),p=c.offset?c.offset.split(" "):[0,0],n,l,m;if(q.nodeType===9){n=i.width();l=i.height();m={top:0,left:0}}else{if(q.setTimeout){n=i.width();l=i.height();m={top:i.scrollTop(),left:i.scrollLeft()}}else{if(q.preventDefault){c.at="left top";n=l=0;m={top:c.of.pageY,left:c.of.pageX}}else{n=i.outerWidth();l=i.outerHeight();m=i.offset()}}}f.each(["my","at"],function(){var g=(c[this]||"").split(" ");if(g.length===1){g=e.test(g[0])?g.concat(["center"]):d.test(g[0])?["center"].concat(g):["center","center"]}g[0]=e.test(g[0])?g[0]:"center";g[1]=d.test(g[1])?g[1]:"center";c[this]=g});if(o.length===1){o[1]=o[0]}p[0]=parseInt(p[0],10)||0;if(p.length===1){p[1]=p[0]}p[1]=parseInt(p[1],10)||0;if(c.at[0]==="right"){m.left+=n}else{if(c.at[0]==="center"){m.left+=n/2}}if(c.at[1]==="bottom"){m.top+=l}else{if(c.at[1]==="center"){m.top+=l/2}}m.left+=p[0];m.top+=p[1];return this.each(function(){var u=f(this),s=u.outerWidth(),k=u.outerHeight(),j=parseInt(f.curCSS(this,"marginLeft",true))||0,h=parseInt(f.curCSS(this,"marginTop",true))||0,y=s+j+(parseInt(f.curCSS(this,"marginRight",true))||0),x=k+h+(parseInt(f.curCSS(this,"marginBottom",true))||0),t=f.extend({},m),g;if(c.my[0]==="right"){t.left-=s}else{if(c.my[0]==="center"){t.left-=s/2}}if(c.my[1]==="bottom"){t.top-=k}else{if(c.my[1]==="center"){t.top-=k/2}}t.left=Math.round(t.left);t.top=Math.round(t.top);g={left:t.left-j,top:t.top-h};f.each(["left","top"],function(v,r){f.ui.position[o[v]]&&f.ui.position[o[v]][r](t,{targetWidth:n,targetHeight:l,elemWidth:s,elemHeight:k,collisionPosition:g,collisionWidth:y,collisionHeight:x,offset:p,my:c.my,at:c.at})
});f.fn.bgiframe&&u.bgiframe();u.offset(f.extend(t,{using:c.using}))})};f.ui.position={fit:{left:function(c,g){var h=f(window);h=g.collisionPosition.left+g.collisionWidth-h.width()-h.scrollLeft();c.left=h>0?c.left-h:Math.max(c.left-g.collisionPosition.left,c.left)},top:function(c,g){var h=f(window);h=g.collisionPosition.top+g.collisionHeight-h.height()-h.scrollTop();c.top=h>0?c.top-h:Math.max(c.top-g.collisionPosition.top,c.top)}},flip:{left:function(c,i){if(i.at[0]!=="center"){var m=f(window);m=i.collisionPosition.left+i.collisionWidth-m.width()-m.scrollLeft();var k=i.my[0]==="left"?-i.elemWidth:i.my[0]==="right"?i.elemWidth:0,l=i.at[0]==="left"?i.targetWidth:-i.targetWidth,j=-2*i.offset[0];c.left+=i.collisionPosition.left<0?k+l+j:m>0?k+l+j:0}},top:function(c,i){if(i.at[1]!=="center"){var m=f(window);m=i.collisionPosition.top+i.collisionHeight-m.height()-m.scrollTop();var k=i.my[1]==="top"?-i.elemHeight:i.my[1]==="bottom"?i.elemHeight:0,l=i.at[1]==="top"?i.targetHeight:-i.targetHeight,j=-2*i.offset[1];c.top+=i.collisionPosition.top<0?k+l+j:m>0?k+l+j:0}}}};if(!f.offset.setOffset){f.offset.setOffset=function(c,i){if(/static/.test(f.curCSS(c,"position"))){c.style.position="relative"}var m=f(c),k=m.offset(),l=parseInt(f.curCSS(c,"top",true),10)||0,j=parseInt(f.curCSS(c,"left",true),10)||0;k={top:i.top-k.top+l,left:i.left-k.left+j};"using" in i?i.using.call(c,k):m.css(k)};f.fn.offset=function(c){var g=this[0];if(!g||!g.ownerDocument){return null}if(c){return this.each(function(){f.offset.setOffset(this,c)})}return a.call(this)}}})(jQuery);(function(a){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?/left|right/.test(this.items[0].item.css("float")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var b=this.items.length-1;b>=0;b--){this.items[b].item.removeData("sortable-item")}return this},_setOption:function(d,c){if(d==="disabled"){this.options[d]=c;this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")}else{a.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(g,d){if(this.reverting){return false}if(this.options.disabled||this.options.type=="static"){return false}this._refreshItems(g);var j=null,i=this;a(g.target).parents().each(function(){if(a.data(this,"sortable-item")==i){j=a(this);return false}});if(a.data(g.target,"sortable-item")==i){j=a(g.target)}if(!j){return false}if(this.options.handle&&!d){var h=false;a(this.options.handle,j).find("*").andSelf().each(function(){if(this==g.target){h=true}});if(!h){return false}}this.currentItem=j;this._removeCurrentsFromItems();return true},_mouseStart:function(f,d,h){d=this.options;var g=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(f);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");a.extend(this.offset,{click:{left:f.pageX-this.offset.left,top:f.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(f);this.originalPageX=f.pageX;this.originalPageY=f.pageY;d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};
this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();d.containment&&this._setContainment();if(d.cursor){if(a("body").css("cursor")){this._storedCursor=a("body").css("cursor")}a("body").css("cursor",d.cursor)}if(d.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",d.opacity)}if(d.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",d.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",f,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!h){for(h=this.containers.length-1;h>=0;h--){this.containers[h]._trigger("activate",f,g._uiHash(this))}}if(a.ui.ddmanager){a.ui.ddmanager.current=this}a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,f);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(f);return true},_mouseDrag:function(g){this.position=this._generatePosition(g);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){var d=this.options,j=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-g.pageY<d.scrollSensitivity){this.scrollParent[0].scrollTop=j=this.scrollParent[0].scrollTop+d.scrollSpeed}else{if(g.pageY-this.overflowOffset.top<d.scrollSensitivity){this.scrollParent[0].scrollTop=j=this.scrollParent[0].scrollTop-d.scrollSpeed}}if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-g.pageX<d.scrollSensitivity){this.scrollParent[0].scrollLeft=j=this.scrollParent[0].scrollLeft+d.scrollSpeed}else{if(g.pageX-this.overflowOffset.left<d.scrollSensitivity){this.scrollParent[0].scrollLeft=j=this.scrollParent[0].scrollLeft-d.scrollSpeed}}}else{if(g.pageY-a(document).scrollTop()<d.scrollSensitivity){j=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed)}else{if(a(window).height()-(g.pageY-a(document).scrollTop())<d.scrollSensitivity){j=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed)}}if(g.pageX-a(document).scrollLeft()<d.scrollSensitivity){j=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed)}else{if(a(window).width()-(g.pageX-a(document).scrollLeft())<d.scrollSensitivity){j=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)}}}j!==false&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,g)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}for(d=this.items.length-1;d>=0;d--){j=this.items[d];var i=j.item[0],h=this._intersectsWithPointer(j);if(h){if(i!=this.currentItem[0]&&this.placeholder[h==1?"next":"prev"]()[0]!=i&&!a.ui.contains(this.placeholder[0],i)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],i):true)){this.direction=h==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(j)){this._rearrange(g,j)}else{break}this._trigger("change",g,this._uiHash());break}}}this._contactContainers(g);a.ui.ddmanager&&a.ui.ddmanager.drag(this,g);this._trigger("sort",g,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(e,d){if(e){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,e);if(this.options.revert){var f=this;d=f.placeholder.offset();f.reverting=true;a(this.helper).animate({left:d.left-this.offset.parent.left-f.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:d.top-this.offset.parent.top-f.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){f._clear(e)})}else{this._clear(e,d)
}return false}},cancel:function(){var d=this;if(this.dragging){this._mouseUp({target:null});this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--){this.containers[c]._trigger("deactivate",null,d._uiHash(this));if(this.containers[c].containerCache.over){this.containers[c]._trigger("out",null,d._uiHash(this));this.containers[c].containerCache.over=0}}}if(this.placeholder){this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();a.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)}return this},serialize:function(e){var d=this._getItemsAsjQuery(e&&e.connected),f=[];e=e||{};a(d).each(function(){var b=(a(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[-=_](.+)/);if(b){f.push((e.key||b[1]+"[]")+"="+(e.key&&e.expression?b[1]:b[2]))}});!f.length&&e.key&&f.push(e.key+"=");return f.join("&")},toArray:function(e){var d=this._getItemsAsjQuery(e&&e.connected),f=[];e=e||{};d.each(function(){f.push(a(e.item||this).attr(e.attribute||"id")||"")});return f},_intersectsWith:function(v){var u=this.positionAbs.left,t=u+this.helperProportions.width,s=this.positionAbs.top,r=s+this.helperProportions.height,q=v.left,p=q+v.width,o=v.top,m=o+v.height,n=this.offset.click.top,d=this.offset.click.left;n=s+n>o&&s+n<m&&u+d>q&&u+d<p;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>v[this.floating?"width":"height"]?n:q<u+this.helperProportions.width/2&&t-this.helperProportions.width/2<p&&o<s+this.helperProportions.height/2&&r-this.helperProportions.height/2<m},_intersectsWithPointer:function(e){var d=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height);e=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);d=d&&e;e=this._getDragVerticalDirection();var f=this._getDragHorizontalDirection();if(!d){return false}return this.floating?f&&f=="right"||e=="down"?2:1:e&&(e=="down"?2:1)},_intersectsWithSides:function(f){var d=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,f.top+f.height/2,f.height);f=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,f.left+f.width/2,f.width);var h=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return this.floating&&g?g=="right"&&f||g=="left"&&!f:h&&(h=="down"&&d||h=="up"&&!d)},_getDragVerticalDirection:function(){var b=this.positionAbs.top-this.lastPositionAbs.top;return b!=0&&(b>0?"down":"up")},_getDragHorizontalDirection:function(){var b=this.positionAbs.left-this.lastPositionAbs.left;return b!=0&&(b>0?"right":"left")},refresh:function(b){this._refreshItems(b);this.refreshPositions();return this},_connectWith:function(){var b=this.options;return b.connectWith.constructor==String?[b.connectWith]:b.connectWith},_getItemsAsjQuery:function(i){var d=[],n=[],m=this._connectWith();if(m&&i){for(i=m.length-1;i>=0;i--){for(var l=a(m[i]),k=l.length-1;k>=0;k--){var j=a.data(l[k],"sortable");if(j&&j!=this&&!j.options.disabled){n.push([a.isFunction(j.options.items)?j.options.items.call(j.element):a(j.options.items,j.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),j])}}}}n.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(i=n.length-1;i>=0;i--){n[i][0].each(function(){d.push(this)})}return a(d)},_removeCurrentsFromItems:function(){for(var e=this.currentItem.find(":data(sortable-item)"),d=0;d<this.items.length;d++){for(var f=0;f<e.length;
f++){e[f]==this.items[d].item[0]&&this.items.splice(d,1)}}},_refreshItems:function(j){this.items=[];this.containers=[this];var d=this.items,p=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],j,{item:this.currentItem}):a(this.options.items,this.element),this]],o=this._connectWith();if(o){for(var n=o.length-1;n>=0;n--){for(var m=a(o[n]),l=m.length-1;l>=0;l--){var k=a.data(m[l],"sortable");if(k&&k!=this&&!k.options.disabled){p.push([a.isFunction(k.options.items)?k.options.items.call(k.element[0],j,{item:this.currentItem}):a(k.options.items,k.element),k]);this.containers.push(k)}}}}for(n=p.length-1;n>=0;n--){j=p[n][1];o=p[n][0];l=0;for(m=o.length;l<m;l++){k=a(o[l]);k.data("sortable-item",j);d.push({item:k,instance:j,width:0,height:0,left:0,top:0})}}},refreshPositions:function(f){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}for(var d=this.items.length-1;d>=0;d--){var h=this.items[d],g=this.options.toleranceElement?a(this.options.toleranceElement,h.item):h.item;if(!f){h.width=g.outerWidth();h.height=g.outerHeight()}g=g.offset();h.left=g.left;h.top=g.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(d=this.containers.length-1;d>=0;d--){g=this.containers[d].element.offset();this.containers[d].containerCache.left=g.left;this.containers[d].containerCache.top=g.top;this.containers[d].containerCache.width=this.containers[d].element.outerWidth();this.containers[d].containerCache.height=this.containers[d].element.outerHeight()}}return this},_createPlaceholder:function(f){var d=f||this,h=d.options;if(!h.placeholder||h.placeholder.constructor==String){var g=h.placeholder;h.placeholder={element:function(){var b=a(document.createElement(d.currentItem[0].nodeName)).addClass(g||d.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!g){b.style.visibility="hidden"}return b},update:function(c,b){if(!(g&&!h.forcePlaceholderSize)){b.height()||b.height(d.currentItem.innerHeight()-parseInt(d.currentItem.css("paddingTop")||0,10)-parseInt(d.currentItem.css("paddingBottom")||0,10));b.width()||b.width(d.currentItem.innerWidth()-parseInt(d.currentItem.css("paddingLeft")||0,10)-parseInt(d.currentItem.css("paddingRight")||0,10))}}}}d.placeholder=a(h.placeholder.element.call(d.element,d.currentItem));d.currentItem.after(d.placeholder);h.placeholder.update(d,d.placeholder)},_contactContainers:function(i){for(var d=null,n=null,m=this.containers.length-1;m>=0;m--){if(!a.ui.contains(this.currentItem[0],this.containers[m].element[0])){if(this._intersectsWith(this.containers[m].containerCache)){if(!(d&&a.ui.contains(this.containers[m].element[0],d.element[0]))){d=this.containers[m];n=m}}else{if(this.containers[m].containerCache.over){this.containers[m]._trigger("out",i,this._uiHash(this));this.containers[m].containerCache.over=0}}}}if(d){if(this.containers.length===1){this.containers[n]._trigger("over",i,this._uiHash(this));this.containers[n].containerCache.over=1}else{if(this.currentContainer!=this.containers[n]){d=10000;m=null;for(var l=this.positionAbs[this.containers[n].floating?"left":"top"],k=this.items.length-1;k>=0;k--){if(a.ui.contains(this.containers[n].element[0],this.items[k].item[0])){var j=this.items[k][this.containers[n].floating?"left":"top"];if(Math.abs(j-l)<d){d=Math.abs(j-l);m=this.items[k]}}}if(m||this.options.dropOnEmpty){this.currentContainer=this.containers[n];m?this._rearrange(i,m,null,true):this._rearrange(i,null,this.containers[n].element,true);this._trigger("change",i,this._uiHash());this.containers[n]._trigger("change",i,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[n]._trigger("over",i,this._uiHash(this));this.containers[n].containerCache.over=1}}}}},_createHelper:function(d){var c=this.options;d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[d,this.currentItem])):c.helper=="clone"?this.currentItem.clone():this.currentItem;
d.parents("body").length||a(c.appendTo!="parent"?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]);if(d[0]==this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(d[0].style.width==""||c.forceHelperSize){d.width(this.currentItem.width())}if(d[0].style.height==""||c.forceHelperSize){d.height(this.currentItem.height())}return d},_adjustOffsetFromHelper:function(b){if(typeof b=="string"){b=b.split(" ")}if(a.isArray(b)){b={left:+b[0],top:+b[1]||0}}if("left" in b){this.offset.click.left=b.left+this.margins.left}if("right" in b){this.offset.click.left=this.helperProportions.width-b.right+this.margins.left}if("top" in b){this.offset.click.top=b.top+this.margins.top}if("bottom" in b){this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie){b={top:0,left:0}}return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.currentItem.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if(e.containment=="parent"){e.containment=this.helper[0].parentNode}if(e.containment=="document"||e.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(e.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(e.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(e.containment)){var d=a(e.containment)[0];e=a(e.containment).offset();var f=a(d).css("overflow")!="hidden";this.containment=[e.left+(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0)-this.margins.top,e.left+(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(f,d){if(!d){d=this.position}f=f=="absolute"?1:-1;var h=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(h[0].tagName);return{top:d.top+this.offset.relative.top*f+this.offset.parent.top*f-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:h.scrollTop())*f),left:d.left+this.offset.relative.left*f+this.offset.parent.left*f-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:h.scrollLeft())*f)}
},_generatePosition:function(h){var d=this.options,l=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,k=/(html|body)/i.test(l[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}var j=h.pageX,i=h.pageY;if(this.originalPosition){if(this.containment){if(h.pageX-this.offset.click.left<this.containment[0]){j=this.containment[0]+this.offset.click.left}if(h.pageY-this.offset.click.top<this.containment[1]){i=this.containment[1]+this.offset.click.top}if(h.pageX-this.offset.click.left>this.containment[2]){j=this.containment[2]+this.offset.click.left}if(h.pageY-this.offset.click.top>this.containment[3]){i=this.containment[3]+this.offset.click.top}}if(d.grid){i=this.originalPageY+Math.round((i-this.originalPageY)/d.grid[1])*d.grid[1];i=this.containment?!(i-this.offset.click.top<this.containment[1]||i-this.offset.click.top>this.containment[3])?i:!(i-this.offset.click.top<this.containment[1])?i-d.grid[1]:i+d.grid[1]:i;j=this.originalPageX+Math.round((j-this.originalPageX)/d.grid[0])*d.grid[0];j=this.containment?!(j-this.offset.click.left<this.containment[0]||j-this.offset.click.left>this.containment[2])?j:!(j-this.offset.click.left<this.containment[0])?j-d.grid[0]:j+d.grid[0]:j}}return{top:i-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():k?0:l.scrollTop()),left:j-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():k?0:l.scrollLeft())}},_rearrange:function(h,d,l,k){l?l[0].appendChild(this.placeholder[0]):d.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?d.item[0]:d.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var j=this,i=this.counter;window.setTimeout(function(){i==j.counter&&j.refreshPositions(!k)},0)},_clear:function(f,d){this.reverting=false;var h=[];!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var g in this._storedCSS){if(this._storedCSS[g]=="auto"||this._storedCSS[g]=="static"){this._storedCSS[g]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}this.fromOutside&&!d&&h.push(function(b){this._trigger("receive",b,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!d){h.push(function(b){this._trigger("update",b,this._uiHash())})}if(!a.ui.contains(this.element[0],this.currentItem[0])){d||h.push(function(b){this._trigger("remove",b,this._uiHash())});for(g=this.containers.length-1;g>=0;g--){if(a.ui.contains(this.containers[g].element[0],this.currentItem[0])&&!d){h.push(function(b){return function(c){b._trigger("receive",c,this._uiHash(this))}}.call(this,this.containers[g]));h.push(function(b){return function(c){b._trigger("update",c,this._uiHash(this))}}.call(this,this.containers[g]))}}}for(g=this.containers.length-1;g>=0;g--){d||h.push(function(b){return function(c){b._trigger("deactivate",c,this._uiHash(this))}}.call(this,this.containers[g]));if(this.containers[g].containerCache.over){h.push(function(b){return function(c){b._trigger("out",c,this._uiHash(this))}}.call(this,this.containers[g]));this.containers[g].containerCache.over=0}}this._storedCursor&&a("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!d){this._trigger("beforeStop",f,this._uiHash());
for(g=0;g<h.length;g++){h[g].call(this,f)}this._trigger("stop",f,this._uiHash())}return false}d||this._trigger("beforeStop",f,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!d){for(g=0;g<h.length;g++){h[g].call(this,f)}this._trigger("stop",f,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},_uiHash:function(d){var c=d||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:d?d.element:null}}});a.extend(a.ui.sortable,{version:"1.8.9"})})(jQuery);(function(a){a.widget("ui.autocomplete",{options:{appendTo:"body",delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var d=this,c=this.element[0].ownerDocument,e;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(f){if(!(d.options.disabled||d.element.attr("readonly"))){e=false;var b=a.ui.keyCode;switch(f.keyCode){case b.PAGE_UP:d._move("previousPage",f);break;case b.PAGE_DOWN:d._move("nextPage",f);break;case b.UP:d._move("previous",f);f.preventDefault();break;case b.DOWN:d._move("next",f);f.preventDefault();break;case b.ENTER:case b.NUMPAD_ENTER:if(d.menu.active){e=true;f.preventDefault()}case b.TAB:if(!d.menu.active){return}d.menu.select(f);break;case b.ESCAPE:d.element.val(d.term);d.close(f);break;default:clearTimeout(d.searching);d.searching=setTimeout(function(){if(d.term!=d.element.val()){d.selectedItem=null;d.search(null,f)}},d.options.delay);break}}}).bind("keypress.autocomplete",function(b){if(e){e=false;b.preventDefault()}}).bind("focus.autocomplete",function(){if(!d.options.disabled){d.selectedItem=null;d.previous=d.element.val()}}).bind("blur.autocomplete",function(b){if(!d.options.disabled){clearTimeout(d.searching);d.closing=setTimeout(function(){d.close(b);d._change(b)},150)}});this._initSource();this.response=function(){return d._response.apply(d,arguments)};this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",c)[0]).mousedown(function(f){var b=d.menu.element[0];a(f.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(h){h.target!==d.element[0]&&h.target!==b&&!a.ui.contains(b,h.target)&&d.close()})},1);setTimeout(function(){clearTimeout(d.closing)},13)}).menu({focus:function(f,b){b=b.item.data("item.autocomplete");false!==d._trigger("focus",f,{item:b})&&/^key/.test(f.originalEvent.type)&&d.element.val(b.value)},selected:function(j,i){var f=i.item.data("item.autocomplete"),b=d.previous;if(d.element[0]!==c.activeElement){d.element.focus();d.previous=b;setTimeout(function(){d.previous=b;d.selectedItem=f},1)}false!==d._trigger("select",j,{item:f})&&d.element.val(f.value);d.term=d.element.val();d.close(j);d.selectedItem=f},blur:function(){d.menu.element.is(":visible")&&d.element.val()!==d.term&&d.element.val(d.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");a.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();a.Widget.prototype.destroy.call(this)},_setOption:function(d,c){a.Widget.prototype._setOption.apply(this,arguments);d==="source"&&this._initSource();if(d==="appendTo"){this.menu.element.appendTo(a(c||"body",this.element[0].ownerDocument)[0])}d==="disabled"&&c&&this.xhr&&this.xhr.abort()},_initSource:function(){var d=this,c,e;if(a.isArray(this.options.source)){c=this.options.source;this.source=function(f,b){b(a.ui.autocomplete.filter(c,f.term))}}else{if(typeof this.options.source==="string"){e=this.options.source;
this.source=function(f,b){d.xhr&&d.xhr.abort();d.xhr=a.ajax({url:e,data:f,dataType:"json",success:function(l,k,j){j===d.xhr&&b(l);d.xhr=null},error:function(h){h===d.xhr&&b([]);d.xhr=null}})}}else{this.source=this.options.source}}},search:function(d,c){d=d!=null?d:this.element.val();this.term=this.element.val();if(d.length<this.options.minLength){return this.close(c)}clearTimeout(this.closing);if(this._trigger("search",c)!==false){return this._search(d)}},_search:function(b){this.pending++;this.element.addClass("ui-autocomplete-loading");this.source({term:b},this.response)},_response:function(b){if(!this.options.disabled&&b&&b.length){b=this._normalize(b);this._suggest(b);this._trigger("open")}else{this.close()}this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(b){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.deactivate();this._trigger("close",b)}},_change:function(b){this.previous!==this.element.val()&&this._trigger("change",b,{item:this.selectedItem})},_normalize:function(b){if(b.length&&b[0].label&&b[0].value){return b}return a.map(b,function(c){if(typeof c==="string"){return{label:c,value:c}}return a.extend({label:c.label||c.value,value:c.value||c.label},c)})},_suggest:function(d){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,d);this.menu.deactivate();this.menu.refresh();c.show();this._resizeMenu();c.position(a.extend({of:this.element},this.options.position))},_resizeMenu:function(){var b=this.menu.element;b.outerWidth(Math.max(b.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(d,c){var e=this;a.each(c,function(f,b){e._renderItem(d,b)})},_renderItem:function(d,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").text(c.label)).appendTo(d)},_move:function(d,c){if(this.menu.element.is(":visible")){if(this.menu.first()&&/^previous/.test(d)||this.menu.last()&&/^next/.test(d)){this.element.val(this.term);this.menu.deactivate()}else{this.menu[d](c)}}else{this.search(null,c)}},widget:function(){return this.menu.element}});a.extend(a.ui.autocomplete,{escapeRegex:function(b){return b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(d,c){var e=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(d,function(b){return e.test(b.label||b.value||b)})}})})(jQuery);(function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){if(a(c.target).closest(".ui-menu-item a").length){c.preventDefault();b.select(c)}});this.refresh()},refresh:function(){var b=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(g,d){this.deactivate();if(this.hasScroll()){var h=d.offset().top-this.element.offset().top,j=this.element.attr("scrollTop"),i=this.element.height();if(h<0){this.element.attr("scrollTop",j+h)}else{h>=i&&this.element.attr("scrollTop",j+h-i+d.height())}}this.active=d.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",g,{item:d})},deactivate:function(){if(this.active){this.active.children("a").removeClass("ui-state-hover").removeAttr("id");this._trigger("blur");this.active=null}},next:function(b){this.move("next",".ui-menu-item:first",b)},previous:function(b){this.move("prev",".ui-menu-item:last",b)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(d,c,e){if(this.active){d=this.active[d+"All"](".ui-menu-item").eq(0);d.length?this.activate(e,d):this.activate(e,this.element.children(c))}else{this.activate(e,this.element.children(c))
}},nextPage:function(e){if(this.hasScroll()){if(!this.active||this.last()){this.activate(e,this.element.children(".ui-menu-item:first"))}else{var d=this.active.offset().top,g=this.element.height(),h=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-d-g+a(this).height();return b<10&&b>-10});h.length||(h=this.element.children(".ui-menu-item:last"));this.activate(e,h)}}else{this.activate(e,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))}},previousPage:function(d){if(this.hasScroll()){if(!this.active||this.first()){this.activate(d,this.element.children(".ui-menu-item:last"))}else{var c=this.active.offset().top,e=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c+e-a(this).height();return b<10&&b>-10});result.length||(result=this.element.children(".ui-menu-item:first"));this.activate(d,result)}}else{this.activate(d,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))}},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(b){this._trigger("selected",b,{item:this.active})}})})(jQuery);(function(e,d){var b={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},a={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};e.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",collision:"fit",using:function(f){var c=e(this).css(f).offset().top;c<0&&e(this).css("top",f.top-c)}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string"){this.originalTitle=""}this.options.title=this.options.title||this.originalTitle;var i=this,c=i.options,n=c.title||"&#160;",m=e.ui.dialog.getTitleId(i.element),k=(i.uiDialog=e("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+c.dialogClass).css({zIndex:c.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(f){if(c.closeOnEscape&&f.keyCode&&f.keyCode===e.ui.keyCode.ESCAPE){i.close(f);f.preventDefault()}}).attr({role:"dialog","aria-labelledby":m}).mousedown(function(f){i.moveToTop(false,f)});i.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(k);var l=(i.uiDialogTitlebar=e("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(k),j=e('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){j.addClass("ui-state-hover")},function(){j.removeClass("ui-state-hover")}).focus(function(){j.addClass("ui-state-focus")}).blur(function(){j.removeClass("ui-state-focus")}).click(function(f){i.close(f);return false}).appendTo(l);(i.uiDialogTitlebarCloseText=e("<span></span>")).addClass("ui-icon ui-icon-closethick").text(c.closeText).appendTo(j);e("<span></span>").addClass("ui-dialog-title").attr("id",m).html(n).prependTo(l);if(e.isFunction(c.beforeclose)&&!e.isFunction(c.beforeClose)){c.beforeClose=c.beforeclose}l.find("*").add(l).disableSelection();c.draggable&&e.fn.draggable&&i._makeDraggable();c.resizable&&e.fn.resizable&&i._makeResizable();i._createButtons(c.buttons);i._isOpen=false;e.fn.bgiframe&&k.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var c=this;c.overlay&&c.overlay.destroy();c.uiDialog.hide();c.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");c.uiDialog.remove();c.originalTitle&&c.element.attr("title",c.originalTitle);return c},widget:function(){return this.uiDialog},close:function(f){var c=this,h,g;if(false!==c._trigger("beforeClose",f)){c.overlay&&c.overlay.destroy();
c.uiDialog.unbind("keypress.ui-dialog");c._isOpen=false;if(c.options.hide){c.uiDialog.hide(c.options.hide,function(){c._trigger("close",f)})}else{c.uiDialog.hide();c._trigger("close",f)}e.ui.dialog.overlay.resize();if(c.options.modal){h=0;e(".ui-dialog").each(function(){if(this!==c.uiDialog[0]){g=e(this).css("z-index");isNaN(g)||(h=Math.max(h,g))}});e.ui.dialog.maxZ=h}return c}},isOpen:function(){return this._isOpen},moveToTop:function(f,c){var h=this,g=h.options;if(g.modal&&!f||!g.stack&&!g.modal){return h._trigger("focus",c)}if(g.zIndex>e.ui.dialog.maxZ){e.ui.dialog.maxZ=g.zIndex}if(h.overlay){e.ui.dialog.maxZ+=1;h.overlay.$el.css("z-index",e.ui.dialog.overlay.maxZ=e.ui.dialog.maxZ)}f={scrollTop:h.element.attr("scrollTop"),scrollLeft:h.element.attr("scrollLeft")};e.ui.dialog.maxZ+=1;h.uiDialog.css("z-index",e.ui.dialog.maxZ);h.element.attr(f);h._trigger("focus",c);return h},open:function(){if(!this._isOpen){var f=this,c=f.options,g=f.uiDialog;f.overlay=c.modal?new e.ui.dialog.overlay(f):null;f._size();f._position(c.position);g.show(c.show);f.moveToTop(true);c.modal&&g.bind("keypress.ui-dialog",function(j){if(j.keyCode===e.ui.keyCode.TAB){var h=e(":tabbable",this),i=h.filter(":first");h=h.filter(":last");if(j.target===h[0]&&!j.shiftKey){i.focus(1);return false}else{if(j.target===i[0]&&j.shiftKey){h.focus(1);return false}}}});e(f.element.find(":tabbable").get().concat(g.find(".ui-dialog-buttonpane :tabbable").get().concat(g.get()))).eq(0).focus();f._isOpen=true;f._trigger("open");return f}},_createButtons:function(f){var c=this,j=false,i=e("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),h=e("<div></div>").addClass("ui-dialog-buttonset").appendTo(i);c.uiDialog.find(".ui-dialog-buttonpane").remove();typeof f==="object"&&f!==null&&e.each(f,function(){return !(j=true)});if(j){e.each(f,function(k,g){g=e.isFunction(g)?{click:g,text:k}:g;k=e('<button type="button"></button>').attr(g,true).unbind("click").click(function(){g.click.apply(c.element[0],arguments)}).appendTo(h);e.fn.button&&k.button()});i.appendTo(c.uiDialog)}},_makeDraggable:function(){function f(g){return{position:g.position,offset:g.offset}}var c=this,j=c.options,i=e(document),h;c.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(k,g){h=j.height==="auto"?"auto":e(this).height();e(this).height(e(this).height()).addClass("ui-dialog-dragging");c._trigger("dragStart",k,f(g))},drag:function(k,g){c._trigger("drag",k,f(g))},stop:function(k,g){j.position=[g.position.left-i.scrollLeft(),g.position.top-i.scrollTop()];e(this).removeClass("ui-dialog-dragging").height(h);c._trigger("dragStop",k,f(g));e.ui.dialog.overlay.resize()}})},_makeResizable:function(f){function c(g){return{originalPosition:g.originalPosition,originalSize:g.originalSize,position:g.position,size:g.size}}f=f===d?this.options.resizable:f;var j=this,i=j.options,h=j.uiDialog.css("position");f=typeof f==="string"?f:"n,e,s,w,se,sw,ne,nw";j.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:j.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:j._minHeight(),handles:f,start:function(k,g){e(this).addClass("ui-dialog-resizing");j._trigger("resizeStart",k,c(g))},resize:function(k,g){j._trigger("resize",k,c(g))},stop:function(k,g){e(this).removeClass("ui-dialog-resizing");i.height=e(this).height();i.width=e(this).width();j._trigger("resizeStop",k,c(g));e.ui.dialog.overlay.resize()}}).css("position",h).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var c=this.options;return c.height==="auto"?c.minHeight:Math.min(c.minHeight,c.height)},_position:function(f){var c=[],h=[0,0],g;if(f){if(typeof f==="string"||typeof f==="object"&&"0" in f){c=f.split?f.split(" "):[f[0],f[1]];if(c.length===1){c[1]=c[0]}e.each(["left","top"],function(i,j){if(+c[i]===c[i]){h[i]=c[i];c[i]=j}});f={my:c.join(" "),at:c.join(" "),offset:h.join(" ")}
}f=e.extend({},e.ui.dialog.prototype.options.position,f)}else{f=e.ui.dialog.prototype.options.position}(g=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.css({top:0,left:0}).position(e.extend({of:window},f));g||this.uiDialog.hide()},_setOptions:function(f){var c=this,h={},g=false;e.each(f,function(i,j){c._setOption(i,j);if(i in b){g=true}if(i in a){h[i]=j}});g&&this._size();this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",h)},_setOption:function(f,c){var j=this,i=j.uiDialog;switch(f){case"beforeclose":f="beforeClose";break;case"buttons":j._createButtons(c);break;case"closeText":j.uiDialogTitlebarCloseText.text(""+c);break;case"dialogClass":i.removeClass(j.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+c);break;case"disabled":c?i.addClass("ui-dialog-disabled"):i.removeClass("ui-dialog-disabled");break;case"draggable":var h=i.is(":data(draggable)");h&&!c&&i.draggable("destroy");!h&&c&&j._makeDraggable();break;case"position":j._position(c);break;case"resizable":(h=i.is(":data(resizable)"))&&!c&&i.resizable("destroy");h&&typeof c==="string"&&i.resizable("option","handles",c);!h&&c!==false&&j._makeResizable(c);break;case"title":e(".ui-dialog-title",j.uiDialogTitlebar).html(""+(c||"&#160;"));break}e.Widget.prototype._setOption.apply(j,arguments)},_size:function(){var f=this.options,c,h,g=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});if(f.minWidth>f.width){f.width=f.minWidth}c=this.uiDialog.css({height:"auto",width:f.width}).height();h=Math.max(0,f.minHeight-c);if(f.height==="auto"){if(e.support.minHeight){this.element.css({minHeight:h,height:"auto"})}else{this.uiDialog.show();f=this.element.css("height","auto").height();g||this.uiDialog.hide();this.element.height(Math.max(f,h))}}else{this.element.height(Math.max(f.height-c,0))}this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}});e.extend(e.ui.dialog,{version:"1.8.9",uuid:0,maxZ:0,getTitleId:function(c){c=c.attr("id");if(!c){this.uuid+=1;c=this.uuid}return"ui-dialog-title-"+c},overlay:function(c){this.$el=e.ui.dialog.overlay.create(c)}});e.extend(e.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:e.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(c){return c+".dialog-overlay"}).join(" "),create:function(f){if(this.instances.length===0){setTimeout(function(){e.ui.dialog.overlay.instances.length&&e(document).bind(e.ui.dialog.overlay.events,function(g){if(e(g.target).zIndex()<e.ui.dialog.overlay.maxZ){return false}})},1);e(document).bind("keydown.dialog-overlay",function(g){if(f.options.closeOnEscape&&g.keyCode&&g.keyCode===e.ui.keyCode.ESCAPE){f.close(g);g.preventDefault()}});e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize)}var c=(this.oldInstances.pop()||e("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});e.fn.bgiframe&&c.bgiframe();this.instances.push(c);return c},destroy:function(f){var c=e.inArray(f,this.instances);c!=-1&&this.oldInstances.push(this.instances.splice(c,1)[0]);this.instances.length===0&&e([document,window]).unbind(".dialog-overlay");f.remove();var g=0;e.each(this.instances,function(){g=Math.max(g,this.css("z-index"))});this.maxZ=g},height:function(){var f,c;if(e.browser.msie&&e.browser.version<7){f=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return f<c?e(window).height()+"px":f+"px"}else{return e(document).height()+"px"}},width:function(){var f,c;if(e.browser.msie&&e.browser.version<7){f=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return f<c?e(window).width()+"px":f+"px"}else{return e(document).width()+"px"}},resize:function(){var c=e([]);e.each(e.ui.dialog.overlay.instances,function(){c=c.add(this)
});c.css({width:0,height:0}).css({width:e.ui.dialog.overlay.width(),height:e.ui.dialog.overlay.height()})}});e.extend(e.ui.dialog.overlay.prototype,{destroy:function(){e.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);(function(a){a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var c=this,d=this.options;this._mouseSliding=this._keySliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");d.disabled&&this.element.addClass("ui-slider-disabled ui-disabled");this.range=a([]);if(d.range){if(d.range===true){this.range=a("<div></div>");if(!d.values){d.values=[this._valueMin(),this._valueMin()]}if(d.values.length&&d.values.length!==2){d.values=[d.values[0],d.values[0]]}}else{this.range=a("<div></div>")}this.range.appendTo(this.element).addClass("ui-slider-range");if(d.range==="min"||d.range==="max"){this.range.addClass("ui-slider-range-"+d.range)}this.range.addClass("ui-widget-header")}a(".ui-slider-handle",this.element).length===0&&a("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");if(d.values&&d.values.length){for(;a(".ui-slider-handle",this.element).length<d.values.length;){a("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle")}}this.handles=a(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(b){b.preventDefault()}).hover(function(){d.disabled||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){if(d.disabled){a(this).blur()}else{a(".ui-slider .ui-state-focus").removeClass("ui-state-focus");a(this).addClass("ui-state-focus")}}).blur(function(){a(this).removeClass("ui-state-focus")});this.handles.each(function(b){a(this).data("index.ui-slider-handle",b)});this.handles.keydown(function(n){var m=true,l=a(this).data("index.ui-slider-handle"),j,k,b;if(!c.options.disabled){switch(n.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:m=false;if(!c._keySliding){c._keySliding=true;a(this).addClass("ui-state-active");j=c._start(n,l);if(j===false){return}}break}b=c.options.step;j=c.options.values&&c.options.values.length?(k=c.values(l)):(k=c.value());switch(n.keyCode){case a.ui.keyCode.HOME:k=c._valueMin();break;case a.ui.keyCode.END:k=c._valueMax();break;case a.ui.keyCode.PAGE_UP:k=c._trimAlignValue(j+(c._valueMax()-c._valueMin())/5);break;case a.ui.keyCode.PAGE_DOWN:k=c._trimAlignValue(j-(c._valueMax()-c._valueMin())/5);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(j===c._valueMax()){return}k=c._trimAlignValue(j+b);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(j===c._valueMin()){return}k=c._trimAlignValue(j-b);break}c._slide(n,l,k);return m}}).keyup(function(f){var b=a(this).data("index.ui-slider-handle");if(c._keySliding){c._keySliding=false;c._stop(f,b);c._change(f,b);a(this).removeClass("ui-state-active")}});this._refreshValue();this._animateOff=false},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy();return this},_mouseCapture:function(d){var i=this.options,n,m,l,j,k;if(i.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();n=this._normValueFromMouse({x:d.pageX,y:d.pageY});m=this._valueMax()-this._valueMin()+1;j=this;this.handles.each(function(c){var b=Math.abs(n-j.values(c));if(m>b){m=b;
l=a(this);k=c}});if(i.range===true&&this.values(1)===i.min){k+=1;l=a(this.handles[k])}if(this._start(d,k)===false){return false}this._mouseSliding=true;j._handleIndex=k;l.addClass("ui-state-active").focus();i=l.offset();this._clickOffset=!a(d.target).parents().andSelf().is(".ui-slider-handle")?{left:0,top:0}:{left:d.pageX-i.left-l.width()/2,top:d.pageY-i.top-l.height()/2-(parseInt(l.css("borderTopWidth"),10)||0)-(parseInt(l.css("borderBottomWidth"),10)||0)+(parseInt(l.css("marginTop"),10)||0)};this.handles.hasClass("ui-state-hover")||this._slide(d,k,n);return this._animateOff=true},_mouseStart:function(){return true},_mouseDrag:function(c){var d=this._normValueFromMouse({x:c.pageX,y:c.pageY});this._slide(c,this._handleIndex,d);return false},_mouseStop:function(c){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(c,this._handleIndex);this._change(c,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=false},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(c){var d;if(this.orientation==="horizontal"){d=this.elementSize.width;c=c.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{d=this.elementSize.height;c=c.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}d=c/d;if(d>1){d=1}if(d<0){d=0}if(this.orientation==="vertical"){d=1-d}c=this._valueMax()-this._valueMin();return this._trimAlignValue(this._valueMin()+d*c)},_start:function(d,e){var f={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){f.value=this.values(e);f.values=this.values()}return this._trigger("start",d,f)},_slide:function(d,f,h){var g;if(this.options.values&&this.options.values.length){g=this.values(f?0:1);if(this.options.values.length===2&&this.options.range===true&&(f===0&&h>g||f===1&&h<g)){h=g}if(h!==this.values(f)){g=this.values();g[f]=h;d=this._trigger("slide",d,{handle:this.handles[f],value:h,values:g});this.values(f?0:1);d!==false&&this.values(f,h,true)}}else{if(h!==this.value()){d=this._trigger("slide",d,{handle:this.handles[f],value:h});d!==false&&this.value(h)}}},_stop:function(d,e){var f={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){f.value=this.values(e);f.values=this.values()}this._trigger("stop",d,f)},_change:function(d,e){if(!this._keySliding&&!this._mouseSliding){var f={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){f.value=this.values(e);f.values=this.values()}this._trigger("change",d,f)}},value:function(c){if(arguments.length){this.options.value=this._trimAlignValue(c);this._refreshValue();this._change(null,0)}return this._value()},values:function(d,g){var j,i,h;if(arguments.length>1){this.options.values[d]=this._trimAlignValue(g);this._refreshValue();this._change(null,d)}if(arguments.length){if(a.isArray(arguments[0])){j=this.options.values;i=arguments[0];for(h=0;h<j.length;h+=1){j[h]=this._trimAlignValue(i[h]);this._change(null,h)}this._refreshValue()}else{return this.options.values&&this.options.values.length?this._values(d):this.value()}}else{return this._values()}},_setOption:function(d,f){var h,g=0;if(a.isArray(this.options.values)){g=this.options.values.length}a.Widget.prototype._setOption.apply(this,arguments);switch(d){case"disabled":if(f){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled");this.element.addClass("ui-disabled")}else{this.handles.removeAttr("disabled");this.element.removeClass("ui-disabled")}break;case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();
for(h=0;h<g;h+=1){this._change(null,h)}this._animateOff=false;break}},_value:function(){var c=this.options.value;return c=this._trimAlignValue(c)},_values:function(d){var e,f;if(arguments.length){e=this.options.values[d];return e=this._trimAlignValue(e)}else{e=this.options.values.slice();for(f=0;f<e.length;f+=1){e[f]=this._trimAlignValue(e[f])}return e}},_trimAlignValue:function(d){if(d<=this._valueMin()){return this._valueMin()}if(d>=this._valueMax()){return this._valueMax()}var e=this.options.step>0?this.options.step:1,f=(d-this._valueMin())%e;alignValue=d-f;if(Math.abs(f)*2>=e){alignValue+=f>0?e:-e}return parseFloat(alignValue.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var s=this.options.range,t=this.options,r=this,q=!this._animateOff?t.animate:false,p,n={},o,m,k,d;if(this.options.values&&this.options.values.length){this.handles.each(function(b){p=(r.values(b)-r._valueMin())/(r._valueMax()-r._valueMin())*100;n[r.orientation==="horizontal"?"left":"bottom"]=p+"%";a(this).stop(1,1)[q?"animate":"css"](n,t.animate);if(r.options.range===true){if(r.orientation==="horizontal"){if(b===0){r.range.stop(1,1)[q?"animate":"css"]({left:p+"%"},t.animate)}if(b===1){r.range[q?"animate":"css"]({width:p-o+"%"},{queue:false,duration:t.animate})}}else{if(b===0){r.range.stop(1,1)[q?"animate":"css"]({bottom:p+"%"},t.animate)}if(b===1){r.range[q?"animate":"css"]({height:p-o+"%"},{queue:false,duration:t.animate})}}}o=p})}else{m=this.value();k=this._valueMin();d=this._valueMax();p=d!==k?(m-k)/(d-k)*100:0;n[r.orientation==="horizontal"?"left":"bottom"]=p+"%";this.handle.stop(1,1)[q?"animate":"css"](n,t.animate);if(s==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[q?"animate":"css"]({width:p+"%"},t.animate)}if(s==="max"&&this.orientation==="horizontal"){this.range[q?"animate":"css"]({width:100-p+"%"},{queue:false,duration:t.animate})}if(s==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[q?"animate":"css"]({height:p+"%"},t.animate)}if(s==="max"&&this.orientation==="vertical"){this.range[q?"animate":"css"]({height:100-p+"%"},{queue:false,duration:t.animate})}}}});a.extend(a.ui.slider,{version:"1.8.9"})})(jQuery);(function(d,G){function K(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._inDialog=this._datepickerShowing=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false};
d.extend(this._defaults,this.regional[""]);this.dpDiv=d('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}function E(a,b){d.extend(a,b);for(var c in b){if(b[c]==null||b[c]==G){a[c]=b[c]}}return a}d.extend(d.ui,{datepicker:{version:"1.8.9"}});var y=(new Date).getTime();d.extend(K.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){E(this._defaults,a||{});return this},_attachDatepicker:function(a,b){var c=null;for(var e in this._defaults){var f=a.getAttribute("date:"+e);if(f){c=c||{};try{c[e]=eval(f)}catch(h){c[e]=f}}}e=a.nodeName.toLowerCase();f=e=="div"||e=="span";if(!a.id){this.uuid+=1;a.id="dp"+this.uuid}var i=this._newInst(d(a),f);i.settings=d.extend({},b||{},c||{});if(e=="input"){this._connectDatepicker(a,i)}else{f&&this._inlineDatepicker(a,i)}},_newInst:function(a,b){return{id:a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:!b?this.dpDiv:d('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}},_connectDatepicker:function(a,b){var c=d(a);b.append=d([]);b.trigger=d([]);if(!c.hasClass(this.markerClassName)){this._attachments(c,b);c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,f,h){b.settings[f]=h}).bind("getData.datepicker",function(e,f){return this._get(b,f)});this._autoSize(b);d.data(a,"datepicker",b)}},_attachments:function(a,b){var c=this._get(b,"appendText"),e=this._get(b,"isRTL");b.append&&b.append.remove();if(c){b.append=d('<span class="'+this._appendClass+'">'+c+"</span>");a[e?"before":"after"](b.append)}a.unbind("focus",this._showDatepicker);b.trigger&&b.trigger.remove();c=this._get(b,"showOn");if(c=="focus"||c=="both"){a.focus(this._showDatepicker)}if(c=="button"||c=="both"){c=this._get(b,"buttonText");var f=this._get(b,"buttonImage");b.trigger=d(this._get(b,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:f,alt:c,title:c}):d('<button type="button"></button>').addClass(this._triggerClass).html(f==""?c:d("<img/>").attr({src:f,alt:c,title:c})));a[e?"before":"after"](b.trigger);b.trigger.click(function(){d.datepicker._datepickerShowing&&d.datepicker._lastInput==a[0]?d.datepicker._hideDatepicker():d.datepicker._showDatepicker(a[0]);return false})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var e=function(f){for(var h=0,i=0,g=0;g<f.length;g++){if(f[g].length>h){h=f[g].length;i=g}}return i};b.setMonth(e(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort")));b.setDate(e(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=d(a);if(!c.hasClass(this.markerClassName)){c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(e,f,h){b.settings[f]=h}).bind("getData.datepicker",function(e,f){return this._get(b,f)});d.data(a,"datepicker",b);this._setDate(b,this._getDefaultDate(b),true);this._updateDatepicker(b);this._updateAlternate(b);b.dpDiv.show()}},_dialogDatepicker:function(a,b,c,e,f){a=this._dialogInst;if(!a){this.uuid+=1;this._dialogInput=d('<input type="text" id="'+("dp"+this.uuid)+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>');this._dialogInput.keydown(this._doKeyDown);d("body").append(this._dialogInput);a=this._dialogInst=this._newInst(this._dialogInput,false);a.settings={};d.data(this._dialogInput[0],"datepicker",a)}E(a.settings,e||{});b=b&&b.constructor==Date?this._formatDate(a,b):b;this._dialogInput.val(b);this._pos=f?f.length?f:[f.pageX,f.pageY]:null;if(!this._pos){this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)]
}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");a.settings.onSelect=c;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);d.blockUI&&d.blockUI(this.dpDiv);d.data(this._dialogInput[0],"datepicker",a);return this},_destroyDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();d.removeData(a,"datepicker");if(e=="input"){c.append.remove();c.trigger.remove();b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else{if(e=="div"||e=="span"){b.removeClass(this.markerClassName).empty()}}}},_enableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){a.disabled=false;c.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(e=="div"||e=="span"){b.children("."+this._inlineClass).children().removeClass("ui-state-disabled")}}this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:f})}},_disableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){a.disabled=true;c.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(e=="div"||e=="span"){b.children("."+this._inlineClass).children().addClass("ui-state-disabled")}}this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:f});this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a){return false}for(var b=0;b<this._disabledInputs.length;b++){if(this._disabledInputs[b]==a){return true}}return false},_getInst:function(a){try{return d.data(a,"datepicker")}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var e=this._getInst(a);if(arguments.length==2&&typeof b=="string"){return b=="defaults"?d.extend({},d.datepicker._defaults):e?b=="all"?d.extend({},e.settings):this._get(e,b):null}var f=b||{};if(typeof b=="string"){f={};f[b]=c}if(e){this._curInst==e&&this._hideDatepicker();var h=this._getDateDatepicker(a,true);E(e.settings,f);this._attachments(d(a),e);this._autoSize(e);this._setDateDatepicker(a,h);this._updateDatepicker(e)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){if(a=this._getInst(a)){this._setDate(a,b);this._updateDatepicker(a);this._updateAlternate(a)}},_getDateDatepicker:function(a,b){(a=this._getInst(a))&&!a.inline&&this._setDateFromField(a,b);return a?this._getDate(a):null},_doKeyDown:function(a){var b=d.datepicker._getInst(a.target),c=true,e=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=true;if(d.datepicker._datepickerShowing){switch(a.keyCode){case 9:d.datepicker._hideDatepicker();c=false;break;case 13:c=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",b.dpDiv);c[0]?d.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,c[0]):d.datepicker._hideDatepicker();return false;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 35:if(a.ctrlKey||a.metaKey){d.datepicker._clearDate(a.target)}c=a.ctrlKey||a.metaKey;break;case 36:if(a.ctrlKey||a.metaKey){d.datepicker._gotoToday(a.target)}c=a.ctrlKey||a.metaKey;break;case 37:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,e?+1:-1,"D")}c=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey){d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M")
}break;case 38:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,-7,"D")}c=a.ctrlKey||a.metaKey;break;case 39:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,e?-1:+1,"D")}c=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey){d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M")}break;case 40:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,+7,"D")}c=a.ctrlKey||a.metaKey;break;default:c=false}}else{if(a.keyCode==36&&a.ctrlKey){d.datepicker._showDatepicker(this)}else{c=false}}if(c){a.preventDefault();a.stopPropagation()}},_doKeyPress:function(a){var b=d.datepicker._getInst(a.target);if(d.datepicker._get(b,"constrainInput")){b=d.datepicker._possibleChars(d.datepicker._get(b,"dateFormat"));var c=String.fromCharCode(a.charCode==G?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||c<" "||!b||b.indexOf(c)>-1}},_doKeyUp:function(a){a=d.datepicker._getInst(a.target);if(a.input.val()!=a.lastVal){try{if(d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,d.datepicker._getFormatConfig(a))){d.datepicker._setDateFromField(a);d.datepicker._updateAlternate(a);d.datepicker._updateDatepicker(a)}}catch(b){d.datepicker.log(b)}}return true},_showDatepicker:function(a){a=a.target||a;if(a.nodeName.toLowerCase()!="input"){a=d("input",a.parentNode)[0]}if(!(d.datepicker._isDisabledDatepicker(a)||d.datepicker._lastInput==a)){var b=d.datepicker._getInst(a);d.datepicker._curInst&&d.datepicker._curInst!=b&&d.datepicker._curInst.dpDiv.stop(true,true);var c=d.datepicker._get(b,"beforeShow");E(b.settings,c?c.apply(a,[a,b]):{});b.lastVal=null;d.datepicker._lastInput=a;d.datepicker._setDateFromField(b);if(d.datepicker._inDialog){a.value=""}if(!d.datepicker._pos){d.datepicker._pos=d.datepicker._findPos(a);d.datepicker._pos[1]+=a.offsetHeight}var e=false;d(a).parents().each(function(){e|=d(this).css("position")=="fixed";return !e});if(e&&d.browser.opera){d.datepicker._pos[0]-=document.documentElement.scrollLeft;d.datepicker._pos[1]-=document.documentElement.scrollTop}c={left:d.datepicker._pos[0],top:d.datepicker._pos[1]};d.datepicker._pos=null;b.dpDiv.empty();b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});d.datepicker._updateDatepicker(b);c=d.datepicker._checkOffset(b,c,e);b.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":e?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"});if(!b.inline){c=d.datepicker._get(b,"showAnim");var f=d.datepicker._get(b,"duration"),h=function(){d.datepicker._datepickerShowing=true;var i=b.dpDiv.find("iframe.ui-datepicker-cover");if(i.length){var g=d.datepicker._getBorders(b.dpDiv);i.css({left:-g[0],top:-g[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex(d(a).zIndex()+1);d.effects&&d.effects[c]?b.dpDiv.show(c,d.datepicker._get(b,"showOptions"),f,h):b.dpDiv[c||"show"](c?f:null,h);if(!c||!f){h()}b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus();d.datepicker._curInst=b}}},_updateDatepicker:function(a){var b=this,c=d.datepicker._getBorders(a.dpDiv);a.dpDiv.empty().append(this._generateHTML(a));var e=a.dpDiv.find("iframe.ui-datepicker-cover");e.length&&e.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()});a.dpDiv.find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){d(this).removeClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).removeClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&d(this).removeClass("ui-datepicker-next-hover")}).bind("mouseover",function(){if(!b._isDisabledDatepicker(a.inline?a.dpDiv.parent()[0]:a.input[0])){d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");d(this).addClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).addClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&d(this).addClass("ui-datepicker-next-hover")
}}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end();c=this._getNumberOfMonths(a);e=c[1];e>1?a.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",17*e+"em"):a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");a.dpDiv[(c[0]!=1||c[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a==d.datepicker._curInst&&d.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input.focus();if(a.yearshtml){var f=a.yearshtml;setTimeout(function(){f===a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml);f=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(c){return{thin:1,medium:2,thick:3}[c]||c};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var e=a.dpDiv.outerWidth(),f=a.dpDiv.outerHeight(),h=a.input?a.input.outerWidth():0,i=a.input?a.input.outerHeight():0,g=document.documentElement.clientWidth+d(document).scrollLeft(),j=document.documentElement.clientHeight+d(document).scrollTop();b.left-=this._get(a,"isRTL")?e-h:0;b.left-=c&&b.left==a.input.offset().left?d(document).scrollLeft():0;b.top-=c&&b.top==a.input.offset().top+i?d(document).scrollTop():0;b.left-=Math.min(b.left,b.left+e>g&&g>e?Math.abs(b.left+e-g):0);b.top-=Math.min(b.top,b.top+f>j&&j>f?Math.abs(f+i):0);return b},_findPos:function(a){for(var b=this._get(this._getInst(a),"isRTL");a&&(a.type=="hidden"||a.nodeType!=1);){a=a[b?"previousSibling":"nextSibling"]}a=d(a).offset();return[a.left,a.top]},_hideDatepicker:function(a){var b=this._curInst;if(!(!b||a&&b!=d.data(a,"datepicker"))){if(this._datepickerShowing){a=this._get(b,"showAnim");var c=this._get(b,"duration"),e=function(){d.datepicker._tidyDialog(b);this._curInst=null};d.effects&&d.effects[a]?b.dpDiv.hide(a,d.datepicker._get(b,"showOptions"),c,e):b.dpDiv[a=="slideDown"?"slideUp":a=="fadeIn"?"fadeOut":"hide"](a?c:null,e);a||e();if(a=this._get(b,"onClose")){a.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b])}this._datepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(d.blockUI){d.unblockUI();d("body").append(this.dpDiv)}}this._inDialog=false}}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(d.datepicker._curInst){a=d(a.target);a[0].id!=d.datepicker._mainDivId&&a.parents("#"+d.datepicker._mainDivId).length==0&&!a.hasClass(d.datepicker.markerClassName)&&!a.hasClass(d.datepicker._triggerClass)&&d.datepicker._datepickerShowing&&!(d.datepicker._inDialog&&d.blockUI)&&d.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){a=d(a);var e=this._getInst(a[0]);if(!this._isDisabledDatepicker(a[0])){this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c);this._updateDatepicker(e)}},_gotoToday:function(a){a=d(a);var b=this._getInst(a[0]);if(this._get(b,"gotoCurrent")&&b.currentDay){b.selectedDay=b.currentDay;b.drawMonth=b.selectedMonth=b.currentMonth;b.drawYear=b.selectedYear=b.currentYear}else{var c=new Date;b.selectedDay=c.getDate();b.drawMonth=b.selectedMonth=c.getMonth();b.drawYear=b.selectedYear=c.getFullYear()}this._notifyChange(b);this._adjustDate(a)},_selectMonthYear:function(a,b,c){a=d(a);var e=this._getInst(a[0]);e._selectingMonthYear=false;e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10);this._notifyChange(e);this._adjustDate(a)},_clickMonthYear:function(a){var b=this._getInst(d(a)[0]);b.input&&b._selectingMonthYear&&setTimeout(function(){b.input.focus()},0);b._selectingMonthYear=!b._selectingMonthYear},_selectDay:function(a,b,c,e){var f=d(a);if(!(d(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(f[0]))){f=this._getInst(f[0]);f.selectedDay=f.currentDay=d("a",e).html();
f.selectedMonth=f.currentMonth=b;f.selectedYear=f.currentYear=c;this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))}},_clearDate:function(a){a=d(a);this._getInst(a[0]);this._selectDate(a,"")},_selectDate:function(a,b){a=this._getInst(d(a)[0]);b=b!=null?b:this._formatDate(a);a.input&&a.input.val(b);this._updateAlternate(a);var c=this._get(a,"onSelect");if(c){c.apply(a.input?a.input[0]:null,[b,a])}else{a.input&&a.input.trigger("change")}if(a.inline){this._updateDatepicker(a)}else{this._hideDatepicker();this._lastInput=a.input[0];typeof a.input[0]!="object"&&a.input.focus();this._lastInput=null}},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),e=this._getDate(a),f=this.formatDate(c,e,this._getFormatConfig(a));d(b).each(function(){d(this).val(f)})}},noWeekends:function(a){a=a.getDay();return[a>0&&a<6,""]},iso8601Week:function(a){a=new Date(a.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));var b=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((b-a)/86400000)/7)+1},parseDate:function(a,b,c){if(a==null||b==null){throw"Invalid arguments"}b=typeof b=="object"?b.toString():b+"";if(b==""){return null}var e=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;e=typeof e!="string"?e:(new Date).getFullYear()%100+parseInt(e,10);for(var f=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,h=(c?c.dayNames:null)||this._defaults.dayNames,i=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,j=c=-1,l=-1,u=-1,k=false,o=function(p){(p=z+1<a.length&&a.charAt(z+1)==p)&&z++;return p},m=function(p){var v=o(p);p=new RegExp("^\\d{1,"+(p=="@"?14:p=="!"?20:p=="y"&&v?4:p=="o"?3:2)+"}");p=b.substring(s).match(p);if(!p){throw"Missing number at position "+s}s+=p[0].length;return parseInt(p[0],10)},n=function(p,v,H){p=o(p)?H:v;for(v=0;v<p.length;v++){if(b.substr(s,p[v].length).toLowerCase()==p[v].toLowerCase()){s+=p[v].length;return v+1}}throw"Unknown name at position "+s},r=function(){if(b.charAt(s)!=a.charAt(z)){throw"Unexpected literal at position "+s}s++},s=0,z=0;z<a.length;z++){if(k){if(a.charAt(z)=="'"&&!o("'")){k=false}else{r()}}else{switch(a.charAt(z)){case"d":l=m("d");break;case"D":n("D",f,h);break;case"o":u=m("o");break;case"m":j=m("m");break;case"M":j=n("M",i,g);break;case"y":c=m("y");break;case"@":var w=new Date(m("@"));c=w.getFullYear();j=w.getMonth()+1;l=w.getDate();break;case"!":w=new Date((m("!")-this._ticksTo1970)/10000);c=w.getFullYear();j=w.getMonth()+1;l=w.getDate();break;case"'":if(o("'")){r()}else{k=true}break;default:r()}}}if(c==-1){c=(new Date).getFullYear()}else{if(c<100){c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=e?0:-100)}}if(u>-1){j=1;l=u;do{e=this._getDaysInMonth(c,j-1);if(l<=e){break}j++;l-=e}while(1)}w=this._daylightSavingAdjust(new Date(c,j-1,l));if(w.getFullYear()!=c||w.getMonth()+1!=j||w.getDate()!=l){throw"Invalid date"}return w},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*10000000,formatDate:function(a,b,c){if(!b){return""}var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,h=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var i=function(o){(o=k+1<a.length&&a.charAt(k+1)==o)&&k++;return o},g=function(o,m,n){m=""+m;if(i(o)){for(;m.length<n;){m="0"+m}}return m},j=function(o,m,n,r){return i(o)?r[m]:n[m]},l="",u=false;if(b){for(var k=0;k<a.length;k++){if(u){if(a.charAt(k)=="'"&&!i("'")){u=false}else{l+=a.charAt(k)}}else{switch(a.charAt(k)){case"d":l+=g("d",b.getDate(),2);break;case"D":l+=j("D",b.getDay(),e,f);break;case"o":l+=g("o",(b.getTime()-(new Date(b.getFullYear(),0,0)).getTime())/86400000,3);
break;case"m":l+=g("m",b.getMonth()+1,2);break;case"M":l+=j("M",b.getMonth(),h,c);break;case"y":l+=i("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=b.getTime()*10000+this._ticksTo1970;break;case"'":if(i("'")){l+="'"}else{u=true}break;default:l+=a.charAt(k)}}}}return l},_possibleChars:function(a){for(var b="",c=false,e=function(h){(h=f+1<a.length&&a.charAt(f+1)==h)&&f++;return h},f=0;f<a.length;f++){if(c){if(a.charAt(f)=="'"&&!e("'")){c=false}else{b+=a.charAt(f)}}else{switch(a.charAt(f)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":if(e("'")){b+="'"}else{c=true}break;default:b+=a.charAt(f)}}}return b},_get:function(a,b){return a.settings[b]!==G?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),e=a.lastVal=a.input?a.input.val():null,f,h;f=h=this._getDefaultDate(a);var i=this._getFormatConfig(a);try{f=this.parseDate(c,e,i)||h}catch(g){this.log(g);e=b?"":e}a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();a.currentDay=e?f.getDate():0;a.currentMonth=e?f.getMonth():0;a.currentYear=e?f.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var e=function(h){var i=new Date;i.setDate(i.getDate()+h);return i},f=function(h){try{return d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),h,d.datepicker._getFormatConfig(a))}catch(i){}var g=(h.toLowerCase().match(/^c/)?d.datepicker._getDate(a):null)||new Date,j=g.getFullYear(),l=g.getMonth();g=g.getDate();for(var u=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,k=u.exec(h);k;){switch(k[2]||"d"){case"d":case"D":g+=parseInt(k[1],10);break;case"w":case"W":g+=parseInt(k[1],10)*7;break;case"m":case"M":l+=parseInt(k[1],10);g=Math.min(g,d.datepicker._getDaysInMonth(j,l));break;case"y":case"Y":j+=parseInt(k[1],10);g=Math.min(g,d.datepicker._getDaysInMonth(j,l));break}k=u.exec(h)}return new Date(j,l,g)};if(b=(b=b==null||b===""?c:typeof b=="string"?f(b):typeof b=="number"?isNaN(b)?c:e(b):new Date(b.getTime()))&&b.toString()=="Invalid Date"?c:b){b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0)}return this._daylightSavingAdjust(b)},_daylightSavingAdjust:function(a){if(!a){return null}a.setHours(a.getHours()>12?a.getHours()+2:0);return a},_setDate:function(a,b,c){var e=!b,f=a.selectedMonth,h=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();if((f!=a.selectedMonth||h!=a.selectedYear)&&!c){this._notifyChange(a)}this._adjustInstDate(a);if(a.input){a.input.val(e?"":this._formatDate(a))}},_getDate:function(a){return !a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),e=this._get(a,"showButtonPanel"),f=this._get(a,"hideIfNoPrevNext"),h=this._get(a,"navigationAsDateFormat"),i=this._getNumberOfMonths(a),g=this._get(a,"showCurrentAtPos"),j=this._get(a,"stepMonths"),l=i[0]!=1||i[1]!=1,u=this._daylightSavingAdjust(!a.currentDay?new Date(9999,9,9):new Date(a.currentYear,a.currentMonth,a.currentDay)),k=this._getMinMaxDate(a,"min"),o=this._getMinMaxDate(a,"max");g=a.drawMonth-g;var m=a.drawYear;if(g<0){g+=12;m--}if(o){var n=this._daylightSavingAdjust(new Date(o.getFullYear(),o.getMonth()-i[0]*i[1]+1,o.getDate()));for(n=k&&n<k?k:n;this._daylightSavingAdjust(new Date(m,g,1))>n;){g--;if(g<0){g=11;m--}}}a.drawMonth=g;a.drawYear=m;n=this._get(a,"prevText");n=!h?n:this.formatDate(n,this._daylightSavingAdjust(new Date(m,g-j,1)),this._getFormatConfig(a));
n=this._canAdjustMonth(a,-1,m,g)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._adjustDate('#"+a.id+"', -"+j+", 'M');\" title=\""+n+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+n+"</span></a>":f?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+n+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+n+"</span></a>";var r=this._get(a,"nextText");r=!h?r:this.formatDate(r,this._daylightSavingAdjust(new Date(m,g+j,1)),this._getFormatConfig(a));f=this._canAdjustMonth(a,+1,m,g)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._adjustDate('#"+a.id+"', +"+j+", 'M');\" title=\""+r+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+r+"</span></a>":f?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+r+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+r+"</span></a>";j=this._get(a,"currentText");r=this._get(a,"gotoCurrent")&&a.currentDay?u:b;j=!h?j:this.formatDate(j,r,this._getFormatConfig(a));h=!a.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+y+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>":"";e=e?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?h:"")+(this._isInRange(a,r)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._gotoToday('#"+a.id+"');\">"+j+"</button>":"")+(c?"":h)+"</div>":"";h=parseInt(this._get(a,"firstDay"),10);h=isNaN(h)?0:h;j=this._get(a,"showWeek");r=this._get(a,"dayNames");this._get(a,"dayNamesShort");var s=this._get(a,"dayNamesMin"),z=this._get(a,"monthNames"),w=this._get(a,"monthNamesShort"),p=this._get(a,"beforeShowDay"),v=this._get(a,"showOtherMonths"),H=this._get(a,"selectOtherMonths");this._get(a,"calculateWeek");for(var L=this._getDefaultDate(a),I="",C=0;C<i[0];C++){for(var M="",D=0;D<i[1];D++){var N=this._daylightSavingAdjust(new Date(m,g,a.selectedDay)),t=" ui-corner-all",x="";if(l){x+='<div class="ui-datepicker-group';if(i[1]>1){switch(D){case 0:x+=" ui-datepicker-group-first";t=" ui-corner-"+(c?"right":"left");break;case i[1]-1:x+=" ui-datepicker-group-last";t=" ui-corner-"+(c?"left":"right");break;default:x+=" ui-datepicker-group-middle";t="";break}}x+='">'}x+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+t+'">'+(/all|left/.test(t)&&C==0?c?f:n:"")+(/all|right/.test(t)&&C==0?c?n:f:"")+this._generateMonthYearHeader(a,g,m,k,o,C>0||D>0,z,w)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var A=j?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(t=0;t<7;t++){var q=(t+h)%7;A+="<th"+((t+h+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+r[q]+'">'+s[q]+"</span></th>"}x+=A+"</tr></thead><tbody>";A=this._getDaysInMonth(m,g);if(m==a.selectedYear&&g==a.selectedMonth){a.selectedDay=Math.min(a.selectedDay,A)}t=(this._getFirstDayOfMonth(m,g)-h+7)%7;A=l?6:Math.ceil((t+A)/7);q=this._daylightSavingAdjust(new Date(m,g,1-t));for(var O=0;O<A;O++){x+="<tr>";var P=!j?"":'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(q)+"</td>";for(t=0;t<7;t++){var F=p?p.apply(a.input?a.input[0]:null,[q]):[true,""],B=q.getMonth()!=g,J=B&&!H||!F[0]||k&&q<k||o&&q>o;P+='<td class="'+((t+h+6)%7>=5?" ui-datepicker-week-end":"")+(B?" ui-datepicker-other-month":"")+(q.getTime()==N.getTime()&&g==a.selectedMonth&&a._keyEvent||L.getTime()==q.getTime()&&L.getTime()==N.getTime()?" "+this._dayOverClass:"")+(J?" "+this._unselectableClass+" ui-state-disabled":"")+(B&&!v?"":" "+F[1]+(q.getTime()==u.getTime()?" "+this._currentClass:"")+(q.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!B||v)&&F[2]?' title="'+F[2]+'"':"")+(J?"":' onclick="DP_jQuery_'+y+".datepicker._selectDay('#"+a.id+"',"+q.getMonth()+","+q.getFullYear()+', this);return false;"')+">"+(B&&!v?"&#xa0;":J?'<span class="ui-state-default">'+q.getDate()+"</span>":'<a class="ui-state-default'+(q.getTime()==b.getTime()?" ui-state-highlight":"")+(q.getTime()==u.getTime()?" ui-state-active":"")+(B?" ui-priority-secondary":"")+'" href="#">'+q.getDate()+"</a>")+"</td>";
q.setDate(q.getDate()+1);q=this._daylightSavingAdjust(q)}x+=P+"</tr>"}g++;if(g>11){g=0;m++}x+="</tbody></table>"+(l?"</div>"+(i[0]>0&&D==i[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"");M+=x}I+=M}I+=e+(d.browser.msie&&parseInt(d.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':"");a._keyEvent=false;return I},_generateMonthYearHeader:function(a,b,c,e,f,h,i,g){var j=this._get(a,"changeMonth"),l=this._get(a,"changeYear"),u=this._get(a,"showMonthAfterYear"),k='<div class="ui-datepicker-title">',o="";if(h||!j){o+='<span class="ui-datepicker-month">'+i[b]+"</span>"}else{i=e&&e.getFullYear()==c;var m=f&&f.getFullYear()==c;o+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+y+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+a.id+"');\">";for(var n=0;n<12;n++){if((!i||n>=e.getMonth())&&(!m||n<=f.getMonth())){o+='<option value="'+n+'"'+(n==b?' selected="selected"':"")+">"+g[n]+"</option>"}}o+="</select>"}u||(k+=o+(h||!(j&&l)?"&#xa0;":""));a.yearshtml="";if(h||!l){k+='<span class="ui-datepicker-year">'+c+"</span>"}else{g=this._get(a,"yearRange").split(":");var r=(new Date).getFullYear();i=function(s){s=s.match(/c[+-].*/)?c+parseInt(s.substring(1),10):s.match(/[+-].*/)?r+parseInt(s,10):parseInt(s,10);return isNaN(s)?r:s};b=i(g[0]);g=Math.max(b,i(g[1]||""));b=e?Math.max(b,e.getFullYear()):b;g=f?Math.min(g,f.getFullYear()):g;for(a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+y+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+a.id+"');\">";b<=g;b++){a.yearshtml+='<option value="'+b+'"'+(b==c?' selected="selected"':"")+">"+b+"</option>"}a.yearshtml+="</select>";if(d.browser.mozilla){k+='<select class="ui-datepicker-year"><option value="'+c+'" selected="selected">'+c+"</option></select>"}else{k+=a.yearshtml;a.yearshtml=null}}k+=this._get(a,"yearSuffix");if(u){k+=(h||!(j&&l)?"&#xa0;":"")+o}k+="</div>";return k},_adjustInstDate:function(a,b,c){var e=a.drawYear+(c=="Y"?b:0),f=a.drawMonth+(c=="M"?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(e,f))+(c=="D"?b:0);e=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(e,f,b)));a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();if(c=="M"||c=="Y"){this._notifyChange(a)}},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");b=c&&b<c?c:b;return b=a&&b>a?a:b},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");if(b){b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])}},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return a==null?[1,1]:typeof a=="number"?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,e){var f=this._getNumberOfMonths(a);c=this._daylightSavingAdjust(new Date(c,e+(b<0?b:f[0]*f[1]),1));b<0&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!a||b.getTime()<=a.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,e){if(!b){a.currentDay=a.selectedDay;a.currentMonth=a.selectedMonth;a.currentYear=a.selectedYear}b=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(e,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));
return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});d.fn.datepicker=function(a){if(!d.datepicker.initialized){d(document).mousedown(d.datepicker._checkExternalClick).find("body").append(d.datepicker.dpDiv);d.datepicker.initialized=true}var b=Array.prototype.slice.call(arguments,1);if(typeof a=="string"&&(a=="isDisabled"||a=="getDate"||a=="widget")){return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b))}if(a=="option"&&arguments.length==2&&typeof arguments[1]=="string"){return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b))}return this.each(function(){typeof a=="string"?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this].concat(b)):d.datepicker._attachDatepicker(this,a)})};d.datepicker=new K;d.datepicker.initialized=false;d.datepicker.uuid=(new Date).getTime();d.datepicker.version="1.8.9";window["DP_jQuery_"+y]=d})(jQuery);jQuery.effects||function(l,i){function e(j){var f;if(j&&j.constructor==Array&&j.length==3){return j}if(f=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(j)){return[parseInt(f[1],10),parseInt(f[2],10),parseInt(f[3],10)]}if(f=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(j)){return[parseFloat(f[1])*2.55,parseFloat(f[2])*2.55,parseFloat(f[3])*2.55]}if(f=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(j)){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]}if(f=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(j)){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}if(/rgba\(0, 0, 0, 0\)/.exec(j)){return d.transparent}return d[l.trim(j).toLowerCase()]}function x(k,j){var f;do{f=l.curCSS(k,j);if(f!=""&&f!="transparent"||l.nodeName(k,"body")){break}j="backgroundColor"}while(k=k.parentNode);return e(f)}function c(){var n=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,j={},f,m;if(n&&n.length&&n[0]&&n[n[0]]){for(var k=n.length;k--;){f=n[k];if(typeof n[f]=="string"){m=f.replace(/\-(\w)/g,function(p,o){return o.toUpperCase()});j[m]=n[f]}}}else{for(f in n){if(typeof n[f]==="string"){j[f]=n[f]}}}return j}function b(k){var j,f;for(j in k){f=k[j];if(f==null||l.isFunction(f)||j in w||/scrollbar/.test(j)||!/color/i.test(j)&&isNaN(parseFloat(f))){delete k[j]}}return k}function v(m,j){var f={_:0},k;for(k in j){if(m[k]!=j[k]){f[k]=j[k]}}return f}function h(m,j,f,k){if(typeof m=="object"){k=j;f=null;j=m;m=j.effect}if(l.isFunction(j)){k=j;f=null;j={}}if(typeof j=="number"||l.fx.speeds[j]){k=f;f=j;j={}}if(l.isFunction(f)){k=f;f=null}j=j||{};f=f||j.duration;f=l.fx.off?0:typeof f=="number"?f:f in l.fx.speeds?l.fx.speeds[f]:l.fx.speeds._default;k=k||j.complete;return[m,j,f,k]}function g(f){if(!f||typeof f==="number"||l.fx.speeds[f]){return true}if(typeof f==="string"&&!l.effects[f]){return true}return false}l.effects={};l.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(j,f){l.fx.step[f]=function(k){if(!k.colorInit){k.start=x(k.elem,f);k.end=e(k.end);k.colorInit=true}k.elem.style[f]="rgb("+Math.max(Math.min(parseInt(k.pos*(k.end[0]-k.start[0])+k.start[0],10),255),0)+","+Math.max(Math.min(parseInt(k.pos*(k.end[1]-k.start[1])+k.start[1],10),255),0)+","+Math.max(Math.min(parseInt(k.pos*(k.end[2]-k.start[2])+k.start[2],10),255),0)+")"}});var d={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},a=["add","remove","toggle"],w={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};
l.effects.animateClass=function(m,j,f,k){if(l.isFunction(f)){k=f;f=null}return this.queue("fx",function(){var r=l(this),q=r.attr("style")||" ",p=b(c.call(this)),n,o=r.attr("className");l.each(a,function(s,t){m[t]&&r[t+"Class"](m[t])});n=b(c.call(this));r.attr("className",o);r.animate(v(p,n),j,f,function(){l.each(a,function(s,t){m[t]&&r[t+"Class"](m[t])});if(typeof r.attr("style")=="object"){r.attr("style").cssText="";r.attr("style").cssText=q}else{r.attr("style",q)}k&&k.apply(this,arguments)});p=l.queue(this);n=p.splice(p.length-1,1)[0];p.splice(1,0,n);l.dequeue(this)})};l.fn.extend({_addClass:l.fn.addClass,addClass:function(m,j,f,k){return j?l.effects.animateClass.apply(this,[{add:m},j,f,k]):this._addClass(m)},_removeClass:l.fn.removeClass,removeClass:function(m,j,f,k){return j?l.effects.animateClass.apply(this,[{remove:m},j,f,k]):this._removeClass(m)},_toggleClass:l.fn.toggleClass,toggleClass:function(n,j,f,m,k){return typeof j=="boolean"||j===i?f?l.effects.animateClass.apply(this,[j?{add:n}:{remove:n},f,m,k]):this._toggleClass(n,j):l.effects.animateClass.apply(this,[{toggle:n},j,f,m])},switchClass:function(n,j,f,m,k){return l.effects.animateClass.apply(this,[{add:j,remove:n},f,m,k])}});l.extend(l.effects,{version:"1.8.9",save:function(k,j){for(var f=0;f<j.length;f++){j[f]!==null&&k.data("ec.storage."+j[f],k[0].style[j[f]])}},restore:function(k,j){for(var f=0;f<j.length;f++){j[f]!==null&&k.css(j[f],k.data("ec.storage."+j[f]))}},setMode:function(j,f){if(f=="toggle"){f=j.is(":hidden")?"show":"hide"}return f},getBaseline:function(k,j){var f;switch(k[0]){case"top":f=0;break;case"middle":f=0.5;break;case"bottom":f=1;break;default:f=k[0]/j.height}switch(k[1]){case"left":k=0;break;case"center":k=0.5;break;case"right":k=1;break;default:k=k[1]/j.width}return{x:k,y:f}},createWrapper:function(k){if(k.parent().is(".ui-effects-wrapper")){return k.parent()}var j={width:k.outerWidth(true),height:k.outerHeight(true),"float":k.css("float")},f=l("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});k.wrap(f);f=k.parent();if(k.css("position")=="static"){f.css({position:"relative"});k.css({position:"relative"})}else{l.extend(j,{position:k.css("position"),zIndex:k.css("z-index")});l.each(["top","left","bottom","right"],function(n,m){j[m]=k.css(m);if(isNaN(parseInt(j[m],10))){j[m]="auto"}});k.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}return f.css(j).show()},removeWrapper:function(f){if(f.parent().is(".ui-effects-wrapper")){return f.parent().replaceWith(f)}return f},setTransition:function(m,j,f,k){k=k||{};l.each(j,function(o,n){unit=m.cssUnit(n);if(unit[0]>0){k[n]=unit[0]*f+unit[1]}});return k}});l.fn.extend({effect:function(m){var j=h.apply(this,arguments),f={options:j[1],duration:j[2],callback:j[3]};j=f.options.mode;var k=l.effects[m];if(l.fx.off||!k){return j?this[j](f.duration,f.callback):this.each(function(){f.callback&&f.callback.call(this)})}return k.call(this,f)},_show:l.fn.show,show:function(j){if(g(j)){return this._show.apply(this,arguments)}else{var f=h.apply(this,arguments);f[1].mode="show";return this.effect.apply(this,f)}},_hide:l.fn.hide,hide:function(j){if(g(j)){return this._hide.apply(this,arguments)}else{var f=h.apply(this,arguments);f[1].mode="hide";return this.effect.apply(this,f)}},__toggle:l.fn.toggle,toggle:function(j){if(g(j)||typeof j==="boolean"||l.isFunction(j)){return this.__toggle.apply(this,arguments)}else{var f=h.apply(this,arguments);f[1].mode="toggle";return this.effect.apply(this,f)}},cssUnit:function(k){var j=this.css(k),f=[];l.each(["em","px","%","pt"],function(n,m){if(j.indexOf(m)>0){f=[parseFloat(j),m]}});return f}});l.easing.jswing=l.easing.swing;l.extend(l.easing,{def:"easeOutQuad",swing:function(n,j,f,m,k){return l.easing[l.easing.def](n,j,f,m,k)},easeInQuad:function(n,j,f,m,k){return m*(j/=k)*j+f},easeOutQuad:function(n,j,f,m,k){return -m*(j/=k)*(j-2)+f},easeInOutQuad:function(n,j,f,m,k){if((j/=k/2)<1){return m/2*j*j+f
}return -m/2*(--j*(j-2)-1)+f},easeInCubic:function(n,j,f,m,k){return m*(j/=k)*j*j+f},easeOutCubic:function(n,j,f,m,k){return m*((j=j/k-1)*j*j+1)+f},easeInOutCubic:function(n,j,f,m,k){if((j/=k/2)<1){return m/2*j*j*j+f}return m/2*((j-=2)*j*j+2)+f},easeInQuart:function(n,j,f,m,k){return m*(j/=k)*j*j*j+f},easeOutQuart:function(n,j,f,m,k){return -m*((j=j/k-1)*j*j*j-1)+f},easeInOutQuart:function(n,j,f,m,k){if((j/=k/2)<1){return m/2*j*j*j*j+f}return -m/2*((j-=2)*j*j*j-2)+f},easeInQuint:function(n,j,f,m,k){return m*(j/=k)*j*j*j*j+f},easeOutQuint:function(n,j,f,m,k){return m*((j=j/k-1)*j*j*j*j+1)+f},easeInOutQuint:function(n,j,f,m,k){if((j/=k/2)<1){return m/2*j*j*j*j*j+f}return m/2*((j-=2)*j*j*j*j+2)+f},easeInSine:function(n,j,f,m,k){return -m*Math.cos(j/k*(Math.PI/2))+m+f},easeOutSine:function(n,j,f,m,k){return m*Math.sin(j/k*(Math.PI/2))+f},easeInOutSine:function(n,j,f,m,k){return -m/2*(Math.cos(Math.PI*j/k)-1)+f},easeInExpo:function(n,j,f,m,k){return j==0?f:m*Math.pow(2,10*(j/k-1))+f},easeOutExpo:function(n,j,f,m,k){return j==k?f+m:m*(-Math.pow(2,-10*j/k)+1)+f},easeInOutExpo:function(n,j,f,m,k){if(j==0){return f}if(j==k){return f+m}if((j/=k/2)<1){return m/2*Math.pow(2,10*(j-1))+f}return m/2*(-Math.pow(2,-10*--j)+2)+f},easeInCirc:function(n,j,f,m,k){return -m*(Math.sqrt(1-(j/=k)*j)-1)+f},easeOutCirc:function(n,j,f,m,k){return m*Math.sqrt(1-(j=j/k-1)*j)+f},easeInOutCirc:function(n,j,f,m,k){if((j/=k/2)<1){return -m/2*(Math.sqrt(1-j*j)-1)+f}return m/2*(Math.sqrt(1-(j-=2)*j)+1)+f},easeInElastic:function(p,j,f,o,n){p=1.70158;var m=0,k=o;if(j==0){return f}if((j/=n)==1){return f+o}m||(m=n*0.3);if(k<Math.abs(o)){k=o;p=m/4}else{p=m/(2*Math.PI)*Math.asin(o/k)}return -(k*Math.pow(2,10*(j-=1))*Math.sin((j*n-p)*2*Math.PI/m))+f},easeOutElastic:function(p,j,f,o,n){p=1.70158;var m=0,k=o;if(j==0){return f}if((j/=n)==1){return f+o}m||(m=n*0.3);if(k<Math.abs(o)){k=o;p=m/4}else{p=m/(2*Math.PI)*Math.asin(o/k)}return k*Math.pow(2,-10*j)*Math.sin((j*n-p)*2*Math.PI/m)+o+f},easeInOutElastic:function(p,j,f,o,n){p=1.70158;var m=0,k=o;if(j==0){return f}if((j/=n/2)==2){return f+o}m||(m=n*0.3*1.5);if(k<Math.abs(o)){k=o;p=m/4}else{p=m/(2*Math.PI)*Math.asin(o/k)}if(j<1){return -0.5*k*Math.pow(2,10*(j-=1))*Math.sin((j*n-p)*2*Math.PI/m)+f}return k*Math.pow(2,-10*(j-=1))*Math.sin((j*n-p)*2*Math.PI/m)*0.5+o+f},easeInBack:function(o,j,f,n,m,k){if(k==i){k=1.70158}return n*(j/=m)*j*((k+1)*j-k)+f},easeOutBack:function(o,j,f,n,m,k){if(k==i){k=1.70158}return n*((j=j/m-1)*j*((k+1)*j+k)+1)+f},easeInOutBack:function(o,j,f,n,m,k){if(k==i){k=1.70158}if((j/=m/2)<1){return n/2*j*j*(((k*=1.525)+1)*j-k)+f}return n/2*((j-=2)*j*(((k*=1.525)+1)*j+k)+2)+f},easeInBounce:function(n,j,f,m,k){return m-l.easing.easeOutBounce(n,k-j,0,m,k)+f},easeOutBounce:function(n,j,f,m,k){return(j/=k)<1/2.75?m*7.5625*j*j+f:j<2/2.75?m*(7.5625*(j-=1.5/2.75)*j+0.75)+f:j<2.5/2.75?m*(7.5625*(j-=2.25/2.75)*j+0.9375)+f:m*(7.5625*(j-=2.625/2.75)*j+0.984375)+f},easeInOutBounce:function(n,j,f,m,k){if(j<k/2){return l.easing.easeInBounce(n,j*2,0,m,k)*0.5+f}return l.easing.easeOutBounce(n,j*2-k,0,m,k)*0.5+m*0.5+f}})}(jQuery);(function(a){a.effects.blind=function(b){return this.queue(function(){var c=a(this),l=["position","top","bottom","left","right"],m=a.effects.setMode(c,b.options.mode||"hide"),o=b.options.direction||"vertical";a.effects.save(c,l);c.show();var n=a.effects.createWrapper(c).css({overflow:"hidden"}),k=o=="vertical"?"height":"width";o=o=="vertical"?n.height():n.width();m=="show"&&n.css(k,0);var j={};j[k]=m=="show"?o:0;n.animate(j,b.duration,b.options.easing,function(){m=="hide"&&c.hide();a.effects.restore(c,l);a.effects.removeWrapper(c);b.callback&&b.callback.apply(c[0],arguments);c.dequeue()})})}})(jQuery);(function(a){a.effects.bounce=function(c){return this.queue(function(){var v=a(this),e=["position","top","bottom","left","right"],q=a.effects.setMode(v,c.options.mode||"effect"),t=c.options.direction||"up",u=c.options.distance||20,b=c.options.times||5,p=c.duration||250;/show|hide/.test(q)&&e.push("opacity");
a.effects.save(v,e);v.show();a.effects.createWrapper(v);var s=t=="up"||t=="down"?"top":"left";t=t=="up"||t=="left"?"pos":"neg";u=c.options.distance||(s=="top"?v.outerHeight({margin:true})/3:v.outerWidth({margin:true})/3);if(q=="show"){v.css("opacity",0).css(s,t=="pos"?-u:u)}if(q=="hide"){u/=b*2}q!="hide"&&b--;if(q=="show"){var r={opacity:1};r[s]=(t=="pos"?"+=":"-=")+u;v.animate(r,p/2,c.options.easing);u/=2;b--}for(r=0;r<b;r++){var o={},n={};o[s]=(t=="pos"?"-=":"+=")+u;n[s]=(t=="pos"?"+=":"-=")+u;v.animate(o,p/2,c.options.easing).animate(n,p/2,c.options.easing);u=q=="hide"?u*2:u/2}if(q=="hide"){r={opacity:0};r[s]=(t=="pos"?"-=":"+=")+u;v.animate(r,p/2,c.options.easing,function(){v.hide();a.effects.restore(v,e);a.effects.removeWrapper(v);c.callback&&c.callback.apply(this,arguments)})}else{o={};n={};o[s]=(t=="pos"?"-=":"+=")+u;n[s]=(t=="pos"?"+=":"-=")+u;v.animate(o,p/2,c.options.easing).animate(n,p/2,c.options.easing,function(){a.effects.restore(v,e);a.effects.removeWrapper(v);c.callback&&c.callback.apply(this,arguments)})}v.queue("fx",function(){v.dequeue()});v.dequeue()})}})(jQuery);(function(a){a.effects.clip=function(b){return this.queue(function(){var e=a(this),j=["position","top","bottom","left","right","height","width"],m=a.effects.setMode(e,b.options.mode||"hide"),o=b.options.direction||"vertical";a.effects.save(e,j);e.show();var n=a.effects.createWrapper(e).css({overflow:"hidden"});n=e[0].tagName=="IMG"?n:e;var l={size:o=="vertical"?"height":"width",position:o=="vertical"?"top":"left"};o=o=="vertical"?n.height():n.width();if(m=="show"){n.css(l.size,0);n.css(l.position,o/2)}var k={};k[l.size]=m=="show"?o:0;k[l.position]=m=="show"?0:o/2;n.animate(k,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){m=="hide"&&e.hide();a.effects.restore(e,j);a.effects.removeWrapper(e);b.callback&&b.callback.apply(e[0],arguments);e.dequeue()}})})}})(jQuery);(function(a){a.effects.drop=function(b){return this.queue(function(){var d=a(this),k=["position","top","bottom","left","right","opacity"],n=a.effects.setMode(d,b.options.mode||"hide"),c=b.options.direction||"left";a.effects.save(d,k);d.show();a.effects.createWrapper(d);var m=c=="up"||c=="down"?"top":"left";c=c=="up"||c=="left"?"pos":"neg";var l=b.options.distance||(m=="top"?d.outerHeight({margin:true})/2:d.outerWidth({margin:true})/2);if(n=="show"){d.css("opacity",0).css(m,c=="pos"?-l:l)}var j={opacity:n=="show"?1:0};j[m]=(n=="show"?c=="pos"?"+=":"-=":c=="pos"?"-=":"+=")+l;d.animate(j,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){n=="hide"&&d.hide();a.effects.restore(d,k);a.effects.removeWrapper(d);b.callback&&b.callback.apply(this,arguments);d.dequeue()}})})}})(jQuery);(function(a){a.effects.fade=function(b){return this.queue(function(){var f=a(this),e=a.effects.setMode(f,b.options.mode||"hide");f.animate({opacity:e},{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){b.callback&&b.callback.apply(this,arguments);f.dequeue()}})})}})(jQuery);(function(a){a.effects.highlight=function(b){return this.queue(function(){var c=a(this),h=["backgroundImage","backgroundColor","opacity"],i=a.effects.setMode(c,b.options.mode||"show"),g={backgroundColor:c.css("backgroundColor")};if(i=="hide"){g.opacity=0}a.effects.save(c,h);c.show().css({backgroundImage:"none",backgroundColor:b.options.color||"#ffff99"}).animate(g,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){i=="hide"&&c.hide();a.effects.restore(c,h);i=="show"&&!a.support.opacity&&this.style.removeAttribute("filter");b.callback&&b.callback.apply(this,arguments);c.dequeue()}})})}})(jQuery);(function(a){a.effects.pulsate=function(b){return this.queue(function(){var d=a(this),e=a.effects.setMode(d,b.options.mode||"show");times=(b.options.times||5)*2-1;duration=b.duration?b.duration/2:a.fx.speeds._default/2;isVisible=d.is(":visible");animateTo=0;if(!isVisible){d.css("opacity",0).show();animateTo=1}if(e=="hide"&&isVisible||e=="show"&&!isVisible){times--
}for(e=0;e<times;e++){d.animate({opacity:animateTo},duration,b.options.easing);animateTo=(animateTo+1)%2}d.animate({opacity:animateTo},duration,b.options.easing,function(){animateTo==0&&d.hide();b.callback&&b.callback.apply(this,arguments)});d.queue("fx",function(){d.dequeue()}).dequeue()})}})(jQuery);(function(a){a.effects.slide=function(b){return this.queue(function(){var d=a(this),k=["position","top","bottom","left","right"],m=a.effects.setMode(d,b.options.mode||"show"),c=b.options.direction||"left";a.effects.save(d,k);d.show();a.effects.createWrapper(d).css({overflow:"hidden"});var l=c=="up"||c=="down"?"top":"left";c=c=="up"||c=="left"?"pos":"neg";var n=b.options.distance||(l=="top"?d.outerHeight({margin:true}):d.outerWidth({margin:true}));if(m=="show"){d.css(l,c=="pos"?isNaN(n)?"-"+n:-n:n)}var j={};j[l]=(m=="show"?c=="pos"?"+=":"-=":c=="pos"?"-=":"+=")+n;d.animate(j,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){m=="hide"&&d.hide();a.effects.restore(d,k);a.effects.removeWrapper(d);b.callback&&b.callback.apply(this,arguments);d.dequeue()}})})}})(jQuery);/*!
 * jQuery Templates Plugin 1.0.0pre
 * http://github.com/jquery/jquery-tmpl
 * Requires jQuery 1.4.2
 *
 * Copyright Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
(function(i,f){var t=i.fn.domManip,h="_tmplitem",u=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,p={},e={},y,x={key:0,data:{}},w=0,q=0,g=[];function k(B,A,D,E){var C={data:E||(E===0||E===false)?E:(A?A.data:{}),_wrap:A?A._wrap:null,tmpl:null,parent:A||null,nodes:[],calls:c,nest:b,wrap:n,html:r,update:z};if(B){i.extend(C,B,{nodes:[],parent:A})}if(D){C.tmpl=D;C._ctnt=C._ctnt||C.tmpl(i,C);C.key=++w;(g.length?e:p)[w]=C}return C}i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(A,B){i.fn[A]=function(C){var F=[],I=i(C),E,G,D,J,H=this.length===1&&this[0].parentNode;y=p||{};if(H&&H.nodeType===11&&H.childNodes.length===1&&I.length===1){I[B](this[0]);F=this}else{for(G=0,D=I.length;G<D;G++){q=G;E=(G>0?this.clone(true):this).get();i(I[G])[B](E);F=F.concat(E)}q=0;F=this.pushStack(F,A,I.selector)}J=y;y=null;i.tmpl.complete(J);return F}});i.fn.extend({tmpl:function(C,B,A){return i.tmpl(this[0],C,B,A)},tmplItem:function(){return i.tmplItem(this[0])},template:function(A){return i.template(A,this[0])},domManip:function(E,H,G,I){if(E[0]&&i.isArray(E[0])){var B=i.makeArray(arguments),A=E[0],F=A.length,C=0,D;while(C<F&&!(D=i.data(A[C++],"tmplItem"))){}if(D&&q){B[2]=function(J){i.tmpl.afterManip(this,J,G)}}t.apply(this,B)}else{t.apply(this,arguments)}q=0;if(!y){i.tmpl.complete(p)}return this}});i.extend({tmpl:function(C,F,E,B){var D,A=!B;if(A){B=x;C=i.template[C]||i.template(null,C);e={}}else{if(!C){C=B.tmpl;p[B.key]=B;B.nodes=[];if(B.wrapped){s(B,B.wrapped)}return i(m(B,null,B.tmpl(i,B)))}}if(!C){return[]}if(typeof F==="function"){F=F.call(B||{})}if(E&&E.wrapped){s(E,E.wrapped)}D=i.isArray(F)?i.map(F,function(G){return G?k(E,B,C,G):null}):[k(E,B,C,F)];return A?i(m(B,null,D)):D},tmplItem:function(B){var A;if(B instanceof i){B=B[0]}while(B&&B.nodeType===1&&!(A=i.data(B,"tmplItem"))&&(B=B.parentNode)){}return A||x},template:function(B,A){if(A){if(typeof A==="string"){A=l(A)}else{if(A instanceof i){A=A[0]||{}}}if(A.nodeType){A=i.data(A,"tmpl")||i.data(A,"tmpl",l(A.innerHTML))}return typeof B==="string"?(i.template[B]=A):A}return B?(typeof B!=="string"?i.template(null,B):(i.template[B]||i.template(null,u.test(B)?B:i(B)))):null},encode:function(A){return(""+A).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});i.extend(i.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(A){p={}},afterManip:function v(C,A,D){var B=A.nodeType===11?i.makeArray(A.childNodes):A.nodeType===1?[A]:[];D.call(C,A);o(B);q++}});function m(A,E,C){var D,B=C?i.map(C,function(F){return(typeof F==="string")?(A.key?F.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+h+'="'+A.key+'" $2'):F):m(F,A,F._ctnt)}):A;if(E){return B}B=B.join("");B.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(G,H,F,I){D=i(F).get();o(D);if(H){D=a(H).concat(D)}if(I){D=D.concat(a(I))}});return D?D:a(B)}function a(B){var A=document.createElement("div");A.innerHTML=B;return i.makeArray(A.childNodes)}function l(A){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+i.trim(A).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(I,C,G,D,E,J,F){var L=i.tmpl.tag[G],B,H,K;
if(!L){throw"Unknown template tag: "+G}B=L._default||[];if(J&&!/\w$/.test(E)){E+=J;J=""}if(E){E=j(E);F=F?(","+j(F)+")"):(J?")":"");H=J?(E.indexOf(".")>-1?E+j(J):("("+E+").call($item"+F)):E;K=J?H:"(typeof("+E+")==='function'?("+E+").call($item):("+E+"))"}else{K=H=B.$1||"null"}D=j(D);return"');"+L[C?"close":"open"].split("$notnull_1").join(E?"typeof("+E+")!=='undefined' && ("+E+")!=null":"true").split("$1a").join(K).split("$1").join(H).split("$2").join(D||B.$2||"")+"__.push('"})+"');}return __;")}function s(B,A){B._wrap=m(B,true,i.isArray(A)?A:[u.test(A)?A:i(A).html()]).join("")}function j(A){return A?A.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function d(A){var B=document.createElement("div");B.appendChild(A.cloneNode(true));return B.innerHTML}function o(G){var I="_"+q,B,A,E={},F,D,C;for(F=0,D=G.length;F<D;F++){if((B=G[F]).nodeType!==1){continue}A=B.getElementsByTagName("*");for(C=A.length-1;C>=0;C--){H(A[C])}H(B)}function H(O){var L,N=O,M,J,K;if((K=O.getAttribute(h))){while(N.parentNode&&(N=N.parentNode).nodeType===1&&!(L=N.getAttribute(h))){}if(L!==K){N=N.parentNode?(N.nodeType===11?0:(N.getAttribute(h)||0)):0;if(!(J=p[K])){J=e[K];J=k(J,p[N]||e[N]);J.key=++w;p[w]=J}if(q){P(K)}}O.removeAttribute(h)}else{if(q&&(J=i.data(O,"tmplItem"))){P(J.key);p[J.key]=J;N=i.data(O.parentNode,"tmplItem");N=N?N.key:0}}if(J){M=J;while(M&&M.key!=N){M.nodes.push(O);M=M.parent}delete J._ctnt;delete J._wrap;i.data(O,"tmplItem",J)}function P(Q){Q=Q+I;J=E[Q]=(E[Q]||k(J,p[J.parent.key+I]||J.parent))}}}function c(C,A,D,B){if(!C){return g.pop()}g.push({_:C,tmpl:A,item:this,data:D,options:B})}function b(A,C,B){return i.tmpl(i.template(A),C,B,this)}function n(C,A){var B=C.options||{};B.wrapped=A;return i.tmpl(i.template(C.tmpl),C.data,B,C.item)}function r(B,C){var A=this._wrap;return i.map(i(i.isArray(A)?A.join(""):A).filter(B||"*"),function(D){return C?D.innerText||D.textContent:D.outerHTML||d(D)})}function z(){var A=this.nodes;i.tmpl(null,null,null,this).insertBefore(A[0]);i(A).remove()}})(jQuery);(function(a){a.fn.lightBox=function(p){p=jQuery.extend({overlayBgColor:"#000",overlayOpacity:0.8,fixedNavigation:false,imageLoading:"/assets/images/lightbox/lightbox-ico-loading.gif",imageBtnPrev:"/assets/images/lightbox/lightbox-btn-prev.gif",imageBtnNext:"/assets/images/lightbox/lightbox-btn-next.gif",imageBtnClose:"/assets/images/lightbox/BI-close-button.png",imageBlank:"/assets/images/lightbox/lightbox-blank.gif",containerBorderSize:10,containerResizeSpeed:400,txtImage:"Image",txtOf:"of",keyToClose:"c",keyToPrev:"p",keyToNext:"n",imageArray:[],beforeOpen:function(){},onClose:function(){},overrideTitle:function(){},activeImage:0},p);var i=this;function r(){o(this,i);return false}function o(v,u){a("embed, object, select, iframe.ad").css({visibility:"hidden"});c();p.imageArray.length=0;p.activeImage=0;if(u.length==1){p.imageArray.push(new Array(v.getAttribute("href"),v.getAttribute("title")))}else{for(var t=0;t<u.length;t++){p.imageArray.push(new Array(u[t].getAttribute("href"),u[t].getAttribute("title")))}}while(p.imageArray[p.activeImage][0]!=v.getAttribute("href")){p.activeImage++}l()}function c(){a("body").append('<div id="jquery-overlay"></div><div id="jquery-lightbox"><div id="lightbox-container-image-box"><div id="lightbox-secNav"><a href="#" id="lightbox-secNav-btnClose"><img src="'+p.imageBtnClose+'"></a></div><div id="lightbox-container-image"><img id="lightbox-image"><div style="" id="lightbox-nav"><a href="#" id="lightbox-nav-btnPrev"></a><a href="#" id="lightbox-nav-btnNext"></a></div><div id="lightbox-loading"><a href="#" id="lightbox-loading-link"><img src="'+p.imageLoading+'"></a></div></div></div><div id="lightbox-container-image-data-box"><div id="lightbox-container-image-data"><div id="lightbox-image-details"><span id="lightbox-image-details-caption"></span><span id="lightbox-image-details-currentNumber"></span></div></div></div></div>');var t=f();a("#jquery-overlay").css({backgroundColor:p.overlayBgColor,opacity:p.overlayOpacity,width:t[0],height:t[1]}).fadeIn();var u=h();a("#jquery-lightbox").css({top:u[1]+(t[3]/10),left:u[0]}).show();a("#jquery-overlay,#jquery-lightbox").click(function(){b()});a("#lightbox-loading-link,#lightbox-secNav-btnClose").click(function(){b();return false});a(window).resize(function(){var v=f();a("#jquery-overlay").css({width:v[0],height:v[1]});var w=h();a("#jquery-lightbox").css({top:w[1]+(v[3]/10),left:w[0]})})}function l(){p.beforeOpen();a("#lightbox-loading").show();if(p.fixedNavigation){a("#lightbox-image,#lightbox-container-image-data-box,#lightbox-image-details-currentNumber").hide()}else{a("#lightbox-image,#lightbox-nav,#lightbox-nav-btnPrev,#lightbox-nav-btnNext,#lightbox-container-image-data-box,#lightbox-image-details-currentNumber").hide()}var t=new Image();t.onload=function(){a("#lightbox-image").attr("src",p.imageArray[p.activeImage][0]);j(t.width,t.height);t.onload=function(){}};t.src=p.imageArray[p.activeImage][0]}function j(w,z){var t=a("#lightbox-container-image-box").width();var y=a("#lightbox-container-image-box").height();var x=(w+(p.containerBorderSize*2));var v=(z+(p.containerBorderSize*2));var u=t-x;var A=y-v;a("#lightbox-container-image-box").animate({width:x,height:v},p.containerResizeSpeed,function(){g()});if((u==0)&&(A==0)){if(a.browser.msie){n(250)}else{n(100)}}a("#lightbox-container-image-data-box").css({width:w});a("#lightbox-nav-btnPrev,#lightbox-nav-btnNext").css({height:z+(p.containerBorderSize*2)})}function g(){a("#lightbox-loading").hide();a("#lightbox-image").fadeIn(function(){k();s()});q()}function k(){var t=p.overrideTitle()||p.imageArray[p.activeImage][1];a("#lightbox-container-image-data-box").slideDown("fast");a("#lightbox-image-details-caption").hide();if(t){a("#lightbox-image-details-caption").html(t).show()}if(p.imageArray.length>1){a("#lightbox-image-details-currentNumber").html(p.txtImage+" "+(p.activeImage+1)+" "+p.txtOf+" "+p.imageArray.length).show()}}function s(){a("#lightbox-nav").show();a("#lightbox-nav-btnPrev,#lightbox-nav-btnNext").css({background:"transparent url("+p.imageBlank+") no-repeat"});
if(p.activeImage!=0){if(p.fixedNavigation){a("#lightbox-nav-btnPrev").css({background:"url("+p.imageBtnPrev+") left 15% no-repeat"}).unbind().bind("click",function(){p.activeImage=p.activeImage-1;l();return false})}else{a("#lightbox-nav-btnPrev").unbind().hover(function(){a(this).css({background:"url("+p.imageBtnPrev+") left 15% no-repeat"})},function(){a(this).css({background:"transparent url("+p.imageBlank+") no-repeat"})}).show().bind("click",function(){p.activeImage=p.activeImage-1;l();return false})}}if(p.activeImage!=(p.imageArray.length-1)){if(p.fixedNavigation){a("#lightbox-nav-btnNext").css({background:"url("+p.imageBtnNext+") right 15% no-repeat"}).unbind().bind("click",function(){p.activeImage=p.activeImage+1;l();return false})}else{a("#lightbox-nav-btnNext").unbind().hover(function(){a(this).css({background:"url("+p.imageBtnNext+") right 15% no-repeat"})},function(){a(this).css({background:"transparent url("+p.imageBlank+") no-repeat"})}).show().bind("click",function(){p.activeImage=p.activeImage+1;l();return false})}}m()}function m(){a(document).keydown(function(t){d(t)})}function e(){a(document).unbind()}function d(t){if(t==null){keycode=event.keyCode;escapeKey=27}else{keycode=t.keyCode;escapeKey=t.DOM_VK_ESCAPE}key=String.fromCharCode(keycode).toLowerCase();if((key==p.keyToClose)||(key=="x")||(keycode==escapeKey)){b()}if((key==p.keyToPrev)||(keycode==37)){if(p.activeImage!=0){p.activeImage=p.activeImage-1;l();e()}}if((key==p.keyToNext)||(keycode==39)){if(p.activeImage!=(p.imageArray.length-1)){p.activeImage=p.activeImage+1;l();e()}}}function q(){if((p.imageArray.length-1)>p.activeImage){objNext=new Image();objNext.src=p.imageArray[p.activeImage+1][0]}if(p.activeImage>0){objPrev=new Image();objPrev.src=p.imageArray[p.activeImage-1][0]}}function b(){a("#jquery-lightbox").remove();a("#jquery-overlay").fadeOut(function(){a("#jquery-overlay").remove()});a("embed, object, select, iframe.ad").css({visibility:"visible"});p.onClose()}function f(){var v,t;if(window.innerHeight&&window.scrollMaxY){v=window.innerWidth+window.scrollMaxX;t=window.innerHeight+window.scrollMaxY}else{if(document.body.scrollHeight>document.body.offsetHeight){v=document.body.scrollWidth;t=document.body.scrollHeight}else{v=document.body.offsetWidth;t=document.body.offsetHeight}}var u,w;if(self.innerHeight){if(document.documentElement.clientWidth){u=document.documentElement.clientWidth}else{u=self.innerWidth}w=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){u=document.documentElement.clientWidth;w=document.documentElement.clientHeight}else{if(document.body){u=document.body.clientWidth;w=document.body.clientHeight}}}if(t<w){pageHeight=w}else{pageHeight=t}if(v<u){pageWidth=v}else{pageWidth=u}arrayPageSize=new Array(pageWidth,pageHeight,u,w);return arrayPageSize}function h(){var u,t;if(self.pageYOffset){t=self.pageYOffset;u=self.pageXOffset}else{if(document.documentElement&&document.documentElement.scrollTop){t=document.documentElement.scrollTop;u=document.documentElement.scrollLeft}else{if(document.body){t=document.body.scrollTop;u=document.body.scrollLeft}}}arrayPageScroll=new Array(u,t);return arrayPageScroll}function n(v){var u=new Date();t=null;do{var t=new Date()}while(t-u<v)}return this.unbind("click").click(r)}})(jQuery);(function(a){a.extend({onAvailable:function(c,f){if(typeof f!=="function"){throw new TypeError()}var e=a.onAvailable;if(!(c instanceof Array)){c=[c]}for(var b=0,d=c.length;b<d;++b){e.listeners.push({id:c[b],callback:f,obj:arguments[2],override:arguments[3],checkContent:!!arguments[4]})}if(!e.interval){e.interval=window.setInterval(e.checkAvailable,e.POLL_INTERVAL)}return this},onContentReady:function(c,e,d,b){a.onAvailable(c,e,d,b,true)}});a.extend(a.onAvailable,{POLL_RETRIES:2000,POLL_INTERVAL:20,interval:null,listeners:[],executeCallback:function(c,d){var b=c;if(d.override){if(d.override===true){b=d.obj}else{b=d.override}}d.callback.call(b,d.obj)},checkAvailable:function(){var f=a.onAvailable;var d=f.listeners;for(var b=0;b<d.length;++b){var e=d[b];var c=document.getElementById(e.id);if(c&&(!e.checkContent||(e.checkContent&&(c.nextSibling||c.parentNode.nextSibling||a.isReady)))){f.executeCallback(c,e);d.splice(b,1);--b}if(d.length===0||--f.POLL_RETRIES===0){f.interval=window.clearInterval(f.interval)}}}})})(jQuery);(function(d){var f={put:function(h,g){(g||window).location.hash=this.encoder(h)},get:function(i){var h=((i||window).location.hash).replace(/^#/,"");try{return d.browser.mozilla?h:decodeURIComponent(h)}catch(g){return h}},encoder:encodeURIComponent};var c={id:"__jQuery_history",init:function(){var g='<iframe id="'+this.id+'" style="display:none" src="javascript:false;" />';d("body").prepend(g);return this},_document:function(){return d("#"+this.id)[0].contentWindow.document},put:function(h){var g=this._document();g.open();g.close();f.put(h,g)},get:function(){return f.get(this._document())}};function e(h){h=d.extend({unescape:false},h||{});f.encoder=i(h.unescape);function i(j){if(j===true){return function(k){return k}}if(typeof j=="string"&&(j=g(j.split("")))||typeof j=="function"){return function(k){return j(encodeURIComponent(k))}}return encodeURIComponent}function g(k){var j=new RegExp(d.map(k,encodeURIComponent).join("|"),"ig");return function(l){return l.replace(j,decodeURIComponent)}}}var b={};b.base={callback:undefined,type:undefined,check:function(){},load:function(g){},init:function(h,g){e(g);a.callback=h;a._options=g;a._init()},_init:function(){},_options:{}};b.timer={_appState:undefined,_init:function(){var g=f.get();a._appState=g;a.callback(g);setInterval(a.check,100)},check:function(){var g=f.get();if(g!=a._appState){a._appState=g;a.callback(g)}},load:function(g){if(g!=a._appState){f.put(g);a._appState=g;a.callback(g)}}};b.iframeTimer={_appState:undefined,_init:function(){var g=f.get();a._appState=g;c.init().put(g);a.callback(g);setInterval(a.check,100)},check:function(){var h=c.get(),g=f.get();if(g!=h){if(g==a._appState){a._appState=h;f.put(h);a.callback(h)}else{a._appState=g;c.put(g);a.callback(g)}}},load:function(g){if(g!=a._appState){f.put(g);c.put(g);a._appState=g;a.callback(g)}}};b.hashchangeEvent={_init:function(){a.callback(f.get());d(window).bind("hashchange",a.check)},check:function(){a.callback(f.get())},load:function(g){f.put(g)}};var a=d.extend({},b.base);if(d.browser.msie&&(d.browser.version<8||document.documentMode<8)){a.type="iframeTimer"}else{if("onhashchange" in window){a.type="hashchangeEvent"}else{a.type="timer"}}d.extend(a,b[a.type]);d.history=a})(jQuery);(function(g){var c={every:1,eventType:"click",onTrigger:function(){},counterId:""};var f={};var l={};var m={};var h;var e=function(i){return".eventCounter."+(i?i:"")};var n=function(o,i){l[i.counterId]++;if(l[i.counterId]%i.every===0){i.onTrigger(o,f[i.counterId])}};var a=function(i,o){n(i,m[o])};var j=function(p,i){var q=i.counterId;var o=e(i.counterId);p.bind(i.eventType+o,function(r){n(r,i)});f[q]=g(f[q]).add(p)};var d=function(p,q){var i=m[q];var o=e(q);p.unbind(i.eventType+o);f[q]=jQuery.grep(f[q],function(r){return(!(g.inArray(r,p)!==-1))})};var k=function(i){if(!f.hasOwnProperty(i)){g.error("No eventCounter exists with id "+i)}};var b={init:function(i){if(i){g.extend(c,i)}if(!i.counterId){h++;i.counterId="counter"+h}f[i.counterId]=g();l[i.counterId]=0;m[i.counterId]=i;j(this,i);return this},destroy:function(o){if(o){k(o);d(this,o)}else{for(var i in f){if(f.hasOwnProperty(i)){d(this,i)}}}return this},add:function(i){k(i);j(g(this),m[i]);return this},increment:function(i,o){k(o);a(i,o);return this}};g.fn.eventCounter=function(i){if(b[i]){return b[i].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof i==="object"||!i){return b.init.apply(this,arguments)}else{g.error("Method "+i+" does not exist on jQuery.eventCounter")}}}}(jQuery));/*!
 * jQuery hashchange event - v1.3 - 7/21/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,e,b){var c="hashchange",h=document,f,g=$.event.special,i=h.documentMode,d="on"+c in e&&(i===b||i>7);function a(j){j=j||location.href;return"#"+j.replace(/^[^#]*#?(.*)$/,"$1")}$.fn[c]=function(j){return j?this.bind(c,j):this.trigger(c)};$.fn[c].delay=50;g[c]=$.extend(g[c],{setup:function(){if(d){return false}$(f.start)},teardown:function(){if(d){return false}$(f.stop)}});f=(function(){var j={},p,m=a(),k=function(q){return q},l=k,o=k;j.start=function(){p||n()};j.stop=function(){p&&clearTimeout(p);p=b};function n(){var r=a(),q=o(m);if(r!==m){l(m=r,q);$(e).trigger(c)}else{if(q!==m){location.href=location.href.replace(/#.*/,"")+q}}p=setTimeout(n,$.fn[c].delay)}$.browser.msie&&!d&&(function(){var q,r;j.start=function(){if(!q){r=$.fn[c].src;r=r&&r+a();q=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){r||l(a());n()}).attr("src",r||"javascript:0").insertAfter("body")[0].contentWindow;h.onpropertychange=function(){try{if(event.propertyName==="title"){q.document.title=h.title}}catch(s){}}}};j.stop=k;o=function(){return a(q.location.href)};l=function(v,s){var u=q.document,t=$.fn[c].domain;if(v!==s){u.title=h.title;u.open();t&&u.write('<script>document.domain="'+t+'"<\/script>');u.close();q.location.hash=v}}})();return j})()})(jQuery,this);(function(a){a.fn.extend({defaultValue:function(b){if("placeholder" in document.createElement("input")){return !1}return this.each(function(){if(a(this).data("defaultValued")){return !1}var c=a(this),e=c.attr("placeholder"),j={input:c};c.data("defaultValued",!0);var k=function(){var d;if(c.context.nodeName.toLowerCase()=="input"){d=a("<input />").attr({type:"text"})}else{if(c.context.nodeName.toLowerCase()=="textarea"){d=a("<textarea />")}else{throw"DefaultValue only works with input and textareas"}}d.attr({value:e,"class":c.attr("class")+" empty",size:c.attr("size"),style:c.attr("style"),tabindex:c.attr("tabindex"),rows:c.attr("rows"),cols:c.attr("cols"),name:"defaultvalue-clone-"+((1+Math.random())*65536|0).toString(16).substring(1)});d.focus(function(){d.hide();c.show();setTimeout(function(){c.focus()},1)});return d}();j.clone=k;k.insertAfter(c);var i=function(){c.val().length<=0?(k.show(),c.hide()):(k.hide(),c.show().trigger("click"))};c.bind("blur",i);i();b&&b(j)})}})})(jQuery);(function(a){a.fn.hoverIntent=function(k,j){var l={sensitivity:7,interval:100,timeout:0};l=a.extend(l,j?{over:k,out:j}:k);var n,m,h,d;var e=function(f){n=f.pageX;m=f.pageY};var c=function(g,f){f.hoverIntent_t=clearTimeout(f.hoverIntent_t);if((Math.abs(h-n)+Math.abs(d-m))<l.sensitivity){a(f).unbind("mousemove",e);f.hoverIntent_s=1;return l.over.apply(f,[g])}else{h=n;d=m;f.hoverIntent_t=setTimeout(function(){c(g,f)},l.interval)}};var i=function(g,f){f.hoverIntent_t=clearTimeout(f.hoverIntent_t);f.hoverIntent_s=0;return l.out.apply(f,[g])};var b=function(o){var g=jQuery.extend({},o);var f=this;if(f.hoverIntent_t){f.hoverIntent_t=clearTimeout(f.hoverIntent_t)}if(o.type=="mouseenter"){h=g.pageX;d=g.pageY;a(f).bind("mousemove",e);if(f.hoverIntent_s!=1){f.hoverIntent_t=setTimeout(function(){c(g,f)},l.interval)}}else{a(f).unbind("mousemove",e);if(f.hoverIntent_s==1){f.hoverIntent_t=setTimeout(function(){i(g,f)},l.timeout)}}};return this.bind("mouseenter",b).bind("mouseleave",b)}})(jQuery);(function(a){var c=a.event,b;c.special.smartresize={setup:function(){a(this).bind("resize",c.special.smartresize.handler)},teardown:function(){a(this).unbind("resize",c.special.smartresize.handler)},handler:function(f,e){var h=this,i=arguments;f.type="smartresize";b&&clearTimeout(b);b=setTimeout(function(){jQuery.event.handle.apply(h,i)},e==="execAsap"?0:100)}};a.fn.smartresize=function(d){return d?this.bind("smartresize",d):this.trigger("smartresize",["execAsap"])};a.fn.masonry=function(e,d){var f={getBricks:function(i,g,h){var j=h.itemSelector===undefined;g.$bricks=h.appendedContent===undefined?j?i.children():i.find(h.itemSelector):j?h.appendedContent:h.appendedContent.filter(h.itemSelector)},placeBrick:function(p,r,s,q,n){r=Math.min.apply(Math,s);for(var l=r+p.outerHeight(true),o=s.length,j=o,g=q.colCount+1-o;o--;){if(s[o]==r){j=o}}p.applyStyle({left:q.colW*j+q.posLeft,top:r},a.extend(true,{},n.animationOptions));for(o=0;o<g;o++){q.colY[j+o]=l}},setup:function(i,g,h){f.getBricks(i,h,g);if(h.masoned){h.previousData=i.data("masonry")}h.colW=g.columnWidth===undefined?h.masoned?h.previousData.colW:h.$bricks.outerWidth(true):g.columnWidth;h.colCount=Math.floor(i.width()/h.colW);h.colCount=Math.max(h.colCount,1)},arrange:function(k,g,i){var l;if(!i.masoned||g.appendedContent!==undefined){i.$bricks.css("position","absolute")}if(i.masoned){i.posTop=i.previousData.posTop;i.posLeft=i.previousData.posLeft}else{k.css("position","relative");var j=a(document.createElement("div"));k.prepend(j);i.posTop=Math.round(j.position().top);i.posLeft=Math.round(j.position().left);j.remove()}if(i.masoned&&g.appendedContent!==undefined){i.colY=i.previousData.colY;for(l=i.previousData.colCount;l<i.colCount;l++){i.colY[l]=i.posTop}}else{i.colY=[];for(l=i.colCount;l--;){i.colY.push(i.posTop)}}a.fn.applyStyle=i.masoned&&g.animate?a.fn.animate:a.fn.css;g.singleMode?i.$bricks.each(function(){var h=a(this);f.placeBrick(h,i.colCount,i.colY,i,g)}):i.$bricks.each(function(){var o=a(this),q=Math.ceil(o.outerWidth(true)/i.colW);q=Math.min(q,i.colCount);if(q===1){f.placeBrick(o,i.colCount,i.colY,i,g)}else{var n=i.colCount+1-q,h=[];for(l=0;l<n;l++){var r=i.colY.slice(l,l+q);h[l]=Math.max.apply(Math,r)}f.placeBrick(o,n,h,i,g)}});i.wallH=Math.max.apply(Math,i.colY);k.applyStyle({height:i.wallH-i.posTop},a.extend(true,[],g.animationOptions));i.masoned||setTimeout(function(){k.addClass("masoned")},1);d.call(i.$bricks);k.data("masonry",i)},resize:function(i,g,h){h.masoned=!!i.data("masonry");var j=i.data("masonry").colCount;f.setup(i,g,h);h.colCount!=j&&f.arrange(i,g,h)}};return this.each(function(){var k=a(this),g={};g.masoned=!!k.data("masonry");var i=g.masoned?k.data("masonry").options:{},l=a.extend({},a.fn.masonry.defaults,i,e),j=i.resizeable;g.options=l.saveOptions?l:i;d=d||function(){};f.getBricks(k,g,l);if(!g.$bricks.length){return this}f.setup(k,l,g);f.arrange(k,l,g);!j&&l.resizeable&&a(window).bind("smartresize.masonry",function(){f.resize(k,l,g)});j&&!l.resizeable&&a(window).unbind("smartresize.masonry")})};a.fn.masonry.defaults={singleMode:false,columnWidth:undefined,itemSelector:undefined,appendedContent:undefined,saveOptions:true,resizeable:true,animate:false,animationOptions:{}}})(jQuery);(function(){function d(){}function b(i,h){for(var j=i.length;j--;){if(i[j].listener===h){return j}}return -1}function g(h){return function(){return this[h].apply(this,arguments)}}var a=d.prototype,c=this,f=c.EventEmitter;a.getListeners=function(k){var j,l,h=this._getEvents();if("object"==typeof k){j={};for(l in h){h.hasOwnProperty(l)&&k.test(l)&&(j[l]=h[l])}}else{j=h[k]||(h[k]=[])}return j},a.flattenListeners=function(i){var h,j=[];for(h=0;i.length>h;h+=1){j.push(i[h].listener)}return j},a.getListenersAsObject=function(i){var h,j=this.getListeners(i);return j instanceof Array&&(h={},h[i]=j),h||j},a.addListener=function(k,m){var h,j=this.getListenersAsObject(k),l="object"==typeof m;for(h in j){j.hasOwnProperty(h)&&-1===b(j[h],m)&&j[h].push(l?m:{listener:m,once:!1})}return this},a.on=g("addListener"),a.addOnceListener=function(i,h){return this.addListener(i,{listener:h,once:!0})},a.once=g("addOnceListener"),a.defineEvent=function(h){return this.getListeners(h),this},a.defineEvents=function(i){for(var h=0;i.length>h;h+=1){this.defineEvent(i[h])}return this},a.removeListener=function(k,m){var h,j,l=this.getListenersAsObject(k);for(j in l){l.hasOwnProperty(j)&&(h=b(l[j],m),-1!==h&&l[j].splice(h,1))}return this},a.off=g("removeListener"),a.addListeners=function(i,h){return this.manipulateListeners(!1,i,h)},a.removeListeners=function(i,h){return this.manipulateListeners(!0,i,h)},a.manipulateListeners=function(m,j,q){var h,l,p=m?this.removeListener:this.addListener,k=m?this.removeListeners:this.addListeners;if("object"!=typeof j||j instanceof RegExp){for(h=q.length;h--;){p.call(this,j,q[h])}}else{for(h in j){j.hasOwnProperty(h)&&(l=j[h])&&("function"==typeof l?p.call(this,h,l):k.call(this,h,l))}}return this},a.removeEvent=function(k){var j,l=typeof k,h=this._getEvents();if("string"===l){delete h[k]}else{if("object"===l){for(j in h){h.hasOwnProperty(j)&&k.test(j)&&delete h[j]}}else{delete this._events}}return this},a.removeAllListeners=g("removeEvent"),a.emitEvent=function(m,j){var q,h,l,p,k=this.getListenersAsObject(m);for(l in k){if(k.hasOwnProperty(l)){for(h=k[l].length;h--;){q=k[l][h],q.once===!0&&this.removeListener(m,q.listener),p=q.listener.apply(this,j||[]),p===this._getOnceReturnValue()&&this.removeListener(m,q.listener)}}}return this},a.trigger=g("emitEvent"),a.emit=function(i){var h=Array.prototype.slice.call(arguments,1);return this.emitEvent(i,h)},a.setOnceReturnValue=function(h){return this._onceReturnValue=h,this},a._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},a._getEvents=function(){return this._events||(this._events={})},d.noConflict=function(){return c.EventEmitter=f,d},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return d}):"object"==typeof module&&module.exports?module.exports=d:this.EventEmitter=d}).call(this),function(d){function b(e){var h=d.event;return h.target=h.target||h.srcElement||e,h}var g=document.documentElement,a=function(){};g.addEventListener?a=function(i,h,j){i.addEventListener(h,j,!1)}:g.attachEvent&&(a=function(j,k,h){j[k+h]=h.handleEvent?function(){var e=b(j);h.handleEvent.call(h,e)}:function(){var e=b(j);h.call(j,e)},j.attachEvent("on"+k,j[k+h])});var c=function(){};g.removeEventListener?c=function(i,h,j){i.removeEventListener(h,j,!1)}:g.detachEvent&&(c=function(k,j,l){k.detachEvent("on"+j,k[j+l]);try{delete k[j+l]}catch(h){k[j+l]=void 0}});var f={bind:a,unbind:c};"function"==typeof define&&define.amd?define("eventie/eventie",f):d.eventie=f}(this),function(b,a){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(d,c){return a(b,d,c)}):"object"==typeof exports?module.exports=a(b,require("wolfy87-eventemitter"),require("eventie")):b.imagesLoaded=a(b,b.EventEmitter,b.eventie)}(window,function(p,A,j){function k(c,a){for(var d in a){c[d]=a[d]}return c}function b(a){return"[object Array]"===q.call(a)}function g(d){var c=[];if(b(d)){c=d}else{if("number"==typeof d.length){for(var f=0,a=d.length;
a>f;f++){c.push(d[f])}}else{c.push(d)}}return c}function B(d,a,f){if(!(this instanceof B)){return new B(d,a)}"string"==typeof d&&(d=document.querySelectorAll(d)),this.elements=g(d),this.options=k({},this.options),"function"==typeof a?f=a:k(this.options,a),f&&this.on("always",f),this.getImages(),x&&(this.jqDeferred=new x.Deferred);var c=this;setTimeout(function(){c.check()})}function m(a){this.img=a}function w(a){this.src=a,y[a]=this}var x=p.jQuery,z=p.console,l=z!==void 0,q=Object.prototype.toString;B.prototype=new A,B.prototype.options={},B.prototype.getImages=function(){this.images=[];for(var v=0,c=this.elements.length;c>v;v++){var D=this.elements[v];"IMG"===D.nodeName&&this.addImage(D);var a=D.nodeType;if(a&&(1===a||9===a||11===a)){for(var h=D.querySelectorAll("img"),C=0,d=h.length;d>C;C++){var u=h[C];this.addImage(u)}}}},B.prototype.addImage=function(c){var a=new m(c);this.images.push(a)},B.prototype.check=function(){function f(n,i){return c.options.debug&&l&&z.log("confirm",n,i),c.progress(n),s++,s===a&&c.complete(),!0}var c=this,s=0,a=this.images.length;if(this.hasAnyBroken=!1,!a){return this.complete(),void 0}for(var d=0;a>d;d++){var h=this.images[d];h.on("confirm",f),h.check()}},B.prototype.progress=function(c){this.hasAnyBroken=this.hasAnyBroken||!c.isLoaded;var a=this;setTimeout(function(){a.emit("progress",a,c),a.jqDeferred&&a.jqDeferred.notify&&a.jqDeferred.notify(a,c)})},B.prototype.complete=function(){var c=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var a=this;setTimeout(function(){if(a.emit(c,a),a.emit("always",a),a.jqDeferred){var d=a.hasAnyBroken?"reject":"resolve";a.jqDeferred[d](a)}})},x&&(x.fn.imagesLoaded=function(c,a){var d=new B(this,c,a);return d.jqDeferred.promise(x(this))}),m.prototype=new A,m.prototype.check=function(){var c=y[this.img.src]||new w(this.img.src);if(c.isConfirmed){return this.confirm(c.isLoaded,"cached was confirmed"),void 0}if(this.img.complete&&void 0!==this.img.naturalWidth){return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0}var a=this;c.on("confirm",function(d,f){return a.confirm(d.isLoaded,f),!0}),c.check()},m.prototype.confirm=function(c,a){this.isLoaded=c,this.emit("confirm",this,a)};var y={};return w.prototype=new A,w.prototype.check=function(){if(!this.isChecked){var a=new Image;j.bind(a,"load",this),j.bind(a,"error",this),a.src=this.src,this.isChecked=!0}},w.prototype.handleEvent=function(c){var a="on"+c.type;this[a]&&this[a](c)},w.prototype.onload=function(a){this.confirm(!0,"onload"),this.unbindProxyEvents(a)},w.prototype.onerror=function(a){this.confirm(!1,"onerror"),this.unbindProxyEvents(a)},w.prototype.confirm=function(c,a){this.isConfirmed=!0,this.isLoaded=c,this.emit("confirm",this,a)},w.prototype.unbindProxyEvents=function(a){j.unbind(a.target,"load",this),j.unbind(a.target,"error",this)},B});/*! jQuery Mobile v1.2.1 jquerymobile.com | jquery.org/license */
(function(b,a,c){typeof define=="function"&&define.amd?define(["jquery"],function(d){return c(d,b,a),d.mobile}):c(b.jQuery,b,a)})(this,document,function(c,a,d,b){(function(aC,am,at,ao){function ai(f){while(f&&typeof f.originalEvent!="undefined"){f=f.originalEvent}return f}function G(x,g){var k=x.type,y,f,u,j,r,m,e,q,w;x=aC.Event(x),x.type=g,y=x.originalEvent,f=aC.event.props,k.search(/^(mouse|click)/)>-1&&(f=aB);if(y){for(e=f.length,j;e;){j=f[--e],x[j]=y[j]}}k.search(/mouse(down|up)|click/)>-1&&!x.which&&(x.which=1);if(k.search(/^touch/)!==-1){u=ai(y),k=u.touches,r=u.changedTouches,m=k&&k.length?k[0]:r&&r.length?r[0]:ao;if(m){for(q=0,w=al.length;q<w;q++){j=al[q],x[j]=m[j]}}}return x}function W(e){var h={},g,f;while(e){g=aC.data(e,ay);for(f in g){g[f]&&(h[f]=h.hasVirtualBinding=!0)}e=e.parentNode}return h}function ae(e,g){var f;while(e){f=aC.data(e,ay);if(f&&(!g||f[g])){return e}e=e.parentNode}return null}function aw(){aA=!1}function Y(){aA=!0}function ag(){ac=0,ak.length=0,au=!1,Y()}function V(){aw()}function X(){aH(),aE=setTimeout(function(){aE=0,ag()},aC.vmouse.resetTimerDuration)}function aH(){aE&&(clearTimeout(aE),aE=0)}function ad(f,h,g){var e;if(g&&g[f]||!g&&ae(h.target,f)){e=G(h,f),aC(h.target).trigger(e)}return e}function Q(e){var g=aC.data(e.target,an);if(!au&&(!ac||ac!==g)){var f=ad("v"+e.type,e);f&&(f.isDefaultPrevented()&&e.preventDefault(),f.isPropagationStopped()&&e.stopPropagation(),f.isImmediatePropagationStopped()&&e.stopImmediatePropagation())}}function aa(f){var j=ai(f).touches,g,e;if(j&&j.length===1){g=f.target,e=W(g);if(e.hasVirtualBinding){ac=aj++,aC.data(g,an,ac),aH(),V(),aD=!1;var h=ai(f).touches[0];az=h.pageX,aq=h.pageY,ad("vmouseover",f,e),ad("vmousedown",f,e)}}}function af(f){if(aA){return}aD||ad("vmousecancel",f,W(f.target)),aD=!0,X()}function ax(f){if(aA){return}var j=ai(f).touches[0],h=aD,e=aC.vmouse.moveDistanceThreshold,g=W(f.target);aD=aD||Math.abs(j.pageX-az)>e||Math.abs(j.pageY-aq)>e,aD&&!h&&ad("vmousecancel",f,g),ad("vmousemove",f,g),X()}function ab(h){if(aA){return}Y();var f=W(h.target),i;ad("vmouseup",h,f);if(!aD){var g=ad("vclick",h,f);g&&g.isDefaultPrevented()&&(i=ai(h).changedTouches[0],ak.push({touchID:ac,x:i.clientX,y:i.clientY}),au=!0)}ad("vmouseout",h,f),aD=!1,X()}function Z(e){var g=aC.data(e,ay),f;if(g){for(f in g){if(g[f]){return !0}}}return !1}function ap(){}function K(e){var f=e.substr(1);return{setup:function(h,g){Z(this)||aC.data(this,ay,{});var i=aC.data(this,ay);i[e]=!0,av[e]=(av[e]||0)+1,av[e]===1&&aF.bind(f,Q),aC(this).bind(f,ap),ah&&(av.touchstart=(av.touchstart||0)+1,av.touchstart===1&&aF.bind("touchstart",aa).bind("touchend",ab).bind("touchmove",ax).bind("scroll",af))},teardown:function(i,h){--av[e],av[e]||aF.unbind(f,Q),ah&&(--av.touchstart,av.touchstart||aF.unbind("touchstart",aa).unbind("touchmove",ax).unbind("touchend",ab).unbind("scroll",af));var j=aC(this),g=aC.data(this,ay);g&&(g[e]=!1),j.unbind(f,ap),Z(this)||j.removeData(ay)}}}var ay="virtualMouseBindings",an="virtualTouchID",ar="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),al="clientX clientY pageX pageY screenX screenY".split(" "),aG=aC.event.mouseHooks?aC.event.mouseHooks.props:[],aB=aC.event.props.concat(aG),av={},aE=0,az=0,aq=0,aD=!1,ak=[],au=!1,aA=!1,ah="addEventListener" in at,aF=aC(at),aj=1,ac=0,J;aC.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var z=0;z<ar.length;z++){aC.event.special[ar[z]]=K(ar[z])}ah&&at.addEventListener("click",function(s){var h=ak.length,e=s.target,k,g,q,p,m,j;if(h){k=s.clientX,g=s.clientY,J=aC.vmouse.clickDistanceThreshold,q=e;while(q){for(p=0;p<h;p++){m=ak[p],j=0;if(q===e&&Math.abs(m.x-k)<J&&Math.abs(m.y-g)<J||aC.data(q,an)===m.touchID){s.preventDefault(),s.stopPropagation();return}}q=q.parentNode}}},!0)})(c,a,d),function(h,f){var g={touch:"ontouchend" in d};h.mobile=h.mobile||{},h.mobile.support=h.mobile.support||{},h.extend(h.support,g),h.extend(h.mobile.support,g)
}(c),function(l,p,g){function k(f,s,o){var e=o.type;o.type=s,l.event.handle.call(f,o),o.type=e}l.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(e,f){l.fn[f]=function(i){return i?this.bind(f,i):this.trigger(f)},l.attrFn&&(l.attrFn[f]=!0)});var j=l.mobile.support.touch,q="touchmove scroll",h=j?"touchstart":"mousedown",n=j?"touchend":"mouseup",m=j?"touchmove":"mousemove";l.event.special.scrollstart={enabled:!0,setup:function(){function u(i,o){s=o,k(f,s?"scrollstart":"scrollstop",i)}var f=this,v=l(f),s,e;v.bind(q,function(i){if(!l.event.special.scrollstart.enabled){return}s||u(i,!0),clearTimeout(e),e=setTimeout(function(){u(i,!1)},50)})}},l.event.special.tap={tapholdThreshold:750,setup:function(){var e=this,f=l(e);f.bind("vmousedown",function(w){function t(){clearTimeout(v)}function r(){t(),f.unbind("vclick",z).unbind("vmouseup",t),l(d).unbind("vmousecancel",r)}function z(i){r(),x===i.target&&k(e,"tap",i)}if(w.which&&w.which!==1){return !1}var x=w.target,y=w.originalEvent,v;f.bind("vmouseup",t).bind("vclick",z),l(d).bind("vmousecancel",r),v=setTimeout(function(){k(e,"taphold",l.Event("taphold",{target:x}))},l.event.special.tap.tapholdThreshold)})}},l.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1000,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var e=this,f=l(e);f.bind(h,function(u){function w(i){if(!v){return}var o=i.originalEvent.touches?i.originalEvent.touches[0]:i;x={time:(new Date).getTime(),coords:[o.pageX,o.pageY]},Math.abs(v.coords[0]-x.coords[0])>l.event.special.swipe.scrollSupressionThreshold&&i.preventDefault()}var r=u.originalEvent.touches?u.originalEvent.touches[0]:u,v={time:(new Date).getTime(),coords:[r.pageX,r.pageY],origin:l(u.target)},x;f.bind(m,w).one(n,function(i){f.unbind(m,w),v&&x&&x.time-v.time<l.event.special.swipe.durationThreshold&&Math.abs(v.coords[0]-x.coords[0])>l.event.special.swipe.horizontalDistanceThreshold&&Math.abs(v.coords[1]-x.coords[1])<l.event.special.swipe.verticalDistanceThreshold&&v.origin.trigger("swipe").trigger(v.coords[0]>x.coords[0]?"swipeleft":"swiperight"),v=x=g})})}},l.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(e,f){l.event.special[e]={setup:function(){l(this).bind(f,l.noop)}}})}(c,this)});!function(c){var b='[data-dismiss="alert"]',a=function(d){c(d).on("click",b,this.close)};a.prototype.close=function(i){var h=c(this),f=h.attr("data-target"),g;if(!f){f=h.attr("href");f=f&&f.replace(/.*(?=#[^\s]*$)/,"")}g=c(f);i&&i.preventDefault();g.length||(g=h.hasClass("alert")?h:h.parent());g.trigger(i=c.Event("close"));if(i.isDefaultPrevented()){return}g.removeClass("in");function d(){g.trigger("closed").remove()}c.support.transition&&g.hasClass("fade")?g.on(c.support.transition.end,d):d()};c.fn.alert=function(d){return this.each(function(){var f=c(this),e=f.data("alert");if(!e){f.data("alert",(e=new a(this)))}if(typeof d=="string"){e[d].call(f)}})};c.fn.alert.Constructor=a;c(function(){c("body").on("click.alert.data-api",b,a.prototype.close)})}(window.jQuery);!function(b){var c=function(e,d){this.$element=b(e);this.options=b.extend({},b.fn.collapse.defaults,d);if(this.options.parent){this.$parent=b(this.options.parent)}this.options.toggle&&this.toggle()};c.prototype={constructor:c,dimension:function(){var d=this.$element.hasClass("width");return d?"width":"height"},show:function(){var g,d,f,e;if(this.transitioning||this.$element.hasClass("in")){return}g=this.dimension();d=b.camelCase(["scroll",g].join("-"));f=this.$parent&&this.$parent.find("> .accordion-group > .in");if(f&&f.length){e=f.data("collapse");if(e&&e.transitioning){return}f.collapse("hide");e||f.data("collapse",null)}this.$element[g](0);this.transition("addClass",b.Event("show"),"shown");b.support.transition&&this.$element[g](this.$element[0][d])},hide:function(){var d;if(this.transitioning||!this.$element.hasClass("in")){return}d=this.dimension();this.reset(this.$element[d]());this.transition("removeClass",b.Event("hide"),"hidden");this.$element[d](0)},reset:function(d){var e=this.dimension();this.$element.removeClass("collapse")[e](d||"auto")[0].offsetWidth;this.$element[d!==null?"addClass":"removeClass"]("collapse");return this},transition:function(h,e,f){var g=this,d=function(){if(e.type=="show"){g.reset()}g.transitioning=0;g.$element.trigger(f)};this.$element.trigger(e);if(e.isDefaultPrevented()){return}this.transitioning=1;this.$element[h]("in");b.support.transition&&this.$element.hasClass("collapse")?this.$element.one(b.support.transition.end,d):d()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var a=b.fn.collapse;b.fn.collapse=function(d){return this.each(function(){var g=b(this),f=g.data("collapse"),e=b.extend({},b.fn.collapse.defaults,g.data(),typeof d=="object"&&d);if(!f){g.data("collapse",(f=new c(this,e)))}if(typeof d=="string"){f[d]()}})};b.fn.collapse.defaults={toggle:true};b.fn.collapse.Constructor=c;b.fn.collapse.noConflict=function(){b.fn.collapse=a;return this};b(document).on("click.collapse.data-api","[data-toggle=collapse]",function(i){var h=b(this),d,g=h.attr("data-target")||i.preventDefault()||(d=h.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),f=b(g).data("collapse")?"toggle":h.data();h[b(g).hasClass("in")?"addClass":"removeClass"]("collapsed");b(g).collapse(f)})}(window.jQuery);!function(c){var b=function(e,d){this.options=d;this.$element=c(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",c.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};b.prototype={constructor:b,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var d=this,f=c.Event("show");this.$element.trigger(f);if(this.isShown||f.isDefaultPrevented()){return}this.isShown=true;this.escape();this.backdrop(function(){var e=c.support.transition&&d.$element.hasClass("fade");if(!d.$element.parent().length){d.$element.appendTo(document.body)}d.$element.show();if(e){d.$element[0].offsetWidth}d.$element.addClass("in").attr("aria-hidden",false);d.enforceFocus();e?d.$element.one(c.support.transition.end,function(){d.$element.focus().trigger("shown")}):d.$element.focus().trigger("shown")})},hide:function(f){f&&f.preventDefault();var d=this;f=c.Event("hide");this.$element.trigger(f);if(!this.isShown||f.isDefaultPrevented()){return}this.isShown=false;this.escape();c(document).off("focusin.modal");this.$element.removeClass("in").attr("aria-hidden",true);c.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var d=this;c(document).on("focusin.modal",function(f){if(d.$element[0]!==f.target&&!d.$element.has(f.target).length){d.$element.focus()}})},escape:function(){var d=this;if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.modal",function(f){f.which==27&&d.hide()})}else{if(!this.isShown){this.$element.off("keyup.dismiss.modal")}}},hideWithTransition:function(){var d=this,e=setTimeout(function(){d.$element.off(c.support.transition.end);d.hideModal()},500);this.$element.one(c.support.transition.end,function(){clearTimeout(e);d.hideModal()})},hideModal:function(){var d=this;this.$element.hide();this.backdrop(function(){d.removeBackdrop();d.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null},backdrop:function(g){var f=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=c.support.transition&&e;this.$backdrop=c('<div class="modal-backdrop '+e+'" />').appendTo(document.body);this.$backdrop.click(this.options.backdrop=="static"?c.proxy(this.$element[0].focus,this.$element[0]):c.proxy(this.hide,this));if(d){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");if(!g){return}d?this.$backdrop.one(c.support.transition.end,g):g()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");c.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(c.support.transition.end,g):g()}else{if(g){g()}}}}};var a=c.fn.modal;c.fn.modal=function(d){return this.each(function(){var g=c(this),f=g.data("modal"),e=c.extend({},c.fn.modal.defaults,g.data(),typeof d=="object"&&d);if(!f){g.data("modal",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}else{if(e.show){f.show()}}})};c.fn.modal.defaults={backdrop:true,keyboard:true,show:true};c.fn.modal.Constructor=b;c.fn.modal.noConflict=function(){c.fn.modal=a;return this};c(document).on("click.modal.data-api",'[data-toggle="modal"]',function(i){var h=c(this),f=h.attr("href"),d=c(h.attr("data-target")||(f&&f.replace(/.*(?=#[^\s]+$)/,""))),g=d.data("modal")?"toggle":c.extend({remote:!/#/.test(f)&&f},d.data(),h.data());i.preventDefault();d.modal(g).one("hide",function(){h.focus()})})}(window.jQuery);!function(c){var b=function(e,d){this.init("tooltip",e,d)};b.prototype={constructor:b,init:function(k,h,f){var l,d,j,e,g;this.type=k;this.$element=c(h);this.options=this.getOptions(f);this.enabled=true;j=this.options.trigger.split(" ");for(g=j.length;g--;){e=j[g];if(e=="click"){this.$element.on("click."+this.type,this.options.selector,c.proxy(this.toggle,this))}else{if(e!="manual"){l=e=="hover"?"mouseenter":"focus";d=e=="hover"?"mouseleave":"blur";this.$element.on(l+"."+this.type,this.options.selector,c.proxy(this.enter,this));this.$element.on(d+"."+this.type,this.options.selector,c.proxy(this.leave,this))}}}this.options.selector?(this._options=c.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()},getOptions:function(d){d=c.extend({},c.fn[this.type].defaults,this.$element.data(),d);if(d.delay&&typeof d.delay=="number"){d.delay={show:d.delay,hide:d.delay}}return d},enter:function(h){var g=c.fn[this.type].defaults,f={},d;this._options&&c.each(this._options,function(e,i){if(g[e]!=i){f[e]=i}},this);d=c(h.currentTarget)[this.type](f).data(this.type);if(!d.options.delay||!d.options.delay.show){return d.show()}clearTimeout(this.timeout);d.hoverState="in";this.timeout=setTimeout(function(){if(d.hoverState=="in"){d.show()}},d.options.delay.show)},leave:function(f){var d=c(f.currentTarget)[this.type](this._options).data(this.type);if(this.timeout){clearTimeout(this.timeout)}if(!d.options.delay||!d.options.delay.hide){return d.hide()}d.hoverState="out";this.timeout=setTimeout(function(){if(d.hoverState=="out"){d.hide()}},d.options.delay.hide)},show:function(){var i,k,g,j,d,h,f=c.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(f);if(f.isDefaultPrevented()){return}i=this.tip();this.setContent();if(this.options.animation){i.addClass("fade")}d=typeof this.options.placement=="function"?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement;i.detach().css({top:0,left:0,display:"block"});this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);k=this.getPosition();g=i[0].offsetWidth;j=i[0].offsetHeight;switch(d){case"bottom":h={top:k.top+k.height,left:k.left+k.width/2-g/2};break;case"top":h={top:k.top-j,left:k.left+k.width/2-g/2};break;case"left":h={top:k.top+k.height/2-j/2,left:k.left-g};break;case"right":h={top:k.top+k.height/2-j/2,left:k.left+k.width};break}this.applyPlacement(h,d);this.$element.trigger("shown")}},applyPlacement:function(g,h){var i=this.tip(),e=i[0].offsetWidth,l=i[0].offsetHeight,d,j,k,f;i.offset(g).addClass(h).addClass("in");d=i[0].offsetWidth;j=i[0].offsetHeight;if(h=="top"&&j!=l){g.top=g.top+l-j;f=true}if(h=="bottom"||h=="top"){k=0;if(g.left<0){k=g.left*-2;g.left=0;i.offset(g);d=i[0].offsetWidth;j=i[0].offsetHeight}this.replaceArrow(k-e+d,d,"left")}else{this.replaceArrow(j-l,j,"top")}if(f){i.offset(g)}},replaceArrow:function(f,e,d){this.arrow().css(d,f?(50*(1-f/e)+"%"):"")},setContent:function(){var e=this.tip(),d=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](d);e.removeClass("fade in top bottom left right")},hide:function(){var d=this,g=this.tip(),f=c.Event("hide");this.$element.trigger(f);if(f.isDefaultPrevented()){return}g.removeClass("in");function h(){var e=setTimeout(function(){g.off(c.support.transition.end).detach()},500);g.one(c.support.transition.end,function(){clearTimeout(e);g.detach()})}c.support.transition&&this.$tip.hasClass("fade")?h():g.detach();this.$element.trigger("hidden");return this},fixTitle:function(){var d=this.$element;if(d.attr("title")||typeof(d.attr("data-original-title"))!="string"){d.attr("data-original-title",d.attr("title")||"").attr("title","")}},hasContent:function(){return this.getTitle()},getPosition:function(){var d=this.$element[0];return c.extend({},(typeof d.getBoundingClientRect=="function")?d.getBoundingClientRect():{width:d.offsetWidth,height:d.offsetHeight},this.$element.offset())},getTitle:function(){var f,d=this.$element,e=this.options;f=d.attr("data-original-title")||(typeof e.title=="function"?e.title.call(d[0]):e.title);
return f},tip:function(){return this.$tip=this.$tip||c(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(f){var d=f?c(f.currentTarget)[this.type](this._options).data(this.type):this;d.tip().hasClass("in")?d.hide():d.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var a=c.fn.tooltip;c.fn.tooltip=function(d){return this.each(function(){var g=c(this),f=g.data("tooltip"),e=typeof d=="object"&&d;if(!f){g.data("tooltip",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.tooltip.Constructor=b;c.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};c.fn.tooltip.noConflict=function(){c.fn.tooltip=a;return this}}(window.jQuery);!function(c){var b=function(e,d){this.init("popover",e,d)};b.prototype=c.extend({},c.fn.tooltip.Constructor.prototype,{constructor:b,setContent:function(){var f=this.tip(),e=this.getTitle(),d=this.getContent();f.find(".popover-title")[this.options.html?"html":"text"](e);f.find(".popover-content")[this.options.html?"html":"text"](d);f.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,d=this.$element,f=this.options;e=(typeof f.content=="function"?f.content.call(d[0]):f.content)||d.attr("data-content");return e},tip:function(){if(!this.$tip){this.$tip=c(this.options.template)}return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var a=c.fn.popover;c.fn.popover=function(d){return this.each(function(){var g=c(this),f=g.data("popover"),e=typeof d=="object"&&d;if(!f){g.data("popover",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.popover.Constructor=b;c.fn.popover.defaults=c.extend({},c.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});c.fn.popover.noConflict=function(){c.fn.popover=a;return this}}(window.jQuery);!function(c){var b=function(d){this.element=c(d)};b.prototype={constructor:b,show:function(){var j=this.element,g=j.closest("ul:not(.dropdown-menu)"),f=j.attr("data-target"),h,d,i;if(!f){f=j.attr("href");f=f&&f.replace(/.*(?=#[^\s]*$)/,"")}if(j.parent("li").hasClass("active")){return}h=g.find(".active:last a")[0];i=c.Event("show",{relatedTarget:h});j.trigger(i);if(i.isDefaultPrevented()){return}d=c(f);this.activate(j.parent("li"),g);this.activate(d,d.parent(),function(){j.trigger({type:"shown",relatedTarget:h})})},activate:function(f,e,i){var d=e.find("> .active"),h=i&&c.support.transition&&d.hasClass("fade");function g(){d.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");f.addClass("active");if(h){f[0].offsetWidth;f.addClass("in")}else{f.removeClass("fade")}if(f.parent(".dropdown-menu")){f.closest("li.dropdown").addClass("active")}i&&i()}h?d.one(c.support.transition.end,g):g();d.removeClass("in")}};var a=c.fn.tab;c.fn.tab=function(d){return this.each(function(){var f=c(this),e=f.data("tab");if(!e){f.data("tab",(e=new b(this)))}if(typeof d=="string"){e[d]()}})};c.fn.tab.Constructor=b;c.fn.tab.noConflict=function(){c.fn.tab=a;return this};c(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(d){d.preventDefault();c(this).tab("show")})}(window.jQuery);!function(f){var b="[data-toggle=dropdown]",a=function(h){var g=f(h).on("click.dropdown.data-api",this.toggle);f("html").on("click.dropdown.data-api",function(){g.parent().removeClass("open")})};a.prototype={constructor:a,toggle:function(j){var i=f(this),h,g;if(i.is(".disabled, :disabled")){return}h=e(i);g=h.hasClass("open");d();if(!g){if("ontouchstart" in document.documentElement){f('<div class="dropdown-backdrop"/>').insertBefore(f(this)).on("click",d)}h.toggleClass("open")}i.focus();return false},keydown:function(l){var k,m,g,j,i,h;if(!/(38|40|27)/.test(l.keyCode)){return}k=f(this);l.preventDefault();l.stopPropagation();if(k.is(".disabled, :disabled")){return}j=e(k);i=j.hasClass("open");if(!i||(i&&l.keyCode==27)){if(l.which==27){j.find(b).focus()}return k.click()}m=f("[role=menu] li:not(.divider):visible a",j);if(!m.length){return}h=m.index(m.filter(":focus"));if(l.keyCode==38&&h>0){h--}if(l.keyCode==40&&h<m.length-1){h++}if(!~h){h=0}m.eq(h).focus()}};function d(){f(".dropdown-backdrop").remove();f(b).each(function(){e(f(this)).removeClass("open")})}function e(i){var g=i.attr("data-target"),h;if(!g){g=i.attr("href");g=g&&/#/.test(g)&&g.replace(/.*(?=#[^\s]*$)/,"")}h=g&&f(g);if(!h||!h.length){h=i.parent()}return h}var c=f.fn.dropdown;f.fn.dropdown=function(g){return this.each(function(){var i=f(this),h=i.data("dropdown");if(!h){i.data("dropdown",(h=new a(this)))}if(typeof g=="string"){h[g].call(i)}})};f.fn.dropdown.Constructor=a;f.fn.dropdown.noConflict=function(){f.fn.dropdown=c;return this};f(document).on("click.dropdown.data-api",d).on("click.dropdown.data-api",".dropdown form",function(g){g.stopPropagation()}).on("click.dropdown.data-api",b,a.prototype.toggle).on("keydown.dropdown.data-api",b+", [role=menu]",a.prototype.keydown)}(window.jQuery);!function(a){a(function(){a.support.transition=(function(){var b=(function(){var e=document.createElement("bootstrap"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in d){if(e.style[c]!==undefined){return d[c]}}}());return b&&{end:b}})()})}(window.jQuery);(function(a,d){var c;a.namespace("location");function b(f){f=f.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e="[\\?&]"+f+"=([^&#]*)";var h=new RegExp(e);var g=h.exec(window.location.search);if(g==null){return""}else{return decodeURIComponent(g[1].replace(/\+/g," "))}}c={get:b};a.location.qs=c}(BI));(function(b,e){var c;var d={rootAssets:"/assets/CMS/assets/"};b.namespace("location");function f(g,h){d[g]=h}function a(g){return d[g]}c={set:f,get:a};b.location.cmsPath=c}(BI));(function(d,b,f){b.namespace("frontendAnalytics");var c;function a(g){if(!c&&typeof window.dataLayer!=="undefined"){c=window.dataLayer}if(c&&typeof g.google==="object"&&typeof g.google.path==="string"){c.push({event:"sendVirtualPageview",vpv:g.google.path})}if(typeof g.internal==="object"){var h={};if(typeof g.internal.vertical==="string"){h.vertical=g.internal.vertical}if(typeof g.internal.postId==="string"){h.post_id=g.internal.postId}if(typeof g.internal.author==="string"){h.author=g.internal.author}if(typeof g.internal.location==="string"){h.location=g.internal.location}d.get("/track.gif",h)}}function e(){var g=__reach_config;SPR.Reach.collect(g)}b.frontendAnalytics={fire:a,fireSimpleReach:e}}($,BI));(function(c,f){c.namespace("textHelper");function a(h){var g=[];h.forEach(function(i){if(i&&c.configs.commonWords.indexOf(i.toLowerCase())===-1&&isNaN(Number(i))){g.push(i.toLowerCase())}});return g}function b(g){if(!g){return""}g=g.toLowerCase();g=g.replace(/ & /g," and ");g=g.replace(/^\s+|\s+$/g,"");g=g.replace(/[ ]+/g,"-");g=g.replace(/[-]+/g,"-");g=g.replace(/[^a-z0-9-]+/g,"");return g}function d(h,j,g){g=g?g:".";j=j?j:",";var i=h.toString().split(g);i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,j);return i.join(g)}function e(g){if(g>10000){return"very-hot"}else{if(g>1000){return"hot"}else{if(g>400){return"warm"}else{return"cool"}}}}c.textHelper={filterCommonWords:a,stringToUrl:b,commatize:d,color:e}}(BI));(function(d,i,b){i.namespace("imageHelper");function e(n){var m=n.image,l=n.maxX,k=n.maxY;var j="/image/"+m.id;if(l){j+="-"+l}if(k){j+="-"+k}return j+"/"+m.filename}function g(m){if((!m.width||!m.height)&&m.size){m.width=m.size.split("x")[0];m.height=m.size.split("x")[1]}var j=m.width/m.height;var l;if(j.toString().indexOf(".")!=-1){var k=j.toString().split(".");l=Number(k[0]+"."+k[1][0])}else{l=j}return l}function h(k,j){if(g({width:k,height:1})===g({width:j,height:1})){return true}return false}var f={};function c(l){var j={url:i.imageHelper.IMAGE_INFO_URI,success:function(){},data:{}};d.extend(true,j,l);var k=l.success;if(typeof f[l.data.id]!=="undefined"){k(f[l.data.id]);return}j.success=function(m){if(!m.error){f[l.data.id]=m}k(m)};d.ajax(j)}function a(k){if(!k||!k.url){return false}var j=new XMLHttpRequest();j.open("GET",k.url,true);j.responseType="arraybuffer";j.addEventListener("load",function(){var m=new Uint8Array(j.response),n,l,o=m.length,p=0;if(m[0]!==71||m[1]!==73||m[2]!==70||m[3]!==56){k.callback(false);return}for(n=0,l=o-9;n<l,p<2;++n){if(m[n]===0&&m[n+1]===33&&m[n+2]===249&&m[n+3]===4&&m[n+8]===0&&(m[n+9]===44||m[n+9]===33)){p++}}if(k.callback){k.callback(p>1)}});j.send()}i.imageHelper={getImageUri:e,getImageInfo:c,approximateAspectRatio:g,areApproximatelyEqual:h,isAnimatedGif:a,WIDE:2/1,STANDARD:4/3,SQUARE:1,WIDESCREEN:16/9,IMAGE_INFO_URI:"/cms/image_manager?action=getInfo",IMAGE_SEARCH_URI:"/cms/image_manager?action=search",IMAGE_UPLOAD_URI:"/cms/image_manager?action=create",IMAGE_EDIT_URI:"/cms/image_manager?action=edit"}}($,BI));(function(e,h,b,c){var f;h.namespace("analytics");function j(){e(document).on("click",'a:not([href*="'+document.domain+'"])',function(l){var k=e(this).attr("data-bi-base");if(k===c){k=this.href}e.ajax({type:"GET",data:{click:k},url:"/track.gif",async:false})});return null}function i(l,m,n,k){if(typeof dataLayer!=="undefined"){dataLayer.push(["_trackEvent",l,m,n,k])}}function a(){var o="",m,p,r={rand:Math.random()};if(document.location){r.location=document.location}if(document.referrer){r.referer=document.referrer}if(m=h.location.qs.get("utm_medium")){r.utm_medium=m}if((typeof vertical!="undefined")&&vertical){r.vertical=vertical}if(p=h.location.qs.get("q")){r.q=p}if(window.post&&post){r.post_id=post.id||"";r.post_author=(post.author instanceof Array)?post.author.join("|"):post.author||"";r.post_author_ids=post.author_ids||"";r.post_type=post.post_type||""}if(typeof _bi_domain!="undefined"){o=document.location.protocol+"//"+_bi_domain}o+="/track.gif?";for(var l in r){o+="&"+l+"="+encodeURIComponent(r[l])}var n=new Image(1,1);n.src=o}function g(k){k.each(function(m,l){var n=e(l);var o=n.attr("data-bi-heatmap");n.on("mousedown","a",function(){e.post("/ws/heatmap",{homepage:o,uri:e(this).attr("href")})})})}e(function(){g(e("[data-bi-heatmap]"));e(document).on("click",'[data-track="ga-page"]',function(l){var k=e(this);var n=k.data("track-category");var o=k.data("track-action");var m=k.data("track-label");i(n,o,m)});j();a()});function d(){b.subscribe("editorial-sidebar-loaded",function(k){g(e("#"+k))})}d();f={trackOutbound:j,trackHeat:g,fire:a,gaPageTrack:i};h.analytics=f}(jQuery,BI,amplify));(function(f,a,h){a.namespace("template");var b,c,g={};function e(i){f.ajax({url:i,dataType:"text",success:function(m){var j=g[i];var l=m;for(var k=0;k<j.length;k++){j[k].callback(f.tmpl(l,j[k].data))}g[i]=m}})}function d(i){if(i.frontend){return"/assets/"+i.tpl+".tpl"}else{return"/assets/js/lib/"+i.tpl+".tpl"}}a.template=function(j){j.data=j.data||{};var i=d(j);if(typeof g[i]==="string"){j.callback(f.tmpl(g[i],j.data));return}if(!g[i]){g[i]=[];g[i].push(j);e(i);return}g[i].push(j)}}(jQuery,BI));(function(f,h){var b;var a={};function d(k,l){var i=document.createElement("script");var j=false;i.type="text/javascript";i.async=true;i.src=k;if(l){i.id=l;if(f("#"+l).length>0||a[l]){return}a[l]=i}b.append(i)}function e(i,k,j){if(k){if(f("#"+k).length>0||a[k]){return}a[k]=true}f.getScript(i,function(){if(j){j()}})}function c(){f("[data-bi-ajax-route]").each(function(){var j=f(this);var i=j.data("bi-ajax-route");f.ajax({dataType:"html",url:i}).done(function(k){j.html(k);amplify.publish("bi-ajax-route-loaded",i)})})}function g(){b=f("head");c()}f(g);exposed={load:d,load2:e};BI.loader=exposed}(jQuery));(function(e,a,b){var g;var f=navigator.userAgent.match(/iPad/i)!=null;BI.namespace("video");var c=false;var i={};function j(k){var n=k.data("bi-video-id");if(i[n]){return}var m=BI.UUID.get();k.attr("id",m);if(!f){OO.Player.create(m,n)}else{k.css("height","auto");var l=e('<div class="corner-flag"><a href="'+k.attr("data-bi-video-url")+'"><img id="ooyala-ipad-thumb" src="'+k.attr("data-bi-video-thumbnail")+'" style="width:100%;"><div class="corner video"><i class="sprites"></i></div></a></div>');l.appendTo(k)}i[n]=true}function h(k){k.each(function(m,n){var l=e(n);j(l)})}function d(l){var k=e('[data-bi-video="ooyala"]',l);if(k.length<1){return}if(c){h(k)}else{BI.loader.load2("//player.ooyala.com/v3/6e12e8b3387a44daacfb73afba25a76e","ooyalaScript",function(){OO.ready(function(){a.publish("ooyala-ready")})});a.subscribe("ooyala-ready",function(){h(k)})}}a.subscribe("ooyala-ready",function(){c=true});e(function(){d(e(document.body))});a.subscribe("container-loaded",function(k){d(k)});a.subscribe("river:chunk:loaded",function(k){d(k.$container)});g={find:d};BI.video=g}(jQuery,amplify));(function(b,f){var e;b.namespace("dates");function a(i){var h;var g;if(i<60000){h=Math.floor(i/1000);g=d(h,"second")}else{if(i<3600000){h=Math.floor(i/60000);g=d(h,"minute")}else{if(i<86400000){h=Math.floor(i/3600000);g=d(h,"hour")}else{if(i<604800000){h=Math.floor(i/86400000);g=d(h,"day")}else{return"a while"}}}}return h+" "+g}function d(i,h,g){g=g?g:h+"s";return i==1?h:g}function c(j){var g=["Jan.","Feb.","Mar.","Apr.","May","Jun.","Jul.","Aug.","Sep.","Oct.","Nov.","Dec."];var i=new Date(j);var k=i.getMinutes()>=10?i.getMinutes():"0"+i.getMinutes();var h=i.getHours()>12?((i.getHours()-12)+":"+k):(i.getHours()+":"+k);h+=(i.getHours()>=12)?" PM":" AM";var l=g[i.getMonth()]+" "+i.getDate()+", "+h;return l}e={elapsedTime:a,formatDate:c};b.dates=e}(BI));(function(d,c,e){var b=function(g,f){this.$el=d(g);this.correctTotal=0;this.numberAnswered=0;this.options=d.extend(true,{data:{},layout:"flat"},f);this.init()};b.prototype.init=function(){var f=this;f.$el.hide();c.template({tpl:"CMS/assets/templates/quiz/chrome",frontend:true,data:f.options.data,callback:function(g){f.$el.html(g);f.$el.addClass("quiz-layout-"+f.options.layout);f.getEls();f.createSlides()}})};b.prototype.getEls=function(){this.$quizEl=this.$el.find(".quiz-content .question-slide-container");this.$nextButton=this.$el.find('.controls a[href="next"]');this.$finalSlide=this.$el.find(".slide.final");this.$totalQuestions=this.$finalSlide.find(".count");this.$totalCorrect=this.$finalSlide.find(".correct-count");this.$correctPercentage=this.$finalSlide.find(".correct-percentage")};b.prototype.createSlides=function(){var f=this;f.options.data.questions.forEach(function(h,g){h.index=g;f.createSlide(h,function(){if(g+1===f.options.data.questions.length){f.$allSlides=f.$el.find(".slide");f.bind();f.launch()}})})};b.prototype.createSlide=function(h,f){var g=this;c.template({tpl:"CMS/assets/templates/quiz/slide",frontend:true,data:h,callback:function(i){g.$quizEl.append(i);f()}})};b.prototype.bind=function(){var f=this;if(f.options.layout==="widget"){f.$nextButton.on("click",function(){f.advanceSlide();return false})}f.$el.on("click","li",function(){var g=d(this).parents(".question-slide");if(g.hasClass("answered")){return}f.answerQuestion(g,d(this));return false})};b.prototype.launch=function(){this.$el.show();if(this.options.layout==="widget"){this.activeSlide=-1;this.slideAnswered=true;this.advanceSlide()}else{if(this.options.layout==="flat"){this.showSlides();this.$finalSlide.hide()}}this.$totalQuestions.html(this.options.data.questions.length)};b.prototype.advanceSlide=function(){this.hideSlides();this.hideButtons();this.activeSlide++;var f=this.$allSlides.filter('[data-slide="'+this.activeSlide+'"]');f.show();if(this.activeSlide<this.options.data.questions.length+1){this.$nextButton.show()}};b.prototype.answerQuestion=function(i,k){k.addClass("chosen");i.addClass("answered");var j=k.data("answer");var h=i.data("slide")-1;var f=this.options.data.questions[h];var g=f.answers[j];f.answered=true;g.selected=true;if(g.correct){f.correct=true}else{f.correct=false}this.numberAnswered++;this.renderTotal()};b.prototype.renderTotal=function(){this.$totalCorrect.html(this.totalCorrect());this.$correctPercentage.html(this.correctPercentage());if(this.options.layout==="flat"&&this.numberAnswered===this.options.data.questions.length){this.$finalSlide.show()}};b.prototype.correctPercentage=function(){var h=this.totalCorrect();var f=this.options.data.questions.length;var g=Math.round((h/f)*100);return g};b.prototype.totalCorrect=function(){var f=0;this.options.data.questions.forEach(function(g,h){if(g.answered&&g.correct){f++}});return f};b.prototype.hideSlides=function(){this.$allSlides.hide()};b.prototype.showSlides=function(){this.$allSlides.show()};b.prototype.hideButtons=function(){this.$nextButton.hide()};b.prototype.destroy=function(){this.$el.html("");this.$el.removeData("biQuiz")};var a=["destroy","hideButtons","hideSlides","showSlides","totalCorrect","renderTotal","advanceSlide"];d.fn.biQuiz=function(g,f){return this.each(function(){var j=d(this),i=j.data("biQuiz"),h=typeof g==="object"&&g;if(!i){j.data("biQuiz",(i=new b(this,h)))}else{if(typeof g==="string"){if(a.indexOf(g)!==-1){i[g](f)}}}})}}(jQuery,BI));(function(e,g){var f={modalContentTmpl:"",dialog:{autoOpen:false,title:"Send Email",modal:true,width:400},ajax:{type:"POST",dataType:"json"},submitCallback:null};var d=function(l,j){var k;this.$el=e(l);this.options=e.extend(true,e.extend(true,{},f),j);var i=this;a(i)};function a(i){i.$el.bind("click",function(l){var j=i.options.modalContentTmpl;var k=e(j).modal();h(k,i);k.find(".modal-header h3").html(i.options.dialog.title);if(i.options.dialog.open){i.options.dialog.open(k)}l.preventDefault()})}function h(j,i){j.find('input[type="submit"]').click(function(l){var k=j.find("form");c(k,i);l.preventDefault()})}function c(j,i){if(i.options.ajax){b(j,i)}else{if(i.options.submitCallback){i.options.submitCallback(j)}}}function b(k,j){var i=e(k);var m=i.serialize();var l=i.attr("action");if(!l){return false}e.ajax(e.extend(true,j.options.ajax,{url:j.options.ajax.url||l,data:m,success:function(n){j.options.submitCallback(k,n)}}))}e.fn.emailModal=function(i){return this.each(function(){var l=e(this),k=l.data("emailModal"),j=typeof i=="object"&&i;if(!k){l.data("emailModal",(k=new d(this,j)))}else{if(typeof i=="string"){k[i]()}}})}}(jQuery));(function(c,e){var d={ModalContentTmpl:"",dialog:{autoOpen:false,title:"Send Embed",modal:true,width:400},ajax:{type:"POST",dataType:"json"},submitCallback:null};var b=function(j,h){var i;this.$el=c(j);this.options=c.extend(true,c.extend(true,{},d),h);var g=this;a(g)};function a(g){g.$el.bind("click",function(j){var h=g.options.ModalContentTmpl;var i=c(h).modal();f(i,g);i.find(".modal-header h3").html(g.options.dialog.title);if(g.options.dialog.open){g.options.dialog.open(i)}timeoutEmbedSelector();j.preventDefault()})}function f(h,g,i){}c.fn.embedModal=function(g){return this.each(function(){var j=c(this),i=j.data("embedModal"),h=typeof g=="object"&&g;if(!i){j.data("embedModal",(i=new b(this,h)))}else{if(typeof g=="string"){i[g]()}}})}}(jQuery));$(function(j){var b=90,a=0,l=BI.staticURI,i;curSlide=null;var d=function(q,o){var n=this;n.$el=j(q);n.$elInner=n.$el.find(".slideshow-inner-content");n.options=o||{};n.slides={};n.$controls=j(o.controlEl);n.currentView="slideshow";n.adsSeen=[];n.imagesLoaded=[];$byline=j(".slideshow .byline");n.currentHash=null;n.direction=null;n.$el.find("a[start-href]").attr("href",n.$el.find("a[start-href]").attr("start-href"));n.introContent=n.$el.find(".intro-content");for(var p=0;p<o.slides.length;p++){var m=o.slides[p];m.index=p;m.content=m.content||"";if(m.image){m.image.title=m.title||"";m.image.layout=m.image.layout||m.layout;if(!m.isAnimatedImage){m.image=n.formatImageSrc(m.image)}else{m.image=n.rawImageSrc(m.image)}}if(m.title&&m.title.length>b){m.gridTitle=m.title.substring(0,b)+"..."}else{if(m.title){m.gridTitle=m.title}else{m.title="";m.gridTitle=""}}n.slides[m.name]=m}n.init()};d.prototype.init=function(){var m=this;j(window).hashchange(function(){m.hashChange()});BI.template({tpl:"CMS/assets/templates/slideshow/controls",frontend:true,data:{onepageURL:m.options.onepageURL||window.location},callback:function(n){m.$controls.html(n);if(!m.options.hideRight){m.$controls.addClass("railShown")}m.$controls.find('a[rel="last"]').attr("href","#"+m.options.slides[m.options.slides.length-1].name);m.bindDOM();j(window).hashchange();m.preloadImagesRange(2)}})};d.prototype.nav=function(o){this.direction=o;if(o==="left"){var n=this.$el.find("a.btn[rel='prev']").attr("href");var p=this.slides[window.location.hash.substring(1)].index;if(p===0){console.log("ok");document.getElementsByClassName("intro-content")[0].style.display="block"}if(!n){return false}window.location.hash=n}else{if(o==="right"){var m=this.$el.find("a.btn[rel='next']").attr("href");var q=this.$el.find(".slide-intro-bottom a.sl-start").attr("href");if(!m&&q){m=q}if(m=="/category/features"){window.location.href="/category/features";return false}window.location.hash=m}}return false};d.prototype.bindDOM=function(){var n=this;n.$controls.on("click","a[rel='slideshow-view']",function(){n.hashChange(true);return false});n.$el.on("click",".slide-intro-bottom a",function(){j("html, body").animate({scrollTop:BI.masthead.height},300)});n.$el.on("click","a.btn[rel='prev']",function(){n.nav("left");BI.analytics.parselyPageTrack(BI.post.url,"PrevSlide");return false});var m;if(n.options.bridgeAdTemplate){m=function(){var p=n.slides[window.location.hash.substring(1)].index;switch(p){case 4:case 9:if(n.adsSeen.indexOf(p)===-1){n.adsSeen.push(p);n.$elInner.find(".row-fluid ~ *").remove();n.$elInner.find("span.slide-title").html('<h5 class="text-ad">Advertisement</h5>');n.$elInner.append(n.options.bridgeAdTemplate.replace('data-region="Bridge"','data-region="Bridge '+(p===4?"1":"2")+'"'))}else{n.nav("right")}break;default:n.nav("right");break}BI.analytics.parselyPageTrack(BI.post.url,"NextSlide");return false}}else{m=function(){n.nav("right");BI.analytics.parselyPageTrack(BI.post.url,"NextSlide");return false}}n.$el.on("click","a.btn[rel='next'], a.next[rel='next']",m);var o=true;j("input, textarea").focus(function(){o=false});j("input, textarea").blur(function(){o=true});j(document).keydown(function(p){if(o){switch(p.which){case 37:return n.nav("left");case 39:return m()}}})};var e;function h(){if(typeof instgrm==="undefined"&&!e){e=window.setInterval(h,50);return}if(typeof instgrm!=="undefined"){e=window.clearInterval(e);instgrm.Embeds.process()}}d.prototype.hashChange=function(p){var n=this;var q=window.location.hash.substring(1);if(p!==true&&q===n.currentHash){return}else{n.currentHash=q;this.preloadImagesRange(2)}if(q&&q in n.slides){c();n.introContent.hide();var m=n.slides[q];m.hash=q;BI.template({tpl:"CMS/assets/templates/slideshow/slide",frontend:true,data:m,callback:function(x){n.$elInner.html(x);if(j(x).find(".instagram-media").length){h()}n.updateControls(n.slides[q]["index"]);n.$controls.removeClass("first-page");$byline.removeClass("first-page");j("[data-fade-replace]").each(function(){j("#"+j(this).data("fade-replace")).hide();
j(this).fadeIn()});j(".share-container").addClass("slide-page");var u=j("[data-pinterest-share]");var s=k("pinterest");var w="http://pinterest.com/pin/create/link/?url="+encodeURIComponent(s)+"&media="+encodeURIComponent(u.data("pinterest-media"))+"&description="+(encodeURIComponent(u.data("pinterest-description"))||encodeURIComponent(u.data("pinterest-post-title")));var v=j("[data-facebook-share]");var r=v.data("facebook-image");var z=v.data("facebook-title");var y=v.data("facebook-description");var t=k("facebook");u.on("click",function(A){A.preventDefault();g("pinterest",s);f(w)});v.on("click",function(A){A.preventDefault();g("facebook",t);FB.ui({method:"share",title:z,description:y,picture:r,href:t},function(B){})})}})}else{n.updateControls(-1);n.$elInner.html("");n.introContent.show();n.$controls.addClass("first-page");$byline.addClass("first-page");j(".share-container").removeClass("slide-page");j("[data-fade-replace]").each(function(){j("#"+j(this).data("fade-replace")).fadeIn();j(this).hide()})}n.$controls.removeClass("grid-view");amplify.publish("slideshow-content-rendered");if(n.leaderboardFrame){j.fn.eventCounter("increment","click","leaderboard")}if(n.rightFrame){j.fn.eventCounter("increment","click","right-rail")}if(n.marketWidgetFrame){j.fn.eventCounter("increment","click","marketWidget")}if(n.marketWidgetTwoFrame){j.fn.eventCounter("increment","click","marketWidgetTwo")}if(q){var o={google:{path:location.pathname+"/"+n.slides[q].name},internal:{vertical:window.vertical||"",postId:window.post?window.post.id:"",author:window.post?window.post.author:"",location:location.pathname+"#"+n.slides[q].name}};BI.frontendAnalytics.fire(o)}};function g(m,n){dataLayer.push({event:"SocialShare",socialNetwork:m,socialAction:"Share Slide",socialTarget:n,eventCategory:"Share",eventAction:"Click Bottom",eventLabel:m})}function k(m){return location.origin+location.pathname+"?utm_medium=social&utm_campaign=social-share-click-thru&utm_source="+m+"&utm_content=slideshow&utm_term=desktop&op=0"+location.hash}function f(m,u,q){u=u||900;q=q||500;var t=window.screenLeft!=undefined?window.screenLeft:screen.left;var n=window.screenTop!=undefined?window.screenTop:screen.top;var o=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width;var v=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var p=((o/2)-(u/2))+t;var s=((v/2)-(q/2))+n;var r=window.open(m,"Pinterest / Pin it","scrollbars=yes, width="+u+", height="+q+", top="+s+", left="+p);if(window.focus){r.focus()}}d.prototype.updateControls=function(p){var m=this;var o=m.$el.find("a[rel='prev']");var n=m.$el.find("a[rel='next']");if(p<=0){o.attr("href","#")}else{o.attr("href","#"+m.options.slides[p-1]["name"])}if(p<m.options.slides.length-1){n.attr("href","#"+m.options.slides[p+1]["name"])}else{n.attr("href","/category/features")}m.$el.find(".total").html(m.options.slides.length);m.$el.find(".current").html(p+1);if(p+1===m.options.slides.length){m.$controls.find('a.btn[rel="last"]').attr("disabled","disabled")}else{m.$controls.find('a.btn[rel="last"]').removeAttr("disabled")}};d.prototype.formatImageSrc=function(n){if(!n.src){var m;switch(n.layout){case"590":case"915":case"1170":m=1200;break;default:if(this.options.hideRight){m=1200}else{m=400}}n._src=n._src.split("-")[0]+"-"+m;n.src="/image/"+n._src+"/";if(BI.env.inProduction()){n.src=l+n.src}if(n.title){n.src+=BI.textHelper.stringToUrl(n.title)}else{n.src+="slide"}n.src+=".jpg"}return n};d.prototype.rawImageSrc=function(m){m.src="/image/"+m._src.split("-")[0]+"/slide_image.gif";return m};d.prototype.preloadImages=function(){for(var m in this.slides){if(this.slides[m].image){(new Image()).src=this.slides[m].image.src}}};d.prototype.preloadImage=function(m){var n=this.options.slides[m].name;if(this.slides[n].isAnimatedImage){return}if(this.slides[n].image){(new Image()).src=this.slides[n].image.src;this.imagesLoaded.push(m)
}};d.prototype.preloadImagesRange=function(m){var o=this;if(!o.currentHash){if(o.imagesLoaded.indexOf(0)===-1){o.preloadImage(0)}return}curSlide=o.slides[o.currentHash].index;if(o.imagesLoaded.indexOf(curSlide)===-1){o.preloadImage(curSlide)}var n=1;for(var q=curSlide+1;q<curSlide+1+m;q++){n++;if(o.imagesLoaded.indexOf(q)===-1&&q<o.options.slides.length){o.preloadImage(q)}var p=curSlide-n+1;if(o.imagesLoaded.indexOf(p)===-1&&p>=0){o.preloadImage(p)}}return};function c(){var o=[],n,m;++a;for(m=i.length-1;m!==-1;--m){n=i[m];if((a%n.getAttribute("data-refresh-frequency"))===0){o.push(BI.DFP.adRegions[n.getAttribute("data-region")])}}if(typeof index_headertag_lightspeed!=="undefined"){index_headertag_lightspeed.call_slideshow_refresh(o,BI.DFP.adRegions)}else{googletag.pubads().refresh(o)}}j.fn.slideshow=function(n,m){return this.each(function(){var q=j(this),p=q.data("slideshow"),o=typeof n=="object"&&n;if(!p){q.data("slideshow",(p=new d(this,o)))}else{if(typeof n=="string"){p[n](m)}}})};j(function(){i=document.querySelectorAll(".ad[data-refresh-frequency]");var n=j("[data-bi-slideshow]");var m=j("a[data-bi-slideshow-onepage]");if(n.length>0){var o=BI.post.isDraft?"/post/preview":BI.post.url;j.ajax({url:o,data:{action:"getSlides",post_id:post.id},type:"GET",success:function(q){if(typeof q==="string"){q=JSON.parse(q)}var p={controlEl:".content .slideshow-controls",hideRight:n.data("bi-slideshow-hideright"),layout:n.data("bi-slideshow-layout"),onepageURL:m.attr("href"),slides:q.slides};if(q.bridgeAdTemplate){p.bridgeAdTemplate=q.bridgeAdTemplate}n.slideshow(p)}})}})}(jQuery));(function(k,d,b){var g=14;var e=false;var c=[];function f(){if(typeof SailthruScout==="undefined"){return}SailthruScout.setup=function(m){for(var l in m){SailthruScout.config[l]=m[l]}if(m.renderItem){SailthruScout.renderItem=m.renderItem}if(m.jQuery){SailthruScout.jq=m.jQuery}else{if(window.jQuery){SailthruScout.jq=window.jQuery}else{if(window.$){SailthruScout.jq=window.$}}}SailthruScout.fetchContent(SailthruScout.config.numVisible+5);function n(){var p=SailthruScout.jq(this).index();var q=SailthruScout.visibleContent[p].id;var o=SailthruScout.visibleContent[p].url;SailthruScout.track(q,"mhit",{index:p,url:o});return true}if(typeof(SailthruScout.jq().on)==="function"){SailthruScout.jq(document).on("mousedown",".concierge-post",n)}else{SailthruScout.jq(".concierge-post").live("mousedown",n)}};SailthruScout.setup({domain:k.sailthruHorizonURI,numVisible:g,noPageView:true,trackType:"sidebar",renderItem:function(m,l){k.sailthru.posts.push(m);if(g<=k.sailthru.posts.length){e=true;c.forEach(function(n){i(n.number,n.callback,n.renderer)});c=[];amplify.publish("sailthru:ready")}}})}function j(m,l,n){k.template({tpl:m,frontend:true,data:l,callback:n})}function a(u,q,m,s){var n={author:true,date:true,views:true};m=d.extend(true,n,m);var t=k.textHelper.commatize(u.views);var o=k.textHelper.color(u.views);var l=k.dates.formatDate(u.date*1000);var p="";if(m.author){if(u.author&&u.author.indexOf(",")!==-1){var r=u.author.split(/,/);r.forEach(function(v,w){if(!v){return}else{p+='<a href="/author/'+k.textHelper.stringToUrl(v)+'">'+v+"</a>";if(w!==r.length-1){p+=", "}}})}else{if(u.author){p='<a href="/author/'+k.textHelper.stringToUrl(u.author)+'">'+u.author+"</a>"}}}j("CMS/assets/templates/sailthru/byline",{config:m,viewscls:o,author:p,views:t,datestr:l},s)}function h(o,n,m,q){var p=o.image;if(typeof p.thumb!=="undefined"){p=p.thumb}p=p.split("/");var l={filename:p[p.length-1],id:p[p.length-2].split("-")[0]};p="http://"+p[p.length-4]+"/image/"+l.id+"/"+l.filename+"?maxX=425";a(o,n,null,function(r){r=d("<div>").html(r).html();j("CMS/assets/templates/sailthru/tout",{item:o,byline:r,image:p},q)})}function i(n,r,p){if(!e){c.push({number:n,callback:r,renderer:p});return}var m=0;var q=0;var o=0;var l=[];while(m<n){if(k.sailthru.posts[m]){p(k.sailthru.posts[m],m,{},function(s){l.push(s);o++;if(o===q){setTimeout(function(){r(l)},0)}});q++}m++}}d(f);k.sailthru={posts:[],toutRender:h,bylineRender:a,renderPosts:i}}(BI,jQuery));(function(b){function a(){if(typeof COMSCORE!="undefined"){COMSCORE.beacon({c1:"2",c2:"9900186"})}else{if(typeof console!="undefined"&&console.log){console.log("Failed to trigger comscore, no COMSCORE object on page")}}}b.comscore={trigger:a}}(BI));$(function(){if(window.location.href.indexOf("https")!==-1){$("body").append('<iframe width="0" height="0" style="display: none" src="//rt.legolas-media.com/lgrt?ci=2&ti=16231&pbi=10919&lgif=1"></iframe>')}});(function(e,k,c){var m;var d={};var h=3;var j=0;var a;e(function(){m=e(".linkedin .network-listings ul");if(!m){return}if(e("#linkedin-page").length>0){a=true;h=10}if(typeof IN==="undefined"){return}IN.Event.onOnce(IN,"auth",g);i();if(window.location.hash==="#network-tab"){var n=e(".linkedin");n.find(".tabs-dotted ul li").removeClass("active");n.find(".network-listings").show();n.find(".selected-listings").hide();n.find('.tabs-dotted ul li [rel="network"]').parent("li").addClass("active")}});function g(){IN.API.Raw("people/~/network/updates:(update-content:(person:(id,first-name,last-name,pictureUrl,current-share:(content:(thumbnail-url,submitted-url,title,description)))))?type=SHAR").result(function(q){e.each(q.values,function(s,t){if(typeof(t.updateContent.person.currentShare.content)!=="undefined"){if(t.updateContent.person.currentShare.content.submittedUrl.indexOf("businessinsider")!=-1){b({thumbnail:t.updateContent.person.currentShare.content.thumbnailUrl,url:t.updateContent.person.currentShare.content.submittedUrl,title:t.updateContent.person.currentShare.content.title,name:t.updateContent.person.firstName+" "+t.updateContent.person.lastName,img:t.updateContent.person.pictureUrl})}}});var p=[];var r;for(var o in d){if(d.hasOwnProperty(o)&&j<h){if(!a){l(d[o])}else{r=d[o][0].url.split("/");p.push(r[r.length-1])}j++}}if(p.length>0){var n="trending_on_linkedin?action=network_list&ids="+p.concat();e.ajax({url:n}).done(function(s){if(s.html===""){m.replaceWith("<p>Sorry, we were unable to find any stories shared in your network.</p>")}else{m.replaceWith(s.html)}f()})}if(j===0){e(".linkedin .no-articles").show();f()}})}function b(n){if(!d[n.url]){d[n.url]=[n]}else{d[n.url].push(n)}}function l(o){var n;var p="and";if(o.length>2){p=","}if(o.length===1){o=o[0];n="<li>";if(o.url&&o.thumbnail){n+='<a class="float-left" href="'+o.url+'"><img src="'+o.thumbnail+'" border="0"></a>'}n+='<div class="float-left linkedin-link"><a href="'+o.url+'">';n+='<div class="float-right">';n+="</div>";n+=o.title;n+='</a><br /><span class="share-by"> Shared by '+o.name+"</span>";n+="</div>";n+="</li>"}else{var q="";o.forEach(function(s,r){if(r>1){return}if(q){q+=" "+p+" "}q+="<img class='user-img' src='"+s.img+"'>";q+=s.name});if(o.length>2){q+=" and "+(o.length-2)+" more"}n+="<li>";if(o.url&&o.thumbnail){n='<a class="float-left" href="'+o.url+'"><img src="'+o.thumbnail+'" border="0"></a>'}n+='<div class="listings">';n+='<a href="'+o.url+'">';n+='<div class="float-right">';n+="</div>";n+=o.title;n+='</a><br /><span class="share-by"> Shared by '+q+"</span>";n+="</div>";n+="</li>"}e(function(){m.append(n);f()})}function f(){e(".linkedin .not-logged").remove();e(".linkedin .login").hide()}function i(){e(".linkedin .nav a").click(function(o){if(e(this).attr("rel")==="network"){newLink="/trending_on_linkedin#network-tab"}else{newLink="/trending_on_linkedin"}e(".linkedin .footer p a").attr("href",newLink);e(this).tab("show");o.preventDefault()});e(".linkedin .login, .linkedin .not-logged .linkedin_login_link").click(function(){if(typeof(user_id)!=="undefined"){IN.User.authorize(g);return false}});var n=document.URL.replace(k.env.getDomain(),"");n=n.replace(/^\/perfect_market\/navigation(\?vertical=)?/,"/");n=n.replace(/&?msg=[^&]*/,"");n=n.replace(/\?$/,"");if(!n.match(/^\/login/)){e(".linkedin .not-logged .linkedin_login_link, .linkedin .header .login").attr("href",e(".linkedin .not-logged .linkedin_login_link").attr("href")+"?redirect="+n)}}}(jQuery,BI));(function(e,c,g){c.namespace("OoyalaEmbed");var d;var b=false;function a(i){i.preventDefault();d.setVolume(1);document.getElementById(d.elementId).removeEventListener("click",a);document.getElementById(d.elementId).removeEventListener("mousedown",a)}function f(i){d=i;d.mb.subscribe(OO.EVENTS.PLAYBACK_READY,"page",function(j){if(!b){d.setVolume(0);b=true}});document.getElementById(d.elementId).addEventListener("click",a);document.getElementById(d.elementId).addEventListener("mousedown",a)}var h={autoplay:true,onCreate:f};c.OoyalaEmbed={autoplay_muted:h}}(window,BI));(function(){if(BI.site!=="US"){return}var b=["OO","OoyalaPlayer1"];if(document.addEventListener){document.addEventListener("DOMContentLoaded",c)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);c()}})}}function c(){for(var d=0;d<b.length;d++){var e=b[d];if(window[e]){a(e);break}}}function a(d){window[d].plugin("AAB",function(f,h,i,e){var g=function(v,y){var j,x,m;var D,n=false,C=false,p,o,B=30000,l=1000;function u(){var E=new Date().getTime();D=D||E;if(n){return}if(m!=null&&!f.supportsFlash){return}if(C&&!p){return}if(!o&&m.error){r("error",m.error)}if(E-D>B){t()}else{if(!C){setTimeout(u,l)}else{if(o){setTimeout(u,l)}else{setTimeout(u,l)}}}}function t(){m.destroy();v.subscribe(f.EVENTS.DESTROY,"aab",E);E();function E(){var F=document.createElement("div");F.style.height="100%";F.style.backgroundColor="#000";F.style.color="#999";F.style.textAlign="center";F.innerHTML="<br><br>An error occurred when loading the player.<br>Please review your connection settings and try again.";document.getElementById(j).innerHTML="";document.getElementById(j).appendChild(F)}}function A(G,F){z();C=true;p=F.base.aabEnabled?F.base.aabEnabled==="true":false;q();for(var E in F.modules){switch(E){case"google-ima-ads-manager":break;case"freewheel-ads-manager":break}}}function q(){if(!p){var E="anti-adblocker";if(x.devModuleURL&&x.devModuleURL.toLowerCase().indexOf("aabadsmanager.swf")){E="dev-other"}if(x[E]&&x[E].aab&&x[E].aab.aabEnabled){p=true}}}function r(E,F){o=F&&F.code==="cannotDownloadThirdPartyModule"&&F.source==="flash"}function k(){n=true;var E=console.error;console.error=function(){if(!E.apply){Function.prototype.apply.apply(E,[console,arguments])}E.apply(console,arguments);var G=arguments&&arguments.length>0?arguments[0]:"";if(G.match(/Error\: Ad adLoadError/i)){var F=document.getElementById(j).getElementsByTagName("object");var H=null;if(F){if(F.length==1){H=F[0]}else{if(F.length==2){H=F[1]}}}if(H){if(G.match(/errorCode\: 1001/i)){if(H.adLoadEmptyVast){H.adLoadEmptyVast()}}else{if(H.adLoadError){H.adLoadError()}}}}}}function w(F,E,G){j=E;x=G}function z(){if(!m&&f.supportsFlash){m=f.players[j];if(m){s();setTimeout(u,l)}}}function s(){v.subscribe("aabLoaded","aab",k);v.subscribe("aabBlocked","aab",t);v.subscribe("preDetectionComplete","aab",function(){});v.subscribe("noAdBlockerDetected","aab",function(){});v.subscribe("adBlockerDetected","aab",function(){})}if(f.supportsFlash){v.subscribe(f.EVENTS.PLAYER_CREATED,"aab",w);v.subscribe(f.EVENTS.PLAYER_EMBEDDED,"aab",z);v.subscribe(f.EVENTS.METADATA_FETCHED,"aab",A);v.subscribe(f.EVENTS.ERROR,"aab",r)}};return g})}}());(function(define){define([],function(){if(!document.getElementById){throw ("Browser not compatible")}if(window.Lightstreamer){throw ("Warning: Lightstreamer singleton already on the page; lscommons.js should be the first Lightstreamer file included")}var Lightstreamer=function(){};Lightstreamer={Dp:false,hV:" 29355 $",LC:false,uY:function(){},XJ:function(Xp){var gB="";for(var gb in Xp){if(!this[gb]){this[gb]=Xp[gb]}else{}}},tD:function(bL,Mg,qN){var Mc={};for(var gb in Mg.prototype){if(bL.prototype[gb]){if(!qN){var Il="super_"+gb;while(Mg.prototype["_"+Il]){Il="super_"+Il}bL.prototype["_"+Il]=Mg.prototype[gb]}else{if(qN==="O"){bL.prototype[gb]=Mg.prototype[gb]}}}else{if(gb.indexOf("_super_")!=0||!qN){bL.prototype[gb]=Mg.prototype[gb]}}}if(!qN){var OG="_super";while(bL.prototype[OG]){OG+="_super"}bL.prototype[OG]=Mg}if(!bL.prototype.ao){bL.prototype.ao=this.DP}if(!bL.prototype.eV){bL.prototype.eV=this.DU}},DP:function(vI,Jf){if(vI.prototype["_super_"+Jf]){while(vI.prototype["_super_"+Jf]){Jf="super_"+Jf}Jf="_"+Jf}else{return}if(this[Jf].apply){return this[Jf].apply(this,Lightstreamer.nV(arguments,2))}},DU:function(vI){var Jf="_super";if(vI.prototype[Jf]){while(vI.prototype[Jf+"_super"]){Jf+="_super"}if(this[Jf].apply){this[Jf].apply(this,Lightstreamer.nV(arguments,1))}}},nV:function(OK,ZM){var hn=[];for(var Bo=ZM,vS=OK.length;Bo<vS;Bo++){hn[Bo-ZM]=OK[Bo]}return hn},TC:[],getLogger:function(){return Lightstreamer.KN},Gc:function(){return new Date().getTime()}};(function(ls){var Qj="gi_buf";ls.XJ({sV:"CONNECTING",pC:"STREAMING",dN:"STALLED",Ba:"POLLING",tX:"DISCONNECTED",xn:{length:-1},xS:new RegExp("^[a-zA-Z0-9]*$"),bg:new RegExp("^[a-zA-Z0-9_]*$"),VZ:new RegExp("^[a-zA-Z0-9_.^]*$"),Vq:"LS4_",Ya:function(IU){var xi=[].concat(IU);if(typeof(xi[0])=="undefined"){return xi}return[null].concat(xi)},aE:function(eT){if(window.encodeURIComponent){return encodeURIComponent(eT)}else{eT=escape(eT);return eT.replace(ls.Qg,"%2B")}},jd:function(UX){if(window.decodeURIComponent){return decodeURIComponent(UX)}else{return unescape(UX)}},Oa:function(MV,PP,Ls){ls.QK(MV,function(PX){if(ls.LC){return}PP(PX)},Ls)},QK:function(MV,PP,Ls){if(typeof window.addEventListener!="undefined"){window.addEventListener(MV,PP,false);return true}else{if(typeof document.addEventListener!="undefined"&&!Ls){document.addEventListener(MV,PP,false);return true}else{if(typeof window.attachEvent!="undefined"){return window.attachEvent("on"+MV,PP)}else{return false}}}},BO:function(Fu,dL,em,MN,min,max){var Kg=new Number(Fu);var jm=this.sc?this.sc:ls.Lu;if(isNaN(Kg)){jm.dSW("This is a not valid value for "+dL+': "'+Fu+'". Please use a number',dL);return em}else{if(MN==true&&Kg!=Math.round(Kg)){jm.dSW("This is a not valid value for "+dL+": "+Fu+". Please use an integer",dL);return em}else{if(!isNaN(min)&&Kg<min){jm.dSW("This is a not valid value for "+dL+": "+Fu+". The minimum value allowed is "+min,dL);return em}else{if(!isNaN(max)&&Kg>max){jm.dSW("This is a not valid value for "+dL+": "+Fu+". The maximum value allowed is "+max,dL);return em}else{jm.log(dL,Kg);return Kg}}}}},Wb:function(Fu,dL,em){var jm=this.sc?this.sc:ls.Lu;if(Fu===true||Fu===false){jm.log(dL,Fu);return Fu}else{jm.dSW("This is a not valid value for "+dL+': "'+Fu+'". Please use true or false',dL);return em}},TJ:function(xA){if(this.ox!=null&&this.ox!=""){var MH=""+xA;var ml=""+this.ox;if(MH.toLowerCase().indexOf(ml.toLowerCase())==-1){return false}}return true},UG:function(Fu){if(typeof Fu!="undefined"){if(Fu===true||Fu===false){return Fu===true}else{if(Fu==null){return null}else{if(!isNaN(Fu)&&Fu!=""){return parseFloat(Fu,10)}else{if((Fu||Fu=="")&&Fu.toString){return Fu.toString()}else{if(isNaN(Fu)){return NaN}else{ls.Lu.dGc(false,"UG");return Fu}}}}}}return null},tQ:new RegExp("^\\s*([\\s\\S]*?)\\s*$"),Aq:function(mx){return mx.replace(ls.tQ,"$1")},iH:function(YW,jp){return !YW||(jp.toLowerCase()=="http:"&&YW==80)||(jp.toLowerCase()=="https:"&&YW==443)},Dw:function(fN,Bl){var NC=[];for(var xh=0,vS=fN.length;
gb<vS;gb++){if(fN[xh]==null){NC[xh]=null}else{if(Bl){NC[xh]=new Number(fN[xh])}else{NC[xh]=new String(fN[xh])}}}return db},Sk:function(fN,Bl){var db={};for(var xh in fN){if(fN[xh]==null){db[xh]=null}else{if(Bl){db[xh]=new Number(fN[xh])}else{db[xh]=new String(fN[xh])}}}return db},MY:function(max){max=max?max:1000;return Math.round(Math.random()*max)},getClosureFor:function(Vr,hC){return function(){var OK=arguments;return function(){Vr.apply(hC,OK)}}},getClosureForNoParams:function(Vr,hC){return function(){Vr.apply(hC,arguments)}},Pb:function(){return navigator.onLine===false},RM:Qj.substring(1,2),Hj:Qj.substring(0,1),Gq:Qj.substring(0,2),Qg:new RegExp("\\+",ls.Gq)})})(Lightstreamer);Lightstreamer.avoidLSGlobals=false;Lightstreamer.XJ({nW:function(){this.BS(["ChartLine","ChartTable","DynaMetapushTable","DynaScrollTable","FieldNameDescriptor","FieldPositionDescriptor","GroupIdDescriptor","GroupListDescriptor","ItemNameDescriptor","ItemPositionDescriptor","LabelFormatter","MetapushTable","MultiDynaMetapushTable","NonVisualTable","OverwriteTable","PushPage","SchemaIdDescriptor","SchemaListDescriptor","ScreenTableHelper","ScrollTable","FlashBridge","MessageListener"],true,true)},BS:function(cc,UL,HD){for(var gb=0;gb<cc.length;gb++){this.ax(cc[gb])}if(UL){window.LS_cell=Lightstreamer.cellOverwrite;window.LS_cs=Lightstreamer.cellScroll;window.LS_cM=Lightstreamer.cellMetapush}if(HD){window.LS_fadeCell=Lightstreamer.kf}},ax:function(dL){if(Lightstreamer[dL]){window[dL]=Lightstreamer[dL]}},Mp:function(){var Au=document.getElementsByTagName("script");for(var gb=0;gb<Au.length;gb++){var KL=null;if((KL=/lspushpage\.js\?(.*)$/.exec(Au[gb].src))!=null){Lightstreamer.avoidLSGlobals=(KL[1]=="avoidLSGlobals=true")}}}});Lightstreamer.XJ({gG:null,Qr:null,PB:function(){if(this.gG!=null){return this.gG}if((document.childNodes)&&(!document.all)&&(!navigator.taintEnabled)&&(!navigator.accentColorName)){this.gG=true;return true}this.gG=false;return false},Uu:function(){if(this.Qr!=null){return this.Qr}if(this.PB()){cv=navigator.userAgent;if(cv){if(cv.indexOf(" Version/")>-1){if(cv.indexOf(" Version/3.0")<=-1){this.Qr=false;return false}}else{if(cv.indexOf("Chrome/")>-1){this.Qr=false;return false}}}this.Qr=true;return true}this.Qr=false;return false},VI:new RegExp("[^0-9.]+",Lightstreamer.Hj),oE:null,aI:function(ug,HI){if(window.opera){if(!ug){return true}if(this.oE===null){if(!window.opera.version){this.oE=7}else{var Mv=window.opera.version();Mv=Mv.replace(this.VI,"");this.oE=parseFloat(Mv)}}if(HI===true){return this.oE<=ug}else{if(HI===false){return this.oE>=ug}else{return this.oE==ug}}}return false},ss:new RegExp("msie([0-9]+)[.;]",Lightstreamer.Hj),Uv:null,Kp:function(ug,HI){if(window.ActiveXObject){if(this.Uv===null&&ug){var Fv=navigator.userAgent.toLowerCase();var KL=this.ss.exec(Fv);if(KL&&KL.length>=2){this.Uv=KL[1]}}if(this.Uv!==null&&ug){if(HI===true){return this.Uv<=ug}else{if(HI===false){return this.Uv>=ug}else{return this.Uv==ug}}}return true}return false},aP:null,xR:function(){if(this.aP!==null){return this.aP}var Fv=navigator.userAgent.toLowerCase();if(window.ScriptEngine&&(ScriptEngine().indexOf("InScript")>-1)){if(Fv.indexOf("icab")>-1){Lightstreamer.LT.log("xR","iCab");this.aP=true;return true}}if(document.all){iD=Fv.indexOf("msie");if(iD>-1){Ci=Fv.substring(iD+5,iD+8);if(Ci.indexOf(5)>-1){Lightstreamer.LT.log("xR","IE5");this.aP=true;return true}}}Lightstreamer.LT.log("xR",false);this.aP=false;return false},Np:{},mh:new RegExp("Firefox\\/(\\d+\\.?\\d*)"),CV:function(ug,HI){if(this.Np===null){return false}if(!ug){ug=-1;HI=false}else{HI=HI===true||HI===false?HI:""}if(this.Np[ug+""+HI]||this.Np[ug+""+HI]===false){return this.Np[ug+""+HI]}var dK=navigator.userAgent;if(dK.indexOf("Firefox")<=-1){this.Np=null;return false}var Sv=0;if(dK.indexOf("Firefox/")>-1){var IJ=this.mh.exec(dK);if(IJ){Sv=Number(IJ[1])}}var KL;if(HI===true){KL=Sv<=ug}else{if(HI===false){KL=Sv>=ug}else{KL=Sv==ug}}this.Np[ug+""+HI]=KL;return KL},XK:null,Jt:function(){if(this.XK!==null){return this.XK
}var dK=navigator.userAgent;dK=dK.toLowerCase();this.XK=dK.indexOf("android")>-1&&dK.indexOf("webkit")>-1;return this.XK},Vc:null,Gj:function(){if(this.Vc!==null){return this.Vc}var dK=navigator.userAgent;this.Vc=dK.indexOf("Chrome/")>-1;return this.Vc}});(function(ls){ls.XJ({BY:function(Zn,kw){ls.FL.log("BY",Zn,kw);this.en(Zn,kw,"")},en:function(Zn,kw,YL){var og="";if(ls.ox!=null&&ls.ox!=""){og="domain=."+ls.ox+"; "}var Ka=ls.aE(Zn)+"="+kw+"; ";var SC=Ka+og+YL+"path=/;";document.cookie=SC;ls.FL.log("en",SC)},Fm:function(Zn){Zn=ls.aE(Zn)+"=";var sT=document.cookie.toString();sT=sT.split(";");var jm=ls.FL;for(var gb=0;gb<sT.length;gb++){sT[gb]=ls.Aq(sT[gb]);jm.log("Fm",Zn,"?",sT[gb]);if(sT[gb].indexOf(Zn)==0){var dW=sT[gb].substring(Zn.length,sT[gb].length);jm.log("Fm",Zn,dW);return dW}}jm.log("Fm",Zn,null);return null},fI:function(Zn){ls.FL.log("fI",Zn);var bI=new Date();bI.setTime(bI.getTime()-86400000);var YL="expires="+bI.toGMTString()+"; ";this.en(Zn,"deleting",YL)},OV:false,Vk:function(){var jm=ls.FL;jm.log("Vk",0);var Ib=ls.MY();var iL="LS__cookie_test"+Ib;this.BY(iL,"testing");var YA=this.Fm(iL);if(YA=="testing"){jm.log("Vk",1);this.fI(iL);YA=this.Fm(iL);if(YA==null){jm.log("Vk",2);this.OV=true}}},Am:1000,uf:200})})(Lightstreamer);Lightstreamer.XJ({Ie:"|",Fk:function(Zn){var ft=this.Fm(Zn);if(!ft){return null}var Bg=ft.split(this.Ie);if(Bg[0]==""){Bg.shift()}if(Bg[Bg.length-1]==""){Bg.pop()}return Bg.length>0?Bg:null},Rl:function(Zn,id){var kw=this.Fm(Zn);if(!kw){kw=this.Ie}else{if(kw.indexOf(this.Ie+id+this.Ie)>-1){return false}}kw+=id+this.Ie;this.BY(Zn,kw);return true},kO:function(Zn,id){var kw=this.Fm(Zn);if(!kw){return}var fn=this.Ie+id+this.Ie;if(kw.indexOf(fn)>-1){kw=kw.replace(fn,this.Ie);if(kw==this.Ie){this.fI(Zn)}else{this.BY(Zn,kw)}}},KK:function(Zn,Se){var kw=Se.join(this.Ie);this.BY(Zn,kw)}});(function(ls){ls.Ms=function(uI){this.nZ=null;if(typeof uI!="undefined"){this.nZ=uI}else{this.nZ={}}};ls.Ms.So=function(fN,Bl){var LN={};var nZ=fN.YT();for(var SK in nZ){LN[SK]={};for(var wm in nZ[SK]){if(nZ[SK][wm]==null){LN[SK][wm]=null}else{if(Bl){LN[SK][wm]=new Number(nZ[SK][wm])}else{LN[SK][wm]=new String(nZ[SK][wm])}}}}return new this(LN)};ls.Ms.prototype={TA:function(qq,SK,wm){if(!this.nZ[SK]){this.nZ[SK]={}}this.nZ[SK][wm]=qq},FS:function(SK,wm){if(!this.nZ[SK]){return null}if(typeof this.nZ[SK][wm]=="undefined"){return null}return this.nZ[SK][wm]},ek:function(SK,wm){if(!this.nZ[SK]){return}if(this.nZ[SK][wm]){delete (this.nZ[SK][wm])}for(var gb in this.nZ[SK]){return}delete (this.nZ[SK])},insertRow:function(Hf,SK){this.nZ[SK]=Hf},Qh:function(SK){if(!this.nZ[SK]){return null}return this.nZ[SK]},qC:function(SK){var uM=this.Qh(SK);this.BQ(SK);return uM},BQ:function(SK){if(!this.nZ[SK]){return}delete (this.nZ[SK])},YT:function(){return this.nZ}}})(Lightstreamer);Lightstreamer.bh=function(WS){this.Um=WS?WS:"GE"};Lightstreamer.bh.prototype={Px:function(pq){var KL=false;if(pq){KL=Lightstreamer.KN.Px(pq)}return KL||Lightstreamer.KN.Px(this.Um)},cg:function(QF){if(Lightstreamer.Mx){this.log(QF,arguments,Lightstreamer.Mx)}else{this.log(QF,arguments)}},log:function(QF){if(!this.Px()){return}if(Lightstreamer.obfMap){QF=Lightstreamer.obfMap.pgh(QF)}var fA=this.NQS(arguments);Lightstreamer.KN.XHj(this.Um,fA)},hu:function(EY,QF,Um,oB,OK){if(!this.Px(Um)){return}if(Lightstreamer.obfMap){OK[oB]=Lightstreamer.obfMap.pgh(OK[oB])}var fA=EY+" "+this.NQS(OK,oB);if(this.Um!=Um){Lightstreamer.KN.XHj(this.Um,fA,EY)}Lightstreamer.KN.XHj(Um,fA,EY)},MG:function(XW,QF){this.hu(this.upH(XW),QF,"EX",1,arguments)},JTF:function(QF,Ke){this.hu(Ke,QF,"EX",1,arguments)},error:function(EQ,QF){this.hu(EQ,QF,"ER",1,arguments)},dSW:function(EQ,QF){this.error(EQ,QF);throw (EQ)},GSR:function(EQ,QF){if(!this.Px("ER")){return}Lightstreamer.fJ.EHb(this.error,0,this,[EQ,QF])},PqW:function(XW,Ke,QF){this.hu(this.upH(XW,Ke),QF,"ER",2,arguments)},dGc:function(De,QF){if(!De){this.hu("",QF,"AS",1,arguments)}},NQS:function(OK,Lh){Lh=Lh?Lh:0;var fA=" ";for(var gb=Lh;
gb<OK.length;gb++){try{var Ss=OK[gb];if(Ss==null){fA+="NULL"}else{if(Ss.prototype){fA+=Ss.apply()}else{if(Ss.length<0){fA+="*"}else{if(Ss.charAt!=null){fA+=Ss}else{if(Ss[0]==Ss){fA+=Ss}else{if(Ss.length!=null&&Ss.top==null){fA+="(";fA+=this.NQS(Ss);fA+=")"}else{fA+=Ss}}}}}}fA+=" "}catch(XW){fA+="missing-parameter "}}return fA},upH:function(XW,Ov){var ck=XW.message;if(typeof ck=="undefined"){if(XW.getMessage){ck=XW.getMessage()}if(typeof ck=="undefined"){ck=XW}}var KL="exception\n"+ck+" \n\n";if(Ov){KL+="thrown by your callback\n\n"+Ov}if(XW.stack){KL+=XW.stack;KL+="\n"}return KL}};(function(ls){ls.LogSystem=function(){this.hK="";this.gv={};this.gv.length=0;this.xY=0;this.UZ=new ls.BufferConsumer();this.addConsumer(this.UZ,true);this.UZ.Il++;this.UZ.wt[0]="START OF LOG";this.UZ.wt[0+"_C"]="GE";this.jK={};this.sc=this.getLogger("LS")};ls.LogSystem.prototype={getLogger:function(WS){if(!this.jK[WS]){this.jK[WS]=new ls.bh(WS)}return this.jK[WS]},getInternalLog:function(){return this.UZ},addConsumer:function(ka,LV){this.gv[this.gv.length]=ka;this.gv.length++;ka.Xk=this;if(LV!=true){this.UZ.sendLogToConsumer(ka)}var LP=ka.bP.split(" ");this.AK(LP)},removeConsumer:function(ka){Ei=false;var gb=0;while((gb<this.gv.length)&&(!Ei)){if(this.gv[gb]==ka){this.cP(gb);Ei=true}gb++}return Ei},cP:function(gb){Yv=this.gv.length-1;if(gb!=Yv){this.gv[gb]=this.gv[Yv]}delete (this.gv[Yv]);this.gv.length--;this.Sc()},Ys:function(Um){if(!Um){return}if(this.hK.indexOf(Um)>-1){return}if(this.hK==""){this.hK+=Um}else{this.hK+=" "+Um}this.UZ.addLogCategory(Um)},AK:function(bP){for(var Um in bP){this.Ys(bP[Um])}},Sc:function(){this.hK="";for(var gb=0;gb<this.gv.length;gb++){var LP=this.gv[gb].bP.split(" ");this.AK(LP)}},XHj:function(WS,fA,oO){if(!this.Px(WS)){return}var ZD=++this.xY;fA=this.amP(ZD)+WS+" "+fA;this.TL(WS,fA,oO);return fA},Px:function(WS){if(this.hK.length==0||this.hK.indexOf(WS)==-1){return false}return true},amP:function(ZD){var XC=new Date();var fA=window.name;fA+=" ";fA+=ZD;fA+=": ";fA+=XC.getHours();fA+=":";fA+=XC.getMinutes();fA+=":";fA+=XC.getSeconds();fA+=",";fA+=XC.getMilliseconds();fA+=" ";return fA},TL:function(WS,fA,oO){var gb;for(gb=0;gb<this.gv.length;gb++){var ka=this.gv[gb];try{if(ka.bP.indexOf(WS)>-1){if(ka.wN==true){ka.FIm(oO,WS)}else{ka.FIm(fA,WS)}}}catch(XW){}}},aJ:function(ka,qb){this.sc.error("Sorry, the "+ka+" is not compatible with this Browser",qb)},Vkt:function(Um){return(Um=="ER"||Um=="AS"||Um=="EX")},Hed:function(){for(var gb=0;gb<this.gv.length;gb++){if(this.gv[gb].Yc){this.gv[gb].Yc()}}},ANj:function(hC,Ke,EY){var Ui=true;if((typeof WN!="undefined")&&(WN)){Ui=!iO.fPl("onClientAlert","phZ",{Ke:Ke,EY:EY})}if(Ui&&hC.onClientAlert){try{hC.onClientAlert(Ke,EY)}catch(XW){this.sc.PqW(XW,hC.onClientAlert,"onClientAlert")}}},hSe:function(){var wt=new ls.BufferConsumer();wt.setHistoryDim(10);wt.addLogCategory("ER");wt.wN=true;ls.TX=wt;this.addConsumer(wt)},nYV:function(Mf,pH){with(Lightstreamer){if(Ve==null&&TX!=null){Ve=new FunctionConsumer(Mf,pH);Ve.addLogCategory("ER");Ve.wN=true;this.removeConsumer(TX);TX.sendLogToConsumer(Ve);this.addConsumer(Ve,true);TX=null}}}};ls.TC.push(function(){ls.KN=new ls.LogSystem();ls.KN.UZ.setHistoryDim(5)})})(Lightstreamer);Lightstreamer.XJ({Qc:null,Vj:null,Ve:null,TX:null});(function(ls){ls.LogConsumer=function(){this.Xk;this.bP="";this.wN=false};ls.LogConsumer.prototype={FIm:function(fA,Um){},isCompatible:function(){return false},addLogCategory:function(Um){if(!Um){return}if(this.bP.indexOf(Um)>-1){return}if(this.bP==""){this.bP+=Um}else{this.bP+=" "+Um}if(this.Xk){this.Xk.Ys(Um)}},getLogCategories:function(){return this.bP}}})(Lightstreamer);(function(ls){ls.BufferConsumer=function(){this.eV(ls.BufferConsumer);this.QX=0;this.Nw=0;this.Il=-1;this.wt={}};ls.BufferConsumer.prototype={isCompatible:function(){return true},extractLog:function(wf,Qd,qc,AN){var gb;var Cm=1;if(wf==null){gb=this.Nw}else{gb=this.Il-wf+1;if(gb<this.Nw){gb=this.Nw}}if(Qd==null){Qd="\n"}var fc="";AN=AN===true;while(gb<=this.Il){if(typeof qc!="undefined"&&qc){fc+=qc;
if(AN){fc+=Cm+"="}}if(AN){fc+=ls.aE(this.wt[gb].replace(/[\n\r\f]/g,"||"))}else{fc+=this.wt[gb]}fc+=Qd;gb++;Cm++}return fc},sendLogToConsumer:function(ka){var gb=this.Nw;while(gb<=this.Il){if(ka.bP.indexOf(this.wt[gb+"_C"])>-1){ka.FIm(this.wt[gb],this.wt[gb+"_C"])}gb++}},setHistoryDim:function(If){this.QX=If},FIm:function(fA,Um){var ZD=++this.Il;var Lh=ZD-this.QX+1;while(this.Nw<Lh){delete (this.wt[this.Nw]);delete (this.wt[this.Nw+"_C"]);this.Nw++}this.wt[ZD]=fA;this.wt[ZD+"_C"]=Um}};ls.tD(ls.BufferConsumer,ls.LogConsumer)})(Lightstreamer);(function(ls){ls.RemoteConsumer=function(Ox,Nj,Fl){this.eV(ls.RemoteConsumer);this.Ox=Ox;this.Nj=Nj?Nj:0;this.Fl=Fl?Fl:0;this.QZ=0;this.cA=0;this.vW=100;this.wt=new ls.BufferConsumer();this.wt.setHistoryDim(this.Ox)};ls.RemoteConsumer.prototype={kPB:function(){var jg=false;if((typeof WN!="undefined")&&(WN)){jg=true}else{if(!ls.Db||!ls.Db.vk){if(this.cA<this.vW){this.wt.setHistoryDim(this.cA+1)}return}}var AQ=this.wt.extractLog(this.cA,"&","LS_log",true);if(AQ!=""){if(jg){WN.eFS(AQ)}else{ls.Db.BR("eFS",AQ)}}this.cA=0;this.wt=new ls.BufferConsumer();this.wt.setHistoryDim(this.Ox)},Yc:function(){ls.fJ.EHb(this.kPB,0,this)},FIm:function(fA,Um){if(this.Fl>0&&this.QZ>=this.Fl){if(this.cA>0){this.Yc()}return}if(this.Nj>0&&fA.length>this.Nj){fA=fA.substr(0,this.Nj)}this.cA++;this.wt.FIm(fA,Um);this.QZ++;if(this.cA>=this.Ox){this.Yc()}},VWh:function(Wf){if(!Wf){this.Nj=0}else{this.Nj=Wf}},NDJ:function(max){if(!max){this.Fl=0}else{this.Fl=max}},isCompatible:function(){return true}};ls.tD(ls.RemoteConsumer,ls.LogConsumer)})(Lightstreamer);(function(ls){ls.FunctionConsumer=function(Ua,Du,aY){this.eV(ls.FunctionConsumer);this.Ua=Ua;this.aY=aY?aY:Ua;this.Du=Du};ls.FunctionConsumer.prototype={isCompatible:function(){if(!this.Ua){return false}return(this.Ua.apply)?true:false},FIm:function(fA,Um){var vM=new Array(fA);var Jf=this.Ua;if(ls.KN.Vkt(Um)){Jf=this.aY}if(Jf.apply){try{Jf.apply(this.Du,vM)}catch(XW){}}}};ls.tD(ls.FunctionConsumer,ls.LogConsumer)})(Lightstreamer);(function(ls){ls.AlertConsumer=function(Ox){this.eV(ls.AlertConsumer);this.xu=Ox;this.cA=0;this.wt=new ls.BufferConsumer();this.wt.setHistoryDim(this.xu)};ls.AlertConsumer.prototype={isCompatible:function(){return window.alert},FIm:function(fA,Um){this.cA++;this.wt.FIm(fA,Um);if(this.cA>=this.xu){this.cA=0;ls.fJ.EHb(this.fsO,0,this,[this.wt.extractLog(this.xu,"\n")]);this.wt=new ls.BufferConsumer();this.wt.setHistoryDim(this.xu)}},fsO:function(text){alert(text)}};ls.tD(ls.AlertConsumer,ls.LogConsumer)})(Lightstreamer);(function(ls){var SJ="popup warning";ls.BP=function(ZG){this.tW=ZG;this.sc=ls.KN.getLogger("FM");this.Tw=ls.KN.getLogger("CE");this.jT=ls.KN.getLogger("M1")};ls.BP.prototype={ohO:function(jg,Rx){var KL=this.Fui(jg,Rx);this.Tw.cg("ohO",jg,Rx,KL.GN,KL.log,KL.qa);return KL},Fui:function(jg,Rx){var cH={};var wh=1;try{if(this.tW==null){wh=2;cH.log="null";cH.NR=1;cH.qa=true;return cH}else{if(this.tW.closed){wh=3;this.tW=null;cH.log="closed";cH.NR=2;cH.qa=true;return cH}else{if(!this.tW.Lightstreamer||(jg&&!this.tW.Lightstreamer.Dp)){wh=4;cH.log=(!this.tW.Lightstreamer)?"not global":"not active";cH.NR=(!this.tW.Lightstreamer)?3:4;this.tW=null;cH.qa=false;return cH}else{if(jg){if(this.tW.iO){wh=5;if(!this.tW.WN){wh=11;this.tW=null;cH.log="too young";cH.NR=5;cH.qa=false;return cH}else{if(Rx&&!this.tW.WN.dS){wh=6;this.tW=null;cH.log="wait conf";cH.NR=7;cH.qa=false;return cH}}}else{if(this.tW.Lightstreamer.Vp){if(this.tW.Lightstreamer.Vp.rl){wh=7;var SQ=this.tW.Lightstreamer.Vp.rl;if(ls.Vp){ls.Vp.rl=SQ}this.tW=SQ;var Wt=this.ohO(true);Wt.log="linked: "+Wt.log;cH.NR=8;return Wt}else{wh=8;this.tW=null;cH.log="linked w/o reference";cH.NR=9;cH.qa=false;return cH}}else{wh=9;this.sc.dGc(false,"ohO",this.tW);this.tW=null;cH.log="not engine";cH.NR=10;cH.qa=true;return cH}}}}}}wh=10;cH.log="OK";cH.NR=11;cH.GN=true;return cH}catch(XW){this.tW=null;cH.log="exception "+wh+" "+XW;cH.NR=12;cH.qa=true;return cH}},taf:function(Pr,Zr){var RG=Pr+"__TRASH";var kh=this.YvS(Pr,RG);
var Zv='eval("'+kh+'; ")';this.sc.log("taf",1);var iq=ls.ZVw("javascript:"+Zv,Pr);this.sc.log("taf",2,iq);if(iq===false){return false}else{if(!iq){var iq=ls.ZVw(ls.dD,Pr);this.sc.log("taf",4,iq);if(iq===false){return false}else{if(iq==null){this.jT.log(SJ,1);return true}}}}try{this.sc.log("taf",5);if(iq.closed){return true}if(Zr){this.sc.log("taf",5.1);if(iq==iq.top&&!iq.Lightstreamer){this.sc.log("taf",5.2);this.jT.log(SJ,2);try{this.dn(iq,Pr,RG)}catch(XW){this.sc.MG(XW,"taf",22)}return true}iq=iq.parent;this.sc.log("taf",5.3);if(iq==null){return true}}this.sc.log("taf",6);if(!iq.Lightstreamer){return true}this.sc.log("taf",7);if(!iq.Lightstreamer.KN){return true}this.sc.log("taf",8);this.tW=iq}catch(XW){this.sc.MG(XW,"taf",11)}return true},vPQ:function(FX,jH){if(this.taf("LS__"+FX,true)===false){return false}var gB=this.ohO(true,!jH);return gB},YvS:function(dL,wa){var GA=function(dL,wa){if(window.name==dL){if(window==top&&!(window.Lightstreamer&&window.Lightstreamer.KN)){window.name=wa;window.close()}}};var kx="callFun";return"var "+kx+" = "+GA.toString()+"; "+kx+"('"+dL+"', '"+wa+"');"},dn:function(iq,Pr,RG){if(iq.name!=Pr&&iq.name!=RG){return}iq.close()}}})(Lightstreamer);Lightstreamer.XJ({CU:0,NG:0,hm:false,jUG:"You have Norton Internet Security or Norton\nPersonal Firewall installed on this computer.\nIf no real-time data show up, then you need\nto disable Ad Blocking in Norton Internet\nSecurity and then refresh this page",ZVw:function(DQ,Pr,qf){var cH=null;Lightstreamer.LT.log("ZVw",document.cookie);try{cH=this.dao(DQ,Pr,qf)}catch(XW){Lightstreamer.LT.MG(XW);return false}if(cH){try{this.NG++}catch(fp){this.LC=true}}return cH},dao:function(DQ,Pr,qf){if(window.SymError){var Tg=true;if((this.NG-this.CU)<-5){Tg=false}if(window.SymRealWinOpen&&Tg){this.CU++;Lightstreamer.LT.log("dao",1);return window.SymRealWinOpen(DQ,Pr,"height=100,width=100",true)}else{if(!this.hm){this.hm=true;Lightstreamer.LT.GSR(this.jUG,"window.open");var ST=null;if(window.WN){ST=WN}else{if(Lightstreamer.Vp){ST=Lightstreamer.Vp}}if(ST!=null){Lightstreamer.KN.ANj(ST,100,this.jUG)}}}Tg=true;this.CU=0;return null}else{if(!qf&&Lightstreamer.Gc()-Lightstreamer.mr>Lightstreamer.uP){return false}return null}}});Lightstreamer.XJ({EZZ:function(eC){var Zb=0;var dm=eC.length;for(var gb=0;gb<dm;gb++){Zb+=eC.charCodeAt(gb)}return parseInt(Zb)},hFx:function(gs,Zn,Lh,Hn,wJ){var EJ=3;var aD;var KM=Lh;var dk=Lh-Hn;var KL="";var Zb=this.EZZ(Zn.toString());if(Zb>0){var rh=gs.length;if(rh>0){var gb;for(gb=0;KM+EJ-gb<=rh;gb+=3){var hM=gb;if(dk>0){for(hM=Zb*3;hM>=dk;hM-=dk){}}var jD=gs.substring(gb,EJ-1);var Je=gs.substring(hM,hM+2);var Ji=gs.substring(KM,KM+EJ-gb);aD=parseInt(jD)-parseInt(Je)+wJ-parseInt(Ji);var HN=unescape("%"+aD.toString(16));KL=HN+KL;EJ+=3;KM+=3;Zb+=aD}}}return KL}});(function(ls){Lightstreamer.MessageListener=function(){};Lightstreamer.MessageListener.prototype={onAbort:function(){return},onError:function(){return},onDiscarded:function(){return},onDeny:function(code,message){return},onProcessed:function(){return}}})(Lightstreamer);(function(ls){ls.ZN=function(oC){this.name=null;this.parent=null;this.sc=ls.KN.getLogger("OP");if(oC){this.Aw(oC)}};ls.ZN.prototype={JnG:ls.BO,wia:ls.Wb,kdx:function(Xf,Fu){this[Xf]=ls.UG(Fu);if(this.parent==window.WN){this.TV(Xf)}},TV:function(HR,ZT,Ah){var PX="WPQ";var ji={pH:this.name,Xf:HR};ji.Fu=ls.UG(this[HR]);this.sc.log("TV",HR,(HR!="qW"?this[HR]:"[...]"));if(this.parent==window.WN){var vA=iO.qZs();for(var gb in vA){vA[gb].BR(PX,ji)}}else{if(!ls.Db.rtZ(PX,ji)){this.sc.error("The LightstreamerEngine instance is not available",ZT);this[HR]=Ah;return false}}return true},Aw:function(tv){var EM=this.BB;for(var gb=0;gb<EM.length;gb++){this[EM[gb]]=ls.UG(tv[EM[gb]])}}}})(Lightstreamer);Lightstreamer.ox=null;Lightstreamer.dD="lsblank.html?";(function(ls){var BB=["Ne","Up","ib","Nj","Fl"];Lightstreamer.Context=function(){this.Ne=null;this.Up=null;this.ib=null;this.Nj=0;this.Fl=0;this.KN=null;this.BB=BB;this.eV(ls.Context,arguments[0]);
this.name="context"};Lightstreamer.Context.prototype={getLogger:function(){return this.KN},Aw:function(tv){this.ao(ls.Context,"Aw",tv);if(!this.KN&&tv.KN){this.KN=tv.KN}},bind:function(){if(this.parent&&this.parent!=window.WN){return}if(ls.ox!=null&&ls.ox!=""){document.domain=ls.ox;var Jc="domain="+ls.ox+"&";ls.dD+=Jc;if(ls.Wa){ls.Wa.xT=Jc}}ls.Iv=this;ls.Vk();return true},setDebugAlertsOnClientError:function(Zi){var Ah=this.Up;this.Up=Zi===true;if(this.parent==null){this.EW()}else{this.TV("Up","setDebugAlertsOnClientError",Ah)}},EW:function(){if(this.Up){if(!ls.Qc){var Qc=new ls.AlertConsumer(1);Qc.addLogCategory("ER");ls.KN.addConsumer(Qc,true);ls.Qc=Qc;this.sc.log("EW",1)}else{this.sc.log("EW",2)}}else{if(ls.Qc){ls.KN.removeConsumer(ls.Qc);ls.Qc=null;this.sc.log("EW",3)}else{this.sc.log("EW",4)}}},setRemoteAlertsOnClientError:function(Zi,Nj,Fl){var WH=this.ib;var lh=this.Fl;var nC=this.Nj;this.ib=Zi===true;if(Fl){this.Fl=this.JnG(Fl,"setRemoteAlertsOnClientError",this.Fl,true,0)}if(Nj){this.Nj=this.JnG(Nj,"setRemoteAlertsOnClientError",this.Nj,true,0)}if(this.parent==null){this.iU()}else{var KL=this.TV("Fl","setRemoteAlertsOnClientError");KL&=this.TV("Nj","setRemoteAlertsOnClientError");KL&=this.TV("ib","setRemoteAlertsOnClientError");if(!KL){this.ib=WH;this.Fl=lh;this.Nj=nC}}},iU:function(){if(this.ib){if(ls.Vj){ls.Vj.VWh(this.Nj);ls.Vj.NDJ(this.Fl);this.sc.log("iU",2)}else{var Vj=new ls.RemoteConsumer(1,this.Nj,this.Fl);Vj.addLogCategory("ER");ls.KN.addConsumer(Vj,true);ls.Vj=Vj;this.sc.log("iU",1)}}else{if(ls.Vj){ls.KN.removeConsumer(ls.Vj);ls.Vj=null;this.sc.log("iU",3)}else{this.sc.log("iU",4)}}},setDomain:function(domain){if(this.parent==window.WN||this.parent==null){if(domain!=null&&domain!=""&&ls.Iv!=this){ls.ox=domain;this.Ne=ls.ox;this.sc.log("setDomain",ls.ox)}if(!ls.TJ(location.hostname)){this.sc.error("The domain set is inconsistent with the hostname used","setDomain")}}}};ls.tD(ls.Context,ls.ZN);ls.TC.push(function(){ls.Uj=new ls.Context();ls.Uj.setDebugAlertsOnClientError(true);ls.Uj.KN=ls.KN})})(Lightstreamer);(function(ls){var BB=["vw","BM","Of","wd","cG","oj","Da","Gl","NH","vX","rd","jO","Ze","hU","Pi"];Lightstreamer.Policy=function(){this.vw=0;this.BM=NaN;this.Of=NaN;this.wd=2000;this.cG=3000;this.oj=NaN;this.Da=0;this.Gl=30000;this.NH=true;this.vX=true;this.rd=4000;this.jO=1000;this.Ze=300;this.hU=2000;this.Pi=4000;this.BB=BB;this.eV(ls.Policy,arguments[0]);this.name="policy"};Lightstreamer.Policy.prototype={setForceBindTimeout:function(Dc){var Ah=this.hU;this.hU=this.JnG(Dc,"setForceBindTimeout",this.setForceBindTimeout,true,0);this.TV("hU","setForceBindTimeout",Ah)},getForceBindTimeout:function(){return this.hU},setSwitchCheckTimeout:function(Dc){var Ah=this.Pi;this.Pi=this.JnG(Dc,"setSwitchCheckTimeout",this.setSwitchCheckTimeout,true,0);this.TV("Pi","setSwitchCheckTimeout",Ah)},getSwitchCheckTimeout:function(){return this.Pi},setRequestSerializationTimeout:function(Dc){var Ah=this.Ze;this.Ze=this.JnG(Dc,"setRequestSerializationTimeout",this.Ze,true,0);this.TV("Ze","setRequestSerializationTimeout",Ah)},getRequestSerializationTimeout:function(){return this.Ze},setMaxBandwidth:function(vw){var Ah=this.vw;var ce=new String(vw);if(ce.toLowerCase()=="unlimited"){this.vw=0}else{this.vw=this.JnG(vw,"setMaxBandwidth",this.vw,false,0)}this.TV("vw","setMaxBandwidth",Ah)},getMaxBandwidth:function(){return this.vw},setKeepaliveInterval:function(BM){var Ah=this.BM;this.BM=this.JnG(BM,"setKeepaliveInterval",this.BM,true,1);this.TV("BM","setKeepaliveInterval",Ah)},getKeepaliveInterval:function(){if(!isNaN(this.Of)){return this.Of}return this.BM},setTimeoutForStalled:function(wd){var Ah=this.wd;this.wd=this.JnG(wd,"setTimeoutForStalled",this.wd,true,1);this.TV("wd","setTimeoutForStalled",Ah)},getTimeoutForStalled:function(){return this.wd},setTimeoutForReconnect:function(cG){var Ah=this.cG;this.cG=this.JnG(cG,"setTimeoutForReconnect",this.cG,true,1);this.TV("cG","setTimeoutForReconnect",Ah)},getTimeoutForReconnect:function(){return this.cG
},setPollingInterval:function(Da){var Ah=this.Da;this.Da=this.JnG(Da,"setPollingInterval",this.Da,true,0);this.TV("Da","setPollingInterval",Ah)},getPollingInterval:function(){if(!isNaN(this.oj)){return this.oj}return this.Da},setIdleTimeout:function(Gl){var Ah=this.Gl;this.Gl=this.JnG(Gl,"setIdleTimeout",this.Gl,true,0);this.TV("Gl","setIdleTimeout",Ah)},getIdleTimeout:function(){return this.Gl},setSlowingEnabled:function(NH){var Ah=this.NH;this.NH=this.wia(NH,"setSlowingEnabled",this.NH);this.TV("NH","setSlowingEnabled",Ah)},isSlowingEnabled:function(){return this.NH},setCanUseGetForStreaming:function(vX){var Ah=this.vX;this.vX=this.wia(vX,"setCanUseGetForStreaming",this.vX);this.TV("vX","setCanUseGetForStreaming",Ah)},canUseGetForStreaming:function(){return this.vX},setBufferedStreamingHandled:function(){},setConnectTimeout:function(eu){var Ah=this.rd;this.rd=this.JnG(eu,"setConnectTimeout",this.rd,true,1);this.TV("rd","setConnectTimeout",Ah)},getConnectTimeout:function(){return this.rd},setFirstPollInterval:function(xt){var Ah=this.jO;this.jO=this.JnG(xt,"setFirstPollInterval",this.jO,true,0);this.TV("jO","setFirstPollInterval",Ah)},getFirstPollInterval:function(){return this.jO}};ls.tD(ls.Policy,ls.ZN)})(Lightstreamer);(function(ls){var Bm="/lightstreamer";var BB=["fu","pj","bs","FA","qI","IE","qW","Uh"];Lightstreamer.Connection=function(){this.fu=Bm;this.pj=false;this.bs=location.hostname;this.FA=location.port;this.qI=null;this.Uh="STREAMING_IN_PROGRESS";this.IE=null;this.qW=null;this.BB=BB;this.eV(ls.Connection,arguments[0]);this.name="connection"};Lightstreamer.Connection.prototype={setServerUrlPath:function(dj){var Ah=this.fu;if(dj){if(dj.indexOf("/")!=0){dj="/"+dj}while(dj.length>0&&dj.lastIndexOf("/")==dj.length-1){dj=dj.substring(0,dj.length-1)}this.fu=dj}else{this.fu=Bm}this.TV("fu","setServerUrlPath",Ah)},getServerUrlPath:function(){return this.fu},setLSHost:function(Ub){var xH=this.bs;if(Ub){if(Ub.indexOf("://")>0){Ub=Ub.substring(Ub.indexOf("://")+3)}if(!ls.TJ(Ub)&&arguments[1]!==true){this.sc.error("Lightstreamer Server hostname inconsistent with the domain set","setLSHost")}this.bs=Ub;bp=Ub}else{this.bs=location.hostname;bp=location.hostname}this.TV("bs","setLSHost",xH)},getLSHost:function(){return this.bs},setLSPort:function(port){var Ah=this.FA;if(port){this.FA=this.JnG(port,"setLSPort",this.FA,true,0)}else{this.FA=location.port}this.TV("FA","setLSPort",Ah)},getLSPort:function(){return this.FA},setAdapterName:function(qI){var Ah=this.qI;this.qI=qI;this.TV("qI","setAdapterName",Ah)},getAdapterName:function(){return this.qI},setStatusBarUrlPortion:function(RZ){var Ah=this.Uh;this.Uh=ls.aE("_"+RZ);this.TV("Uh","setStatusBarUrlPortion",Ah)},getStatusBarUrlPortion:function(){return this.Uh},setUserName:function(IE){var Ah=this.IE;this.IE=IE;this.TV("IE","setUserName",Ah)},setPassword:function(ec){var Ah=this.qW;this.qW=ec;this.TV("qW","setPassword",Ah)}};ls.tD(ls.Connection,ls.ZN)})(Lightstreamer);(function(ls){var BB=["HY","sa","Fr","nH"];ls.Dj=function(oC){this.HY=false;this.sa=null;this.Fr=null;this.nH=ls.tX;this.BB=BB;this.eV(ls.Dj,oC);this.name="iJ"};ls.tD(ls.Dj,ls.ZN)})(Lightstreamer);(function(ls){ls.Jn=function(Ja,Gi,fJ,iS,lo){this.re=iS===true;this.Ja=Ja;this.vH=Gi;this.uH=(this.re)?[]:{readId:0,writeId:0,firstId:0};this.lo=lo||false;this.fJ=fJ;this.sc=ls.KN.getLogger("XS");if(!this.re){this.wW=ls.Jn.cu++;ls.Jn.HT[this.wW]=this;if(!ls.Jn.oF){ls.Jn.oF=true;this.fJ.UwB(ls.Jn.Yd,50,ls.Jn)}}this.sc.log("Jn")};ls.Jn.oF=false;ls.Jn.HT={};ls.Jn.cu=0;ls.Jn.Yd=function(){for(var gb in this.HT){this.HT[gb].Yd()}};ls.Jn.remove=function(Lg){delete (this.HT[Lg.wW])};ls.Jn.prototype={HeS:function(GG,OL,Lf,Un){if(this.re){this.fJ.EHb(this.Yo,0,this,[GG,OL,Lf,Un])}else{this.Yo(GG,OL,Lf,Un)}if(this.lo){ls.TS.Dt()}},Yo:function(GG,OL,Lf,Un){if(this.re){this.uH.push(new ls.Jn.pr(GG,OL,Lf,Un));this.Yd()}else{this.PR();var ku=this.uH.writeId;this.uH[ku]=new ls.Jn.pr(GG,OL,Lf,Un);this.uH.writeId++;this.fQ()}},fQ:function(){var At=this.uH.readId;
for(;this.uH.firstId<At;this.uH.firstId++){delete (this.uH[this.uH.firstId])}},PR:function(){if(this.uH.firstId==this.uH.readId&&this.uH.firstId==this.uH.writeId){this.uH.writeId=0;this.uH.readId=0;this.uH.firstId=0;this.uH={readId:0,writeId:0,firstId:0};this.sc.log("PR")}},Yd:function(){if(this.re){while(this.uH.length>0){var GG=this.uH.shift();this.cD(GG)}}else{var ku=this.uH.readId;while(ku<this.uH.writeId){var GG=this.uH[ku];this.cD(GG);ku++}this.uH.readId=ku}},cD:function(GG){try{if(!this.Ja.RmT(GG.OL,GG.Un)){return}if(this.vH[GG.GG]){this.vH[GG.GG](GG.Lf)}else{this.sc.JTF("cD",3,GG)}}catch(XW){this.sc.MG(XW,"cD",GG)}}};ls.Jn.pr=function(GG,nE,li,LM){this.GG=GG;this.OL=nE;this.Lf=li;this.Un=LM};ls.Jn.pr.prototype.toString=function(){return["[","Jn.Event",this.GG,this.OL,this.Lf,this.Un,"]"].join("|")}})(Lightstreamer);(function(ls){ls.TS=function(){this.sc=ls.KN.getLogger("XX");this.pM=50;this.EL=[];this.XC=ls.Gc();this.Jb()};ls.TS.XO=function(HL,kU){return HL.jw-kU.jw};ls.TS.SL=0;ls.TS.Dt=function(){if(ls.TS.SL==0){ls.TS.SL++;if(window.postMessage){window.postMessage("Lightstreamer.run","*")}}};ls.TS.prototype={toString:function(){return["[","TS",this.pM,this.EL.length,"]"].join("|")},Jb:function(){this.sc.log("Jb",1);if(this.qO){clearInterval(this.qO);this.sc.log("Jb",2)}this.start()},start:function(){var vc=this;this.qO=setInterval(function(){vc.MBB()},this.pM);if(window.postMessage){ls.Oa("message",function(event){if(event.data=="Lightstreamer.run"){ls.TS.SL--;vc.MBB()}},true)}},wOx:function(QF,context,Lf){var AE={QF:QF};if(context){AE.context=context}if(Lf){AE.Lf=Lf}return AE},bi:function(AE,jw,gm){this.sc.log("bi",1,jw,gm);AE.pM=gm?jw:null;AE.jw=this.XC+parseInt(jw);this.EL.push(AE)},UwB:function(QF,oF,context,Lf){return this.EHb(QF,oF,context,Lf,true)},mNt:function(AE){if(!AE){return}AE.QF=null;AE.pM=null},EHb:function(QF,jw,context,Lf,gm){this.sc.log("EHb",1);var AE=this.wOx(QF,context,Lf);this.bi(AE,jw,gm);return AE},MBB:function(){if(ls.LC){clearInterval(this.qO);return}var Il=this.XC;this.XC=ls.Gc();var fs=[];if(this.EL.length>0){this.EL.sort(ls.TS.XO);while(this.EL.length>0&&this.EL[0].jw<=this.XC&&!ls.LC){var FO=this.EL.shift();if(FO.QF){this.PT(FO);if(FO.pM){fs.push(FO)}}}}for(var gb=0;gb<fs.length;gb++){fs[gb].jw=this.XC+fs[gb].pM;this.EL.push(fs[gb])}},PT:function(AE){try{if(AE.context){if(AE.Lf){AE.QF.apply(AE.context,AE.Lf)}else{AE.QF.apply(AE.context)}}else{if(AE.Lf){AE.QF.apply(null,AE.Lf)}else{AE.QF()}}}catch(XW){var cf=null;try{cf=AE.QF.name||AE.QF.toString()}catch(pP){}this.sc.MG(XW,"PT",cf)}}};ls.TC.push(function(){ls.fJ=new ls.TS()})})(Lightstreamer);(function(ls){for(var gb=0;gb<ls.TC.length;gb++){ls.TC[gb]()}ls.TC=[];ls.Lu=ls.KN.getLogger("OP");ls.LT=ls.KN.getLogger("FM");ls.FL=ls.KN.getLogger("CH");ls.El=ls.KN.getLogger("PC");ls.Qm=ls.KN.getLogger("PF");ls.tA=ls.KN.getLogger("LC");ls.version="5.0.1446.6";ls.toString=function(){return"[Lightstreamer web client version "+this.version+"]"};if(window.OpenAjax){if(OpenAjax.hub){OpenAjax.hub.registerLibrary("Lightstreamer","http://www.lightstreamer.com/","5.0")}else{OpenAjax.registerLibrary("Lightstreamer","http://www.lightstreamer.com/","5.0");OpenAjax.registerGlobals("Lightstreamer",["Lightstreamer"])}}})(Lightstreamer);return Lightstreamer})})(window.define||function(a,b){window.Lightstreamer=b()});if(!window.Lightstreamer){throw ("Warning: lscommons.js not included before lsengine.js\nPlease don't modify the lsengine.html file")}Lightstreamer.Rw=" 30461 $";Lightstreamer.tA.log("engine");(function(a){a.sW=function(){this.open=false};a.sW.prototype={jUi:function(b){return frames[b]}}})(Lightstreamer);var WN=null;var Lp=false;var HZ="OFF";var LQ="PUSH";var wU="PAUSE";var GE="REFRESH";var uj="END";var GQ=null;var To=1;var xe=2;var rE=Lightstreamer.MY(100)*100;var sw=HZ;var Sh="document.domain";var Vi=null;var YY=null;function rP(a){tA.cg("rP",a);sw=a;XV()}function vr(c){var b=iO.fPl("onClientError","PVf",c);if(!b&&WN.onClientError){try{WN.onClientError(c)
}catch(a){tA.MG(a,"onClientError")}}}function XV(){var c=WN.getStatus();if(GQ==c){return}var b=iO.onh(c,GQ);GQ=c;if(!b&&WN.onStatusChange){try{WN.onStatusChange(c)}catch(a){tA.PqW(a,WN.onStatusChange,"onStatusChange")}}}function JT(){rE++;tA.cg("JT",rE)}Lightstreamer.Mx=function(){return"pp = "+rE+" pt = "+sw};var aQ=true;var QL=new String(Lightstreamer.MY());var IA=false;function FZ(){if(!Lightstreamer.Dp){aQ=false;Lightstreamer.Dp=true;tA.cg("FZ");if(!WN){tA.GSR("You must create and bind a LightstreamerEngine object in order to activate the push functionalities.\nSee documentation for further information","onLoad");return}with(Lightstreamer){Sh=hFx(""+oOL+RxT+YsW+DMe+ilt+hqe+Xfg+VLB,"document",6,7,350)}LS_vF1c=Sh;if(sw!=HZ){tA.dGc(false,"FZ");return}tA.log("FZ",document.cookie);Lightstreamer.fJ.EHb(Zq.LE,25,Zq)}}self.LS_onld=FZ;function mH(a){if(Lightstreamer.LC){return}Lightstreamer.Wc=true;tA.cg("mH");Eb.JU();Lightstreamer.Dp=false;if(WN){rP(uj)}tA.log("mH",document.cookie);Lightstreamer.LC=true;iO.Qtg(a===true)}self.LS_onunld=mH;function ij(){iO.foj()}function sC(){if(Lightstreamer.OV){if(WN){Lightstreamer.fI(WN.sK);Lightstreamer.kO(WN.vT,WN.ZR);IA=true}Ux.ri()}}(function(a){a.bQ=function(b){this.AR=b;this.Yw=0;this.fq=null;this.jx=5/10;this.Qa=7000;this.Af=20000;this.cJ=false;this.sc=a.KN.getLogger("SL");this.au()};a.bQ.prototype={au:function(){var b=this;window.LS_s=function(d,f,g,c,e){b.qoM(d,f,g,c,e)}},toString:function(){return["[","bQ",this.fq,this.Yw,this.jx,this.Qa,"]"].join("|")},SeY:function(b){return this.fq!=null&&this.fq>b},nYG:function(){return this.fq!=null?Math.round(this.fq):null},qoM:function(c,f,g,b,e){this.sc.cg("aU",arguments);if(c!=rE){return}this.sc.dGc(sw==LQ,"aU");if(f<0){YY=e;if(this.AR.cF==xe){this.br()}else{}this.qR()}else{if(this.AR.cF==xe){var d=this.Jv(f*1000);if(!d){this.AR.EaV()}else{if(WN.policy.NH){this.AR.TH(To,"slow")}}}}this.sc.log("aU",0)},qR:function(){this.Yw=a.Gc()},br:function(){this.fq=null;this.cJ=false},cEF:function(){this.cJ=false},Jv:function(b){var d=a.Gc();var c=(d-this.Yw)-b;this.sc.log("Jv",1,this,b,c);if(this.fq==null){this.fq=c;return false}else{if(c>this.Af&&c>this.fq*2){this.cJ=!this.cJ;if(this.cJ){return this.fq>this.Qa}}this.fq=this.fq*this.jx+c*(1-this.jx);this.sc.log("Jv",2,this);if(this.fq<60){this.fq=0;return false}else{if(this.SeY(this.Qa)){return true}else{return false}}}},peP:function(b){this.sc.dGc(sw==wU,"peP");this.Jv(b)}}})(Lightstreamer);function kI(a){if(sw!=LQ){Qm.log("kI",1);return true}if(a&&a!=iO.AW){Qm.log("kI",2,a,rE,iO.AW);return true}if(Lightstreamer.LC){Qm.log("kI",4);return true}return false}function LS_e(h,g,b,a,c,e,f){if(Lightstreamer.LC){return}Qm.cg("LS_e",arguments);if(g!=rE){if(h==1&&sw==HZ){Qm.log("LS_e",1);Eb.JU();Lightstreamer.fJ.EHb(FZ,1000);return}else{Qm.log("LS_e",7);return}}sI();if(h==2){Eb.OTY(b)}else{if(h==3){Qm.dGc(sw==wU||sw==LQ,"LS_e",2);Eb.hd.YXZ();Eb.NP("server")}else{if(h==1){Qm.dGc(sw==GE||sw==wU,"LS_e",3);if(a!=null){if(a!=bp){if(!Lightstreamer.TJ(a)){var i=rE;Qm.GSR("Control address received inconsistent with the domain set","Server");if(i!=rE){return}}Ux.ri(Pw(bp));bp=a}}else{bp=WN.connection.bs}Vx=0;Ux.YLu(Pw(bp));pS.FQ();if(e){lv.XjP(e)}if(c){WN.policy.kdx("Of",c)}if(sw==GE){Qm.log("LS_e",2);Vi=b;Nb=f;Eb.pT();bH.FSB()}else{Eb.Qb();Qm.log("LS_e",3)}}else{if(h==4){var d=30;if(b!=null){d=b;if(d==41){Qm.log("LS_e",9);Eb.NP("error41");return}if(d<30||d>39){d=39}}LS_l(d,g,null,"The session has been forcibly closed by the Server")}else{Qm.log("LS_e",4);Qm.GSR("Unsupported Server version","Server");Eb.JU()}}}}Qm.log("LS_e",0)}function LS_t(a){}function LS_u(d,c,e){fx.cg("LS_u",arguments);if(c.length<2){if(d!=rE){return}sI();return}if(kI(d)){return}sI();var a=c[0];var b=iO.YPI(a);if(!b){fx.log("LS_u",1);return}b.ZOa("OSX",{OK:c,Xc:e})}function LS_o(d,c){Qm.cg("LS_o",arguments);if(kI(d)){return}sI();var a=c[0];var b=iO.YPI(a);if(!b){Qm.log("LS_o",1);return}b.ZOa("uKD",c)}function LS_v(b,a){Lu.cg("LS_v",arguments);LS_u(b,a,true)
}function LS_n(d,c){Qm.cg("LS_n",arguments);if(kI(d)){return}sI();var a=c[0];var b=iO.YPI(a);if(!b){Qm.log("LS_n",1);return}b.ZOa("hZc",c)}function LS_l(g,f,c,a){Qm.cg("LS_l",arguments);if(Lightstreamer.LC){Qm.log("LS_l",1);return true}if(c!=null){if(isNaN(c)){Qm.dGc(c.substring(0,3)=="MSG","LS_l",1);var j=c.substr(3);sI();if(g==39){var b=new Number(a);for(var i=f-b+1;i<=f;i++){bH.rU(j,i,38,null)}}else{if(g==38){bH.rU(j,f,38,null)}else{bH.rU(j,f,g,a)}}}else{if(kI(f)){return}sI();var d=iO.YPI(c);if(!d){Qm.log("LS_l",2);return}d.ZOa("HBE",{jP:g,gs:a,YN:c})}}else{if(f!=rE){return}sI();var h=iO.fPl("onServerError","Oc",{jP:g,gs:a});if(!h&&WN.onServerError){try{WN.onServerError(g,a)}catch(e){Qm.PqW(e,WN.onServerError,"onServerError")}}Qm.log("LS_l",4);Eb.JU(true)}Qm.log("LS_l",5)}function LS_w(g,d,a,f,c){Qm.cg("LS_w",arguments);tA.cg("LS_w",arguments);if(Lightstreamer.LC){Qm.log("LS_w",1);return true}if(g==4){sI();var e=a;bH.Xll(e,d)}else{if(g==5){sI();var e=a;bH.eYG(e,d)}else{if(kI(d)){return}sI();if(g==8){iO.Dxr(a)}else{if(g==6){}}var b=iO.YPI(a);if(!b){Qm.log("LS_w",1);return}b.ZOa("HAc",{jP:g,YN:a});Qm.log("LS_w",0)}}}var uA=false;var Dn=0;function Xu(a){tA.cg("Xu",arguments);if(a!=rE){return}if(sw!=LQ){return}if(uA){tA.log("Xu",9);sI();uA=false;tn(rE,WN.policy.Of)}else{if(Dn==0){Dn++;tA.log("Xu",1);tn(a,WN.policy.wd)}else{if(Dn==1){Dn++;tA.log("Xu",2);XV();tn(a,WN.policy.cG)}else{if(Dn>=2){tA.log("Xu",3);Eb.NP("stalled")}}}}}function tn(b,a){Lightstreamer.fJ.EHb(Xu,a,null,[b])}function sI(){uA=true;if(Dn>=2){Dn=0;XV()}else{Dn=0}}var bp=location.hostname;var Nb=null;var WZ="";function qe(){var a="";if(WN.policy.vw>0){if(YY==null){}else{if(YY<0){return a}else{if(YY==0){}else{if(YY<=WN.policy.vw){}else{}}}}a+="LS_requested_max_bandwidth="+WN.policy.vw+"&"}return a}function Rv(e,i,c,d,l){var a=(Lightstreamer.ox!=null&&Lightstreamer.ox!="")?"LS_domain="+Lightstreamer.ox+"&":"";var j="LS_phase="+rE+"&"+qe()+a+(c?"LS_cause="+c+"&":"");if(e){j+="LS_polling=true&";var f=0;var b=0;if(d!=xe){f=WN.policy.Da;if(l!=null){f+=l}b=WN.policy.Gl}j+="LS_polling_millis="+f+"&";j+="LS_idle_millis="+b+"&"}else{if(!isNaN(WN.policy.BM)){j+="LS_keepalive_millis="+WN.policy.BM+"&"}}if(sw==wU){tA.log("Rv",1);tA.dGc(Vi!=null,"Rv");var h="LS_session="+Vi+"&";return h+j}else{tA.log("Rv",2);var k="";if(WN.connection.qI!=null){k+=("LS_adapter_set="+Lightstreamer.aE(WN.connection.qI)+"&")}if(WN.connection.IE!=null){k+=("LS_user="+Lightstreamer.aE(WN.connection.IE)+"&")}if(WN.connection.qW!=null){k+=("LS_password="+Lightstreamer.aE(WN.connection.qW)+"&")}var g=j+WZ+k;if(i){g+=("LS_old_session="+i+"&")}return g}}function bo(c,b){var a="";if(c||b=="js"){if(sw==wU){a=WN.connection.fu+"/bind_session."+b}else{a=WN.connection.fu+"/create_session."+b}}else{a=WN.connection.fu+"/"+WN.connection.Uh}return Pw()+a}function Pw(c){var b=location.protocol+"//";var a="";if(!Lightstreamer.iH(WN.connection.FA,location.protocol)){a=":"+WN.connection.FA}var d="";if(c){d=c}else{if(sw==wU||sw==LQ){d=bp}else{d=WN.connection.bs}}return b+d+a}(function(a){a.Vv=function(){this.sc=a.KN.getLogger("SH");this.Zj=[SE,Mh];this.LK=this.Zj;if(Ik.UM()){this.gM=[Ik,Mh]}else{this.gM=[Mh,Ik]}this.hh={};this.VJ;this.hS;this.us;this.Ic=false;this.cF=xe;this.Hu=xe;this.SL=false;this.Hb=0;this.HF=1;this.KJ=0;this.hJ=2;this.Rj=0;this.eU=2;this.BN=null;this.Is;this.lU=null;this.xK=new a.bQ(this);this.hd=new a.PQ()};a.Vv.prototype={toString:function(){return["[","Vv",this.cF,this.Ic,this.BN,this.VJ,this.us,this.hS].join("|")},NP:function(e,c,d){if(!WN||sw==uj||!this.hd.upa()){JT();this.sc.log("NP",1,sw);return}this.xK.cEF();if(d&&c==To){this.xK.br()}this.sc.log("NP",2,this,arguments);var b=Vi;if(this.BN){this.JU()}if(d){this.hd.Wx()}this.xC();if(c){this.cF=c}this.Hu=this.cF;this.Hb=0;this.KJ=0;this.hJ=2;this.HF=1;if(sw==GE){XV()}else{rP(GE)}JT();this.xG(rE,b,e)},xG:function(c,b,f){if(c!=rE){this.sc.log("xG",1,c,rE);return}this.sc.dGc(sw!=LQ,"xG");if(a.Pb()){this.sc.log("xG",3);a.fJ.EHb(this.xG,50,this,[c,b,"offline"]);
return}var d=this.KoM("VJ",this.Zj,WN.policy.vX,true,b,this.xG,f);this.sc.log("xG",2,d,this);if(d===null){return}else{if(d){this.hd.Opv();Ec=a.Gc();var e=this.uTJ(true);a.fJ.EHb(this.UVW,e,this,[rE,e])}else{if(d===false){this.sc.dGc(false,"xG")}}}},FWJ:function(b){this.hh={VJ:true,hS:true,us:true}},KoM:function(n,b,l,h,j,i,e){var g=Rv(h,j,e,this.cF,this.xK.nYG());var m=0;var f=false;while(m<b.length&&f===false){if(!this[n]||this.hh[n]){this[n]=new b[m](this.cF==To?"LS_POLLFRAME":"LS_PUSHFRAME");this.hh[n]=false;m++}var d=this[n].cm===Mh&&l?cr:et;var k;var c;if(this[n].cm===SE||this[n].cm===Ik){k=Iq;c=NJ}this.BN=this[n];var o=bo(h,this.BN.oQu());f=this.BN.FQ(new qk(o,g,d),rE,k,c);if(f===null){a.fJ.EHb(i,50,this,[rE,j,e]);return null}else{if(f===false){this[n]=null}else{this.SL=true}}}return f},xZ:function(c,e){if(c!=rE||!this.hd.upa()){this.sc.log("xZ",1,c,rE);return}this.cF=this.Hu;JT();if(this.cF==xe){this.lU=a.Gc()}var b=this.cF==xe?this.gM:this.LK;var d=this.cF==xe?"us":"hS";var f=this.KoM(d,b,true,this.cF==To,null,this.xZ,e);this.sc.log("xZ",2,Vi,f,this);if(f===null){return}else{if(f){if(this.cF==xe){tE=this.BN.cm===Mh;var g=this.VFa();a.fJ.EHb(this.UVW,g,this,[rE,g])}else{Ec=a.Gc();var g=this.uTJ(false);a.fJ.EHb(this.UVW,g,this,[rE,g])}}else{this.sc.dGc(false,"xG")}}},QMh:function(b,c){if(b!=rE){this.sc.log("QMh",1);return}this.sc.log("QMh",2);this.xK.peP(c);this.xZ(b)},xC:function(){bp=WN.connection.bs;WN.policy.kdx("Of",NaN);WN.policy.kdx("oj",NaN);YY=null;Vi=null;Dn=0;pS.FQ(false,true);this.sc.log("xC")},JU:function(b){if(!WN||!this.BN||sw==HZ){JT();this.sc.log("JU",1);return}this.sc.log("JU",2,this.BN);this.BN.xw();Ux.ri(Pw(bp));JT();rP(HZ);this.Wk();iO.Ax();if(Vi!=null&&!b){this.sc.log("JU",3);this.rG()}this.BN=null;bp=null;Vi=null},TH:function(b,c){this.Hu=b;if(b==xe){this.hJ=this.KJ+1}if(this.oFE()){if(b==To){this.HF=this.Hb+1;this.hJ=-1}this.NT(c);a.fJ.EHb(this.Rlc,this.getSwitchCheckTimeout(),this,[rE,b])}else{this.xZ(rE,c)}},LZx:function(){return sw==LQ||sw==wU},oFE:function(){return this.LZx()&&this.SL},Wk:function(){lv.wH();bH.xw()},pT:function(){this.sc.log("pT",this);this.Wk();iO.pT();this.Qb()},Qb:function(){this.sc.log("Qb",this);this.KJ++;if(this.cF==xe&&this.Hu==xe){if(tE){a.fJ.EHb(MZ,900)}if(this.KJ>=this.hJ){tn(rE,WN.policy.Of);var b=this.gPo();this.Is=(b>WN.policy.rd?WN.policy.rd:b)+WN.policy.rd}}rP(LQ)},OTY:function(d){this.sc.cg("OTY");this.sc.dGc(sw==LQ,"OTY");if(sw!=LQ){return}this.Hb++;if(this.cF==To){WN.policy.oj=d;if(d>WN.policy.Da){WN.policy.kdx("oj",WN.policy.Da)}else{WN.policy.kdx("oj",d)}}JT();rP(wU);this.SL=false;if(this.Hu==To){if(this.Hb==this.HF){var c=WN.policy.Da>WN.policy.jO?WN.policy.jO:WN.policy.Da;a.fJ.EHb(this.xZ,c,this,[rE])}else{var b=tT();a.fJ.EHb(this.QMh,b,this,[rE,b])}}else{this.xZ(rE)}},EaV:function(){this.sc.log("EaV");if(!this.Ic&&this.cF==xe&&this.Hu==xe&&this.KJ>=this.hJ){this.Ic=true}},rG:function(){this.sc.log("rG",Vi,this);var c=bp?bp:WN.connection.bs;c=Pw(c);var b="LS_op=destroy&LS_session="+Vi+"&";lv.EYt(Vi,b,xL.Zo,null,c)},NT:function(c){this.sc.log("NT",Vi,this);var b="LS_op=force_rebind&";if(c){b+="LS_cause="+c+"&"}var e=this.xK.nYG();if(e!=null){b+="LS_polling_millis="+e+"&"}var d=new a.lO(rE,c);lv.EYt(Vi,b,xL.IC,d)},Rlc:function(b,c){this.sc.cg("Rlc",b);if(b==rE){this.NP("forceRebindFailed",c)}},UVW:function(b,c){this.sc.cg("UVW",b);if(b!=rE){return}if(sw!=LQ){Vx++;if(Vx>=2){Ux.dGY(Pw())}var d="timeout";var e="sense";if(this.cF==xe){if(this.KJ==0){this.NP(d)}else{if(this.Ic){this.Rj++;var f=d+".stream."+this.Rj;if(this.Rj>=this.eU){this.Ic=false;this.Rj=0}this.NP(f)}else{this.TH(To,e)}}}else{if(this.cF==To){if(!Lp&&!this.xK.SeY(c)){this.NP(e,xe)}else{this.NP(d+".poll")}}}}},getSwitchCheckTimeout:function(){return WN.policy.Pi+(this.xK.nYG()||0)},gPo:function(){if(!this.lU){return 0}var b=a.Gc();return b-this.lU},uTJ:function(b){var c;if(this.cF==xe){c=this.VFa()}else{if(!b){c=WN.policy.rd+WN.policy.Gl}else{c=WN.policy.rd}}tA.log("uTJ",c);return c},VFa:function(){return this.Ic?this.Is:WN.policy.rd
}}})(Lightstreamer);var Ec=null;function tT(){var b=WN.policy.Da;if(Ec){var c=Lightstreamer.Gc();var a=c-Ec;if(b>a){b-=a}else{b=1}}if(!isNaN(WN.policy.oj)){if(WN.policy.oj<b){b=WN.policy.oj}}return b}var Vx=0;(function(a){a.PQ=function(){this.sc=a.KN.getLogger("MT");this.Wx()};a.PQ.prototype={Wx:function(){this.LX=a.CV(1.5,true)?10:50;this.Wp=0;this.BH=0;this.Df=0;this.Es=null;this.dg=null;this.Ae=null},Opv:function(){this.Es=this.Wp;this.dg=this.BH;this.Ae=this.Df;var b=a.Gc();if(!this.Df){this.Df=b}if((b-this.Df)>=60000){this.Wp=0;this.Df=b}if(this.BH&&(b-this.BH)<1000){this.Wp++}this.BH=b},YXZ:function(){if(this.dg!=this.BH){this.Wp=this.Es;this.BH=this.dg;this.Df=this.Ae}},upa:function(){if(this.BH==0){return true}else{if(!this.LX){return false}else{if(this.Wp>=this.LX){var b="It has been detected that the JavaScript engine of this browser is not respecting the timeouts in setTimeout method calls. The Client has been disconnected from the Server in order to avoid reconnection loops. To try again, just refresh the page.";this.sc.GSR(b,"changeStatus");a.KN.ANj(WN,110,b);this.LX=0;return false}}}return true}}})(Lightstreamer);(function(a){a.bf=function(){this.dI=false;this.pl={}};a.bf.prototype={dGY:function(b){if(!Lightstreamer.OV){return}if(this.dI){return}var i=a.Vq+b;var d=a.Fk(i);if(!d){return}FL.log("dGY",b,d);for(var g=0;g<d.length;g++){if(d[g]==WN.ZR+"_"+WN.getApplicationName()){continue}var h=a.Vq+d[g];var f=a.Fk(h);if(!f){continue}var c=a.Gc()-Number(f[0]);if(c>a.Am){continue}else{var e="Warning: there is probably another web application connected to the same Lightstreamer Server within this browser instance. That could prevent the current application from connecting to the Server. Please close the other application to unblock the current one.";FL.GSR(e,"changeStatus");this.dI=true;a.KN.ANj(WN,120,e);return}}},YLu:function(b){if(!a.OV){return}if(typeof b=="undefined"){b=Pw()}var c=a.Vq+b;a.Rl(c,WN.ZR+"_"+WN.getApplicationName());this.pl[b]=true},ri:function(c){if(!a.OV){return}if(typeof c=="undefined"){for(var b in this.pl){this.ri(b)}}else{if(this.pl[c]){var d=a.Vq+c;a.kO(d,WN.ZR+"_"+WN.getApplicationName());FL.log("ri",c);delete (this.pl[c])}}}}})(Lightstreamer);var cr=1;var et=2;function qk(c,a,b){this.Xb=c;this.xT=a?a:"";this.qb=b?b:et}qk.prototype={toString:function(){return["[",this.Xb,this.xT,this.qb==et?"POST":"GET","]"].join("|")},Xkc:function(){return new qk(this.Xb,this.xT,this.qb)}};Lightstreamer.Wa=new qk("lsblank.html",null,"GET");(function(a){a.ed=function(){this.tw=0;this.VF={};this.VF.length=0;this.Bp=null;this.sc=a.KN.getLogger("FF")};a.ed.prototype={hSR:function(d,c,f,g){if(!this.vBZ()){this.sc.log("hSR",1);return null}try{var e=a.fP.jUi("LS_FORMFRAME").document.LS_form;var i=e.target;var h=e.method;if(g){e.target=g}if(f){e.method=f}if(!this.xGm(d,c)){this.sc.log("hSR",4);this.Ju();return null}e.method=h;e.target=i}catch(b){this.sc.MG(b,"hSR");this.Ju();return null}this.sc.log("hSR",3);this.Ju();return true},xGm:function(g,d){this.sc.log("xGm",d);try{var j=a.fP.jUi("LS_FORMFRAME").document;j.LS_form.action=g;if(a.aI()&&j.LS_form.target=="LS_CONTROLFRAME"){if(a.aI(9,false)){var e=a.fP.jUi("LS_CONTROLFRAME").document.getElementsByTagName("BODY")[0];if(!(e==null||typeof e=="undefined")){var h=this.tw;if(this.VF.length>0){h=this.VF[this.VF.length-1];this.VF.length--}else{this.tw++}var b="LS_FORMTARGET"+h;var k=document.createElement("iframe");k.name=b;e.appendChild(k);j.LS_form.target=b;this.bm(h)}}}var c=j.getElementById("LS_querystring");c.setAttribute("value",d);c.value=d;var f=j.getElementById("LS_form");f.submit()}catch(i){this.sc.MG(i,"xGm");return false}return true},Ju:function(b){if(b){this.Bp=true}else{a.fJ.EHb(this.Ju,1000,this,[true])}},bm:function(b){a.fJ.EHb(this.pGV,3000,this,[b])},pGV:function(b){this.VF[this.VF.length]=b;this.VF.length++},vBZ:function(){if(this.Bp===null){this.LE(null,true)}this.sc.log("vBZ",this.Bp);if(this.Bp){this.Bp=false;return true}else{return false}},LE:function(e,d){if(this.Bp!==null){return
}this.sc.log("LE",e);if(!d){if(!e){e=50}else{e*=2}this.sc.log("LE",1);a.fJ.EHb(this.LE,e,this,[e])}try{var c=a.fP.jUi("LS_FORMFRAME");if(c&&c.document&&c.document.LS_form){this.Ju(true);this.sc.log("LE",2);if(lv){lv.FWJ(Cf)}}}catch(b){this.sc.MG(b,"LE")}}}})(Lightstreamer);function eX(){this.sc=Lightstreamer.KN.getLogger("SC")}eX.UM=function(){return true};eX.prototype={xw:function(){return},FQ:function(c,a,e,b,d){return false},iGn:function(a){return 0},dVI:function(){return 0},oQu:function(){return"html"}};function QH(){this.eV(QH)}QH.LH=function(){return false};QH.prototype={FQ:function(c,a,d,b){if(d){this.iQ(d,a)}return false},iQ:function(b,a){Lightstreamer.fJ.EHb(b,1000,null,[null,a])}};Lightstreamer.tD(QH,eX);function Cf(a){this.eV(Cf);if(a){this.target=a}this.cm=Cf}Cf.UM=function(){return true};Cf.prototype={toString:function(){return["[","Cf",this.target,"]"].join("|")},FQ:function(c,a,e,b){this.ao(Cf,"FQ",c,a,e,b);var d=Zq.hSR(c.Xb,c.xT,c.qb==et?"POST":"GET",this.target);return d},iGn:function(a){if(a&&a.uJ){return 6+Lightstreamer.aE(a.uJ).length-a.uJ.length}else{return 0}},dVI:function(){return 15}};Lightstreamer.tD(Cf,QH);function Mh(a){this.eV(Mh);this.target=a;this.vj=0;this.isOpen=false;this.ON=null;this.cm=Mh}Mh.UM=function(){return true};Mh.prototype={toString:function(){return["[","Mh",this.isOpen,this.target,this.vj,this.ON,"]"].join("|")},gXw:function(a){if(a!=this.vj){return}this.vj++;if(this.isOpen){this.Ru(this.vj,Lightstreamer.Wa);this.isOpen=false}},xw:function(){var a=++this.vj;Lightstreamer.fJ.EHb(this.gXw,0,this,[a])},Ru:function(e,d,b,g,c){if(e!=this.vj||Lightstreamer.Wc){return}this.ao(Mh,"FQ",d,b,g,c);this.vj++;this.sc.log("FQ",d,b);try{var f=Lightstreamer.fP.jUi(this.target);var h=d.Xb;if(d.xT){h+="?"+d.xT}f.location.replace(h);this.isOpen=true}catch(a){this.sc.MG(a,"FQ");return false}return true},uXJ:function(c,a,e,b){if(!this.ON){this.ON=new Cf(this.target)}this.vj++;var d=this.ON.FQ(c,a,e,b);if(d){this.isOpen=true}return d},FQ:function(c,a,e,b){if(c.method==et){return this.uXJ(c,a,e,b)}var d=++this.vj;Lightstreamer.fJ.EHb(this.Ru,0,this,[d,c,a,e,b]);return true},iGn:function(a){return 2}};Lightstreamer.tD(Mh,QH);function SE(){this.eV(SE);this.gE=null;this.sender=null;this.JY=null;this.OH=null;this.error=null;this.isOpen=false;this.gi=0;this.LS_x=Lightstreamer.getClosureForNoParams(this.nrJ,this);this.cm=SE}SE.UM=function(){return !pS.isDisabled()};SE.prototype={toString:function(){return["[","SE",this.isOpen,this.gi,this.gE,"]"].join("|")},FQ:function(c,a,d,b){if(pS.isDisabled()){return false}else{if(!pS.bAD()){return null}else{if(this.isOpen){return null}}}this.gE=a;this.JY=null;this.OH=d;this.error=b;this.gi++;this.LS_h=Lightstreamer.getClosureFor(this.tqt,this)(this.gi);this.isOpen=true;this.sc.log("FQ",1,this,c);return pS.BiH(c.Xb,c.xT,this)},xw:function(){if(!this.isOpen){return}this.FB();try{if(this.sender&&this.sender.abort){this.sender.abort()}}catch(a){}this.fZ();this.sc.log("xw",1,this)},IHc:function(){try{if(this.JY===null){this.JY=this.sender.status>=200&&this.sender.status<=299}return this.JY}catch(a){this.sc.MG(a,"tqt",1);return false}},tqt:function(b){if(Lightstreamer.LC||b!=this.gi||!this.sender){return}if(this.sender.readyState==4||this.sender.readyState=="complete"){var a=null;if(this.IHc()){a=this.sender.responseText;a=a.toString();if(a.substring(0,2)=="/*"){a=a.substring(2,a.length-2)}}this.sc.log("tqt",1,this);this.FB();if(this.OH){this.OH(a,this.gE)}this.fZ()}},nrJ:function(a){if(Lightstreamer.LC){return}pS.Gk();this.FB();if(this.error){this.error(a,this.gE)}this.fZ()},fZ:function(){try{delete this.sender.onreadystatechange}catch(a){this.sc.log("fZ",1)}try{delete this.sender}catch(a){this.sc.log("fZ",2)}delete this.error;delete this.OH},FB:function(){this.sc.log("FB");this.isOpen=false;this.gi++},iGn:function(a){return 2},oQu:function(){return"js"}};Lightstreamer.tD(SE,eX);function Ik(){this.eV(Ik);this.LB=0;this.Jk=false;this.cm=Ik}Ik.DB=null;Ik.UM=function(){if(pS.isDisabled()){return false
}if(Ik.DB!==null){return Ik.DB}if(Lightstreamer.Kp()){Ik.DB=false}else{if(typeof(XMLHttpRequest)!="undefined"){Ik.DB=typeof(new XMLHttpRequest().addEventListener)!="undefined"}else{Ik.DB=false}}return Ik.DB};Ik.prototype={toString:function(){return["[","Ik",this.isOpen,this.LB,this.gi,this.gE,"]"].join("|")},FQ:function(d,b,e,c){var a=this.ao(Ik,"FQ",d,b,e,c);if(a){this.LB=0;this.Jk=false;this.uZ=false}return a},isPreambleFinished:function(){if(this.Jk){return true}var a=this.sender.responseText.indexOf("setPhase(");var c=this.sender.responseText.indexOf("setPhase(ph)");if(a>-1){if(c<=-1){this.Jk=true;return true}var b=this.sender.responseText.indexOf("setPhase(",a+1);if(b>-1){this.Jk=true;return true}else{return false}}},tqt:function(b){if(Lightstreamer.LC||b!=this.gi||!this.sender){return}var a;if(this.OH&&(this.sender.readyState==3||this.sender.readyState==4)){if(this.LB>0||this.IHc()){if(!this.isPreambleFinished()){return}var c=this.sender.readyState==4&&!this.uZ?this.sender.responseText.length:this.sender.responseText.lastIndexOf(";\n")+2;a=this.sender.responseText.substring(this.LB,c);if(this.LB==0&&a.substring(0,2)=="/*"){a=a.substring(2,a.length);this.uZ=true}this.LB=c;this.sc.log("tqt",1,this);this.OH(a,this.gE)}}if(this.sender.readyState==4){if(!this.IHc()){this.OH(null,this.gE)}this.sc.log("tqt",2);this.FB();this.fZ();if(a==""){Lightstreamer.fJ.EHb(HB,100,null,[this.gE])}}}};Lightstreamer.tD(Ik,SE);(function(a){a.KB=function(){this.nS=[SE,Cf];this.sc=a.KN.getLogger("RR");this.Ur=null;this.bv=null;this.rm=null;this.Yk=null;this.SF=0;this.YU=1;this.WG=false;this.gi=this.YU;this.JG=0;this.NE=null;this.Kq=0;this.oI=null;this.RA();this.wH()};a.KB.prototype={toString:function(){return["[","KB",this.WG,this.NE,this.SF,this.oI,"]"].join("|")},RA:function(){for(var b=0;b<this.nS.length;b++){if(this.nS[b].UM()){this.oI=new this.nS[b]();return}}if(this.oI==null){this.sc.dGc(false,"RA");throw ("KB")}},FWJ:function(d){var c=-1;var b=-1;for(var e=0;e<this.nS.length;e++){if(this.oI.cm==this.nS[e]){c=e;this.sc.log("FWJ",1,c)}if(d==this.nS[e]){b=e;this.sc.log("FWJ",2,b)}if(b>-1&&c>-1){if(b<c){this.oI=new d()}return}}},XjP:function(b){this.sc.log("XjP",b);this.SF=b},xw:function(){this.sc.log("xw");if(this.oI){this.oI.xw()}},wH:function(){this.sc.log("wH");this.SF=0;this.Ur=new Xj(xL.lQ);this.bv=new Xj(xL.Fc);if(!this.rm){this.rm=new Xj(xL.GI)}if(!this.Yk){this.Yk=new Xj(xL.Fc)}this.gd=[{q:this.Ur,HN:xL.lQ},{q:this.bv,HN:xL.Fc},{q:this.rm,HN:xL.GI},{q:this.Yk,HN:xL.Fc}];this.gi++;var b=this.NE&&this.NE.Nd()?this.NE.Nd().fg:null;if(b!==null&&b!==xL.Zo&&b!==xL.GI){this.xw();this.WG=false;this.NE=null;this.YU++;this.Yd(false)}else{if(b===null){this.sc.dGc(!this.WG&&this.NE==null,"wH",this);this.Yd(false)}}},EYt:function(d,e,b,c,f){a.fJ.EHb(this.jcn,0,this,[this.gi,d,e,b,c,f])},AS:function(c,b){if(b==xL.Zo||b==xL.GI){return true}else{return this.gi===c}},jcn:function(h,e,f,c,d,g){if(!this.AS(h,c)){return}this.sc.log("jcn",1,e,f);var i="";if(c!=xL.Zo){if(Vi){i="LS_session="+Vi+"&"}else{if(c!=xL.GI){this.sc.dGc(false,"jcn")}}}f=i+f+"LS_unique="+(++this.Kq)+"&";if(this.SF>0&&f.length>this.SF){this.sc.GSR("A subscription request("+f+") size exceeds the <request_limit> configuration setting for the Server("+this.SF+")")}var b=new xL(f,d,c,e,g);if(c==xL.lQ){this.Ur.EYt(b)}else{if(c==xL.GI){this.rm.EYt(b)}else{if(c==xL.Zo){this.Yk.EYt(b)}else{this.bv.EYt(b)}}}this.Yd(true)},Yd:function(b){this.sc.log("Yd",this.WG,b);if(this.WG){return}else{this.WG=true;if(b){this.Yt(this.YU)}else{this.aG()}}},aG:function(b){if(b){if(b!=this.YU){return}this.NE=null}this.YU++;this.sc.log("aG",this.YU);a.fJ.EHb(this.Yt,0,this,[this.YU])},Yt:function(c){if(c!=this.YU){return}this.YU++;this.sc.log("Yt",this.JG,this.YU);var b=0;while(b<this.gd.length){this.JG=this.JG<this.gd.length-1?this.JG+1:0;if(this.gd[this.JG].q.length>0){this.DD(this.gd[this.JG].HN,this.gd[this.JG].q);this.lC();return}b++}this.NO()},lC:function(f){if(f&&f!=this.YU){return}if(!this.NE||this.NE.length<=0){return
}var d=this.NE.EWW();if(!d){this.NO();return}var h=this.NE.nd?this.NE.nd:Pw();this.sc.log("lC",1,d);var g=false;var c=false;var e=0;while(c===false&&e<=this.nS.length){d.Xb=h+this.fsq();this.oI.xw();c=this.oI.FQ(d,this.YU,this.tOA(),this.qAh());if(c===false){this.sc.log("lC",2,this.oI.cm);try{this.RA()}catch(b){this.sc.MG(b,"lC");this.Ta();return}}e++}this.sc.log("lC",3,c);if(c===null){this.YU++;a.fJ.EHb(this.lC,200,this,[this.YU])}else{if(c===false){this.Ta()}else{this.LY(this.NE);this.pD()}}},Ta:function(){this.LY(this.NE,true);this.WG=false},NO:function(){this.xw();this.WG=false;this.sc.log("NO")},pD:function(){a.fJ.EHb(this.aG,4000,this,[this.YU])},tOA:function(){var b=this;return function(c,d){if(d!=b.YU){return}if(c!=null){}b.NE=null;b.aG()}},qAh:function(){var b=this;return function(c,d){if(d!=this.YU){return}b.sc.MG(c,"qAh");b.NE=null;b.aG()}},DD:function(f,e){this.sc.log("DD",f);this.NE=new Xj(f);var c=this.SF==0?0:this.oI.dVI();var d=true;while(e.length>0&&d){var b=e.Nd();if(b.Tu&&b.Tu!==true){this.NE.EYt(e.shift());this.NE.nd=b.Tu;d=false}else{if(this.SF==0){this.NE.EYt(e.shift())}else{if(this.NE.length==0||(this.NE.length+c+b.uJ.length)<=this.SF){c+=this.oI.iGn(b);this.NE.EYt(e.shift())}else{d=false}}}}},fsq:function(){var b=this.NE.Nd().fg;var c=WN.connection.fu+"/";if(b==xL.lQ){c+="send_message."}else{if(b==xL.GI){c+="send_log."}else{c+="control."}}c+=this.oI.oQu();return c},LY:function(e,c){var d=0;var b=null;while(b=e.LEP(d)){if(b.TM){b.TM.iQ(c)}d++}}}})(Lightstreamer);function Xj(a){this.length=0;this.Uk=[];this.Md={};this.sc=Lightstreamer.KN.getLogger("RR");this.ET=a;this.Ym=0;this.nd=null}Xj.Kv="C";Xj.vQ="F";Xj.prototype={ul:function(a,b){this.Md[a]=this.Uk.length;this.Uk.push(b);this.length+=b.uJ.length},EYt:function(d){if(d.fg==xL.lQ||d.fg==xL.GI){if(this.ET!=d.fg){this.sc.dGc(false,"EYt",3,d);return false}this.ul(this.Ym++,d);return true}if(this.ET!=xL.Fc){this.sc.dGc(false,"EYt",2,d);return false}var a;switch(d.fg){case xL.WV:a=Xj.Kv;break;case xL.IC:a=Xj.vQ;break;default:a=d.jl;break}var b=this.Md[a];this.sc.log("EYt",1,a,b,d);if((b||b==0)&&!isNaN(b)){if(b>=0){if(d.fg==xL.WV||d.fg==xL.IC){this.sc.log("EYt",2);this.rr(b,d);return true}else{if(d.fg==xL.oK){var c=this.Uk[b];this.sc.log("EYt",3,c);if(c.Tu){this.rr(b,d)}else{if(c.fg==xL.oK){}else{this.EF(b)}}return true}else{if(d.fg==xL.Zo){while((b||b==0)&&!isNaN(b)&&b>=0){var c=this.Uk[b];this.sc.log("EYt",9,d,c);if(d.Tu!=c.Tu){a+="_";b=this.Md[a]}else{return true}}}else{this.sc.log("EYt",4,a);this.rr(b,d);return true}}}}else{this.sc.JTF("EYt",7,b)}}this.ul(a,d);return true},rr:function(b,a){if(this.Uk.length<=b){this.sc.JTF("rr",1,b,this.Uk.length);return}this.sc.log("rr",2,b);var c=a.uJ.length-this.Uk[b].uJ.length;this.Uk[b]=a;this.length+=c},EF:function(c){if(this.Uk.length<=c){this.sc.JTF("EF",1,c,this.Uk.length);return null}this.sc.log("EF",2,c);var g=this.Uk.length-c;var e=this.Uk.splice(c,1)[0];var a=null;var d=[];for(var f in this.Md){if(g<=0){break}else{if(this.Md[f]>c){d.push(f);g--}else{if(this.Md[f]==c){a=f;g--}}}}if(a!=null){delete (this.Md[a])}else{this.sc.JTF("EF",1,c,this.Uk.length)}for(var b=0;b<d.length;b++){this.Md[d[b]]--}this.length-=e.uJ.length;return e},shift:function(){return this.EF(0)},pop:function(){return this.EF(this.Uk.length-1)},Il:function(){if(this.Uk.length<=0){return null}return this.Uk[this.Uk.length-1]},EWW:function(c){if(this.Uk.length<=0){return null}var b=new qk(c);var a=null;for(var d=this.Uk.length-1;d>=0;d--){if(this.Uk[d].fg==xL.Fc&&this.Uk[d].TM.jfl()){this.EF(d)}else{if(this.Uk[d].fg==xL.oK&&!this.Uk[d].TM.NTa()){iO.Dxr(this.Uk[d].TM.Vs);this.EF(d)}else{if(a==null){a=this.Uk[d].uJ}else{a+="\r\n"+this.Uk[d].uJ}}}}if(!a){return null}b.xT=a;return b},LEP:function(a){if(this.Uk.length<=0){return null}return this.Uk[a]},Nd:function(){if(this.Uk.length<=0){return null}return this.Uk[0]}};function xL(d,b,a,c,e){this.uJ=d;this.TM=b;this.jl=c;this.fg=a;this.Tu=e}xL.Fc=1;xL.oK=2;xL.WV=3;xL.lQ=4;xL.GI=5;xL.Zo=6;xL.IC=7;xL.prototype={toString:function(){return["[","xL",this.jl,this.fg,this.Tu,this.uJ,"]"].join("|")
}};function xm(b,a){this.Vs=b;this.fg=a}xm.prototype={jfl:function(){var a=iO.YPI(this.Vs);if(!a){return true}return a.IQY(this.Vs)},NTa:function(){return iO.Zeq(this.Vs)},iQ:function(b){if(this.fg==xL.Fc){var a=iO.YPI(this.Vs);if(a){a.ZOa("flt",this.Vs)}iO.EdL(this.Vs)}else{if(this.fg==xL.oK){iO.TBk(this.Vs)}}}};(function(a){a.lO=function(b,c){this.rq=b;this.ev=c};a.lO.prototype={iQ:function(b){if(this.rq!=rE){return}a.fJ.EHb(this.pfI,WN.policy.hU,this)},pfI:function(){if(this.rq!=rE){return}Eb.NT(this.ev)}}})(Lightstreamer);var tE=false;function MZ(){tE=false;if(Lightstreamer.PB()||Ik.UM()){return}if(Lightstreamer.Kp(6,true)||Lightstreamer.Kp(9,false)){return}try{if(SE.UM()){window.open(Lightstreamer.fP.jUi("LS_CONTROLFRAME").location,"LS_CONTROLFRAME",null,true);return}var b=new Cf("LS_CONTROLFRAME");if(!b.FQ(Lightstreamer.Wa)){Lightstreamer.fJ.EHb(MZ,1000)}}catch(a){}}(function(b){var e=-1;var g=0;var c=1;var a=2;var d=3;var f=4;b.XS=function(){this.sc=b.KN.getLogger("AF");this.status=window.ActiveXObject||typeof(XMLHttpRequest)!="undefined"?a:e;this.jh=2000;this.vZ=10000;this.cU=null;this.MM=b.MY();this.dM=b.MY();this.aW=new Mh("LS_AJAXFRAME")};b.XS.prototype={Wx:function(h){this.MM++;this.dM++;this.status=h?d:g},FQ:function(l,j){if(this.status==e){return}var i=Pw(bp);this.sc.log("FQ",i,this.cU,l,j);if(i==this.cU&&(this.bAD()||!j)){return}else{this.Wx(l);var k=this.MM;if(b.Pb()){this.sc.log("FQ",1);b.fJ.EHb(this.iPt,this.vZ,this,[k,false,j]);return}this.cU=i;i+=WN.connection.fu+"/ajax_frame.html";var h="phase="+this.dM+"&";if(b.ox!=null&&b.ox!=""){h+="domain="+b.ox+"&"}this.aW.FQ(new qk(i,h));b.fJ.EHb(this.PXZ,this.vZ,this,[k]);b.fJ.EHb(this.NSS,this.jh,this,[k])}},cLd:function(h){if(b.LC){return}if(this.dM!=h){return}if(this.status!=c){this.sc.log("cLd",1);this.status=c;if(lv){lv.FWJ(SE)}if(Eb){Eb.FWJ(SE)}}},BiH:function(l,i,j){if(this.isDisabled()){return false}else{if(this.status!==c){if(this.status===a){this.FQ()}return null}}this.sc.log("BiH",this.status);var k;try{k=this.rZr(l,i,j)}catch(h){k=false;this.sc.MG(h,"BiH")}if(k===false){this.Gk()}return k},rZr:function(l,i,j){try{var k=b.fP.jUi("LS_AJAXFRAME").sendRequest(l,i,j);if(k===false){this.sc.log("rZr",4);return false}}catch(h){this.sc.MG(h,"rZr");return false}this.sc.log("rZr",5);return true},iPt:function(j,i,h){this.sc.log("iPt",1,this.MM,j,this.bAD());if(this.MM==j&&!this.bAD()){this.FQ(i,h)}},PXZ:function(h){if(this.MM==h&&!this.bAD()){this.sc.log("PXZ");this.cU=null;this.FQ(true)}},NSS:function(h){if(this.MM==h&&!this.bAD()){this.sc.log("NSS");this.status=f}},Gk:function(){this.status=e;this.MM++;this.dM++},bAD:function(){return this.status===c},isDisabled:function(){return this.status===e||this.status===d||this.status===f}}})(Lightstreamer);var YS=true;self.LS_a=function(a){pS.cLd(a)};mc=Lightstreamer.KN.getLogger("PR");var WC="network";function NJ(b,a){if(Lightstreamer.LC||rq!=rE){return}mO("failure2")}function Iq(a,b){if(Lightstreamer.LC||b!=rE){return}if(a==null){mO(WC+1);return}mc.log("Iq");SV.OYh(b,a)}function mO(a){if(sw==LQ||sw==wU){mc.log("mO",1);Eb.hd.YXZ();Eb.NP(a);return}mc.log("mO",2)}function HB(a){if(a==rE){Eb.hd.YXZ();Eb.NP(WC+2)}}(function(a){a.lE=function(){this.LA=[];this.sc=a.KN.getLogger("EQ")};a.lE.prototype={toString:function(){return"[EvalQueue|"+this.LA.length+"]"},OYh:function(c,b){this.LA.push({wF:c,d:b});this.sc.log("OYh",this);a.fJ.EHb(this.tnB,0,this);a.TS.Dt()},WI:function(b){this.sc.log("WI",this);pS.Gk();this.LA=[];Eb.NP("failure"+b)},tnB:function(){this.sc.log("tnB",this);try{var e=a.fP.jUi("LS_POLLFRAME")}catch(b){this.WI(3);return}var c=false;while(this.LA.length>0){var d=this.LA.shift();if(d.wF!=rE){continue}try{if(!e.evalProxy(d.d)){this.WI(1);return}}catch(b){this.WI(4);return}}}}})(Lightstreamer);(function(ls){var rc=false;var MC=new RegExp("\\.",ls.Hj);var wM=new RegExp("-",ls.Hj);Lightstreamer.LightstreamerEngine=function(){this.sc=ls.KN.getLogger("LE");if(!arguments[4]||arguments[4]!="1446.6"){throw"The Lightstreamer library was not correctly loaded due to some incomplete caching.\n Please reload the page"
}this.iJ=new ls.Dj();this.iJ.parent=this;this.iJ.HY=arguments[0];this.ZR=null;if(!arguments[1]){this.sc.error("Error reading engine id.","createEngine");this.ZR=ls.MY()}else{this.ZR=arguments[1]}this.iZ=null;if(!arguments[2]){this.sc.error("Please specify a valid application name","createEngine");this.iZ="default"}else{this.iZ=arguments[2]}this.vT=ls.Vq+this.iZ;this.sK=ls.Vq+this.ZR+"_"+this.iZ;if(arguments[3]){document.write("<script src='lsdebug.js'><\/script>")}this.connection=new ls.Connection();this.connection.parent=this;this.policy=new ls.Policy();this.policy.parent=this;this.context=ls.Uj;if(this.iJ.HY){this.onStatusChange=null}this.gQ=[];this.xB=window;this.dS=false};Lightstreamer.LightstreamerEngine.prototype={Row:function(Gh){if(this.dS){return}if(Gh.Fr){this.iJ.Fr=Gh.Fr.toString()}else{for(var gb in Gh){this[gb].Aw(Gh[gb])}this.context.EW();this.context.iU();if(this.iJ.nH!=ls.tX){this.changeStatus(this.iJ.nH)}}ls.KN.nYV(vr);if(ls.OV){if(ls.Rl(this.vT,this.ZR)){this.sc.cg("FZ",7)}var Se=ls.Fk(this.sK);this.iJ.kdx("sa",Se?Se[1]:"N");Se=[ls.Gc(),this.iJ.sa,this.getEngineFrameName()];if(ls.CV(2)){Se.push(location.host)}ls.KK(this.sK,Se);ls.sY();ls.fJ.UwB(ls.sN,60000)}else{this.iJ.kdx("sa","N")}this.dS=true},getPushPages:function(){var bK=[];var vA=iO.qZs();for(var gb in vA){if(vA[gb].RHp()){try{var XB=vA[gb].RDD();bK.push(XB.Vp)}catch(XW){}}}return bK},changeStatus:function(ee){this.sc.cg("changeStatus",ee);this.sc.dGc(ee==ls.pC||ee==ls.tX||ee==ls.Ba,"changeStatus");this.iJ.kdx("nH",ee);if(aQ==true){return}if(ee==ls.tX||ee==ls.pC){Lp=false}else{Lp=true}if(ee==ls.tX){Eb.JU()}else{if(ee==ls.Ba||ee==ls.pC){var Ro=ee==ls.Ba?To:xe;if(Eb.LZx()){Eb.TH(Ro,null)}else{Eb.NP(null,Ro,true)}}}},getStatus:function(){var Ev=null;if(sw==LQ||sw==wU){if(Eb.cF==To||Eb.hJ==-1){Ev=ls.Ba}else{if(Dn>=2){Ev=ls.dN}else{if(Eb.KJ<Eb.hJ){Ev=ls.sV}else{Ev=ls.pC}}}}else{if(sw==GE){Ev=ls.sV}else{if(sw==uj||sw==HZ){Ev=ls.tX}}}this.sc.cg("getStatus",Ev);return Ev},sendMessage:function(gs,Bt,ke,tx){if(this.getStatus()==ls.tX){return false}bH.QAe(gs,Bt,ke,tx);return true},eFS:function(gs){var ak=LS_build&&LS_build!=("build_placeholder")?LS_build:0;var dd="LS_phase="+rE+"&";var ux="LS_build="+ak+"&"+dd+gs;lv.EYt(null,ux,xL.GI,null);return true},bind:function(){if(!this.context.bind()){return false}WN=this;this.context.parent=this;ls.KN.Hed();ls.XJ({MNg:"96886926756676586186106",oOL:"28442324223623531823424",RxT:"52312352492633183053182",gmT:"12605606620604633611619",YsW:"41239251304236249241253",DMe:"24923623423523424624724",ilt:"52423042312312313182482",tFR:"61661661562862663164512"});with(ls){WZ+=hFx(""+oOL+RxT+YsW+DMe+ilt+MNg+gmT+tFR,"document",116,2,721)}ls.XJ({hqe:"39318229234236249238239",Xfg:"23623831824225323323425",VLB:"12492422422492342402770"});return true},onServerError:function(Gt,ZE){alert("Error "+Gt+"\n"+ZE)},getEngineFrameName:function(){if(!WN.cK){var vC=document.domain;vC=vC.replace(MC,"_");vC=vC.replace(wM,"__");WN.cK=vC+"_"+this.ZR+"_"+WN.iZ}return WN.cK},getApplicationName:function(){return this.iZ},getSessionServerName:function(){return Nb},getSessionServerAddress:function(){return bp},NBZ:function(eN){rc=(eN)?true:false},onClientError:function(XY){return},onClientAlert:function(code,XY){ls.fJ.EHb(alert,0,null,["Warning "+code+"\n"+XY])},onStatusChange:function(px){px=px.toLowerCase();YJ=px;SG()}}})(Lightstreamer);function dO(){this.Dp=false;this.Uq=0;this.cl={};this.sc=Lightstreamer.KN.getLogger("MR")}dO.prototype={xw:function(){this.Dp=false;this.cl={};this.Uq++;this.sc.log("xw")},FSB:function(){if(!this.Dp){for(eZ in this.cl){var a=this.cl[eZ];for(tj in a.ho){if(a.ho[tj].ux!=null){var b=new Wv(this.Uq,a,tj);this.tK(tj,ux,b)}}}this.Dp=true;this.sc.log("FSB")}},QAe:function(h,d,a,c){this.sc.log("QAe",1,h,d,c);var e=this.cl[d];if(e==null){e={};e.oY=-1;e.ho={};this.cl[d]=e}e.oY++;var b="LS_message="+Lightstreamer.aE(h)+"&LS_req_phase="+e.oY+"&";if(d!=""){b+="LS_sequence="+d+"&"}if(c!=null){b+="LS_max_wait="+c+"&"}var g={};g.ux=b;g.ke=a;
e.ho[e.oY]=g;if(this.Dp){var f=new Wv(this.Uq,e,e.oY);this.tK(e.oY,b,f);this.sc.log("QAe",2)}},rXw:function(b,a,c){if(a==this.Uq){if(c.Kx.ho[b]){if(c.Kx.ho[b].ux!=null){this.tK(b,c.Kx.ho[b].ux,c)}}}},tK:function(b,a,c){lv.EYt(b,a,xL.lQ,c)},Xll:function(b,a){var c=this.cl[b];if(c.ho[a]){if(c.ho[a].ux!=null){c.ho[a].ux=null}if(c.ho[a].ke==null){delete (c.ho[a])}}},jn:function(b,a){if(b.ho[a]){delete (b.ho[a])}},nL:function(f,e,d,c){if(f.ho[e]){if(f.ho[e].ke!=null){var a=f.ho[e].ke;var b=iO.ZWE(a.bt);if(!b){this.sc.log("nL",1);return}b.ZOa("tZD",{mR:a.mR,Ke:d,gs:c})}}},eYG:function(b,a){this.rU(b,a,1,null)},rU:function(d,c,b,a){var e=this.cl[d];this.nL(e,c,b,a);this.jn(e,c)}};function Wv(a,c,b){this.Kx=c;this.tj=b;this.gi=a;this.da=0}Wv.prototype={iQ:function(a){this.da++;if(this.da>=5){return}else{Lightstreamer.fJ.EHb(bH.rXw,4000,bH,[this.tj,this.gi,this])}}};(function(a){var c=new RegExp(a.Vq+"\\d+_[^=]+=[^;]+");var b=new RegExp("^"+a.Vq+".+$");a.sN=function(){var g=document.cookie.toString();if(!g){return}g=g.split(";");var f=[];for(var l=0;l<g.length;l++){g[l]=a.Aq(g[l]);if(g[l].match(b)!=null){f.push(g[l])}}for(var l=0;l<f.length;l++){if(f[l].match(c)!=null){var h=f[l].split("=")[0];var e=a.Fk(h);if(!e){a.fI(h);continue}var d=a.Gc()-Number(e[0]);if(d>30000){a.fI(h)}}}for(var j=0;j<f.length;j++){if(!f[j].match(c)){var i=f[j].split("=")[0];i=a.jd(i);var n=a.Fk(i);if(n){for(var m=0;m<n.length;m++){if(n[m].indexOf("_")>1){if(!a.Fm(a.Vq+n[m])){a.kO(i,n[m])}}else{var k=i.substr(4);if(!a.Fm(a.Vq+n[m]+"_"+k)){a.kO(i,n[m])}}}}}}}})(Lightstreamer);(function(b){var g=null;var d=0;function a(){if(IA){FL.log("PG",4);IA=false;return}var h=false;var l=b.Fk(WN.sK);if(!l){l=[0,WN.iJ.sa,WN.getEngineFrameName(),document.location.host]}if(l[1]=="S"){var i=b.Fk(WN.vT);if(!i){FL.log("PG",1)}else{for(var j=0;j<i.length&&!b.LC;j++){if(i[j]==WN.ZR){continue}var k=b.Fk(b.Vq+i[j]+"_"+WN.getApplicationName());if(!k||k[1]!="S"){continue}if(k[0]==l[0]){d=b.MY(5)}if(k[0]>l[0]){FL.log("PG",2,i[j],k[0],l[0]);h|=e(i[j],k[0])}else{if(c[i[j]]){delete (c[i[j]])}}}}}if(!h){b.Rl(WN.vT,WN.ZR);l[0]=b.Gc()+d;b.KK(WN.sK,l)}}var c={};function e(i,h){if(c[i]){if(c[i]!=h){FL.log("LO",2,i,h,c[i]);f()}else{FL.log("LO",3,i,h);return false}}FL.log("LO",1,i,h);c[i]=h;return true}function f(){b.fJ.mNt(g);g=null;mH(true);sC();window.iO=null;b.fJ.EHb(document.location.replace,60000,document.location,[b.dD])}b.sY=function(){g=b.fJ.UwB(a,b.Am)}})(Lightstreamer);var YJ="";var jS=0;var MK;var WU=false;function SG(){var a=iO.fPl("onStatusChange");if(a||WN.onStatusChange!=Lightstreamer.LightstreamerEngine.prototype.onStatusChange){WU=false;Lightstreamer.fJ.mNt(MK);MK=null;return}var b="Lightstreamer";if(YJ=="streaming"){b+=" is in streaming mode"}else{if(YJ=="polling"){b+=" is in smart polling mode"}else{if(YJ=="stalled"){b+=" connection is stalled"}else{b+=" is "+YJ}}}if(YJ=="polling"||YJ=="connecting"||YJ=="streaming"){for(gb=1;gb<=jS;gb++){b=b+"."}if(jS>=3){jS=0}else{jS++}}window.status=b;if(!WU){MK=Lightstreamer.fJ.UwB(SG,1000);WU=true}}function Zs(){this.sc=Lightstreamer.KN.getLogger("EH")}Zs.prototype={Cs:function(a){if(a==null){return null}else{return a.toString()}},HDj:function(a){if(a.cW){WN.Row(a.cW)}iO.TEY(a.win,parseInt(a.ac))},jYY:function(a){iO.XCP(parseInt(a.eY),this.Cs(a.SX),parseInt(a.xJ),parseInt(a.bt),parseInt(a.xX),this.Cs(a.AI))},hLI:function(a){iO.subscribeTable(parseInt(a.bt),parseInt(a.YN),parseInt(a.QB))},RO:function(a){if(a.YN){iO.RO(parseInt(a.YN))}else{iO.aqC(parseInt(a.bt),this.Cs(a.SX))}},wJA:function(a){iO.wo(parseInt(a))},eFS:function(a){WN.eFS(this.Cs(a))},NBZ:function(){WN.NBZ()},HRm:function(a){WN.sendMessage(this.Cs(a.gs),Lightstreamer.UG(a.Bt),a.ke,Lightstreamer.UG(a.Dc))},WPQ:function(b){var c=this.Cs(b.Xf);WN[b.pH].kdx(c,b.Fu);if(c=="vw"&&(sw==LQ||sw==wU)){var a="LS_op=constrain&"+qe();lv.EYt(null,a,xL.WV)}else{if(c=="Up"){WN.context.EW()}else{if(c=="ib"){WN.context.iU()}}}},DrT:function(a){WN.changeStatus(this.Cs(a))}};(function(a){a.NY=function(b){this.hP=b;
this.ng=true;this.Dc=100};a.NY.prototype={xQT:function(){var b=this.Dc;this.Dc+=5000;return b},toString:function(){return["[","NY",this.ng,this.hP,this.Dc,"]"].join("|")}}})(Lightstreamer);(function(a){a.gX=function(){this.Tf={};this.xP=1;this.hO={};this.Sd=1;this.vN=a.MY();this.dP={};this.bb={};this.AW=a.MY(100)+1;this.sc=a.KN.getLogger("PH");a.fJ.UwB(this.pRm,5000,this)};a.gX.prototype={RmT:function(b,c){if(b==-1){this.sc.log("RmT",1);return true}var d=this.ZWE(b);if(!d){this.sc.log("RmT",2);return false}this.sc.log("RmT",3,this.AW,c);if(!c){return true}return c==this.AW},ZWE:function(b){if(!this.Tf[b]){this.sc.log("ZWE",b);return null}return this.Tf[b]},YPI:function(b){var c=this.hO[b];return this.ZWE(c)},qZs:function(){return this.Tf},TEY:function(e,d){var b=this.xP++;var c=new a.pU(e,d,this);this.Tf[b]=c;this.sc.log("TEY",b,d,this.AW);c.Kvd(b,this.AW)},aqC:function(c,b){this.sc.log("aqC",1,c,b);if(c&&this.Tf[c]){this.Tf[c].EuE(b)}},RO:function(b){this.sc.log("RO",1,b);var d=this.hO[b];if(d&&this.Tf[d]){this.sc.log("RO",2);this.Tf[d].YcC(b)}else{this.sc.dGc(false,"RO")}delete (this.hO[b]);var c;if((c=this.bb[b])){if(c.ng){var e=c.xQT();c.ng=false;if(e>5000){Ux.dGY(Pw())}this.sc.log("RO",3,b,c);a.fJ.EHb(this.phQ,e,this,[b,c.hP])}}},Dxr:function(b){this.sc.log("Dxr",b);delete (this.bb[b]);delete (this.dP[b])},wo:function(d){this.sc.log("wo",1,d);if(this.Tf[d]){var c=this.Tf[d].AJL();for(var b in c){this.RO(b)}a.Jn.remove(this.Tf[d].CI);delete (this.Tf[d])}},EdL:function(b){this.dP[b]=true},TBk:function(b){if(this.bb[b]){this.bb[b].ng=true}},Zeq:function(b){return this.dP[b]},fPl:function(d,e,h){var f=this.Tf;var c=false;for(var g in f){if(!c){try{var i=f[g].RDD();if(i.Vp.IR&&(i.Vp.IR[d]||i.Vp.IR[d]===null)){c=true}}catch(b){this.sc.MG(b,"fPl")}}if(e){f[g].ZOa(e,h)}else{if(c){return true}}}return c},onh:function(b,c){this.sc.log("onh",c,b);return this.fPl("onStatusChange","Dnp",{status:b})},XCP:function(j,d,b,i,f,c){this.sc.dGc(sw==LQ||sw==wU,"XCP");var g=this.Tf[i];if(!g){this.sc.dGc(false,"XCP",1,i);return}if(!Vi==null){this.sc.log("XCP",2);return}var h;if(g.LwF(d,b,j)){h=g.lsO(d)}else{h=this.Sd++;this.hO[h]=i;var e=this.CeR(c,h);g.vZt(h,d,e.add,b,j);this.bb[h]=new a.NY(e.remove)}this.sc.log("XCP",1,i,h,d);ji={eY:j,xJ:b,SX:d,YN:h};g.ZOa("Uho",ji)},subscribeTable:function(c,b,e){if(e>=3){Ux.dGY(Pw())}var d=this.Tf[c];var f=d.Cww(b);if(f){lv.EYt(b,f,xL.Fc,new xm(b,xL.Fc),e>=2)}},CeR:function(c,b){var f="LS_table="+b+"&";var g="LS_req_phase="+(this.vN++)+"&";var e="LS_win_phase="+this.AW+"&";var d=f+e+g;return{add:d+"LS_op=add&"+c,remove:d+"LS_op=delete&"}},Qtg:function(c){var b=this.Tf;this.Tf={};for(var d in b){b[d].BR("SZr",{Ge:c})}},foj:function(c){var b=this.Tf;for(var d in b){b[d].BR("ij")}},pRm:function(){for(var b in this.Tf){if(!this.Tf[b].RHp()){this.sc.log("pRm",b);this.wo(b)}}},pT:function(){this.bb={};var b=this.Tf;for(var c in b){b[c].ZOa("Ofr",{gi:this.AW+1,rJ:Nb,MO:bp})}this.AW++},Ax:function(){this.bb={};var b=this.Tf;for(var c in b){b[c].ZOa("etw",{gi:this.AW+1})}this.AW++},phQ:function(c,b){this.sc.cg("phQ",arguments);if(!this.bb[c]){return}if(sw!=LQ&&sw!=wU){return}if(Vi==null){this.sc.dGc(false,"phQ");return}lv.EYt(c,b,xL.oK,new xm(c,xL.oK))}}})(Lightstreamer);(function(a){a.pU=function(d,c,b){this.sc=a.KN.getLogger("PH");this.km=new a.BP(d);this.tb={};this.iP={};this.JZ=c;this.Fq=b;this.Tx=null;this.CI=new a.Jn(iO,new Zs(),a.fJ,false,true)};a.pU.prototype={Kvd:function(b,c){this.Tx=b;this.BR("TPB",{win:b,AW:c,ZR:WN.ZR,iJ:new a.Dj(WN.iJ),policy:new a.Policy(WN.policy),connection:new a.Connection(WN.connection),context:new a.Context(WN.context),status:WN.getStatus(),Ng:Eb.LZx(),rJ:Nb,MO:bp})},BR:function(c,b){this.MF(c,b,false)},ZOa:function(c,b){this.MF(c,b,true)},MF:function(e,d,c){var f=this.RDD();try{f.KD.HeS(e,this.JZ,d,c?this.Fq.AW:null)}catch(b){this.sc.MG(b,"MF",this.Tx,e);this.Fq.wo(this.Tx)}},AJL:function(){return this.iP},Cww:function(b){if(this.iP[b]){return this.iP[b].AI}return null},lsO:function(b){if(this.tb[b]){return this.tb[b].tj
}return null},LwF:function(c,b,d){return this.tb[c]&&this.tb[c].xJ==b&&this.tb[c].eY==d},vZt:function(d,c,e,b,f){this.sc.log("vZt",d,c);var g={tj:d,AI:e,xJ:b,eY:f,id:c};this.tb[c]=g;this.iP[d]=g},YcC:function(c){if(!this.iP[c]){return}var b=this.iP[c].id;delete (this.tb[b]);delete (this.iP[c]);this.sc.log("YcC",c,b)},EuE:function(c){var b=this.lsO(c);this.sc.log("EuE",c,b);this.Fq.RO(b)},RDD:function(){try{return this.km.tW.Lightstreamer}catch(b){this.sc.log("RDD",3,this.Tx);return null}},IQY:function(c){try{var e=this.RDD();var d=e.ol.rwe(c);this.sc.log("IQY",1,c);if(!d){return false}return d.CtB()}catch(b){this.sc.MG(b,"IQY");return false}},RHp:function(){try{var c=this.km.ohO();if(this.km.tW==null||!this.km.tW.Lightstreamer.Db||(this.km.tW.Lightstreamer.Db.NM!==null&&this.km.tW.Lightstreamer.Db.NM!=this.Tx)){this.sc.log("RHp",2,this.Tx,c.log);return false}return true}catch(b){this.sc.MG(b,"RHp",3,this.Tx);return false}}}})(Lightstreamer);Lightstreamer.fP=new Lightstreamer.sW();var pS=new Lightstreamer.XS();var Zq=new Lightstreamer.ed();var Qm=Lightstreamer.KN.getLogger("PF");var fx=Lightstreamer.KN.getLogger("UP");var tA=Lightstreamer.KN.getLogger("LC");var Lu=Lightstreamer.KN.getLogger("OP");var FL=Lightstreamer.KN.getLogger("CH");var lv=new Lightstreamer.KB();var bH=new dO();var iO=new Lightstreamer.gX();var SV=new Lightstreamer.lE();var Ux=new Lightstreamer.bf();var Qs=new Lightstreamer.Jn(iO,new Zs(),Lightstreamer.fJ,true,true);var Eb=new Lightstreamer.Vv();self.LS_forceReload=Lightstreamer.getClosureFor(Eb.NP,Eb)("server.exit");Lightstreamer.Oa("beforeunload",sC);Lightstreamer.Oa("beforeunload",ij);Lightstreamer.Oa("unload",sC);Lightstreamer.Oa("unload",LS_onunld);Lightstreamer.KN.hSe();tA.log("engine","lsengine.js parsed");(function(define){define(["./lscommons"],function(Lightstreamer){if(!Lightstreamer){throw ("Warning: lscommons.js not included before lspushpage.js")}Lightstreamer.sq=" 30417 $";Lightstreamer.tA.log("pushpage",window.name);(function(ls){Lightstreamer.GroupDescriptor=function(){this.sc=ls.KN.getLogger("TL")};ls.GroupDescriptor.prototype={ncf:function(ht){if(ht==null){return null}else{if(ht.Rm){return ht.Rm}else{if(ht.rS){if(this.Lt){return this.Lt[ht.rS]}else{return null}}else{var DZ=Number(ht);if(!isNaN(DZ)){return DZ}else{if(this.Lt){ht=ht.toString();return this.Lt[ht]}else{return null}}}}}}};ls.GroupDescriptor.uc=function(DE){if(DE==null){return null}else{if(DE.vb){return DE}else{if(DE.CE){return DE}else{if(DE.join&&typeof(DE.join)=="function"){return new ls.GroupListDescriptor(DE)}else{return new ls.GroupIdDescriptor(DE)}}}}}})(Lightstreamer);(function(ls){Lightstreamer.GroupIdDescriptor=function(vb){this.eV(ls.GroupIdDescriptor);this.vb=String(vb)};Lightstreamer.GroupIdDescriptor.prototype={QPW:function(Rm){return null},mcn:function(){return this.vb},getId:function(){return this.vb}};ls.tD(ls.GroupIdDescriptor,ls.GroupDescriptor)})(Lightstreamer);(function(ls){var om="item_name_error";var UH="GroupListDescriptor";Lightstreamer.GroupListDescriptor=function(Ho){this.eV(ls.GroupListDescriptor);this.CE=ls.Ya(Ho);this.Lt={};for(var gb=1;gb<this.CE.length;gb++){if(!this.NYS(this.CE[gb])){this.CE[gb]=om}this.Lt[this.CE[gb]]=gb}};Lightstreamer.GroupListDescriptor.prototype={NYS:function(rS){if(!rS){this.sc.error("Item names cannot be empty",UH);return false}if(!isNaN(rS)){this.sc.error("Item names cannot be numbers",UH);return false}if(rS.indexOf("|")!=-1||rS.indexOf(" ")!=-1){this.sc.error("Item names should be alphanumeric(underscore, caret and dot also allowed)",UH);return false}return true},QPW:function(Rm){return this.CE[Rm]},mcn:function(){this.CE.shift();var name=this.CE.join(" ");this.CE=[null].concat(this.CE);return name},getList:function(){return this.CE}};ls.tD(ls.GroupListDescriptor,ls.GroupDescriptor)})(Lightstreamer);(function(ls){Lightstreamer.SchemaDescriptor=function(){this.sc=ls.KN.getLogger("TL");this.Cc;this.length=0};ls.SchemaDescriptor.prototype={DWD:function(pO,XX){if(!pO){return null
}else{if(pO.XA){return pO.XA}else{if(pO.iu){return this.qcL(pO.iu,XX)}else{var DZ=Number(pO);if(!isNaN(DZ)){return DZ}else{return this.qcL(pO,XX)}}}}},XgF:function(XA,XX){if(typeof(XA)=="string"){return true}else{if(!XX&&this.Cc){return XA>this.length+this.Cc.length}else{return XA>this.length}}},sfB:function(){this.Cc=null},Zfa:function(Cc){if(!this.Cc){this.Cc=ls.SchemaDescriptor.lk(Cc)}}};ls.SchemaDescriptor.lk=function(Zl){if(!Zl){return null}else{if(Zl.kT){return Zl}else{if(Zl.ln){return Zl}else{if(Zl.join&&typeof(Zl.join)=="function"){return new ls.SchemaListDescriptor(Zl)}else{return new ls.SchemaIdDescriptor(Zl)}}}}}})(Lightstreamer);(function(ls){Lightstreamer.SchemaIdDescriptor=function(kT){this.eV(ls.SchemaIdDescriptor);this.kT=kT};Lightstreamer.SchemaIdDescriptor.prototype={getId:function(){return this.kT},cCY:function(XA,XX){if(typeof(XA)=="string"){return XA}else{if(XA>this.length&&this.Cc&&!XX){return this.Cc.cCY(XA)}}return null},qcL:function(iu,XX){if(this.Cc&&!XX){var RR=this.Cc.qcL(iu);if(isNaN(RR)){return RR}return this.length+RR}return iu},bdG:function(size){if(!this.length){this.length=size}},reset:function(){this.length=0},FoJ:function(){return this.kT}};ls.tD(ls.SchemaIdDescriptor,ls.SchemaDescriptor)})(Lightstreamer);(function(ls){var UH="SchemaListDescriptor";var Us="Field names cannot be ";var me=this.Us+"empty";var Ha=this.Us+"numbers";var PE="Field names should be alphanumeric(underscore, caret and dot also allowed)";var ZQ="Names starting with '#' cannot be used for subscribed fields";var om="field_name_error";Lightstreamer.SchemaListDescriptor=function(cL){this.eV(ls.SchemaListDescriptor);this.ln=ls.Ya(cL);this.Lt={};for(var gb=1;gb<this.ln.length;gb++){if(!this.eLL(this.ln[gb])){this.ln[gb]=om}this.Lt[this.ln[gb]]=gb}this.length=this.ln.length-1};Lightstreamer.SchemaListDescriptor.prototype={getList:function(){return this.ln},cCY:function(XA,XX){if(typeof(XA)=="string"){return XA}else{if(XA<=this.length){return this.ln[XA]}else{if(this.Cc&&!XX){var js=this.Cc.cCY(XA-this.length);if(this.Lt[js]){return"$"+js}return js}}}return null},qcL:function(iu,XX){if(this.Lt[iu]){return this.Lt[iu]}else{if(!this.Cc||XX){return iu}}if(iu.indexOf("$")==0){iu=iu.substring(1)}var RR=this.Cc.qcL(iu);if(isNaN(RR)){return RR}return this.length+RR},eLL:function(iu){if(!iu){this.sc.error(me,UH);return false}if(!isNaN(iu)){this.sc.error(Ha,UH);return false}if(iu.indexOf("#")==0){this.sc.error(ZQ,UH);return false}if(iu.indexOf("|")!=-1||iu.indexOf(" ")!=-1){this.sc.error(PE,UH);return false}return true},bdG:function(size){},reset:ls.uY,FoJ:function(){this.ln.shift();var name=this.ln.join(" ");this.ln=[null].concat(this.ln);return name}};ls.tD(ls.SchemaListDescriptor,ls.SchemaDescriptor)})(Lightstreamer);Lightstreamer.ItemDescriptor=function(){};Lightstreamer.ItemDescriptor.prototype={};(function(ls){Lightstreamer.ItemNameDescriptor=function(rS){this.eV(ls.ItemNameDescriptor);this.rS=String(rS)};Lightstreamer.ItemNameDescriptor.prototype={toString:function(){return this.rS},getName:function(){return this.rS}};ls.tD(ls.ItemNameDescriptor,ls.ItemDescriptor)})(Lightstreamer);(function(ls){Lightstreamer.ItemPositionDescriptor=function(Rm){this.eV(ls.ItemPositionDescriptor);this.Rm=Number(Rm)};Lightstreamer.ItemPositionDescriptor.prototype={toString:function(){return String(this.Rm)},getPosition:function(){return this.Rm}};ls.tD(ls.ItemPositionDescriptor,ls.ItemDescriptor)})(Lightstreamer);Lightstreamer.FieldDescriptor=function(){};Lightstreamer.FieldDescriptor.prototype={};(function(ls){Lightstreamer.FieldNameDescriptor=function(iu){this.eV(Lightstreamer.FieldNameDescriptor);this.iu=String(iu)};Lightstreamer.FieldNameDescriptor.prototype={toString:function(){return this.iu},getName:function(){return this.iu}};ls.tD(ls.FieldNameDescriptor,ls.FieldDescriptor)})(Lightstreamer);(function(ls){Lightstreamer.FieldPositionDescriptor=function(XA){this.eV(ls.FieldPositionDescriptor);this.XA=Number(XA)};Lightstreamer.FieldPositionDescriptor.prototype={toString:function(){return String(this.XA)
},getPosition:function(){return this.XA}};ls.tD(ls.FieldPositionDescriptor,ls.FieldDescriptor)})(Lightstreamer);(function(ls){var valueType={input:true,textarea:true};ls.pv=function(dF,mZ){this.rf=dF;if(!mZ){mZ=dF.getAttribute("update")}if(mZ){if(mZ.toLowerCase().indexOf("style.")==0){var sO=mZ.slice(6);this.NB=YZ(sO);this.Aj=XQ(sO)}else{this.NB=ZJ(mZ);this.Aj=Rd(mZ)}}else{var xN=dF.nodeName.toLowerCase();if(xN in valueType){this.NB=ZJ("value");this.Aj=Rd("value")}else{this.NB=od;this.Aj=Id}}this.bO=ku++;this.LW=null;this.rR=null;this.xF=0;this.bB=0};function YZ(mZ){return function(kw){this.rf.style[mZ]=kw===ls.aIu?null:kw}}function XQ(jJ){return function(){return this.rf.style[jJ]||""}}function ZJ(mZ){return function(kw){if(!kw||kw===ls.aIu){this.rf.removeAttribute(mZ)}else{this.rf.setAttribute(mZ,kw)}}}function Rd(jJ){return function(){this.rf.getAttribute(jJ)}}function od(kw,Xq){if(Xq){this.rf.innerHTML=kw}else{if(this.rf.childNodes.length!=1||this.rf.firstChild.nodeType!=3){if(this.rf.firstChild!=null){this.rf.innerHTML=""}this.rf.appendChild(document.createTextNode(kw))}else{this.rf.firstChild.nodeValue=kw}}}function Id(nw){if(nw){return this.rf.innerHTML}else{if(this.rf.firstChild){return this.rf.firstChild.nodeValue}}return""}var ku=0;function ej(Lj){var mx=Lj.getAttribute(ls.ei);return mx&&mx.toUpperCase()==ls.di}ls.pv.rF=function(UI,dJ){var fa=[];if(!dJ){dJ=["*"]}for(var gb=0;gb<dJ.length;gb++){var qj=UI.getElementsByTagName(dJ[gb]);for(var xj=0;xj<qj.length;xj++){if(ej(qj[xj])){fa.push(new ls.pv(qj[xj]))}}}return fa};ls.pv.Ld=function(Oh){var Uo=null;var Oo=Oh;while(Oo!=null&&Oo!=document){Uo=Oo;Oo=Oo.parentNode}if(Oo==null){if(Uo!=null&&Uo.nodeName=="HTML"){return true}else{return false}}else{return true}};ls.pv.prototype={AmA:function(JV){if(JV!=null&&this.rf.className!=JV){this.rf.className=JV}},VKs:function(hf){for(var Ir in hf){this.rf.style[Ir]=hf[Ir]}},Ld:function(){return ls.pv.Ld(this.rf)},DvP:function(){if(!this.rf.id){return this.Ld(this.rf)}var Ei=document.getElementById(this.rf.id);return(Ei===this.rf)},fQ:function(){if(this.rf){delete (this.rf)}}}})(Lightstreamer);(function(ls){ls.XJ({cellOverwrite:function(SX,nv,wm,fC,QV,Kw,ok,ZZ){ls.fuO(ls.dCL,SX,nv,wm,fC,QV,Kw,ok,ZZ,"cellOverwrite")},cellScroll:function(SX,row,wm,fC,QV,Kw,ok,ZZ){ls.fuO(ls.ZSN,SX,row,wm,fC,QV,Kw,ok,ZZ,"cellScroll")},cellMetapush:function(SX,row,wm,fC,QV,Kw,ok,ZZ){ls.fuO(ls.ZFs,SX,row,wm,fC,QV,Kw,ok,ZZ,"cellMetapush")},fuO:function(fg,SX,ti,wm,fC,QV,Kw,ok,ZZ,le){ls.El.log("fuO",arguments);var QP=wm.toString();var HG=ti;if(fg==ls.dCL){HG=HG.toString()}var tk=ls.MD.Spr(SX);tk.Gu.TA(QV,HG,QP);tk.OQ.TA(fC,HG,QP);var pA=ls.MD.qdt(fC,QV,ok,ZZ);tk.qYB(pA,HG,QP,fg)}})})(Lightstreamer);(function(ls){ls.XJ({wEn:new RegExp("^https?:\\/\\/",ls.RM),WRM:function(Hh){var GV;if(this.wEn.test(Hh)){return Hh}else{GV=location.protocol+"//"+location.hostname;if(location.port&&!ls.iH(location.port,location.protocol)){GV+=":"+location.port}if(Hh.indexOf("/")!=0){GV+=location.pathname;var mN=GV.lastIndexOf("/");if(mN!=GV.length-1){GV=GV.substring(0,mN+1)}}GV+=Hh;return GV}},PCf:new RegExp(","),wSk:new RegExp("\\."),UQU:function(kw,KF){if(kw){if(!kw.replace){return kw}if(KF){kw=kw.replace(this.wSk,"");kw=kw.replace(this.PCf,".")}else{kw=kw.replace(this.PCf,"")}return new Number(kw)}return 0},Mx:function(){return ls.Db.toString()}})})(Lightstreamer);Lightstreamer.XJ({RPo:"&nbsp;",aIu:"\u00A0",dCL:"H",ZSN:"V",Gpp:"AV",ZFs:"X",nWs:"Z",NNs:"K",Cdn:"AX",asO:"AXZ",gas:"M",dqv:"O",ebL:"OX",TnW:"OXZ",Uqv:"A",XNL:"A",RIC:"B",phx:"D",IoB:"C",HZ:1,WEW:2,JlV:3,gvh:4,mcF:5});(function(ls){ls.pF=function(){this.pK={};this.Fh={};this.HE=0;this.Oc=false;this.VS=-1;this.hL={};this.pk=0;this.sc=ls.KN.getLogger("LC");this.sc.log("pF","new PageContext")};ls.pF.prototype={Spr:function(wW,il){if(!this.pK[wW]){if(il==ls.gas){this.pK[wW]=new ls.RB(wW)}else{this.pK[wW]=new ls.IZ(wW)}}return this.pK[wW]},snX:function(OK,Xc){this.sc.cg("snX",arguments);ls.KN.getLogger("UP").cg("snX",arguments);
var jZ=OK[0];var Nn=ls.ol.rwe(jZ);if(!Nn){return true}Nn.cAj(OK,Xc,false);return true},nnw:function(ke){this.VS++;this.hL[this.VS]=ke;this.pk++;var Lg={};Lg.bt=ls.Db.NM;Lg.mR=this.VS;return Lg},ve:function(bx,Ke,gs){if(this.hL[bx]){var ke=this.hL[bx];if(Ke==1){PX="onProcessed"}else{if(Ke==38){PX="onDiscarded"}else{if(Ke==30){PX="onAbort"}else{if(Ke<=0){PX="onDeny"}else{PX="onError"}}}}try{if(Ke<=0){ke.onDeny(Ke,gs)}else{ke[PX]()}}catch(XW){this.sc.MG(XW,PX)}delete this.hL[bx];this.pk--}},Eoq:function(){var pL={};var mR=0;for(var gb=this.VS;gb>=0;gb--){if(mR==this.pk){break}if(this.hL[gb]){pL[mR]=gb;mR++}}for(var gb=mR-1;gb>=0;gb--){this.ve(pL[gb],30,null)}this.sc.dGc(this.pk==0,"Eoq");this.VS=-1;this.hL={};this.pk=0},fQ:function(){for(var gb in this.pK){this.pK[gb].fQ()}}}})(Lightstreamer);(function(ls){ls.Ar=function(kL){this.aA=false;this.jr=false;this.PU=this.CGg(kL);this.sA=1000;this.bM=false;this.sc=ls.KN.getLogger("LC");this.td()};ls.Ar.prototype={CGg:function(kL){var vc=this;return function(){if(vc.aA){return}vc.jr=true;if(kL&&kL.length){for(var gb=0;gb<kL.length;gb++){try{kL[gb]()}catch(XW){this.sc.MG(XW,"PU",kL[gb])}}}vc.jr=false;vc.aA=true}},eiI:function(){return !(this.aA||this.jr)},td:function(){if(document&&typeof document.readyState!="undefined"){var WA=document.readyState;if(WA.toUpperCase()=="COMPLETE"){this.sc.log("td",1);this.oR();return}else{this.sc.log("td",2);ls.fJ.EHb(this.Wvx,this.sA,this)}}else{if(this.wUQ()){this.sc.log("td",3);this.oR();return}}if(typeof window.OpenAjax!="undefined"){if(typeof OpenAjax.addOnLoad!="undefined"){this.sc.log("td",4);OpenAjax.addOnLoad(this.PU,null,"library");return}}var am=ls.Oa("load",this.PU);if(!am){this.sc.log("td",5);this.oR()}else{if(ls.aI()){var Fp=true;if(!ls.Oa("DOMContentLoaded",this.Xui())){this.sc.log("td",6);Fp=false}else{this.sc.log("td",7,window.opera.version);if(ls.aI(7,true)){return}else{if(ls.aI(8,true)){Fp=false}}}ls.fJ.EHb(this.qKt,this.sA,this,[Fp])}}},oR:function(){ls.fJ.EHb(this.PU,0)},Wvx:function(){if(!this.aA){var WA=document.readyState;if(WA.toUpperCase()=="COMPLETE"){this.PU()}else{ls.fJ.EHb(this.Wvx,this.sA,this)}}},qKt:function(Fp){if(!this.aA){if(this.RS||!Fp&&this.wUQ()){if(ls.Vp&&ls.Vp.XF){this.bM=true;return}this.PU()}else{ls.fJ.EHb(this.qKt,this.sA,this,[Fp])}}},Xui:function(){var vc=this;return function(){vc.RS=true}},wUQ:function(){return(typeof document.getElementsByTagName!="undefined"&&typeof document.getElementById!="undefined"&&(document.getElementsByTagName("body")[0]!=null||document.body!=null))}}})(Lightstreamer);(function(ls){ls.Sa=function(){this.xq=false;this.cZ=null;this.Ef=0;this.sc=ls.KN.getLogger("EL")};ls.Sa.prototype={Fca:function(JH){this.sc.log("Fca",ls.Vp.IR.iJ,ls.Vp.Fr);if((ls.Vp.IR.iJ.Fr||ls.Vp.Fr)){if(ls.Vp.IR.iJ.sa=="S"){this.xq=true;var XC=ls.Gc();if(this.cZ===null||XC-this.cZ>=2000){this.cZ=XC;var WW=ls.MY();this.sc.log("Fca",2,WW);this.Ef++;ls.fJ.EHb(this.dXc,WW,this);ls.Vp.wG(ls.Vp.iZ,null)}}else{if(JH){this.sc.log("Fca",3)}}}},dXc:function(){this.Ef--;this.sc.log("dXc",1);lc=ls.Vp.Fr?ls.Vp.Fr:ls.Vp.IR.iJ.Fr;ls.Vp.wp(ls.Vp.iZ,lc,ls.Vp.IR.iJ.sa,ls.Vp.IR.iJ.HY,true)},kr:function(){this.xq=false}}})(Lightstreamer);(function(ls){ls.bR=function(){};ls.bR.prototype={nLb:function(jP,jZ){this.sc.cg("nLb",arguments);if(jP==6){var wX=ls.ol.rwe(jZ);if(wX){wX.CQR()}}else{if(jP==7){}else{if(jP==8){}else{if(jP==9){var OT=ls.ol.rwe(jZ);if(OT&&OT.uo){if(ls.Vp&&ls.Vp.IR&&ls.Vp.IR.getStatus()==ls.sV){OT.dU*=2;OT.dU+=500}ls.fJ.bi(OT.uo,OT.dU);delete (OT.uo);delete (OT.dU)}}}}}},cPw:function(jP,gs,jZ){this.sc.cg("cPw",arguments);this.Oc=true;var Nn=ls.ol.rwe(jZ);if(!Nn){return}var hY;var EA;var fE;if(Nn.il==ls.NNs){EA=Nn.PC;fE=Nn.sF.vb;Nn=Nn.cS;hY=Nn.sF.QPW(EA)}if(ls.Vp.onServerDeny){try{ls.Vp.onServerDeny(jP,gs,Nn,EA,hY,fE)}catch(XW){this.sc.PqW(XW,ls.Vp.onServerDeny,"onServerDeny")}}},onLostUpdates:function(OK){this.sc.cg("onLostUpdates",arguments);var jZ=OK[0];var nv=OK[1];var qu=OK[2];var Nn=ls.ol.rwe(jZ);if(!Nn){return false
}var fE;if(Nn.il==ls.NNs){fE=Nn.sF.vb;nv=Nn.PC;Nn=Nn.cS}if(Nn.onLostUpdates){var dL=Nn.sF.QPW(nv);try{Nn.onLostUpdates(nv,qu,dL,fE)}catch(Jq){this.sc.PqW(XW,Nn.onLostUpdates,"onLostUpdates")}}return true},onEndOfSnapshot:function(OK){this.sc.cg("onEndOfSnapshot",arguments);var jZ=OK[0];var nv=OK[1];var Nn=ls.ol.rwe(jZ);if(!Nn){return false}if(Nn.il.indexOf(ls.Cdn)>-1){Nn.IP=true}if(Nn.onEndOfSnapshot){var dL=Nn.sF.QPW(nv);try{Nn.onEndOfSnapshot(nv,dL)}catch(XW){this.sc.PqW(XW,Nn.onEndOfSnapshot,"onEndOfSnapshot")}}return true}};ls.tD(ls.pF,ls.bR)})(Lightstreamer);(function(ls){var kp="Crl";ls.kP=function(){this.TT=new ls.BP(null);this.ZL={};this.XI={};this.Om=0;this.wT=false;this.Ma=5000;this.Hp=false;this.GK=0;this.Sj=0;this.Tl=false;this.lX=true;this.xp=false;this.pG=-1;ls.fJ.UwB(this.Oac,60000,this);this.sc=ls.KN.getLogger("EP");this.Tw=ls.KN.getLogger("CE")};ls.kP.prototype={pHW:function(){if(!ls.Vp){return null}if(this.TT.tW!=null){var cH=this.TT.ohO(true);this.Tw.log("pHW",1,cH.log);if(this.TT.tW!==null){return this.TT.tW}else{return null}}else{return null}},xJT:function(){var VE=null;var md=ls.Vp;if(ls.Kp()&&md.Fe){this.TT.tW=md.rl;this.sc.log("xJT",1)}else{if((this.Tl||md.rl==null)&&this.lX&&!md.XF){VE=this.enP();this.sc.log("xJT",2,VE);this.Tl=false}else{if(md.rl!=null){this.TT.tW=md.rl;this.sc.log("xJT",3);this.Tl=true}else{if(this.Om==10){if(!this.wT){this.sc.GSR("No way to find the Engine. Please check your configuration","seekEngine")}}if(this.Om<=10){this.Om++}this.sc.log("xJT",4,this.Om);return null}}}var cH=this.TT.ohO(true,!md.XF);this.sc.log("xJT",5,cH.log);if(this.TT.tW!=null){this.Sj=0;try{this.ZL[this.TT.tW.WN.getEngineFrameName()]="OK";return this.TT.tW}catch(XW){this.sc.log("xJT",10)}}if(ls.aI()&&md.Zxb()&&VE&&VE.log=="null"){this.sc.log("xJT",6);md.LBK();return null}this.Sj++;if(this.Sj>=(md.XF?20:10)){this.Sj=0;if(ls.mK.xq){this.sc.log("xJT",7);ls.mK.Fca()}else{if(md.Zxb()&&this.dNs()&&!md.XF){this.sc.log("xJT",8);md.LBK()}else{this.sc.log("xJT",9);this.Hp=true}}}return null},dNs:function(){if(ls.CV(2)&&this.Ff){this.sc.log("dNs",1);return true}else{if(ls.aI()){this.sc.log("dNs",2);return true}else{if(ls.Gj()){this.sc.log("dNs",3);return true}}}},enP:function(){var gt=this.Crl();if(!gt){this.sc.log("enP",1);return false}var cK=gt[2];var KL=this.TT.vPQ(cK,ls.Vp.XF);if(KL===false||(!KL.GN&&KL.qa==false)){this.ZL[cK]=false}else{this.ZL[cK]=KL.log?KL.log:"unknown"}this.sc.log("enP",3,cK,KL.log);if(gt[3]&&gt[3]!=location.host){this.Ff=true}return KL},Crl:function(){if(!ls.OV){this.sc.log(kp,1);return null}var OY=ls.Am+(ls.Vp.GH?ls.uf:0);var ds=ls.Fk(ls.Vq+ls.Vp.iZ);if(!ds){this.sc.log(kp,2);return null}for(var gb=0;gb<ds.length;gb++){var Xg=ds[gb]+"_"+ls.Vp.iZ;var Se=ls.Fk(ls.Vq+Xg);if(!Se||Se.length<=2){this.sc.log(kp,3,ds[gb]);continue}if(Se[1]!="S"&&!this.xp){this.sc.log(kp,4,ds[gb],Se[1]);continue}if(this.ZL[Se[2]]){this.sc.log(kp,5,ds[gb],Se[2]);continue}var oi=ls.Gc();var eA=oi-parseInt(Se[0]);var oS=1000-eA;if(eA>OY){if(this.XI[Xg]){if(eA>ls.Am*2){this.XI[Xg]=null;this.sc.log(kp,6.1,ds[gb],eA)}else{this.XI[Xg]=Se[0];ls.Vp.LvC(oS);this.sc.log(kp,6.2,ds[gb],eA)}}else{this.sc.log(kp,6,ds[gb],eA)}continue}if(ls.Vp.GH){if(!this.XI[Xg]){this.sc.log(kp,7,Se[0],eA);this.XI[Xg]=Se[0];ls.Vp.LvC(oS);continue}else{if(this.XI[Xg]==Se[0]){this.sc.log(kp,8,Se[0],eA);ls.Vp.LvC(oS);continue}}}ls.mr=oi;ls.uP=ls.Am-eA;if(eA>100){this.sc.log(kp,9,eA)}this.sc.log(kp,10,ds[gb],Se);return Se}return null},xHe:function(){if(this.Qu){return}this.sc.log("xHe");this.Qu=ls.fJ.UwB(this.QIE,this.Ma,this)},KiL:function(){this.sc.log("KiL");ls.fJ.mNt(this.Qu);delete (this.Qu)},QIE:function(){this.Tw.cg("QIE");if(ls.Db.vk){var WN=this.pHW();if(WN===null){this.sc.log("QIE",1);ls.Db.oQ();return false}this.Tw.log("QIE",2);return ls.Db.nXj()}return false},lgZ:function(gi){if(ls.nR.wT){return}if(this.Hp&&gi==this.GK){if(!ls.Db.vk){var Gb;if(ls.Vp.XF){Gb="Unable to create the Engine."}else{Gb="Unable to find the Engine. "}if(ls.Vp.Zxb()){Gb+="Creating a new Engine."
}else{Gb+="Retrying. If the problem persists, please check your configuration."}this.sc.GSR(Gb,"bind");ls.Vp.LBK()}}},xjw:function(){this.Hp=false;ls.fJ.EHb(this.lgZ,20000,this,[new Number(++this.GK)])},Oac:function(){var Vl=document.cookie.toString();this.MA(Vl);this.RN(Vl)},MA:function(Vl){var DI=this.ZL;this.ZL={};for(var uK in DI){if(DI[uK]&&Vl.indexOf(uK)>-1){this.ZL[uK]=DI[uK]}}},RN:function(Vl){var RE=this.XI;this.XI={};for(var uK in RE){if(RE[uK]&&Vl.indexOf(uK)>-1){this.XI[uK]=RE[uK]}}},bxW:function(uv){var WN=this.pHW();if(WN!=null){try{WN.document.bgColor=uv;var Cp=WN.document.bgColor;return Cp}catch(BE){}}return null}}})(Lightstreamer);(function(ls){Lightstreamer.UpdateItemInfo=function(){this.sc=ls.KN.getLogger("IC")};Lightstreamer.UpdateItemInfo.prototype={Wx:function(uR,Zn,OK,Xc){this.jW=OK;this.uR=uR;this.Zn=Zn;this.Xc=Xc},isValueChanged:function(field){this.sc.log("isValueChanged",arguments);var mj=this.uR.Tj.DWD(field);return this.hhg(mj,this.uR.Tj.XgF(mj))},hhg:function(mj,TP){if(!TP){if(this.jW[mj+1]==null){return true}else{return(this.jW[mj+1].length>-1)}}else{if(this.uR.OI.Qh(this.Zn)){var gJ="";if(this.uR.OI.FS(this.Zn,mj)){gJ=mj}else{if(this.uR.OI.FS(this.Zn,mj+"|rem")){gJ=mj+"|rem"}}if(gJ!=""){if(this.uR.OI.FS(this.Zn,gJ)!=this.uR.KE.FS(this.Zn,mj)){return true}else{return false}}}}if(this.uR.KE.FS(this.Zn,mj)){return true}else{return false}},isSnapshot:function(){this.sc.log("isSnapshot",arguments);return this.Xc},getNewValue:function(field){this.sc.log("getNewValue",arguments);var mj=this.uR.Tj.DWD(field);var TP=this.uR.Tj.XgF(mj);if(this.hhg(mj,TP)){if(!TP){return this.jW[mj+1]}else{if(!this.uR.OI.Qh(this.Zn)){return null}var mM=this.uR.OI.FS(this.Zn,mj);var uM=(mM)?mM:this.uR.OI.FS(this.Zn,mj+"|rem");if(!uM){return null}else{return uM}}}else{return this.KJw(mj)}},getOldValue:function(field){this.sc.log("getOldValue",arguments);var mj=this.uR.Tj.DWD(field);return this.KJw(mj)},KJw:function(mj){return this.uR.KE.FS(this.Zn,mj)},getNumFields:function(){if(this.uR.DG){if(this.uR.DG.length==0){return null}else{this.uR.Tj.length+this.uR.DG.length}}return this.uR.Tj.length},addField:function(field,value,eg){this.sc.log("addField",arguments);if(typeof eg=="undefined"){eg=true}var mj=this.uR.Tj.DWD(field);if(!this.uR.Tj.XgF(mj)){var WR=this.getNumFields();if(WR==null){WR=this.uR.Tj.length}this.sc.dSW("addField() method can only add fields that are not part of the subscription schema. Please use a value greater than "+WR,"addField")}if(eg){this.uR.OI.TA(value,this.Zn,mj+"|rem")}else{this.uR.OI.TA(value,this.Zn,mj);this.uR.OI.ek(this.Zn,mj+"|rem")}},forEachChangedField:function(Jo){var ch=this.jW.Cn;for(var gb=0;gb<ch.length;gb++){var name=this.uR.Tj.cCY(ch[gb]);var Qq=this.KJw(ch[gb]);var bG=this.jW[ch[gb]+1];try{Jo(ch[gb],name,Qq,bG,this)}catch(XW){this.sc.PqW(XW,Jo,"forEachChangedField")}}}}})(Lightstreamer);(function(ls){Lightstreamer.VisualUpdateInfo=function(){this.SK=null;this.kb=1200;this.sf=0;this.Uc=0;this.sc=ls.KN.getLogger("IC")};Lightstreamer.VisualUpdateInfo.prototype={JnG:ls.BO,Wx:function(uR,Zn,OK,xa){this.jW=OK;this.xa=xa;this.uR=uR;this.Zn=Zn;this.mR=Zn;this.kb=1200;this.sf=0;this.Uc=0},getFormattedValue:function(field){var mj=this.uR.Tj.DWD(field);var Ku=this.uR.rt.FS(this.Zn,mj);return Ku},setFormattedValue:function(field,value){var mj=this.uR.Tj.DWD(field);this.uR.rt.TA(value,this.Zn,mj)},getServerValue:function(field){var mj=this.uR.Tj.DWD(field);if(this.xa){if(typeof(mj)=="number"){return this.jW[mj+1]}else{return this.jW[mj]}}else{if(!this.uR.Tj.XgF(mj)){if(this.jW[mj+1]==null||this.jW[mj+1].length>-1){return this.jW[mj+1]}}}return this.uR.KE.FS(this.Zn,mj)},setHotTime:function(kw){this.kb=this.JnG(kw,"setHotTime",1200,true,0)},setColdToHotTime:function(kw){if(this.uR.il!=ls.ZSN&&this.uR.il!=ls.ZFs){this.sf=this.JnG(kw,"setColdToHotTime",0,true,0)}else{this.sf=0}},setHotToColdTime:function(kw){if(this.uR.il!=ls.ZSN&&this.uR.il!=ls.ZFs){this.Uc=this.JnG(kw,"setHotToColdTime",0,true,0)}else{this.Uc=0
}},Vd:function(mj,eW,Kd,fg){this.sc.log("Vd",arguments);var QP=this.uR.wg[mj];if(QP==null){return}var gH=this.uR.rY.xlW(this.SK,QP);if(gH==null){return}eW=(eW)?eW:"";Kd=(Kd)?Kd:"";if(gH.LW==null){gH.LW={};gH.rR={}}gH.LW[fg]=eW;gH.rR[fg]=Kd},setRowAttribute:function(eW,Kd,Ir){this.pX(eW,Kd,Ir)},setRowStyle:function(BI,KZ){this.pX(BI,KZ,"CLASS")},setAttribute:function(field,eW,Kd,Ir){var mj=this.uR.Tj.DWD(field);this.Vd(mj,eW,Kd,Ir);if(this.uR.il==ls.ZSN||this.uR.il==ls.ZFs){var tk=this.uR.rY;var QP=this.uR.wg[mj];if(QP==null){return}var Wl=tk.jF.FS(this.SK,QP);if(!Wl){Wl={};tk.jF.TA(Wl,this.SK,QP)}Wl[Ir]=1}},setStyle:function(field,BI,KZ){var mj=this.uR.Tj.DWD(field);this.Vd(mj,BI,KZ,"CLASS")},pX:function(eW,Kd,fg){var wE=this.SK;eW=(eW)?eW:"";Kd=(Kd)?Kd:"";var Cx=this.uR.rY;Cx.mF.TA(eW,wE,fg);Cx.DF.TA(Kd,wE,fg);if(this.uR.il==ls.ZSN||this.uR.il==ls.ZFs){if(fg!="CLASS"){if(!Cx.QA.FS(wE,fg)){Cx.QA.TA(1,wE,fg)}}}},forEachChangedField:function(Jo){var ch=this.uR.gg;for(var gb=0;gb<ch.length;gb++){var name=this.uR.Tj.cCY(ch[gb]);var uF=this.uR.rt.FS(this.Zn,ch[gb]);var Ow=typeof(ch[gb])=="number"?this.jW[ch[gb]+1]:this.jW[ch[gb]];if(typeof(Ow)=="undefined"){Ow=this.uR.KE.FS(this.Zn,ch[gb])}if(Ow&&Ow.length<=-1&&(this.uR.il==ls.Gpp||this.uR.il==ls.ZSN)){Ow=this.uR.KE.FS(this.Zn,ch[gb])}try{Jo(ch[gb],name,Ow,uF,this)}catch(XW){this.sc.PqW(XW,Jo,"forEachChangedField")}}}}})(Lightstreamer);Lightstreamer.RowInfo=function(){};Lightstreamer.RowInfo.prototype={Wx:function(Nn,Zn,DT){this.uR=Nn;this.Zn=Zn;if(DT){this.DT=DT}else{this.DT=this.uR.rY.mA[Zn]}},getServerValue:function(field){var wm=field;var tk=this.uR.rY;var mj=this.uR.Tj.DWD(wm);var QP=this.uR.wg[mj];if(QP==null){return null}var UY=tk.pB.FS(this.DT,QP);if(!UY){return null}return UY},getCellValue:function(field){var wm=field;var tk=this.uR.rY;var mj=this.uR.Tj.DWD(wm);var QP=this.uR.wg[mj];if(QP==null){return null}var ll=tk.VD.FS(this.DT,QP);if(ll===null){return tk.OQ.FS(this.DT,QP)}return ll}};(function(ls){ls.He=function(){};ls.He.prototype={qdt:function(kw,EZ,ok,ZZ){var xg="Lightstreamer|temp|id";var RT=0;while(document.getElementById(xg)&&RT<100){xg+=ls.MY();RT++}ok=ok||"div";var lD="<"+ok+" id='"+xg+"'";if(EZ){lD+=" class='"+EZ+"'"}lD+=">"+kw+"</"+ok+">";document.write(lD);var jH=document.getElementById(xg);jH.removeAttribute("id");return new ls.pv(jH,ZZ)},VEW:function(wW){var xE=this.Spr(wW).rKF();for(var SK in xE){var NS=xE[SK];var Ei=false;for(var wm in NS){var Uo;var Oo=NS[wm];var JS=Oo.DvP();if(JS){Ei=true}else{delete NS[wm]}}if(!Ei){delete xE[SK]}}},hVn:function(Te,aq){if(Te.CLASS){return Te}else{for(var fg in aq){if(!Te[fg]){Te[fg]=aq[fg]}}return Te}},ode:function(It,Zn,ov,mR,wm,hI,eY){var Nn=ls.ol.pPq(It);if(!Nn||eY!=Nn.eY){return}var fm=Nn.rY;if((fm.il==ls.ZSN||fm.il==ls.ZFs)&&fm.mA){ov=fm.mA[mR]}var kw=null;var SK=ov;var QP=Nn.wg[wm];if(QP==null){return}if(Nn.il==ls.Gpp){var gH=fm.xlW(SK,QP);if(gH){kw=gH.On;gH.On=null}}var St=false;if(kw==null){var JC=Nn.rt.FS(Zn,wm);if(JC==null){if(!hI){return false}else{kw=fm.OQ.FS(ov,QP);St=true}}else{kw=JC}}Nn.HQ.ek(Zn,wm);var ot=kw;if(ot==""){ot=ls.aIu}var kJ=fm.kQ.Qh(ov);this.sm(It,SK,QP,ot,ls.XNL,kJ,St);return true},sm:function(It,ov,QP,kw,IK,Le,jf){var fm=this.Spr(It);var Xq=jf?true:fm.Xq;var gH=fm.xlW(ov,QP);if(gH==null){return true}var hf=null;var JV=null;if(IK==ls.XNL){hf=gH.VT;gH.VT=null}else{if(IK==ls.RIC||IK==ls.phx){hf=gH.Qi;gH.Qi=null;gH.VT=null}}if(IK==ls.phx){var kH=fm.Gu.FS(ov,QP);if(hf==null&&kH){hf={};hf.CLASS=kH}else{if(kH){hf.CLASS=kH}}}if(hf!=null){hf=this.hVn(hf,Le)}else{if(Le){hf=Le}}if(hf!=null){if(typeof hf.CLASS!="undefined"){JV=hf.CLASS}}gH.NB(kw,Xq);gH.AmA(JV);gH.VKs(hf);return true},pSS:function(It,ov,mR,QP,mv,xF){var YF=this.Spr(It);if((YF.il==ls.ZSN||YF.il==ls.ZFs)&&YF.mA){ov=YF.mA[mR]}var gH=YF.xlW(ov,QP);if(gH==null){return}if(gH.xF!=xF){return}var Le=null;if(mv){Le=YF.kQ.Qh(ov)}else{Le=YF.JE.Qh(ov)}var hf=null;var JV=null;if(mv){hf=gH.VT;gH.VT=null}else{hf=gH.Qi;gH.Qi=null}if(hf!=null){hf=this.hVn(hf,Le)
}else{if(Le){hf=Le}}if(hf!=null){if(typeof hf.CLASS!="undefined"){JV=hf.CLASS}}else{return true}gH.AmA(JV);gH.VKs(hf);return true}};ls.tD(ls.pF,ls.He)})(Lightstreamer);(function(ls){ls.MU=function(gH,fl,Lc,kv,gr,gi,GP){this.Wx(gH,fl,Lc,kv,gr,gi,GP)};ls.MU.prototype={Wx:function(gH,fl,Lc,kv,gr,gi,GP){this.GP=(GP)?GP:null;this.fl=fl;this.gH=gH;this.Lc=(Lc)?ls.YM.JWZ(Lc):null;this.kv=(kv)?ls.YM.JWZ(kv):null;this.gr=gr;this.gi=gi;this.gZ=0}}})(Lightstreamer);(function(ls){ls.lu=function(){this.length=0;this.VW={}};ls.lu.prototype={xhc:function(wW){this.VW[this.length]=wW;this.length++},FS:function(){if(this.length<=0){return null}this.length--;return this.VW[this.length]}}})(Lightstreamer);(function(ls){ls.gc=function(oF){this.Ll=oF;this.ut=new ls.lu();this.Pc=0;this.UR={};this.uV=false;this.ar={}};ls.gc.prototype={cOx:function(gH,fl,Lc,kv,tM,GP){var gr=this.EAH(tM);var aT=++gH.bB;var OZ=this.ut.FS();if(OZ==null){this.UR[this.Pc]=new ls.MU(gH,fl,Lc,kv,gr,aT,GP);return this.Pc++}else{this.UR[OZ].Wx(gH,fl,Lc,kv,gr,aT,GP);return OZ}},EAH:function(jw){var gr=jw/this.Ll;return(gr>1)?gr:1},MfK:function(wW){var xd=this.UR[wW];if(xd.gi<xd.gH.bB){return}var pt=this.ar[xd.gH.bO];var Nm=this.UR[pt];if(Nm){if(!Nm.fl){if(xd.fl){if(Nm.GP){ls.fJ.PT(Nm.GP)}}else{xd.gZ=Nm.gZ;if(xd.gr<Nm.gr){xd.gr=Nm.gr}}}this.ut.xhc(pt)}this.ar[xd.gH.bO]=wW;if(xd.Lc){xd.WX=ls.YM.CNl(xd.gH.rf,"backgroundColor")}if(xd.kv){xd.Ud=ls.YM.CNl(xd.gH.rf,"color")}if(!this.uV){this.gI(this.Ll)}},cmE:function(gH){var pt=this.ar[gH.bO];if(pt){delete (this.ar[gH.bO]);this.ut.xhc(pt)}},Elj:function(aV){var lF=ls.Gc();var ks=0;if(aV){ks=lF-(aV+this.Ll)}var Co=false;for(var Bo in this.ar){var eO=this.ar[Bo];var xd=this.UR[eO];if(xd.gZ>xd.gr){this.ut.xhc(eO);delete (this.ar[Bo]);if(xd.GP){ls.fJ.bi(xd.GP,0)}}else{if(xd.Lc){xd.gH.rf.style.backgroundColor="rgb("+this.Tt(xd.WX[0],xd.Lc[0],xd.gr,xd.gZ)+","+this.Tt(xd.WX[1],xd.Lc[1],xd.gr,xd.gZ)+","+this.Tt(xd.WX[2],xd.Lc[2],xd.gr,xd.gZ)+")"}if(xd.kv){xd.gH.rf.style.color="rgb("+this.Tt(xd.Ud[0],xd.kv[0],xd.gr,xd.gZ)+","+this.Tt(xd.Ud[1],xd.kv[1],xd.gr,xd.gZ)+","+this.Tt(xd.Ud[2],xd.kv[2],xd.gr,xd.gZ)+")"}Co=true}xd.gZ++}if(!Co){this.uV=false}else{var cR=ls.Gc();var fe=(cR-lF);var mQ=fe+ks;if(mQ>this.Ll){var ZX=mQ/this.Ll;var NW=Math.floor(ZX);var XH=ZX-NW;this.VV(NW);mQ=this.Ll*XH}this.Eg(this.Ll-mQ,cR)}},Eg:function(pV,aV){ls.fJ.EHb(this.Elj,pV,this,[aV])},VV:function(NW){for(var Bo in this.ar){var eO=this.ar[Bo];var xd=this.UR[eO];if(xd.gZ>xd.gr){}else{if(xd.gZ+NW<xd.gr){xd.gZ+=NW}else{xd.gZ=xd.gr}}}},gI:function(Dc){if(this.uV==true){return}this.uV=true;this.Eg(Dc)},Tt:function(cw,XT,QN,lA){cw=new Number(cw);XT=new Number(XT);var UE=XT-cw;var cI=cw+(((1/QN)*lA)*UE);return Math.ceil(cI)}}})(Lightstreamer);(function(ls){ls.kf=function(Pj,wC,BG,jt,GP){var Qk;if(typeof GP=="string"){Qk=function(){eval(GP)}}else{Qk=GP}var Zt=ls.fJ.wOx(Qk);var pA=new ls.pv(Pj);var XG=ls.Xa.cOx(pA,false,wC,BG,jt,Zt);ls.Xa.MfK(XG)}})(Lightstreamer);(function(ls){ls.Lb=function(){this.Tk={};this.ki="An RGB color value must be in the form 'rgb(x, y, z)' or 'rgba(x, y, z, a)'. ";this.ih=" is not a valid color";this.xV=" is not a valid value";this.sc=ls.KN.getLogger("CC")};ls.Lb.prototype={uGC:function(mx){if((mx>=0)&&(mx<=9)){return new Number(mx)}mx=mx.toUpperCase();if(mx=="A"){return 10}else{if(mx=="B"){return 11}else{if(mx=="C"){return 12}else{if(mx=="D"){return 13}else{if(mx=="E"){return 14}else{if(mx=="F"){return 15}else{this.sc.error("A hexadecimal number must contain numbers between 0 and 9 and letters between A and F. "+mx+this.xV,"setStyle");return null}}}}}}},JWZ:function(kw){if(kw.indexOf("rgb")==0){return this.MuC(kw)}else{if(kw.indexOf("#")==0){return this.AAh(kw)}else{return this.tpH(kw)}}},qLG:function(LU){var KL=0;var vY=0;var gb;for(gb=LU.length;gb>=1;gb--){var Kg=this.uGC(LU.substring(gb-1,gb));if(Kg==null){return null}var x;for(x=1;x<=vY;x++){Kg*=16}vY++;KL+=Kg}return KL},AAh:function(wc){if(wc.indexOf("#")==0){wc=wc.substring(1,wc.length)}if(wc.length==3){wc=wc.charAt(0)+wc.charAt(0)+wc.charAt(1)+wc.charAt(1)+wc.charAt(2)+wc.charAt(2)
}else{if(wc.length!=6){this.sc.error("A hexadecimal color value must be 6 character long. "+wc+this.ih,"setStyle");return null}}var lJ=wc.substring(0,2);var al=wc.substring(2,4);var Nr=wc.substring(4,6);Av=this.qLG(lJ);iW=this.qLG(al);AJ=this.qLG(Nr);if(Av==null||iW==null||AJ==null){return null}return[Av,iW,AJ]},mDv:function(uv){var cC=document.createElement("DIV");cC.style.backgroundColor=uv;var kw=this.CNl(cC,"backgroundColor",uv);if(kw[0]==255&&kw[1]==255&&kw[2]==255){if(uv.toUpperCase()!="WHITE"){var AI=document.getElementsByTagName("BODY")[0];if(AI){AI.appendChild(cC);kw=this.CNl(cC,"backgroundColor",uv);AI.removeChild(cC)}}}this.Tk[uv]=kw;return this.Tk[uv]},tpH:function(uv){var KL="";if(this.Tk[uv]){return this.Tk[uv]}if(!ls.Kp()){return this.mDv(uv)}else{KL=ls.nR.bxW(uv)}if(!KL||KL==""||KL==uv){var YC=document.bgColor;document.bgColor=uv;KL=document.bgColor;document.bgColor=YC}if(!KL||KL==""||KL==uv){return this.mDv(uv)}this.Tk[uv]=this.AAh(KL);return this.Tk[uv]},MuC:function(Os){var DW;var MS;if(Os.indexOf("rgb(")==0){DW=4;MS=")"}else{if(Os.indexOf("rgba(")==0){DW=5;MS=","}else{this.sc.error(this.ki+Os+this.ih,"setStyle");return null}}Os=Os.substring(DW,Os.length);var MW=Os.indexOf(",");var Av=this.QGQ(Os.substring(0,MW));var Vm=Os.indexOf(",",MW+1);var iW=this.QGQ(Os.substring(MW+1,Vm));var FW=Os.indexOf(MS,Vm+1);var AJ=this.QGQ(Os.substring(Vm+1,FW));if(Av==null||iW==null||AJ==null){return null}return[Av,iW,AJ]},QGQ:function(tj){if(tj.indexOf("%")==tj.length-1){tj=parseFloat(tj.substring(0,tj.length-1));if(tj>100|tj<0){this.sc.error("An rgb element must be a number >=0 and <=255 or a percentile >=0 and <=100. "+tj+this.xV,"setStyle");return null}tj=2.55*tj}return tj},CNl:function(cC,RH,DR){if(cC==null){return[255,255,255]}var kw="";try{if(window.getComputedStyle||(document.defaultView&&document.defaultView.getComputedStyle)){var eq=document.defaultView.getComputedStyle(cC,null);if(eq){var PF=RH=="backgroundColor"?"background-color":RH;kw=eq.getPropertyValue(PF)}}}catch(XW){}try{if(!this.jqi(kw,DR)&&cC.currentStyle){var oT=RH=="background-color"?"backgroundColor":RH;kw=cC.currentStyle[oT]}}catch(XW){}try{if(!this.jqi(kw,DR)){var jc=RH=="background-color"?"backgroundColor":RH;if(cC.style[jc]!=""){kw=cC.style[jc]}else{return[255,255,255]}}}catch(XW){}if(kw=="transparent"&&cC.parentNode){return this.CNl(cC.parentNode,RH)}else{if(kw=="transparent"){return[255,255,255]}}if(!this.jqi(kw,DR)){return[255,255,255]}return this.JWZ(kw)},jqi:function(nx,DR){if(!nx||nx==""){return false}else{if(!DR){return true}else{if(nx!=DR){return true}else{return false}}}}}})(Lightstreamer);(function(ls){ls.Tq=function(){};ls.Tq.prototype={Wx:function(){this.length=0;this.sG={};if(!this.Mr){this.BT={}}}}})(Lightstreamer);(function(ls){ls.tF=function(uW,EV,oB){this.eV(ls.tF);this.TO=uW;this.nl=EV;this.kY=oB;this.Mr=true;this.Wx()};ls.tF.prototype={removeChild:function(uW){if(this.length<=0){return}this.length--;delete (this.sG[uW.wW]);this.TO.removeChild(uW.Ss());uW.parentNode=null},insertBefore:function(XM,uW){if(uW==XM){return}if(!XM){return}if(!uW){this.appendChild(XM);return}if(this.sG[uW.wW]==null){this.appendChild(XM);return}this.qo(XM);this.TO.insertBefore(XM.Ss(),uW.Ss())},appendChild:function(uW){if(!uW){return}this.qo(uW);if(!this.nl){this.TO.appendChild(uW.Ss())}else{this.TO.insertBefore(uW.Ss(),this.nl)}},qo:function(uW){if(uW.parentNode==this){return}this.length++;this.sG[uW.wW]=uW;if(uW.parentNode){uW.parentNode.removeChild(uW)}uW.parentNode=this},oBH:function(wE){if(this.length<=wE){return null}wE+=this.kY;var sp=this.TO.childNodes[wE].getAttribute("id");return this.getElementById(sp)},getElementById:function(wW){return this.sG[wW]},fQ:function(){if(this.TO){delete (this.TO)}if(this.nl){delete (this.nl)}for(var gb in this.sG){this.sG[gb].fQ()}}};ls.tD(ls.tF,ls.Tq)})(Lightstreamer);(function(ls){ls.ED=function(){this.eV(ls.ED);this.Mr=false;this.Wx()};ls.ED.prototype={removeChild:function(uW){if(this.length<=0){return}this.length--;
var wE=this.sG[uW.wW];var Ye;for(Ye=wE;Ye<this.length;Ye++){this.BT[Ye]=this.BT[Ye+1];this.sG[this.BT[Ye].wW]=Ye}this.sG[uW.wW]=null;this.BT[this.length]=null;uW.parentNode=null},insertBefore:function(XM,uW){if(uW==XM){return}if(!XM){return}if(!uW){this.appendChild(XM);return}if(this.sG[uW.wW]==null){this.appendChild(XM);return}if(XM.parentNode){XM.parentNode.removeChild(XM)}var tf=this.sG[uW.wW];for(Ye=this.length;Ye>=tf+1;Ye--){this.BT[Ye]=this.BT[Ye-1];this.sG[this.BT[Ye].wW]=Ye}this.qo(XM,tf)},appendChild:function(uW){if(!uW){return}if(uW.parentNode){uW.parentNode.removeChild(uW)}var wE=this.length;this.qo(uW,wE)},qo:function(uW,wE){this.length++;this.sG[uW.wW]=wE;this.BT[wE]=uW;uW.parentNode=this;uW.ZRV()},oBH:function(wE){return this.BT[wE]},getElementById:function(wW){return this.BT[this.sG[wW]]},fQ:function(){for(var gb=0;gb<this.length;gb++){this.BT[gb].fQ()}}};ls.tD(ls.ED,ls.Tq)})(Lightstreamer);(function(ls){ls.vp=function(tp,Ih,aC,keyCode){this.wW="a|"+tp+"|"+aC;this.It=tp;this.Zn=aC;this.keyCode=keyCode;this.nv=Ih;this.parentNode=null;this.uW=null};ls.vp.prototype={ZRV:function(){if(this.uW==null){return}},Ss:function(){if(this.uW!=null){return this.uW}var tk=ls.MD.Spr(this.It);this.uW=tk.Vf.cloneNode(true);this.uW.setAttribute("id",this.wW);var fa=ls.pv.rF(this.uW);for(var Ye=0;Ye<fa.length;Ye++){var Oo=fa[Ye];var sb=Oo.rf.getAttribute("FIELD");if(!sb){continue}tk.qYB(Oo,this.Zn,sb,tk.il)}return this.uW},fQ:function(){if(this.uW){delete (this.uW)}}}})(Lightstreamer);(function(ls){ls.iI=function(WF,connection,context,policy,iJ){this.oC=WF;this.Ip="The LightstreamerEngine instance is not available";this.rJ=null;this.MO=null;this.mq=null;this.onStatusChange;this.onServerError;this.onClientError;this.onClientAlert;this.context=new ls.Context(context);this.context.parent=this;this.policy=new ls.Policy(policy);this.policy.parent=this;this.connection=new ls.Connection(connection);this.connection.parent=this;this.iJ=new ls.Dj(iJ);this.iJ.parent=this;this.sc=ls.KN.getLogger("EH")};ls.iI.prototype={ZlS:function(eR){if(ls.Db.vk){return true}else{this.sc.dSW(this.Ip,eR);return false}},rTH:function(eR){if(this.ZlS(eR)){try{return this.oC[eR]()}catch(XW){this.sc.MG(XW,eR);this.sc.error(this.Ip,eR);ls.fJ.EHb(ls.Db.nXj,0,ls.Db)}}return null},ZIn:function(WD){this.mq=WD},TVa:function(rJ,MO){this.rJ=rJ;this.MO=MO},changeStatus:function(ee){if(!(ee==ls.pC||ee==ls.tX||ee==ls.Ba)){this.sc.dSW("Please use one of: POLLING, STREAMING, DISCONNECTED","changeStatus");return}if(this.ZlS("changeStatus")){this.sc.log("changeStatus",ee);ls.Db.rtZ("DrT",ee)}},Thd:function(){this.changeStatus(ls.pC)},mTj:function(){this.changeStatus(ls.tX)},gIM:function(){this.changeStatus(ls.Ba)},getStatus:function(){if(this.ZlS("getStatus")){return this.mq}else{return null}},getApplicationName:function(){if(this.ZlS("getApplicationName")){return ls.Vp.iZ}else{return null}},getSessionServerName:function(){if(this.ZlS("getSessionServerName")){return this.rJ}else{return null}},getSessionServerAddress:function(){if(this.ZlS("getSessionServerAddress")){return this.MO}else{return null}},getPushPages:function(){var IM=this.rTH("getPushPages");if(IM==null){return[]}},sendMessage:function(gs,Bt,ke,Dc){if(this.ZlS("sendMessage")){if(ke){ke=ls.MD.nnw(ke)}if(!ls.Db.Ng){return false}if(!Bt&&Bt!=0){Bt=""}else{if(!ls.bg.test(Bt)){this.sc.dSW("The given sequence name("+Bt+") is not valid: use only alphanumeric characters plus underscore, or null","sendMessage");return false}}if((Dc&&isNaN(Dc))||Dc===""){this.sc.dSW("The given timeout("+Dc+") is not valid: use a number or null","sendMessage");return false}ls.Db.ZOa("HRm",{gs:gs,Bt:Bt,ke:ke,Dc:Dc});return true}return false},NBZ:function(){if(this.ZlS("NBZ")){ls.Db.BR("NBZ")}}}})(Lightstreamer);(function(ls){ls.iv=function(xc,wB){this.wB=wB;this.xc=xc;ls.Oa("unload",ls.getClosureForNoParams(this.sqT,this))};ls.iv.prototype={sqT:function(){try{this.xc.removeChild(this.wB);delete (this.wB);delete (this.xc)}catch(XW){}}}})(Lightstreamer);
(function(ls){ls.eB=function(){this.Qx=null;this.be=null;this.vh=0;this.mS=0;this.sc=ls.KN.getLogger("EW")};ls.eB.prototype={fF:function(CP,Po,gi){if(this.mS!=gi){this.sc.log("fF",0);return}var tB=false;var hQ=null;if(ls.Db.vk){this.sc.log("fF",1);return}if(!CP){this.sc.log("fF",5);return}this.vh++;tB=!this.xQu(CP);if(!tB){if(CP.Lightstreamer.nR){hQ=CP.Lightstreamer.nR}else{if(CP.Zh){hQ=CP.Zh}else{this.sc.log("fF",6);tB=true}}}if(!tB){if(!hQ){this.sc.log("fF",8);tB=true}if(!hQ.pHW){this.sc.log("fF",7)}else{if(hQ.wT==true){ls.nR.lX=false;ls.nR.wT=true;if(ls.nR.pHW()==null){this.sc.GSR("This Push-page can't receive real-time data because the corresponding engine could not start")}else{this.sc.dGc(false,"fF")}this.sc.log("fF",4);return}var Ct=hQ.pHW();if(Ct==null){this.sc.log("fF",2);tB=true}else{this.sc.log("fF",3);Po.rl=Ct;ls.nR.Tl=false}}}if(tB){ls.fJ.EHb(this.fF,this.vh<=30?1000:10000,this,[CP,Po,gi])}},GZH:function(CP,Po){this.mS++;this.vh=0;this.fF(CP,Po,this.mS)},xQu:function(CP){try{if(CP.Lightstreamer){}this.sc.log("xQu",0);return true}catch(XW){this.sc.MG(XW,"xQu",document.domain);return false}},Ksn:function(){if(!document.getElementsByTagName){return false}if(this.be){this.sc.log("Ksn",7);return false}var OC=ls.aI(9,false)?ls.Vp.Fr+ls.dD:"about:blank";this.sc.log("Ksn",6,OC);var dA="LS__"+ls.MY();this.Qx=dA;this.sc.log("Ksn",dA);var GS=document.getElementsByTagName("BODY")[0];if(!GS){this.sc.error("The createEngine() method should be called in the BODY part of the page, not in the HEAD","createEngine");return false}var wB;try{wB=document.createElement("iframe");wB.style.visibility="hidden";wB.style.height="0px";wB.style.width="0px";wB.name=dA;if(ls.Kp()){wB.src=ls.Vp.Dk;GS.appendChild(wB)}else{GS.appendChild(wB);wB.src=ls.Vp.Dk}this.be=new ls.iv(GS,wB)}catch(XW){this.sc.MG(XW,"Ksn",5);return null}try{if(wB.contentWindow){this.sc.log("Ksn",1);try{wB.contentWindow.name=dA}catch(ob){}return wB.contentWindow}else{if(document.frames&&document.frames[dA]){this.sc.log("Ksn",2);return document.frames[this.Qx]}else{this.sc.log("Ksn",3);return self}}}catch(XW){this.sc.MG(XW,"Ksn",4);return self}}}})(Lightstreamer);(function(ls){Lightstreamer.PushPage=function(){this.context=ls.Uj;this.IR=null;this.BZ=window;this.si=2000;this.Fr=null;this.sa=null;this.HY=false;this.WB=0;this.Zh=ls.nR;this.oM=0;this.PY=ls.Ce;this.kE=true;this.wR=0;this.XF=false;this.Gw=0;this.Fe=false;this.Nf=null;this.LI=0;this.Jr="The application name is missing";this.vV="createEngine() has already been called";this.Ft=true;this.Dk=null;this.iZ=null;this.rl=null;this.MD=ls.MD;this.lp=ls.ol;this.dC=null;this.CR=null;this.GH=true;this.jQ=null;this.sc=ls.KN.getLogger("PP")};Lightstreamer.PushPage.prototype={JnG:ls.BO,setControlRequestTimeout:function(Dc){this.lp.Pt=this.JnG(Dc,"setControlRequestTimeout",this.lp.Pt,true,10)},useFragmentToConfEngine:function(jR){this.Ft=jR!==false},ARo:function(tV){this.sc.log("ARo",tV);if(!this.MD.Fh[tV]){this.sc.error("No such ScreenTableHelper to be deleted: "+tV,"ARo");return}delete (this.MD.Fh[tV])},wp:function(applicationName,Hh,ou,HY,Td){this.Zh.lX=ou=="S";this.iZ=applicationName;if(Hh.charAt(Hh.length-1)!="/"){Hh+="/"}this.Fr=Hh;this.sa=ou;this.HY=(HY===true);Hh+="lsengine.html";this.sc.log("wp",ls.OV,ou);if(ls.OV&&ou!="N"){var KL;if((KL=this.tbG(ou,applicationName))!=false){this.sc.log("wp",1,applicationName,ou);this.WB++;ls.fJ.EHb(this.jXS,KL.jG,this,[applicationName,Hh,ou,KL,Td,this.HY]);this.wG(this.iZ,null);return false}}this.sc.log("wp",0,applicationName,ou);this.KU(Hh,applicationName,Td,this.HY,ou);return true},tbG:function(Mn,applicationName,wS){var iK={};iK.jG=0;var JW=false;var FR=ls.Gc();var ds=ls.Fk(ls.Vq+applicationName);if(!ds){this.sc.log("tbG",1);return false}for(var gb=0;gb<ds.length;gb++){var Se=ls.Fk(ls.Vq+ds[gb]+"_"+applicationName);this.sc.log("tbG",2,ds[gb],Se);if(!Se||Se.length<2){this.hF(ds[gb],applicationName);continue}else{if(Mn=="S"&&Se[1]!="S"){continue}}if(wS&&wS[ds[gb]]){if(Se[0]!=wS[ds[gb]]){this.sc.log("tbG",3,Se[0],wS[ds[gb]]);
return true}this.sc.log("tbG",4);continue}var Ut=Number(Se[0])+ls.Am+2000;var MP=Ut-FR;this.sc.log("tbG",5,ds[gb],MP);if(MP<=-60000){this.hF(ds[gb],applicationName);continue}if(MP<this.si){MP=this.si}iK[ds[gb]]=Se[0];JW=true;iK.jG=iK.jG>MP?iK.jG:MP}if(JW){this.sc.log("tbG",6,iK);return iK}else{this.sc.log("tbG",7);return false}},hF:function(id,pa){ls.fI(ls.Vq+id+"_"+pa);ls.kO(ls.Vq+pa,id)},Eap:function(){if(this.XF){this.hF(this.dC,this.iZ)}},Ugb:function(fT){var oD=ls.Rl(ls.Vq+this.iZ,this.dC);if(fT&&!oD){return false}var SN=ls.Fk(ls.Vq+this.dC+"_"+this.iZ);if(fT&&SN){return false}else{if(SN&&SN.length>2){this.sc.log("Ugb",1,SN);this.eD()}else{ls.KK(ls.Vq+this.dC+"_"+this.iZ,[ls.Gc(),this.sa])}}return true},IL:function(){this.CR=ls.fJ.UwB(this.Ugb,ls.Am,this)},eD:function(){if(this.CR){ls.fJ.mNt(this.CR);delete (this.CR)}},KU:function(Xb,iZ,Td,HY,ou){var bT=ls.Db;if(bT.vk){return}else{if(bT.rL){this.sc.log("KU",2);ls.fJ.EHb(this.KU,bT.Bv,this,[Xb,iZ,Td,HY,ou]);return}}this.Ww();this.dC=ls.MY();this.Zh.wT=false;if(ls.OV){while(!this.Ugb(true)){this.dC=ls.MY()}this.IL()}var Dx=this.Ft?"#":"?";Dx+="build=1446.6&";Dx+="id="+this.dC+"&";if(ls.ox!=null&&ls.ox!=""){Dx+=("domain="+ls.ox+"&")}if(iZ){Dx+=("engineName="+iZ+"&")}if(HY){Dx+="suppressDefaultStatusChangeHandler=true&"}if(Td&&this.IR){if(!this.IR.context.Up){Dx+=("debugAlerts=false&")}if(!this.IR.context.ib){Dx+=("remoteDebug=false&")}}else{if(!this.context.Up){Dx+=("debugAlerts=false&")}if(!this.context.ib){Dx+=("remoteDebug=false&")}}if(ls.ObjectTree){Dx+=("d=true&")}this.Dk=Xb+Dx;this.rl=self;this.XF=true;this.Gw=0;this.wR++;bT.Wx(true);this.sc.log("KU",1,this.wR);this.oH(this.wR)},LvC:function(iM){if(iM>2500){iM=2500}else{if(iM<50){iM=50}}this.jQ=this.jQ&&this.jQ<iM?this.jQ:iM;return this.jQ},enableFasterSeekEngine:function(enabled){this.GH=!enabled},Re:function(Dc){var inc=100;var XC=ls.Gc();if(Dc&&this.Nf){inc+=XC-this.Nf-Dc}this.Nf=XC;Dc=this.LvC(Dc?Dc+inc:100);this.jQ=null;this.sc.log("Re",1,inc,Dc);var ac=this.wR;this.LI++;ls.fJ.EHb(this.oH,Dc,this,[ac,Dc])},oH:function(ac,Dc){if(Dc){this.LI--}if(ac!=this.wR||ls.Db.vk){this.sc.cg("oH",5);return}this.kB();if(this.rl==self){this.sc.log("oH",1);this.Re(Dc);return}var HA=this.Zh.xJT();if(!HA){this.sc.log("oH",3);this.Re(Dc);return}this.sc.log("oH",4);this.wR++;ls.Db.gcw(HA,this.XF)},kB:function(){if(this.kE){this.kE=false;this.Zh.xjw();this.sc.log("kB",11)}if(this.rl!=self||this.Zh.wT){this.sc.dGc((this.rl!=self||this.Zh.wT!=true),"kB");this.sc.log("kB",1);return}if(!this.PY.be){if(!ls.Ii.eiI()||!ls.Kp()){var MI=this.PY.Ksn();if(!MI){this.sc.log("kB",3);return}else{if(MI!=self){this.rl=MI;this.Fe=true;this.sc.log("kB",4);return}}}}if(this.rl==self&&this.PY.be){if(ls.Uu()){try{if(window.frames[this.PY.Qx]){this.rl=window.frames[this.PY.Qx];var ff=""+this.rl.location;this.sc.log("kB",8,ff,this.Dk);if(ff.indexOf("lsengine.html")<0){this.rl.location=this.Dk}}else{this.sc.log("kB",9)}return}catch(XW){this.sc.MG(XW,"kB",10);this.rl=self}}else{if(!ls.Kp()){this.rl=ls.ZVw(this.Dk,this.PY.Qx,true);this.sc.log("kB",5);if(this.rl===false){this.rl=self}else{if(this.rl==null&&this.Gw<=10){this.Gw++;this.rl=self;this.sc.log("kB",6);return}}}}}this.sc.log("kB",7)},wG:function(applicationName,CP){var bT=ls.Db;if(bT.vk){return}else{if(bT.rL){this.sc.log("seekEngine",1);ls.fJ.EHb(this.wG,bT.Bv,this,[applicationName,CP]);return}}this.Ww();this.wR++;this.sc.log("seekEngine",applicationName,this.wR);this.Zh.wT=false;this.Zh.lX=true;this.Zh.xp=false;this.iZ=applicationName;bT.Wx(true);this.PY.GZH(CP,this);this.oH(this.wR)},jXS:function(applicationName,Hh,ou,Qp,Td,HY){this.WB--;if(this.sa=="N"){this.sc.log("jXS",1);return}if(this.tbG(ou,applicationName,Qp)){if(ou=="S"){this.wG(applicationName,null)}else{this.sc.error("An application with this engine name("+applicationName+") already exists within this browser.\nThis Push-page can't receive real-time data because the corresponding engine could not start","createEngine");if(this.onEngineCreation){try{this.onEngineCreation(null)
}catch(XW){this.sc.PqW(XW,this.onEngineCreation,"onEngineCreation")}}this.Zh.wT=true}}else{if(this.XF&&!Td){this.sc.error(this.vV,"createEngine")}else{this.KU(Hh,applicationName,Td,HY,ou)}}},SFJ:function(gh){if(gh){this.si=10000}else{this.si=2000}this.IR.context.KN=null;this.Ww()},Ww:function(){this.Fe=false;this.XF=false;this.rl=null;var eP=this.PY.be;if(eP){this.PY.be=null;ls.fJ.EHb(eP.sqT,60000,eP)}this.eD()},Zxb:function(){return this.Fr&&!this.XF&&this.sa=="S"},LBK:function(){if(this.Zxb()){this.wp(this.iZ,this.Fr,"N",this.HY,false)}},vr:function(fA){if(this.onClientError){try{this.onClientError(fA)}catch(XW){this.sc.MG(XW,"vr")}}}};Lightstreamer.PushPage.prototype.isMasterPushPage=function(){return ls.Db.RI};Lightstreamer.PushPage.prototype.onEngineLost=function(){return};Lightstreamer.PushPage.prototype.setCheckEngineTimeout=function(Ma){this.Zh.Ma=this.JnG(Ma,"setCheckEngineTimeout",Ma,true,10)};Lightstreamer.PushPage.prototype.getTable=function(id){var It=this.lp.pPq(id);if(It&&It.il!==ls.NNs){return It}return null};Lightstreamer.PushPage.prototype.getTables=function(){var BT={};for(var wW in this.lp.lV){var LZ=this.lp.pPq(wW);if(LZ&&LZ.il!==ls.NNs){BT[wW]=LZ}}return BT};Lightstreamer.PushPage.prototype.onServerDeny=function(code,message,OT,iR,qt,sH){alert("Subscription Error.\n"+message+"(code "+code+").")};Lightstreamer.PushPage.prototype.onClientError=function(XY){return};Lightstreamer.PushPage.prototype.onClientAlert=function(code,XY){ls.fJ.EHb(alert,0,null,["Warning "+code+"\n"+XY])};Lightstreamer.PushPage.prototype.createEngine=function(applicationName,Hh,ou,HY){if(this.Vh){this.sc.dSW(this.vV,"createEngine");return}if(!applicationName){this.sc.dSW(this.Jr,"createEngine")}else{if(!ls.xS.test(applicationName)){this.sc.dSW("The given engine name("+applicationName+") is not valid: use only alphanumeric characters","createEngine")}else{if(!Hh){this.sc.dSW("Cannot load the Engine without a path","createEngine")}else{if(ls.Vp==null){this.sc.dSW("Can't create the Engine if PushPage is not bound. Please call the bind() method of PushPage before","createEngine")}else{if(ls.Vp!=this){this.sc.dSW("There should be only one instance of PushPage per each HTML page. Can't create the Engine if a different PushPage is bound. Please call the createEngine() of that PushPage","createEngine")}else{if(ou!="SHARE_SESSION"&&ou!="FAIL"&&ou!="NEW_SESSION"){if(typeof ou!="undefined"){this.sc.dSW("onSimilarEngineFound must be one of: SHARE_SESSION, FAIL, NEW_SESSION.","createEngine")}ou="NEW_SESSION"}}}}}}ou=ou.substr(0,1);this.Vh=true;this.wp(applicationName,Hh,ou,HY,false)};Lightstreamer.PushPage.prototype.seekEngine=function(applicationName,CP){if(this.Vh){this.sc.dSW(this.vV,"seekEngine");return}if(!applicationName){this.sc.dSW(this.Jr,"seekEngine")}else{if(!ls.xS.test(applicationName)){this.sc.dSW("The given engine name("+applicationName+") is not valid: use only alphanumeric characters","createEngine")}}this.Vh=true;this.wG(applicationName,CP)};Lightstreamer.PushPage.prototype.bind=function(){this.sc.cg("bind");ls.XJ({oOL:"28442324223623531823424",RxT:"52312352492633183053182",extraN1:"58412404420380382389392"});ls.ei=ls.hFx(""+ls.oOL+ls.RxT+ls.extraN1,"document",51,6,500);ls.XJ({extraV1:"93449415449423434431426",extraV2:"40141541541141541443278"});ls.di=ls.hFx(""+ls.oOL+ls.RxT+ls.extraN1+ls.extraV1+ls.extraV2,"document",74,5,500);if(ls.Vp==this){this.sc.error("This object is already bound","bind");return false}if(this.context.bind()){ls.Vp=this;ls.KN.nYV(this.vr,this);if(window.console&&window.console.firebug){ls.KN.ANj(this,130,"Firebug is known to cause performance and memory issues with Lightstreamer.")}if(ls.FlashBridge){for(var gb in ls.FlashBridge.bridges){ls.FlashBridge.bridges[gb].lL()}}return true}else{return false}};Lightstreamer.PushPage.prototype.getWindowReference=function(){return this.BZ};Lightstreamer.PushPage.prototype.cellOverwrite=function(SX,item,field,fC,QV,Kw,ok,KS){ls.cellOverwrite(SX,item,field,fC,QV,Kw,ok,KS)
};Lightstreamer.PushPage.prototype.cellScroll=function(SX,row,field,fC,QV,Kw,ok,KS){ls.cellScroll(SX,row,field,fC,QV,Kw,ok,KS)};Lightstreamer.PushPage.prototype.cellMetapush=function(SX,row,field,fC,QV,Kw,ok,KS){ls.cellMetapush(SX,row,field,fC,QV,Kw,ok,KS)};Lightstreamer.PushPage.prototype.addTable=function(wL,id){if(!wL||(!id&&id!==0)){this.sc.dSW("Table Object And/Or Table id is null","addTable")}if(wL.Ns!="COMMAND"&&wL.Ns!="MERGE"&&wL.Ns!="DISTINCT"&&wL.Ns!="RAW"){this.sc.dSW(wL.Ns+" is not a valid subscription mode. Admitted values are MERGE, DISTINCT, RAW, COMMAND","addTable")}if(ls.Vp==null){this.sc.dSW("Can't add a table if PushPage is not bound. Please call the bind() method of PushPage before adding tables","addTable")}return this.lp.vZt(wL,id)};Lightstreamer.PushPage.prototype.addScreenTableHelper=function(rx){this.sc.log("addScreenTableHelper",rx);if(this.MD.Fh[rx.SX]){this.sc.error("ScreenTableHelper already set for "+rx.SX+", add new cells to the previously provided ScreenTableHelper","addScreenTableHelper");return}this.MD.Fh[rx.SX]=rx};Lightstreamer.PushPage.prototype.removeTable=function(id){this.sc.log("removeTable",1,id);var Nn=this.lp.pPq(id);if(!Nn){this.sc.error("No table to delete with id "+id,"removeTable");return null}return this.lp.YcC(id)};Lightstreamer.PushPage.prototype.onEngineCreation=function(engine){return};Lightstreamer.PushPage.prototype.onEngineReady=function(engine){return}})(Lightstreamer);(function(ls){ls.hA=function(Db){this.lV={};this.Gg={};this.oM=1;this.bT=Db;this.Pt=2000;this.sc=ls.KN.getLogger("TL")};ls.hA.prototype={rwe:function(YN){return this.pPq(this.Gg[YN])},pPq:function(wW){if(wW&&this.lV[wW]){return this.lV[wW]}return null},vZt:function(OW,wW){if(OW.Yp!=ls.QVW){this.sc.error("Can't add a table that is already in 'running' state. Please add the table instance only once ["+wW+"]","addTable");return null}this.sc.log("vZt",0,OW,wW);var Bh=this.lV[wW];if(Bh){Bh=this.YcC(wW)}if(!OW.SaY(wW,++this.oM)){this.sc.log("vZt",1);OW.ZVI();return Bh}this.lV[wW]=OW;OW.QeM();if(this.bT.Ng){this.Bs(OW)}this.sc.log("vZt",2);return Bh},YcC:function(wW){var kg=this.lV[wW];if(!kg){this.sc.JTF("YcC",wW,1);return null}if(kg.Yp==ls.QVW){this.sc.JTF("YcC",wW,2);return null}else{if(kg.Yp==ls.MWN||kg.Yp==ls.sZQ){this.sc.dGc(this.bT.vk,"YcC",4,wW);this.sc.log("YcC",2,wW,kg);if(kg.kR){this.bT.Jet("RO",{YN:kg.kR})}else{this.bT.Jet("RO",{SX:wW,bt:this.bT.NM})}}}if(kg.kR){delete (this.Gg[kg.kR])}kg.ZVI();delete (this.lV[wW]);return kg},Bs:function(OW,vj,sR){if(vj){if(OW.Yp!=ls.Abp){this.sc.log("Bs",1);return}if(vj!=this.bT.AW){this.sc.log("Bs",2);return}if(sR!=OW.xJ){this.sc.log("Bs",3);return}}else{if(OW.Yp!=ls.Wwp){this.sc.dGc(false,"Bs")}OW.tUj()}this.sc.log("Bs",4);ls.fJ.EHb(this.Bs,this.Pt,this,[OW,this.bT.AW,OW.xJ]);this.bT.Jet("jYY",{eY:OW.eY,SX:OW.wW,xJ:OW.xJ,bt:this.bT.NM,xX:OW.xX,AI:OW.Me})},mxW:function(SX,YN,eY,xJ){var Jj=this.lV[SX];if(!Jj||Jj.Yp!=ls.Abp||Jj.eY!=eY||Jj.xJ!=xJ){this.sc.log("mxW",1,eY,xJ,Jj);return}Jj.mxW(YN);this.Gg[YN]=SX;this.Ts(Jj)},Ts:function(OW,vj,dY,eY,xJ,cd){if(OW.Yp!=ls.MWN){this.sc.log("Ts",1);return}if(vj){if(vj!=this.bT.AW||OW.eY!=eY||OW.xJ!=xJ){this.sc.log("Ts",1,vj,this.bT);return false}cd++}else{cd=1}var Bq=dY?dY*2:this.Pt;this.sc.log("Ts",3,Bq,OW);OW.uo=ls.fJ.wOx(this.Ts,this,[OW,this.bT.AW,Bq,OW.eY,OW.xJ,cd]);OW.dU=Bq;var ji=this.bT.Jet("hLI",{bt:this.bT.NM,YN:OW.kR,QB:cd})},uuN:function(){this.sc.log("uuN");for(var wW in this.lV){this.Bs(this.lV[wW])}},lK:function(It){if(It.Yp==ls.QVW||It.il===ls.NNs){this.sc.log("lK",1,It);this.sc.dGc(It.Yp!=ls.QVW,"lK");return}this.sc.log("lK",2,It);delete (this.Gg[It.kR]);It.kqO()},YUX:function(){this.sc.log("YUX",1);for(var wW in this.lV){this.lK(this.lV[wW])}this.Gg={}}}})(Lightstreamer);(function(ls){Lightstreamer.ScreenTableHelper=function(id,iC){this.SX=id;this.sc=ls.KN.getLogger("TL");this.TB=false;this.iC=[];if(iC){for(var gb=0;gb<iC.length;gb++){this.addCell(iC[gb])}}this.an=ui;this.eS=document};Lightstreamer.ScreenTableHelper.prototype={addCell:function(JA){var It=JA.getAttribute("table");
if(!It||It!=this.SX){this.sc.dSW("The cell does not belong to the '"+this.SX+"' screen table","addCell");return}this.TB=true;this.iC[this.iC.length]=new ls.pv(JA)},setNodeTypes:function(dJ){if(dJ&&dJ.length>0){this.an=dJ}else{this.sc.dSW("The given array is not valid or empty","setNodeTypes")}},setRootNode:function(BU){if(BU&&BU.getElementsByTagName){this.eS=BU}else{this.sc.dSW("The given root element is not valid","setRootNode")}}};var ui=["div","span","input"];ls.ScreenTableHelper.ui=ui})(Lightstreamer);(function(ls){ls.IZ=function(wW){this.wW=wW;this.il=null;this.rY=null;this.Lo=0;this.xE=new ls.Ms();this.mF=new ls.Ms();this.DF=new ls.Ms();this.kQ=new ls.Ms();this.JE=new ls.Ms();this.OQ=new ls.Ms();this.Gu=new ls.Ms();this.DA=0;this.jF=new ls.Ms();this.QA=new ls.Ms();this.VD=new ls.Ms();this.pB=new ls.Ms();this.mA={};this.nt={};this.qs=1;this.Nk=[];this.rv={};this.cq={};this.GF;this.dE;this.kY;this.DL;this.Vf;this.qH;this.Dq;this.Xo;this.HX=0;this.sc=ls.KN.getLogger("ST")};ls.IZ.prototype={eTu:function(VO){if(this.il!=null){if(this.il!=VO.il){this.sc.error("A Data Table cannot be associated with a Screen Table that was previously associated with a Data Table of a different type","addTable");return false}}this.rY=VO;this.Xq=VO.Xq;if(this.il==null){this.il=VO.il}return true},qYB:function(pA,SK,wm,fg){if((fg.indexOf(ls.ZSN)>-1)||(fg.indexOf(ls.ZFs)>-1)){if(this.DA<SK){this.DA=SK}}this.Lo++;this.insertCell(pA,SK,wm)},insertCell:function(pA,SK,wm){this.xE.TA(pA,SK,wm)},xlW:function(SK,wm){return this.xE.FS(SK,wm)},deleteCell:function(SK,wm){this.xE.ek(SK,wm)},TbO:function(SK,Zk){ot=this.OQ.FS(SK,Zk);if(!ot){ot=ls.aIu}ls.MD.sm(this.wW,SK,Zk,ot,ls.phx,this.JE.Qh(SK),true)},dpi:function(SK){return this.xE.Qh(SK)},rKF:function(){return this.xE.YT()},BC:function(SK,kt){if(kt){this.xE.BQ(SK)}this.VD.BQ(SK);this.pB.BQ(SK);this.jF.BQ(SK);this.mF.BQ(SK);this.DF.BQ(SK);this.JE.BQ(SK);this.kQ.BQ(SK);this.QA.BQ(SK);delete (this.rv[SK]);delete (this.cq[SK]);var Zn=this.nt[SK];if(Zn){delete this.mA[Zn];delete this.nt[SK]}},PbA:function(RT){if(RT==0){return}var kM=this.HX-this.qs+1;if(kM<=RT){return}var TZ=kM-RT;for(var gb=1;gb<=TZ;gb++){this.rW()}},rW:function(){this.sc.dGc(this.rY,"rW");var kM=this.HX-this.qs+1;if(kM<=0){return 0}var RJ=this.Nk.shift();if(this.rY&&this.rY.onChangingValues){try{this.rY.onChangingValues(RJ,null)}catch(XW){this.sc.PqW(XW,this.rY.onChangingValues,"onChangingValues")}}if(RJ&&ls.pv.Ld(RJ)){RJ.parentNode.removeChild(RJ)}this.BC(this.qs,true);this.qs++;return kM-1},vuT:function(Zn,vu,hI){var It=this.rY;var pg=It.rt.Qh(Zn);for(var Zk in pg){var hr=It.wg[Zk];if(hr==null){continue}this.pB.TA(It.KE.FS(Zn,Zk),vu,hr);if(pg[Zk]!==null){this.VD.TA(pg[Zk],vu,hr)}else{if(!hI){}else{this.VD.TA(null,vu,hr)}}}},vHa:function(Lh,EN,Hk,CX){if(Lh==EN){return}var TN;if(CX){TN=this.cB(Lh,null)}var gb=Lh;do{var dp=gb;gb+=Hk;var Ia=gb;this.cB(Ia,dp)}while(gb!=EN);if(CX){this.sc.dGc(this.il==ls.ZFs,"vHa",1);this.cB(null,EN,TN)}},cB:function(Ia,dp,YO){var tY={};tY.FI={};var xk;if(Ia){xk=this.VD.Qh(Ia)}else{xk=YO.VD}for(var QP in xk){if(YO&&YO.FI[QP]){tY.FI[QP]=this.Unj(Ia,dp,QP,YO.FI[QP])}else{tY.FI[QP]=this.Unj(Ia,dp,QP)}}var Yn;var Su;var Oq;var qr;var FV;var VC;var QW;var Wl;if(Ia){Yn=this.kQ.qC(Ia);Su=this.JE.qC(Ia);qr=this.mF.qC(Ia);Oq=this.DF.qC(Ia);VC=this.VD.qC(Ia);QW=this.pB.qC(Ia);Wl=this.jF.qC(Ia);bY=this.QA.qC(Ia);if(this.rY.jY){FV=this.rY.jY[Ia]}}else{Yn=YO.kQ;Su=YO.JE;qr=YO.mF;Oq=YO.DF;VC=YO.VD;QW=YO.pB;Wl=YO.jF;bY=YO.QA;if(this.rY.jY){FV=YO.jY}}if(dp){this.kQ.insertRow(Yn,dp);this.JE.insertRow(Su,dp);this.mF.insertRow(qr,dp);this.DF.insertRow(Oq,dp);this.VD.insertRow(VC,dp);this.pB.insertRow(QW,dp);this.jF.insertRow(Wl,dp);this.QA.insertRow(bY,dp);if(this.rY.jY){this.rY.jY[dp]=FV}}else{tY.kQ=Yn;tY.JE=Su;tY.mF=qr;tY.DF=Oq;tY.VD=VC;tY.pB=QW;tY.jF=Wl;tY.QA=bY;if(this.rY.jY){tY.jY=FV}}if(Ia&&dp&&this.rY){var fd=ls.Lq;fd.Wx(this.rY,this.nt[dp],dp);if(this.rY.onRowUpdate){try{this.rY.onRowUpdate(dp,fd)}catch(XW){this.sc.PqW(XW,this.rY.onRowUpdate,"onRowUpdate")
}}}return tY},Unj:function(Ia,dp,QP,sP){var Ee;if(Ia){Ee=this.xlW(Ia,QP)}else{Ee=sP}var pW;if(dp){pW=this.xlW(dp,QP)}if(!pW){var mp=document.createElement("div");pW=new ls.pv(mp)}if(dp){this.insertCell(pW,dp,QP)}var ZV;var gN;var jf=false;if(Ia){ZV=this.jF.FS(Ia,QP);var qJ=this.QA.Qh(Ia);if(!ZV){ZV=qJ}else{for(var HR in qJ){if(!ZV[HR]){ZV[HR]=1}}}gN=this.VD.FS(Ia,QP);if(gN===null){if(dp){gN=this.OQ.FS(dp,QP)}else{}jf=true}}else{ZV=Ee.iN;if(Ee.fD){gN=null}else{gN=Ee.Aj()}}pW.VT=Ee.VT;pW.Qi=Ee.Qi;pW.LW=Ee.LW;pW.rR=Ee.rR;pW.xF=Ee.xF;pW.rf.className=Ee.rf.className;for(var HR in ZV){pW.rf.style[HR]=Ee.rf.style[HR]}if(dp){var Im=this.jF.FS(dp,QP);for(var HR in Im){if(!ZV[HR]){pW.rf.style[HR]=""}}if(gN===null){gN=this.OQ.FS(dp,QP)}ls.MD.sm(this.wW,dp,QP,gN,ls.IoB,null,jf)}else{var fD=null;pW.fD=(gN==null);if(!pW.fD){pW.NB(gN)}pW.iN=ZV}return pW},fQ:function(){if(this.rY&&this.rY.Nc&&this.rY.Nc.appendChild){delete (this.rY.Nc)}var nZ=this.rKF();for(var gb in nZ){for(var hM in nZ[gb]){nZ[gb][hM].fQ()}}if(this.DL){delete (this.DL)}if(this.qH){delete (this.qH)}if(this.Vf){delete (this.Vf)}if(this.MR){delete (this.MR)}if(this.Xo){delete (this.Xo)}if(this.Dq){if(this.Dq.fQ){this.Dq.fQ()}else{delete (this.Dq)}}if(this.dE){this.dE.fQ()}if(this.GF){this.GF.fQ()}for(var gb in this.rv){if(this.rv[gb]&&this.rv[gb].fQ){this.rv[gb].fQ()}}}}})(Lightstreamer);(function(ls){ls.RB=function(wW){this.eV(ls.RB,wW);this.il=ls.gas};ls.RB.prototype={eTu:function(VO){if(VO.il!=ls.gas){this.sc.error("A Data Table cannot be associated with a Screen Table that was previously associated with a Data Table of a different type","addTable");return false}this.rY=VO;return true}};ls.tD(ls.RB,ls.IZ)})(Lightstreamer);Lightstreamer.XJ({QVW:1,Abp:2,MWN:3,sZQ:4,Wwp:5});(function(ls){Lightstreamer.Table=function(FK,eH,gT){this.sF=FK?ls.GroupDescriptor.uc(FK):null;this.Tj=eH?ls.SchemaDescriptor.lk(eH):null;this.Ns=new String(gT).toUpperCase();this.SP=false;this.cQ=null;this.Sm=null;this.Lh=null;this.EN=null;this.Ek=null;this.qi=null;this.kR=null;this.KE=new ls.Ms();this.OI=new ls.Ms();this.rt=new ls.Ms();this.gg=null;this.HQ=new ls.Ms();this.Yp=ls.QVW;this.wW=null;this.Me="";this.xJ=0;this.eY=null;this.xF=0;this.KG=3000;this.xX=0;this.uo;this.dU;this.il=null;var oh=" See the documentation for further details";this.sD="This method must be called at runtime."+oh;this.su="This method cannot be called at runtime."+oh;this.sc=ls.KN.getLogger("TL");this.tN=0};Lightstreamer.Table.prototype={JnG:ls.BO,wia:ls.Wb,SaY:function(wW,eY){this.sc.log("SaY",wW,eY);this.Yp=ls.Wwp;this.eY=eY;this.wW=wW;this.xJ++;this.tN++;this.sc.dGc(this.tN==1,"SaY",1,this.tN,this);return true},tUj:function(){this.kR=null;this.xJ++;this.uo=null;this.dU=null;this.Yp=ls.Abp;this.sc.log("tUj",this)},mxW:function(YN){this.sc.log("mxW",YN);this.kR=YN;this.Yp=ls.MWN},kqO:function(){this.Yp=ls.Wwp;this.TK();this.sc.log("kqO",this)},ZVI:function(){this.Yp=ls.QVW;this.eY=null;this.TK();delete (this.Me);this.tN--;this.sc.dGc(this.tN==0,"ZVI",1,this.tN,this);this.sc.log("ZVI",this)},TK:function(){this.kR=null;if(this.Tj){this.Tj.reset()}this.uo=null;this.dU=null;this.sc.log("TK",this)},CQR:function(){this.Yp=ls.sZQ;if(this.onStart){try{this.onStart()}catch(XW){this.sc.PqW(XW,this.onStart,"onStart")}}},wic:function(){return this.Yp!=ls.QVW},CtB:function(){return this.Yp==ls.sZQ},gk:function(){if(!this.sF){this.sc.dSW("Cannot initiate a "+this.getClassName()+" without a group",this.getClassName())}},QC:function(){if(!this.Tj){this.sc.dSW("Cannot initiate a "+this.getClassName()+" without a schema",this.getClassName())}},QeM:function(){this.Me="LS_mode="+this.Ns+"&LS_id="+ls.aE(this.sF.mcn())+"&LS_schema="+ls.aE(this.Tj.FoJ())+"&";if(this.qi!=null){this.Me+=("LS_data_adapter="+ls.aE(this.qi)+"&")}if(this.Ek!=null){this.Me+=("LS_selector="+ls.aE(this.Ek)+"&")}if(this.Lh!=null){this.Me+=("LS_start="+this.Lh+"&")}if(this.EN!=null){this.Me+=("LS_end="+this.EN+"&")}if(this.SP!=null&&this.SP!=false){this.Me+=("LS_snapshot="+this.SP+"&")
}if(this.cQ!=null){var Wm=this.cQ;if(Wm=="unfiltered"){this.Me+=("LS_requested_max_frequency="+Wm+"&")}else{if(Wm!="unlimited"&&Wm>0){this.Me+=("LS_requested_max_frequency="+Wm+"&")}}}if(this.il.indexOf(ls.nWs)>-1){this.lm=this.cQ}if(this.Sm!=null){var ip=this.Sm;if(ip!="unlimited"&&ip>0){this.Me+=("LS_requested_buffer_size="+ip+"&")}}this.sc.log("QeM",this.Me);return},getSchema:function(){return this.Tj},getGroup:function(){return this.sF},setDataAdapter:function(qi){this.sc.log("setDataAdapter",arguments);this.qi=qi},getId:function(){return this.wW},setSelector:function(selector){this.sc.log("setSelector",arguments);this.Ek=selector},NXG:function(){return this.Ek},setItemsRange:function(start,EN){this.Lh=this.JnG(start,"setItemsRange",this.Lh,true,1);this.EN=this.JnG(EN,"setItemsRange",this.EN,true,this.Lh)},uWk:function(){return[this.Lh,this.EN]},setRequestedMaxFrequency:function(tP){tP=new String(tP);tP=tP.toLowerCase();if(tP=="unfiltered"||tP=="unlimited"){this.cQ=tP}else{this.cQ=this.JnG(tP,"setRequestedMaxFrequency",this.cQ,false,0)}},swX:function(){return this.cQ},setRequestedBufferSize:function(size){size=new String(size);size=size.toLowerCase();if(size=="unlimited"){this.Sm=size}else{this.Sm=this.JnG(size,"setRequestedBufferSize",this.Sm,true,0)}},Fhd:function(){return this.Sm},setSnapshotRequired:function(mm){if(mm===true||mm===false){this.SP=mm}else{if(this.Ns=="DISTINCT"){this.SP=this.JnG(mm,"setSnapshotRequired",this.SP,true,0)}else{this.sc.dSW("Numeric values are only allowed when the subscription mode is DISTINCT","setSnapshotRequired");return}}},iMa:function(){return this.SP},onItemUpdate:function(Rm,Mu,rS){return},onLostUpdates:function(Rm,qu,rS,sH){return},onEndOfSnapshot:function(Rm,rS){return},onStart:function(){return},getClassName:function(){return null},cAj:function(OK,Xc,Pl){if(this.il==ls.NNs){this.cS.DG.bdG(OK.length-2);OK=this.euf(OK);if(OK==null){return true}return this.cS.cAj(OK,Xc,true)}if(!Pl){this.Tj.bdG(OK.length-2)}this.xF++;if(this.xF>=this.KG){this.xF=0;if(this.lZ){this.lZ()}}var nv=OK[1];var Zn=new String(nv);if(this.il.indexOf(ls.ZFs)>-1){Zn=this.RTO(OK,nv,Pl);if(Zn==null){return Zn}}if(this.il.indexOf(ls.nWs)>-1&&!Pl){this.EX(OK)}this.Al(Zn);if(this.onItemUpdate){ls.Mu.Wx(this,Zn,OK,Xc);var dL=this.sF.QPW(nv);try{this.onItemUpdate(nv,ls.Mu,dL)}catch(XW){this.sc.PqW(XW,this.onItemUpdate,"onItemUpdate")}}if(!this.wic()){return Zn}this.iX(Zn,OK);return Zn},Al:function(Zn){var TN=this.OI.Qh(Zn);for(var Pk in TN){var IG=Pk;var oS=false;var Yl=Pk.indexOf("|rem");if((Yl>-1)&&(Yl==Pk.length-4)){IG=Pk.substring(0,Pk.length-4);if(this.il.indexOf(ls.ZSN)>-1){this.rt.TA(this.OI.FS(Zn,Pk),Zn,IG)}else{this.rt.TA(null,Zn,IG)}}else{this.OI.ek(Zn,Pk);this.lS(null,Zn,Pk)}}},CTW:function(kw){if(kw==null){return""}else{if(kw.length===-1){return null}else{return kw}}},lS:function(iM,Zn,wm){var Ab=this.CTW(iM);if(Ab!=null){this.gg.push(wm)}this.rt.TA(Ab,Zn,wm)},iX:function(Zn,OK){this.gg=[];var Wf=OK.length-2;var wm=1;var XR=2;for(;wm<=Wf;wm++,XR++){if(OK[XR]==null){this.KE.TA(null,Zn,wm)}else{if(OK[XR]!==ls.xn){this.KE.TA(OK[XR],Zn,wm)}}this.lS(OK[XR],Zn,wm)}var PV={};var TN=this.OI.Qh(Zn);for(var wm in TN){var wm=wm;var Yl=wm.indexOf("|rem");if((Yl>-1)&&(Yl==wm.length-4)){wm=wm.substring(0,wm.length-4)}PV[wm]=true;this.FU(Zn,wm,TN)}var PO=this.rt.Qh(Zn);for(var wm in PO){if(wm<=Wf){continue}if(PV[wm]==true){continue}this.FU(Zn,wm,TN)}},FU:function(Zn,wm,TN){var nj;if(!TN){nj=null}else{nj=TN[wm];if(typeof nj=="undefined"){nj=TN[wm+"|rem"];if(typeof nj=="undefined"){nj=null}}}if(this.KE.FS(Zn,wm)==nj){this.lS(ls.xn,Zn,wm)}else{this.KE.TA(nj,Zn,wm);this.lS(nj,Zn,wm)}}}})(Lightstreamer);(function(ls){Lightstreamer.VisualTable=function(FK,eH,gT){this.eV(ls.VisualTable,FK,eH,gT);this.cX=this.Tj?false:true;this.rY=null;this.Xq=false;this.vt=true;this.SH=false;this.hl=false;this.nF=null;this.wg=null;this.il=null;this.Mq=true;this.GZ=false;this.sc.log("VisualTable",arguments)};Lightstreamer.VisualTable.prototype={SaY:function(wW,eY){if(!this.ao(ls.VisualTable,"SaY",wW,eY)){return false
}if(!this.IOY()){return false}if(!this.hJA()){return false}this.SU();this.GZ=false;if(this.vt){this.Fb()}return true},SU:function(){},hJA:function(){},ZVI:function(){this.ao(ls.VisualTable,"ZVI");if(this.SH){this.Fb()}if(this.cX){this.Tj=null}else{this.Tj.sfB()}this.rY=null},kqO:function(){this.ao(ls.VisualTable,"kqO");this.GZ=true;if(this.hl){this.Fb()}},Fb:function(){if(this.Mq){}this.Mq=true;this.KE=new ls.Ms();this.OI=new ls.Ms();this.rt=new ls.Ms();this.HQ=new ls.Ms();return true},CQR:function(){this.ao(ls.VisualTable,"CQR");if(this.GZ&&this.vt){this.Fb()}this.Mq=false},setClearOnRemove:function(clear){if(clear){this.SH=true}else{this.SH=false}},KnS:function(){return this.SH},setClearOnDisconnected:function(clear){if(clear){this.hl=true}else{this.hl=false}},wlB:function(){return this.hl},setClearOnAdd:function(clear){if(clear){this.vt=true}else{this.vt=false}},rMd:function(){return this.vt},setPushedHtmlEnabled:function(Zi){if(this.wic()){this.sc.dSW(this.su,"setPushedHtmlEnabled")}this.Xq=this.wia(Zi,"setPushedHtmlEnabled",this.Xq)},isPushedHtmlEnabled:function(){return this.Xq},showValues:function(item,EB){if(!this.wic()){this.sc.dSW(this.sD,"showValues")}this.gg=[];this.Mq=false;var qQ=this.sF.ncf(item);var Zn=qQ;var kl=[];var jj={};for(var vn in EB){var Ke=this.Tj.DWD(vn);jj[Ke]=this.cBO(EB[vn]);this.gg.push(Ke);if(typeof(Ke)=="number"){Ke+=1}kl[Ke]=EB[vn]}var Eq="For Metapush and DynaMetapush tables, only UPDATE commands are admitted in showValues";if(this.il.indexOf(ls.ZFs)>-1){if(typeof kl[this.keyCode+1]=="undefined"){this.sc.dSW("Key position is not set correctly","showValues")}else{if(typeof kl[this.WL+1]=="undefined"){this.sc.dSW("Command position is not set correctly","showValues")}else{if(kl[this.WL+1]=="DELETE"){this.sc.dSW(Eq,"showValues")}}}Zn=qQ+"|"+kl[this.keyCode+1];if(this.il.indexOf(ls.Cdn)>-1){var GJ=this.rY.rv[Zn];if(!GJ){this.sc.dSW(Eq,"showValues")}}else{var HH=this.rY.mA[Zn];if(!HH){this.sc.dSW(Eq,"showValues")}}}this.rt.insertRow(jj,Zn);this.HQ.BQ(Zn);this.kC(Zn,kl,true)},cBO:function(kw){if(typeof kw=="undefined"){return null}if(kw==null){return""}else{return kw}},IOY:function(){var rx=ls.MD.Spr(this.wW,this.il);this.rY=rx;if(!rx.eTu(this)){return false}this.sc.log("IOY",2,this.Xq);return true},lZ:function(){var Jg=new String(this.Me);delete (this.Me);this.Me=Jg;var qB=null;qB=ls.Ms.So(this.KE,false);delete (this.KE);this.KE=qB;var ML=null;ML=ls.Ms.So(this.OI,false);delete (this.OI);this.OI=ML;var rD=null;rD=ls.Ms.So(this.rt,false);delete (this.rt);this.rt=rD;var fw=null;fw=ls.Ms.So(this.HQ,false);delete (this.HQ);this.HQ=fw;if(this.nF){var RF=null;RF=ls.Sk(this.nF,false);delete (this.nF);this.nF=RF}if(this.wg){var CQ=null;CQ=ls.Sk(this.wg,false);delete (this.wg);this.wg=CQ}if(this.jY){var vs=null;vs=ls.Dw(this.jY,false);delete (this.jY);this.jY=vs}},cAj:function(OK,Xc,Pl){var Zn=this.ao(ls.VisualTable,"cAj",OK,Xc,Pl);this.kC(Zn,OK,false);return Zn},UQ:function(Vg){var Iu=[];if(this.Ns=="COMMAND"){if(!Vg.command){Iu.push("command")}if(!Vg.key){Iu.push("key")}}for(var QP in Vg){if(QP.indexOf("#")==0){}else{if(QP.indexOf("$")==0&&this.il.indexOf(ls.nWs)>-1){}else{Iu.push(QP)}}}this.Tj=new ls.SchemaListDescriptor(Iu)},Ds:function(Vg){var Jp=[];for(var QP in Vg){if(QP.indexOf("$")==0){Jp.push(QP.substr(1))}}this.DG=new ls.SchemaListDescriptor(Jp)},lH:function(){var Vg=this.CDf();if(this.cX){this.UQ(Vg)}if(this.AV){this.Ds(Vg)}if(this.DG){this.Tj.Zfa(this.DG)}this.wg={};for(var QP in Vg){var XA=this.Tj.DWD(QP);this.wg[XA]=QP}},Qf:function(Zn,ov,mR,hI,kX){var It=this.wW;var rO=kX.sf;var lW=rO+kX.kb;var IF=lW+kX.Uc;var eb=[];var XZ=ls.MD;var lM=ls.fJ;var UD=ls.Xa;var lg=this.rY;var Rp=lg.mF.Qh(ov);var bS=lg.DF.Qh(ov);if(Rp!=null){lg.kQ.insertRow(Rp,ov);lg.mF.BQ(ov);lg.JE.insertRow(bS,ov);lg.DF.BQ(ov)}else{Rp=lg.kQ.Qh(ov);bS=lg.JE.Qh(ov)}var HC=false;var as;var Or;var Pa;var Sb;if(Rp!=null){if(Rp.backgroundColor){HC=true;as=Rp.backgroundColor;Or=bS.backgroundColor}if(Rp.color){HC=true;Pa=Rp.color;Sb=bS.color
}}var pg=this.rt.Qh(Zn);for(var Zk in pg){var CL=pg[Zk];var mu=this.HQ.FS(Zn,Zk);if(CL==null&&mu){this.rt.TA(mu,Zn,Zk)}else{this.rt.TA(CL,Zn,Zk);this.HQ.TA(CL,Zn,Zk)}if(this.rt.FS(Zn,Zk)==null){if(!hI){continue}}var hr=this.wg[Zk];if(hr==null){continue}var gH=lg.xlW(ov,hr);if(gH==null){var dV=document.createElement("div");gH=new ls.pv(dV);lg.insertCell(gH,ov,hr)}if(this.il==ls.Gpp){gH.On=CL}gH.VT=gH.LW;gH.Qi=gH.rR;gH.LW=null;gH.rR=null;gH.xF++;if(gH.VT||(lg.kQ.Qh(ov)!=null)){var eQ=false;var vi=false;var XL=false;var Cu=as;var vO=Or;var Wu=Pa;var gq=Sb;if(gH.VT){if(gH.VT.backgroundColor){eQ=true;Cu=gH.VT.backgroundColor;vO=gH.Qi.backgroundColor}if(gH.VT.color){eQ=true;Wu=gH.VT.color;gq=gH.Qi.color}}if(eQ||HC){if(kX.sf>0){var HP=lM.wOx(XZ.ode,XZ,[It,Zn,ov,mR,Zk,hI,this.eY]);var XG=UD.cOx(gH,false,Cu,Wu,kX.sf,HP);UD.MfK(XG);vi=true}else{UD.cmE(gH)}if(kX.Uc>0){var hr=this.wg[Zk];var uL=lM.wOx(XZ.pSS,XZ,[It,ov,mR,hr,false,gH.xF]);var XG=UD.cOx(gH,true,vO,gq,kX.Uc,uL);lM.EHb(UD.MfK,lW,UD,[XG]);XL=true}}if(!vi){var fR=[It,Zn,ov,mR,Zk,hI,this.eY];if(rO>0){lM.EHb(XZ.ode,rO,XZ,fR)}else{var dc=lM.wOx(XZ.ode,XZ,fR);eb.push(dc)}}if(!XL){lM.EHb(XZ.pSS,IF,XZ,[It,ov,mR,hr,false,gH.xF])}}else{var fR=[It,Zn,ov,mR,Zk,hI,this.eY];if(rO>0){lM.EHb(XZ.ode,rO,XZ,fR)}else{var dc=lM.wOx(XZ.ode,XZ,fR);eb.push(dc)}}}for(var HN=0;HN<eb.length;HN++){lM.PT(eb[HN])}}};ls.tD(ls.VisualTable,ls.Table)})(Lightstreamer);(function(ls){ls.TI=function(){};ls.TI.XO=function(HL,kU){return HL-kU};ls.TI.prototype={Js:function(){if(this.il.indexOf(ls.ZFs)>-1){if(this.cX){this.WL=null;this.keyCode=null}if(this.WL==null){this.WL=this.Tj.qcL("command")}if(this.keyCode==null){this.keyCode=this.Tj.qcL("key")}if(this.keyCode==null){this.sc.error("Key position is not set correctly for a COMMAND mode subscription. Please specify a field that represents the Key","addTable")}else{if(this.WL==null){this.sc.error("Command position is not set correctly for a COMMAND mode subscription. Please specify a field that represents the Command","addTable")}}}},JM:function(Ig,SR){this.sc.log("JM",arguments);if(this.wic()){this.sc.dSW(this.su,"setMetapushFields")}this.WL=this.JnG(Ig,"setMetapushFields",this.WL,true,1);this.keyCode=this.JnG(SR,"setMetapushFields",this.keyCode,true,1)},RTO:function(OK,nv,Pl){var Zn;if((typeof OK[this.keyCode+1]=="undefined")||(typeof OK[this.WL+1]=="undefined")){this.sc.GSR("Command or Key position is not set correctly","Server Update");return null}if(OK[this.keyCode+1].length==-1){Zn=nv+"|"+this.KE.FS(nv,this.keyCode)}else{Zn=nv+"|"+OK[this.keyCode+1]}if(!Pl){OK.Cn=[];for(var gb=2;gb<OK.length;gb++){if(OK[gb]&&OK[gb].length==-1){OK[gb]=this.KE.FS(nv,(gb-1))}else{this.KE.TA(OK[gb],nv,(gb-1))}if(OK[gb]==this.KE.FS(Zn,(gb-1))){OK[gb]=ls.xn}else{OK.Cn.push(gb-1)}}if(this.il.indexOf(ls.nWs)>-1){var Vo=this.Tj.length+this.Tj.Cc.length+2;if(Vo>OK.length){for(var gb=OK.length;gb<Vo;gb++){OK[gb]=ls.xn}}}}else{OK[this.keyCode+1]=ls.xn;if(OK[this.WL+1]==this.KE.FS(Zn,this.WL)){OK[this.WL+1]=ls.xn}else{OK.Cn.push(this.WL);OK.Cn.sort(ls.TI.XO)}}return Zn}}})(Lightstreamer);(function(ls){ls.nm=function(){};ls.nm.prototype={SU:function(){this.sc.log("SU");this.lH();this.Js()},nA:function(aS,sJ,SW,KF){this.sc.log("nA",arguments);if(!aS){this.rZ=null;return}this.rZ=this.Tj.DWD(aS);if(sJ){this.sJ=true}else{this.sJ=false}if(SW){this.SW=true}else{this.SW=false}if(KF){this.KF=true}else{this.KF=false}if(this.wic()&&this.il.indexOf(ls.Cdn)>-1){this.YD()}},DAc:function(){if(!this.rZ||typeof(this.rZ)=="string"){return null}else{return this.rZ}},qVw:function(){if(this.rZ==null){return null}else{return this.Tj.cCY(this.rZ)}},hHQ:function(){if(this.rZ==null){return null}else{return this.sJ}},BGh:function(){if(this.rZ==null){return null}else{return this.SW}},CRJ:function(){if(this.rZ==null||!this.SW){return null}else{return this.KF}},kkf:function(){return this.WL},PZp:function(){return this.keyCode},Pcx:function(kw){if(this.SW){return ls.UQU(kw,this.KF)}else{return kw}},fTc:function(dw,aL){if(dw==null||aL==null){if(dw!=aL){if(dw==null){return !this.sJ
}else{return this.sJ}}}if(this.sJ){return dw>aL}else{return dw<aL}}};ls.tD(ls.nm,ls.TI,"O")})(Lightstreamer);(function(ls){ls.hZ=function(){};ls.hZ.prototype={ZC:function(Sl){var aw=this.il.indexOf(ls.dqv)>-1;if(Sl!=null){this.DG=ls.SchemaDescriptor.lk(Sl)}else{if(!aw){this.AV=true}else{this.sc.dSW("You must specify the under schema for NonVisualTable objects","NonVisualTable")}}var Br=aw?"NonVisualTable":"MultiDynaMetapushTable";if(!(((this.cX||this.Tj.getList)&&(this.AV||(this.DG&&this.DG.getList)))||(this.Tj.getId&&(this.DG&&this.DG.getId)))){this.sc.dSW("Schema and UnderSchema should be of the same type","MultiDynaMetapushTable")}},wr:function(){for(var gb in this.iF){for(var hM in this.iF[gb]){this.mI(gb,hM)}}},EX:function(OK){var nv=OK[1];var kN=(OK[this.keyCode+1].length==-1)?this.KE.FS(nv,this.keyCode):OK[this.keyCode+1];var ta=OK[this.WL+1];if(this.iF[nv]&&this.iF[nv][kN]&&ta=="DELETE"){this.mI(nv,kN)}else{if((!this.iF[nv]||!this.iF[nv][kN])&&ta!="DELETE"){var tk=new ls.NonVisualTable(kN,this.DG,"MERGE");tk.setDataAdapter(this.vg);tk.setSnapshotRequired(true);tk.cQ=this.lm;tk.PC=nv;tk.il=ls.NNs;tk.cS=this;if(!this.iF[nv]){this.iF[nv]={}}this.iF[nv][kN]=tk;ls.ol.vZt(tk,this.getId()+"$"+nv+"|"+kN)}}},mI:function(nv,Zn){if(this.Yp==ls.Wwp){this.iF[nv][Zn].kqO()}ls.ol.YcC(this.iF[nv][Zn].getId());delete (this.iF[nv][Zn])}}})(Lightstreamer);(function(ls){ls.IH=function(){};ls.IH.prototype={hJA:function(){this.sc.log("hJA",1,this);var wW=this.wW;ls.MD.VEW(wW);var fa;var UB=ls.MD.Fh[wW];if(UB){if(UB.TB){fa=UB.iC;UB.iC=[]}else{fa=ls.pv.rF(UB.eS,UB.an)}}else{fa=ls.pv.rF(document,ls.ScreenTableHelper.ui)}var tk=ls.MD.Spr(wW);var hM=0;for(hM=0;hM<fa.length;hM++){var It=fa[hM].rf.getAttribute("table");if(!It||It!=wW){continue}var IB;if(this.il==ls.dCL){var nn=fa[hM].rf.getAttribute("lsitem");if((nn==null)||(nn=="")){nn=fa[hM].rf.getAttribute("item");if((nn==null)||(nn=="")){continue}}IB=nn}else{var kq=fa[hM].rf.getAttribute("row");if((kq==null)||(kq=="")){kq=fa[hM].rf.getAttribute("position")}if((kq==null)||(kq=="")){continue}IB=Number(kq);if(isNaN(IB)){continue}}var QP=fa[hM].rf.getAttribute("field");if((QP==null)||(QP=="")){continue}var dt=tk.xlW(IB,QP);if(dt&&dt.rf==fa[hM].rf){continue}var fC=fa[hM].Aj();var io=fa[hM].rf.className;tk.Gu.TA(io,IB,QP);tk.OQ.TA(fC,IB,QP);tk.qYB(fa[hM],IB,QP,this.il)}if(tk.Lo<=0){this.sc.error("No cells defined for table "+wW,"addTable");return false}return true},CDf:function(){var xE=this.rY.rKF();var Vg={};for(var nn in xE){for(var QP in xE[nn]){Vg[QP]=1}}return Vg}}})(Lightstreamer);(function(ls){ls.rQ=function(){};ls.rQ.prototype={Sn:function(){var xE=this.rY.rKF();for(var SK in xE){if(this.onRowUpdate){try{this.onRowUpdate(SK,null)}catch(XW){this.sc.PqW(XW,this.onRowUpdate,"onRowUpdate")}}for(var wm in xE[SK]){this.rY.TbO(SK,wm)}this.rY.BC(SK,false)}},Aa:function(tL,kV,hN,CX){if(tL==kV){return}var Lh;var EN;var Hk;if(!hN){Lh=kV;EN=tL;Hk=-1}else{Lh=tL;EN=kV;Hk=1}for(var Zn in this.rY.mA){if(this.rY.mA[Zn]<tL||this.rY.mA[Zn]>kV){continue}var qA=-1;if(CX&&this.rY.mA[Zn]==Lh){qA=EN}else{qA=this.rY.mA[Zn]-Hk}if(qA<tL||qA>kV){continue}this.rY.nt[qA]=Zn;this.rY.mA[Zn]=qA;if(this.il==ls.ZSN){if(qA>this.DA||qA<=0){delete this.rY.nt[qA];delete this.rY.mA[Zn]}}}this.rY.vHa(Lh,EN,Hk,CX)}}})(Lightstreamer);(function(ls){ls.pw=function(){};ls.pw.prototype={SU:function(){this.sc.log("SU");this.lH()},Hi:function(Zf){this.sc.log("Hi",arguments);if(this.wic()){this.sc.dSW(this.su,"setUpwardScroll")}if(Zf){this.je=true}else{this.je=false}},lS:function(iM,Zn,wm){this.gg.push(wm);if(iM===ls.xn){iM=this.KE.FS(Zn,wm)}this.rt.TA(iM,Zn,wm)}}})(Lightstreamer);(function(ls){ls.Ao=function(){};ls.Ao.prototype={hJA:function(){this.sc.log("hJA",1,this);var wW=this.wW;this.Bn();var Cx=ls.MD.Spr(wW);var ZS;var BD=Cx.DL;if(BD){if(ls.pv.Ld(BD)){return true}else{Cx.DL=null;Cx.Vf=null;Cx.MR=null;Cx.Xo=null;Cx.Dq=null;Cx.dE=null;Cx.GF=null}}BD=document.getElementById(wW);if(!this.MvQ(BD)){return false}var nQ=BD.cloneNode(true);nQ.removeAttribute("id");
ZS=BD.parentNode;Cx.DL=BD;Cx.qH=ZS;Cx.Vf=nQ;BD.style.display="none";var wZ=ZS.childNodes;var gb=0;var kY=0;for(gb=0;gb<wZ.length;gb++){if(wZ[gb]==BD){if(wZ[gb+1]){Cx.MR=wZ[gb+1];Cx.Xo=wZ[gb+1]}else{Cx.MR=null;Cx.Xo=null}kY=gb+1;break}}if(this.il==ls.Gpp){Cx.Dq=ZS}else{Cx.Dq=new ls.tF(Cx.qH,Cx.Xo,kY);Cx.dE=new ls.ED();Cx.GF=new ls.ED()}return true},MvQ:function(Vf){if(!Vf){this.sc.error("No template defined for table "+this.wW,"addTable");return false}var mx=Vf.getAttribute(ls.ei);if(!mx||mx.toUpperCase()!=ls.di){this.sc.error("The template defined for table "+this.wW+" does not define the 'source' attribute.","addTable");return false}var hG=[];var po=false;var fa=ls.pv.rF(Vf);for(var Ye=0;Ye<fa.length;Ye++){if(!fa[Ye].rf.getAttribute("FIELD")){if(!po){this.sc.error("Warning, there are elements in the template for table "+this.wW+" that do not define the 'field' attribute","addTable");po=true}}else{hG.push(fa[Ye])}}if(hG.length<=0){this.sc.error("No valid cells defined for table "+this.wW,"addTable");return false}return true},CDf:function(){var Vf=this.rY.Vf;var fa=ls.pv.rF(Vf);var Vg={};var hM=0;for(hM=0;hM<fa.length;hM++){var QP=fa[hM].rf.getAttribute("FIELD");if(QP){Vg[QP]=1}}return Vg},fO:function(fg,XU){this.sc.log("fO",arguments);if(!fg){this.sc.dSW("No type selected, please select one: OFF, ELEMENT, PAGE","setAutoScroll");return}fg=new String(fg);fg=fg.toUpperCase();if(fg=="ELEMENT"){if(!XU){this.sc.dSW("Please specify an element id in order to use ELEMENT autoscroll","setAutoScroll");return}else{this.Nc=XU}}else{if(fg!="PAGE"&&fg!="OFF"){this.sc.dSW(fg+" is not a valid scroll type. Admitted values are OFF, ELEMENT, PAGE","setAutoScroll");return}}this.iE=fg;if(this.wic()){this.Bn()}},Bn:function(){if(this.iE=="ELEMENT"){if(this.Nc&&this.Nc.appendChild){}else{var Ue=document.getElementById(this.Nc);if(!Ue){this.sc.error("Cannot find the element with "+this.Nc+" as id.","setAutoScroll");this.iE="OFF"}else{this.Nc=Ue}}}},hT:function(JJ){this.sc.log("hT",arguments);JJ=new String(JJ);JJ=JJ.toLowerCase();if(JJ=="unlimited"){this.JJ=0}else{this.JJ=this.JnG(JJ,"hT",this.JJ,true,1)}},DZb:function(){if(this.JJ==0){return"unlimited"}return this.JJ},pI:function(rf){if(this.iE=="OFF"){return}var At=null;if(this.iE=="ELEMENT"){At=this.Nc}var ZU=rf.offsetTop;rf=rf.offsetParent;while((rf!=At)&&(rf!=null)){ZU+=rf.offsetTop;rf=rf.offsetParent}this.sc.log("pI",this.iE,ZU);if(this.iE=="PAGE"){window.scrollTo(0,ZU)}else{this.Nc.scrollTop=ZU}}}})(Lightstreamer);(function(ls){ls.Zs=function(){};ls.Zs.prototype={Cs:function(mx){if(mx==null){return null}else{return mx.toString()}},TPB:function(Lf){ls.Db.TPB(parseInt(Lf.win),parseInt(Lf.AW),this.Cs(Lf.status),Lf.connection,Lf.context,Lf.policy,Lf.iJ,parseInt(Lf.ZR),Lf.Ng===true,this.Cs(Lf.rJ),this.Cs(Lf.MO))},WPQ:function(Lf){ls.Vp.IR[Lf.pH].kdx(this.Cs(Lf.Xf),Lf.Fu)},Dnp:function(Lf){ls.Db.Dnp(this.Cs(Lf.status))},Ofr:function(Lf){ls.Db.RSG(ls.UG(Lf.gi),this.Cs(Lf.rJ),this.Cs(Lf.MO))},etw:function(Lf){ls.Db.Eco(ls.UG(Lf.gi))},SZr:function(Lf){ls.Db.oQ(Lf.Ge===true)},ij:function(){if(ls.nR.QIE()){ls.fJ.EHb(ls.nR.QIE,1000,ls.nR)}},Uho:function(Lf){ls.ol.mxW(this.Cs(Lf.SX),parseInt(Lf.YN),parseInt(Lf.eY),parseInt(Lf.xJ))},OSX:function(Lf){var OK=Lf.OK;var TW=[];TW.Cn=[];TW[0]=parseInt(OK[0]);TW[1]=parseInt(OK[1]);for(var gb=2,vS=OK.length;gb<vS;gb++){if(!OK[gb]){if(OK[gb]===""){TW[gb]=""}else{TW[gb]=null}TW.Cn.push(gb-1)}else{if(OK[gb].length==-1){TW[gb]=ls.xn}else{TW[gb]=OK[gb].toString();TW.Cn.push(gb-1)}}}ls.MD.snX(TW,Lf.Xc?true:false)},uKD:function(Lf){var TW=[];TW[0]=parseInt(Lf[0]);TW[1]=parseInt(Lf[1]);TW[2]=parseInt(Lf[2]);ls.MD.onLostUpdates(TW)},hZc:function(Lf){var TW=[];TW[0]=parseInt(Lf[0]);TW[1]=parseInt(Lf[1]);ls.MD.onEndOfSnapshot(TW)},HBE:function(Lf){ls.MD.cPw(parseInt(Lf.jP),this.Cs(Lf.gs),parseInt(Lf.YN))},Oc:function(Lf){ls.Db.ig("onServerError",parseInt(Lf.jP),this.Cs(Lf.gs))},HAc:function(Lf){ls.MD.nLb(parseInt(Lf.jP),parseInt(Lf.YN))},phZ:function(Lf){ls.Db.ig("onClientAlert",parseInt(Lf.Ke),this.Cs(Lf.EY))
},PVf:function(Lf){ls.Db.ig("onClientError",Lf)},flt:function(Lf){ls.MD.nLb(9,this.Cs(Lf))},tZD:function(Lf){ls.MD.ve(parseInt(Lf.mR),parseInt(Lf.Ke),this.Cs(Lf.gs))}}})(Lightstreamer);(function(ls){ls.kS=function(){this.sc=ls.KN.getLogger("EH");this.Bv=2000;this.Wx()};ls.kS.prototype={Wx:function(Tn){this.vk=false;this.ZR=null;this.rL=false;this.RI=false;this.kr=false;this.Ng=false;this.NM=null;this.AW=null;this.NQ=Tn?this.NQ+1:ls.MY()+1;this.YI=null;this.Di=false;this.ct=false;this.sc.log("Wx",this)},toString:function(){return["[","kS",this.NM,this.rL,this.vk,this.ZR,this.RI,this.kr,this.Ng,this.ct,this.AW,this.NQ,this.Di,"]"].join("|")},RmT:function(OL,Un){if(Un){return OL==this.NQ&&Un==this.AW}else{return OL==this.NQ}},nXj:function(){var IT=false;try{IT=this.YI.iO.RmT(this.NM)}catch(XW){this.sc.MG(XW,"nXj");IT=false}if(!IT){this.oQ()}return IT},BR:function(GG,Lf){return this.MF(GG,Lf,false,false)},ZOa:function(GG,Lf){return this.MF(GG,Lf,true,false)},rtZ:function(GG,Lf){return this.MF(GG,Lf,false,true)},Jet:function(GG,Lf){return this.MF(GG,Lf,true,true)},MF:function(GG,Lf,iT,NK){if(!this.vk){return false}this.sc.log("MF",GG,iT);try{if(NK){var OA=this.YI.iO.ZWE(this.NM);OA.CI.HeS(GG,this.NM,Lf,iT?this.AW:null)}else{this.YI.Qs.HeS(GG,this.NM,Lf,iT?this.AW:null)}}catch(XW){this.vF(XW);return false}return true},gcw:function(HA,Sw){if(this.vk||this.rL){this.sc.dGc(false,"gcw",1)}this.rL=true;this.NQ++;this.RI=Sw===true;try{this.YI=HA;var Wo=null;if(this.RI){var Fr=ls.WRM(ls.Vp.Fr);if(ls.mK.xq){var Hc=ls.Vp.IR;Hc.iJ.Fr=Fr;Wo={iJ:new ls.Dj(Hc.iJ),policy:new ls.Policy(Hc.policy),connection:new ls.Connection(Hc.connection),context:new ls.Context(Hc.context)};this.sc.log("gcw",1)}else{Wo={Fr:Fr};this.sc.log("gcw",2)}}else{this.sc.log("gcw",3)}var cW=null;HA.Qs.HeS("HDj",-1,{win:window,ac:this.NQ,cW:Wo})}catch(XW){this.Wx(true);ls.Vp.Re();return}var ac=ls.Vp.wR;ls.fJ.EHb(this.tvi,this.Bv,this,[ac]);this.Bv+=500},tvi:function(ac){var md=ls.Vp;if(ac==md.wR){this.Wx(true);this.sc.log("tvi");md.oH(ac)}},TPB:function(tj,Yg,WD,connection,context,policy,iJ,ZR,lq,rJ,MO){this.vk=true;this.NM=tj;this.AW=Yg;this.ZR=ZR;if(ls.mK.xq){this.kr=true}this.Bv=2000;ls.Vp.wR++;this.Ng=lq;this.sc.log("TPB",this);var Vp=ls.Vp;ls.mK.kr();ls.nR.xHe();var IR=new ls.iI(this.YI.WN,connection,context,policy,iJ);Vp.IR=IR;Vp.IR.ZIn(WD);if(this.Ng){Vp.IR.TVa(rJ,MO)}if(this.RI&&!this.kr){try{Vp.onEngineCreation(IR)}catch(XW){this.sc.PqW(XW,Vp.onEngineCreation,"onEngineCreation")}}try{Vp.onEngineReady(IR)}catch(XW){this.sc.PqW(XW,Vp.onEngineReady,"onEngineReady")}ls.KN.Hed();this.Bw(WD);if(this.Ng){this.pT()}},pT:function(){this.sc.log("pT");ls.ol.uuN()},Ax:function(){this.sc.log("Ax");ls.ol.YUX();ls.MD.Eoq()},RSG:function(gi,rJ,MO){this.sc.dGc(!this.Ng,"RSG");this.AW=gi;this.Ng=true;ls.Vp.IR.TVa(rJ,MO);this.pT()},Eco:function(gi){this.AW=gi;if(this.Ng){this.Ng=false;this.Ax()}},Dnp:function(WD){ls.Vp.IR.ZIn(WD);this.ig("onStatusChange",WD);this.Bw(WD)},Bw:function(WD){if(ls.FlashBridge){for(var gb in ls.FlashBridge.bridges){var TF=ls.FlashBridge.bridges[gb];if(TF&&TF.oJ){TF.oJ(WD)}}}},ig:function(UV,xv,Bb){var IR=ls.Vp.IR;if(IR[UV]){try{IR[UV](xv,Bb)}catch(XW){this.sc.PqW(XW,IR[UV],UV)}}},oQ:function(Ge){this.sc.log("oQ",Ge,this);if(!this.vk){return}var fp=this.RI&&!Ge;ls.nR.KiL();ls.nR.tW=null;this.Wx(true);this.ct=fp;ls.Vp.SFJ(Ge);this.Ax();var Vp=ls.Vp;try{Vp.onEngineLost()}catch(XW){this.sc.PqW(XW,Vp.onEngineLost,"onEngineLost")}this.Bw("WAITING");ls.mK.Fca(fp)},vF:function(XW){if(!this.Di){this.sc.MG(XW,"vF")}this.Di=true;ls.fJ.EHb(ls.nR.QIE,0,ls.nR)},sRP:function(){if(this.vk&&this.NM){this.BR("wJA",this.NM)}}}})(Lightstreamer);(function(ls){Lightstreamer.NonVisualTable=function(FK,eH,gT){this.eV(ls.NonVisualTable,FK,eH,gT);this.QC();this.gk();this.il=ls.dqv;this.WL=null;this.keyCode=null;this.vg=null;this.iF={};this.DG=null;this.sc.log(this.getClassName(),arguments)};Lightstreamer.NonVisualTable.prototype={toString:function(){return["[",this.getClassName(),this.Yp,this.wW,this.eY,this.kR,this.xJ,"]"].join("|")
},getClassName:function(){return"NonVisualTable"},SaY:function(wW,eY){if(!this.ao(ls.NonVisualTable,"SaY",wW,eY)){return false}if(this.il==ls.ebL||this.il==ls.TnW){this.Js();if(this.DG){this.Tj.Zfa(this.DG)}}return true},ZVI:function(){this.ao(ls.NonVisualTable,"ZVI");this.Tj.sfB()},tUj:function(){this.ao(ls.NonVisualTable,"tUj");this.KE=new ls.Ms();this.OI=new ls.Ms();this.rt=new ls.Ms();this.HQ=new ls.Ms()},TK:function(){this.ao(ls.NonVisualTable,"TK");if(this.il==ls.TnW){this.wr()}},setCommandLogic:function(jP,Ig,SR,DG,vg){if(jP=="MULTI"){if(!DG){this.sc.dSW("The schema for the underlying tables cannot be null","setCommandLogic");return}this.il=ls.TnW;if(Ig){this.JM(Ig,SR)}this.ZC(DG);this.vg=vg}else{if(jP){this.il=ls.ebL;if(Ig){this.JM(Ig,SR)}}else{this.il=ls.dqv}}},getUnderlyingSchema:function(){return this.DG},euf:function(OK){var cS=this.cS;if(!cS.iF[this.PC]||!cS.iF[this.PC][this.sF.vb]){return null}var nv=this.PC;var hn={};hn[0]=cS.kR;hn[1]=nv;hn.length=2;hn.Cn=[];var aK=cS.Tj.length+this.Tj.length+2;var y=2;var gb;for(;hn.length<aK;hn.length++){gb=hn.length;if(gb==(cS.keyCode+1)){hn[gb]=this.sF.vb}else{if(gb==(cS.WL+1)){hn[gb]="UPDATE"}else{if(gb<=(cS.Tj.length+1)){hn[gb]=ls.xn}else{if(OK[y].length>-1){hn[gb]=OK[y];hn.Cn.push(gb-1);y++}else{hn[gb]=OK[y];y++}}}}}return hn}};ls.tD(ls.NonVisualTable,ls.Table);ls.tD(ls.NonVisualTable,ls.TI,"O");ls.tD(ls.NonVisualTable,ls.hZ,"O")})(Lightstreamer);(function(ls){Lightstreamer.OverwriteTable=function(FK,eH,gT){this.eV(ls.OverwriteTable,FK,eH,gT);this.AZ=this.sF?false:true;this.il=ls.dCL;this.sc.log(this.getClassName(),arguments)};Lightstreamer.OverwriteTable.prototype={toString:function(){return["[",this.getClassName(),this.Yp,this.wW,this.eY,this.kR,this.xJ,"]"].join("|")},getClassName:function(){return"OverwriteTable"},ZVI:function(){this.ao(ls.OverwriteTable,"ZVI");this.sc.log("ZVI");if(this.AZ){this.sF=null}this.nF=null;this.wg=null},SU:function(){this.sc.log("SU");this.OM();this.lH()},Fb:function(){this.ao(ls.OverwriteTable,"Fb");var Cx=this.rY;var xE=Cx.rKF();for(var SK in xE){var qQ=this.sF.ncf(SK);if(this.onChangingValues){try{this.onChangingValues(qQ,null,SK)}catch(XW){this.sc.PqW(XW,this.onChangingValues,"onChangingValues")}}for(var wm in xE[SK]){Cx.TbO(SK,wm)}}},OM:function(){var xE=this.rY.rKF();if(this.AZ){var hW=[];for(var nn in xE){hW[hW.length]=nn}this.sF=new ls.GroupListDescriptor(hW)}this.nF={};for(var nn in xE){var Rm=this.sF.ncf(nn);this.nF[Rm]=nn}},onChangingValues:function(Rm,Mu,rS){return},kC:function(nv,OK,xa){var Zn=nv;var nn=this.nF[nv];if(nn==null){return}var kX=ls.kk;kX.Wx(this,Zn,OK,xa);kX.SK=nn;if(this.onChangingValues){var dL=this.sF.QPW(nv);try{this.onChangingValues(nv,kX,dL)}catch(XW){this.sc.PqW(XW,this.onChangingValues,"onChangingValues")}}if(!this.wic()){return true}this.Qf(Zn,nn,Zn,false,kX)}};ls.tD(ls.OverwriteTable,ls.VisualTable);ls.tD(ls.OverwriteTable,ls.IH,"O")})(Lightstreamer);(function(ls){Lightstreamer.ScrollTable=function(FK,eH,gT){this.eV(ls.ScrollTable,FK,eH,gT);this.gk();this.DA=0;this.Oi=1;this.YG=1;this.je=false;this.fo=-1;this.il=ls.ZSN;this.sc.log(this.getClassName(),arguments)};Lightstreamer.ScrollTable.prototype={toString:function(){return["[",this.getClassName(),this.Yp,this.wW,this.eY,this.kR,this.xJ,"]"].join("|")},getClassName:function(){return"ScrollTable"},tUj:function(){this.ao(ls.ScrollTable,"tUj");this.Oi=1;this.YG=1;if(this.rY.DA>this.fo&&this.fo>-1){this.DA=this.fo}else{this.DA=this.rY.DA}},ZVI:function(){this.ao(ls.ScrollTable,"ZVI");this.wg=null},Fb:function(){this.ao(ls.ScrollTable,"Fb");this.Sn()},onChangingValues:function(Mu){return},onRowUpdate:function(YR,Lq){return},setUpwardScroll:function(Zf){this.Hi(Zf)},Zf:function(){return this.je},setLastVisibleRow:function(YR){this.fo=this.JnG(YR,"setLastVisibleRow",this.fo,true,-1)},tFi:function(){return this.fo},kC:function(nv,OK,xa){var tL=null;var kV=null;var Xm=null;var Vt=null;var vu;var rp;if(!this.je){vu=1;rp=this.YG;if(this.YG<this.DA){this.YG++}tL=vu;kV=this.DA
}else{vu=this.DA;rp=1;tL=rp;kV=vu}var Zn=this.Oi;this.Oi++;this.Aa(tL,kV,this.je,false);var kX=ls.kk;kX.Wx(this,nv,OK,xa);kX.SK=vu;kX.mR=Zn;if(this.onChangingValues){try{this.onChangingValues(kX)}catch(XW){this.sc.PqW(XW,this.onChangingValues,"onChangingValues")}}if(!this.wic()){return true}this.rY.vuT(nv,vu,true);this.rY.mA[Zn]=vu;this.rY.nt[vu]=Zn;this.Qf(nv,vu,Zn,true,kX);var fd=ls.Lq;fd.Wx(this,Zn,vu);if(this.onRowUpdate){try{this.onRowUpdate(vu,fd)}catch(XW){this.sc.PqW(XW,this.onRowUpdate,"onRowUpdate")}}if(!this.wic()){return true}}};ls.tD(ls.ScrollTable,ls.VisualTable);ls.tD(ls.ScrollTable,ls.IH,"O");ls.tD(ls.ScrollTable,ls.rQ,"O");ls.tD(ls.ScrollTable,ls.pw,"O")})(Lightstreamer);(function(ls){Lightstreamer.DynaScrollTable=function(FK,eH,gT){this.eV(ls.DynaScrollTable,FK,eH,gT);this.gk();this.JJ=0;this.Ob=0;this.je=false;this.Nc=null;this.iE="OFF";this.hb=false;this.il=ls.Gpp;this.sc.log(this.getClassName(),arguments)};Lightstreamer.DynaScrollTable.prototype={toString:function(){return["[",this.getClassName(),this.Yp,this.wW,this.eY,this.kR,this.xJ,"]"].join("|")},getClassName:function(){return"DynaScrollTable"},tUj:function(){this.ao(ls.ScrollTable,"tUj");this.Ob=0;this.hb=false},ZVI:function(){this.ao(ls.DynaScrollTable,"ZVI");this.sc.log("ZVI");this.wg=null},Fb:function(){this.ao(ls.DynaScrollTable,"Fb");var Cx=this.rY;while(Cx.rW()>0){}Cx.HX=0;Cx.qs=1;Cx.Nk=[];Cx.Xo=this.rY.MR},setUpwardScroll:function(Zf){this.Hi(Zf)},Zf:function(){return this.je},onChangingValues:function(TO,Mu){return},setAutoScroll:function(type,XU){this.fO(type,XU)},setMaxDynaRows:function(JJ){this.hT(JJ);if(this.wic()&&this.JJ>0){this.rY.PbA(this.JJ)}},getMaxDynaRows:function(){return this.DZb()},kC:function(nv,OK,xa){var fm=this.rY;fm.HX++;var Nl=fm.HX;var Zn=nv;var kX=ls.kk;kX.Wx(this,Zn,OK,xa);kX.SK=Nl;var kW=fm.Dq;var Ss=fm.Vf.cloneNode(true);fm.Nk.push(Ss);var rK=this.JXU();fa=ls.pv.rF(Ss);var hM=0;for(hM=0;hM<fa.length;hM++){var Oo=fa[hM];var sb=Oo.rf.getAttribute("FIELD");if(!sb){continue}fm.qYB(Oo,Nl,sb,fm.il)}if(this.onChangingValues){try{this.onChangingValues(Ss,kX)}catch(XW){this.sc.PqW(XW,this.onChangingValues,"onChangingValues")}}if(!this.wic()){return true}if(fm.Xo==null||fm.Xo.parentNode==null){kW.appendChild(Ss)}else{kW.insertBefore(Ss,fm.Xo)}this.Qf(Zn,Nl,Zn,false,kX);if(rK){this.pI(Ss)}if(!this.je){fm.Xo=Ss}var Vt=null;this.rY.PbA(this.JJ)},JXU:function(){if(this.iE=="OFF"){return false}if(ls.aI()){return true}var vD=null;if(this.iE=="ELEMENT"){vD=this.Nc}else{vD=document.body}if(vD.scrollTop<this.Ob){this.hb=true}this.Ob=vD.scrollTop;if(!this.hb){return true}if((vD.clientHeight+vD.scrollTop)!=vD.scrollHeight){return false}else{return true}}};ls.tD(ls.DynaScrollTable,ls.VisualTable);ls.tD(ls.DynaScrollTable,ls.pw,"O");ls.tD(ls.DynaScrollTable,ls.Ao,"O")})(Lightstreamer);(function(ls){Lightstreamer.MetapushTable=function(FK,eH,gT){this.eV(ls.MetapushTable,FK,eH,gT);this.gk();this.DA=0;this.Lx=0;this.WL=null;this.keyCode=null;this.rZ=null;this.sJ=false;this.SW=false;this.KF=false;this.fo=-1;this.jY={};this.il=ls.ZFs;this.sc.log(this.getClassName(),arguments)};Lightstreamer.MetapushTable.prototype={toString:function(){return["[",this.getClassName(),this.Yp,this.wW,this.eY,this.kR,this.xJ,"]"].join("|")},getClassName:function(){return"MetapushTable"},tUj:function(wW,eY){this.ao(ls.MetapushTable,"tUj");if(this.rY.DA>this.fo&&this.fo>-1){this.DA=this.fo}else{this.DA=this.rY.DA}this.Lx=0;this.jY=[];return true},ZVI:function(){this.ao(ls.MetapushTable,"ZVI");this.sc.log("ZVI");this.wg=null},Fb:function(){this.ao(ls.MetapushTable,"Fb");this.Sn()},setClearOnAdd:ls.uY,getMetapushSortField:function(){return this.DAc()},getMetapushSortFieldName:function(){return this.qVw()},isDescendingSort:function(){return this.hHQ()},isNumericSort:function(){return this.BGh()},isCommaAsDecimalSeparator:function(){return this.CRJ()},setLastVisibleRow:function(YR){this.fo=this.JnG(YR,"setLastVisibleRow",this.fo,true,-1)},tFi:function(){return this.fo},onChangingValues:function(Mu){return
},onRowUpdate:function(YR,Lq){return},setMetapushFields:function(Ig,SR){this.JM(Ig,SR)},setMetapushSort:function(aS,sJ,SW,KF){this.nA(aS,sJ,SW,KF)},kC:function(Zn,OK,xa){var FT=this.KE.FS(Zn,this.WL);var pb=1;if(this.rZ!=null){pb=this.KE.FS(Zn,this.rZ)}var tL=null;var kV=null;if(FT=="DELETE"){this.Aa(this.rY.mA[Zn],this.Lx,true,false);this.sc.dGc(!xa,"kC",1);var ef=this.rY.dpi(this.Lx);for(var wg in ef){this.rY.TbO(this.Lx,wg)}delete this.rY.nt[this.Lx];delete this.jY[this.Lx];delete this.rY.mA[Zn];this.rt.BQ(Zn);this.HQ.BQ(Zn);this.OI.BQ(Zn);this.KE.BQ(Zn);if(this.Lx>this.DA){this.rY.BC(this.Lx,true)}else{this.rY.BC(this.Lx,false)}if(this.onRowUpdate){try{this.onRowUpdate(this.Lx,null)}catch(XW){this.sc.PqW(XW,this.onRowUpdate,"onRowUpdate")}}if(!this.wic()){return true}this.Lx--}else{pb=this.Pcx(pb);var HH=this.rY.mA[Zn];var oc=true;if(HH){var RD=this.jY[HH];if(RD.toString()==pb.toString()){oc=false}}else{HH=-1;this.Lx++}var hI=(HH==-1);var qA=HH;if(oc){qA=1;var SK;for(SK=1;SK<=this.Lx;SK++){if(SK==HH){continue}var sn=this.jY[SK];if(!sn){break}if(this.fTc(pb,sn)){break}qA++}if(qA!=HH){var hN=false;var jC=false;if(!hI){jC=true;if(qA<HH){tL=qA;kV=HH}else{tL=HH;kV=qA;hN=true}}else{tL=qA;kV=this.Lx}this.Aa(tL,kV,hN,jC);this.rY.mA[Zn]=qA;this.rY.nt[qA]=Zn}this.jY[qA]=pb}var kX=ls.kk;kX.Wx(this,Zn,OK,xa);kX.SK=this.rY.mA[Zn];if(this.onChangingValues){try{this.onChangingValues(kX)}catch(XW){this.sc.PqW(XW,this.onChangingValues,"onChangingValues")}}if(!this.wic()){return true}this.rY.vuT(Zn,qA,hI);this.Qf(Zn,this.rY.mA[Zn],Zn,hI,kX);var fd=ls.Lq;fd.Wx(this,Zn);if(this.onRowUpdate){try{this.onRowUpdate(this.rY.mA[Zn],fd)}catch(XW){this.sc.PqW(XW,this.onRowUpdate,"onRowUpdate")}}if(!this.wic()){return true}}}};ls.tD(ls.MetapushTable,ls.VisualTable);ls.tD(ls.MetapushTable,ls.IH,"O");ls.tD(ls.MetapushTable,ls.nm,"O");ls.tD(ls.MetapushTable,ls.rQ,"O")})(Lightstreamer);(function(ls){Lightstreamer.DynaMetapushTable=function(FK,eH,gT){this.eV(ls.DynaMetapushTable,FK,eH,gT);this.gk();this.WL=null;this.keyCode=null;this.rZ=null;this.sJ=false;this.SW=false;this.KF=false;this.Nc=null;this.iE="OFF";this.JJ=0;this.NM=1;this.Em=0;this.IP=false;this.il=ls.Cdn;this.sc.log(this.getClassName(),arguments)};Lightstreamer.DynaMetapushTable.prototype={toString:function(){return["[",this.getClassName(),this.Yp,this.wW,this.eY,this.kR,this.xJ,"]"].join("|")},getClassName:function(){return"DynaMetapushTable"},ZVI:function(){this.ao(ls.DynaMetapushTable,"ZVI");this.sc.log("ZVI");this.wg=null},TK:function(){this.ao(ls.DynaMetapushTable,"TK");this.NM=1;this.Em=0;this.IP=false},Fb:function(){this.ao(ls.DynaMetapushTable,"Fb");var Za=null;var Cx=this.rY;for(var Zn in Cx.rv){var Za=Cx.rv[Zn];if(this.onChangingValues){try{this.onChangingValues(Za.Ss(),null)}catch(XW){this.sc.PqW(XW,this.onChangingValues,"onChangingValues")}}Za.parentNode.removeChild(Za);Cx.BC(Zn,true)}Cx.HX=0;Cx.Xo=Cx.MR},setClearOnAdd:ls.uY,setMetapushFields:function(Ig,SR){this.sc.log("setMetapushFields",arguments);if(this.wic()){this.sc.dSW(this.su,"setMetapushFields")}this.WL=this.JnG(Ig,"setMetapushFields",this.WL,true,1);this.keyCode=this.JnG(SR,"setMetapushFields",this.keyCode,true,1)},onChangingValues:function(TO,Mu){return},setAutoScroll:function(type,XU){this.fO(type,XU)},setMetapushSort:function(aS,sJ,SW,KF){this.nA(aS,sJ,SW,KF)},getMetapushSortField:function(){return this.DAc()},getMetapushSortFieldName:function(){return this.qVw()},isDescendingSort:function(){return this.hHQ()},isNumericSort:function(){return this.BGh()},isCommaAsDecimalSeparator:function(){return this.CRJ()},setMaxDynaRows:function(JJ){this.hT(JJ);if(this.wic()){this.jv();this.YD();this.hi(1)}},getMaxDynaRows:function(){return this.DZb()},onCurrentPagesChanged:function(UT){return},goToPage:function(NM){if(!this.wic()){this.sc.dSW(this.sD,"goToPage")}if(this.JJ==0){this.sc.dSW("Can't switch pages while 'no-page mode' is used","goToPage")}var Bu=new Number(NM);if(isNaN(Bu)){this.sc.dSW("A page number must be provided. "+NM+" is not a valid value","goToPage")
}if(Bu<=0){this.sc.dSW("A page number must be greater than 0. "+NM+" is not a valid value","goToPage")}this.hi(Bu)},getDisplayedPage:function(){if(this.JJ==0){return 1}else{return this.NM}},getCurrentPages:function(){return this.Em},kC:function(Zn,OK,xa){var lg=this.rY;var FT=this.KE.FS(Zn,this.WL);var pb;if(this.rZ!=null){pb=this.Pcx(this.KE.FS(Zn,this.rZ))}var Lv=null;var gl=null;var kW=lg.Dq;var Cq=lg.dE;var GF=lg.GF;var GJ=lg.rv[Zn];var rK=true;if(!this.IP||this.JJ>0){rK=false}var Ri=false;var Ss=null;if(FT=="DELETE"){rK=false;if(GJ){lg.HX--;Ri=true;if(this.onChangingValues){try{this.onChangingValues(GJ.Ss(),null)}catch(XW){this.sc.PqW(XW,this.onChangingValues,"onChangingValues")}}if(!this.wic()){return true}if(GJ.parentNode==kW){kW.removeChild(GJ);this.bn(Cq,kW,this.JJ)}else{if(GJ.parentNode==Cq){Cq.removeChild(GJ)}else{GF.removeChild(GJ);if(this.bn(kW,GF,this.JJ*(this.NM-1))){this.bn(Cq,kW,this.JJ)}}}this.sc.dGc(!xa,"kC",3);this.rt.BQ(Zn);this.HQ.BQ(Zn);this.OI.BQ(Zn);this.KE.BQ(Zn);lg.BC(Zn,true)}}else{var tr=false;var bd;if(!GJ){Ss=new ls.vp(this.wW,Zn,Zn,this.keyCode);lg.rv[Zn]=Ss}else{Ss=lg.rv[Zn];Lv=Ss.parentNode;bd=this.pqX(Ss);if(this.rZ!=null){if(bd!=null&&pb!=null){if(bd.toString()==pb.toString()){tr=true}}else{if(bd==null&&pb==null){tr=true}}}}var kX=ls.kk;kX.Wx(this,Zn,OK,xa);kX.SK=Zn;if(this.onChangingValues){try{this.onChangingValues(Ss.Ss(),kX)}catch(XW){this.sc.PqW(XW,this.onChangingValues,"onChangingValues")}}if(!this.wic()){return true}if(this.rZ!=null&&tr==false){lg.cq[Zn]=pb;var aB=1;var Xh=lg.HX;var WK=-1;var hM=-1;while(aB<Xh){hM=Math.floor((aB+Xh)/2);var PN=null;if(hM<=lg.HX){var ZH=this.iWo(hM);if(ZH==Ss){PN=bd;WK=hM}else{PN=this.pqX(ZH)}}if(this.fTc(pb,PN)){Xh=hM-1}else{aB=hM+1}}var vP=-1;if(aB==Xh){var ZH=this.iWo(aB);var sn=this.pqX(ZH);if(this.fTc(pb,sn)){vP=aB}else{vP=aB+1}}else{vP=aB}this.RL(vP,Ss);if(!GJ){lg.HX++;Ri=true}}if(this.rZ==null){if(!GJ){lg.HX++;Ri=true;if(Cq.length>0||(kW.length==this.JJ&&this.JJ>0)){Cq.appendChild(Ss)}else{if(kW.length>0||GF.length==(this.JJ*(this.NM-1))){kW.appendChild(Ss)}else{GF.appendChild(Ss)}}}}this.Qf(Zn,Zn,Zn,false,kX)}if(Ss){if(Ss.uW){if(rK){this.pI(Ss.uW)}}}if(Ri){this.jv()}},YD:function(){var JX=this.rZ;var QI=new ls.ED();var va=this.rY;var kW=va.Dq;var Cq=va.dE;var GF=va.GF;var x=1;while(va.HX>0){var Nw=this.iWo(x);if(!Nw){va.HX--;x++;continue}if(JX==null){QI.appendChild(Nw);va.HX--;continue}var qd=Nw.Zn;if(qd==""){va.HX--;x++;continue}var pb=this.KE.FS(qd,this.rZ);pb=this.Pcx(pb);va.cq[qd]=pb;var aB=0;var Xh=QI.length-1;while(aB<Xh){var hM=Math.floor((aB+Xh)/2);var ZH=QI.oBH(hM);var AG=this.pqX(ZH);if(!AG){this.sc.dGc(false,"YD",1)}if(this.fTc(pb,AG)){Xh=hM-1}else{aB=hM+1}}var ZH=QI.oBH(aB);if(aB==Xh){var sn=this.pqX(ZH);if(this.fTc(pb,sn)){QI.insertBefore(Nw,ZH)}else{var XE=QI.oBH(Xh+1);if(!XE){QI.appendChild(Nw)}else{QI.insertBefore(Nw,XE)}}}else{if(ZH){QI.insertBefore(Nw,ZH)}else{QI.appendChild(Nw)}}va.HX--}var ga=0;while(ga<QI.length){va.HX++;var rf=QI.oBH(ga);var PN=rf.Zn;if(va.HX<=(this.JJ*(this.NM-1))){GF.appendChild(rf)}else{if((this.JJ<=0)||(va.HX<=(this.JJ*this.NM))){kW.appendChild(rf)}else{Cq.appendChild(rf)}}}},pqX:function(ZH){if(!ZH){return null}var sn=ZH.Zn;if(sn==""){return null}return this.rY.cq[sn]},hi:function(ZW){var cO=this.rY;var kW=cO.Dq;var Cq=cO.dE;var GF=cO.GF;var Hw=this.NM;if(Hw>=ZW){while(this.Dh(GF,kW,(ZW-1)*this.JJ)){this.Dh(kW,Cq,this.JJ)}}else{while(this.bn(kW,GF,(ZW-1)*this.JJ)){this.bn(Cq,kW,this.JJ)}}this.NM=ZW},RL:function(gb,uW){var Cx=this.rY;if(gb>Cx.HX+1){return}else{if(gb<=0){return}}if(uW==this.iWo(gb)){return}var Lv=uW.parentNode;var PM;var kW=Cx.Dq;var Cq=Cx.dE;var GF=Cx.GF;var FP=this.iWo(gb);if(FP==null){if(Cq.length>0||(kW.length==this.JJ&&this.JJ>0)){Cq.appendChild(uW);PM=Cq}else{if(this.JJ==0||kW.length>0||GF.length==(this.JJ*(this.NM-1))){kW.appendChild(uW);PM=kW}else{GF.appendChild(uW);PM=GF}}}else{PM=FP.parentNode;PM.insertBefore(uW,FP)}if(PM==kW){if((!Lv)||(Lv==Cq)){this.Dh(kW,Cq,this.JJ)}else{if(Lv==GF){this.bn(kW,GF,this.JJ*(this.NM-1))
}}}else{if(PM==GF){if(Lv!=GF){if(this.Dh(GF,kW,this.JJ*(this.NM-1))){this.Dh(kW,Cq,this.JJ)}}}else{if(PM==Cq){if(Lv==GF){this.bn(kW,GF,this.JJ*(this.NM-1))}this.bn(Cq,kW,this.JJ)}}}},bn:function(pJ,Zd,KO){if(this.JJ<=0){return false}if(Zd.length<KO&&pJ.length>0){var sr=pJ.oBH(0);Zd.appendChild(sr);return true}return false},Dh:function(pJ,Zd,jM){if(this.JJ<=0){return false}if(pJ.length>jM){var sr=pJ.oBH(pJ.length-1);Zd.insertBefore(sr,Zd.oBH(0));return true}return false},iWo:function(gb){var Cx=this.rY;var kW=Cx.Dq;var Cq=Cx.dE;var GF=Cx.GF;if(gb>Cx.HX){return null}else{if(gb<=0){return null}}if(gb<=GF.length){return GF.oBH(gb-1)}else{gb-=GF.length;if(gb<=kW.length){return kW.oBH(gb-1)}else{gb-=kW.length;return Cq.oBH(gb-1)}}this.sc.dGc(false,"iWo",gb,this);return null},jv:function(){var eE=0;if(this.JJ<=0){eE=1}else{eE=Math.ceil(this.rY.HX/this.JJ)}if(this.Em!=eE){this.Em=eE;if(this.onCurrentPagesChanged){try{this.onCurrentPagesChanged(this.Em)}catch(XW){this.sc.PqW(XW,this.onCurrentPagesChanged,"onCurrentPagesChanged")}}}return eE}};ls.tD(ls.DynaMetapushTable,ls.VisualTable);ls.tD(ls.DynaMetapushTable,ls.nm,"O");ls.tD(ls.DynaMetapushTable,ls.Ao,"O")})(Lightstreamer);(function(ls){Lightstreamer.MultiDynaMetapushTable=function(FK,eH,gT,Sl){this.eV(ls.MultiDynaMetapushTable,FK,eH,gT);this.vg=null;this.iF={};this.AV=false;this.DG=null;this.il=ls.asO;this.ZC(Sl);this.sc.log(this.getClassName(),arguments)};Lightstreamer.MultiDynaMetapushTable.prototype={toString:function(){return["[",this.getClassName(),this.Yp,this.wW,this.eY,this.kR,this.xJ,"]"].join("|")},getClassName:function(){return"MultiDynaMetapushTable"},getUnderlyingSchema:function(){return this.DG},setUnderDataAdapter:function(qi){this.sc.log("setUnderDataAdapter",arguments);this.vg=qi},ZVI:function(){this.ao(ls.MultiDynaMetapushTable,"ZVI");this.sc.log("ZVI");if(this.AV){this.DG=null}},TK:function(){this.ao(ls.MultiDynaMetapushTable,"TK");this.wr()}};ls.tD(ls.MultiDynaMetapushTable,ls.DynaMetapushTable);ls.tD(ls.MultiDynaMetapushTable,ls.hZ,"O")})(Lightstreamer);(function(ls){ls.ja=function(){};ls.ja.prototype={NBI:function(Fu,uG,Hk){var kw=new Number(Fu);var ZM=(kw-uG)/Hk;return Math.round(ZM)},rXI:function(Fu,uG,Hk){return(Fu*Hk)+uG},TR:function(){for(var vS=0;vS<this.OD.length;vS++){if(this.OD[vS]&&ls.pv.Ld(this.OD[vS])){this.OD[vS].parentNode.removeChild(this.OD[vS])}}this.OD=[]}}})(Lightstreamer);(function(ls){Lightstreamer.ChartTable=function(FK,eH,gT){this.eV(ls.ChartTable,FK,eH,gT);this.gk();this.QC();this.ap=null;this.mX=document.createElement("div");this.mX.style.position="relative";this.mX.style.overflow="visible";this.offsetY=0;this.offsetX=0;this.screenX=null;this.screenY=null;this.Pg={};this.OD=[];this.xs=new ls.LabelFormatter();this.er=false;this.Xx=0;this.fU=null;this.vR=null;this.vU=null;this.AB=null;this.il=ls.gas;this.sc.log(this.getClassName(),arguments)};Lightstreamer.ChartTable.prototype={toString:function(){return["[",this.getClassName(),this.Yp,this.wW,this.eY,this.kR,this.xJ,"]"].join("|")},getClassName:function(){return"ChartTable"},Spr:function(){return ls.MD.Spr(this.wW,this.il)},hJA:function(wW){this.sc.log("hJA",1,this);var wW=this.wW;var fa;fa=ls.pv.rF(document,["div","span"]);var hM=0;for(hM=0;hM<fa.length;hM++){var It=fa[hM].rf.getAttribute("table");if(!It||It!=wW){continue}this.Mm(fa[hM].rf);return true}this.RV();return false},Fb:function(){this.ao(ls.ChartTable,"Fb");this.TR();for(var fA in this.Pg){this.Pg[fA].TR();delete (this.Pg[fA])}if(this.ap&&ls.pv.Ld(this.ap)){this.ap.parentNode.removeChild(this.ap)}delete (this.ap);this.Mm(this.mX.parentNode,true)},setAreaClass:function(bJ){if(!this.ap){this.bJ=bJ}else{this.ap.className=bJ}this.sc.log("setAreaClass",bJ)},setAreaTop:function(top){this.offsetY=this.JnG(top,"setAreaTop",this.offsetY,false,0);if(this.ap){this.ap.style.top=this.offsetY}},setAreaLeft:function(left){this.offsetX=this.JnG(left,"setAreaLeft",this.offsetX,false,0);if(this.ap){this.ap.style.left=this.offsetX}},setAreaWidth:function(width){this.screenX=this.JnG(width,"setAreaWidth",this.screenX,false,0);
if(this.ap){this.ap.style.width=this.screenX;if(this.vU!=null){this.sS();this.Fn();for(var kU in this.Pg){if(!this.Pg[kU]){continue}else{if(this.Pg[kU].Pv.length>0){this.Pg[kU].Dd()}}}}}},setAreaHeight:function(height){this.screenY=this.JnG(height,"setAreaHeight",this.screenY,false,0);if(this.ap){this.ap.style.height=this.screenY;for(var kU in this.Pg){if(!this.Pg[kU]){continue}else{if(this.Pg[kU].Fw!=null){this.Pg[kU].HK();this.Pg[kU].IV();if(this.Pg[kU].Pv.length>0){this.Pg[kU].Dd()}}}}}},wi:function(){this.ap=document.createElement("div");this.ap.style.position="absolute";this.ap.style.overflow="hidden";this.mX.appendChild(this.ap);if(this.bJ){this.ap.className=this.bJ}this.ap.style.top=this.offsetY+"px";this.ap.style.left=this.offsetX+"px";if(this.screenX!==null){this.ap.style.width=this.screenX+"px"}if(this.scrrenY!==null){this.ap.style.height=this.screenY+"px"}},Mm:function(EE,AM){if(this.ap){return}if(EE&&EE.appendChild){this.wi();if(this.mX.parentNode!=EE){EE.appendChild(this.mX)}if(this.screenX==null){this.screenX=EE.offsetWidth}if(this.screenY==null){this.screenY=EE.offsetHeight}if(this.vU!=null){this.sS();this.Fn()}for(var kU in this.Pg){if(!this.Pg[kU]){continue}else{if(this.Pg[kU].Fw!=null){this.Pg[kU].HK();this.Pg[kU].IV()}}}this.sc.log("Mm",EE)}else{if(!AM){this.RV()}}},RV:function(){this.sc.error("A DOM element must be provided as an anchor for the chart","addTable")},SLK:function(){if(this.ap){return this.ap.cloneNode(true)}else{this.sc.error("Sorry, nothing to photograph","SLK")}},removeLine:function(id){if(this.Pg[id]){this.Pg[id].YB();this.Pg[id].TR();this.Pg[id]=null}else{this.sc.error("No line to remove with id "+id,"removeLine")}},pEv:function(co,tO,nh,Wg){this.sc.log("pEv",arguments);var Ij=document.createElement("div");if(co!=null){Ij.className=co}Ij.style.position="absolute";var rN=document.createTextNode(tO);Ij.appendChild(rN);this.mX.appendChild(Ij);var Xt=Ij.offsetWidth;if(Wg.toUpperCase()=="X"){Ij.style.top=(this.screenY+5+this.offsetY)+"px";Ij.style.left=(nh-(Ij.offsetWidth/2)+this.offsetX)+"px"}else{if(Wg.toUpperCase()=="Y"){Ij.style.left=(this.offsetX-Xt)+"px";Ij.style.top=((this.screenY-nh)-(Ij.offsetHeight/2)+this.offsetY)+"px"}}return Ij},addLine:function(ql,id){this.sc.log("addLine",ql);ql.WaY(this);if(this.Pg[id]!=null){this.sc.error("A line with this id already exists. Overwriting","addLine")}ql.Fch(id);ql.Rm=this.sF.ncf(ql.ht);ql.rb=this.Tj.DWD(ql.pO);if(!ql.Fw||!ql.Hx||!ql.rb){this.sc.dSW("Cannot create line. Please declare the Y axis","addLine");return}if(this.screenY!=null&&this.ap){ql.HK();ql.IV()}this.Pg[id]=ql},ea:function(wb,Pu,Vn){this.sc.log("ea",arguments);var lx=this.Pg[Vn];var FF=this.xdA(wb);var Si=lx.bdf(Pu);if(lx.mk==null){lx.mk=FF;lx.cp=Si;return}this.sc.log("ea",0,lx.mk,lx.cp,FF,Si);var IN=FF-lx.mk;var Rf=Si-lx.cp;this.sc.log("ea",1,"X",IN,"Y",Rf);var Lk=Math.abs(IN);var sZ=Math.abs(Rf);var or=null;var EN=0;var ah=0;var Kn=0;if(Lk>=sZ){Kn=Rf/IN;EN=IN;ah=IN>=0?1:-1}else{Kn=IN/Rf;EN=Rf;ah=Rf>=0?1:-1}var gj=0;var QR=0;var Do=null;var Vb=null;var ia=true;var at=true;if(Lk<sZ){at=false}for(var gb=0;gb!=EN;gb+=ah){var nb=0;var qG=0;var mb=0;var qx=0;var lI=false;this.sc.log("ea",2);if((gb+ah)==EN){this.sc.log("ea",6);lI=true;ia=true}or=document.createElement("div");if(lI){or.className=lx.is}else{or.className=lx.xM}or.style.position="absolute";or.style.fontSize="0px";this.ap.appendChild(or);lx.fr[lx.fr.length]=or;if(ia){ia=false;Do=Math.ceil(or.offsetWidth/2);Vb=Math.ceil(or.offsetHeight/2);gj=or.offsetWidth;QR=or.offsetHeight;this.sc.log("ea",3,gj,QR)}mb=gj;qx=QR;if(at){nb=Math.round(gb+lx.mk);qG=Math.round(this.screenY-(Kn*gb+lx.cp));if(!lI){var nk=0;while(((gb+ah)!=(EN-ah))&&(qG==Math.round(this.screenY-(Kn*(gb+ah)+lx.cp)))){gb+=ah;nk++}this.sc.log("ea",4,nk);var QT=Do*nk;mb=gj+QT;if(ah<0){nb-=QT}}}else{nb=Math.round(Kn*gb+lx.mk);qG=Math.round(this.screenY-(gb+lx.cp));if(!lI){var nk=0;while(((gb+ah)!=(EN-ah))&&(nb==Math.round(Kn*(gb+ah)+lx.mk))){gb+=ah;nk++}this.sc.log("ea",5,nk);
var QT=Vb*nk;qx=QR+QT;if(ah>0){qG-=QT}}}nb-=Math.floor(Do/2);qG-=Math.floor(Vb/2);or.style.left=nb+"px";or.style.top=qG+"px";or.style.width=mb+"px";or.style.height=qx+"px";this.sc.log("ea",7,or.style.left,or.style.top,or.style.width,or.style.height);this.sc.log("ea",8,or.offsetLeft,or.offsetTop,or.offsetWidth,or.offsetHeight)}this.sc.log("ea",10);lx.mk=FF;lx.cp=Si},setXAxis:function(field,KF){this.sc.log("setXAxis",arguments);this.fU=this.Tj.DWD(field);if(KF){this.er=true}else{this.er=false}},positionXAxis:function(min,max){this.sc.log("positionXAxis",arguments);this.vU=this.JnG(max,"positionXAxis",this.vU);this.vR=this.JnG(min,"positionXAxis",this.vR);if(this.ap){if(this.screenX!=null){this.sS();this.Fn()}for(var kU in this.Pg){if(!this.Pg[kU]){continue}else{if(this.Pg[kU].Pv.length>0){this.Pg[kU].Dd()}}}}this.sc.log("positionXAxis",2)},sS:function(){this.AB=(this.vU-this.vR)/this.screenX;this.sc.log("sS",this.AB)},setXLabels:function(Ap,VQ,xs){this.Xx=Ap;this.VK=VQ;if(xs!=null){this.xs=xs}if(this.AB!=null&&this.ap){this.Fn()}this.sc.log("setXLabels",arguments)},Fn:function(){this.TR();var PH="";var nh=-1;if(this.Xx<=0){return}if(this.Xx>0){PH=this.xs.formatValue(this.vR);nh=this.xdA(this.vR);this.OD[this.OD.length]=this.pEv(this.VK,PH,nh,"X")}if(this.Xx>1){PH=this.xs.formatValue(this.vU);nh=this.xdA(this.vU);this.OD[this.OD.length]=this.pEv(this.VK,PH,nh,"X")}if(this.Xx>2){var Qn=this.Xx-1;var pM=(this.vU-this.vR)/Qn;var tl=this.vR;for(var tH=1;tH<Qn;tH++){tl+=pM;PH=this.xs.formatValue(tl);nh=this.xdA(tl);this.OD[this.OD.length]=this.pEv(this.VK,PH,nh,"X")}}this.sc.log("Fn",arguments)},onXOverflow:function(mk,ue,Ps){this.sc.log("onXOverflow",arguments);if(mk>Ps){var jN=(Ps+ue)/2;var eA=Ps-ue;this.positionXAxis(jN,jN+eA)}else{}},xdA:function(Fu){return this.NBI(Fu,this.vR,this.AB)},kC:function(nv,OK,xa){var Zn=nv;for(var kU in this.Pg){if(!this.Pg[kU]){continue}else{if(nv==this.Pg[kU].Rm){var kA=null;var Fu=this.KE.FS(nv,this.fU);kA=ls.UQU(Fu,this.er);if(kA<this.vR){continue}if(kA>this.vU){if(this.onXOverflow){try{this.onXOverflow(kA,this.vR,this.vU)}catch(XW){this.sc.PqW(XW,this.onXOverflow,"onXOverflow")}}if(!this.wic()){return}}var mB=null;var Fu=this.KE.FS(nv,this.Pg[kU].rb);mB=ls.UQU(Fu,this.RC);if(mB>this.Pg[kU].Fw||mB<this.Pg[kU].Hx){if(this.Pg[kU].onYOverflow){try{this.Pg[kU].onYOverflow(mB,this.Pg[kU].Hx,this.Pg[kU].Fw)}catch(XW){this.sc.PqW(XW,this.Pg[kU].onYOverflow,"onYOverflow")}}if(!this.wic()){return}}var BF=this.Pg[kU].Pv.length;this.Pg[kU].Pv[BF]=kA;BF=this.Pg[kU].Hm.length;this.Pg[kU].Hm[BF]=mB;this.ea(kA,mB,kU)}}}}};ls.tD(ls.ChartTable,ls.VisualTable);ls.tD(ls.ChartTable,ls.ja,"O")})(Lightstreamer);(function(ls){Lightstreamer.ChartLine=function(){this.kW=null;this.ht=null;this.Rm=null;this.wW=null;this.is="";this.xM="";this.RC=false;this.Nq=null;this.rb=null;this.Hx=null;this.Fw=null;this.VP=null;this.As=0;this.xs=new ls.LabelFormatter();this.fr=[];this.Pv=[];this.Hm=[];this.OD=[];this.mk=null;this.cp=null;this.sc=ls.KN.getLogger("TL");this.sc.log("ChartLine",arguments)};Lightstreamer.ChartLine.prototype={JnG:ls.BO,YB:function(){this.sc.log("YB",this.wW);if(this.fr[0]&&ls.pv.Ld(this.fr[0])){for(var wF=0;wF<this.fr.length;wF++){this.fr[wF].parentNode.removeChild(this.fr[wF])}}this.fr=[];this.Hm=[];this.Pv=[];this.mk=null;this.cp=null},Dd:function(){this.sc.log("Dd",1);var xr=this.Pv;var NZ=this.Hm;this.YB();var Lv=false;var EO,no;while(xr.length>0){if((xr.length>1&&xr[1]>=this.kW.vR)||xr[0]>=this.kW.vR){this.kW.ea(xr[0],NZ[0],this.wW);this.Pv[this.Pv.length]=xr[0];this.Hm[this.Hm.length]=NZ[0]}xr.shift();NZ.shift()}this.sc.log("Dd",2)},WaY:function(kW){this.kW=kW;this.sc.log("WaY",kW)},Fch:function(wW){this.wW=wW;this.sc.log("Fch",wW)},setPointClass:function(TE){this.is=TE;this.sc.log("setPointClass",TE)},setLineClass:function(uh){this.xM=uh;this.sc.log("setLineClass",uh)},setYAxis:function(item,field,KF){this.sc.log("setYAxis",arguments);this.ht=item;this.pO=field;if(KF){this.RC=true}else{this.RC=false}},positionYAxis:function(min,max){this.sc.log("positionYAxis",arguments);
this.Fw=this.JnG(max,"positionYAxis",this.Fw);this.Hx=this.JnG(min,"positionYAxis",this.Hx);if(this.kW&&this.kW.screenY!=null&&this.kW.ap&&this.kW.ap.parentNode){this.HK();this.IV();if(this.Pv.length>0){this.Dd()}}this.sc.log("positionYAxis",2)},HK:function(){this.VP=(this.Fw-this.Hx)/this.kW.screenY;this.sc.log("HK",this.VP)},setYLabels:function(Ap,VQ,xs){this.As=Ap;this.XP=VQ;if(xs!=null){this.xs=xs}if(this.VP!=null&&this.kW&&this.kW.ap&&this.kW.ap.parentNode){this.IV()}this.sc.log("setYLabels",arguments)},IV:function(){this.TR();var PH="";var nh=-1;if(this.As<=0){return}if(this.As>0){PH=this.xs.formatValue(this.Hx);nh=this.bdf(this.Hx);this.OD[this.OD.length]=this.kW.pEv(this.XP,PH,nh,"Y")}if(this.As>1){PH=this.xs.formatValue(this.Fw);nh=this.bdf(this.Fw);this.OD[this.OD.length]=this.kW.pEv(this.XP,PH,nh,"Y")}if(this.As>2){var Qn=this.As-1;var pM=(this.Fw-this.Hx)/Qn;var tl=this.Hx;for(var tH=1;tH<Qn;tH++){tl+=pM;PH=this.xs.formatValue(tl);nh=this.bdf(tl);this.OD[this.OD.length]=this.kW.pEv(this.XP,PH,nh,"Y")}}this.sc.log("IV",arguments)},onYOverflow:function(cp,LD,sL){this.sc.log("onYOverflow",arguments);var sE=(sL-LD)/2;if(cp>sL){var tC=sL+sE;if(cp>tC){tC=cp}this.positionYAxis(LD,tC)}else{if(cp<LD){var JR=LD-sE;if(cp<JR){JR=cp}this.positionYAxis(JR,sL)}}},bdf:function(Fu){return this.NBI(Fu,this.Hx,this.VP)}};ls.tD(ls.ChartLine,ls.ja,"O")})(Lightstreamer);Lightstreamer.LabelFormatter=function(){};Lightstreamer.LabelFormatter.prototype={formatValue:function(kw){return kw}};(function(ls){ls.Vp=null;ls.MD=new ls.pF();ls.Db=new ls.kS();ls.KD=new ls.Jn(ls.Db,new ls.Zs(),ls.fJ,false);ls.nR=new ls.kP();ls.ol=new ls.hA(ls.Db);var VN=[function(){if(ls.Vp){ls.Vp.kB()}},function(){if(ls.FlashBridge){ls.FlashBridge.qM()}}];ls.Ii=new ls.Ar(VN);ls.KN.hSe();ls.Oa("beforeunload",function(){if(ls.Vp){ls.Vp.Eap()}});ls.Oa("unload",function(){ls.MD.fQ();ls.Db.sRP();ls.LC=true});ls.YM=new ls.Lb();ls.Ce=new ls.eB();ls.mK=new ls.Sa();if(ls.gc){ls.Xa=new ls.gc(20)}ls.Mp();if(window.Lightstreamer===ls){if(!ls.avoidLSGlobals){ls.nW()}}else{window.Lightstreamer=ls;ls.avoidLSGlobals=true}ls.Lq=new ls.RowInfo();ls.Mu=new ls.UpdateItemInfo();ls.kk=new ls.VisualUpdateInfo();ls.tA.log("pushpage","pushpage parsed")})(Lightstreamer);return Lightstreamer})})(window.define||function(a,b){b(window.Lightstreamer)});(function(a){if(window.QuoteStream!==a){throw"Warning: window.QuoteStream object already defined."}window.QuoteStream=function(){var b=function(){var d=function(e,c){return typeof e==="undefined"?c:e};return{_chartLines:{},_pushChart:{},_onClientAlertFunction:null,page:null,engine:null,version:"2.2.0",delay:1200,onClientAlert:function(e,c){if(typeof window.QuoteStream._onClientAlertFunction==="function"){window.QuoteStream._onClientAlertFunction(e,c)}else{switch(e){case 100:console.log("Antivirussoftware oder eine Firewall verhindern eine Verbindung zum Pushserver.\r\nA\r\nntivirus software or a firewall are blocking your connection to the pushserver.");break;case 120:console.log("Es sind zu viele Browserfenster/Browsertabs mit einer Verbindung zum Pushserver ge\u00f6ffnet. Bitte schlie\u00dfen Sie min. eines dieser Fenster.\r\n\r\nToo many browser windows/tabs are connected to the pushserver. Please consider to close some of them.");break}}},setOnClientAlertFunction:function(c){if(c===null||typeof c==="function"){window.QuoteStream._onClientAlertFunction=c}},log:{_logLiveOutput:false,_logFormatTime:function(e){var c=new Date(e);e=c.getHours();var f=c.getMinutes();c=c.getSeconds();if(e<10){e="0"+e}if(f<10){f="0"+f}if(c<10){c="0"+c}return e+":"+f+":"+c},_logHistoryMaxSize:100,_logHistory:[],_logStart:(new Date).getTime(),append:function(e){var c=(new Date).getTime(),f=window.QuoteStream.log;f._logHistory.push([c-f._logStart,e])>f._logHistoryMaxSize&&f._logHistory.shift();!f._logLiveOutput||!window.console||!window.console.log||window.console.log("["+f._logFormatTime(c)+"] "+e)},show:function(){if(window.console&&window.console.log){var e=window.QuoteStream.log,c;
window.console.log("QuoteStream.log.show(): Version: "+window.QuoteStream.version+"; "+e._logHistory.length+" log entries; log started at "+e._logFormatTime(e._logStart));for(var f=0;f<e._logHistory.length;f++){c=e._logHistory[f];window.console.log("["+e._logFormatTime(e._logStart+c[0])+"] "+c[1])}e._logLiveOutput=true}}},pageSetting:function(e){window.QuoteStream.log.append("START pageSetting()");this.domain=e.domain;this.host=e.host;this.port=d(e.port,null);this.enginePath=d(e.enginePath,"/js/quotestream/"+window.QuoteStream.version+"/");this.adapterName=d(e.adapterName,"SmarthouseFeed");this.startMode=d(e.startMode,"STREAMING");this.heuristicSlowing=d(e.heuristicSlowing,true);this.pollingInterval=d(e.pollingInterval,1000);this.idleTimeout=d(e.idleTimeout,30000);window.QuoteStream.setOnClientAlertFunction(e.onClientAlert);this.onClientAlert=window.QuoteStream.onClientAlert;this.onServerDeny=d(e.onServerDeny,null);this.onServerError=d(e.onServerError,null);var c=e.engineName,f=""+e.host.toLowerCase().replace(/[^a-zA-Z0-9]/g,"");if(f==""){f="QSEngine"+window.QuoteStream.version.replace(/[^a-zA-Z0-9]/g,"")}this.engineName=d(c,f);this.debugAlerts=d(e.debugAlerts,location.href.indexOf(".int/")>-1);this.remoteAlerts=d(e.remoteAlerts,!this.debugAlerts);this.checkEngineTimeout=d(e.checkEngineTimeout,5000);window.QuoteStream.log.append("END pageSetting()")},pageInit:function(t){window.QuoteStream.log.append("START pageInit()");var s=window.QuoteStream.page=new Lightstreamer.PushPage;s.onClientAlert=t.onClientAlert;s.onServerDeny=t.onServerDeny;s.context.setDebugAlertsOnClientError(t.debugAlerts);s.context.setRemoteAlertsOnClientError(t.remoteAlerts);s.context.setDomain(t.domain);s.onEngineCreation=function(e){window.QuoteStream.log.append("START page.onEngineCreation()");e.context.setDebugAlertsOnClientError(t.debugAlerts);e.context.setRemoteAlertsOnClientError(t.remoteAlerts);e.policy.setSlowingEnabled(t.heuristicSlowing);e.policy.setIdleTimeout(t.idleTimeout);e.policy.setPollingInterval(t.pollingInterval);e.connection.setLSHost(t.host);e.connection.setLSPort(t.port);e.connection.setAdapterName(t.adapterName);e.onStatusChange=function(h){window.defaultStatus="Smarthouse QuoteStream: "+h};e.onClientAlert=t.onClientAlert;e.onServerError=t.onServerError;window.QuoteStream.log.append("END page.onEngineCreation()")};s.onEngineReady=function(e){window.QuoteStream.log.append("START page.onEngineReady()");window.QuoteStream.engine=e;window.QuoteStream.page&&window.QuoteStream.page.isMasterPushPage()&&window.QuoteStream.log.append("| Master: true");window.QuoteStream.setMode(t.startMode);window.QuoteStream.log.append("END page.onEngineReady()")};s.onEngineLost=function(){window.QuoteStream.log.append("START page.onEngineLost()");window.QuoteStream.engine=null;window.QuoteStream.log.append("END page.onEngineLost()")};window.QuoteStream.log.append("| page.bind()");s.bind();var r=false;if(window.QuoteStream.delay>0){window.QuoteStream.log.append("| page.createEngine() QuoteStream.delay = "+window.QuoteStream.delay);for(var q=window.QuoteStream.delay,n=RegExp("LS4_\\d{1,3}_"+t.engineName+"=(\\d+);?","g"),c=(new Date).getTime(),p,k=document.cookie.toString();!r&&(p=n.exec(k));){r=c-p[1]<q}}else{window.QuoteStream.log.append("| page.createEngine() QuoteStream.delay = 0")}if(r){window.QuoteStream.log.append("| page.createEngine() [DODELAY -> create setTimeout] | engineName: "+t.engineName+" | enginePath: "+t.enginePath);var g=t.engineName,f=t.enginePath;setTimeout(function(){window.QuoteStream.log.append("| page.createEngine() [DODELAY -> trigger setTimeout] | engineName: "+g+" | enginePath: "+f);window.QuoteStream.page.createEngine(g,f,"SHARE_SESSION")},q)}else{window.QuoteStream.log.append("| page.createEngine() [NODELAY] | engineName: "+t.engineName+" | enginePath: "+t.enginePath);s.createEngine(t.engineName,t.enginePath,"SHARE_SESSION")}window.QuoteStream.log.append("END pageInit()")},tableSetting:function(c){window.QuoteStream.log.append("START tableSetting()");
this.tableName=c.tableName;window.QuoteStream.log.append("| tableName: "+this.tableName);this.group=c.group;this.schema=c.schema;this.redColor=c.redColor;this.greenColor=c.greenColor;this.flashTime=c.flashTime;this.fadeTime=c.fadeTime;this.onItemUpdate=c.onItemUpdate;this.onChangingValues=c.onChangingValues;this.backC1=d(c.backC1,"transparent");this.backC2=d(c.backC2,"transparent");this.startSnapshot=d(c.startSnapshot,false);this.clearOnDisconnect=d(c.clearOnDisconnect,false);this.clearOnRemove=d(c.clearOnRemove,false);this.clearOnAdd=d(c.clearOnAdd,false);this.dataAdapter=d(c.dataAdapter,null);this.onLostUpdates=c.onLostUpdates;this.onStart=c.onStart;this.htmlEnabled=d(c.htmlEnabled,false);window.QuoteStream.log.append("END tableSetting()")},tableInit:function(e){window.QuoteStream.log.append("START tableInit()");var c=new Lightstreamer.OverwriteTable(e.group,e.schema,"MERGE");c.setSnapshotRequired(e.startSnapshot);c.setPushedHtmlEnabled(e.htmlEnabled);c.setRequestedMaxFrequency(1);c.setClearOnDisconnected(e.clearOnDisconnect);c.setClearOnRemove(e.clearOnRemove);c.setClearOnAdd(e.clearOnAdd);c.onItemUpdate=e.onItemUpdate;c.onChangingValues=e.onChangingValues;e.dataAdapter&&c.setDataAdapter(e.dataAdapter);if(typeof e.onLostUpdates==="function"){c.onStart=e.onLostUpdates}if(typeof e.onStart==="function"){c.onStart=e.onStart}window.QuoteStream.log.append('| page.addTable([pushTable], "'+e.tableName+'")');window.QuoteStream.page.addTable(c,e.tableName);window.QuoteStream.log.append("END tableInit()")},scrollTableSetting:function(c){window.QuoteStream.log.append("START scrollTableSetting()");this.tableName=c.tableName;window.QuoteStream.log.append("| tableName: "+this.tableName);this.group=c.group;this.schema=c.schema;this.maxRows=c.maxRows;this.flashColor=c.flashColor;this.flashTime=c.flashTime;this.fadeTime=c.fadeTime;this.onItemUpdate=c.onItemUpdate;this.onChangingValues=c.onChangingValues;this.upwardScroll=d(c.upwardScroll,false);this.backColor=d(c.backColor,"transparent");this.startSnapshot=d(c.startSnapshot,false);this.clearOnDisconnect=d(c.clearOnDisconnect,false);this.clearOnRemove=d(c.clearOnRemove,false);this.clearOnAdd=d(c.clearOnAdd,false);this.dataAdapter=d(c.dataAdapter,null);this.onStart=c.onStart;this.htmlEnabled=d(c.htmlEnabled,false);window.QuoteStream.log.append("END scrollTableSetting()")},scrollTableInit:function(e){window.QuoteStream.log.append("START scrollTableInit()");var c=new Lightstreamer.DynaScrollTable(e.group,e.schema,"MERGE");c.setSnapshotRequired(e.startSnapshot);c.setPushedHtmlEnabled(e.htmlEnabled);c.setClearOnDisconnected(e.clearOnDisconnect);c.setClearOnRemove(e.clearOnRemove);c.setClearOnAdd(e.clearOnAdd);c.setMaxDynaRows(e.maxRows);c.setUpwardScroll(e.upwardScroll);c.onItemUpdate=e.onItemUpdate;c.onChangingValues=e.onChangingValues;e.dataAdapter&&c.setDataAdapter(e.dataAdapter);if(typeof e.onStart==="function"){c.onStart=e.onStart}window.QuoteStream.log.append('| page.addTable([pushScrollTable], "'+e.tableName+'")');window.QuoteStream.page.addTable(c,e.tableName);window.QuoteStream.log.append("END scrollTableInit()")},nonVisualTableSetting:function(c){window.QuoteStream.log.append("START nonVisualTableSetting()");this.tableName=c.tableName;window.QuoteStream.log.append("| tableName: "+this.tableName);this.group=c.group;this.schema=c.schema;this.onItemUpdate=c.onItemUpdate;this.startSnapshot=d(c.startSnapshot,false);this.clearOnDisconnect=d(c.clearOnDisconnect,false);this.clearOnRemove=d(c.clearOnRemove,false);this.clearOnAdd=d(c.clearOnAdd,false);this.dataAdapter=d(c.dataAdapter,null);this.onLostUpdates=c.onLostUpdates;this.onStart=c.onStart;window.QuoteStream.log.append("END nonVisualTableSetting()")},nonVisualTableInit:function(e){window.QuoteStream.log.append("START nonVisualTableInit()");var c=new NonVisualTable(e.group,e.schema,"MERGE");c.setSnapshotRequired(e.startSnapshot);c.setRequestedMaxFrequency(1);c.onItemUpdate=e.onItemUpdate;e.dataAdapter&&c.setDataAdapter(e.dataAdapter);if(typeof e.onLostUpdates==="function"){c.onStart=e.onLostUpdates
}if(typeof e.onStart==="function"){c.onStart=e.onStart}window.QuoteStream.log.append('| page.addTable([nonVisualTable], "'+e.tableName+'")');window.QuoteStream.page.addTable(c,e.tableName);window.QuoteStream.log.append("END nonVisualTableInit()")},chartSetting:function(c){window.QuoteStream.log.append("START chartSetting()");this.group=c.group;this.schema=c.schema;this.areaClass=d(c.areaClass,"chartstyle");this.areaWidth=c.areaWidth;this.areaHeight=c.areaHeight;this.areaLeft=c.areaLeft;this.startSnapshot=d(c.startSnapshot,false);this.clearOnDisconnect=d(c.clearOnDisconnect,false);this.clearOnRemove=d(c.clearOnRemove,false);this.clearOnAdd=d(c.clearOnAdd,false);this.dataAdapter=d(c.dataAdapter,null);this.onStart=c.onStart;this.xAxisField=d(c.xAxisField,"quotetime");this.xAxisLabelsNum=d(c.xAxisLabelsNum,5);this.xAxisLabelClass=d(c.xAxisLabelClass,"pushLabel");this.xAxisWidth=d(c.xAxisWidth,300);this.yAxisField=c.yAxisField;this.yAxisLabelsNum=d(c.yAxisLabelsNum,5);this.yAxisLabelClass=d(c.yAxisLabelClass,"pushLabel pushLabelY");this.yAxisMin=c.yAxisMin;this.yAxisMax=c.yAxisMax;this.yAxisDecimals=d(c.yAxisDecimals,2);this.pointClass=d(c.pointClass,"pushpo");this.lineClass=d(c.lineClass,"pushpx");window.QuoteStream.log.append("END chartSetting()")},chartInit:function(e){window.QuoteStream.log.append("START chartInit()");var c=window.QuoteStream._pushChart,f={};c=new ChartTable(e.group,e.schema,"MERGE");c.xAxisWidth=e.xAxisWidth;c.yAxisMin=e.yAxisMin;c.yAxisMax=e.yAxisMax;c.yAxisLabelsNum=e.yAxisLabelsNum;c.yAxisLabelClass=e.yAxisLabelClass;c.yAxisDecimals=e.yAxisDecimals;c.pointClass=e.pointClass;c.lineClass=e.lineClass;c.setSnapshotRequired(e.startSnapshot);c.setRequestedMaxFrequency(1);c.setAreaClass(e.areaClass);c.setAreaWidth(e.areaWidth);c.setAreaHeight(e.areaHeight);c.setAreaLeft(e.areaLeft);c.onItemUpdate=function(k,g,l){if(g!=null){var j=pushGetSeconds(g.getNewValue(c.xAxisField));g.addField("pushChartXaxisField",j,true);if(g.getOldValue(c.xAxisField)==null){if(!f[k]){c.positionXAxis(j,j+c.xAxisWidth);j=new ChartLine;j.setPointClass(c.pointClass+k);j.setLineClass(c.lineClass+k);j.onYOverflow=function(p,i,h){var r=(h-i)/2,o,t;if(p>h){o=h+r;if(p>o){o=p}t=i}else{if(p<i){t=i-r;if(p<t){t=p}o=h}}for(var s in f){f[s].positionYAxis(t,o)}};j.setYAxis(k,c.yAxisField,false);if(typeof c.yAxisMin!=="undefined"&&typeof c.yAxisMax!=="undefined"){j.positionYAxis(c.yAxisMin,c.yAxisMax)}else{g=g.getNewValue(c.yAxisField);j.positionYAxis(g*0.999,g*1.001)}j.setYLabels(c.yAxisLabelsNum,c.yAxisLabelClass,{formatValue:function(h){return pushFormatDecimal(h,c.yAxisDecimals,true)}});f[k]=j;c.addLine(f[k],"cl"+l)}}}};c.setClearOnRemove(e.clearOnRemove);c.setClearOnDisconnected(e.clearOnDisconnect);c.setClearOnAdd(e.clearOnAdd);c.setXAxis("pushChartXaxisField",false);c.setXLabels(e.xAxisLabelsNum,e.xAxisLabelClass,{formatValue:function(g){return pushGetTime(g)}});c.xAxisField=e.xAxisField;c.yAxisField=e.yAxisField;e.dataAdapter&&c.setDataAdapter(e.dataAdapter);if(typeof e.onStart==="function"){c.onStart=e.onStart}window.QuoteStream.log.append("| page.addTable([pushChart])");window.QuoteStream.page.addTable(c,"pushChart");window.QuoteStream.log.append("END chartInit()")},setMode:function(c){c=c.toUpperCase();if(window.QuoteStream.engine&&window.QuoteStream.engine.getStatus()!=c){switch(c){case"STREAMING":case"POLLING":case"DISCONNECTED":window.QuoteStream.engine.changeStatus(c);break}}},switchMode:function(){if(window.QuoteStream.engine){window.QuoteStream.engine.getStatus()!="DISCONNECTED"?window.QuoteStream.engine.changeStatus("DISCONNECTED"):window.QuoteStream.engine.changeStatus("STREAMING")}},getSeconds:function(e){e=String(e);var c=e.indexOf(":"),f=e.lastIndexOf(":");return e.substring(0,c)*3600+e.substring(c+1,f)*60+e.substring(f+1,e.length)},getTime:function(e){var c=Math.floor(e/3600);e=e-c*3600;var f=Math.floor(e/60);e=Math.round(e-f*60);f=f.toString().length<2?":0"+f:":"+f;e=e.toString().length<2?":0"+e:":"+e;return c+f+e},formatTime:function(e){var c=Number(e.substring(0,e.indexOf(":")));
e=e.substring(e.indexOf(":"),e.length);return c+e},formatDecimal:function(f,c,h){if(isNaN(f)){return""}var g=Math.pow(10,c);f=String(Math.round(f*g)/g);if(h){h=0;g=f.indexOf(".");if(g==-1){f+="."}else{h=f.length-g-1}for(h=h;h<c;h++){f+="0"}}return f}}}();window.pushPageSetting=b.pageSetting;window.pushPageInit=b.pageInit;window.pushTableSetting=b.tableSetting;window.pushTableInit=b.tableInit;window.pushScrollTableSetting=b.scrollTableSetting;window.pushScrollTableInit=b.scrollTableInit;window.pushNonVisualTableSetting=b.nonVisualTableSetting;window.pushNonVisualTableInit=b.nonVisualTableInit;window.pushChartSetting=b.chartSetting;window.pushChartInit=b.chartInit;window.pushSetMode=b.setMode;window.pushSwitchMode=b.switchMode;window.pushGetSeconds=b.getSeconds;window.pushGetTime=b.getTime;window.pushFormatTime=b.formatTime;window.pushFormatDecimal=b.formatDecimal;return b}()})();function pushHiddenTableSetting(a){this.tableName=a.tableName;this.group=a.group;this.schema=a.schema;this.onItemUpdate=a.onItemUpdate;this.startSnapshot=_pushDefinedOrDefault(a.startSnapshot,false);this.dataAdapter=_pushDefinedOrDefault(a.dataAdapter,null);this.onStart=a.onStart}function _pushDefinedOrDefault(a,b){return((typeof(a)==="undefined")?b:a)}function pushHiddenTableInit(hiddenTableSettings){var pushHiddenTable=new Lightstreamer.NonVisualTable(hiddenTableSettings.group,hiddenTableSettings.schema,"MERGE");pushHiddenTable.setSnapshotRequired(hiddenTableSettings.startSnapshot);if(hiddenTableSettings.dataAdapter){pushHiddenTable.setDataAdapter(hiddenTableSettings.dataAdapter)}pushHiddenTable.onItemUpdate=function(item,itemUpdate,itemName){eval(hiddenTableSettings.onItemUpdate+"(item, itemUpdate, itemName)")};if(typeof(hiddenTableSettings.onStart)==="function"){pushHiddenTable.onStart=hiddenTableSettings.onStart}window.QuoteStream.page.addTable(pushHiddenTable,hiddenTableSettings.tableName)};var oFormat;var oFormatAbs;var oFormatPer;function getUpdateQuotes(b){var a={bid:"",bidOld:"",bidIsValueChanged:"",ask:"",askOld:"",askIsValueChanged:"",quotetime:"",last:"",lastOld:"",lastIsValueChanged:"",reference:"",referenceOld:"",referenceIsValueChanged:"",product:""};if(typeof(b)!="undefined"){if(typeof(b.cWF)!="undefined"){if(typeof(b.cWF.ePs)!="undefined"){if(typeof(b.cWF.ePs.Xct)!="undefined"){$.each(b.cWF.ePs.Xct,function(c,d){switch(d){case"bid":a.bid=b.getNewValue(c+1);a.bidOld=b.getOldValue(c+1);a.bidIsValueChanged=b.isValueChanged(c+1);break;case"ask":a.ask=b.getNewValue(c+1);a.askOld=b.getOldValue(c+1);a.askIsValueChanged=b.isValueChanged(c+1);break;case"quotetime":a.quotetime=b.getNewValue(c+1);break;case"last":a.last=b.getNewValue(c+1);a.lastOld=b.getOldValue(c+1);a.lastIsValueChanged=b.isValueChanged(c+1);break;case"reference":a.reference=b.getNewValue(c+1);a.referenceOld=b.getOldValue(c+1);a.referenceIsValueChanged=b.isValueChanged(c+1);break}})}}}if(typeof(b.uR)!="undefined"){if(typeof(b.uR.getSchema())!="undefined"){if(typeof(b.uR.getSchema().Lt)!="undefined"){value=b.uR.getSchema().Lt;if(typeof(value.bid)!="undefined"){a.bid=b.getNewValue(value.bid);a.bidOld=b.getOldValue(value.bid);a.bidIsValueChanged=b.isValueChanged(value.bid)}if(typeof(value.ask)!="undefined"){a.ask=b.getNewValue(value.ask);a.askOld=b.getOldValue(value.ask);a.askIsValueChanged=b.isValueChanged(value.ask)}if(typeof(value.quotetime)!="undefined"){a.quotetime=b.getNewValue(value.quotetime)}if(typeof(value.last)!="undefined"){a.last=b.getNewValue(value.last);a.lastOld=b.getOldValue(value.last);a.lastIsValueChanged=b.isValueChanged(value.last)}if(typeof(value.reference)!="undefined"){a.reference=b.getNewValue(value.reference);a.referenceOld=b.getOldValue(value.reference);a.referenceIsValueChanged=b.isValueChanged(value.reference)}}}}}return a}function checkAndFormatLSValue(b,a){b=parseFloat(b);if(b>0){return b.toFixed(a).toString().replace(".",",")}else{return"-"}}var dtPushDetail;function checkAndFormatLSDate(a){var f=a.split(":");if(f.length==3&&typeof(dtPushDetail)=="object"){var d=dtPushDetail.getTime();if(dtPushDetail.getHours()>(f[0]*1)){d+=(24*60*60*1000)}var c=new Date();c.setTime(d);dtPushDetail=new Date(c.getFullYear(),c.getMonth(),c.getDate(),f[0],f[1],f[2])}var e=((dtPushDetail.getMonth()+1)<10?"0":"")+(dtPushDetail.getMonth()+1);var b=(dtPushDetail.getDate()<10?"0":"")+dtPushDetail.getDate();return b+"."+e+"."+dtPushDetail.getFullYear()+" "+a}function clLSProdukt(a,p,g,o){this.produkt=a;this.felder=p;this.LSFelder=g||null;this.LSTableName=o||"list";this.VortagMittelKurs=null;this.WertpapierproduktNr=null;this.formatBid=null;this.formatAsk=null;this.formatQuotetime=null;this.formatBuffer=null;this.formatDiscount=null;this.formatSidewaysyield=null;this.formatSidewaysyieldpa=null;this.formatMaximumyield=null;this.formatMaximumyieldpa=null;this.formatLeverage=null;this.formatAenderungProzent=null;this.formatAenderungAbsolut=null;this.formatTageshoch=null;this.formatTagestief=null;this.formatTageshochZeit=null;this.formatTagestiefZeit=null;var d=new Array();this.update=f;this.getLetzteZeit=l;this.getFormatAenderungGeld=m;this.getFormatAenderungProzent=e;this.getFormatAenderungAbsolut=n;function l(){var q;if(d.length==0){d=k()}d.each(function(s,r){if(r.attr("field")=="quotetime"){q=r.text().split(" ")[0]}});return q}function h(){var q;if(d.length==0){d=k()}d.each(function(s,r){if(r.attr("field")=="bid"||r.attr("field")=="last"){q=r.text().replace(".","").replace(",",".")}});return q}function m(){if(oFormat&&oFormat[this.produkt]){return oFormat[this.produkt]}else{return String(this.formatAenderungGeld)}}function e(){if(oFormatPer&&oFormatPer[this.produkt]){return oFormatPer[this.produkt]}else{return String(this.formatAenderungProzent)}}function n(){if(oFormatAbs&&oFormatAbs[this.produkt]){return oFormatAbs[this.produkt]}else{return String(this.formatAenderungAbsolut)}}var c=function(){var q;if(d.length==0){d=k()}d.each(function(s,r){if(r.attr("field")=="changeabs"){q=r.text()
}});if(q){if(q.trim()!="-"&&q.trim()!=""&&q.trim()!="&nbsp;"){return parseFloat(q.trim().replace(".","").replace(",","."))}else{return 0}}return 0};var i=function(){var q;if(d.length==0){d=k()}d.each(function(s,r){if(r.attr("field")=="changeper"){q=r.text()}});if(q){if(q.trim()!="-"&&q.trim()!=""&&q.trim()!="&nbsp;"){return parseFloat(q.trim().replace(".","").replace(",","."))}else{return 0}}return 0};function f(v,r,q,x,F){var D;var B=this;var y=getUpdateQuotes(v);y.product=F;if(d.length==0){d=k()}var t;var A;var w;for(var u=0;u<d.length;u++){var s;if(y.ask&&y.bid){s=(parseFloat(y.ask)+parseFloat(y.bid))/2}else{if(y.ask){s=y.ask}else{if(y.bid){s=y.bid}else{if(y.last){s=y.last}else{if(y.reference){s=y.reference}}}}}var z=$('div[id="old'+this.produkt+'"]').attr("lsmultiplier");if(typeof(z)=="string"&&z.length>0){s=s*parseFloat(z)}switch(d[u].attr("field")){case"dailyhigh":if(parseFloat(s)*10000000000>parseFloat(d[u].innerHTML.replace(",","."))*10000000000){d[u].text(strFormat(s,this.formatTageshoch))}else{if(this.getLetzteZeit()!=j()){d[u].text(strFormat(s,this.formatTageshoch))}}break;case"dailylow":if(parseFloat(s)*10000000000<parseFloat(d[u].innerHTML.replace(",","."))*10000000000){d[u].text(strFormat(s,this.formatTagestief))}else{if(this.getLetzteZeit()!=j()){d[u].text(strFormat(s,this.formatTagestief))}}break;case"changeabs":if(!this.VortagMittelKurs){if(!isNaN(parseFloat($('div[id="old'+this.produkt+'"]').attr("jsvalue")))){this.VortagMittelKurs=parseFloat($('div[id="old'+this.produkt+'"]').attr("jsvalue"))}else{if(!isNaN(parseFloat($('div[id="old'+this.produkt+'"]').text().replace(",",".")))){this.VortagMittelKurs=parseFloat($('div[id="old'+this.produkt+'"]').text().replace(",","."))}}}if(this.VortagMittelKurs){$('div[item="'+this.produkt+'"][field="changeabs"]').each(function(){if(typeof($(this).attr("lsformat"))=="string"&&$(this).attr("lsformat")!=""){$(this).text(strFormat(s-B.VortagMittelKurs,$(this).attr("lsformat")));if((s-B.VortagMittelKurs)>0){$(this).removeClass("negative").addClass("positive")}else{if((s-B.VortagMittelKurs)<0){$(this).removeClass("positive").addClass("negative")}else{$(this).removeClass()}}}else{$(this).text(strFormat(s-B.VortagMittelKurs,B.formatAenderungAbsolut));console.log(strFormat(s-B.VortagMittelKurs,B.formatAenderungAbsolut))}})}break;case"changeper":var E=y.product==this.produkt;if(!this.VortagMittelKurs){if(!isNaN(parseFloat($('div[id="old'+this.produkt+'"]').attr("jsvalue")))){this.VortagMittelKurs=parseFloat($('div[id="old'+this.produkt+'"]').attr("jsvalue"))}else{if(!isNaN(parseFloat($('div[id="old'+this.produkt+'"]').text().replace(",",".")))){this.VortagMittelKurs=parseFloat($('div[id="old'+this.produkt+'"]').text().replace(",","."))}}}if(this.VortagMittelKurs&&E){changeper=((s-this.VortagMittelKurs)*100/this.VortagMittelKurs);$('div[item="'+this.produkt+'"][field="changeper"]').each(function(){if(typeof($(this).attr("lsformat"))=="string"&&$(this).attr("lsformat")!=""){$(this).text(strFormat(changeper,$(this).attr("lsformat")));if(changeper>0){$(this).removeClass("negative").addClass("positive")}else{if(changeper<0){$(this).removeClass("positive").addClass("negative")}else{$(this).removeClass()}}}else{$(this).text(strFormat(changeper,B.formatAenderungProzent))}})}break;case"changettl":if(!this.ProduktZuWatchlistAufnahmeMittelKurs){this.ProduktZuWatchlistAufnahmeMittelKurs=document.getElementsByName("start"+this.produkt)[0].value}if(this.ProduktZuWatchlistAufnahmeMittelKurs){changettl=((s-this.ProduktZuWatchlistAufnahmeMittelKurs)*100/this.ProduktZuWatchlistAufnahmeMittelKurs);d[u].text(strFormat(changettl,this.getFormatAenderungProzent()))}break;case"buffer":if(typeof(this.buffer)=="function"){d[u].text(strFormat(this.buffer(),this.formatBuffer))}break;case"discount":if(typeof(this.discount)=="function"){d[u].text(strFormat(this.discount(y.ask),this.formatDiscount))}break;case"sidewaysyield":if(typeof(this.sidewaysyield)=="function"){var C=this.sidewaysyield(y.ask);d[u].text(strFormat(this.sidewaysyield(y.ask),this.formatSidewaysyield))
}break;case"maximumyield":if(typeof(this.maximumyield)=="function"){d[u].text(checkAndFormatLSValue(this.maximumyield(y.ask),2)+"%")}break;case"maximumyieldpa":if(typeof(this.maximumyieldpa)=="function"){d[u].text(checkAndFormatLSValue(this.maximumyieldpa(y.ask),2)+"%")}break;case"sidewaysyieldpa":if(typeof(this.sidewaysyieldpa)=="function"){var C=this.sidewaysyieldpa();d[u].text(C>0?checkAndFormatLSValue(C,2)+"%":checkAndFormatLSValue(1e-7,2)+"%")}break;case"leverage":if(typeof(this.leverage)=="function"){var C=this.leverage(y.ask);d[u].text(isNaN(C)?d[u].innerHTML:strFormat(C,this.formatLeverage))}break;case"dailyhighindication":if(parseFloat(s)*10000000000>parseFloat((d[u].innerHTML.replace(".","")).replace(",","."))*10000000000){A=true;d[u].text(strFormat(s,this.formatTageshoch))}break;case"dailylowindication":if(parseFloat(s)*10000000000<parseFloat((d[u].innerHTML.replace(".","")).replace(",","."))*10000000000){w=true;d[u].text(strFormat(s,this.formatTagestief))}break;case"dailyhightime":if(A){d[u].text(strFormat(b(),this.formatTageshochZeit));A=false}break;case"dailylowtime":if(w){d[u].text(strFormat(b(),this.formatTagestiefZeit));w=false}break}}}var k=function(){var q=new Array();$("div[source=lightstreamer][table="+o+"][item="+a+"][field]").each(function(){q.push($(this))});return $(q)};var j=function(){var r=new Date();var s=((r.getMonth()+1)<10?"0":"")+(r.getMonth()+1);var q=(r.getDate()<10?"0":"")+r.getDate();return q+"."+s+"."+r.getFullYear()};var b=function(){var q=new Date();return q.getHours()+":"+q.getMinutes()+":"+q.getSeconds()}}var arrMonth;var arrMonthShort;var strDay;var strMonth;var strYear;function blnIsEmpty(b){var a;if(b==null){blnIsEmtpy_val=true}else{if(b==""&&isNaN(parseFloat(b))){a=true}else{a=false}}return a}function strFormat(z,q){var x;var B;var h;var t;var j;var s;var n;var o;var m;var D;var g;var y;var e;var u;var w;var r;var a;var p;var d;var c;var C;var f;var A;var k;if(!blnIsEmpty(z)){z=z+"";if(!blnIsEmpty(q)){if(q.indexOf("dynamic")!=-1){strCondition=q.split(":")[1].split(";")[0].replace(",",".");strConditionTrue=q.split(":")[1].split(";")[1];strConditionFalse=q.split(":")[1].split(";")[2];if(strCondition.substr(0,2)=="<="){q=z.replace(",",".")<=strCondition.substr(2)?strConditionTrue:strConditionFalse}else{if(strCondition.substr(0,2)==">="){q=z.replace(",",".")>=strCondition.substr(2)?strConditionTrue:strConditionFalse}else{if(strCondition.substr(0,1)=="<"){q=z.replace(",",".")<strCondition.substr(1)?strConditionTrue:strConditionFalse}else{if(strCondition.substr(0,1)==">"){q=z.replace(",",".")>strCondition.substr(1)?strConditionTrue:strConditionFalse}else{if(strCondition.substr(0,1)=="="){q=z.replace(",",".")==strCondition.substr(1)?strConditionTrue:strConditionFalse}}}}}}switch(q){case"0":case"+0":case"0%":case"+0%":case"0 EUR":case"0 T":case"0 Mio":case"0 Mrd":case"0,0":case"+0,0":case"0,0%":case"+0,0%":case"0,0 EUR":case"0,0 T":case"0,0 Mio":case"0,0 Mrd":case"0,00":case"+0,00":case"0,00%":case"+0,00%":case"0,00 EUR":case"0,00 T":case"0,00 Mio":case"0,00 Mrd":case"0,000":case"+0,000":case"0,000%":case"+0,000%":case"0,000 EUR":case"0,000 T":case"0,000 Mio":case"0,000 Mrd":case"0,0000":case"+0,0000":case"0,0000%":case"+0,0000%":case"0,0000 EUR":case"0,0000 T":case"0,0000 Mio":case"0,0000 Mrd":z=z.replace(",",".");if(!isNaN(z)){n=".";o="";s=0;if(q.indexOf(".")>0){s=q.lastIndexOf("0")-q.lastIndexOf(".");n=".";o=","}else{if(q.indexOf(",")>0){s=q.lastIndexOf("0")-q.lastIndexOf(",");n=",";o="."}}if(q.indexOf("'")!=-1){o="'"}if(q.charAt(q.length-1)=="%"){z=strNumberFormat(z,s,o,n);z=z.concat("%")}else{if(q.substr(q.length-3,3)=="EUR"){z=strNumberFormat(z,s,o,n);z=z.concat("&nbsp;EUR")}else{if(q.charAt(q.length-1)=="T"){z=z/1000;z=strNumberFormat(z,s,o,n);z=z.concat("&nbsp;T")}else{if(q.substr(q.length-3,3)=="Mio"){z=z/1000000;z=strNumberFormat(z,s,o,n);z=z.concat("&nbsp;Mio")}else{if(q.substr(q.length-3,3)=="Mrd"){z=z/1000000000;z=strNumberFormat(z,s,o,n);z=z.concat("&nbsp;Mio")}else{z=strNumberFormat(z,s,o,n)
}}}}}if(q.charAt(0)=="+"&&z.charAt(0)!="-"){z="+"+z}}break;case"0,?":case"0,0?":case"0,00?":case"0,000?":case"0,0000?":case"0,??":case"0,0??":case"0,00??":case"0,000???":case"0,0000??":case"0,???":case"0,0???":case"0,00???":case"0,000????":case"0,0000???":case"0,????":case"0,0????":case"0,00????":case"0,000?????":case"0,0000????":z=z.replace(",",".");if(!isNaN(z)){if(q.indexOf(",")!=-1){s=q.length-q.lastIndexOf(",");n=",";o=""}else{if(q.lastIndexOf(".")!=-1&&q.lastIndexOf("'")!=-1){s=q.length-q.lastIndexOf(".");n=".";o="'"}else{if(q.lastIndexOf(".")!=-1){s=q.length-q.lastIndexOf(".");n=".";o=""}}}z=strNumberFormat(z,s,o,n);z=strRTrimZeros(z,q,n)}break;case"0,#":case"0,0#":case"0,00#":case"0,000#":case"0,0000#":case"0,#%":case"0,0#%":case"0,00#%":case"0,000#%":case"0,0000#%":case"+0,#%":case"+0,0#%":case"+0,00#%":case"+0,000#%":case"+0,0000#%":z=z.replace(",",".");if(!isNaN(z)){if(q.indexOf(",")!=-1){n=",";o=""}else{if(q.lastIndexOf(".")!=-1&&q.lastIndexOf("'")!=-1){n=".";o="'"}else{if(q.lastIndexOf(".")!=-1){n=".";o=""}}}s=z.length-z.lastIndexOf(".");z=strNumberFormat(z,s,o,n);z=strRTrimZeros(z,q,n);if(q.charAt(0)=="+"&&z.charAt(0)!="-"){z="+"+z}}break;case"1/n":case"1/n.":z=z.replace(",",".");if(!isNaN(z)){if(z!=0){if(z>=1){z=1/z}s=4;z=strNumberFormat(z,s,"",".");while(z.length>1&&z.charAt(strValueDecimalPart.length-1)=="0"){z=z.slice(0,z.length-1)}if(isNaN(z.charAt(z.length-1))){z=z.slice(0,z.length-1)}}}break;case"hh:mm:ss tt":z=toUserTimeZone(z);break;case"hh:mm:ss|0":case"hh:mm:ss|1":case"hh:mm:ss|2":case"hh:mm:ss|3":case"hh:mm:ss|4":case"hh:mm:ss|5":case"hh:mm:ss|6":case"hh:mm:ss|7":case"hh:mm:ss|8":case"hh:mm:ss|9":case"hh:mm:ss|10":case"hh:mm:ss|11":case"hh:mm:ss|12":case"hh:mm:ss|0":case"hh:mm:ss|-1":case"hh:mm:ss|-2":case"hh:mm:ss|-3":case"hh:mm:ss|-4":case"hh:mm:ss|-5":case"hh:mm:ss|-6":case"hh:mm:ss|-7":case"hh:mm:ss|-8":case"hh:mm:ss|-9":case"hh:mm:ss|-10":case"hh:mm:ss|-11":case"hh:mm:ss|-12":var b=q.split("|")[1];var i=/\d{2}:\d{2}:\d{2}/;if(i.test(z)==true){z=convertToTwelveHourTime(z)}break;case"HH:NN":var i=/\d{2}:\d{2}:d{2}/;if(i.test(z)==true){z=z.substr(0,5)}case"HH:NN:SS":var i=/\d{2}:\d{2}:d{2}/;if(i.test(z)==true){z=z}break;case"DD.MM.":case"DD/MM":case"DD-MM":case"MM/DD/YY":case"DD/MM/YY":case"DD.MM.YY":case"DD-MM-YY":case"MM-DD-YY":case"MM/DD/YYYY":case"DD/MM/YYYY":case"DD.MM.YYYY":case"DD-MM-YYYY":case"MM-DD-YYYY":case"YYYY-MM-DD":case"YYYY[Jahr]MM[Monat]DD[Tag]":case"MMM, D YYYY":case"MMMM":case"DD MMM YY":case"DD MMM YYYY":case"D MMM YY":case"D MMM YYYY":case"MM/DD/YY HH:NN":case"DD/MM/YY HH:NN":case"DD.MM.YY HH:NN":case"DD-MM-YY HH:NN":case"MM-DD-YY HH:NN":case"MM/DD/YYYY HH:NN":case"DD/MM/YYYY HH:NN":case"DD.MM.YYYY HH:NN":case"DD-MM-YYYY HH:NN":case"MM-DD-YYYY HH:NN":case"YYYY-MM-DD HH:NN":case"MMM, D YYYY HH:NN":case"DD MMM YY HH:NN":case"DD MMM YYYY HH:NN":case"D MMM YY HH:NN":case"D MMM YYYY HH:NN":case"MM/DD/YY HH:NN:SS":case"DD/MM/YY HH:NN:SS":case"DD.MM.YY HH:NN:SS":case"DD-MM-YY HH:NN:SS":case"MM-DD-YY HH:NN:SS":case"MM/DD/YYYY HH:NN:SS":case"DD/MM/YYYY HH:NN:SS":case"DD.MM.YYYY HH:NN:SS":case"DD-MM-YYYY HH:NN:SS":case"MM-DD-YYYY HH:NN:SS":case"DD MMM YY HH:NN:SS":case"DD MMM YYYY HH:NN:SS":case"D MMM YY HH:NN:SS":case"D MMM YYYY HH:NN:SS":if(!isNaN(z)&&z.length==8){B=true;a=z.substr(0,4);r=z.substr(2,2);y=z.substr(4,2);D=z.substr(6,2)}else{if(z.length>=10){B=true;a=z.substr(6,4);r=z.substr(8,2);y=z.substr(3,2);D=z.substr(0,2);if(z.length>=15){g=z.substr(11,2);e=z.substr(14,2);if(z.length>=18){w=z.substr(17,2)}else{w=""}}else{g="";e=""}}else{B=false}}if(B){switch(q){case"DD/MM":z=D+"/"+y;break;case"DD-MM":z=D+"-"+y;break;case"DD.MM.":z=D+"."+y+".";break;case"DD/MM/YY":z=D+"/"+y+"/"+r;break;case"MM/DD/YY":z=y+"/"+D+"/"+r;break;case"DD/MM/YY":z=D+"/"+y+"/"+r;break;case"DD.MM.YY":z=D+"."+y+"."+r;break;case"DD-MM-YY":z=D+"-"+y+"-"+r;break;case"MM-DD-YY":z=y+"-"+D+"-"+r;break;case"MM/DD/YYYY":z=y+"/"+D+"/"+a;break;case"DD/MM/YYYY":z=D+"/"+y+"/"+a;break;case"DD.MM.YYYY":z=D+"."+y+"."+a;break;case"DD-MM-YYYY":z=D+"-"+y+"-"+a;
break;case"MM-DD-YYYY":z=y+"-"+D+"-"+a;break;case"YYYY-MM-DD":z=a+"-"+y+"-"+D;break;case"YYYY[Jahr]MM[Monat]DD[Tag]":z=a+strYear+y+strMonth+D+strDay;break;case"MMM, D YYYY":z=arrMonthShort[parseInt(y)-1].substr(0,3)+" "+parseInt(D)+", "+a;break;case"MMMM":z=arrMonth[parseInt(y)-1];break;case"DD MMM YY":z=D+" "+arrMonthShort[parseInt(y)-1]+" "+r;break;case"DD MMM YYYY":z=D+" "+arrMonthShort[parseInt(y)-1]+" "+a;break;case"D MMM YY":z=parseInt(D)+" "+arrMonthShort[parseInt(y)-1]+" "+r;break;case"D MMM YYYY":z=parseInt(D)+" "+arrMonthShort[parseInt(y)-1]+" "+a;break;case"MM/DD/YY HH:NN":z=y+"/"+D+"/"+r+" "+g+":"+e;break;case"DD/MM/YY HH:NN":z=D+"/"+y+"/"+r+" "+g+":"+e;break;case"DD.MM.YY HH:NN":z=D+"."+y+"."+r+" "+g+":"+e;break;case"DD-MM-YY HH:NN":z=D+"-"+y+"-"+r+" "+g+":"+e;break;case"MM-DD-YY HH:NN":z=y+"-"+D+"-"+r+" "+g+":"+e;break;case"MM/DD/YYYY HH:NN":z=y+"/"+D+"/"+a+" "+g+":"+e;break;case"DD/MM/YYYY HH:NN":z=D+"/"+y+"/"+a+" "+g+":"+e;break;case"DD.MM.YYYY HH:NN":z=D+"."+y+"."+a+" "+g+":"+e;break;case"DD-MM-YYYY HH:NN":z=D+"-"+y+"-"+a+" "+g+":"+e;break;case"MM-DD-YYYY HH:NN":z=y+"-"+D+"-"+a+" "+g+":"+e;break;case"YYYY-MM-DD HH:NN":z=a+"-"+y+"-"+D+" "+g+":"+e;break;case"MMM, D YYYY HH:NN":z=arrMonthShort[parseInt(y)-1].substr(0,3)+" "+parseInt(D)+", "+a+" "+g+":"+e;break;case"DD MMM YY HH:NN":z=D+" "+arrMonthShort[parseInt(y)-1]+" "+r+" "+g+":"+e;break;case"DD MMM YYYY HH:NN":z=D+" "+arrMonthShort[parseInt(y)-1]+" "+a+" "+g+":"+e;break;case"D MMM YY HH:NN":z=parseInt(D)+" "+arrMonthShort[parseInt(y)-1]+" "+r+" "+g+":"+e;break;case"D MMM YYYY HH:NN":z=parseInt(D)+" "+arrMonthShort[parseInt(y)-1]+" "+a+" "+g+":"+e;break;case"MM/DD/YY HH:NN:SS":z=y+"/"+D+"/"+r+" "+g+":"+e+":"+w;break;case"DD/MM/YY HH:NN:SS":z=D+"/"+y+"/"+r+" "+g+":"+e+":"+w;break;case"DD.MM.YY HH:NN:SS":z=D+"."+y+"."+r+" "+g+":"+e+":"+w;break;case"DD-MM-YY HH:NN:SS":z=D+"-"+y+"-"+r+" "+g+":"+e+":"+w;break;case"MM-DD-YY HH:NN:SS":z=y+"-"+D+"-"+r+" "+g+":"+e+":"+w;break;case"MM/DD/YYYY HH:NN:SS":z=y+"/"+D+"/"+a+" "+g+":"+e+":"+w;break;case"DD/MM/YYYY HH:NN:SS":z=D+"/"+y+"/"+a+" "+g+":"+e+":"+w;break;case"DD.MM.YYYY HH:NN:SS":z=D+"."+y+"."+a+" "+g+":"+e+":"+w;break;case"DD-MM-YYYY HH:NN:SS":z=D+"-"+y+"-"+a+" "+g+":"+e+":"+w;break;case"MM-DD-YYYY HH:NN:SS":z=y+"-"+D+"-"+a+" "+g+":"+e+":"+w;break;case"DD MMM YY HH:NN:SS":z=D+" "+arrMonthShort[parseInt(y)-1]+" "+r+" "+g+":"+e+":"+w;break;case"DD MMM YYYY HH:NN:SS":z=D+" "+arrMonthShort[parseInt(y)-1]+" "+a+" "+g+":"+e+":"+w;break;case"D MMM YY HH:NN:SS":z=parseInt(D)+" "+arrMonthShort[parseInt(y)-1]+" "+r+" "+g+":"+e+":"+w;break;case"D MMM YYYY HH:NN:SS":z=parseInt(D)+" "+arrMonthShort[parseInt(y)-1]+" "+a+" "+g+":"+e+":"+w;break}}break}if(q.split("|").length==6){if(!isNaN(z)){o=q.split("|")[1];n=q.split("|")[2];s=q.split("|")[3];var v=q.split("|")[4];var l=q.split("|")[5];if(v=="1"){z=strNumberFormat(z,s,o,n);z=z.concat("%")}else{if(l=="EUR"){z=strNumberFormat(z,s,o,n);z=z.concat("&nbsp;EUR")}else{if(l=="T"){z=z/1000;z=strNumberFormat(z,s,o,n);z=z.concat("&nbsp;T")}else{if(l=="Mio"){z=z/1000000;z=strNumberFormat(z,s,o,n);z=z.concat("&nbsp;Mio")}else{if(l=="Mrd"){z=z/1000000000;z=strNumberFormat(z,s,o,n);z=z.concat("&nbsp;Mio")}else{z=strNumberFormat(z,s,o,n);z=z.concat(l)}}}}}if(q.charAt(0)=="+"&&z.charAt(0)!="-"){z="+"+z}}else{z=""}}}}else{z=""}return z}function strNumberFormat(g,h,c,f){var d;var i;var e;var b;var a="";if(g.substr(0,1)=="+"||g.substr(0,1)=="-"){a=g.substr(0,1);g=g.replace(g.substr(0,1),"")}g=parseFloat(g).toFixed(h);g=g+"";d=g.split(".");if(!d[0]){d[0]="0"}if(!d[1]){d[1]=""}if(f!=""&&d[0].length>3){e=d[0];d[0]="";for(i=3;i<e.length;i+=3){b=e.slice(e.length-i,e.length-i+3);d[0]=c+b+d[0]+""}b=e.substr(0,(e.length%3==0)?3:(e.length%3));d[0]=b+d[0]}f=(h<=0)?"":f;return a+d[0]+f+d[1]}function strRTrimZeros(g,d,j){var a;var i;var c;var e;var h;var f;var b;if(g.indexOf(j)!=-1){if(g.charAt(g.length-1)=="0"){a=0;if(d.indexOf(j)!=-1){c=d.split(j)[1];e=c.slice(c.indexOf("0"),c.lastIndexOf("0")+1);h=e.length;if(c.indexOf("?")!=-1){e=c.slice(c.indexOf("?"),c.lastIndexOf("?")+1);
f=e.length}else{if(c.indexOf("#")!=-1){f=10-h+1}}}b=g.split(j)[1];a=b.length;if(a<h){i=h-a;while(i>0){b=b.concat("0");i=i-1}}else{i=h+f;if(a>i){b=b.substr(0,i)}else{if(a<i){i=b.length}}while(i>h&&b.charAt(b.length-1)=="0"){b=b.slice(0,b.length-1);i=i-1}}g=g.split(j)[0]+j+b;if(isNaN(g.charAt(g.length-1))){g=g.slice(0,g.length-1)}if(d.charAt(d.length-1)=="%"){g=g+"&nbsp;%"}}}return g}var arrProdukteAuto=new Array();function unregister_pushhidden_table(){if(window.QuoteStream!==undefined&&oh1){window.QuoteStream.page.removeTable("h1")}}function unregister_pushhidden_table(){if(window.QuoteStream!==undefined&&oh1){if(window.QuoteStream.page.getTable("h1")!==null){window.QuoteStream.page.removeTable("h1")}}}function unregister_push_table(){if(window.QuoteStream!==undefined&&o1){if(window.QuoteStream.page.getTable(1)!==null){window.QuoteStream.page.removeTable(1)}}}function unregister_push_scrolltable(){if(window.QuoteStream!==undefined&&o2){if(window.QuoteStream.page.getTable(2)!==null){window.QuoteStream.page.removeTable(2)}}}function unregister_push_scrolltable(){if(window.QuoteStream!==undefined&&o2){window.QuoteStream.page.removeTable(2)}}function reload_push_table_settings(strPushFormatRel,strPushFormatAbs){var produkte;var hasProducts=false;try{produkte=eval("arrProdukte"+o1.tableName);hasProducts=true}catch(e){}if(typeof(produkte)=="object"){produkte=[]}if(o1){o1.group=[];o1.schema=[];o1.groupSchema=[];var pushTables=[];pushTables[0]=o1;$('div[table="'+o1.tableName+'"]').each(function(){var groupSchemaLookUp=$(this).attr("item")+$(this).attr("field");var isItemPushed=false;var tableCount=0;for(var i=0;i<pushTables.length;i++){if($.inArray(groupSchemaLookUp,pushTables[i].groupSchema)>-1){tableCount++}}if(tableCount==pushTables.length){var newTable={};$.extend(newTable,o1);newTable.group=[];newTable.schema=[];newTable.groupSchema=[];newTable.tableName="1_"+i;pushTables.push(newTable)}for(var i=0;i<pushTables.length;i++){if($.inArray($(this).attr("item"),pushTables[i].group)<0&&!isItemPushed){pushTables[i].group.push($(this).attr("item"));isItemPushed=true}if($.inArray(groupSchemaLookUp,pushTables[i].groupSchema)<0){if($.inArray($(this).attr("field"),pushTables[i].schema)<0){pushTables[i].schema.push($(this).attr("field"))}$(this).attr("table",pushTables[i].tableName);pushTables[i].groupSchema.push(groupSchemaLookUp);isItemPushed=true}}});for(var i=0;i<pushTables.length;i++){var index=$.inArray("changeper",pushTables[i].schema);if(index>-1){pushTables[i].schema.splice(index,1)}index=$.inArray("changeabs",pushTables[i].schema);if(index>-1){pushTables[i].schema.splice(index,1)}}if(hasProducts){for(var i=0;i<pushTables.length;i++){for(var j=0;j<pushTables[i].group.length;j++){produkte[j]=new clLSProdukt(pushTables[i].group[j],["changeper"],pushTables[i].schema,pushTables[i].tableName);produkte[j].formatAenderungProzent=strPushFormatRel;produkte[j].formatAenderungAbsolut=strPushFormatAbs}eval("arrProdukteAuto = produkte;")}}arrProdukte1=new Array();for(var i=0;i<pushTables.length;i++){for(var j=0;j<pushTables[i].group.length;j++){arrProdukte1[j]=new clLSProdukt(pushTables[i].group[j],["changeper"],pushTables[i].schema,pushTables[i].tableName);arrProdukte1[j].formatAenderungProzent="0,0%";arrProdukte1[j].formatAenderungAbsolut="0,00"}pushTableInit(pushTables[i])}}if(typeof(o2)!="undefined"){o2.group=[];o2.schema=[];$('tr[source="lightstreamer"] div[table="'+o2.tableName+'"]').each(function(){if($.inArray($(this).attr("item"),o2.group)<0){o2.group.push($(this).attr("item"))}if($.inArray($(this).attr("field"),o2.schema)<0){if($(this).attr("field")!="changeper"&&$(this).attr("field")!="changeabs"){o2.schema.push($(this).attr("field"))}}});pushScrollTableInit(o2)}}function pushAutoFormatValues(k,g,b){if(g==null){return}if(g.getServerValue(o1.schema.length+2)==true){g.setHotToColdTime(o1.fadeTime)}g.setHotTime(o1.flashTime);var f=(k%2==1)?o1.backC1:o1.backC2;g.setRowAttribute(g.getServerValue(o1.schema.length+1),f,"backgroundColor");for(var d=1;
d<=7;d++){var h="bid";switch(d){case 1:h="bid";break;case 2:h="ask";break;case 3:h="last";break;case 4:h="reference";break;case 5:h="quotetime";break;case 6:h="bidsize";break;case 7:h="asksize";break}SetFormattedUpdateValue(h,g,b)}if(g.getServerValue("ask")!=null&&g.getServerValue("bid")!=null){if(!isNaN(parseFloat(g.getServerValue("ask")))&&!isNaN(parseFloat(g.getServerValue("bid")))){h="bidaskaverage";var j=$('div[item="'+b+'"][source="lightstreamer"][field="'+h+'"]').attr("lsformat");var e=parseFloat(g.getServerValue("bid"));var c=parseFloat(g.getServerValue("ask"));var a=(e+c)/2;if(typeof(j)=="string"&&j.length>0){g.setFormattedValue(h,strFormat(a,j))}}}}function pushAutoUpdateItem(e,d,f){if(d==null){return}var a=getUpdateQuotes(d);var g;var c;var b;a.product=f;if(!isNaN(parseFloat(a.bid))){g=parseFloat(a.bid);c=parseFloat(a.bidOld);b=a.bidIsValueChanged}if(!isNaN(parseFloat(a.ask))){g=parseFloat(a.ask);c=parseFloat(a.askOld);b=a.askIsValueChanged}if(!isNaN(parseFloat(a.last))){g=parseFloat(a.last);c=parseFloat(a.lastOld);b=a.lastIsValueChanged}if(!isNaN(parseFloat(a.reference))){g=parseFloat(a.reference);c=parseFloat(a.referenceOld);b=a.referenceIsValueChanged}if(typeof(g)!=="number"){return}if((typeof $!="undefined")&&(typeof arrProdukteAuto[e-1]!="undefined")){arrProdukteAuto[e-1].update(d,null,g,a.quotetime,a.product)}if(c==null){d.addField(o1.schema.length+1,o1.greenColor,true);d.addField(o1.schema.length+2,false,true)}else{if(b){if(c>g){d.addField(o1.schema.length+1,o1.redColor,true)}else{d.addField(o1.schema.length+1,o1.greenColor,true)}d.addField(o1.schema.length+2,true,true)}}}function scrollTablePushAutoFormatValues(d,g,e){var a=2;var c=this.sF.CE[1];if(g==null){return}if(g.getServerValue(o2.schema.length+2)==true){g.setHotToColdTime(o2.fadeTime)}g.setHotTime(o2.flashTime);g.setRowAttribute(o2.flashColor,o2.backColor,"backgroundColor");for(var b=1;b<=6;b++){var f="bid";switch(b){case 1:f="bid";break;case 2:f="ask";break;case 3:f="last";break;case 4:f="reference";break;case 5:f="quotetime";break;case 6:f="lastsize";break}SetFormattedUpdateValue(f,g,c)}}function SetFormattedUpdateValue(h,g,c){var b=g!==undefined?g.uR.getId():undefined;var f=2;if(g.getFormattedValue(h)!=null){if((!isNaN(parseFloat(g.getFormattedValue(h))))&&h!="quotetime"){var i=$('div[item="'+c+'"][source="lightstreamer"][field="'+h+'"]').attr("lsformat");var e=$('div[id="old'+c+'"]').attr("lsmultiplier");if(typeof(i)=="string"&&i.length>0){if(typeof(e)!="string"||e.length<=0){e=1}else{e=parseFloat(e)}g.setFormattedValue(h,strFormat((g.getServerValue(h)*e),i))}else{g.setFormattedValue(h,strNumberFormat(g.getFormattedValue(h),f,".",","))}}else{if(g.getFormattedValue(h)===""&&h!="quotetime"){var i=$('div[item="'+c+'"][source="lightstreamer"][field="'+h+'"][table ="1"').attr("lsformat");var d=$('div[item="'+c+'"][source="lightstreamer"][field="'+h+'"][table ="1"').attr("jsvalue");if(d===undefined){var a="old"+c+"_"+h;d=$('div[id="'+a+'"]').attr("jsvalue")}if(d!==undefined&&!isNaN(parseFloat(d))){g.setFormattedValue(h,strFormat(d,i))}}else{if(h=="quotetime"){var i=$('div[item="'+c+'"][source="lightstreamer"][field="'+h+'"]').attr("lsformat");var i=$('div[item="'+c+'"][source="lightstreamer"][field="'+h+'"][table='+b+"]'").attr("lsformat");if(typeof(i)=="string"&&i.length>0){g.setFormattedValue(h,strFormat(g.getFormattedValue(h),i))}else{g.setFormattedValue(h,strFormat(g.getFormattedValue(h),"hh:mm:ss"))}}}}}}function convertToTwelveHourTime(c){var b=c.split(":");var a=b[0]>=12?"PM":"AM";if(b[0]>=12){b[0]-=12}return b.join(":")+a}function convertTimeToApplicationTimeZone(f,d,c){var e=f.split(":");var b;if(window.isApplicationTimeByUser===undefined||window.isApplicationTimeByUser==="False"){b=parseFloat(e[0])+parseFloat(d)+parseFloat(utcTimeOffsetToApplication)}else{b=parseFloat(e[0])+parseFloat(d)+parseFloat(currentUserTimeZoneOffset)}var g="";if(window.isTwelveHourFormat!==undefined&&window.isTwelveHourFormat){g="AM";if(b==12){g="PM"}if(b<0){b=b+12;g="PM"
}if(b>12){b=b-12;g="PM"}}else{if(b>23){b=b-24}if(b<0){b=b+24}}var a=b+":"+e[1]+":"+e[2];if(b<10){a="0"+a}if(window.isTwelveHourFormat!==undefined&&window.isTwelveHourFormat){a=a+" "+g}return(a)};window.alert=function(a){console.warn(a)};(function(C,f){var z=(typeof C.post.name==="string")?true:false;var t;var B;var p;var a;var m;var y;var n;var d;var j;var u;var k;var x;var b;var i;var h;var v;function s(){h=f("#finanzen_right_rail_anchor");u=f("#finanzen_post_anchor");v=f("#finanzen_extension")}function e(){p=f(".finanzen-tabs.charts").find(".header");a=f(".finanzen-tabs:not('.charts')").find(".header");t=f(".finanzen-right-rail").find(".tradeit").find("a");B=f(".finanzen-post").find(".tradeit").find("a");m=f(".finanzen-table");y=f("[data-finanzen-table-stock]");n=f(".finanzen-post-table");d=f("#tradeit-container");j=f("#tradeit-container-post");k=f("[data-finanzen-post-ticker-container]");b=f("[data-finanzen-post-ticker-mock-link]");x=f("[data-finanzen-post-ticker-disclaimer-link]");i=f("[data-finanzen-post-ticker-more-link]")}function w(){s();g();c();l();if(z&&C.post.tickers){A()}}function A(){if(u.length===0){return}f.ajax({url:"/ajax/finanzenpost",type:"GET",cache:true,data:{symbols:C.post.tickers[0].symbol},success:function(D){u.html(D);e();r()},error:function(E,F,D){console.log(F,D)}})}function c(){if(h.length===0){return}f.ajax({url:"/ajax/finanzen",type:"GET",cache:true,data:{isPost:z},success:function(D){h.prepend(D);e();r();if(!z){q()}},error:function(E,F,D){console.log(F,D)}})}function l(){if(v.length===0){return}f.ajax({url:"/ajax/finanzen",type:"GET",cache:true,data:{isPost:true},success:function(D){v.html(D);e();r();if(!z){q()}},error:function(E,F,D){console.log(F,D)}})}function r(){t.click(function(D){D.preventDefault()});B.click(function(D){D.preventDefault()});k.on("click",function(E){var D=this.getAttribute("data-stock-url");window.open(D)});x.on("click",function(D){D.stopPropagation()});b.on("mouseenter",function(){i.addClass("finanzen-post-ticker-mock-link--inactive")}).on("mouseleave",function(){i.removeClass("finanzen-post-ticker-mock-link--inactive")});y.on("click",function(){var D=f(this).data("href");window.open(D)})}function g(){var E="hidden";if(E in document){document.addEventListener("visibilitychange",D)}else{if((E="mozHidden") in document){document.addEventListener("mozvisibilitychange",D)}else{if((E="webkitHidden") in document){document.addEventListener("webkitvisibilitychange",D)}else{if((E="msHidden") in document){document.addEventListener("msvisibilitychange",D)}else{if("onfocusin" in document){document.onfocusin=document.onfocusout=D}else{window.onpageshow=window.onpagehide=window.onfocus=window.onblur=D}}}}}function D(G){var H="visible",I="hidden",F={focus:H,focusin:H,pageshow:H,blur:I,focusout:I,pagehide:I};var J=f("body");G=G||window.event;if(G.type in F){if(F[G.type]==="hidden"){J.removeClass("visible");J.addClass("hidden")}else{J.removeClass("hidden");J.addClass("visible")}}else{if(this[E]){J.removeClass("visible");J.addClass("hidden")}else{J.removeClass("hidden");J.addClass("visible")}}window.pushSwitchMode()}if(document[E]!==undefined){D({type:document[E]?"blur":"focus"})}}function q(){window.arrProdukte1=new Array();window.o1=new pushTableSetting({tableName:"1",group:[],schema:[],redColor:"#FF6347",greenColor:"#99FF99",backC1:"",backC2:"",flashTime:500,fadeTime:600,startSnapshot:false,dataAdapter:"MDS5",onItemUpdate:pushAutoUpdateItem,onChangingValues:pushAutoFormatValues});window.o=new pushPageSetting({domain:"businessinsider.com",host:"push.businessinsider.com",port:80,enginePath:"/assets/vendor/ls/",debugAlerts:false,startMode:"streaming"});pushPageInit(o);reload_push_table_settings("0,00%","0,00")}f(w)}(BI,jQuery));(function(c,e){var a;if(!c.fn.tooltip){return}function b(f){a=c('[data-toggle="tooltip"]',f);if(a.length>0){a.tooltip()}}function d(){b(c(document))}c(d);amplify.subscribe("river:chunk:loaded",function(f){b(f.$container)})}(jQuery));(function(){function a(){if(window.location.search.indexOf("IR=C")!==-1&&!BI.cookies.get("IR")){BI.cookies.set("IR","F",24*7)}}$(a)}(BI));(function(e,h,b){var d;var f;var a;function i(){j();c();d=e(document.getElementsByTagName("su:badge"));f=e('a[href="http://pinterest.com/pin/create/button/"]');a=e('[data-badge="twitter"]');if(d.length>0){h.loader.load(window.location.protocol+"//platform.stumbleupon.com/1/widgets.js")}if(f.length>0){h.loader.load(window.location.protocol+"//assets.pinterest.com/js/pinit.js")}if(a.length>0){h.loader.load(window.location.protocol+"//platform.twitter.com/widgets.js")}}function g(k,s,t,o){var r=window.screenLeft!==b?window.screenLeft:screen.left;var l=window.screenTop!==b?window.screenTop:screen.top;var m=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width;var u=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var n=((m/2)-(t/2))+r;var q=((u/3)-(o/3))+l;var p=window.open(k,s,"scrollbars=yes, width="+t+", height="+o+", top="+q+", left="+n);if(window.focus){p.focus()}}function j(){var m=e(".rrssb-top:visible");var p=e(".rrssb-bottom");var n=e("#content");if(n.hasClass("homepage")){p.parent("div.rrssb-baseline").css("display","block");amplify.subscribe("river:chunk:loaded",function(){e(".rrssb-bottom").parent("div.rrssb-baseline").css("display","block")});return}var l=window.innerHeight;if(n.height()>(l-80)){var k=m.parent("div").attr("class");if(!k){return}var o=k.split(" ")[0];p.parent("div."+o).css("display","block")}}function c(){e(".rrssb-buttons a.popup").on("click",function(k){var l=e(this);g(l.attr("href"),l.find(".text").html(),580,470);k.preventDefault()})}e(i)}(jQuery,BI));(function(a){var b=function(){a('[data-bi-pagination="dropdown"]').on("change","select",function(){if(a(this).val()){window.location=post.uri+a(this).val()}})};a(b)}(jQuery));(function(c,a,e){var g=function(i,h){if(h.ok){c("div.share-email-error").hide();c("div.share-email-body").hide();c("div.share-email-success").show();c("input.btn.email-post").hide();c("input.mail-from").val("");c("input.mail-to").val("")}else{c("div.share-email-error").html(h.error_msg);c("div.share-email-error").show()}};var f=function(i,h){if(h.ok){c("div.email-host-error").hide();c("div.email-host-body").hide();c("div.email-host-success").show();c(".g-recaptcha").hide();c('input[name="submit"]').hide();c('input[name="email_from"]').val("");c('textarea[name="email_body"]').val("")}else{c("div.email-host-error").html(h.message);c("div.email-host-error").show()}};var b=function(h){c(".button-email",h).each(function(i,j){var k={url:c(j).attr("data-href")||window.location.href};c(j).emailModal({dialog:{title:"Email Article",open:function(){c(".mail-from").defaultValue();c(".mail-to").defaultValue();c("div.share-email-error").hide();c("div.share-email-body").show();c("div.share-email-success").hide();c("input.btn.email-post").show()}},modalContentTmpl:c("#shareEmailModal"),ajax:k,submitCallback:g})})};var d=function(){c.each(["div.embed-post","div.embed-chart"],function(h,i){c(i).hide()});b(c(document));c(".email-vertical-host").emailModal({dialog:{title:"Email your editor",width:"600px",open:function(h,i){c(".mail-from").defaultValue();c("div.email-host-error").hide();c("div.email-host-body").show();c("div.email-host-success").hide();c("input.btn.email-host").show();grecaptcha.reset();c(".g-recaptcha").show()}},modalContentTmpl:c("#emailHostModal"),ajax:{},submitCallback:f})};c(d);a.subscribe("river:chunk:loaded",function(h){b(h.$container)})}(jQuery,amplify));(function(d,c,f){var a;function b(i,h){if(!h.error){i.html("");d.each(h.feed.entries,function(j,k){i.append('<li><a href="'+k.link+'">'+k.title+"</a></li>")})}else{i.html(h.error)}}function e(j){var h=j.data("bi-feed");var i=new a.feeds.Feed(h);i.load(function(k){b(j,k)})}function g(){var h=d("[data-bi-feed]");a=c.google;if(h.length<1||a===f){return}a.load("feeds","1",{callback:function(){h.each(function(k,j){e(d(j))})}})}d(g)}(jQuery,window));(function(c,a,e){var f;function d(){var g=f.first().data("bi-ticker");YChartsQuoteEmbed.init(g)}function b(){f=c("[data-bi-ticker]");if(f.length<1){return}a.loader.load2("http://static.ycharts.com/embeds/js/quote/embed.bizinsider.js","ycharts",d)}c(b)}(jQuery,BI));(function(h,c){var j=3000;function e(m,n,o){m.addClass("show-success-message");if(n){n.addClass("show-success-message");currentScrollPosition=window.pageYOffset;h("body").css({position:"fixed",top:-currentScrollPosition+"px",right:0,left:0})}if(o){o.addClass("copied")}}function a(m,n,o){m.removeClass("show-success-message");if(n){n.removeClass("show-success-message");var p=h("body").css("top").replace("px","").replace("-","");h("body").css("position","static");h(window).scrollTop(p)}if(o){o.removeClass("copied")}}function f(o,n,m){var q=document.createElement("textarea");q.style.postion="fixed";q.style.top=0;q.style.left=0;q.style.width="2em";q.style.height="2em";q.style.padding=0;q.style.border="none";q.style.outline="none";q.style.boxShadow="none";q.style.background="transparent";q.value=n;document.body.appendChild(q);q.select();try{document.execCommand("copy");e(m,null,o);setTimeout(function(){a(m,null,o)},j)}catch(p){console.log("Oops, unable to copy.")}document.body.removeChild(q)}function b(m){h(".copylink-uri").text(m);h(".copylink-uri").attr("href",m)}var i=h(".button-copylink"),k=i.data("href"),d=h("#mobileCopylink"),l=d.data("href"),g=h(".copylink-success-container .close-icon-wrapper");i.on("click",function(n){n.preventDefault();var m=h(".copylink-success-container");f(i,k,m)});h(".close-success-container").on("click",function(n){n.preventDefault();var m=h(".copylink-success-container");a(m,null,i)});d.on("click",function(o){o.preventDefault();var n=h(".copylink-success-container"),m=h(".copylink-success-overlay");b(l);e(n,m)});g.on("click",function(o){o.preventDefault();var n=h(".copylink-success-container"),m=h(".copylink-success-overlay");a(n,m)});h(".copylink-uri").on("click",function(m){m.preventDefault()})}(jQuery));(function(c,a,e){var f=function(h,g){};var b=function(g){c(".button-embed",g).each(function(h,i){var j={url:c(i).attr("data-href")||window.location.href};c(i).embedModal({dialog:{title:"Embed"},ModalContentTmpl:c("#shareEmbedModal")})})};var d=function(){c.each(["div.embed-post","div.embed-chart"],function(g,h){c(h).hide()});b(c(document))};c(d);a.subscribe("river:chunk:loaded",function(g){b(g.$container)})}(jQuery,amplify));var ooyalaPlayerId=$("[data-ooyala-player-id]").data("ooyalaPlayerId");var ooyalaVidId=$("[data-ooyala-video-id]").data("ooyalaVideoId");var ooyalaEmbedText='<DOCTYPE html> <script src="//player.ooyala.com/static/v4/stable/latest/core.min.js"><\/script><script src="//player.ooyala.com/static/v4/stable/latest/video-plugin/main_html5.min.js"><\/script><script src="//player.ooyala.com/static/v4/stable/latest/skin-plugin/html5-skin.min.js"><\/script><script src="//player.ooyala.com/static/v4/stable/latest/video-plugin/bit_wrapper.min.js"><\/script><script src="//player.ooyala.com/static/v4/stable/latest/video-plugin/osmf_flash.min.js"><\/script><link rel="stylesheet" href="//player.ooyala.com/static/v4/stable/latest/skin-plugin/html5-skin.min.css"/><div id=\'container\' style=\'width:100%;height:100%;\'></div><script>var playerParam = {\'pcode\':\'BhdmY6l9g002rBhQ6aEBZiheacDu\',\'playerBrandingId\':\''+ooyalaPlayerId+"','skin': {'config': '//player.ooyala.com/static/v4/stable/latest/skin-plugin/skin.json'} };OO.ready(function() {window.pp = OO.Player.create('container', '"+ooyalaVidId+"', playerParam);        }); <\/script>";var embedTextDisplayed=$(".embed-textarea").text(ooyalaEmbedText);function selectEmbedText(){$(".embed-textarea").select()}function timeoutEmbedSelector(){setTimeout(function(){selectEmbedText()},700)};(function(a,b){b(function(){var j=b(a);var d=b("[data-sailthru-overlay]");var c=b("[data-sailthru-anchor]");var e=b("[data-sailthru-modal]");var i=b("[data-sailthru-modal-close]");var f=b("[data-sailthru-iframe]");c.on("click",function(k){k.preventDefault();g(k)});i.on("click",function(k){h()});function g(k){var l=!f.attr("src");if(l){f.attr("src","http://www.sailthru.com/publishers/bi.html")}d.show();j.on("mouseup.sailthru-overlay",function(){if(!e.is(k.target)&&e.has(k.target).length===0){h()}}).on("keyup.sailthru-overlay",function(m){if(m.which===27){h()}})}function h(){j.off("mouseup.sailthru-overlay keyup.sailthru-overlay");d.hide()}})}(document,jQuery));(function(e,f){var d="~~~";var w;var a;var o;var q;var b;var g;var j;var p;var k;function t(){if(!e(".component.alerts").length){return}m();c();var x={placeholder:"Select a popular topic or search topics",minimumInputLength:1,multiple:true,separator:d,ajax:{url:"?action=alertsSearchTopics",dataType:"json",quietMillis:300,data:n,results:h},initSelection:i,formatInputTooShort:r};q.select2(x);o=w.find(".categories");v();u()}function m(){w=e(".component.alerts");a=w.find(".types");q=w.find("#categories");b=w.find(".popular.categories");g=w.find(".frequencies");j=w.find(".days");p=w.find(".times");k=w.find(".authors")}function c(){a.change(v);b.on("click",".selection",l);q.on("change",s);g.change(u)}function n(x,y){return{term:x,limit:25,page:y}}function h(z,y){var x={more:z.more,results:[]};e(z.results).each(function(){x.results.push({id:this.label,text:this.label})});return x}function i(x,z){var y=[];e(x.val().split(d)).each(function(){var A=this;y.push({id:A,text:A});b.find(".selection").filter(function(){return e(this).text()==A}).hide()});z(y)}function r(y,x){return"Please enter at least "+x+((x==1)?" character":" characters")}function l(){var x=e(this).text();var y=q.select2("data");y.push({id:x,text:x});q.select2("data",y);e(this).hide();return false}function s(x){if(x.removed!==f){b.find(".selection").filter(function(){return e(this).text()==x.removed.text}).show()}}function v(){var x=a.val();if(x=="category"){k.hide();o.show()}else{o.hide();k.show()}}function u(){var x=g.val();switch(x){case"instant":j.hide();p.hide();break;case"daily":j.hide();p.show();break;case"weekly":j.show();p.show();break}}e(t)}(jQuery));$(function(){var g=$(".user-form");var b=$(".password-input");var o=$(".confirm-input");var d=$(".privacy-input");var c=$(".recaptcha-checkbox");var f=g.attr("id");var n=$(".password-error").text("Password must have at least 8 characters, including an UPPERCASE letter, a lowercase letter, and a number.");var p=$(".confirm-error").text("Passwords don't match!");var i=$(".privacy-error").text("Please confirm you have read our Privacy Policy.");var h=$(".captcha-error");var l=false;var a=/^(?=[^A-Z]*[A-Z])(?=\D*\d).{8,}$/;i.hide();g.on("submit",function(){if(f=="registerForm"){if(b.length){if(m()&&j()&&e()&&k()){return true}}else{if(e()){return true}}return false}else{if(m()&&j()){return true}else{return false}}});b.on("keyup blur",function(){m()});o.on("keyup blur",function(){j()});d.on("click",function(){e()});function m(){if(b.val().match(a)){n.hide();return true}else{n.show();return false}}function j(){if(b.val()===o.val()){p.hide();return true}else{p.show();return false}}function e(){if(d.is(":checked")){i.hide();return true}else{i.show()}return false}function k(){if(l){h.hide();return true}else{h.show()}return false}window.registrationCaptchaCallback=function(){l=true;k()};window.registrationExpiredCaptchaCallback=function(){l=false;k()}});(function(){function a(){$("body").on("click","input[data-autoselect]",function(){$(this).select()})}$(a)}());(function(){function d(){a()}function a(){$("body").on("click",".show-subscribe-button",b);$("body").on("submit",".comment-subscribe-form",c)}function b(){$("div.post_comment_alert").show();$(this).hide();return false}function c(){$.ajax({type:"POST",url:document.location.href,data:$(this).serialize(),dataType:"json",success:function(e){if(e.ok===true){$("div.post_comment_alert_error").hide();$("div.post_comment_alert_link").parent().html('<div class="alert-box"><i>Thank you. You will receive email alerts about new comments on this post.</i></div>')}else{$("div.post_comment_alert_error").html(e.error_msg).show()}}});return false}$(d)}());(function(b,a,c){var d;b(function(){d=("#comments-form");if(!d.length){return}b("#bi-comment-textarea").defaultValue();var e=document.URL.replace(a.env.getDomain(),"");e=e.replace(/&?msg=[^&]*/,"");e=e.replace(/\?$/,"");var f=b("a#comment_tw_login_link").attr("href");b("a#comment_tw_login_link").attr("href",f+"&redirect="+e)})}(jQuery,BI));(function(){comment_reply_id=null;function a(){$("body").on("click",".comment-reply-btn",function(){g(this);return false});$(".comments").on("click",".btn.rate-up",function(){d(this,1);return false});$(".comments").on("click",".btn.rate-down",function(){d(this,-1);return false});$(".comments").on("click",".btn.flag-offensive",function(){b(this);return false})}$(a);function c(h,i){$(h).click(function(){$(this).attr("disabled","disabled").fadeTo("fast",0.25);$(i).submit()})}function g(i){var j=e(i);if(comment_reply_id==j){comment_reply_id=null;$(i).next().remove()}else{var h=$("#comments-open").html();h=h.replace(/Answer As/,"Respond As");h='<div class="reply-form">'+h+"</div>";$(".reply-form").remove();var k=$(h);k.find("form").attr("id","comments-form-reply");$(i).after(k).next().find("input[name=reply]").val(j);c("#comments-form-reply .submit-button","#comments-form-reply");comment_reply_id=j}return false}function f(h){h=h?h:{};if(window.post){h["class"]="Post";h.id=post.id}if(window.question){h["class"]="Question";h.id=question.id}return h}function d(k,m){if(m!=-1&&m!=1){return false}var j=$(k).parent().parent().find(".rate-up");var n=$(k).parent().parent().find(".rate-down");var h=j.find(".count");var i=n.find(".count");if(j.hasClass("selected")){if(m==1){return false}else{j.removeClass("selected");h.html(parseInt(h.html(),10)-1)}}if(n.hasClass("selected")){if(m==-1){return false}else{n.removeClass("selected");i.html(parseInt(i.html(),10)-1)}}if(m==-1){n.addClass("selected");i.html(parseInt(i.html(),10)+1)}else{j.addClass("selected");h.html(parseInt(h.html(),10)+1)}if(parseInt(h.html(),10)>0){j.addClass("voted")}else{j.removeClass("voted")}if(parseInt(i.html(),10)>0){n.addClass("voted")}else{n.removeClass("voted")}var l=e(k);var o=f();o.comment_id=l;o.rate=m;$.ajax({type:"POST",url:"/ws/ratecomment",data:o,dataType:"json",success:function(p){},error:function(){alert("We're experiencing a temporary problem with our rating system. Try again later.")}});return false}function b(h){if($(h).html()=="Flagged"){return false}if(!confirm("Are you sure you want to report this comment as offensive?")){return false}var i=e(h);$.ajax({url:document.location.href,type:"POST",data:{action:"offensive",cid:i},dataType:"json",success:function(j){if(j.ok){$(h).html("Flagged");alert("Thank you. This comment will be reviewed.")}else{alert(j.error_msg)}},error:function(){alert("We're experiencing a temporary problem with our commenting system. Try again later.")}});return false}function e(h){return $($(h).parents(".comments")[0]).attr("id").split("-")[1]}$(document).ready(function(){if(!$("#comments-form").length){return}c("#comments-form .submit-button","#comments-form")})}());(function(F,f,i){var s,p,B;var n;var o;var l,D,w,k,A,x;function j(){n=false;var K=F.comments.getAllComments?"get_all_comments":"get_comments";var I="/comments";var J={action:K,pundits_only:F.comments.filterPundits,post_name:F.post.name,no_reply_filter:F.comments.noReplyFilter,mobile:F.comments.mobile};if(F.comments.currentPage!="undefined"){J.comments_page=F.comments.currentPage}f.ajax({url:I,type:"GET",data:J,dataType:"html",success:function(L){n=true;if(F.comments.getAllComments){l.html(L);z();F.comments.getAllComments=0}else{$commentsSection=F.comments.filterPundits?f("#pundits"):f("#non-pundits");$commentsSection.html(L)}m();f("#pundits .non-pundit .inner .non-pundit-content").hide();f("#pundits .non-pundit-reply").hide();f("#non-pundits .show-original-comment").hide();c();u();return false},error:function(){return"Error retrieving comments."},complete:function(){if(!b&&window.location.hash!==""){var L=window.location.hash;window.location.hash="";window.location.hash=L}}});return false}function d(){o=true;u()}function u(){if(n&&o){F.FB_Core.user_profile_pics()}}amplify.subscribe("facebook-init",d);function G(O,M,L,N){var J="/comments";var K={action:"get_single_comment",cid:O,section:M,pundits_only:N?0:F.comments.filterPundits,post_name:F.post.name};if(F.comments.currentPage!="undefined"){K.comments_page=F.comments.currentPage}var I=F.comments.filterPundits?"#pundits":"#non-pundits";I+=" div#comment-shell-"+O;n=false;f.ajax({url:J,type:"GET",data:K,dataType:"html",success:function(P){n=true;f(I).html(P);if(!N||F.comments.filterPundits){E();f(I+" .show-original-comment").hide()}u()},error:function(){f(I).html("Error loading replies.")},cache:true});return false}function z(){if(F.comments.filterPundits){f(".comments-tabs a:first").tab("show").parent().addClass("active");f(f(".comments-tabs a:first").attr("href")).addClass("active")}else{var I=f(".comments-tabs li:last > a");I.tab("show").parent().addClass("active");f(I.attr("href")).addClass("active")}F.comments.refresh=e;F.comments.getComments=j;m();return false}function y(I){f(I).addClass("active");f(I).siblings(".tab").removeClass("active");return false}function c(){D.hide();h();g();C();E();v()}function h(){k=f(".comments .next-prev");k.each(function(){f(this).find(".previous, .next").each(function(){var I=f(this).attr("rel");f(this).unbind("click").click(function(J){F.comments.currentPage=I;j();return false})})})}function g(){f("#comments-1 .badge").html(F.comments.pundit_count);f("#comments-2 .badge").html(F.comments.count)}function C(){f(".replies .view-all a").each(function(){f(this).unbind().click(function(){H(f(this),0);return false})});return false}function E(){f(".replies .show-entire-thread a").each(function(){f(this).unbind().click(function(){H(f(this),1);return false})})}function v(){f("#pundits .show-original-comment a").each(function(){var I=f(this).attr("rel");f(this).unbind().click(function(){f("#pundits #comment-"+I+" .non-pundit-content").show();f("#pundits #comment-"+I+" .non-pundit-reply").show();f(this).parent().hide();return false})})}function H(L,I){var K=f(L).parent().parent();K.find(".replies-loading").show();var J=K.attr("id").split(" ");var O=J[0];var M=J[1];var N=J[2];G(O,N,M,I)}function e(){a();j()}function r(){D.hide();w.addClass("high-traffic-comments");w.find(".comments-content").html('<a href="#">Read Comments &#187;</a>');w.find("a").click(function(I){I.preventDefault();D.show();j()})}function a(){l=f(".comments-content"),D=f("#comments-loading-image");w=f("#comments-container")}function q(I){url=window.location.href;data={action:"request_pundit_status"};f.ajax({url:url,type:"POST",data:data,success:function(J){if(J.success){f(".pundit-request a").attr("disabled","disabled").hide();var K=f(I).parent().attr("rel");f("#"+K).html('<div class="alert alert-success">Your request has been submitted to our moderators for review.</div>')}else{}return J.success},error:function(){return false}});return false}function m(){f("#pundit-request-container-bottom").hide();
if(!F.displayPunditRequestLinks){return}if((F.comments.filterPundits&&(F.comments.pundit_page_count>=5))||(!F.comments.filterPundits&&(F.comments.page_count>=5))){f("#pundit-request-container-bottom").show()}}function t(){f(function(){if(!F.post.name){return}a();if(!F.displayPunditRequestLinks){f(".pundit-request").hide()}else{if(F.displayPunditRequestLinks=="non-logged-in"){f(".pundit-request a").attr("href","/register?first=index&pundit_request=1")}else{f("body").on("click",".pundit-request a",function(J){J.preventDefault();q(f(this))})}}f("body").on("click",".comments-content-message, .no-pundit-comments a",function(J){J.preventDefault();F.comments.filterPundits=0;z();F.cookies.set("comments-show-pundits","false")});f("body").on("click",".pundit-comments-content-message",function(J){J.preventDefault();F.comments.filterPundits=1;z();F.cookies.set("comments-show-pundits","true")});if(F.highTrafficMode){r()}else{var I=F.cookies.get("comments-show-pundits");if(I){if(I==="true"){F.comments.filterPundits=1}else{F.comments.filterPundits=0;F.comments.getAllComments=1}}j()}})}t();var b=false;f(function(){f(window).scroll(function(){b=true})});F.namespace("comments");F.comments.refresh=e;F.comments.getComments=j;F.comments.toggleCommentsSection=z}(BI,jQuery));(function(d,a,c,e){var b={params:{},init:function(g){this.params=g;this.isFirstTime=0;this.jumpLinks={};this.interval=5;try{if(c.external.msIsSiteMode()){if(c.external.msIsSiteModeFirstRun(0)){if(typeof c._gaq!=="undefined"){_gaq.push(["_trackEvent","ie9Pinned","Pinned Site"])}}else{if(typeof c._gaq!=="undefined"){_gaq.push(["_trackEvent","ie9Pinned","Loaded Pinned Site"])}}d(this.updateFeed)}}catch(f){}},updateFeed:function(){var h,f;if(b.params.hid){f="//"+a.sailthruHorizonURI+"/horizon/recommend";var g=b.params.hid;b.params={number:5,format:"jsonp",app:"ie-pinned-site",hid:g,nopageview:true};h="jsonp"}else{f="/ie9_pinned";h="json"}d.ajax({type:"GET",url:f,data:b.params,dataType:h,success:function(i){if("content" in i){i=i.content}if(i.count<=0){return}var l=0;for(var k=0;k<b.jumpLinks.length;k++){for(var m=0;m<i.length;m++){if(b.jumpLinks[k]["url"]==i[m]["url"]){l++}}}if(l==5){return}b.jumpLinks=i;b.updateJumpList("Recommended For You",b.jumpLinks)}});setTimeout(b.updateFeed,b.interval*60000)},updateJumpList:function(f,h){c.external.msSiteModeClearJumplist();c.external.msSiteModeCreateJumpList(f);for(var g=h.length-1;g>=0;g--){c.external.msSiteModeAddJumpListItem(h[g]["title"],h[g]["url"],a.env.getDomain()+"/favicon.ico")}c.external.msSiteModeShowJumplist();c.external.msSiteModeActivate()}};amplify.subscribe("ie9-pinned-site",b.init)}(jQuery,BI,window));(function(b,d){var a=function(f,h){var g=b(this).attr("rel");var e=parseInt(b.now()/1000)-g;if(e<90){return"1m"}if(e<3570){return Math.round(e/60)+"m"}if(e<86340){return Math.round(e/3600)+"h"}return h};var c=function(){b('[data-bi-format="date"]').text(a)};b(c)}(jQuery));(function(b){var e=function(){b("li.more").hover(function(){b(this).find(".more-menu").toggle()})};var d=function(g,f){if(f.ok){b("div.share-email-error").hide();b("div.share-email-body").hide();b("div.share-email-success").show();b("input.btn.email-post").hide();b("input.mail-from").val("");b("input.mail-to").val("")}else{b("div.share-email-error").html(f.error_msg);b("div.share-email-error").show()}};var a=function(){b(document).on("hover","#content ul.share",function(){b(this).css("overflow","visible")})};var c=function(){e();a()};b(c)}(jQuery));$(function(){var a=document.URL.replace(BI.env.getDomain(),"");a=a.replace(/^\/perfect_market\/navigation(\?vertical=)?/,"/");a=a.replace(/&?msg=[^&]*/,"");a=a.replace(/\?$/,"");if(!a.match(/^(\/login|\/register)/)){$("a#login_link").attr("href",BI.secureURI+"/login?redirect="+a);$("a#logout_link").attr("href","/logout?redirect="+a);$("form[name='login-form']").attr("action",BI.secureURI+"/login?redirect="+a);var c=$("a#tw_login_link").attr("href");$("a#tw_login_link").attr("href",c+"&redirect="+a);var c=$("a#linkedin_login_link").attr("href");$("a#linkedin_login_link").attr("href",c+"&redirect="+a);var c=$("a#menubar-register").attr("href");$("a#menubar-register").attr("href",c+"&redirect="+a)}var b=$(".masthead .user form");b.attr("action",b.attr("action")+"?redirect="+a);(function(f,e,h){var d;function g(){d=f(".fb-promo").show();if(!d.length){return}d.on("click","a",function(){e.FB_Core.login();return false})}if(!e.authenticated.facebook){f(g)}}(jQuery,BI))});(function(){var b=false;function a(){var c=$(".masthead .links ajax-loaded-script");var d=document.createElement("script");d.src=c.attr("src");c.parent()[0].appendChild(d);b=true}amplify.subscribe("bi-ajax-route-loaded",function(c){if(c.indexOf("/esi/user_menubar")>-1&&$(".masthead .links ajax-loaded-script").length&&!b){a()}});$(function(){if($(".masthead .links ajax-loaded-script").length&&!b){a()}})}());$(document).ready(function(){var g=$("#news-form");var b=$(".g-recaptcha");var f=$(".captcha-error");var a=false;var h=$(".privacy-input");var d=$(".privacy-error").text("Please confirm you have read our Privacy Policy.");window.newsletterCaptchaCallback=function(){a=true;c()};window.newsletterExpiredCaptchaCallback=function(){a=false;c()};function c(){f.toggleClass("captcha-error--visible",!a)}function e(){var j=h.is(":checked");var i=b.length;if(i){return j&&a}else{return j}}d.hide();h.on("click",function(){this.checked?d.hide():d.show()});g.on("submit",function(){return e()});$("#news-form-unsub").submit(function(i){if($("#null-reason").is(":selected")){alert("Please help us improve our newsletter offerings by selecting from the list provided!");return false}return true});if(!$(".right-news").length){return}$("#news-signup").click(function(){if($("#news-email").data("email")){var i=new Array;$.each($("input[name='newsletters[]']:checked"),function(){i.push($(this).val())});$.ajax({type:"post",url:"/newsletter?action=update",data:{newsletters:i},success:function(j){if(j){$("#news-alert").attr("class","alert alert-success").html("Success! Your Newsletter preferences have been saved.").show()}else{$("#news-alert").attr("class","alert alert-error").html("Oops! Something went wrong. Please try again.").show()}},dataType:"json",async:false});return false}return true});$("#news-email").focus(function(){var i=$(this).data("email");if(i){$(this).val($(this).data("email"));$(this).attr("disabled","disabled")}$("#newsletter-expand").slideDown()});$("#news-email").val("");$("#news-alert").hide();$("#news-email").defaultValue()});(function(){function b(){c();a()}function c(){amplify.subscribe("slideshow-content-rendered",a)}function a(){$(".click-to-enlarge .image a.zoomin, a.zoomin.enlarge").each(function(){var e=$(this);var d=e.attr("title_caption");var f=e.attr("title_source");var g;if(d||f){g='<span class="overlay_title">'+d+'</span><span class="overlay_source">'+f+"</span>"}else{g=e.attr("title")||""}e.lightBox({overrideTitle:function(){return g}})})}$(b)}());(function(a,c){function b(){a("iframe.post-loaded, script.post-loaded").each(function(){var d=a(this).prop("tagName").toLowerCase();var e=a(this).attr("data-src");if(e&&d==="iframe"){a(this).attr("src",e)}else{if(e&&d==="script"){a(this).replaceWith('<script src="'+e+'"><\/script>')}}})}a(b)}(jQuery));(function(c){var e=true;function d(i){var h=c(i);var g=h.parent();var j;j=h.attr("width")/h.attr("height");h.height((g.width()/j).toFixed(0))}function b(i){var h=c(i);var g=h.parent();var j;j=h.width()/h.height();h.width(g.width().toFixed(0));h.height((g.width()/j).toFixed(0))}function a(){if(c(this).is(":visible")){b(this)}}function f(){if(!e){return}c('iframe[src*="youtube.com/"]').each(function(){if(c(this).parents(".related-video-container").length){return}b(this)});c("#ooyalaplayer").each(a);c(".gifvid").each(function(){d(this)});c("[data-responsive-video]").find("iframe").each(a)}c(document).ready(f);c(window).resize(f);amplify.subscribe("interstitialAdShown",function(){});amplify.subscribe("interstitialAdHidden",function(){e=true;f()});amplify.subscribe("interstitialAdWillShow",function(){e=false})}(jQuery));(function(){$(function(){$(".videoplaceholder").click(function(){$(this).replaceWith('<iframe class="videoIframe" id="videoframe_'+Math.floor(Math.random()*1000)+'" src="/videoframe?embedcode='+$(this).data("embedcode")+"&videopcode="+$(this).data("videopcode")+"&width="+$(this).data("width")+"&height="+$(this).data("height")+'"></iframe>');return false})})}());(function(a,c){var b=".concierge-post";var e=function(){if(typeof amplify==="undefined"){return}amplify.subscribe("sailthru:ready",function(){d(BI.sailthru.posts);amplify.publish("related-rendered")})};var d=function(l){var j;var h;var m;var f=[];for(j=0;j<l.length;j++){var k=Math.floor(Math.random()*l.length);var g=l.splice(k,1);f[j]=g[0]}l=f;c(b).each(function(i,n){$this=c(this);h=l[i];if(typeof h==="undefined"){return}if(typeof(h.image)=="object"&&h.image.thumb){m=h.image.thumb.replace(/50-50/i,"140-140")}else{if(h.image){m=h.image.replace(/60-45/i,"140-140")}}$this.find("img").attr("src",m);$this.find("a.concierge-post-link").attr("href",h.url);$this.find("h4 > a").html(h.title);$this.find("p > a").html(h.title)})};c(e)}(window,jQuery));$(function(){$("#hive-more").click(function(a){$(".thehive-module li").slideDown("fast");$(this).fadeOut();a.preventDefault()});$(".thehive-module a.hive-link").mousedown(function(){$.post("/ws/heatmap",{homepage:"thehive-<?=$vertical->name?>",uri:$(this).attr("href")})})});(function(){function a(){$("body").on("click","[data-fade-replace]",function(){$el=$(this);$el.fadeOut();$("#"+$el.data("fade-replace")).fadeIn()})}$(a)}());(function(d,b){var c;function e(){c.fadeOut(1000).fadeIn(1000,e)}function a(){c=d("#countdown .live");if(c.data("bi-countdown-effect")=="blink"){e();amplify.unsubscribe("countdown-tick",a)}}d(a);amplify.subscribe("countdown-tick",a);b.countdownTimer.blink=e}($,BI));(function(E,e){var p;var F;var z;var g;var i;var c=vertical+"splitHP";var C=vertical+"splitHPtime";var a=600000;var n=1000;var v="";var t;var w;function y(){if(l()&&s()&&!A()){k();m();B();v=u(c);if(v!==""){o(v)}else{d()}}}function A(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function B(){if(b()){q(c)}}function b(){var H=u(C);H=H==""?0:H;var G=new Date().getTime();return(parseInt(H)+a)<G}function l(){return typeof homepage_id!=="undefined"}function s(){var G=E.location.qs.get("page");G=G==""?1:parseInt(G);return G===1}function k(){p=e(window);F=e(document);z=e("[data-bi-homepage] > .row-fluid .span9 .river");if(!z.length){z=e("[data-bi-homepage] > .row-fluid .span12 .river")}}function r(){if(l()&&s()&&!A()){g=e("[data-load-more-notification]");i=e(".pager");i.hide();g.show()}}function m(){t=z.height()-n}function d(){p.scroll(f)}function f(){if(!w){m()}if(!w&&t&&p.scrollTop()>=t){j();w=true}}function j(){var H=h;H.action="postload";var G=window.location.protocol+"//"+window.location.host+window.location.pathname;e.ajax(G,{data:H}).done(function(I){o(I);x(c,I);x(C,new Date().getTime())})}function x(G,H){if(D()){window.sessionStorage.setItem(G,H)}}function u(H){var G="";if(D()){G=window.sessionStorage.getItem(H)}G=G==undefined?"":G;return G}function q(G){if(D()){window.sessionStorage.removeItem(G)}}function D(){return !(typeof window.sessionStorage=="undefined")}function o(G){z.append(G);amplify.publish("river:chunk:loaded",{$container:z});g.hide();i.show()}function h(){var H,J=/\+/g,I=/([^&=]+)=?([^&]*)/g,L=function(M){return decodeURIComponent(M.replace(J," "))},K=window.location.search.substring(1);var G={};while(H=I.exec(K)){G[L(H[1])]=L(H[2])}return G}e(y);r()}(BI,jQuery));(function(h,d,b){var j;var c;var a;var g="cookie_notice_shown";function k(){if(!h.pageData.get("enableCookieNotice")){return}if(h.cookies.get(g)){return}var l=h.pageData.get("cookieNoticeTemplate");if(!l){return}h.template({tpl:l,frontend:true,data:{},callback:function(m){e();f();c.append(m);h.cookies.set(g,true)}})}function e(){c=d("[data-cookie-notice-container]")}function f(){c.on("click","[data-close-notice]",i)}function i(){c.remove()}d(k)}(BI,jQuery));(function(a,c){function d(){var e=a(".gif-icons");a(".gif-ipad").each(function(){var f=a(this);f.on("tap",function(g){g.preventDefault();e.show();f.find(".gif-icons").hide();f.find("video")[0].play()})})}function b(){d()}a(b)}(jQuery));(function(g,p,i){var a;var y;var w;var f="stick";var c=false;var s;var o=0;var q=g(window);var z={BOTTOM_REACHED:h,TOP_REACHED:d,REACHED_OTHER_EL_BOTTOM:r,SCROLL_PAST_SHARE:k,REACHED_OTHER_EL:n,REACHED_STICKY_UPWARD:j,REACHED_TRANSITION_VALUE:u,REACHED_PAGE_BOTTOM:t,RIGHT_RAIL_LONGER_THAN_POST:m};function x(A){this.el=A.el;this.$el=g(A.el);this.otherEl=A.otherEl||{};this.otherEl2=A.otherEl2||{};this.container=A.container;this.stateChecks=A.stateChecks;this.bindStickEvent=A.bindStickEvent;this.bindUnStickEvent=A.bindUnStickEvent;this.bindEvent=A.bindEvent;this.STICKY_BUFFER=A.STICKY_BUFFER;this.STICKY_TRANSITION_BUFFER=A.STICKY_TRANSITION_BUFFER;this.STICKY_TRANSITION_ABS_VALUE=A.STICKY_TRANSITION_ABS_VALUE;this.transition_offset_setting=null;this.transitionOffsetValue=A.transitionOffsetValue;this.done=false;this.eventNS=A.eventNS}x.prototype.bindStateChecks=function(){var A=this;g.each(this.stateChecks,function(B,D){var C=g.proxy(z[D],A);C()})};function h(){var A=this.$el;return(window.pageYOffset>(A.offset().top+A.height()))&&this.complete()}function d(){var B=this.el.getBoundingClientRect().top;var C=this.STICKY_BUFFER||0;var A=(B-C)<=0;return A&&this.stick()}function j(){var B=this.$el;var A=35;if(c){if((window.pageYOffset+A)<this.transition_offset_setting){B.removeClass("scroll-away");B.css("top","");c=false;this.stick()}}}function u(){return window.pageYOffset>=this.STICKY_TRANSITION_ABS_VALUE&&this.transitionStick()}function t(){var C=this.$el;var A=g(document).height()&&g(document).height()-g(window).height();var D=C.height();var B=BI.onePageSS.length&&BI.onePageSS.loadComplete;if(window.pageYOffset>=(A-(D/4))){this.complete();return true}else{if(B&&(window.pageYOffset>=(A-(D+100)))&&!c){this.transitionStick(window.pageYOffset);return false}else{(window.pageYOffset>=(A-(D+100)))&&!c&&this.transitionStick(window.pageYOffset);return false}}}function n(){var A=this.el.getBoundingClientRect().bottom;var B=this.otherEl.getBoundingClientRect().top;return(A>=B)&&!c&&this.transitionStick()}function r(){var D=this.$el;var C=g(this.otherEl);var B=90;var E=(C.offset().top+C.outerHeight(true))-B;var G=D.offset().top;var F=window.pageYOffset;var A=F<o;o=F;return(G<=E&&A)&&this.unstick()}function k(){var A=g(this.container);var B=(g(this.otherEl).offset().top-71)+BI.configs.ads.subnav_sticky_ad_buffer;if(window.pageYOffset>B){if(this.done&&c){return}this.complete();s=window.clearInterval(s);A.height("auto")}}function m(){var A=g(this.otherEl);if(y.length){if(A.height()>y.height()||y.height()<=this.HEIGHT_THRESHOLD){this.complete()}}}x.prototype.complete=function(){var A=this.$el;A.attr("style",null);A.removeClass("scroll-away");c=false;this.done=true;this.unstick();q.off("scroll"+this.eventNS,g.proxy(this.bindStateChecks,this))};x.prototype.unstick=function(){var A=this.$el;if(A.hasClass(f)){A.removeClass(f)}};x.prototype.stick=function(){var A=this.$el;var B=g(this.container);if(this.done){return}if(!A.hasClass(f)&&!c){A.removeClass("scroll-away");B&&B.height(A.height());A.addClass(f);return}};x.prototype.transitionStick=function(B){var A=this.$el;if(!A.hasClass(f)||this.done){return}A.addClass("scroll-away");A.removeClass(f);this.transition_offset_setting=B||this.transitionOffsetValue(A);A.css("top",this.transition_offset_setting);c=true};x.prototype.adHeightTimer=function(){var A=this.$el;var C=g(this.container);s=window.setInterval(D,50);var B=A.height();function D(){var E=A.height();if(B!==E){C.height(A.height());B=E}}};function l(){y=g(".js-post");w=g(".footer");a=g("[data-sticky]")}function b(A){if(A.bindStickEvent){p.subscribe(A.bindStickEvent,g.proxy(A.stick,A))}if(A.bindUnStickEvent){p.subscribe(A.bindUnStickEvent,g.proxy(A.unstick,A))}}function e(A){o=0;q.on("scroll"+A.eventNS,g.throttle(20,g.proxy(A.bindStateChecks,A)))}function v(){var B=[];var A;var C;l();a.each(function(D,E){B[g(E).data("sticky")]=BI.sticky[g(E).data("sticky")];g(E).data("sticky",BI.sticky[g(E).data("sticky")]);g(E).data("sticky").el=E;g(E).data("sticky").container=g(E).data("sticky").container&&E.parentNode
});B.leaderboard&&(A=new x(B.leaderboard));B.lower300&&(C=new x(B.lower300));if(B.leaderboard){b(A);e(A);A.unstick();A.bindStateChecks();A.container&&A.adHeightTimer()}if(B.lower300){e(C);C.bindStateChecks();C.unstick()}}g(v);exposed={leaderboard:{stateChecks:["REACHED_OTHER_EL","REACHED_STICKY_UPWARD","SCROLL_PAST_SHARE"],bindStickEvent:"masthead-collapsed",bindUnStickEvent:"masthead-expanded",otherEl:g("[data-share]")[0],container:true,STICKY_TRANSITION_BUFFER:24,transitionOffsetValue:function(A){var B=BI.configs.ads.subnav_sticky_ad_buffer;return(g(this.otherEl).offset().top-A.height()-this.STICKY_TRANSITION_BUFFER)+B},eventNS:".leaderboard"},lower300:{stateChecks:["RIGHT_RAIL_LONGER_THAN_POST","TOP_REACHED","REACHED_OTHER_EL_BOTTOM","REACHED_TRANSITION_VALUE","REACHED_STICKY_UPWARD","BOTTOM_REACHED","REACHED_PAGE_BOTTOM"],bindEvents:"adRendered",otherEl:g(".right-rail")[0],STICKY_BUFFER:95,STICKY_TRANSITION_ABS_VALUE:8000,transitionOffsetValue:function(){return this.STICKY_TRANSITION_ABS_VALUE},eventNS:".lower300",HEIGHT_THRESHOLD:4000}};BI.sticky=exposed}(jQuery,amplify));(function(p,u,q){var C;var s;var i={};var z={};var r=1;var B=1;var D=200;if(BI.isMobile){D=300}var w=false;var b=false;var o=3;var c=false;function t(){C=p(".main-nav");s=p(".vaop-breakpoint");$singleSlidesLink=p("a[start-href].href-swap")}function f(){}function j(){p(window).scroll(p.throttle(50,y));p(window).scroll(p.throttle(20,k));y();window.googletag=window.googletag||{cmd:[]};googletag.cmd.push(function(){googletag.pubads().addEventListener("slotRenderEnded",function(G){A()})})}function A(){for(var G=0;G<BI.vaop.length;G++){e(G)}}function e(G){var H=s.eq(G);var J=Math.round(H.position().top);var I=H.attr("id");BI.vaop[G]["top"]=J}function k(){var L=window.pageYOffset-C.height();if(typeof BI.vaop[0].top==="undefined"){return}for(var J=0;J<BI.vaop.length;J++){var K=BI.vaop[J].top;var H;if(J===BI.vaop.length-1){H=p(document).height()}else{H=BI.vaop[J+1].top}if(L>=K&&L<H){if(window.location.hash.substr(1)===BI.vaop[J].anchor){return}var G=window.location.href.replace(window.location.hash,"");G=G.replace(/\/$/,"");var I="/#"+BI.vaop[J].anchor;window.history.replaceState("object or string","Title",G+I);return}}return}function y(){var I=window.pageYOffset-C.height()+window.innerHeight+D;if(!w&&(I>s.eq(r-1).offset().top)&&typeof i[r]==="undefined"){for(var G=0;G<o;G++){l(r);if(typeof BI.vaop[r]!=="undefined"){var H=BI.vaop[r].embeds;if(typeof H.instagram!=="undefined"){c=true}}}if(c&&typeof instgrm!=="undefined"){instgrm.Embeds.process()}}if(!b&&(I>s.eq(B+1).offset().top)&&typeof z[B]==="undefined"){d(B)}}function d(H){z[H]=true;B++;var G={google:{path:location.pathname+"/"+BI.vaop[H].name},internal:{vertical:window.vertical||"",postId:window.post?window.post.id:"",author:window.post?window.post.author:"",location:location.pathname+"#"+BI.vaop[H].name}};BI.frontendAnalytics.fire(G);if(typeof window.__reach_config!=="undefined"){BI.frontendAnalytics.fireSimpleReach()}if(B===s.length-1){b=true}}function n(){r++;if(r>s.length){BI.onePageSS.loadComplete=w=true;A()}}function F(W,T,V){var M=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"mobileweb":"desktop";var G=BI.vaop[T-1];var O=h(G.title);var N=h(G.postTitle);var H=G.url;var U="/#"+G.anchor;var Q='<a href="#" class="slide-share-button slide-share-button--pinterest"></a>';var S='<a href="#" class="slide-share-button slide-share-button--facebook"></a>';var I=E("facebook",M,U);var L=E("pinterest",M,U);var X="http://pinterest.com/pin/create/link/?url="+encodeURIComponent(L)+"&media="+encodeURIComponent(V)+"&description="+encodeURIComponent(O||N);var K=W.parent();var P;K.prepend('<div class="slide-share-container" data-slide-share-container />');P=K.find(".slide-share-container");P.append(Q).append(S);var R=K.find(".slide-share-button--pinterest");var J=K.find(".slide-share-button--facebook");R.on("click",function(Y){Y.preventDefault();v("pinterest",H);a(X)});J.on("click",function(Y){Y.preventDefault();v("facebook",H);FB.ui({method:"share",title:N,description:O,picture:V,href:I},function(Z){})})}function v(G,H){dataLayer.push({event:"SocialShare",socialNetwork:G,socialAction:"Share Slide",socialTarget:H,eventCategory:"Share",eventAction:"Click Bottom",eventLabel:G})}function E(G,H,I){return location.origin+location.pathname+"?utm_medium=social&utm_campaign=social-share-click-thru&utm_source="+G+"&utm_content=slideshow&utm_term="+H+I}function m(G){p(G).on("touchstart",function(J){var I=this.parentElement;J.stopPropagation();H(I);p(I).toggleClass("slide-image-container--active")});function H(I){p(document).on("touchstart.share-active",function(J){if(p(J.target).closest(I).length===0){p(I).removeClass("slide-image-container--active");p(this).off("touchstart.share-active")}})}}function h(H){var G=document.createElement("textarea");G.innerHTML=H;return G.value}function a(G,O,K){O=O||900;K=K||500;var N=window.screenLeft!=q?window.screenLeft:screen.left;var H=window.screenTop!=q?window.screenTop:screen.top;var I=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width;
var P=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var J=((I/2)-(O/2))+N;var M=((P/2)-(K/2))+H;var L=window.open(G,"Pinterest / Pin it","scrollbars=yes, width="+O+", height="+K+", top="+M+", left="+J);if(window.focus){L.focus()}}function l(G){if(G>BI.vaop.length){return}s.eq(G-1).find("img").each(function(){var J=p(this);var K=J.attr("data-src");J.load(function(){e(G-1)});J.attr("src",K);if(BI.vaop[G-1].slideShareButtonsEnabled){F(J,G,K);if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){m(J)}}});var I=BI.vaop[G-1].html;var H=BI.vaop[G-1].ads;if(I===""&&H===""){e(G-1);n();return}i[G]=true;if(Object.keys(BI.vaop[G-1].embeds).length){s.eq(G-1).find(".embed-placeholder").append(I)}else{s.eq(G-1).append(I)}if(H){s.eq(G-1).after(H)}e(G-1);n()}function g(){var G=p(".feed-footer-wrapper").length;if(G===2){p(".feed-footer-wrapper:first-of-type").css("display","none")}}function x(){if(typeof BI.vaop!=="object"){return}t();f();j();g()}p(x);exposed={loadComplete:w};BI.onePageSS=exposed}(jQuery,amplify));(function(c,a,b,e){function d(){a.loader.load("https://apis.google.com/js/plusone.js");a.loader.load("https://plus.google.com/js/client:plusone.js?onload=gPlusInit")}c(d)}(jQuery,BI,window));(function(e,d,c,g){d.gPlusInit=function(){f();try{delete d.gplusInit}catch(i){d.gplusInit=g}};d.gPlusLogin=function(i){b(i);try{delete d.gPlusLogin}catch(j){d.gPlusLogin=g}};function h(k,m){var j=false;var l=false;setTimeout(function(){l=true},10000);var i=e(k).offset().top;e(d).scroll(function(){if(!j&&e(d).scrollTop()+e(d).height()>i&&l===true){j=true;m()}})}function f(){var j={approvalprompt:"force",scope:"https://www.googleapis.com/auth/plus.login https://www.googleapis.com/auth/plus.me https://www.googleapis.com/auth/userinfo.email",requestvisibleactions:"http://schema.org/AddAction",clientid:gPlusConfigs.client_id,redirecturi:"postmessage",accesstype:"offline",callback:"gPlusLogin",cookiepolicy:"single_host_origin"};var l=["gplus_login_button","gplus_register_button","gplus_login_link"];for(var k=0;k<l.length;k++){gapi.signin.render(l[k],j)}}function b(i){if(!i.access_token){return}var j="/register?action=googleplus&first=googleplus";if(d.location.pathname!=="/login"&&d.location.pathname!=="/register"){j=j+"&redirect="+encodeURIComponent(d.location.pathname)}j=j+"&state="+encodeURIComponent(i.state)+"&access_token="+encodeURIComponent(i.access_token)+"&token_type="+encodeURIComponent(i.token_type)+"&expires_in="+encodeURIComponent(i.expires_in)+"&code="+encodeURIComponent(i.code);d.location.replace(j)}function a(){}c.Google_Plus={init:f,login:b,logout:a}}(jQuery,window,BI));(function(g,l,u,h){var e=false,m=true,p=true,n=false,v=false,x=false;function j(){if(!r()){return false}g.get("/ws/googleplus?action=postMoment",{name:l.location.pathname.substring(1)},function(y){if(!y||y.error){o("An error occured. Could not post app activity.",function(){},null)}else{message="Added to your Google activity log - <a href='#' class='social-reader-notification-link'>Undo</a>";o(message,s,y.id);k()}})}function s(y){g.get("/ws/googleplus?action=deleteMoment",{id:y},function(z){if(!z||z.error){}else{message="Post removed - <a href='#' class='social-reader-notification-link'>Reshare</a>";o(message,j);k()}})}function k(y){if(!y){y=5}g.get("/ws/googleplus?action=listMoments",function(z){activity_list=g(".gp-remove-articles");activity_list.html("<p></p>");if(typeof(z)!="undefined"){var A=null;var B=0;g.each(z,function(C,D){if(B>=y){return}list_item=('<p><a class="sprites remove-btn" title="Remove article" data-post-id="'+D.id+'"></a><a href="'+D.target.url+'">'+D.target.name+"</a></p>");if(A!==D.target.name){activity_list.append(list_item);B++}A=D.target.name});g(".gp-remove-articles .remove-btn").click(function(C){C.preventDefault();post_id=g(this).attr("data-post-id");c(post_id)})}})}function c(y){g.get("/ws/googleplus?action=deleteMoment",{id:y},function(z){k()})}function o(y,A,z){if(w()){y=y+' <a class="close-button" onclick="$(\'#social-reader-notification\').hide();"></a><br style="clear:both;"/>';gp_notify=g("#social-reader-notification");gp_notify.html(y);g(".social-reader-notification-link").click(function(B){B.preventDefault();A(z)});gp_notify.show();if(gp_notify.is(":hidden")){gp_notify=g("#social-reader-notification").detach();gp_notify.prependTo(".referrers-anchor")}if(g(".ychartsQuoteEmbed").length>0){gp_notify=g("#social-reader-notification").detach();gp_notify.prependTo(".bottom-related")}}}function r(y){if(typeof(y)!="undefined"){if(y===true||y===false){e=y}}return e}function w(y){if(typeof(y)!="undefined"){if(y===true||y===false){m=y}}return m}function b(y){if(typeof(y)!="undefined"){if(y===true||y===false){p=y}}return p}function d(y){if(typeof(y)!="undefined"){if(y===true||y===false){v=y}}return v}function f(y){if(typeof(y)!="undefined"){n=y}return n}function t(A,C){var z=false;var B=false;setTimeout(function(){B=true},10000);var y=g(A).offset().top;g(l).scroll(function(){if(!z&&g(l).scrollTop()+g(l).height()>y&&B===true){z=true;C()}})}function a(){g.get("/ws/googleplus?action=userInfo",function(y){g("span#gp-username").html(y.displayName);if(y.image.url){var z=g(".gp-profile-pic");z.replaceWith('<img src="'+y.image.url+'" class="pull-left" />')}})}function q(){if(x===true){return}if(d()===false){return}g.get("/ws/googleplus?action=isLoggedIn",function(y){if(typeof(y)!="undefined"&&y!==null){if(y.logged_in===true){g(".fb-promo").hide();g(".linkedin a.login").hide();if(r()){g(".google-app-container a.switch").removeClass("switch-off")}else{g(".google-app-container a.switch").addClass("switch-off")}if(w()===true){g(".google-app-container #notify_yes").attr("checked",true)}else{g(".google-app-container #notify_no").attr("checked",true)}a();g(".google-app-container a.switch").click(function(z){z.preventDefault();if(!g(this).hasClass("switch-off")){g.post("/ws/googleplus?action=setting",{gp_social_share:false});g(this).addClass("switch-off");g("#gp-app-form input:radio").attr("disabled",true)}else{g.post("/ws/googleplus?action=setting",{gp_social_share:true});g(this).removeClass("switch-off");g("#gp-app-form input:radio").attr("disabled",false)}});g('.google-app-container input[name="shared"]').change(function(){val=g(this).val();g.post("/ws/googleplus?action=setting",{gp_share_notify:val})});g(".gp-remove-articles .remove-btn").click(function(z){z.preventDefault();g(this).parent("p").remove()});g(".google-app-container").show();if(g("#comments").length>0){t("#comments",j)}k(5)}}x=true})}u.GP_SocialReader={share_setting:r,notify_setting:w,widget_setting:b,kill_switch:d,loggedin_uid:f,init:q};var i=g('[data-bi-social-reader="google"]');
if(i.length>0){u.GP_SocialReader.kill_switch(i.data("bi-social-reader-kill"));u.GP_SocialReader.loggedin_uid(i.data("bi-social-reader-uid"));u.GP_SocialReader.widget_setting(i.data("bi-social-reader-widget"));u.GP_SocialReader.share_setting(i.data("bi-social-reader-share"));u.GP_SocialReader.notify_setting(i.data("bi-social-reader-notify"))}}(jQuery,window,BI,undefined));(function(f,c,a,e,h){var d;function b(i){e.fbAsyncInit=function(){if((typeof FB!="undefined")&&FB.init){FB.init({appId:i,status:true,cookie:true,xfbml:true});FB.Event.subscribe("edge.create",function(j){dataLayer.push({event:"socialInt",socialNetwork:"Facebook",socialAction:"Like",socialTarget:j})})}a.publish("facebook-init")};c.loader.load("//connect.facebook.net/en_US/all.js")}function g(){d=f("[data-bi-facebook-root]");if(d.length>0){b(d.data("bi-facebook-root"))}}f(g)}(jQuery,BI,amplify,window));(function(g,h,j,c){var d;function i(p){d=p;var o=j.FB_SocialReader.loggedin_uid();if(j.FB_SocialReader.widget_setting()){FB.login(function(q){if(q.authResponse){FB.api("me/permissions","get",function(r){if(typeof(r.data)!="undefined"&&r.data!==null){if(r.data[0].publish_actions){g.post("/account/ajax/fb_social_setting",{fb_social_widget:true},function(){document.location=a(true)})}else{g.post("/account/ajax/fb_social_setting",{fb_social_widget:false},function(){document.location=a(false)})}}})}},{scope:"publish_actions"})}else{if(!o){FB.login(function(q){document.location=a(false)})}}return false}function a(o){var p="/register?action=facebook";if(o){p+="&fb_social_widget=1"}if(d){p+="&first=facebook"}if(h.location.pathname!=="/login"&&h.location.pathname!=="/register"){p+="&redirect="+encodeURIComponent(document.location.href)}return p}function n(){var o=function(){if(FB.getAuthResponse()){FB.logout(function(){document.location="/logout?redirect="+encodeURIComponent(document.location.href)});return false}};var p=function(){document.location="/logout?redirect="+encodeURIComponent(document.location.href)};m(o,p);return true}function k(){var o=document.location.href;FB.ui({method:"stream.share",u:o});return false}function e(){m(function(o){FB.api("/me/picture?access_token="+o.fb_token,function(p){g(".fb-profile-pic").replaceWith('<img src="'+p.data.url+'" class="pull-left"/>')})})}function b(){g("span.fb-user-pic").each(function(o,q){var p=g(q);fb_uid=p.attr("data-fb-uid");p.replaceWith('<img src="https://graph.facebook.com/'+fb_uid+'/picture" />')})}function f(){m(function(o){FB.api("/me/?access_token="+o.fb_token,function(p){g("span#fb-username").html(p.first_name)})})}function m(o,p){FB.getLoginStatus(function(q){if(q.status==="connected"){var r={fb_uid:q.authResponse.userID,fb_token:q.authResponse.accessToken};if(o){o(r)}}else{if(p){p()}}})}function l(){m(function(){e();f()});b();g("#logout_link").click(n)}j.FB_Core={init:l,login:i,logout:n,share:k,check_auth:m,profile_pic:e,user_profile_pics:b,username:f}}(jQuery,window,BI));(function(f,k,u,g){var d=false,l=true,p=true,n=false,v=false,x=false;function i(){if(!r()){return false}u.FB_Core.check_auth(function(z){var y=f('meta[property="og:url"]').attr("content").replace("local","www");FB.api("me/permissions","get",function(A){if(typeof(A.data)!="undefined"&&A.data!==null){if(A.data[0].publish_actions){var B={};B.article=y;FB.api("me/news.reads?access_token="+z.fb_token,"post",B,function(C){if(!C||C.error){}else{message="Posted to Facebook Timeline - <a href='#' class='social-reader-notification-link'>Undo</a>";o(message,s,C.id);j()}})}}})});return false}function s(y){FB.api(y+"","delete",function(z){if(!z||z.error){}else{message="Post removed - <a href='#' class='social-reader-notification-link'>Reshare</a>";o(message,i);j()}});return false}function j(y){if(!y){y=5}u.FB_Core.check_auth(function(z){FB.api("me/news.reads",function(A){activity_list=f(".fb-remove-articles");if(typeof(A.data)!="undefined"){var B=null;var C=0;f.each(A.data,function(D,E){if(C>=y){return}list_item=('<p><a class="sprites remove-btn" title="Remove article" data-post-id="'+E.id+'"></a><a href="'+E.data.article.url+'">'+E.data.article.title+"</a></p>");if(B!==E.data.article.title){activity_list.append(list_item);C++}B=E.data.article.title});f(".fb-remove-articles .remove-btn").click(function(D){D.preventDefault();post_id=f(this).attr("data-post-id");b(post_id)})}})})}function b(y){u.FB_Core.check_auth(function(z){del_url=y+"";FB.api(del_url,"delete",function(A){if(!A||A.error){}else{j()}})});return false}function o(y,A,z){if(w()){y=y+' <a class="close-button" onclick="$(\'#social-reader-notification\').hide();"></a><br style="clear:both;"/>';fb_notify=f("#social-reader-notification");fb_notify.html(y);f(".social-reader-notification-link").click(function(B){B.preventDefault();A(z)});fb_notify.show();if(fb_notify.is(":hidden")){fb_notify=f("#social-reader-notification").detach();fb_notify.prependTo(".referrers-anchor")}if(f(".ychartsQuoteEmbed").length>0){fb_notify=f("#social-reader-notification").detach();fb_notify.prependTo(".bottom-related")}}}function r(y){if(typeof(y)!="undefined"){if(y===true||y===false){d=y}}return d}function w(y){if(typeof(y)!="undefined"){if(y===true||y===false){l=y}}return l}function a(y){if(typeof(y)!="undefined"){if(y===true||y===false){p=y}}return p}function c(y){if(typeof(y)!="undefined"){if(y===true||y===false){v=y}}return v}function e(y){if(typeof(y)!="undefined"){n=y}return n}function t(A,C){var z=false;var B=false;setTimeout(function(){B=true},10000);var y=f(A).offset().top;f(k).scroll(function(){if(!z&&f(k).scrollTop()+f(k).height()>y&&B===true){z=true;C()}})}function m(y){if(u.FB_SocialReader.loggedin_uid()){y();return}return false}function q(){if(x===true){return}if(c()===false){return}u.FB_Core.check_auth(function(y){m(function(){if(e()!=y.fb_uid){return}FB.api("me/permissions","get",function(z){if(typeof(z.data)!="undefined"&&z.data!==null){if(z.data[0].publish_actions){if(r()){f(".facebook-app-container a.switch").removeClass("switch-off")}else{f(".facebook-app-container a.switch").addClass("switch-off")}if(w()===true){f(".facebook-app-container #notify_yes").attr("checked",true)}else{f(".facebook-app-container #notify_no").attr("checked",true)}f(".facebook-app-container a.switch").click(function(A){A.preventDefault();if(!f(this).hasClass("switch-off")){f.post("/account/ajax/fb_social_setting",{fb_social_share:false});f(this).addClass("switch-off");f("#fb-app-form input:radio").attr("disabled",true)}else{f.post("/account/ajax/fb_social_setting",{fb_social_share:true});f(this).removeClass("switch-off");f("#fb-app-form input:radio").attr("disabled",false)}});f('.facebook-app-container input[name="shared"]').change(function(){val=f(this).val();f.post("/account/ajax/fb_social_setting",{fb_share_notify:val})});f(".fb-remove-articles .remove-btn").click(function(A){A.preventDefault();f(this).parent("p").remove()});f(".facebook-app-container").show();if(f("#comments").length>0){t("#comments",i)}j(5)
}else{u.FB_Core.login()}}else{u.FB_Core.login()}})});x=true})}u.FB_SocialReader={share_setting:r,notify_setting:w,widget_setting:a,kill_switch:c,loggedin_uid:e,init:q};var h=f('[data-bi-social-reader="facebook"]');if(h.length>0){u.FB_SocialReader.kill_switch(h.data("bi-social-reader-kill"));u.FB_SocialReader.loggedin_uid(h.data("bi-social-reader-uid"));u.FB_SocialReader.widget_setting(h.data("bi-social-reader-widget"));u.FB_SocialReader.share_setting(h.data("bi-social-reader-share"));u.FB_SocialReader.notify_setting(h.data("bi-social-reader-notify"))}}(jQuery,window,BI,undefined));$(function(){function a(){if(!$(".content.post").length){return}b()}function b(){amplify.subscribe("facebook-init",BI.FB_Core.init);amplify.subscribe("facebook-init",BI.FB_SocialReader.init)}$(a)});var CONTACT={contactPage:window.location.href,siteSkin:function(){var a=this;if(a.contactPage.indexOf("/contact")!=-1){$(".siteskin-dropshadow").css("position","relative")}}};CONTACT.siteSkin();(function(b,a,d){var c=function(){if(typeof homepage_id!="undefined"){b(document).bind("fb_init",BI.FB_Core.init);b(document).bind("fb_init",BI.FB_SocialReader.init);b(".pager .disabled a, .pagination .active a").on("click",function(f){f.preventDefault()});b("body").addClass("two-column-layout");a.publish("river:chunk:loaded",{$container:b(".river")})}};b(c)}(jQuery,amplify));(function(){var c;function a(){c=$("#cc-con")}function b(){c.imagesLoaded(function(){c.masonry({columnWidth:240,itemSelector:".collection-item"})})}function d(){a();b()}$(function(){if(document.getElementById("interstitial-ad-content")){BI.welcomeAd.executeOnHide.push(d);return}d()})}());(function(){function a(){if(!$(".content.category-grid").length){return}b()}function b(){amplify.subscribe("facebook-init",BI.FB_Core.init);amplify.subscribe("facebook-init",BI.FB_SocialReader.init)}$(a)}());(function(a){function b(){var d=a("#archiveSelector");function c(){d.submit()}if(d.length>=1){a("#archive-datepicker").datepicker({dateFormat:"yy-mm-dd",onSelect:c});a("#vertical").change(c)}}a(b)}(jQuery));(function(b,a,d){function c(){if(typeof a.post.quiz!=="undefined"){var e=b(".post-quiz-container");e.biQuiz({data:a.post.quiz})}}b(c)}(jQuery,BI));(function(h,c){var e=false;var d=null;var m=15;var o=false;var f=false;var k=false;var j;var a=function(){h("a[data-liveblog-switch]").click(function(r){r.preventDefault();var q=h(this);if(!q.hasClass("switch-off")){q.addClass("switch-off");n()}else{q.removeClass("switch-off");b()}});h("a[data-liveblog-order]").click(function(r){r.preventDefault();var q=h(this);q.parents("ul").find("li a").removeClass("selected");q.addClass("selected");d=h(this).data("liveblog-order");l()});h("a[data-liveblog-order="+d+"]").addClass("selected")};var l=function(){if(o){return}o=true;h.get(document.location.href,{action:"get_blog",order:d}).success(function(q){if(q.active){j.html(q.html)}else{g()}}).complete(function(){o=false})};var g=function(){n();h("a[data-liveblog-switch]").addClass("switch-off").unbind().click(function(q){q.preventDefault()})};var b=function(){e=true};var n=function(){e=false};var i=function(){if(e){l()}setTimeout(i,m*1000)};var p=function(q){d=q;a();i();b()};h(function(){j=h("[data-bi-liveblog-shell]");if(j.length<1){return}p(j.data("bi-liveblog-order"))})}(jQuery));BI.videopost=(function(f,c){var g=5000;function d(j){var k=j.data("preroll"),i=true;if(c.pianoEnabled===true){if(c.piano===true||k===false){i=false}}else{if(k===false){i=false}}return i}function e(o){var n=o.data("device"),i=o.data("videoPostVertical"),m=new Date().getTime(),k=encodeURIComponent(c.siteURI),q="";preRoll=o.data("preroll");if(c.site=="US"){var q="/4442842/"+n+"/"+i}else{if(c.site=="UK"){var q="/4442842/"+n+"-UK/"+i}else{if(c.site=="TI"){var q="/4442842/tech-insider/"+n+"/"+i}else{if(c.site=="INS"){var q="/4442842/insider/"+n+"/"+i}}}}var j=encodeURIComponent(q);if(d(o)){var p="https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu="+j+"&gdfp_req=1&env=vp&output=vast&unviewed_position_start=0&correlator="+m+"&impl=s&url="+k;return p}}function b(j){var i=j.data("videoTags"),k=j.data("videoAuthors");customParams="vp_abl=1&tag="+i+"&author="+k,encodeCustomParams=encodeURIComponent(customParams).toLowerCase();return encodeCustomParams}function a(p){var s=p.data("ooyalaPlayerId"),i=p.data("ooyalaVideoId"),q=p.data("autoPlay"),m="BhdmY6l9g002rBhQ6aEBZiheacDu",r="ooyala-video-player-"+c.UUID.get(),n=e(p),t=b(p),j=p.data("device");p.attr("id",r);var o=0;var k={pcode:m,playerBrandingId:s,layout:"chromeless",autoplay:q,debug:false,skin:{config:c.staticURI+"/assets/js/app/partners/ooyala/skin.json",languages:[{language:"en",languageFile:"http://player.ooyala.com/static/v4/candidate/latest/skin-plugin/en.json"}]},encodingPriority:["hls","webm","mp4","dash"],"google-ima-ads-manager":{all_ads:[{position:0,position_type:"t",tag_url:n}],additionalAdTagParameters:{cust_params:t,vid:i,vpos:"preroll",cmsid:"642"}},onCreate:function(u){if(j=="Desktop"){u.mb.subscribe("*","test",function(v){if(v.match(OO.EVENTS.EMBED_CODE_CHANGED)){o++}if(v.match(OO.EVENTS.PLAYBACK_READY)){if(o>1){u.mb.publish(OO.EVENTS.INITIAL_PLAY)}}})}else{if(j=="Mobile-Web"){u.mb.subscribe("*","test",function(v){if(v.match(OO.EVENTS.EMBED_CODE_CHANGED)){l++}})}}},adLoadTimeout:8};OO.ready(function(){window.pp=OO.Player.create(r,i,k)})}function h(){if(f(".post-video").length){f(".ooyala-video-player").each(function(){a(f(this))})}if(f(".now-watch-video-player").length){f(".now-watch-video-player").each(function(){a(f(this))})}}h()});if(BI.pianoEnabled===true){_PIANO.pianoCookie();if(BI.piano===true){_PIANO.checkAccess()}}BI.videopost(jQuery,BI);(function(){function a(){$("body").on("click","[data-slide-hidden]",function(d){var b=$(this);var c=b.data("slide-hidden");$("."+c+" li").slideDown("fast",function(){b.hide()});d.preventDefault()})}$(a)}());