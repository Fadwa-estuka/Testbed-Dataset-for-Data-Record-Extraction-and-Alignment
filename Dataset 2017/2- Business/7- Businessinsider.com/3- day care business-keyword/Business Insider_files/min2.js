/*!
 * Amplify Core 1.1.2
 *
 * Copyright 2011 - 2013 appendTo LLC. (http://appendto.com/team)
 * Dual licensed under the MIT or GPL licenses.
 * http://appendto.com/open-source-licenses
 *
 * http://amplifyjs.com
 */
(function(b,d){var c=[].slice,e={};var a=b.amplify={publish:function(h){if(typeof h!=="string"){throw new Error("You must provide a valid topic to publish.")}var g=c.call(arguments,1),m,l,k,j=0,f;if(!e[h]){return true}m=e[h].slice();for(k=m.length;j<k;j++){l=m[j];f=l.callback.apply(l.context,g);if(f===false){break}}return f!==false},subscribe:function(k,g,p,n){if(typeof k!=="string"){throw new Error("You must provide a valid topic to create a subscription.")}if(arguments.length===3&&typeof p==="number"){n=p;p=g;g=null}if(arguments.length===2){p=g;g=null}n=n||10;var h=0,f=k.split(/\s/),o=f.length,m;for(;h<o;h++){k=f[h];m=false;if(!e[k]){e[k]=[]}var j=e[k].length-1,l={callback:p,context:g,priority:n};for(;j>=0;j--){if(e[k][j].priority<=n){e[k].splice(j+1,0,l);m=true;break}}if(!m){e[k].unshift(l)}}return p},unsubscribe:function(f,h,k){if(typeof f!=="string"){throw new Error("You must provide a valid topic to remove a subscription.")}if(arguments.length===2){k=h;h=null}if(!e[f]){return}var j=e[f].length,g=0;for(;g<j;g++){if(e[f][g].callback===k){if(!h||e[f][g].context===h){e[f].splice(g,1);g--;j--}}}}}}(this));(function(d,e){var c;function b(g){var l=g.split("."),j=c,f="";for(var h=0,k=l.length;h<k;h++){f=l[h];j[f]=j[f]||{};j=j[f]}return j}function a(g){var f=BI.env.getDomain(true)||"businessinsider.com";var h=["static1","static2","static3","static4","static5","static6"];return"http://"+h[Math.floor(Math.random()*h.length)]+"."+f+g}c={namespace:b,CDNPath:a};d.BI=d.BI||c;b("abTests");b("post");b("comments");b("authenticated.twitter");b("authenticated.facebook");b("authenticated.linkedin");b("authenticated.googleplus")})(window);(function(b,e){var d;b.namespace("cookies");function c(j,k,h){var g="";if(h){var i=new Date();i.setTime(i.getTime()+(h*60*60*1000));g="; expires="+i.toGMTString()}document.cookie=j+"="+k+g+"; path=/"}function a(h){var k=h+"=";var g=document.cookie.split(";");for(var j=0;j<g.length;j++){var l=g[j];while(l.charAt(0)==" "){l=l.substring(1,l.length)}if(l.indexOf(k)==0){return l.substring(k.length,l.length)}}return null}function f(g){if(a(g)){var h=new Date();document.cookie=g+"=0;expires="+h.toGMTString()+";path=/;";return true}}d={set:c,get:a,clear:f};b.cookies=d}(BI));(function(a,d){var b;a.namespace("iframe");var c=function(f,e){if(e<=5){return}var g=document.getElementById(f);g.height=e+"px";return true};b={expand:c};a.iframe=b;a.expandIframe=a.iframe.expand}(BI));(function(b,f){b.namespace("env");var d;function e(g){d=g;return d}function c(g){if(g){return d.replace(d.split(".")[0]+".","")}return d}function a(){var g=window.location.host;return g.split(".")[0]=="www"||g.split(".")[0]=="stage"||g.indexOf("uk.businessinsider")>-1}b.inProduction=a;b.env={inProduction:a,setDomain:e,getDomain:c}}(BI));(function(b,d){var c;b.namespace("UUID");function a(){var f=new Date().getTime();var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(h){var g=(f+Math.random()*16)%16|0;f=Math.floor(f/16);return(h=="x"?g:(g&7|8)).toString(16)});return e}c={get:a};b.UUID=c}(BI));(function(b,f){var e;var d={};b.namespace("pageData");function g(h,i){d[h]=i}function a(h){return d[h]}function c(h){return d}e={set:g,get:a,getAll:c};b.pageData=e}(BI));(function(a,c){var b;a.namespace("configs.ads");b={};a.configs.ads=b}(BI));(function(J){var V;var ah;var R;var h;var ag;var N;var b;var m;var M;var E;var A;var f;var w;var z;var D;var ad;var t;var k;var o;var C;var S;var s;var u;var n=1024;var p=".vert-name a";var W=250;var F=W;var I;var c;var T;var d;var j=116;var a=new Date();var Q=100;var B=false;var q=false;var g={};var ae=false;function ac(){if(V.scrollTop()>I*2){q=true}else{q=false}if(V.width()<=n&&!ah.hasClass("condensed")){return}if(V.scrollTop()>=20){if(q&&new Date()-a<Q){return}a=new Date();G()}else{v()}}function G(){if(B||ah.hasClass("condensed")){return}ah.addClass("condensed");R.css("margin-top",j);h.removeClass("open");ag.css("margin-top",c);amplify.publish("masthead-collapsed")}function v(){if(B||!ah.hasClass("condensed")){return}ah.removeClass("condensed");R.css("margin-top",0);ag.css("margin-top",0);amplify.publish("masthead-expanded")}function af(ai){V=$(window);ah=$(".masthead");R=$(".ad-wallpaper");f=$(".main-nav");o=$(".masthead-dropdown");C=f.find(".item");S=f.find("li");h=$(".user-login.dropdown");ag=$("[data-ad-tout]");N=$(".links").find(".social");m=$("[data-search-icon-close]");A=$("[data-search-input]");s=$("[data-hamburger]");w=$("[data-nav-over]");z=w.find(".nav-sections li");D=w.find(".nav-verticals a");ad=$(".nav-sections .active");t=ad&&y(ad);k=t.length&&t.find(".active");M=$("[data-search-over]");E=M.find(".search");ai()}function y(ai){var aj=ai.find("a");var ak=aj&&aj.data("dropdown-id");return t=ak&&$("[data-id='"+ak+"']")||$()}function P(aj,ak){var ai=$(aj);ai.attr("src",ai.attr("data-src"));g[ak]=true}function l(ak){var an=ak.data;var ai;var aj;var al;ad=$(this);t=y(ad);if(t.length===0){var am=ad[0].innerText;if(typeof g[am]==="undefined"){console.log("post loading...");aj=ad.parents(".nav-verticals").siblings(".stories-container");al=aj.find('div[data-id="'+am+'"').find("img");al.each(function(){P(this,am)})}}else{H(t)}t.length&&L(t);k=t.length&&t.find(".active");$(an).removeClass("active");ad.addClass("active");ai=t.length&&!k.length&&t.find("li:first-child > a");ai.length&&ai.addClass("active");if(k.length){r(k.data("index"))}else{if(ai.length){r(ai.data("index"))}else{r(ad.data("index"))}}return false}function Y(){V.scroll(ac);D.on("tap",function(ai){if(!$(this).hasClass("active")){ai.preventDefault();$(this).trigger("mouseenter")}});b.on("click",function(){e(M,w);U(this,m);s.find(".hamburger").removeClass("open");A.focus();return false});m.on("click",function(){M.removeClass("nav-show");U(this,b);return false});s.on("click",function(){if(!ae){$(".main-nav-dropdown").find(".stories-container").find("img").each(function(){P(this)});ae=true}$(this).find(".hamburger").toggleClass("open");e(w,M);r(k.data("index"));U(m,b);return false});z.on("hover",z,l);D.on("hover",D,l);$("#main-content").click(function(){x()});$(document).on("keyup",function(ai){if(ai.keyCode==27){x()}})}function x(){M.removeClass("nav-show");U(m,b);w.removeClass("nav-show");s.find(".hamburger").removeClass("open")}function O(){L(t)}function L(ai){$(".subsection").hide();r(0);ai.show()}function r(ai){$(".stories-container > div").css("margin-left","-"+ai+"00%")}function e(aj,ai){if(aj.hasClass("nav-show")){aj.removeClass("nav-show");ah.removeClass("overlay-is-open")}else{aj.addClass("nav-show");ai.removeClass("nav-show");ah.addClass("overlay-is-open")}}function U(aj,ai){$(aj).addClass("display-none");$(ai).removeClass("display-none")}function i(){I=ah.outerHeight();c=65;ah.addClass("condensed");T=ah.outerHeight()+Number(ah.css("top").replace("px",""));ah.removeClass("condensed");d=I-T;J.masthead.height=d}function Z(){amplify.subscribe("headerContentAddition",function(ai){I+=$(ai).height();d=I-T;J.masthead.height=d;ac()});amplify.subscribe("headerContentRemoval",function(ai){I-=$(ai).height();d=I-T;J.masthead.height=d;ac()});amplify.subscribe("interstitialAdShown",function(){G();B=true});amplify.subscribe("interstitialAdHidden",function(){B=false;v()})}function H(ak){var al=ak.find(".stories-container");var ai=al.find(".sub-vertical-container.active");
var aj;if(!ai.length){ai=al.find(".sub-vertical-container").eq(0)}else{}aj=ai.find("img");aj.each(function(){P(this)});return ak}function ab(ak){var ai=$(ak);var aj=$(p).text();ai.find('a[data-id="'+aj+'"]').each(function(am,an){var al=$(an);al.addClass("active");al.parents(".nav-verticals").siblings(".stories-container").find('div[data-id="'+aj+'"]').addClass("active")});return ai}function K(ai){$.ajax({url:"/ajax/navbar",success:function(ak){u=$(".main-nav-dropdown");var aj=$(ak);aj=ab(ak);u.html(H(aj));ai()}})}function aa(ai){b=$("[data-search-icon-open]");if(!b.length){setTimeout(aa,1000);return}K(function(){af(function(){Y();i();Z();O();s.show();b.removeClass("display-none")})})}function X(){J.masthead={height:undefined};aa()}$(X)}(BI));(function(){if(!Array.prototype.forEach){Array.prototype.forEach=function(d,c){for(var b=0,a=this.length;b<a;++b){d.call(c,this[b],b,this)}}}}());(function(d,g){var f=d.jQuery||d.Cowboy||(d.Cowboy={}),e;f.throttle=e=function(m,l,a,b){var c,n=0;if(typeof l!=="boolean"){b=a;a=l;l=g}function k(){var p=this,h=+new Date()-n,q=arguments;function i(){n=+new Date();a.apply(p,q)}function j(){c=g}if(b&&!c){i()}c&&clearTimeout(c);if(b===g&&h>m){i()}else{if(l!==true){c=setTimeout(b?j:i,b===g?m-h:m)}}}if(f.guid){k.guid=a.guid=a.guid||f.guid++}return k};f.debounce=function(c,b,a){return a===g?e(c,b,false):e(c,a,b!==false)}})(this);var _PIANO={init:function(){BI.pianoEnabled=true;tp=window.tp||[];_PIANO.pianoCookie();tp.push(["addHandler","meterActive",function(a){if(a.viewsLeft===0){BI.cookies.set("__tlo","true",2592000)}else{BI.cookies.set("__tlo","false",2592000)}}]);_PIANO.loginFromMasthead();_PIANO.logoutFromMasthead();_PIANO.toggleLoginView();tp.push(["addHandler","checkoutComplete",function(a){dataLayer.push({event:"PianoTemplate",eventCategory:"Piano",eventAction:"Purchase",eventLabel:"Complete",conversionObject:a})}])},login:function(){tp.push(["init",function(){if(tp.user.isUserValid()){$(".piano-login").html("Sign Out").click(function(){_PIANO.logout()})}else{$(".piano-login").html("Sign In").click(function(){tp.user.showLogin({loginSuccess:function(){var a=BI.cookies.get("__pref");if(typeof a!=="undefined"&&a!==""){window.location.assign(a)}else{window.location.assign("http://businessinsider.com/")}}})})}}])},loginMobile:function(){tp.push(["init",function(){if(tp.user.isUserValid()){$("#piano-login").html("Sign Out of BI Prime").click(function(){_PIANO.logout()})}else{$("#piano-login").html("Sign In to BI Prime").click(function(){tp.user.showLogin({loginSuccess:function(){location.reload()}})})}}])},logout:function(){tp.user.logout();location.reload()},pianoCookie:function(){function a(e){var g=e+"=";var d=document.cookie.split(";");for(var f=0;f<d.length;f++){var h=d[f];while(h.charAt(0)==" "){h=h.substring(1,h.length)}if(h.indexOf(g)==0){return h.substring(g.length,h.length)}}return null}var b=a("__tac");BI.piano=false;if(b&&b!==""){BI.piano=true}},checkAccess:function(){BI.access=false;tp.push(["addHandler","experienceExecute",function(c){var b="RIR4ERE";if((typeof c.accessList!="undefined")&&(c.accessList.length>0)){for(var a in c.accessList){if(c.accessList[a].rid===b){console.log("User has access",c.accessList);return BI.access=true}}}else{console.log("User does not have access")}}])},checkOut:function(){tp.push(["addHandler","checkoutComplete",function(a){console.log("checkoutComplete",a);BI.piano=true}])},checkOutClose:function(){tp.push(["addHandler","checkoutClose",function(a){switch(a.state){case"checkoutCompleted":var b=BI.cookies.get("__pref");if(typeof b!=="undefined"&&b!==""){window.location.assign(b)}else{window.location.assign("http://businessinsider.com/")}break;case"alreadyHasAccess":console.log("alreadyHasAccess");BI.piano=true;break;case"close":console.log("No action taken, user just closed the portal");break}}])},hideAdContainers:function(){$(".ad-subnav-container").remove();$(".right-ad").remove();$("body").addClass("prime");$(".ad").remove();$(".ad-subnav-container").remove();$(".min-height-250").css({"min-height":"0",height:"0"});$(".ad.dfp").closest(".river-post.river-textonly").remove()},error:function(){tp.push(["addHandler","checkoutError",function(a){console.log("Error: "+a.message)}])},loginFromMasthead:function(){var a=$("[data-masthead-dropdown-bi-prime-login]");if(!a.length){setTimeout(_PIANO.loginFromMasthead,1000);return}a.on("click",function(b){b.preventDefault();if(!BI.piano){tp.user.showLogin({loginSuccess:function(){location.reload()}})}})},logoutFromMasthead:function(){var a=$("[data-masthead-dropdown-bi-prime-logout]");if(!a.length){setTimeout(_PIANO.logoutFromMasthead,1000);return}a.on("click",function(b){b.preventDefault();_PIANO.logout()})},toggleLoginView:function(){var b=$("[data-masthead-username]");var a=$("[data-masthead-dropdown-bi-prime-container]");if(!a.length){setTimeout(_PIANO.toggleLoginView,1000);return}if(BI.piano){b.text("Account");a.addClass("masthead-dropdown-bi-prime-container--prime-enabled")}}};_PIANO.init();BI.doubleclick=(function(b,o,j){var c=4442842;var i;var k=[];var p={};var f=150;o.namespace("DFP");function g(s){var q=s.offsetLeft;var t=s.offsetTop;var r;r=s.offsetParent;while(r){q+=r.offsetLeft;t+=r.offsetTop;s=r;r=s.offsetParent}return{x:q,y:t}}function n(r){var s;var q=".ad.dfp";if(typeof r==="string"){q+=r}s=document.querySelectorAll(q);s.forEach=Array.prototype.forEach;return s}function h(){k.forEach(function(r){if((j.pageYOffset+j.innerHeight-f)>r.top){var q=$(r.element);if(typeof p[q.attr("data-region")]!=="undefined"){return}p[q.attr("data-region")]=true;o.DFP.renderAd(r.element)}})}function d(){$(j).scroll($.throttle(50,h));h()}function m(){n(".lazyload:not(.rendered)").forEach(function(q){l(q)});n(".position-load").forEach(function(q){k.push({element:q,top:$(q).offset().top})});d()}function l(t,w,q){var s=j.innerWidth||document.body.clientWidth;var z=j.innerHeight||document.body.clientHeight;if(s===620&&z===460){$("[data-ad-container]").hide();return}var y;var r;var v=!!t.getAttribute("data-companion-ad");var A;r="ad-"+o.UUID.get();t.setAttribute("id",r);var x=t.getAttribute("data-region");A=t.getAttribute("data-sizes").split(",");if($("body").hasClass("wallpapered")){var u=true}else{var u=false}if(u===true&&x==="Desktop In Post Ad"){A=A.slice(0,3)}var s=j.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(x==="Slideshow One Page Ad Desktop"){if(u===true){A.splice(0,2)}else{if(document.getElementById("right-rail")&&(s<1240)){A.splice(0,2)}else{if(document.getElementById("right-rail")){A.shift();A.pop()}else{if(s>=1240){A.splice(A.length-2)}}}}}A.forEach(function(C,B){A[B]=C.split("x");A[B].forEach(function(D,E){if(isNaN(parseInt(D,10))){A[B]=D}else{A[B][E]=parseInt(D,10)}})});googletag.cmd.push(function(){y=googletag.defineSlot("/"+c+"/"+t.getAttribute("data-adunit"),A,r);if(t.hasAttribute("data-responsive")&&u===false){var B=JSON.parse(t.getAttribute("data-responsive"));if(B){y.defineSizeMapping(B)}}if(v===true){y.addService(googletag.companionAds()).addService(googletag.pubads());googletag.companionAds().setRefreshUnfilledSlots(true);googletag.pubads().disableInitialLoad();googletag.enableServices();console.log("DFP: companion ad code enabled")}else{y.addService(googletag.pubads())}if(w!==undefined){y.setCollapseEmptyDiv(w)}else{y.setCollapseEmptyDiv(true);googletag.pubads().setTargeting("ksg",Krux.segments);googletag.pubads().setTargeting("kuid",Krux.user);googletag.pubads().setTargeting("khost",encodeURIComponent(location.hostname))}o.DFP.adRegions[t.getAttribute("data-region")]=y});googletag.cmd.push(function(){function B(D){var C;if(C=t.getAttribute("data-"+D)){y.setTargeting(D,C)}}B("adunit");B("authors");B("pagetype");B("pos");B("region");B("sizes");B("sr");B("tag");B("url");B("views");if(q){q(y)}});googletag.cmd.push(function(){if(typeof index_headertag_lightspeed!="undefined"){index_headertag_lightspeed.call_refresh(y,r,t)}else{googletag.display(r)}});t.classList.add("rendered");var x=t.getAttribute("data-region");b.publish("adRendered",x)}function e(r,q){return(" "+r.className+" ").indexOf(" "+q+" ")>-1}function a(){n(":not(.rendered):not(.lazyload):not(.position-load)").forEach(function(q){l(q)})}b.subscribe("adRender",a);b.subscribe("adRenderLazyLoad",m);document.addEventListener("DOMContentLoaded",m);i=document.createElement("script");i.async=true;i.src="//www.googletagservices.com/tag/js/gpt.js";i.type="text/javascript";document.head.appendChild(i);o.DFP={adRegions:{},loaded:false,renderAd:l};j.googletag=j.googletag||{cmd:[]};googletag.cmd.push(function(){googletag.pubads().enableAsyncRendering();googletag.pubads().enableVideoAds();googletag.companionAds().setRefreshUnfilledSlots(true);googletag.enableServices();o.DFP.loaded=true;b.publish("dfpLoaded");googletag.pubads().addEventListener("slotRenderEnded",function(s){var u=s.slot.w.region[0];var r=s.size[0]+"x"+s.size[1];var t=r.split("x");var q=$("[data-region='"+u+"']");if(u==="Desktop In Post Ad"&&r==="300x250"){q.addClass("ad-float-left")
}if(u==="Desktop In Post Ad"){q.find("div:first-child").width(t[0]).height(t[1]);q.find("div:first-child iframe").width(t[0]).height(t[1])}if(u==="Mobile In Post Ad"){q.find("div:first-child iframe").width(t[0]).height(t[1])}if(t[0]==="1"){q.closest(".right-ad").remove();q.remove()}if(u==="Mobile River Top"||u==="Slideshow One Page Ad Mobile"){q.last().find("div:first-child iframe").width(t[0]).height(t[1])}})})});function getCookie(b){var e=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length)}if(f.indexOf(e)==0){return f.substring(e.length,f.length)}}return null}if(BI.pianoEnabled===true){if(getCookie("__tlo")==="true"){_PIANO.noAds=true}else{_PIANO.noAds=false}if(BI.piano===true){_PIANO.checkAccess();if(BI.piano===false&&_PIANO.noAds!==true){BI.doubleclick(amplify,BI,window)}else{$(function(){_PIANO.hideAdContainers()})}}else{if(_PIANO.noAds!==true){BI.doubleclick(amplify,BI,window)}else{$(function(){_PIANO.hideAdContainers()})}}}else{BI.doubleclick(amplify,BI,window)};(function(){function a(){var c=document.getElementById("breaking-module-rendered");document.getElementById("breaking-module-siteskin").innerHTML=c.innerHTML;c.parentNode.removeChild(c);document.body.className=document.body.classList.remove("responsive")}function b(){setTimeout(a,0)}BI.addSiteSkinBorder=b;document.addEventListener("DOMContentLoaded",function(){if(document.querySelector('.ad[data-region="Skin"]')!==null){document.body.classList.remove("responsive")}})}());(function(e,g,c){var b,a,h;function k(){b={postBottomWide:{US:{id:2215,height:300,selector:".footer-ad .dianomi-ad"},UK:{id:2215,height:300,selector:".footer-ad .dianomi-ad"}},postBottomNarrow:{US:{id:2212,height:237,selector:".footer-ad .dianomi-ad"},UK:{id:1916,height:237,selector:".footer-ad .dianomi-ad"}},postRightRail:{US:{id:2211,height:450,selector:".right-ad .dianomi-ad"},UK:{id:1913,height:450,selector:".right-ad .dianomi-ad"}},homeRightRail:{US:{id:1912,height:450,selector:".right-ad .dianomi-ad"},UK:{id:1914,height:450,selector:".right-ad .dianomi-ad"}}}}function l(m){if(m){a="postRightRail"}else{a="homeRightRail"}}function d(m){i(m.selector,m.id,m.height)}function j(o,m){var n;k();if(!o){return}if(m===c){m=a}n=m.indexOf("postBottom")>-1;if(n){if(e(window).width()<=1240){m=m+"Narrow";d(b[m][o])}else{m=m+"Wide";d(b[m][o])}}else{d(b[m][o])}}function i(n,o,m){e(n).html('<iframe width="100%" height="'+m+'" marginheight=0 marginwidth=0 frameborder=0 vspace=0 hspace=0 scrolling=NO  src="//www.dianomi.com/smartads.epl?id='+o+"&url="+escape(document.location.href)+'"></iframe>')}var f={init:j,setConfigKey:l};g.dianomi=f}(jQuery,BI));(function(d){amplify.subscribe("contentloaded-countdownclock",function(i){d.countdownTimer.end=i.end;d.countdownTimer.onFinish=i.onFinish;if(i.isTicking){d.countdownTimer.start()}else{d.countdownTimer.blink()}});var g='<span class="colon"><span>:</span></span>';var f;var e;var c;var a=function(l){var k="";var m;l=""+l;for(var j=0;j<l.length;j++){m=l.charAt(j);if(m>="0"&&m<="9"){k+='<span class="digit-'+m+'"><span>'+m+"</span></span>"}}return'<span class="digits">'+k+"</span>"};function b(i){if(i=="hide"){f.className=f.className+" hide"}else{if(i=="blink"){c=document.getElementById("countdownLive");c.className="live";c.setAttribute("data-bi-countdown-effect","blink");e.className="hide"}}}function h(){var l=d.countdownTimer.end-Math.floor(new Date().getTime()/1000);if(e==null){e=document.getElementById("countdownTimer")}if(f==null){f=document.getElementById("countdown")}if(l<=-3600||(d.countdownTimer.onFinish=="hide"&&l<=0)){b("hide")}else{if(l<=0){b("blink")}}amplify.publish("countdown-tick");var k=l%60;k=k<10?"0"+k:k;var j=Math.floor(l/60)%60;j=j<10?"0"+j:j;var i=Math.floor(l/3600);var m=g+a(k);if(l>=60){m=a(j)+m}if(l>=3600){m=a(i)+g+m}e.innerHTML=m;setTimeout(h,500)}d.countdownTimer={end:0,onFinish:"blink",start:h,finish:b}}(BI));try{(function(){var a={};a.VERSION={version:"<PLUGIN_VERSION>"};a.playerParams={core_version:4,vast_proxy_url:"http://player.ooyala.com/adinsertion/vast_proxy"};a.publicApi=a.publicApi||{};a.playerParams=a.playerParams||{};var d=false;var b=2000;a.consoleOutput=[];a.log=function(){if(typeof(window.console)!="undefined"&&typeof(window.console.log)=="function"){if(a.playerParams.debug){window.console.log.apply(window.console,arguments)}}if(d){var e="";var k;for(k=0;k<arguments.length;k++){e+=arguments[k]+" "}if(!a.consoleOutput){a.consoleOutput=[]}if(a.consoleOutput.length>=b){a.consoleOutput.shift()}a.consoleOutput.push(e)}};a.startRecordingConsoleOutput=function(){d=true;return"CONSOLE RECORDING STARTED"};a.stopRecordingConsoleOutput=function(){d=false;return"CONSOLE RECORDING STOPPED"};a.clearRecordedConsoleOutput=function(){if(!a.consoleOutput){a.consoleOutput=[]}a.consoleOutput.splice(0,a.consoleOutput.length);return"CONSOLE RECORDING CLEARED"};a.setMaxConsoleOutputLines=function(e){if(!a.consoleOutput){a.consoleOutput=[]}if(e<a.consoleOutput.length){a.consoleOutput.splice(0,a.consoleOutput.length-e)}b=e;return"CONSOLE MAX LINES: "+b};if(!window.JSON){window.JSON={stringify:function(e){return"<object>"},__end_marker:true}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(l,m){var k,e=this.length;for(k=(m||0);k<e;k++){if(this[k]===l){return k}}return -1}}var c=a.playerParams.namespace||"OO";if(window[c]&&window[c].Player){a.log("PlayerV3 is loaded already!!!");if(window[c].REV!=a.publicApi.REV){a.log("there is a different VERSION loaded:",window[c].REV,a.publicApi.REV)}throw"PlayerV3 already defined!!"}if(window[c]&&window[c].__static){a.publicApi.__static=window[c].__static}else{a.publicApi.__static={readyList:[],docReady:false,apiReady:false}}window[c]=a.publicApi;window[c].__internal=a;a.isReady=function(){return a.publicApi.__static.apiReady&&a.publicApi.__static.docReady};a.tryCallReady=function(){if(!a.isReady()){return}while(a.publicApi.__static.readyList.length>0){var k=a.publicApi.__static.readyList.pop();if(typeof k==="function"){try{k(a.publicApi)}catch(l){a.log("Error executing ready function",l,l.stack)}}}return};a.publicApi.ready=function(e){a.publicApi.__static.readyList.unshift(e);a.tryCallReady()};var h=a;a.publicApi.plugin=function(e,k){if(h.isReady()){a.log("plugin is ready to register",h,e);h.plugin(e,k)}else{a.log("plugin",e);a.publicApi.__static.readyList.push(function(l){l.plugin(e,k)})}};(function(){var E=this;var t=E._;var M={};var L=Array.prototype,o=Object.prototype,z=Function.prototype;var w=L.slice,I=L.unshift,l=o.toString,r=o.hasOwnProperty;var U=L.forEach,y=L.map,N=L.reduce,k=L.reduceRight,e=L.filter,J=L.every,x=L.some,v=L.indexOf,u=L.lastIndexOf,B=Array.isArray,n=Object.keys,O=z.bind;var V=function(p){return new C(p)};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=V}exports._=V}else{E._=V}V.VERSION="1.3.3";var R=V.each=V.forEach=function(aa,Z,Y){if(aa==null){return}if(U&&aa.forEach===U){aa.forEach(Z,Y)}else{if(aa.length===+aa.length){for(var X=0,p=aa.length;X<p;X++){if(X in aa&&Z.call(Y,aa[X],X,aa)===M){return}}}else{for(var W in aa){if(V.has(aa,W)){if(Z.call(Y,aa[W],W,aa)===M){return}}}}}};V.map=V.collect=function(Y,X,W){var p=[];if(Y==null){return p}if(y&&Y.map===y){return Y.map(X,W)}R(Y,function(ab,Z,aa){p[p.length]=X.call(W,ab,Z,aa)});if(Y.length===+Y.length){p.length=Y.length}return p};V.reduce=V.foldl=V.inject=function(Z,Y,p,X){var W=arguments.length>2;if(Z==null){Z=[]}if(N&&Z.reduce===N){if(X){Y=V.bind(Y,X)}return W?Z.reduce(Y,p):Z.reduce(Y)}R(Z,function(ac,aa,ab){if(!W){p=ac;W=true}else{p=Y.call(X,p,ac,aa,ab)}});if(!W){throw new TypeError("Reduce of empty array with no initial value")}return p};V.reduceRight=V.foldr=function(Z,Y,p,X){var W=arguments.length>2;if(Z==null){Z=[]}if(k&&Z.reduceRight===k){if(X){Y=V.bind(Y,X)}return W?Z.reduceRight(Y,p):Z.reduceRight(Y)}var aa=V.toArray(Z).reverse();if(X&&!W){Y=V.bind(Y,X)}return W?V.reduce(aa,Y,p,X):V.reduce(aa,Y)
};V.find=V.detect=function(Y,X,W){var p;H(Y,function(ab,Z,aa){if(X.call(W,ab,Z,aa)){p=ab;return true}});return p};V.filter=V.select=function(Y,X,W){var p=[];if(Y==null){return p}if(e&&Y.filter===e){return Y.filter(X,W)}R(Y,function(ab,Z,aa){if(X.call(W,ab,Z,aa)){p[p.length]=ab}});return p};V.reject=function(Y,X,W){var p=[];if(Y==null){return p}R(Y,function(ab,Z,aa){if(!X.call(W,ab,Z,aa)){p[p.length]=ab}});return p};V.every=V.all=function(Y,X,W){var p=true;if(Y==null){return p}if(J&&Y.every===J){return Y.every(X,W)}R(Y,function(ab,Z,aa){if(!(p=p&&X.call(W,ab,Z,aa))){return M}});return !!p};var H=V.some=V.any=function(Y,X,W){X||(X=V.identity);var p=false;if(Y==null){return p}if(x&&Y.some===x){return Y.some(X,W)}R(Y,function(ab,Z,aa){if(p||(p=X.call(W,ab,Z,aa))){return M}});return !!p};V.include=V.contains=function(X,W){var p=false;if(X==null){return p}if(v&&X.indexOf===v){return X.indexOf(W)!=-1}p=H(X,function(Y){return Y===W});return p};V.invoke=function(W,X){var p=w.call(arguments,2);return V.map(W,function(Y){return(V.isFunction(X)?X||Y:Y[X]).apply(Y,p)})};V.pluck=function(W,p){return V.map(W,function(X){return X[p]})};V.max=function(Y,X,W){if(!X&&V.isArray(Y)&&Y[0]===+Y[0]){return Math.max.apply(Math,Y)}if(!X&&V.isEmpty(Y)){return -Infinity}var p={computed:-Infinity};R(Y,function(ac,Z,ab){var aa=X?X.call(W,ac,Z,ab):ac;aa>=p.computed&&(p={value:ac,computed:aa})});return p.value};V.min=function(Y,X,W){if(!X&&V.isArray(Y)&&Y[0]===+Y[0]){return Math.min.apply(Math,Y)}if(!X&&V.isEmpty(Y)){return Infinity}var p={computed:Infinity};R(Y,function(ac,Z,ab){var aa=X?X.call(W,ac,Z,ab):ac;aa<p.computed&&(p={value:ac,computed:aa})});return p.value};V.shuffle=function(X){var p=[],W;R(X,function(aa,Y,Z){W=Math.floor(Math.random()*(Y+1));p[Y]=p[W];p[W]=aa});return p};V.sortBy=function(X,Y,p){var W=V.isFunction(Y)?Y:function(Z){return Z[Y]};return V.pluck(V.map(X,function(ab,Z,aa){return{value:ab,criteria:W.call(p,ab,Z,aa)}}).sort(function(ac,ab){var aa=ac.criteria,Z=ab.criteria;if(aa===void 0){return 1}if(Z===void 0){return -1}return aa<Z?-1:aa>Z?1:0}),"value")};V.groupBy=function(X,Y){var p={};var W=V.isFunction(Y)?Y:function(Z){return Z[Y]};R(X,function(ab,Z){var aa=W(ab,Z);(p[aa]||(p[aa]=[])).push(ab)});return p};V.sortedIndex=function(aa,Z,X){X||(X=V.identity);var p=0,Y=aa.length;while(p<Y){var W=(p+Y)>>1;X(aa[W])<X(Z)?p=W+1:Y=W}return p};V.toArray=function(p){if(!p){return[]}if(V.isArray(p)){return w.call(p)}if(V.isArguments(p)){return w.call(p)}if(p.toArray&&V.isFunction(p.toArray)){return p.toArray()}return V.values(p)};V.size=function(p){return V.isArray(p)?p.length:V.keys(p).length};V.first=V.head=V.take=function(X,W,p){return(W!=null)&&!p?w.call(X,0,W):X[0]};V.initial=function(X,W,p){return w.call(X,0,X.length-((W==null)||p?1:W))};V.last=function(X,W,p){if((W!=null)&&!p){return w.call(X,Math.max(X.length-W,0))}else{return X[X.length-1]}};V.rest=V.tail=function(X,p,W){return w.call(X,(p==null)||W?1:p)};V.compact=function(p){return V.filter(p,function(W){return !!W})};V.flatten=function(W,p){return V.reduce(W,function(X,Y){if(V.isArray(Y)){return X.concat(p?Y:V.flatten(Y))}X[X.length]=Y;return X},[])};V.without=function(p){return V.difference(p,w.call(arguments,1))};V.uniq=V.unique=function(Z,Y,X){var p=X?V.map(Z,X):Z;var W=[];if(Z.length<3){Y=true}V.reduce(p,function(aa,ac,ab){if(Y?V.last(aa)!==ac||!aa.length:!V.include(aa,ac)){aa.push(ac);W.push(Z[ab])}return aa},[]);return W};V.union=function(){return V.uniq(V.flatten(arguments,true))};V.intersection=V.intersect=function(W){var p=w.call(arguments,1);return V.filter(V.uniq(W),function(X){return V.every(p,function(Y){return V.indexOf(Y,X)>=0})})};V.difference=function(W){var p=V.flatten(w.call(arguments,1),true);return V.filter(W,function(X){return !V.include(p,X)})};V.zip=function(){var p=w.call(arguments);var Y=V.max(V.pluck(p,"length"));var X=new Array(Y);for(var W=0;W<Y;W++){X[W]=V.pluck(p,""+W)}return X};V.indexOf=function(Z,X,Y){if(Z==null){return -1}var W,p;if(Y){W=V.sortedIndex(Z,X);
return Z[W]===X?W:-1}if(v&&Z.indexOf===v){return Z.indexOf(X)}for(W=0,p=Z.length;W<p;W++){if(W in Z&&Z[W]===X){return W}}return -1};V.lastIndexOf=function(X,W){if(X==null){return -1}if(u&&X.lastIndexOf===u){return X.lastIndexOf(W)}var p=X.length;while(p--){if(p in X&&X[p]===W){return p}}return -1};V.range=function(aa,Y,Z){if(arguments.length<=1){Y=aa||0;aa=0}Z=arguments[2]||1;var W=Math.max(Math.ceil((Y-aa)/Z),0);var p=0;var X=new Array(W);while(p<W){X[p++]=aa;aa+=Z}return X};var P=function(){};V.bind=function m(Y,W){var X,p;if(Y.bind===O&&O){return O.apply(Y,w.call(arguments,1))}if(!V.isFunction(Y)){throw new TypeError}p=w.call(arguments,2);return X=function(){if(!(this instanceof X)){return Y.apply(W,p.concat(w.call(arguments)))}P.prototype=Y.prototype;var aa=new P;var Z=Y.apply(aa,p.concat(w.call(arguments)));if(Object(Z)===Z){return Z}return aa}};V.bindAll=function(W){var p=w.call(arguments,1);if(p.length==0){p=V.functions(W)}R(p,function(X){W[X]=V.bind(W[X],W)});return W};V.memoize=function(X,W){var p={};W||(W=V.identity);return function(){var Y=W.apply(this,arguments);return V.has(p,Y)?p[Y]:(p[Y]=X.apply(this,arguments))}};V.delay=function(W,X){var p=w.call(arguments,2);return setTimeout(function(){return W.apply(null,p)},X)};V.defer=function(p){return V.delay.apply(V,[p,1].concat(w.call(arguments,1)))};V.throttle=function(X,Y){var W,aa,ab,ac,Z,ad;var p=V.debounce(function(){Z=ac=false},Y);return function(){W=this;aa=arguments;var ae=function(){ab=null;if(Z){X.apply(W,aa)}p()};if(!ab){ab=setTimeout(ae,Y)}if(ac){Z=true}else{ad=X.apply(W,aa)}p();ac=true;return ad}};V.debounce=function(W,Y,p){var X;return function(){var ab=this,aa=arguments;var Z=function(){X=null;if(!p){W.apply(ab,aa)}};if(p&&!X){W.apply(ab,aa)}clearTimeout(X);X=setTimeout(Z,Y)}};V.once=function(X){var p=false,W;return function(){if(p){return W}p=true;return W=X.apply(this,arguments)}};V.wrap=function(p,W){return function(){var X=[p].concat(w.call(arguments,0));return W.apply(this,X)}};V.compose=function(){var p=arguments;return function(){var W=arguments;for(var X=p.length-1;X>=0;X--){W=[p[X].apply(this,W)]}return W[0]}};V.after=function(W,p){if(W<=0){return p()}return function(){if(--W<1){return p.apply(this,arguments)}}};V.keys=n||function(X){if(X!==Object(X)){throw new TypeError("Invalid object")}var W=[];for(var p in X){if(V.has(X,p)){W[W.length]=p}}return W};V.values=function(p){return V.map(p,V.identity)};V.functions=V.methods=function(X){var W=[];for(var p in X){if(V.isFunction(X[p])){W.push(p)}}return W.sort()};V.extend=function(p){R(w.call(arguments,1),function(W){for(var X in W){p[X]=W[X]}});return p};V.pick=function(W){var p={};R(V.flatten(w.call(arguments,1)),function(X){if(X in W){p[X]=W[X]}});return p};V.defaults=function(p){R(w.call(arguments,1),function(W){for(var X in W){if(p[X]==null){p[X]=W[X]}}});return p};V.clone=function(p){if(!V.isObject(p)){return p}return V.isArray(p)?p.slice():V.extend({},p)};V.tap=function(W,p){p(W);return W};function S(Y,X,W){if(Y===X){return Y!==0||1/Y==1/X}if(Y==null||X==null){return Y===X}if(Y._chain){Y=Y._wrapped}if(X._chain){X=X._wrapped}if(Y.isEqual&&V.isFunction(Y.isEqual)){return Y.isEqual(X)}if(X.isEqual&&V.isFunction(X.isEqual)){return X.isEqual(Y)}var ab=l.call(Y);if(ab!=l.call(X)){return false}switch(ab){case"[object String]":return Y==String(X);case"[object Number]":return Y!=+Y?X!=+X:(Y==0?1/Y==1/X:Y==+X);case"[object Date]":case"[object Boolean]":return +Y==+X;case"[object RegExp]":return Y.source==X.source&&Y.global==X.global&&Y.multiline==X.multiline&&Y.ignoreCase==X.ignoreCase}if(typeof Y!="object"||typeof X!="object"){return false}var ac=W.length;while(ac--){if(W[ac]==Y){return true}}W.push(Y);var aa=0,p=true;if(ab=="[object Array]"){aa=Y.length;p=aa==X.length;if(p){while(aa--){if(!(p=aa in Y==aa in X&&S(Y[aa],X[aa],W))){break}}}}else{if("constructor" in Y!="constructor" in X||Y.constructor!=X.constructor){return false}for(var Z in Y){if(V.has(Y,Z)){aa++;if(!(p=V.has(X,Z)&&S(Y[Z],X[Z],W))){break
}}}if(p){for(Z in X){if(V.has(X,Z)&&!(aa--)){break}}p=!aa}}W.pop();return p}V.isEqual=function(W,p){return S(W,p,[])};V.isEmpty=function(W){if(W==null){return true}if(V.isArray(W)||V.isString(W)){return W.length===0}for(var p in W){if(V.has(W,p)){return false}}return true};V.isElement=function(p){return !!(p&&p.nodeType==1)};V.isArray=B||function(p){return l.call(p)=="[object Array]"};V.isObject=function(p){return p===Object(p)};V.isArguments=function(p){return l.call(p)=="[object Arguments]"};if(!V.isArguments(arguments)){V.isArguments=function(p){return !!(p&&V.has(p,"callee"))}}V.isFunction=function(p){return l.call(p)=="[object Function]"};V.isString=function(p){return l.call(p)=="[object String]"};V.isNumber=function(p){return l.call(p)=="[object Number]"};V.isFinite=function(p){return V.isNumber(p)&&isFinite(p)};V.isNaN=function(p){return p!==p};V.isBoolean=function(p){return p===true||p===false||l.call(p)=="[object Boolean]"};V.isDate=function(p){return l.call(p)=="[object Date]"};V.isRegExp=function(p){return l.call(p)=="[object RegExp]"};V.isNull=function(p){return p===null};V.isUndefined=function(p){return p===void 0};V.has=function(W,p){if(typeof(W.hasOwnProperty)==="function"){return W.hasOwnProperty(p)}else{return !(typeof(W[p])===undefined)}};V.noConflict=function(){E._=t;return this};V.identity=function(p){return p};V.times=function(Y,X,W){for(var p=0;p<Y;p++){X.call(W,p)}};V.escape=function(p){return(""+p).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};V.result=function(p,X){if(p==null){return null}var W=p[X];return V.isFunction(W)?W.call(p):W};V.mixin=function(p){R(V.functions(p),function(W){F(W,V[W]=p[W])})};var G=0;V.uniqueId=function(p){var W=G++;return p?p+W:W};V.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var D=/.^/;var q={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"};for(var Q in q){q[q[Q]]=Q}var s=/\\|'|\r|\n|\t|\u2028|\u2029/g;var K=/\\(\\|'|r|n|t|u2028|u2029)/g;var T=function(p){return p.replace(K,function(W,X){return q[X]})};V.template=function(aa,Z,X){X=V.defaults(X||{},V.templateSettings);var Y="__p+='"+aa.replace(s,function(ab){return"\\"+q[ab]}).replace(X.escape||D,function(ab,ac){return"'+\n_.escape("+T(ac)+")+\n'"}).replace(X.interpolate||D,function(ab,ac){return"'+\n("+T(ac)+")+\n'"}).replace(X.evaluate||D,function(ab,ac){return"';\n"+T(ac)+"\n;__p+='"})+"';\n";if(!X.variable){Y="with(obj||{}){\n"+Y+"}\n"}Y="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+Y+"return __p;\n";var W=new Function(X.variable||"obj","_",Y);if(Z){return W(Z,V)}var p=function(ab){return W.call(this,ab,V)};p.source="function("+(X.variable||"obj")+"){\n"+Y+"}";return p};V.chain=function(p){return V(p).chain()};var C=function(p){this._wrapped=p};V.prototype=C.prototype;var A=function(W,p){return p?V(W).chain():W};var F=function(p,W){C.prototype[p]=function(){var X=w.call(arguments);I.call(X,this._wrapped);return A(W.apply(V,X),this._chain)}};V.mixin(V);R(["pop","push","reverse","shift","sort","splice","unshift"],function(p){var W=L[p];C.prototype[p]=function(){var X=this._wrapped;W.apply(X,arguments);var Y=X.length;if((p=="shift"||p=="splice")&&Y===0){delete X[0]}return A(X,this._chain)}});R(["concat","join","slice"],function(p){var W=L[p];C.prototype[p]=function(){return A(W.apply(this._wrapped,arguments),this._chain)}});C.prototype.chain=function(){this._chain=true;return this};C.prototype.value=function(){return this._wrapped}}).call(this);
/*!
 * jQuery JavaScript Library v1.8.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Tue Nov 13 2012 08:20:33 GMT-0500 (Eastern Standard Time)
 */
(function(bb,aK){var F,ao,x=bb.document,aR=bb.location,n=bb.navigator,bp=bb.jQuery,R=bb.$,aw=Array.prototype.push,bd=Array.prototype.slice,aT=Array.prototype.indexOf,I=Object.prototype.toString,ae=Object.prototype.hasOwnProperty,aX=String.prototype.trim,bP=function(e,b8){return new bP.fn.init(e,b8,F)
},bG=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,aj=/\S/,a4=/\s+/,L=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bx=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,k=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,bo=/^[\],:{}\s]*$/,br=/(?:^|:|,)(?:\s*\[)+/g,bM=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,a9=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,bY=/^-ms-/,a3=/-([\da-z])/gi,W=function(e,b8){return(b8+"").toUpperCase()},aO=function(){if(x.addEventListener){x.removeEventListener("DOMContentLoaded",aO,false);bP.ready()}else{if(x.readyState==="complete"){x.detachEvent("onreadystatechange",aO);bP.ready()}}},ai={};bP.fn=bP.prototype={constructor:bP,init:function(e,cb,ca){var b9,cc,b8,cd;if(!e){return this}if(e.nodeType){this.context=this[0]=e;this.length=1;return this}if(typeof e==="string"){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){b9=[null,e,null]}else{b9=bx.exec(e)}if(b9&&(b9[1]||!cb)){if(b9[1]){cb=cb instanceof bP?cb[0]:cb;cd=(cb&&cb.nodeType?cb.ownerDocument||cb:x);e=bP.parseHTML(b9[1],cd,true);if(k.test(b9[1])&&bP.isPlainObject(cb)){this.attr.call(e,cb,true)}return bP.merge(this,e)}else{cc=x.getElementById(b9[2]);if(cc&&cc.parentNode){if(cc.id!==b9[2]){return ca.find(e)}this.length=1;this[0]=cc}this.context=x;this.selector=e;return this}}else{if(!cb||cb.jquery){return(cb||ca).find(e)}else{return this.constructor(cb).find(e)}}}else{if(bP.isFunction(e)){return ca.ready(e)}}if(e.selector!==aK){this.selector=e.selector;this.context=e.context}return bP.makeArray(e,this)},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return bd.call(this)},get:function(e){return e==null?this.toArray():(e<0?this[this.length+e]:this[e])},pushStack:function(b8,ca,e){var b9=bP.merge(this.constructor(),b8);b9.prevObject=this;b9.context=this.context;if(ca==="find"){b9.selector=this.selector+(this.selector?" ":"")+e}else{if(ca){b9.selector=this.selector+"."+ca+"("+e+")"}}return b9},each:function(b8,e){return bP.each(this,b8,e)},ready:function(e){bP.ready.promise().done(e);return this},eq:function(e){e=+e;return e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(bd.apply(this,arguments),"slice",bd.call(arguments).join(","))},map:function(e){return this.pushStack(bP.map(this,function(b9,b8){return e.call(b9,b8,b9)}))},end:function(){return this.prevObject||this.constructor(null)},push:aw,sort:[].sort,splice:[].splice};bP.fn.init.prototype=bP.fn;bP.extend=bP.fn.extend=function(){var cg,b9,e,b8,cd,ce,cc=arguments[0]||{},cb=1,ca=arguments.length,cf=false;if(typeof cc==="boolean"){cf=cc;cc=arguments[1]||{};cb=2}if(typeof cc!=="object"&&!bP.isFunction(cc)){cc={}}if(ca===cb){cc=this;--cb}for(;cb<ca;cb++){if((cg=arguments[cb])!=null){for(b9 in cg){e=cc[b9];b8=cg[b9];if(cc===b8){continue}if(cf&&b8&&(bP.isPlainObject(b8)||(cd=bP.isArray(b8)))){if(cd){cd=false;ce=e&&bP.isArray(e)?e:[]}else{ce=e&&bP.isPlainObject(e)?e:{}}cc[b9]=bP.extend(cf,ce,b8)}else{if(b8!==aK){cc[b9]=b8}}}}}return cc};bP.extend({noConflict:function(e){if(bb.$===bP){bb.$=R}if(e&&bb.jQuery===bP){bb.jQuery=bp}return bP},isReady:false,readyWait:1,holdReady:function(e){if(e){bP.readyWait++}else{bP.ready(true)}},ready:function(e){if(e===true?--bP.readyWait:bP.isReady){return}if(!x.body){return setTimeout(bP.ready,1)}bP.isReady=true;if(e!==true&&--bP.readyWait>0){return}ao.resolveWith(x,[bP]);if(bP.fn.trigger){bP(x).trigger("ready").off("ready")}},isFunction:function(e){return bP.type(e)==="function"},isArray:Array.isArray||function(e){return bP.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):ai[I.call(e)]||"object"},isPlainObject:function(ca){if(!ca||bP.type(ca)!=="object"||ca.nodeType||bP.isWindow(ca)){return false}try{if(ca.constructor&&!ae.call(ca,"constructor")&&!ae.call(ca.constructor.prototype,"isPrototypeOf")){return false
}}catch(b9){return false}var b8;for(b8 in ca){}return b8===aK||ae.call(ca,b8)},isEmptyObject:function(b8){var e;for(e in b8){return false}return true},error:function(e){throw new Error(e)},parseHTML:function(ca,b9,e){var b8;if(!ca||typeof ca!=="string"){return null}if(typeof b9==="boolean"){e=b9;b9=0}b9=b9||x;if((b8=k.exec(ca))){return[b9.createElement(b8[1])]}b8=bP.buildFragment([ca],b9,e?null:[]);return bP.merge([],(b8.cacheable?bP.clone(b8.fragment):b8.fragment).childNodes)},parseJSON:function(e){if(!e||typeof e!=="string"){return null}e=bP.trim(e);if(bb.JSON&&bb.JSON.parse){return bb.JSON.parse(e)}if(bo.test(e.replace(bM,"@").replace(a9,"]").replace(br,""))){return(new Function("return "+e))()}bP.error("Invalid JSON: "+e)},parseXML:function(ca){var b8,b9;if(!ca||typeof ca!=="string"){return null}try{if(bb.DOMParser){b9=new DOMParser();b8=b9.parseFromString(ca,"text/xml")}else{b8=new ActiveXObject("Microsoft.XMLDOM");b8.async="false";b8.loadXML(ca)}}catch(cb){b8=aK}if(!b8||!b8.documentElement||b8.getElementsByTagName("parsererror").length){bP.error("Invalid XML: "+ca)}return b8},noop:function(){},globalEval:function(e){if(e&&aj.test(e)){(bb.execScript||function(b8){bb["eval"].call(bb,b8)})(e)}},camelCase:function(e){return e.replace(bY,"ms-").replace(a3,W)},nodeName:function(b8,e){return b8.nodeName&&b8.nodeName.toLowerCase()===e.toLowerCase()},each:function(cc,cd,b9){var b8,ca=0,cb=cc.length,e=cb===aK||bP.isFunction(cc);if(b9){if(e){for(b8 in cc){if(cd.apply(cc[b8],b9)===false){break}}}else{for(;ca<cb;){if(cd.apply(cc[ca++],b9)===false){break}}}}else{if(e){for(b8 in cc){if(cd.call(cc[b8],b8,cc[b8])===false){break}}}else{for(;ca<cb;){if(cd.call(cc[ca],ca,cc[ca++])===false){break}}}}return cc},trim:aX&&!aX.call("\uFEFF\xA0")?function(e){return e==null?"":aX.call(e)}:function(e){return e==null?"":(e+"").replace(L,"")},makeArray:function(e,b9){var ca,b8=b9||[];if(e!=null){ca=bP.type(e);if(e.length==null||ca==="string"||ca==="function"||ca==="regexp"||bP.isWindow(e)){aw.call(b8,e)}else{bP.merge(b8,e)}}return b8},inArray:function(ca,b8,b9){var e;if(b8){if(aT){return aT.call(b8,ca,b9)}e=b8.length;b9=b9?b9<0?Math.max(0,e+b9):b9:0;for(;b9<e;b9++){if(b9 in b8&&b8[b9]===ca){return b9}}}return -1},merge:function(cb,b9){var e=b9.length,ca=cb.length,b8=0;if(typeof e==="number"){for(;b8<e;b8++){cb[ca++]=b9[b8]}}else{while(b9[b8]!==aK){cb[ca++]=b9[b8++]}}cb.length=ca;return cb},grep:function(b8,cd,e){var cc,b9=[],ca=0,cb=b8.length;e=!!e;for(;ca<cb;ca++){cc=!!cd(b8[ca],ca);if(e!==cc){b9.push(b8[ca])}}return b9},map:function(e,ce,cf){var cc,cd,cb=[],b9=0,b8=e.length,ca=e instanceof bP||b8!==aK&&typeof b8==="number"&&((b8>0&&e[0]&&e[b8-1])||b8===0||bP.isArray(e));if(ca){for(;b9<b8;b9++){cc=ce(e[b9],b9,cf);if(cc!=null){cb[cb.length]=cc}}}else{for(cd in e){cc=ce(e[cd],cd,cf);if(cc!=null){cb[cb.length]=cc}}}return cb.concat.apply([],cb)},guid:1,proxy:function(cb,ca){var b9,e,b8;if(typeof ca==="string"){b9=cb[ca];ca=cb;cb=b9}if(!bP.isFunction(cb)){return aK}e=bd.call(arguments,2);b8=function(){return cb.apply(ca,e.concat(bd.call(arguments)))};b8.guid=cb.guid=cb.guid||bP.guid++;return b8},access:function(e,cd,cg,ce,cb,ch,cf){var b9,cc=cg==null,ca=0,b8=e.length;if(cg&&typeof cg==="object"){for(ca in cg){bP.access(e,cd,ca,cg[ca],1,ch,ce)}cb=1}else{if(ce!==aK){b9=cf===aK&&bP.isFunction(ce);if(cc){if(b9){b9=cd;cd=function(cj,ci,ck){return b9.call(bP(cj),ck)}}else{cd.call(e,ce);cd=null}}if(cd){for(;ca<b8;ca++){cd(e[ca],cg,b9?ce.call(e[ca],ca,cd(e[ca],cg)):ce,cf)}}cb=1}}return cb?e:cc?cd.call(e):b8?cd(e[0],cg):ch},now:function(){return(new Date()).getTime()}});bP.ready.promise=function(cb){if(!ao){ao=bP.Deferred();if(x.readyState==="complete"){setTimeout(bP.ready,1)}else{if(x.addEventListener){x.addEventListener("DOMContentLoaded",aO,false);bb.addEventListener("load",bP.ready,false)}else{x.attachEvent("onreadystatechange",aO);bb.attachEvent("onload",bP.ready);var ca=false;try{ca=bb.frameElement==null&&x.documentElement}catch(b9){}if(ca&&ca.doScroll){(function b8(){if(!bP.isReady){try{ca.doScroll("left")
}catch(cc){return setTimeout(b8,50)}bP.ready()}})()}}}}return ao.promise(cb)};bP.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(b8,e){ai["[object "+e+"]"]=e.toLowerCase()});F=bP(x);var b3={};function al(b8){var e=b3[b8]={};bP.each(b8.split(a4),function(ca,b9){e[b9]=true});return e}bP.Callbacks=function(ch){ch=typeof ch==="string"?(b3[ch]||al(ch)):bP.extend({},ch);var ca,e,cb,b9,cc,cd,ce=[],cf=!ch.once&&[],b8=function(ci){ca=ch.memory&&ci;e=true;cd=b9||0;b9=0;cc=ce.length;cb=true;for(;ce&&cd<cc;cd++){if(ce[cd].apply(ci[0],ci[1])===false&&ch.stopOnFalse){ca=false;break}}cb=false;if(ce){if(cf){if(cf.length){b8(cf.shift())}}else{if(ca){ce=[]}else{cg.disable()}}}},cg={add:function(){if(ce){var cj=ce.length;(function ci(ck){bP.each(ck,function(cm,cl){var cn=bP.type(cl);if(cn==="function"){if(!ch.unique||!cg.has(cl)){ce.push(cl)}}else{if(cl&&cl.length&&cn!=="string"){ci(cl)}}})})(arguments);if(cb){cc=ce.length}else{if(ca){b9=cj;b8(ca)}}}return this},remove:function(){if(ce){bP.each(arguments,function(ck,ci){var cj;while((cj=bP.inArray(ci,ce,cj))>-1){ce.splice(cj,1);if(cb){if(cj<=cc){cc--}if(cj<=cd){cd--}}}})}return this},has:function(ci){return bP.inArray(ci,ce)>-1},empty:function(){ce=[];return this},disable:function(){ce=cf=ca=aK;return this},disabled:function(){return !ce},lock:function(){cf=aK;if(!ca){cg.disable()}return this},locked:function(){return !cf},fireWith:function(cj,ci){ci=ci||[];ci=[cj,ci.slice?ci.slice():ci];if(ce&&(!e||cf)){if(cb){cf.push(ci)}else{b8(ci)}}return this},fire:function(){cg.fireWith(this,arguments);return this},fired:function(){return !!e}};return cg};bP.extend({Deferred:function(b9){var b8=[["resolve","done",bP.Callbacks("once memory"),"resolved"],["reject","fail",bP.Callbacks("once memory"),"rejected"],["notify","progress",bP.Callbacks("memory")]],ca="pending",cb={state:function(){return ca},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var cc=arguments;return bP.Deferred(function(cd){bP.each(b8,function(cf,ce){var ch=ce[0],cg=cc[cf];e[ce[1]](bP.isFunction(cg)?function(){var ci=cg.apply(this,arguments);if(ci&&bP.isFunction(ci.promise)){ci.promise().done(cd.resolve).fail(cd.reject).progress(cd.notify)}else{cd[ch+"With"](this===e?cd:this,[ci])}}:cd[ch])});cc=null}).promise()},promise:function(cc){return cc!=null?bP.extend(cc,cb):cb}},e={};cb.pipe=cb.then;bP.each(b8,function(cd,cc){var cf=cc[2],ce=cc[3];cb[cc[1]]=cf.add;if(ce){cf.add(function(){ca=ce},b8[cd^1][2].disable,b8[2][2].lock)}e[cc[0]]=cf.fire;e[cc[0]+"With"]=cf.fireWith});cb.promise(e);if(b9){b9.call(e,e)}return e},when:function(cb){var b9=0,cd=bd.call(arguments),e=cd.length,b8=e!==1||(cb&&bP.isFunction(cb.promise))?e:0,cg=b8===1?cb:bP.Deferred(),ca=function(ci,cj,ch){return function(ck){cj[ci]=this;ch[ci]=arguments.length>1?bd.call(arguments):ck;if(ch===cf){cg.notifyWith(cj,ch)}else{if(!(--b8)){cg.resolveWith(cj,ch)}}}},cf,cc,ce;if(e>1){cf=new Array(e);cc=new Array(e);ce=new Array(e);for(;b9<e;b9++){if(cd[b9]&&bP.isFunction(cd[b9].promise)){cd[b9].promise().done(ca(b9,ce,cd)).fail(cg.reject).progress(ca(b9,cc,cf))}else{--b8}}}if(!b8){cg.resolveWith(ce,cd)}return cg.promise()}});bP.support=(function(){var ck,cj,ch,ci,cb,cg,cf,cd,cc,ca,b8,b9=x.createElement("div");b9.setAttribute("className","t");b9.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";cj=b9.getElementsByTagName("*");ch=b9.getElementsByTagName("a")[0];if(!cj||!ch||!cj.length){return{}}ci=x.createElement("select");cb=ci.appendChild(x.createElement("option"));cg=b9.getElementsByTagName("input")[0];ch.style.cssText="top:1px;float:left;opacity:.5";ck={leadingWhitespace:(b9.firstChild.nodeType===3),tbody:!b9.getElementsByTagName("tbody").length,htmlSerialize:!!b9.getElementsByTagName("link").length,style:/top/.test(ch.getAttribute("style")),hrefNormalized:(ch.getAttribute("href")==="/a"),opacity:/^0.5/.test(ch.style.opacity),cssFloat:!!ch.style.cssFloat,checkOn:(cg.value==="on"),optSelected:cb.selected,getSetAttribute:b9.className!=="t",enctype:!!x.createElement("form").enctype,html5Clone:x.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:(x.compatMode==="CSS1Compat"),submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};
cg.checked=true;ck.noCloneChecked=cg.cloneNode(true).checked;ci.disabled=true;ck.optDisabled=!cb.disabled;try{delete b9.test}catch(ce){ck.deleteExpando=false}if(!b9.addEventListener&&b9.attachEvent&&b9.fireEvent){b9.attachEvent("onclick",b8=function(){ck.noCloneEvent=false});b9.cloneNode(true).fireEvent("onclick");b9.detachEvent("onclick",b8)}cg=x.createElement("input");cg.value="t";cg.setAttribute("type","radio");ck.radioValue=cg.value==="t";cg.setAttribute("checked","checked");cg.setAttribute("name","t");b9.appendChild(cg);cf=x.createDocumentFragment();cf.appendChild(b9.lastChild);ck.checkClone=cf.cloneNode(true).cloneNode(true).lastChild.checked;ck.appendChecked=cg.checked;cf.removeChild(cg);cf.appendChild(b9);if(b9.attachEvent){for(cc in {submit:true,change:true,focusin:true}){cd="on"+cc;ca=(cd in b9);if(!ca){b9.setAttribute(cd,"return;");ca=(typeof b9[cd]==="function")}ck[cc+"Bubbles"]=ca}}bP(function(){var cl,cp,cn,co,cm="padding:0;margin:0;border:0;display:block;overflow:hidden;",e=x.getElementsByTagName("body")[0];if(!e){return}cl=x.createElement("div");cl.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";e.insertBefore(cl,e.firstChild);cp=x.createElement("div");cl.appendChild(cp);cp.innerHTML="<table><tr><td></td><td>t</td></tr></table>";cn=cp.getElementsByTagName("td");cn[0].style.cssText="padding:0;margin:0;border:0;display:none";ca=(cn[0].offsetHeight===0);cn[0].style.display="";cn[1].style.display="none";ck.reliableHiddenOffsets=ca&&(cn[0].offsetHeight===0);cp.innerHTML="";cp.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";ck.boxSizing=(cp.offsetWidth===4);ck.doesNotIncludeMarginInBodyOffset=(e.offsetTop!==1);if(bb.getComputedStyle){ck.pixelPosition=(bb.getComputedStyle(cp,null)||{}).top!=="1%";ck.boxSizingReliable=(bb.getComputedStyle(cp,null)||{width:"4px"}).width==="4px";co=x.createElement("div");co.style.cssText=cp.style.cssText=cm;co.style.marginRight=co.style.width="0";cp.style.width="1px";cp.appendChild(co);ck.reliableMarginRight=!parseFloat((bb.getComputedStyle(co,null)||{}).marginRight)}if(typeof cp.style.zoom!=="undefined"){cp.innerHTML="";cp.style.cssText=cm+"width:1px;padding:1px;display:inline;zoom:1";ck.inlineBlockNeedsLayout=(cp.offsetWidth===3);cp.style.display="block";cp.style.overflow="visible";cp.innerHTML="<div></div>";cp.firstChild.style.width="5px";ck.shrinkWrapBlocks=(cp.offsetWidth!==3);cl.style.zoom=1}e.removeChild(cl);cl=cp=cn=co=null});cf.removeChild(b9);cj=ch=ci=cb=cg=cf=b9=null;return ck})();var bC=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,aU=/([A-Z])/g;bP.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(bP.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?bP.cache[e[bP.expando]]:e[bP.expando];return !!e&&!X(e)},data:function(ca,b8,cc,cb){if(!bP.acceptData(ca)){return}var cd,cf,cg=bP.expando,ce=typeof b8==="string",ch=ca.nodeType,e=ch?bP.cache:ca,b9=ch?ca[cg]:ca[cg]&&cg;if((!b9||!e[b9]||(!cb&&!e[b9].data))&&ce&&cc===aK){return}if(!b9){if(ch){ca[cg]=b9=bP.deletedIds.pop()||bP.guid++}else{b9=cg}}if(!e[b9]){e[b9]={};if(!ch){e[b9].toJSON=bP.noop}}if(typeof b8==="object"||typeof b8==="function"){if(cb){e[b9]=bP.extend(e[b9],b8)}else{e[b9].data=bP.extend(e[b9].data,b8)}}cd=e[b9];if(!cb){if(!cd.data){cd.data={}}cd=cd.data}if(cc!==aK){cd[bP.camelCase(b8)]=cc}if(ce){cf=cd[b8];if(cf==null){cf=cd[bP.camelCase(b8)]}}else{cf=cd}return cf},removeData:function(ca,b8,cb){if(!bP.acceptData(ca)){return}var ce,cd,cc,cf=ca.nodeType,e=cf?bP.cache:ca,b9=cf?ca[bP.expando]:bP.expando;if(!e[b9]){return}if(b8){ce=cb?e[b9]:e[b9].data;if(ce){if(!bP.isArray(b8)){if(b8 in ce){b8=[b8]}else{b8=bP.camelCase(b8);if(b8 in ce){b8=[b8]}else{b8=b8.split(" ")}}}for(cd=0,cc=b8.length;cd<cc;cd++){delete ce[b8[cd]]}if(!(cb?X:bP.isEmptyObject)(ce)){return
}}}if(!cb){delete e[b9].data;if(!X(e[b9])){return}}if(cf){bP.cleanData([ca],true)}else{if(bP.support.deleteExpando||e!=e.window){delete e[b9]}else{e[b9]=null}}},_data:function(b8,e,b9){return bP.data(b8,e,b9,true)},acceptData:function(b8){var e=b8.nodeName&&bP.noData[b8.nodeName.toLowerCase()];return !e||e!==true&&b8.getAttribute("classid")===e}});bP.fn.extend({data:function(cg,cf){var cb,b8,ce,e,ca,b9=this[0],cd=0,cc=null;if(cg===aK){if(this.length){cc=bP.data(b9);if(b9.nodeType===1&&!bP._data(b9,"parsedAttrs")){ce=b9.attributes;for(ca=ce.length;cd<ca;cd++){e=ce[cd].name;if(!e.indexOf("data-")){e=bP.camelCase(e.substring(5));bE(b9,e,cc[e])}}bP._data(b9,"parsedAttrs",true)}}return cc}if(typeof cg==="object"){return this.each(function(){bP.data(this,cg)})}cb=cg.split(".",2);cb[1]=cb[1]?"."+cb[1]:"";b8=cb[1]+"!";return bP.access(this,function(ch){if(ch===aK){cc=this.triggerHandler("getData"+b8,[cb[0]]);if(cc===aK&&b9){cc=bP.data(b9,cg);cc=bE(b9,cg,cc)}return cc===aK&&cb[1]?this.data(cb[0]):cc}cb[1]=ch;this.each(function(){var ci=bP(this);ci.triggerHandler("setData"+b8,cb);bP.data(this,cg,ch);ci.triggerHandler("changeData"+b8,cb)})},null,cf,arguments.length>1,null,false)},removeData:function(e){return this.each(function(){bP.removeData(this,e)})}});function bE(ca,b9,cb){if(cb===aK&&ca.nodeType===1){var b8="data-"+b9.replace(aU,"-$1").toLowerCase();cb=ca.getAttribute(b8);if(typeof cb==="string"){try{cb=cb==="true"?true:cb==="false"?false:cb==="null"?null:+cb+""===cb?+cb:bC.test(cb)?bP.parseJSON(cb):cb}catch(cc){}bP.data(ca,b9,cb)}else{cb=aK}}return cb}function X(b8){var e;for(e in b8){if(e==="data"&&bP.isEmptyObject(b8[e])){continue}if(e!=="toJSON"){return false}}return true}bP.extend({queue:function(b9,b8,ca){var e;if(b9){b8=(b8||"fx")+"queue";e=bP._data(b9,b8);if(ca){if(!e||bP.isArray(ca)){e=bP._data(b9,b8,bP.makeArray(ca))}else{e.push(ca)}}return e||[]}},dequeue:function(cc,cb){cb=cb||"fx";var b8=bP.queue(cc,cb),cd=b8.length,ca=b8.shift(),e=bP._queueHooks(cc,cb),b9=function(){bP.dequeue(cc,cb)};if(ca==="inprogress"){ca=b8.shift();cd--}if(ca){if(cb==="fx"){b8.unshift("inprogress")}delete e.stop;ca.call(cc,b9,e)}if(!cd&&e){e.empty.fire()}},_queueHooks:function(b9,b8){var e=b8+"queueHooks";return bP._data(b9,e)||bP._data(b9,e,{empty:bP.Callbacks("once memory").add(function(){bP.removeData(b9,b8+"queue",true);bP.removeData(b9,e,true)})})}});bP.fn.extend({queue:function(e,b8){var b9=2;if(typeof e!=="string"){b8=e;e="fx";b9--}if(arguments.length<b9){return bP.queue(this[0],e)}return b8===aK?this:this.each(function(){var ca=bP.queue(this,e,b8);bP._queueHooks(this,e);if(e==="fx"&&ca[0]!=="inprogress"){bP.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){bP.dequeue(this,e)})},delay:function(b8,e){b8=bP.fx?bP.fx.speeds[b8]||b8:b8;e=e||"fx";return this.queue(e,function(ca,b9){var cb=setTimeout(ca,b8);b9.stop=function(){clearTimeout(cb)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(b9,cd){var b8,ca=1,ce=bP.Deferred(),cc=this,e=this.length,cb=function(){if(!(--ca)){ce.resolveWith(cc,[cc])}};if(typeof b9!=="string"){cd=b9;b9=aK}b9=b9||"fx";while(e--){b8=bP._data(cc[e],b9+"queueHooks");if(b8&&b8.empty){ca++;b8.empty.add(cb)}}cb();return ce.promise(cd)}});var bg,b4,w,bS=/[\t\r\n]/g,ar=/\r/g,s=/^(?:button|input)$/i,aJ=/^(?:button|input|object|select|textarea)$/i,M=/^a(?:rea|)$/i,V=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,bU=bP.support.getSetAttribute;bP.fn.extend({attr:function(e,b8){return bP.access(this,bP.attr,e,b8,arguments.length>1)},removeAttr:function(e){return this.each(function(){bP.removeAttr(this,e)})},prop:function(e,b8){return bP.access(this,bP.prop,e,b8,arguments.length>1)},removeProp:function(e){e=bP.propFix[e]||e;return this.each(function(){try{this[e]=aK;delete this[e]}catch(b8){}})},addClass:function(cb){var cd,b9,b8,ca,cc,ce,e;if(bP.isFunction(cb)){return this.each(function(cf){bP(this).addClass(cb.call(this,cf,this.className))
})}if(cb&&typeof cb==="string"){cd=cb.split(a4);for(b9=0,b8=this.length;b9<b8;b9++){ca=this[b9];if(ca.nodeType===1){if(!ca.className&&cd.length===1){ca.className=cb}else{cc=" "+ca.className+" ";for(ce=0,e=cd.length;ce<e;ce++){if(cc.indexOf(" "+cd[ce]+" ")<0){cc+=cd[ce]+" "}}ca.className=bP.trim(cc)}}}}return this},removeClass:function(cd){var ca,cb,cc,ce,b8,b9,e;if(bP.isFunction(cd)){return this.each(function(cf){bP(this).removeClass(cd.call(this,cf,this.className))})}if((cd&&typeof cd==="string")||cd===aK){ca=(cd||"").split(a4);for(b9=0,e=this.length;b9<e;b9++){cc=this[b9];if(cc.nodeType===1&&cc.className){cb=(" "+cc.className+" ").replace(bS," ");for(ce=0,b8=ca.length;ce<b8;ce++){while(cb.indexOf(" "+ca[ce]+" ")>=0){cb=cb.replace(" "+ca[ce]+" "," ")}}cc.className=cd?bP.trim(cb):""}}}return this},toggleClass:function(ca,b8){var b9=typeof ca,e=typeof b8==="boolean";if(bP.isFunction(ca)){return this.each(function(cb){bP(this).toggleClass(ca.call(this,cb,this.className,b8),b8)})}return this.each(function(){if(b9==="string"){var cd,cc=0,cb=bP(this),ce=b8,cf=ca.split(a4);while((cd=cf[cc++])){ce=e?ce:!cb.hasClass(cd);cb[ce?"addClass":"removeClass"](cd)}}else{if(b9==="undefined"||b9==="boolean"){if(this.className){bP._data(this,"__className__",this.className)}this.className=this.className||ca===false?"":bP._data(this,"__className__")||""}}})},hasClass:function(e){var ca=" "+e+" ",b9=0,b8=this.length;for(;b9<b8;b9++){if(this[b9].nodeType===1&&(" "+this[b9].className+" ").replace(bS," ").indexOf(ca)>=0){return true}}return false},val:function(ca){var e,b8,cb,b9=this[0];if(!arguments.length){if(b9){e=bP.valHooks[b9.type]||bP.valHooks[b9.nodeName.toLowerCase()];if(e&&"get" in e&&(b8=e.get(b9,"value"))!==aK){return b8}b8=b9.value;return typeof b8==="string"?b8.replace(ar,""):b8==null?"":b8}return}cb=bP.isFunction(ca);return this.each(function(cd){var ce,cc=bP(this);if(this.nodeType!==1){return}if(cb){ce=ca.call(this,cd,cc.val())}else{ce=ca}if(ce==null){ce=""}else{if(typeof ce==="number"){ce+=""}else{if(bP.isArray(ce)){ce=bP.map(ce,function(cf){return cf==null?"":cf+""})}}}e=bP.valHooks[this.type]||bP.valHooks[this.nodeName.toLowerCase()];if(!e||!("set" in e)||e.set(this,ce,"value")===aK){this.value=ce}})}});bP.extend({valHooks:{option:{get:function(e){var b8=e.attributes.value;return !b8||b8.specified?e.value:e.text}},select:{get:function(e){var cd,b9,cf=e.options,cb=e.selectedIndex,ca=e.type==="select-one"||cb<0,ce=ca?null:[],cc=ca?cb+1:cf.length,b8=cb<0?cc:ca?cb:0;for(;b8<cc;b8++){b9=cf[b8];if((b9.selected||b8===cb)&&(bP.support.optDisabled?!b9.disabled:b9.getAttribute("disabled")===null)&&(!b9.parentNode.disabled||!bP.nodeName(b9.parentNode,"optgroup"))){cd=bP(b9).val();if(ca){return cd}ce.push(cd)}}return ce},set:function(b8,b9){var e=bP.makeArray(b9);bP(b8).find("option").each(function(){this.selected=bP.inArray(bP(this).val(),e)>=0});if(!e.length){b8.selectedIndex=-1}return e}}},attrFn:{},attr:function(cd,ca,ce,cc){var b9,e,cb,b8=cd.nodeType;if(!cd||b8===3||b8===8||b8===2){return}if(cc&&bP.isFunction(bP.fn[ca])){return bP(cd)[ca](ce)}if(typeof cd.getAttribute==="undefined"){return bP.prop(cd,ca,ce)}cb=b8!==1||!bP.isXMLDoc(cd);if(cb){ca=ca.toLowerCase();e=bP.attrHooks[ca]||(V.test(ca)?b4:bg)}if(ce!==aK){if(ce===null){bP.removeAttr(cd,ca);return}else{if(e&&"set" in e&&cb&&(b9=e.set(cd,ce,ca))!==aK){return b9}else{cd.setAttribute(ca,ce+"");return ce}}}else{if(e&&"get" in e&&cb&&(b9=e.get(cd,ca))!==null){return b9}else{b9=cd.getAttribute(ca);return b9===null?aK:b9}}},removeAttr:function(ca,cc){var cb,cd,b8,e,b9=0;if(cc&&ca.nodeType===1){cd=cc.split(a4);for(;b9<cd.length;b9++){b8=cd[b9];if(b8){cb=bP.propFix[b8]||b8;e=V.test(b8);if(!e){bP.attr(ca,b8,"")}ca.removeAttribute(bU?b8:cb);if(e&&cb in ca){ca[cb]=false}}}}},attrHooks:{type:{set:function(e,b8){if(s.test(e.nodeName)&&e.parentNode){bP.error("type property can't be changed")}else{if(!bP.support.radioValue&&b8==="radio"&&bP.nodeName(e,"input")){var b9=e.value;e.setAttribute("type",b8);
if(b9){e.value=b9}return b8}}}},value:{get:function(b8,e){if(bg&&bP.nodeName(b8,"button")){return bg.get(b8,e)}return e in b8?b8.value:null},set:function(b8,b9,e){if(bg&&bP.nodeName(b8,"button")){return bg.set(b8,b9,e)}b8.value=b9}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(cc,ca,cd){var b9,e,cb,b8=cc.nodeType;if(!cc||b8===3||b8===8||b8===2){return}cb=b8!==1||!bP.isXMLDoc(cc);if(cb){ca=bP.propFix[ca]||ca;e=bP.propHooks[ca]}if(cd!==aK){if(e&&"set" in e&&(b9=e.set(cc,cd,ca))!==aK){return b9}else{return(cc[ca]=cd)}}else{if(e&&"get" in e&&(b9=e.get(cc,ca))!==null){return b9}else{return cc[ca]}}},propHooks:{tabIndex:{get:function(b8){var e=b8.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):aJ.test(b8.nodeName)||M.test(b8.nodeName)&&b8.href?0:aK}}}});b4={get:function(b8,e){var ca,b9=bP.prop(b8,e);return b9===true||typeof b9!=="boolean"&&(ca=b8.getAttributeNode(e))&&ca.nodeValue!==false?e.toLowerCase():aK},set:function(b8,ca,e){var b9;if(ca===false){bP.removeAttr(b8,e)}else{b9=bP.propFix[e]||e;if(b9 in b8){b8[b9]=true}b8.setAttribute(e,e.toLowerCase())}return e}};if(!bU){w={name:true,id:true,coords:true};bg=bP.valHooks.button={get:function(b9,b8){var e;e=b9.getAttributeNode(b8);return e&&(w[b8]?e.value!=="":e.specified)?e.value:aK},set:function(b9,ca,b8){var e=b9.getAttributeNode(b8);if(!e){e=x.createAttribute(b8);b9.setAttributeNode(e)}return(e.value=ca+"")}};bP.each(["width","height"],function(b8,e){bP.attrHooks[e]=bP.extend(bP.attrHooks[e],{set:function(b9,ca){if(ca===""){b9.setAttribute(e,"auto");return ca}}})});bP.attrHooks.contenteditable={get:bg.get,set:function(b8,b9,e){if(b9===""){b9="false"}bg.set(b8,b9,e)}}}if(!bP.support.hrefNormalized){bP.each(["href","src","width","height"],function(b8,e){bP.attrHooks[e]=bP.extend(bP.attrHooks[e],{get:function(ca){var b9=ca.getAttribute(e,2);return b9===null?aK:b9}})})}if(!bP.support.style){bP.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||aK},set:function(e,b8){return(e.style.cssText=b8+"")}}}if(!bP.support.optSelected){bP.propHooks.selected=bP.extend(bP.propHooks.selected,{get:function(b8){var e=b8.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}return null}})}if(!bP.support.enctype){bP.propFix.enctype="encoding"}if(!bP.support.checkOn){bP.each(["radio","checkbox"],function(){bP.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})}bP.each(["radio","checkbox"],function(){bP.valHooks[this]=bP.extend(bP.valHooks[this],{set:function(e,b8){if(bP.isArray(b8)){return(e.checked=bP.inArray(bP(e).val(),b8)>=0)}}})});var bN=/^(?:textarea|input|select)$/i,bA=/^([^\.]*|)(?:\.(.+)|)$/,bj=/(?:^|\s)hover(\.\S+|)\b/,bc=/^key/,bT=/^(?:mouse|contextmenu)|click/,bH=/^(?:focusinfocus|focusoutblur)$/,aA=function(e){return bP.event.special.hover?e:e.replace(bj,"mouseenter$1 mouseleave$1")};bP.event={add:function(ca,ce,cl,cc,cb){var cf,cd,cm,ck,cj,ch,e,ci,b8,b9,cg;if(ca.nodeType===3||ca.nodeType===8||!ce||!cl||!(cf=bP._data(ca))){return}if(cl.handler){b8=cl;cl=b8.handler;cb=b8.selector}if(!cl.guid){cl.guid=bP.guid++}cm=cf.events;if(!cm){cf.events=cm={}}cd=cf.handle;if(!cd){cf.handle=cd=function(cn){return typeof bP!=="undefined"&&(!cn||bP.event.triggered!==cn.type)?bP.event.dispatch.apply(cd.elem,arguments):aK};cd.elem=ca}ce=bP.trim(aA(ce)).split(" ");for(ck=0;ck<ce.length;ck++){cj=bA.exec(ce[ck])||[];ch=cj[1];e=(cj[2]||"").split(".").sort();cg=bP.event.special[ch]||{};ch=(cb?cg.delegateType:cg.bindType)||ch;cg=bP.event.special[ch]||{};ci=bP.extend({type:ch,origType:cj[1],data:cc,handler:cl,guid:cl.guid,selector:cb,needsContext:cb&&bP.expr.match.needsContext.test(cb),namespace:e.join(".")},b8);b9=cm[ch];if(!b9){b9=cm[ch]=[];b9.delegateCount=0;if(!cg.setup||cg.setup.call(ca,cc,e,cd)===false){if(ca.addEventListener){ca.addEventListener(ch,cd,false)
}else{if(ca.attachEvent){ca.attachEvent("on"+ch,cd)}}}}if(cg.add){cg.add.call(ca,ci);if(!ci.handler.guid){ci.handler.guid=cl.guid}}if(cb){b9.splice(b9.delegateCount++,0,ci)}else{b9.push(ci)}bP.event.global[ch]=true}ca=null},global:{},remove:function(ca,cf,cl,cb,ce){var cm,cn,ci,b9,b8,cc,cd,ck,ch,e,cj,cg=bP.hasData(ca)&&bP._data(ca);if(!cg||!(ck=cg.events)){return}cf=bP.trim(aA(cf||"")).split(" ");for(cm=0;cm<cf.length;cm++){cn=bA.exec(cf[cm])||[];ci=b9=cn[1];b8=cn[2];if(!ci){for(ci in ck){bP.event.remove(ca,ci+cf[cm],cl,cb,true)}continue}ch=bP.event.special[ci]||{};ci=(cb?ch.delegateType:ch.bindType)||ci;e=ck[ci]||[];cc=e.length;b8=b8?new RegExp("(^|\\.)"+b8.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(cd=0;cd<e.length;cd++){cj=e[cd];if((ce||b9===cj.origType)&&(!cl||cl.guid===cj.guid)&&(!b8||b8.test(cj.namespace))&&(!cb||cb===cj.selector||cb==="**"&&cj.selector)){e.splice(cd--,1);if(cj.selector){e.delegateCount--}if(ch.remove){ch.remove.call(ca,cj)}}}if(e.length===0&&cc!==e.length){if(!ch.teardown||ch.teardown.call(ca,b8,cg.handle)===false){bP.removeEvent(ca,ci,cg.handle)}delete ck[ci]}}if(bP.isEmptyObject(ck)){delete cg.handle;bP.removeData(ca,"events",true)}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(b8,cf,cd,cm){if(cd&&(cd.nodeType===3||cd.nodeType===8)){return}var e,ca,cg,ck,cc,cb,ci,ch,ce,cl,cj=b8.type||b8,b9=[];if(bH.test(cj+bP.event.triggered)){return}if(cj.indexOf("!")>=0){cj=cj.slice(0,-1);ca=true}if(cj.indexOf(".")>=0){b9=cj.split(".");cj=b9.shift();b9.sort()}if((!cd||bP.event.customEvent[cj])&&!bP.event.global[cj]){return}b8=typeof b8==="object"?b8[bP.expando]?b8:new bP.Event(cj,b8):new bP.Event(cj);b8.type=cj;b8.isTrigger=true;b8.exclusive=ca;b8.namespace=b9.join(".");b8.namespace_re=b8.namespace?new RegExp("(^|\\.)"+b9.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;cb=cj.indexOf(":")<0?"on"+cj:"";if(!cd){e=bP.cache;for(cg in e){if(e[cg].events&&e[cg].events[cj]){bP.event.trigger(b8,cf,e[cg].handle.elem,true)}}return}b8.result=aK;if(!b8.target){b8.target=cd}cf=cf!=null?bP.makeArray(cf):[];cf.unshift(b8);ci=bP.event.special[cj]||{};if(ci.trigger&&ci.trigger.apply(cd,cf)===false){return}ce=[[cd,ci.bindType||cj]];if(!cm&&!ci.noBubble&&!bP.isWindow(cd)){cl=ci.delegateType||cj;ck=bH.test(cl+cj)?cd:cd.parentNode;for(cc=cd;ck;ck=ck.parentNode){ce.push([ck,cl]);cc=ck}if(cc===(cd.ownerDocument||x)){ce.push([cc.defaultView||cc.parentWindow||bb,cl])}}for(cg=0;cg<ce.length&&!b8.isPropagationStopped();cg++){ck=ce[cg][0];b8.type=ce[cg][1];ch=(bP._data(ck,"events")||{})[b8.type]&&bP._data(ck,"handle");if(ch){ch.apply(ck,cf)}ch=cb&&ck[cb];if(ch&&bP.acceptData(ck)&&ch.apply&&ch.apply(ck,cf)===false){b8.preventDefault()}}b8.type=cj;if(!cm&&!b8.isDefaultPrevented()){if((!ci._default||ci._default.apply(cd.ownerDocument,cf)===false)&&!(cj==="click"&&bP.nodeName(cd,"a"))&&bP.acceptData(cd)){if(cb&&cd[cj]&&((cj!=="focus"&&cj!=="blur")||b8.target.offsetWidth!==0)&&!bP.isWindow(cd)){cc=cd[cb];if(cc){cd[cb]=null}bP.event.triggered=cj;cd[cj]();bP.event.triggered=aK;if(cc){cd[cb]=cc}}}}return b8.result},dispatch:function(e){e=bP.event.fix(e||bb.event);var ce,cd,cn,ch,cg,b8,cf,cl,ca,cm,cb=((bP._data(this,"events")||{})[e.type]||[]),cc=cb.delegateCount,cj=bd.call(arguments),b9=!e.exclusive&&!e.namespace,ci=bP.event.special[e.type]||{},ck=[];cj[0]=e;e.delegateTarget=this;if(ci.preDispatch&&ci.preDispatch.call(this,e)===false){return}if(cc&&!(e.button&&e.type==="click")){for(cn=e.target;cn!=this;cn=cn.parentNode||this){if(cn.disabled!==true||e.type!=="click"){cg={};cf=[];for(ce=0;ce<cc;ce++){cl=cb[ce];ca=cl.selector;if(cg[ca]===aK){cg[ca]=cl.needsContext?bP(ca,this).index(cn)>=0:bP.find(ca,this,null,[cn]).length}if(cg[ca]){cf.push(cl)}}if(cf.length){ck.push({elem:cn,matches:cf})}}}}if(cb.length>cc){ck.push({elem:this,matches:cb.slice(cc)})}for(ce=0;ce<ck.length&&!e.isPropagationStopped();ce++){b8=ck[ce];e.currentTarget=b8.elem;for(cd=0;cd<b8.matches.length&&!e.isImmediatePropagationStopped();cd++){cl=b8.matches[cd];
if(b9||(!e.namespace&&!cl.namespace)||e.namespace_re&&e.namespace_re.test(cl.namespace)){e.data=cl.data;e.handleObj=cl;ch=((bP.event.special[cl.origType]||{}).handle||cl.handler).apply(b8.elem,cj);if(ch!==aK){e.result=ch;if(ch===false){e.preventDefault();e.stopPropagation()}}}}}if(ci.postDispatch){ci.postDispatch.call(this,e)}return e.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(b8,e){if(b8.which==null){b8.which=e.charCode!=null?e.charCode:e.keyCode}return b8}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(ca,b9){var cb,cc,e,b8=b9.button,cd=b9.fromElement;if(ca.pageX==null&&b9.clientX!=null){cb=ca.target.ownerDocument||x;cc=cb.documentElement;e=cb.body;ca.pageX=b9.clientX+(cc&&cc.scrollLeft||e&&e.scrollLeft||0)-(cc&&cc.clientLeft||e&&e.clientLeft||0);ca.pageY=b9.clientY+(cc&&cc.scrollTop||e&&e.scrollTop||0)-(cc&&cc.clientTop||e&&e.clientTop||0)}if(!ca.relatedTarget&&cd){ca.relatedTarget=cd===ca.target?b9.toElement:cd}if(!ca.which&&b8!==aK){ca.which=(b8&1?1:(b8&2?3:(b8&4?2:0)))}return ca}},fix:function(b9){if(b9[bP.expando]){return b9}var b8,cc,e=b9,ca=bP.event.fixHooks[b9.type]||{},cb=ca.props?this.props.concat(ca.props):this.props;b9=bP.Event(e);for(b8=cb.length;b8;){cc=cb[--b8];b9[cc]=e[cc]}if(!b9.target){b9.target=e.srcElement||x}if(b9.target.nodeType===3){b9.target=b9.target.parentNode}b9.metaKey=!!b9.metaKey;return ca.filter?ca.filter(b9,e):b9},special:{load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(b9,b8,e){if(bP.isWindow(this)){this.onbeforeunload=e}},teardown:function(b8,e){if(this.onbeforeunload===e){this.onbeforeunload=null}}}},simulate:function(b9,cb,ca,b8){var cc=bP.extend(new bP.Event(),ca,{type:b9,isSimulated:true,originalEvent:{}});if(b8){bP.event.trigger(cc,null,cb)}else{bP.event.dispatch.call(cb,cc)}if(cc.isDefaultPrevented()){ca.preventDefault()}}};bP.event.handle=bP.event.dispatch;bP.removeEvent=x.removeEventListener?function(b8,e,b9){if(b8.removeEventListener){b8.removeEventListener(e,b9,false)}}:function(b9,b8,ca){var e="on"+b8;if(b9.detachEvent){if(typeof b9[e]==="undefined"){b9[e]=null}b9.detachEvent(e,ca)}};bP.Event=function(b8,e){if(!(this instanceof bP.Event)){return new bP.Event(b8,e)}if(b8&&b8.type){this.originalEvent=b8;this.type=b8.type;this.isDefaultPrevented=(b8.defaultPrevented||b8.returnValue===false||b8.getPreventDefault&&b8.getPreventDefault())?aa:ag}else{this.type=b8}if(e){bP.extend(this,e)}this.timeStamp=b8&&b8.timeStamp||bP.now();this[bP.expando]=true};function ag(){return false}function aa(){return true}bP.Event.prototype={preventDefault:function(){this.isDefaultPrevented=aa;var b8=this.originalEvent;if(!b8){return}if(b8.preventDefault){b8.preventDefault()}else{b8.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=aa;var b8=this.originalEvent;if(!b8){return}if(b8.stopPropagation){b8.stopPropagation()}b8.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=aa;this.stopPropagation()},isDefaultPrevented:ag,isPropagationStopped:ag,isImmediatePropagationStopped:ag};bP.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b8,e){bP.event.special[b8]={delegateType:e,bindType:e,handle:function(cc){var ca,ce=this,cd=cc.relatedTarget,cb=cc.handleObj,b9=cb.selector;if(!cd||(cd!==ce&&!bP.contains(ce,cd))){cc.type=cb.origType;ca=cb.handler.apply(this,arguments);cc.type=e}return ca}}});if(!bP.support.submitBubbles){bP.event.special.submit={setup:function(){if(bP.nodeName(this,"form")){return false}bP.event.add(this,"click._submit keypress._submit",function(ca){var b9=ca.target,b8=bP.nodeName(b9,"input")||bP.nodeName(b9,"button")?b9.form:aK;if(b8&&!bP._data(b8,"_submit_attached")){bP.event.add(b8,"submit._submit",function(e){e._submit_bubble=true
});bP._data(b8,"_submit_attached",true)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){bP.event.simulate("submit",this.parentNode,e,true)}}},teardown:function(){if(bP.nodeName(this,"form")){return false}bP.event.remove(this,"._submit")}}}if(!bP.support.changeBubbles){bP.event.special.change={setup:function(){if(bN.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){bP.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});bP.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false}bP.event.simulate("change",this,e,true)})}return false}bP.event.add(this,"beforeactivate._change",function(b9){var b8=b9.target;if(bN.test(b8.nodeName)&&!bP._data(b8,"_change_attached")){bP.event.add(b8,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){bP.event.simulate("change",this.parentNode,e,true)}});bP._data(b8,"_change_attached",true)}})},handle:function(b8){var e=b8.target;if(this!==e||b8.isSimulated||b8.isTrigger||(e.type!=="radio"&&e.type!=="checkbox")){return b8.handleObj.handler.apply(this,arguments)}},teardown:function(){bP.event.remove(this,"._change");return !bN.test(this.nodeName)}}}if(!bP.support.focusinBubbles){bP.each({focus:"focusin",blur:"focusout"},function(ca,e){var b8=0,b9=function(cb){bP.event.simulate(e,cb.target,bP.event.fix(cb),true)};bP.event.special[e]={setup:function(){if(b8++===0){x.addEventListener(ca,b9,true)}},teardown:function(){if(--b8===0){x.removeEventListener(ca,b9,true)}}}})}bP.fn.extend({on:function(b9,e,cc,cb,b8){var cd,ca;if(typeof b9==="object"){if(typeof e!=="string"){cc=cc||e;e=aK}for(ca in b9){this.on(ca,e,cc,b9[ca],b8)}return this}if(cc==null&&cb==null){cb=e;cc=e=aK}else{if(cb==null){if(typeof e==="string"){cb=cc;cc=aK}else{cb=cc;cc=e;e=aK}}}if(cb===false){cb=ag}else{if(!cb){return this}}if(b8===1){cd=cb;cb=function(ce){bP().off(ce);return cd.apply(this,arguments)};cb.guid=cd.guid||(cd.guid=bP.guid++)}return this.each(function(){bP.event.add(this,b9,cb,cc,e)})},one:function(b8,e,ca,b9){return this.on(b8,e,ca,b9,1)},off:function(b9,e,cb){var b8,ca;if(b9&&b9.preventDefault&&b9.handleObj){b8=b9.handleObj;bP(b9.delegateTarget).off(b8.namespace?b8.origType+"."+b8.namespace:b8.origType,b8.selector,b8.handler);return this}if(typeof b9==="object"){for(ca in b9){this.off(ca,e,b9[ca])}return this}if(e===false||typeof e==="function"){cb=e;e=aK}if(cb===false){cb=ag}return this.each(function(){bP.event.remove(this,b9,cb,e)})},bind:function(e,b9,b8){return this.on(e,null,b9,b8)},unbind:function(e,b8){return this.off(e,null,b8)},live:function(e,b9,b8){bP(this.context).on(e,this.selector,b9,b8);return this},die:function(e,b8){bP(this.context).off(e,this.selector||"**",b8);return this},delegate:function(e,b8,ca,b9){return this.on(b8,e,ca,b9)},undelegate:function(e,b8,b9){return arguments.length===1?this.off(e,"**"):this.off(b8,e||"**",b9)},trigger:function(e,b8){return this.each(function(){bP.event.trigger(e,b8,this)})},triggerHandler:function(e,b8){if(this[0]){return bP.event.trigger(e,b8,this[0],true)}},toggle:function(ca){var b8=arguments,e=ca.guid||bP.guid++,b9=0,cb=function(cc){var cd=(bP._data(this,"lastToggle"+ca.guid)||0)%b9;bP._data(this,"lastToggle"+ca.guid,cd+1);cc.preventDefault();return b8[cd].apply(this,arguments)||false};cb.guid=e;while(b9<b8.length){b8[b9++].guid=e}return this.click(cb)},hover:function(e,b8){return this.mouseenter(e).mouseleave(b8||e)}});bP.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(b8,e){bP.fn[e]=function(ca,b9){if(b9==null){b9=ca;ca=null}return arguments.length>0?this.on(e,null,ca,b9):this.trigger(e)};if(bc.test(e)){bP.event.fixHooks[e]=bP.event.keyHooks}if(bT.test(e)){bP.event.fixHooks[e]=bP.event.mouseHooks
}});
/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
(function(c1,cq){var c6,cj,cU,b9,cv,cJ,cm,cp,cl,cS,ci=true,cD="undefined",c8=("sizcache"+Math.random()).replace(".",""),cd=String,ch=c1.document,ck=ch.documentElement,cA=0,co=0,cN=[].pop,c5=[].push,cu=[].slice,cx=[].indexOf||function(dh){var dg=0,e=this.length;for(;dg<e;dg++){if(this[dg]===dh){return dg}}return -1},da=function(e,dg){e[c8]=dg==null||dg;return e},de=function(){var e={},dg=[];return da(function(dh,di){if(dg.push(dh)>cU.cacheLength){delete e[dg.shift()]}return(e[dh+" "]=di)},e)},c3=de(),c4=de(),cw=de(),cH="[\\x20\\t\\r\\n\\f]",ct="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",cr=ct.replace("w","w#"),dd="([*^$|!~]?=)",cY="\\["+cH+"*("+ct+")"+cH+"*(?:"+dd+cH+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+cr+")|)|)"+cH+"*\\]",df=":("+ct+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+cY+")|[^:]|\\\\.)*|.*))\\)|)",cI=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cH+"*((?:-\\d)?\\d*)"+cH+"*\\)|)(?=[^-]|$)",c2=new RegExp("^"+cH+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cH+"+$","g"),ce=new RegExp("^"+cH+"*,"+cH+"*"),cQ=new RegExp("^"+cH+"*([\\x20\\t\\r\\n\\f>+~])"+cH+"*"),cV=new RegExp(df),cX=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,cM=/^:not/,c0=/[\x20\t\r\n\f]*[+~]/,c9=/:not\($/,cB=/h\d/i,cW=/input|select|textarea|button/i,cC=/\\(?!\\)/g,cP={ID:new RegExp("^#("+ct+")"),CLASS:new RegExp("^\\.("+ct+")"),NAME:new RegExp("^\\[name=['\"]?("+ct+")['\"]?\\]"),TAG:new RegExp("^("+ct.replace("w","w*")+")"),ATTR:new RegExp("^"+cY),PSEUDO:new RegExp("^"+df),POS:new RegExp(cI,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+cH+"*(even|odd|(([+-]|)(\\d*)n|)"+cH+"*(?:([+-]|)"+cH+"*(\\d+)|))"+cH+"*\\)|)","i"),needsContext:new RegExp("^"+cH+"*[>+~]|"+cI,"i")},cT=function(dg){var di=ch.createElement("div");try{return dg(di)}catch(dh){return false}finally{di=null}},cg=cT(function(e){e.appendChild(ch.createComment(""));return !e.getElementsByTagName("*").length}),cL=cT(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild&&typeof e.firstChild.getAttribute!==cD&&e.firstChild.getAttribute("href")==="#"}),cz=cT(function(dg){dg.innerHTML="<select></select>";var e=typeof dg.lastChild.getAttribute("multiple");return e!=="boolean"&&e!=="string"}),cK=cT(function(e){e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!e.getElementsByClassName||!e.getElementsByClassName("e").length){return false}e.lastChild.className="e";return e.getElementsByClassName("e").length===2}),b8=cT(function(dg){dg.id=c8+0;dg.innerHTML="<a name='"+c8+"'></a><div name='"+c8+"'></div>";ck.insertBefore(dg,ck.firstChild);var e=ch.getElementsByName&&ch.getElementsByName(c8).length===2+ch.getElementsByName(c8+0).length;cj=!ch.getElementById(c8);ck.removeChild(dg);return e});try{cu.call(ck.childNodes,0)[0].nodeType}catch(dc){cu=function(dg){var dh,e=[];for(;(dh=this[dg]);dg++){e.push(dh)}return e}}function cZ(di,e,dk,dn){dk=dk||[];e=e||ch;var dl,dg,dm,dh,dj=e.nodeType;if(!di||typeof di!=="string"){return dk}if(dj!==1&&dj!==9){return[]}dm=cv(e);if(!dm&&!dn){if((dl=cX.exec(di))){if((dh=dl[1])){if(dj===9){dg=e.getElementById(dh);if(dg&&dg.parentNode){if(dg.id===dh){dk.push(dg);return dk}}else{return dk}}else{if(e.ownerDocument&&(dg=e.ownerDocument.getElementById(dh))&&cJ(e,dg)&&dg.id===dh){dk.push(dg);return dk}}}else{if(dl[2]){c5.apply(dk,cu.call(e.getElementsByTagName(di),0));return dk}else{if((dh=dl[3])&&cK&&e.getElementsByClassName){c5.apply(dk,cu.call(e.getElementsByClassName(dh),0));return dk}}}}}return c7(di.replace(c2,"$1"),e,dk,dn,dm)}cZ.matches=function(dg,e){return cZ(dg,null,null,e)};cZ.matchesSelector=function(e,dg){return cZ(dg,null,null,[e]).length>0};function cR(e){return function(dh){var dg=dh.nodeName.toLowerCase();return dg==="input"&&dh.type===e}}function cc(e){return function(dh){var dg=dh.nodeName.toLowerCase();return(dg==="input"||dg==="button")&&dh.type===e}}function cO(e){return da(function(dg){dg=+dg;
return da(function(dh,dl){var dj,di=e([],dh.length,dg),dk=di.length;while(dk--){if(dh[(dj=di[dk])]){dh[dj]=!(dl[dj]=dh[dj])}}})})}b9=cZ.getText=function(dj){var di,dg="",dh=0,e=dj.nodeType;if(e){if(e===1||e===9||e===11){if(typeof dj.textContent==="string"){return dj.textContent}else{for(dj=dj.firstChild;dj;dj=dj.nextSibling){dg+=b9(dj)}}}else{if(e===3||e===4){return dj.nodeValue}}}else{for(;(di=dj[dh]);dh++){dg+=b9(di)}}return dg};cv=cZ.isXML=function(e){var dg=e&&(e.ownerDocument||e).documentElement;return dg?dg.nodeName!=="HTML":false};cJ=cZ.contains=ck.contains?function(dg,e){var di=dg.nodeType===9?dg.documentElement:dg,dh=e&&e.parentNode;return dg===dh||!!(dh&&dh.nodeType===1&&di.contains&&di.contains(dh))}:ck.compareDocumentPosition?function(dg,e){return e&&!!(dg.compareDocumentPosition(e)&16)}:function(dg,e){while((e=e.parentNode)){if(e===dg){return true}}return false};cZ.attr=function(dh,dg){var di,e=cv(dh);if(!e){dg=dg.toLowerCase()}if((di=cU.attrHandle[dg])){return di(dh)}if(e||cz){return dh.getAttribute(dg)}di=dh.getAttributeNode(dg);return di?typeof dh[dg]==="boolean"?dh[dg]?dg:null:di.specified?di.value:null:null};cU=cZ.selectors={cacheLength:50,createPseudo:da,match:cP,attrHandle:cL?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:cj?function(di,dh,dg){if(typeof dh.getElementById!==cD&&!dg){var e=dh.getElementById(di);return e&&e.parentNode?[e]:[]}}:function(di,dh,dg){if(typeof dh.getElementById!==cD&&!dg){var e=dh.getElementById(di);return e?e.id===di||typeof e.getAttributeNode!==cD&&e.getAttributeNode("id").value===di?[e]:cq:[]}},TAG:cg?function(e,dg){if(typeof dg.getElementsByTagName!==cD){return dg.getElementsByTagName(e)}}:function(e,dj){var di=dj.getElementsByTagName(e);if(e==="*"){var dk,dh=[],dg=0;for(;(dk=di[dg]);dg++){if(dk.nodeType===1){dh.push(dk)}}return dh}return di},NAME:b8&&function(e,dg){if(typeof dg.getElementsByName!==cD){return dg.getElementsByName(name)}},CLASS:cK&&function(dh,dg,e){if(typeof dg.getElementsByClassName!==cD&&!e){return dg.getElementsByClassName(dh)}}},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(cC,"");e[3]=(e[4]||e[5]||"").replace(cC,"");if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1]==="nth"){if(!e[2]){cZ.error(e[0])}e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd"));e[4]=+((e[6]+e[7])||e[2]==="odd")}else{if(e[2]){cZ.error(e[0])}}return e},PSEUDO:function(dg){var dh,e;if(cP.CHILD.test(dg[0])){return null}if(dg[3]){dg[2]=dg[3]}else{if((dh=dg[4])){if(cV.test(dh)&&(e=ca(dh,true))&&(e=dh.indexOf(")",dh.length-e)-dh.length)){dh=dh.slice(0,e);dg[0]=dg[0].slice(0,e)}dg[2]=dh}}return dg.slice(0,3)}},filter:{ID:cj?function(e){e=e.replace(cC,"");return function(dg){return dg.getAttribute("id")===e}}:function(e){e=e.replace(cC,"");return function(dh){var dg=typeof dh.getAttributeNode!==cD&&dh.getAttributeNode("id");return dg&&dg.value===e}},TAG:function(e){if(e==="*"){return function(){return true}}e=e.replace(cC,"").toLowerCase();return function(dg){return dg.nodeName&&dg.nodeName.toLowerCase()===e}},CLASS:function(e){var dg=c3[c8][e+" "];return dg||(dg=new RegExp("(^|"+cH+")"+e+"("+cH+"|$)"))&&c3(e,function(dh){return dg.test(dh.className||(typeof dh.getAttribute!==cD&&dh.getAttribute("class"))||"")})},ATTR:function(dh,dg,e){return function(dk,dj){var di=cZ.attr(dk,dh);if(di==null){return dg==="!="}if(!dg){return true}di+="";return dg==="="?di===e:dg==="!="?di!==e:dg==="^="?e&&di.indexOf(e)===0:dg==="*="?e&&di.indexOf(e)>-1:dg==="$="?e&&di.substr(di.length-e.length)===e:dg==="~="?(" "+di+" ").indexOf(e)>-1:dg==="|="?di===e||di.substr(0,e.length+1)===e+"-":false}},CHILD:function(e,dh,di,dg){if(e==="nth"){return function(dl){var dk,dm,dj=dl.parentNode;if(di===1&&dg===0){return true}if(dj){dm=0;for(dk=dj.firstChild;dk;dk=dk.nextSibling){if(dk.nodeType===1){dm++;
if(dl===dk){break}}}}dm-=dg;return dm===di||(dm%di===0&&dm/di>=0)}}return function(dk){var dj=dk;switch(e){case"only":case"first":while((dj=dj.previousSibling)){if(dj.nodeType===1){return false}}if(e==="first"){return true}dj=dk;case"last":while((dj=dj.nextSibling)){if(dj.nodeType===1){return false}}return true}}},PSEUDO:function(di,dh){var e,dg=cU.pseudos[di]||cU.setFilters[di.toLowerCase()]||cZ.error("unsupported pseudo: "+di);if(dg[c8]){return dg(dh)}if(dg.length>1){e=[di,di,"",dh];return cU.setFilters.hasOwnProperty(di.toLowerCase())?da(function(dl,dn){var dk,dj=dg(dl,dh),dm=dj.length;while(dm--){dk=cx.call(dl,dj[dm]);dl[dk]=!(dn[dk]=dj[dm])}}):function(dj){return dg(dj,0,e)}}return dg}},pseudos:{not:da(function(e){var dg=[],dh=[],di=cm(e.replace(c2,"$1"));return di[c8]?da(function(dk,dq,dn,dl){var dp,dj=di(dk,null,dl,[]),dm=dk.length;while(dm--){if((dp=dj[dm])){dk[dm]=!(dq[dm]=dp)}}}):function(dl,dk,dj){dg[0]=dl;di(dg,null,dj,dh);return !dh.pop()}}),has:da(function(e){return function(dg){return cZ(e,dg).length>0}}),contains:da(function(e){return function(dg){return(dg.textContent||dg.innerText||b9(dg)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var dg=e.nodeName.toLowerCase();return(dg==="input"&&!!e.checked)||(dg==="option"&&!!e.selected)},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},parent:function(e){return !cU.pseudos.empty(e)},empty:function(dg){var e;dg=dg.firstChild;while(dg){if(dg.nodeName>"@"||(e=dg.nodeType)===3||e===4){return false}dg=dg.nextSibling}return true},header:function(e){return cB.test(e.nodeName)},text:function(dh){var dg,e;return dh.nodeName.toLowerCase()==="input"&&(dg=dh.type)==="text"&&((e=dh.getAttribute("type"))==null||e.toLowerCase()===dg)},radio:cR("radio"),checkbox:cR("checkbox"),file:cR("file"),password:cR("password"),image:cR("image"),submit:cc("submit"),reset:cc("reset"),button:function(dg){var e=dg.nodeName.toLowerCase();return e==="input"&&dg.type==="button"||e==="button"},input:function(e){return cW.test(e.nodeName)},focus:function(e){var dg=e.ownerDocument;return e===dg.activeElement&&(!dg.hasFocus||dg.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:cO(function(){return[0]}),last:cO(function(e,dg){return[dg-1]}),eq:cO(function(e,dh,dg){return[dg<0?dg+dh:dg]}),even:cO(function(e,dh){for(var dg=0;dg<dh;dg+=2){e.push(dg)}return e}),odd:cO(function(e,dh){for(var dg=1;dg<dh;dg+=2){e.push(dg)}return e}),lt:cO(function(e,di,dh){for(var dg=dh<0?dh+di:dh;--dg>=0;){e.push(dg)}return e}),gt:cO(function(e,di,dh){for(var dg=dh<0?dh+di:dh;++dg<di;){e.push(dg)}return e})}};function cb(dg,e,dh){if(dg===e){return dh}var di=dg.nextSibling;while(di){if(di===e){return -1}di=di.nextSibling}return 1}cp=ck.compareDocumentPosition?function(dg,e){if(dg===e){cl=true;return 0}return(!dg.compareDocumentPosition||!e.compareDocumentPosition?dg.compareDocumentPosition:dg.compareDocumentPosition(e)&4)?-1:1}:function(dn,dm){if(dn===dm){cl=true;return 0}else{if(dn.sourceIndex&&dm.sourceIndex){return dn.sourceIndex-dm.sourceIndex}}var dk,dg,dh=[],e=[],dj=dn.parentNode,dl=dm.parentNode,dp=dj;if(dj===dl){return cb(dn,dm)}else{if(!dj){return -1}else{if(!dl){return 1}}}while(dp){dh.unshift(dp);dp=dp.parentNode}dp=dl;while(dp){e.unshift(dp);dp=dp.parentNode}dk=dh.length;dg=e.length;for(var di=0;di<dk&&di<dg;di++){if(dh[di]!==e[di]){return cb(dh[di],e[di])}}return di===dk?cb(dn,e[di],-1):cb(dh[di],dm,1)};[0,0].sort(cp);ci=!cl;cZ.uniqueSort=function(dh){var di,dj=[],dg=1,e=0;cl=ci;dh.sort(cp);if(cl){for(;(di=dh[dg]);dg++){if(di===dh[dg-1]){e=dj.push(dg)}}while(e--){dh.splice(dj[e],1)}}return dh};cZ.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};function ca(dj,dp){var dg,dk,dm,dn,dl,dh,e,di=c4[c8][dj+" "];if(di){return dp?0:di.slice(0)}dl=dj;dh=[];e=cU.preFilter;while(dl){if(!dg||(dk=ce.exec(dl))){if(dk){dl=dl.slice(dk[0].length)||dl
}dh.push(dm=[])}dg=false;if((dk=cQ.exec(dl))){dm.push(dg=new cd(dk.shift()));dl=dl.slice(dg.length);dg.type=dk[0].replace(c2," ")}for(dn in cU.filter){if((dk=cP[dn].exec(dl))&&(!e[dn]||(dk=e[dn](dk)))){dm.push(dg=new cd(dk.shift()));dl=dl.slice(dg.length);dg.type=dn;dg.matches=dk}}if(!dg){break}}return dp?dl.length:dl?cZ.error(dj):c4(dj,dh).slice(0)}function cF(dj,dh,di){var e=dh.dir,dk=di&&dh.dir==="parentNode",dg=co++;return dh.first?function(dn,dm,dl){while((dn=dn[e])){if(dk||dn.nodeType===1){return dj(dn,dm,dl)}}}:function(dp,dn,dm){if(!dm){var dl,dq=cA+" "+dg+" ",dr=dq+c6;while((dp=dp[e])){if(dk||dp.nodeType===1){if((dl=dp[c8])===dr){return dp.sizset}else{if(typeof dl==="string"&&dl.indexOf(dq)===0){if(dp.sizset){return dp}}else{dp[c8]=dr;if(dj(dp,dn,dm)){dp.sizset=true;return dp}dp.sizset=false}}}}}else{while((dp=dp[e])){if(dk||dp.nodeType===1){if(dj(dp,dn,dm)){return dp}}}}}}function cn(e){return e.length>1?function(dj,di,dg){var dh=e.length;while(dh--){if(!e[dh](dj,di,dg)){return false}}return true}:e[0]}function cE(e,dg,dh,di,dl){var dj,dp=[],dk=0,dm=e.length,dn=dg!=null;for(;dk<dm;dk++){if((dj=e[dk])){if(!dh||dh(dj,di,dl)){dp.push(dj);if(dn){dg.push(dk)}}}}return dp}function db(dh,dg,dj,di,dk,e){if(di&&!di[c8]){di=db(di)}if(dk&&!dk[c8]){dk=db(dk,e)}return da(function(dw,dt,dn,dv){var dy,du,dq,dp=[],dx=[],dm=dt.length,dl=dw||cy(dg||"*",dn.nodeType?[dn]:dn,[]),dr=dh&&(dw||!dg)?cE(dl,dp,dh,dn,dv):dl,ds=dj?dk||(dw?dh:dm||di)?[]:dt:dr;if(dj){dj(dr,ds,dn,dv)}if(di){dy=cE(ds,dx);di(dy,[],dn,dv);du=dy.length;while(du--){if((dq=dy[du])){ds[dx[du]]=!(dr[dx[du]]=dq)}}}if(dw){if(dk||dh){if(dk){dy=[];du=ds.length;while(du--){if((dq=ds[du])){dy.push((dr[du]=dq))}}dk(null,(ds=[]),dy,dv)}du=ds.length;while(du--){if((dq=ds[du])&&(dy=dk?cx.call(dw,dq):dp[du])>-1){dw[dy]=!(dt[dy]=dq)}}}}else{ds=cE(ds===dt?ds.splice(dm,ds.length):ds);if(dk){dk(null,dt,ds,dv)}else{c5.apply(dt,ds)}}})}function cG(dl){var dg,dj,dh,dk=dl.length,dp=cU.relative[dl[0].type],dq=dp||cU.relative[" "],di=dp?1:0,dm=cF(function(dr){return dr===dg},dq,true),dn=cF(function(dr){return cx.call(dg,dr)>-1},dq,true),e=[function(dt,ds,dr){return(!dp&&(dr||ds!==cS))||((dg=ds).nodeType?dm(dt,ds,dr):dn(dt,ds,dr))}];for(;di<dk;di++){if((dj=cU.relative[dl[di].type])){e=[cF(cn(e),dj)]}else{dj=cU.filter[dl[di].type].apply(null,dl[di].matches);if(dj[c8]){dh=++di;for(;dh<dk;dh++){if(cU.relative[dl[dh].type]){break}}return db(di>1&&cn(e),di>1&&dl.slice(0,di-1).join("").replace(c2,"$1"),dj,di<dh&&cG(dl.slice(di,dh)),dh<dk&&cG((dl=dl.slice(dh))),dh<dk&&dl.join(""))}e.push(dj)}}return cn(e)}function cf(di,dh){var e=dh.length>0,dj=di.length>0,dg=function(du,dn,dt,ds,dA){var dp,dq,dv,dz=[],dy=0,dr="0",dk=du&&[],dw=dA!=null,dx=cS,dm=du||dj&&cU.find.TAG("*",dA&&dn.parentNode||dn),dl=(cA+=dx==null?1:Math.E);if(dw){cS=dn!==ch&&dn;c6=dg.el}for(;(dp=dm[dr])!=null;dr++){if(dj&&dp){for(dq=0;(dv=di[dq]);dq++){if(dv(dp,dn,dt)){ds.push(dp);break}}if(dw){cA=dl;c6=++dg.el}}if(e){if((dp=!dv&&dp)){dy--}if(du){dk.push(dp)}}}dy+=dr;if(e&&dr!==dy){for(dq=0;(dv=dh[dq]);dq++){dv(dk,dz,dn,dt)}if(du){if(dy>0){while(dr--){if(!(dk[dr]||dz[dr])){dz[dr]=cN.call(ds)}}}dz=cE(dz)}c5.apply(ds,dz);if(dw&&!du&&dz.length>0&&(dy+dh.length)>1){cZ.uniqueSort(ds)}}if(dw){cA=dl;cS=dx}return dk};dg.el=0;return e?da(dg):dg}cm=cZ.compile=function(e,dk){var dh,dg=[],dj=[],di=cw[c8][e+" "];if(!di){if(!dk){dk=ca(e)}dh=dk.length;while(dh--){di=cG(dk[dh]);if(di[c8]){dg.push(di)}else{dj.push(di)}}di=cw(e,cf(dj,dg))}return di};function cy(dg,dj,di){var dh=0,e=dj.length;for(;dh<e;dh++){cZ(dg,dj[dh],di)}return di}function c7(dh,e,dj,dn,dm){var dk,dr,dg,dq,dp,dl=ca(dh),di=dl.length;if(!dn){if(dl.length===1){dr=dl[0]=dl[0].slice(0);if(dr.length>2&&(dg=dr[0]).type==="ID"&&e.nodeType===9&&!dm&&cU.relative[dr[1].type]){e=cU.find.ID(dg.matches[0].replace(cC,""),e,dm)[0];if(!e){return dj}dh=dh.slice(dr.shift().length)}for(dk=cP.POS.test(dh)?-1:dr.length-1;dk>=0;dk--){dg=dr[dk];if(cU.relative[(dq=dg.type)]){break}if((dp=cU.find[dq])){if((dn=dp(dg.matches[0].replace(cC,""),c0.test(dr[0].type)&&e.parentNode||e,dm))){dr.splice(dk,1);
dh=dn.length&&dr.join("");if(!dh){c5.apply(dj,cu.call(dn,0));return dj}break}}}}}cm(dh,dl)(dn,e,dm,dj,c0.test(dh));return dj}if(ch.querySelectorAll){(function(){var dk,dl=c7,dj=/'|\\/g,dh=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,dg=[":focus"],e=[":active"],di=ck.matchesSelector||ck.mozMatchesSelector||ck.webkitMatchesSelector||ck.oMatchesSelector||ck.msMatchesSelector;cT(function(dm){dm.innerHTML="<select><option selected=''></option></select>";if(!dm.querySelectorAll("[selected]").length){dg.push("\\["+cH+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!dm.querySelectorAll(":checked").length){dg.push(":checked")}});cT(function(dm){dm.innerHTML="<p test=''></p>";if(dm.querySelectorAll("[test^='']").length){dg.push("[*^$]="+cH+"*(?:\"\"|'')")}dm.innerHTML="<input type='hidden'/>";if(!dm.querySelectorAll(":enabled").length){dg.push(":enabled",":disabled")}});dg=new RegExp(dg.join("|"));c7=function(dt,dn,dv,dy,dx){if(!dy&&!dx&&!dg.test(dt)){var dr,dw,dq=true,dm=c8,dp=dn,du=dn.nodeType===9&&dt;if(dn.nodeType===1&&dn.nodeName.toLowerCase()!=="object"){dr=ca(dt);if((dq=dn.getAttribute("id"))){dm=dq.replace(dj,"\\$&")}else{dn.setAttribute("id",dm)}dm="[id='"+dm+"'] ";dw=dr.length;while(dw--){dr[dw]=dm+dr[dw].join("")}dp=c0.test(dt)&&dn.parentNode||dn;du=dr.join(",")}if(du){try{c5.apply(dv,cu.call(dp.querySelectorAll(du),0));return dv}catch(ds){}finally{if(!dq){dn.removeAttribute("id")}}}}return dl(dt,dn,dv,dy,dx)};if(di){cT(function(dn){dk=di.call(dn,"div");try{di.call(dn,"[test!='']:sizzle");e.push("!=",df)}catch(dm){}});e=new RegExp(e.join("|"));cZ.matchesSelector=function(dn,dq){dq=dq.replace(dh,"='$1']");if(!cv(dn)&&!e.test(dq)&&!dg.test(dq)){try{var dm=di.call(dn,dq);if(dm||dk||dn.document&&dn.document.nodeType!==11){return dm}}catch(dp){}}return cZ(dq,null,null,[dn]).length>0}}})()}cU.pseudos.nth=cU.pseudos.eq;function cs(){}cU.filters=cs.prototype=cU.pseudos;cU.setFilters=new cs();cZ.attr=bP.attr;bP.find=cZ;bP.expr=cZ.selectors;bP.expr[":"]=bP.expr.pseudos;bP.unique=cZ.uniqueSort;bP.text=cZ.getText;bP.isXMLDoc=cZ.isXML;bP.contains=cZ.contains})(bb);var ap=/Until$/,bz=/^(?:parents|prev(?:Until|All))/,av=/^.[^:#\[\.,]*$/,H=bP.expr.match.needsContext,bD={children:true,contents:true,next:true,prev:true};bP.fn.extend({find:function(e){var cb,b8,cd,ce,cc,ca,b9=this;if(typeof e!=="string"){return bP(e).filter(function(){for(cb=0,b8=b9.length;cb<b8;cb++){if(bP.contains(b9[cb],this)){return true}}})}ca=this.pushStack("","find",e);for(cb=0,b8=this.length;cb<b8;cb++){cd=ca.length;bP.find(e,this[cb],ca);if(cb>0){for(ce=cd;ce<ca.length;ce++){for(cc=0;cc<cd;cc++){if(ca[cc]===ca[ce]){ca.splice(ce--,1);break}}}}}return ca},has:function(ca){var b9,b8=bP(ca,this),e=b8.length;return this.filter(function(){for(b9=0;b9<e;b9++){if(bP.contains(this,b8[b9])){return true}}})},not:function(e){return this.pushStack(aV(this,e,false),"not",e)},filter:function(e){return this.pushStack(aV(this,e,true),"filter",e)},is:function(e){return !!e&&(typeof e==="string"?H.test(e)?bP(e,this.context).index(this[0])>=0:bP.filter(e,this).length>0:this.filter(e).length>0)},closest:function(cb,ca){var cc,b9=0,e=this.length,b8=[],cd=H.test(cb)||typeof cb!=="string"?bP(cb,ca||this.context):0;for(;b9<e;b9++){cc=this[b9];while(cc&&cc.ownerDocument&&cc!==ca&&cc.nodeType!==11){if(cd?cd.index(cc)>-1:bP.find.matchesSelector(cc,cb)){b8.push(cc);break}cc=cc.parentNode}}b8=b8.length>1?bP.unique(b8):b8;return this.pushStack(b8,"closest",cb)},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1}if(typeof e==="string"){return bP.inArray(this[0],bP(e))}return bP.inArray(e.jquery?e[0]:e,this)},add:function(e,b8){var ca=typeof e==="string"?bP(e,b8):bP.makeArray(e&&e.nodeType?[e]:e),b9=bP.merge(this.get(),ca);return this.pushStack(a0(ca[0])||a0(b9[0])?b9:bP.unique(b9))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});bP.fn.andSelf=bP.fn.addBack;function a0(e){return !e||!e.parentNode||e.parentNode.nodeType===11
}function a7(b8,e){do{b8=b8[e]}while(b8&&b8.nodeType!==1);return b8}bP.each({parent:function(b8){var e=b8.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return bP.dir(e,"parentNode")},parentsUntil:function(b8,e,b9){return bP.dir(b8,"parentNode",b9)},next:function(e){return a7(e,"nextSibling")},prev:function(e){return a7(e,"previousSibling")},nextAll:function(e){return bP.dir(e,"nextSibling")},prevAll:function(e){return bP.dir(e,"previousSibling")},nextUntil:function(b8,e,b9){return bP.dir(b8,"nextSibling",b9)},prevUntil:function(b8,e,b9){return bP.dir(b8,"previousSibling",b9)},siblings:function(e){return bP.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return bP.sibling(e.firstChild)},contents:function(e){return bP.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:bP.merge([],e.childNodes)}},function(e,b8){bP.fn[e]=function(cb,b9){var ca=bP.map(this,b8,cb);if(!ap.test(e)){b9=cb}if(b9&&typeof b9==="string"){ca=bP.filter(b9,ca)}ca=this.length>1&&!bD[e]?bP.unique(ca):ca;if(this.length>1&&bz.test(e)){ca=ca.reverse()}return this.pushStack(ca,e,bd.call(arguments).join(","))}});bP.extend({filter:function(b9,e,b8){if(b8){b9=":not("+b9+")"}return e.length===1?bP.find.matchesSelector(e[0],b9)?[e[0]]:[]:bP.find.matches(b9,e)},dir:function(b9,b8,cb){var e=[],ca=b9[b8];while(ca&&ca.nodeType!==9&&(cb===aK||ca.nodeType!==1||!bP(ca).is(cb))){if(ca.nodeType===1){e.push(ca)}ca=ca[b8]}return e},sibling:function(b9,b8){var e=[];for(;b9;b9=b9.nextSibling){if(b9.nodeType===1&&b9!==b8){e.push(b9)}}return e}});function aV(ca,b9,e){b9=b9||0;if(bP.isFunction(b9)){return bP.grep(ca,function(cc,cb){var cd=!!b9.call(cc,cb,cc);return cd===e})}else{if(b9.nodeType){return bP.grep(ca,function(cc,cb){return(cc===b9)===e})}else{if(typeof b9==="string"){var b8=bP.grep(ca,function(cb){return cb.nodeType===1});if(av.test(b9)){return bP.filter(b9,b8,!e)}else{b9=bP.filter(b9,b8)}}}}return bP.grep(ca,function(cc,cb){return(bP.inArray(cc,b9)>=0)===e})}function J(e){var b9=m.split("|"),b8=e.createDocumentFragment();if(b8.createElement){while(b9.length){b8.createElement(b9.pop())}}return b8}var m="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",aE=/ jQuery\d+="(?:null|\d+)"/g,b7=/^\s+/,aH=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,y=/<([\w:]+)/,b2=/<tbody/i,S=/<|&#?\w+;/,at=/<(?:script|style|link)/i,az=/<(?:script|object|embed|option|style)/i,T=new RegExp("<(?:"+m+")[\\s/>]","i"),aN=/^(?:checkbox|radio)$/,b0=/checked\s*(?:[^=]|=\s*.checked.)/i,bF=/\/(java|ecma)script/i,aQ=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,ac={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},aZ=J(x),u=aZ.appendChild(x.createElement("div"));ac.optgroup=ac.option;ac.tbody=ac.tfoot=ac.colgroup=ac.caption=ac.thead;ac.th=ac.td;if(!bP.support.htmlSerialize){ac._default=[1,"X<div>","</div>"]}bP.fn.extend({text:function(e){return bP.access(this,function(b8){return b8===aK?bP.text(this):this.empty().append((this[0]&&this[0].ownerDocument||x).createTextNode(b8))},null,e,arguments.length)},wrapAll:function(e){if(bP.isFunction(e)){return this.each(function(b9){bP(this).wrapAll(e.call(this,b9))})}if(this[0]){var b8=bP(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){b8.insertBefore(this[0])}b8.map(function(){var b9=this;while(b9.firstChild&&b9.firstChild.nodeType===1){b9=b9.firstChild}return b9}).append(this)}return this},wrapInner:function(e){if(bP.isFunction(e)){return this.each(function(b8){bP(this).wrapInner(e.call(this,b8))})}return this.each(function(){var b8=bP(this),b9=b8.contents();if(b9.length){b9.wrapAll(e)}else{b8.append(e)
}})},wrap:function(e){var b8=bP.isFunction(e);return this.each(function(b9){bP(this).wrapAll(b8?e.call(this,b9):e)})},unwrap:function(){return this.parent().each(function(){if(!bP.nodeName(this,"body")){bP(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11){this.insertBefore(e,this.firstChild)}})},before:function(){if(!a0(this[0])){return this.domManip(arguments,false,function(b8){this.parentNode.insertBefore(b8,this)})}if(arguments.length){var e=bP.clean(arguments);return this.pushStack(bP.merge(e,this),"before",this.selector)}},after:function(){if(!a0(this[0])){return this.domManip(arguments,false,function(b8){this.parentNode.insertBefore(b8,this.nextSibling)})}if(arguments.length){var e=bP.clean(arguments);return this.pushStack(bP.merge(this,e),"after",this.selector)}},remove:function(e,ca){var b9,b8=0;for(;(b9=this[b8])!=null;b8++){if(!e||bP.filter(e,[b9]).length){if(!ca&&b9.nodeType===1){bP.cleanData(b9.getElementsByTagName("*"));bP.cleanData([b9])}if(b9.parentNode){b9.parentNode.removeChild(b9)}}}return this},empty:function(){var b8,e=0;for(;(b8=this[e])!=null;e++){if(b8.nodeType===1){bP.cleanData(b8.getElementsByTagName("*"))}while(b8.firstChild){b8.removeChild(b8.firstChild)}}return this},clone:function(b8,e){b8=b8==null?false:b8;e=e==null?b8:e;return this.map(function(){return bP.clone(this,b8,e)})},html:function(e){return bP.access(this,function(cb){var ca=this[0]||{},b9=0,b8=this.length;if(cb===aK){return ca.nodeType===1?ca.innerHTML.replace(aE,""):aK}if(typeof cb==="string"&&!at.test(cb)&&(bP.support.htmlSerialize||!T.test(cb))&&(bP.support.leadingWhitespace||!b7.test(cb))&&!ac[(y.exec(cb)||["",""])[1].toLowerCase()]){cb=cb.replace(aH,"<$1></$2>");try{for(;b9<b8;b9++){ca=this[b9]||{};if(ca.nodeType===1){bP.cleanData(ca.getElementsByTagName("*"));ca.innerHTML=cb}}ca=0}catch(cc){}}if(ca){this.empty().append(cb)}},null,e,arguments.length)},replaceWith:function(e){if(!a0(this[0])){if(bP.isFunction(e)){return this.each(function(ca){var b9=bP(this),b8=b9.html();b9.replaceWith(e.call(this,ca,b8))})}if(typeof e!=="string"){e=bP(e).detach()}return this.each(function(){var b9=this.nextSibling,b8=this.parentNode;bP(this).remove();if(b9){bP(b9).before(e)}else{bP(b8).append(e)}})}return this.length?this.pushStack(bP(bP.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,true)},domManip:function(cd,ch,cg){cd=[].concat.apply([],cd);var b9,cb,cc,cf,ca=0,ce=cd[0],b8=[],e=this.length;if(!bP.support.checkClone&&e>1&&typeof ce==="string"&&b0.test(ce)){return this.each(function(){bP(this).domManip(cd,ch,cg)})}if(bP.isFunction(ce)){return this.each(function(cj){var ci=bP(this);cd[0]=ce.call(this,cj,ch?ci.html():aK);ci.domManip(cd,ch,cg)})}if(this[0]){b9=bP.buildFragment(cd,this,b8);cc=b9.fragment;cb=cc.firstChild;if(cc.childNodes.length===1){cc=cb}if(cb){ch=ch&&bP.nodeName(cb,"tr");for(cf=b9.cacheable||e-1;ca<e;ca++){cg.call(ch&&bP.nodeName(this[ca],"table")?G(this[ca],"tbody"):this[ca],ca===cf?cc:bP.clone(cc,true,true))}}cc=cb=null;if(b8.length){bP.each(b8,function(ci,cj){if(cj.src){if(bP.ajax){bP.ajax({url:cj.src,type:"GET",dataType:"script",async:false,global:false,"throws":true})}else{bP.error("no ajax")}}else{bP.globalEval((cj.text||cj.textContent||cj.innerHTML||"").replace(aQ,""))}if(cj.parentNode){cj.parentNode.removeChild(cj)}})}}return this}});function G(b8,e){return b8.getElementsByTagName(e)[0]||b8.appendChild(b8.ownerDocument.createElement(e))}function ay(ce,b8){if(b8.nodeType!==1||!bP.hasData(ce)){return}var cb,ca,e,cd=bP._data(ce),cc=bP._data(b8,cd),b9=cd.events;if(b9){delete cc.handle;cc.events={};for(cb in b9){for(ca=0,e=b9[cb].length;ca<e;ca++){bP.event.add(b8,cb,b9[cb][ca])}}}if(cc.data){cc.data=bP.extend({},cc.data)}}function O(b8,e){var b9;if(e.nodeType!==1){return
}if(e.clearAttributes){e.clearAttributes()}if(e.mergeAttributes){e.mergeAttributes(b8)}b9=e.nodeName.toLowerCase();if(b9==="object"){if(e.parentNode){e.outerHTML=b8.outerHTML}if(bP.support.html5Clone&&(b8.innerHTML&&!bP.trim(e.innerHTML))){e.innerHTML=b8.innerHTML}}else{if(b9==="input"&&aN.test(b8.type)){e.defaultChecked=e.checked=b8.checked;if(e.value!==b8.value){e.value=b8.value}}else{if(b9==="option"){e.selected=b8.defaultSelected}else{if(b9==="input"||b9==="textarea"){e.defaultValue=b8.defaultValue}else{if(b9==="script"&&e.text!==b8.text){e.text=b8.text}}}}}e.removeAttribute(bP.expando)}bP.buildFragment=function(ca,cb,b8){var b9,e,cc,cd=ca[0];cb=cb||x;cb=!cb.nodeType&&cb[0]||cb;cb=cb.ownerDocument||cb;if(ca.length===1&&typeof cd==="string"&&cd.length<512&&cb===x&&cd.charAt(0)==="<"&&!az.test(cd)&&(bP.support.checkClone||!b0.test(cd))&&(bP.support.html5Clone||!T.test(cd))){e=true;b9=bP.fragments[cd];cc=b9!==aK}if(!b9){b9=cb.createDocumentFragment();bP.clean(ca,cb,b9,b8);if(e){bP.fragments[cd]=cc&&b9}}return{fragment:b9,cacheable:e}};bP.fragments={};bP.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,b8){bP.fn[e]=function(b9){var cb,cd=0,cc=[],cf=bP(b9),ca=cf.length,ce=this.length===1&&this[0].parentNode;if((ce==null||ce&&ce.nodeType===11&&ce.childNodes.length===1)&&ca===1){cf[b8](this[0]);return this}else{for(;cd<ca;cd++){cb=(cd>0?this.clone(true):this).get();bP(cf[cd])[b8](cb);cc=cc.concat(cb)}return this.pushStack(cc,e,cf.selector)}}});function v(e){if(typeof e.getElementsByTagName!=="undefined"){return e.getElementsByTagName("*")}else{if(typeof e.querySelectorAll!=="undefined"){return e.querySelectorAll("*")}else{return[]}}}function b1(e){if(aN.test(e.type)){e.defaultChecked=e.checked}}bP.extend({clone:function(cb,cd,b9){var e,b8,ca,cc;if(bP.support.html5Clone||bP.isXMLDoc(cb)||!T.test("<"+cb.nodeName+">")){cc=cb.cloneNode(true)}else{u.innerHTML=cb.outerHTML;u.removeChild(cc=u.firstChild)}if((!bP.support.noCloneEvent||!bP.support.noCloneChecked)&&(cb.nodeType===1||cb.nodeType===11)&&!bP.isXMLDoc(cb)){O(cb,cc);e=v(cb);b8=v(cc);for(ca=0;e[ca];++ca){if(b8[ca]){O(e[ca],b8[ca])}}}if(cd){ay(cb,cc);if(b9){e=v(cb);b8=v(cc);for(ca=0;e[ca];++ca){ay(e[ca],b8[ca])}}}e=b8=null;return cc},clean:function(ck,b9,e,ca){var ch,cg,cj,co,cd,cn,ce,cb,b8,ci,cm,cf,cc=b9===x&&aZ,cl=[];if(!b9||typeof b9.createDocumentFragment==="undefined"){b9=x}for(ch=0;(cj=ck[ch])!=null;ch++){if(typeof cj==="number"){cj+=""}if(!cj){continue}if(typeof cj==="string"){if(!S.test(cj)){cj=b9.createTextNode(cj)}else{cc=cc||J(b9);ce=b9.createElement("div");cc.appendChild(ce);cj=cj.replace(aH,"<$1></$2>");co=(y.exec(cj)||["",""])[1].toLowerCase();cd=ac[co]||ac._default;cn=cd[0];ce.innerHTML=cd[1]+cj+cd[2];while(cn--){ce=ce.lastChild}if(!bP.support.tbody){cb=b2.test(cj);b8=co==="table"&&!cb?ce.firstChild&&ce.firstChild.childNodes:cd[1]==="<table>"&&!cb?ce.childNodes:[];for(cg=b8.length-1;cg>=0;--cg){if(bP.nodeName(b8[cg],"tbody")&&!b8[cg].childNodes.length){b8[cg].parentNode.removeChild(b8[cg])}}}if(!bP.support.leadingWhitespace&&b7.test(cj)){ce.insertBefore(b9.createTextNode(b7.exec(cj)[0]),ce.firstChild)}cj=ce.childNodes;ce.parentNode.removeChild(ce)}}if(cj.nodeType){cl.push(cj)}else{bP.merge(cl,cj)}}if(ce){cj=ce=cc=null}if(!bP.support.appendChecked){for(ch=0;(cj=cl[ch])!=null;ch++){if(bP.nodeName(cj,"input")){b1(cj)}else{if(typeof cj.getElementsByTagName!=="undefined"){bP.grep(cj.getElementsByTagName("input"),b1)}}}}if(e){cm=function(cp){if(!cp.type||bF.test(cp.type)){return ca?ca.push(cp.parentNode?cp.parentNode.removeChild(cp):cp):e.appendChild(cp)}};for(ch=0;(cj=cl[ch])!=null;ch++){if(!(bP.nodeName(cj,"script")&&cm(cj))){e.appendChild(cj);if(typeof cj.getElementsByTagName!=="undefined"){cf=bP.grep(bP.merge([],cj.getElementsByTagName("script")),cm);cl.splice.apply(cl,[ch+1,0].concat(cf));ch+=cf.length}}}}return cl},cleanData:function(b8,cg){var cb,b9,ca,cf,cc=0,ch=bP.expando,e=bP.cache,cd=bP.support.deleteExpando,ce=bP.event.special;
for(;(ca=b8[cc])!=null;cc++){if(cg||bP.acceptData(ca)){b9=ca[ch];cb=b9&&e[b9];if(cb){if(cb.events){for(cf in cb.events){if(ce[cf]){bP.event.remove(ca,cf)}else{bP.removeEvent(ca,cf,cb.handle)}}}if(e[b9]){delete e[b9];if(cd){delete ca[ch]}else{if(ca.removeAttribute){ca.removeAttribute(ch)}else{ca[ch]=null}}bP.deletedIds.push(b9)}}}}}});(function(){var e,b8;bP.uaMatch=function(ca){ca=ca.toLowerCase();var b9=/(chrome)[ \/]([\w.]+)/.exec(ca)||/(webkit)[ \/]([\w.]+)/.exec(ca)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ca)||/(msie) ([\w.]+)/.exec(ca)||ca.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ca)||[];return{browser:b9[1]||"",version:b9[2]||"0"}};e=bP.uaMatch(n.userAgent);b8={};if(e.browser){b8[e.browser]=true;b8.version=e.version}if(b8.chrome){b8.webkit=true}else{if(b8.webkit){b8.safari=true}}bP.browser=b8;bP.sub=function(){function b9(cc,cd){return new b9.fn.init(cc,cd)}bP.extend(true,b9,this);b9.superclass=this;b9.fn=b9.prototype=this();b9.fn.constructor=b9;b9.sub=this.sub;b9.fn.init=function cb(cc,cd){if(cd&&cd instanceof bP&&!(cd instanceof b9)){cd=b9(cd)}return bP.fn.init.call(this,cc,cd,ca)};b9.fn.init.prototype=b9.fn;var ca=b9(x);return b9}})();var N,aI,a5,bn=/alpha\([^)]*\)/i,a1=/opacity=([^)]*)/,bt=/^(top|right|bottom|left)$/,P=/^(none|table(?!-c[ea]).+)/,a8=/^margin/,bh=new RegExp("^("+bG+")(.*)$","i"),af=new RegExp("^("+bG+")(?!px)[a-z%]+$","i"),ab=new RegExp("^([-+])=("+bG+")","i"),bq={BODY:"block"},bi={position:"absolute",visibility:"hidden",display:"block"},bJ={letterSpacing:0,fontWeight:400},bZ=["Top","Right","Bottom","Left"],aB=["Webkit","O","Moz","ms"],aS=bP.fn.toggle;function l(ca,b8){if(b8 in ca){return b8}var cb=b8.charAt(0).toUpperCase()+b8.slice(1),e=b8,b9=aB.length;while(b9--){b8=aB[b9]+cb;if(b8 in ca){return b8}}return e}function Z(b8,e){b8=e||b8;return bP.css(b8,"display")==="none"||!bP.contains(b8.ownerDocument,b8)}function B(cc,e){var cb,cd,b8=[],b9=0,ca=cc.length;for(;b9<ca;b9++){cb=cc[b9];if(!cb.style){continue}b8[b9]=bP._data(cb,"olddisplay");if(e){if(!b8[b9]&&cb.style.display==="none"){cb.style.display=""}if(cb.style.display===""&&Z(cb)){b8[b9]=bP._data(cb,"olddisplay",bL(cb.nodeName))}}else{cd=N(cb,"display");if(!b8[b9]&&cd!=="none"){bP._data(cb,"olddisplay",cd)}}}for(b9=0;b9<ca;b9++){cb=cc[b9];if(!cb.style){continue}if(!e||cb.style.display==="none"||cb.style.display===""){cb.style.display=e?b8[b9]||"":"none"}}return cc}bP.fn.extend({css:function(e,b8){return bP.access(this,function(ca,b9,cb){return cb!==aK?bP.style(ca,b9,cb):bP.css(ca,b9)},e,b8,arguments.length>1)},show:function(){return B(this,true)},hide:function(){return B(this)},toggle:function(b9,b8){var e=typeof b9==="boolean";if(bP.isFunction(b9)&&bP.isFunction(b8)){return aS.apply(this,arguments)}return this.each(function(){if(e?b9:Z(this)){bP(this).show()}else{bP(this).hide()}})}});bP.extend({cssHooks:{opacity:{get:function(b9,b8){if(b8){var e=N(b9,"opacity");return e===""?"1":e}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":bP.support.cssFloat?"cssFloat":"styleFloat"},style:function(ca,b9,cg,cb){if(!ca||ca.nodeType===3||ca.nodeType===8||!ca.style){return}var ce,cf,ch,cc=bP.camelCase(b9),b8=ca.style;b9=bP.cssProps[cc]||(bP.cssProps[cc]=l(b8,cc));ch=bP.cssHooks[b9]||bP.cssHooks[cc];if(cg!==aK){cf=typeof cg;if(cf==="string"&&(ce=ab.exec(cg))){cg=(ce[1]+1)*ce[2]+parseFloat(bP.css(ca,b9));cf="number"}if(cg==null||cf==="number"&&isNaN(cg)){return}if(cf==="number"&&!bP.cssNumber[cc]){cg+="px"}if(!ch||!("set" in ch)||(cg=ch.set(ca,cg,cb))!==aK){try{b8[b9]=cg}catch(cd){}}}else{if(ch&&"get" in ch&&(ce=ch.get(ca,false,cb))!==aK){return ce}return b8[b9]}},css:function(cd,cb,cc,b8){var ce,ca,e,b9=bP.camelCase(cb);cb=bP.cssProps[b9]||(bP.cssProps[b9]=l(cd.style,b9));e=bP.cssHooks[cb]||bP.cssHooks[b9];if(e&&"get" in e){ce=e.get(cd,true,b8)}if(ce===aK){ce=N(cd,cb)}if(ce==="normal"&&cb in bJ){ce=bJ[cb]}if(cc||b8!==aK){ca=parseFloat(ce);return cc||bP.isNumeric(ca)?ca||0:ce
}return ce},swap:function(cb,ca,cc){var b9,b8,e={};for(b8 in ca){e[b8]=cb.style[b8];cb.style[b8]=ca[b8]}b9=cc.call(cb);for(b8 in ca){cb.style[b8]=e[b8]}return b9}});if(bb.getComputedStyle){N=function(ce,b8){var e,cb,ca,cd,cc=bb.getComputedStyle(ce,null),b9=ce.style;if(cc){e=cc.getPropertyValue(b8)||cc[b8];if(e===""&&!bP.contains(ce.ownerDocument,ce)){e=bP.style(ce,b8)}if(af.test(e)&&a8.test(b8)){cb=b9.width;ca=b9.minWidth;cd=b9.maxWidth;b9.minWidth=b9.maxWidth=b9.width=e;e=cc.width;b9.width=cb;b9.minWidth=ca;b9.maxWidth=cd}}return e}}else{if(x.documentElement.currentStyle){N=function(cb,b9){var cc,e,b8=cb.currentStyle&&cb.currentStyle[b9],ca=cb.style;if(b8==null&&ca&&ca[b9]){b8=ca[b9]}if(af.test(b8)&&!bt.test(b9)){cc=ca.left;e=cb.runtimeStyle&&cb.runtimeStyle.left;if(e){cb.runtimeStyle.left=cb.currentStyle.left}ca.left=b9==="fontSize"?"1em":b8;b8=ca.pixelLeft+"px";ca.left=cc;if(e){cb.runtimeStyle.left=e}}return b8===""?"auto":b8}}}function aP(e,b9,ca){var b8=bh.exec(b9);return b8?Math.max(0,b8[1]-(ca||0))+(b8[2]||"px"):b9}function aC(ca,b8,e,cc){var b9=e===(cc?"border":"content")?4:b8==="width"?1:0,cb=0;for(;b9<4;b9+=2){if(e==="margin"){cb+=bP.css(ca,e+bZ[b9],true)}if(cc){if(e==="content"){cb-=parseFloat(N(ca,"padding"+bZ[b9]))||0}if(e!=="margin"){cb-=parseFloat(N(ca,"border"+bZ[b9]+"Width"))||0}}else{cb+=parseFloat(N(ca,"padding"+bZ[b9]))||0;if(e!=="padding"){cb+=parseFloat(N(ca,"border"+bZ[b9]+"Width"))||0}}}return cb}function D(ca,b8,e){var cb=b8==="width"?ca.offsetWidth:ca.offsetHeight,b9=true,cc=bP.support.boxSizing&&bP.css(ca,"boxSizing")==="border-box";if(cb<=0||cb==null){cb=N(ca,b8);if(cb<0||cb==null){cb=ca.style[b8]}if(af.test(cb)){return cb}b9=cc&&(bP.support.boxSizingReliable||cb===ca.style[b8]);cb=parseFloat(cb)||0}return(cb+aC(ca,b8,e||(cc?"border":"content"),b9))+"px"}function bL(b9){if(bq[b9]){return bq[b9]}var e=bP("<"+b9+">").appendTo(x.body),b8=e.css("display");e.remove();if(b8==="none"||b8===""){aI=x.body.appendChild(aI||bP.extend(x.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!a5||!aI.createElement){a5=(aI.contentWindow||aI.contentDocument).document;a5.write("<!doctype html><html><body>");a5.close()}e=a5.body.appendChild(a5.createElement(b9));b8=N(e,"display");x.body.removeChild(aI)}bq[b9]=b8;return b8}bP.each(["height","width"],function(b8,e){bP.cssHooks[e]={get:function(cb,ca,b9){if(ca){if(cb.offsetWidth===0&&P.test(N(cb,"display"))){return bP.swap(cb,bi,function(){return D(cb,e,b9)})}else{return D(cb,e,b9)}}},set:function(ca,cb,b9){return aP(ca,cb,b9?aC(ca,e,b9,bP.support.boxSizing&&bP.css(ca,"boxSizing")==="border-box"):0)}}});if(!bP.support.opacity){bP.cssHooks.opacity={get:function(b8,e){return a1.test((e&&b8.currentStyle?b8.currentStyle.filter:b8.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":e?"1":""},set:function(cb,cc){var ca=cb.style,b8=cb.currentStyle,e=bP.isNumeric(cc)?"alpha(opacity="+cc*100+")":"",b9=b8&&b8.filter||ca.filter||"";ca.zoom=1;if(cc>=1&&bP.trim(b9.replace(bn,""))===""&&ca.removeAttribute){ca.removeAttribute("filter");if(b8&&!b8.filter){return}}ca.filter=bn.test(b9)?b9.replace(bn,e):b9+" "+e}}}bP(function(){if(!bP.support.reliableMarginRight){bP.cssHooks.marginRight={get:function(b8,e){return bP.swap(b8,{display:"inline-block"},function(){if(e){return N(b8,"marginRight")}})}}}if(!bP.support.pixelPosition&&bP.fn.position){bP.each(["top","left"],function(e,b8){bP.cssHooks[b8]={get:function(cb,ca){if(ca){var b9=N(cb,b8);return af.test(b9)?bP(cb).position()[b8]+"px":b9}}}})}});if(bP.expr&&bP.expr.filters){bP.expr.filters.hidden=function(e){return(e.offsetWidth===0&&e.offsetHeight===0)||(!bP.support.reliableHiddenOffsets&&((e.style&&e.style.display)||N(e,"display"))==="none")};bP.expr.filters.visible=function(e){return !bP.expr.filters.hidden(e)}}bP.each({margin:"",padding:"",border:"Width"},function(e,b8){bP.cssHooks[e+b8]={expand:function(cb){var ca,cc=typeof cb==="string"?cb.split(" "):[cb],b9={};for(ca=0;ca<4;ca++){b9[e+bZ[ca]+b8]=cc[ca]||cc[ca-2]||cc[0]}return b9
}};if(!a8.test(e)){bP.cssHooks[e+b8].set=aP}});var bB=/%20/g,aY=/\[\]$/,ad=/\r?\n/g,bI=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,aM=/^(?:select|textarea)/i;bP.fn.extend({serialize:function(){return bP.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?bP.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||aM.test(this.nodeName)||bI.test(this.type))}).map(function(e,b8){var b9=bP(this).val();return b9==null?null:bP.isArray(b9)?bP.map(b9,function(cb,ca){return{name:b8.name,value:cb.replace(ad,"\r\n")}}):{name:b8.name,value:b9.replace(ad,"\r\n")}}).get()}});bP.param=function(e,b9){var ca,b8=[],cb=function(cc,cd){cd=bP.isFunction(cd)?cd():(cd==null?"":cd);b8[b8.length]=encodeURIComponent(cc)+"="+encodeURIComponent(cd)};if(b9===aK){b9=bP.ajaxSettings&&bP.ajaxSettings.traditional}if(bP.isArray(e)||(e.jquery&&!bP.isPlainObject(e))){bP.each(e,function(){cb(this.name,this.value)})}else{for(ca in e){t(ca,e[ca],b9,cb)}}return b8.join("&").replace(bB,"+")};function t(b9,cb,b8,ca){var e;if(bP.isArray(cb)){bP.each(cb,function(cd,cc){if(b8||aY.test(b9)){ca(b9,cc)}else{t(b9+"["+(typeof cc==="object"?cd:"")+"]",cc,b8,ca)}})}else{if(!b8&&bP.type(cb)==="object"){for(e in cb){t(b9+"["+e+"]",cb[e],b8,ca)}}else{ca(b9,cb)}}}var b6,ah,ax=/#.*$/,am=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,K=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,A=/^(?:GET|HEAD)$/,aL=/^\/\//,bW=/\?/,p=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Y=/([?&])_=[^&]*/,a2=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,b5=bP.fn.load,E={},bf={},a6=["*/"]+["*"];try{ah=aR.href}catch(bm){ah=x.createElement("a");ah.href="";ah=ah.href}b6=a2.exec(ah.toLowerCase())||[];function bR(e){return function(cb,cd){if(typeof cb!=="string"){cd=cb;cb="*"}var b8,ce,cf,ca=cb.toLowerCase().split(a4),b9=0,cc=ca.length;if(bP.isFunction(cd)){for(;b9<cc;b9++){b8=ca[b9];cf=/^\+/.test(b8);if(cf){b8=b8.substr(1)||"*"}ce=e[b8]=e[b8]||[];ce[cf?"unshift":"push"](cd)}}}}function z(b8,ch,cc,cf,ce,ca){ce=ce||ch.dataTypes[0];ca=ca||{};ca[ce]=true;var cg,cd=b8[ce],b9=0,e=cd?cd.length:0,cb=(b8===E);for(;b9<e&&(cb||!cg);b9++){cg=cd[b9](ch,cc,cf);if(typeof cg==="string"){if(!cb||ca[cg]){cg=aK}else{ch.dataTypes.unshift(cg);cg=z(b8,ch,cc,cf,cg,ca)}}}if((cb||!cg)&&!ca["*"]){cg=z(b8,ch,cc,cf,"*",ca)}return cg}function C(b9,ca){var b8,e,cb=bP.ajaxSettings.flatOptions||{};for(b8 in ca){if(ca[b8]!==aK){(cb[b8]?b9:(e||(e={})))[b8]=ca[b8]}}if(e){bP.extend(true,b9,e)}}bP.fn.load=function(ca,cd,ce){if(typeof ca!=="string"&&b5){return b5.apply(this,arguments)}if(!this.length){return this}var e,cb,b9,b8=this,cc=ca.indexOf(" ");if(cc>=0){e=ca.slice(cc,ca.length);ca=ca.slice(0,cc)}if(bP.isFunction(cd)){ce=cd;cd=aK}else{if(cd&&typeof cd==="object"){cb="POST"}}bP.ajax({url:ca,type:cb,dataType:"html",data:cd,complete:function(cg,cf){if(ce){b8.each(ce,b9||[cg.responseText,cf,cg])}}}).done(function(cf){b9=arguments;b8.html(e?bP("<div>").append(cf.replace(p,"")).find(e):cf)});return this};bP.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,b8){bP.fn[b8]=function(b9){return this.on(b8,b9)}});bP.each(["get","post"],function(e,b8){bP[b8]=function(b9,cb,cc,ca){if(bP.isFunction(cb)){ca=ca||cc;cc=cb;cb=aK}return bP.ajax({type:b8,url:b9,data:cb,success:cc,dataType:ca})}});bP.extend({getScript:function(e,b8){return bP.get(e,aK,b8,"script")},getJSON:function(e,b8,b9){return bP.get(e,b8,b9,"json")},ajaxSetup:function(b8,e){if(e){C(b8,bP.ajaxSettings)}else{e=b8;b8=bP.ajaxSettings}C(b8,e);return b8},ajaxSettings:{url:ah,isLocal:K.test(b6[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":a6},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":bb.String,"text html":true,"text json":bP.parseJSON,"text xml":bP.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:bR(E),ajaxTransport:bR(bf),ajax:function(cd,ca){if(typeof cd==="object"){ca=cd;
cd=aK}ca=ca||{};var cg,cu,cb,cp,ci,cm,b9,co,ch=bP.ajaxSetup({},ca),cw=ch.context||ch,ck=cw!==ch&&(cw.nodeType||cw instanceof bP)?bP(cw):bP.event,cv=bP.Deferred(),cr=bP.Callbacks("once memory"),ce=ch.statusCode||{},cl={},cs={},cc=0,cf="canceled",cn={readyState:0,setRequestHeader:function(cx,cy){if(!cc){var e=cx.toLowerCase();cx=cs[e]=cs[e]||cx;cl[cx]=cy}return this},getAllResponseHeaders:function(){return cc===2?cu:null},getResponseHeader:function(cx){var e;if(cc===2){if(!cb){cb={};while((e=am.exec(cu))){cb[e[1].toLowerCase()]=e[2]}}e=cb[cx.toLowerCase()]}return e===aK?null:e},overrideMimeType:function(e){if(!cc){ch.mimeType=e}return this},abort:function(e){e=e||cf;if(cp){cp.abort(e)}cj(0,e);return this}};function cj(cB,cx,cC,cz){var e,cF,cD,cA,cE,cy=cx;if(cc===2){return}cc=2;if(ci){clearTimeout(ci)}cp=aK;cu=cz||"";cn.readyState=cB>0?4:0;if(cC){cA=q(ch,cn,cC)}if(cB>=200&&cB<300||cB===304){if(ch.ifModified){cE=cn.getResponseHeader("Last-Modified");if(cE){bP.lastModified[cg]=cE}cE=cn.getResponseHeader("Etag");if(cE){bP.etag[cg]=cE}}if(cB===304){cy="notmodified";e=true}else{e=an(ch,cA);cy=e.state;cF=e.data;cD=e.error;e=!cD}}else{cD=cy;if(!cy||cB){cy="error";if(cB<0){cB=0}}}cn.status=cB;cn.statusText=(cx||cy)+"";if(e){cv.resolveWith(cw,[cF,cy,cn])}else{cv.rejectWith(cw,[cn,cy,cD])}cn.statusCode(ce);ce=aK;if(b9){ck.trigger("ajax"+(e?"Success":"Error"),[cn,ch,e?cF:cD])}cr.fireWith(cw,[cn,cy]);if(b9){ck.trigger("ajaxComplete",[cn,ch]);if(!(--bP.active)){bP.event.trigger("ajaxStop")}}}cv.promise(cn);cn.success=cn.done;cn.error=cn.fail;cn.complete=cr.add;cn.statusCode=function(cx){if(cx){var e;if(cc<2){for(e in cx){ce[e]=[ce[e],cx[e]]}}else{e=cx[cn.status];cn.always(e)}}return this};ch.url=((cd||ch.url)+"").replace(ax,"").replace(aL,b6[1]+"//");ch.dataTypes=bP.trim(ch.dataType||"*").toLowerCase().split(a4);if(ch.crossDomain==null){cm=a2.exec(ch.url.toLowerCase());ch.crossDomain=!!(cm&&(cm[1]!==b6[1]||cm[2]!==b6[2]||(cm[3]||(cm[1]==="http:"?80:443))!=(b6[3]||(b6[1]==="http:"?80:443))))}if(ch.data&&ch.processData&&typeof ch.data!=="string"){ch.data=bP.param(ch.data,ch.traditional)}z(E,ch,ca,cn);if(cc===2){return cn}b9=ch.global;ch.type=ch.type.toUpperCase();ch.hasContent=!A.test(ch.type);if(b9&&bP.active++===0){bP.event.trigger("ajaxStart")}if(!ch.hasContent){if(ch.data){ch.url+=(bW.test(ch.url)?"&":"?")+ch.data;delete ch.data}cg=ch.url;if(ch.cache===false){var b8=bP.now(),ct=ch.url.replace(Y,"$1_="+b8);ch.url=ct+((ct===ch.url)?(bW.test(ch.url)?"&":"?")+"_="+b8:"")}}if(ch.data&&ch.hasContent&&ch.contentType!==false||ca.contentType){cn.setRequestHeader("Content-Type",ch.contentType)}if(ch.ifModified){cg=cg||ch.url;if(bP.lastModified[cg]){cn.setRequestHeader("If-Modified-Since",bP.lastModified[cg])}if(bP.etag[cg]){cn.setRequestHeader("If-None-Match",bP.etag[cg])}}cn.setRequestHeader("Accept",ch.dataTypes[0]&&ch.accepts[ch.dataTypes[0]]?ch.accepts[ch.dataTypes[0]]+(ch.dataTypes[0]!=="*"?", "+a6+"; q=0.01":""):ch.accepts["*"]);for(co in ch.headers){cn.setRequestHeader(co,ch.headers[co])}if(ch.beforeSend&&(ch.beforeSend.call(cw,cn,ch)===false||cc===2)){return cn.abort()}cf="abort";for(co in {success:1,error:1,complete:1}){cn[co](ch[co])}cp=z(bf,ch,ca,cn);if(!cp){cj(-1,"No Transport")}else{cn.readyState=1;if(b9){ck.trigger("ajaxSend",[cn,ch])}if(ch.async&&ch.timeout>0){ci=setTimeout(function(){cn.abort("timeout")},ch.timeout)}try{cc=1;cp.send(cl,cj)}catch(cq){if(cc<2){cj(-1,cq)}else{throw cq}}}return cn},active:0,lastModified:{},etag:{}});function q(cg,cf,cc){var cb,cd,ca,e,b8=cg.contents,ce=cg.dataTypes,b9=cg.responseFields;for(cd in b9){if(cd in cc){cf[b9[cd]]=cc[cd]}}while(ce[0]==="*"){ce.shift();if(cb===aK){cb=cg.mimeType||cf.getResponseHeader("content-type")}}if(cb){for(cd in b8){if(b8[cd]&&b8[cd].test(cb)){ce.unshift(cd);break}}}if(ce[0] in cc){ca=ce[0]}else{for(cd in cc){if(!ce[0]||cg.converters[cd+" "+ce[0]]){ca=cd;break}if(!e){e=cd}}ca=ca||e}if(ca){if(ca!==ce[0]){ce.unshift(ca)}return cc[ca]}}function an(ci,ca){var cg,b8,ce,cc,cf=ci.dataTypes.slice(),b9=cf[0],ch={},cb=0;
if(ci.dataFilter){ca=ci.dataFilter(ca,ci.dataType)}if(cf[1]){for(cg in ci.converters){ch[cg.toLowerCase()]=ci.converters[cg]}}for(;(ce=cf[++cb]);){if(ce!=="*"){if(b9!=="*"&&b9!==ce){cg=ch[b9+" "+ce]||ch["* "+ce];if(!cg){for(b8 in ch){cc=b8.split(" ");if(cc[1]===ce){cg=ch[b9+" "+cc[0]]||ch["* "+cc[0]];if(cg){if(cg===true){cg=ch[b8]}else{if(ch[b8]!==true){ce=cc[0];cf.splice(cb--,0,ce)}}break}}}}if(cg!==true){if(cg&&ci["throws"]){ca=cg(ca)}else{try{ca=cg(ca)}catch(cd){return{state:"parsererror",error:cg?cd:"No conversion from "+b9+" to "+ce}}}}}b9=ce}}return{state:"success",data:ca}}var by=[],aF=/\?/,be=/(=)\?(?=&|$)|\?\?/,bu=bP.now();bP.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=by.pop()||(bP.expando+"_"+(bu++));this[e]=true;return e}});bP.ajaxPrefilter("json jsonp",function(ch,cc,cg){var cf,e,ce,ca=ch.data,b8=ch.url,b9=ch.jsonp!==false,cd=b9&&be.test(b8),cb=b9&&!cd&&typeof ca==="string"&&!(ch.contentType||"").indexOf("application/x-www-form-urlencoded")&&be.test(ca);if(ch.dataTypes[0]==="jsonp"||cd||cb){cf=ch.jsonpCallback=bP.isFunction(ch.jsonpCallback)?ch.jsonpCallback():ch.jsonpCallback;e=bb[cf];if(cd){ch.url=b8.replace(be,"$1"+cf)}else{if(cb){ch.data=ca.replace(be,"$1"+cf)}else{if(b9){ch.url+=(aF.test(b8)?"&":"?")+ch.jsonp+"="+cf}}}ch.converters["script json"]=function(){if(!ce){bP.error(cf+" was not called")}return ce[0]};ch.dataTypes[0]="json";bb[cf]=function(){ce=arguments};cg.always(function(){bb[cf]=e;if(ch[cf]){ch.jsonpCallback=cc.jsonpCallback;by.push(cf)}if(ce&&bP.isFunction(e)){e(ce[0])}ce=e=aK});return"script"}});bP.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){bP.globalEval(e);return e}}});bP.ajaxPrefilter("script",function(e){if(e.cache===aK){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});bP.ajaxTransport("script",function(b9){if(b9.crossDomain){var e,b8=x.head||x.getElementsByTagName("head")[0]||x.documentElement;return{send:function(ca,cb){e=x.createElement("script");e.async="async";if(b9.scriptCharset){e.charset=b9.scriptCharset}e.src=b9.url;e.onload=e.onreadystatechange=function(cd,cc){if(cc||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(b8&&e.parentNode){b8.removeChild(e)}e=aK;if(!cc){cb(200,"success")}}};b8.insertBefore(e,b8.firstChild)},abort:function(){if(e){e.onload(0,1)}}}}});var aq,aW=bb.ActiveXObject?function(){for(var e in aq){aq[e](0,1)}}:false,aD=0;function bK(){try{return new bb.XMLHttpRequest()}catch(b8){}}function bk(){try{return new bb.ActiveXObject("Microsoft.XMLHTTP")}catch(b8){}}bP.ajaxSettings.xhr=bb.ActiveXObject?function(){return !this.isLocal&&bK()||bk()}:bK;(function(e){bP.extend(bP.support,{ajax:!!e,cors:!!e&&("withCredentials" in e)})})(bP.ajaxSettings.xhr());if(bP.support.ajax){bP.ajaxTransport(function(e){if(!e.crossDomain||bP.support.cors){var b8;return{send:function(ce,b9){var cc,cb,cd=e.xhr();if(e.username){cd.open(e.type,e.url,e.async,e.username,e.password)}else{cd.open(e.type,e.url,e.async)}if(e.xhrFields){for(cb in e.xhrFields){cd[cb]=e.xhrFields[cb]}}if(e.mimeType&&cd.overrideMimeType){cd.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!ce["X-Requested-With"]){ce["X-Requested-With"]="XMLHttpRequest"}try{for(cb in ce){cd.setRequestHeader(cb,ce[cb])}}catch(ca){}cd.send((e.hasContent&&e.data)||null);b8=function(cn,ch){var ci,cg,cf,cl,ck;try{if(b8&&(ch||cd.readyState===4)){b8=aK;if(cc){cd.onreadystatechange=bP.noop;if(aW){delete aq[cc]}}if(ch){if(cd.readyState!==4){cd.abort()}}else{ci=cd.status;cf=cd.getAllResponseHeaders();cl={};ck=cd.responseXML;if(ck&&ck.documentElement){cl.xml=ck}try{cl.text=cd.responseText}catch(cm){}try{cg=cd.statusText}catch(cm){cg=""}if(!ci&&e.isLocal&&!e.crossDomain){ci=cl.text?200:404}else{if(ci===1223){ci=204}}}}}catch(cj){if(!ch){b9(-1,cj)}}if(cl){b9(ci,cg,cl,cf)}};if(!e.async){b8()}else{if(cd.readyState===4){setTimeout(b8,0)
}else{cc=++aD;if(aW){if(!aq){aq={};bP(bb).unload(aW)}aq[cc]=b8}cd.onreadystatechange=b8}}},abort:function(){if(b8){b8(0,1)}}}}})}var U,ak,bX=/^(?:toggle|show|hide)$/,bQ=new RegExp("^(?:([-+])=|)("+bG+")([a-z%]*)$","i"),bV=/queueHooks$/,aG=[r],ba={"*":[function(e,ce){var ca,cf,cg=this.createTween(e,ce),cb=bQ.exec(ce),cc=cg.cur(),b8=+cc||0,b9=1,cd=20;if(cb){ca=+cb[2];cf=cb[3]||(bP.cssNumber[e]?"":"px");if(cf!=="px"&&b8){b8=bP.css(cg.elem,e,true)||ca||1;do{b9=b9||".5";b8=b8/b9;bP.style(cg.elem,e,b8+cf)}while(b9!==(b9=cg.cur()/cc)&&b9!==1&&--cd)}cg.unit=cf;cg.start=b8;cg.end=cb[1]?b8+(cb[1]+1)*ca:ca}return cg}]};function bs(){setTimeout(function(){U=aK},0);return(U=bP.now())}function bl(b8,e){bP.each(e,function(cd,cb){var cc=(ba[cd]||[]).concat(ba["*"]),b9=0,ca=cc.length;for(;b9<ca;b9++){if(cc[b9].call(b8,cd,cb)){return}}})}function o(b9,cd,cg){var ch,cc=0,e=0,b8=aG.length,cf=bP.Deferred().always(function(){delete cb.elem}),cb=function(){var cn=U||bs(),ck=Math.max(0,ca.startTime+ca.duration-cn),ci=ck/ca.duration||0,cm=1-ci,cj=0,cl=ca.tweens.length;for(;cj<cl;cj++){ca.tweens[cj].run(cm)}cf.notifyWith(b9,[ca,cm,ck]);if(cm<1&&cl){return ck}else{cf.resolveWith(b9,[ca]);return false}},ca=cf.promise({elem:b9,props:bP.extend({},cd),opts:bP.extend(true,{specialEasing:{}},cg),originalProperties:cd,originalOptions:cg,startTime:U||bs(),duration:cg.duration,tweens:[],createTween:function(cl,ci,ck){var cj=bP.Tween(b9,ca.opts,cl,ci,ca.opts.specialEasing[cl]||ca.opts.easing);ca.tweens.push(cj);return cj},stop:function(cj){var ci=0,ck=cj?ca.tweens.length:0;for(;ci<ck;ci++){ca.tweens[ci].run(1)}if(cj){cf.resolveWith(b9,[ca,cj])}else{cf.rejectWith(b9,[ca,cj])}return this}}),ce=ca.props;au(ce,ca.opts.specialEasing);for(;cc<b8;cc++){ch=aG[cc].call(ca,b9,ce,ca.opts);if(ch){return ch}}bl(ca,ce);if(bP.isFunction(ca.opts.start)){ca.opts.start.call(b9,ca)}bP.fx.timer(bP.extend(cb,{anim:ca,queue:ca.opts.queue,elem:b9}));return ca.progress(ca.opts.progress).done(ca.opts.done,ca.opts.complete).fail(ca.opts.fail).always(ca.opts.always)}function au(ca,cc){var b9,b8,cd,cb,e;for(b9 in ca){b8=bP.camelCase(b9);cd=cc[b8];cb=ca[b9];if(bP.isArray(cb)){cd=cb[1];cb=ca[b9]=cb[0]}if(b9!==b8){ca[b8]=cb;delete ca[b9]}e=bP.cssHooks[b8];if(e&&"expand" in e){cb=e.expand(cb);delete ca[b8];for(b9 in cb){if(!(b9 in ca)){ca[b9]=cb[b9];cc[b9]=cd}}}else{cc[b8]=cd}}}bP.Animation=bP.extend(o,{tweener:function(b8,cb){if(bP.isFunction(b8)){cb=b8;b8=["*"]}else{b8=b8.split(" ")}var ca,e=0,b9=b8.length;for(;e<b9;e++){ca=b8[e];ba[ca]=ba[ca]||[];ba[ca].unshift(cb)}},prefilter:function(b8,e){if(e){aG.unshift(b8)}else{aG.push(b8)}}});function r(cb,ch,e){var cg,b9,cj,ca,cn,cd,cm,cl,ck,cc=this,b8=cb.style,ci={},cf=[],ce=cb.nodeType&&Z(cb);if(!e.queue){cl=bP._queueHooks(cb,"fx");if(cl.unqueued==null){cl.unqueued=0;ck=cl.empty.fire;cl.empty.fire=function(){if(!cl.unqueued){ck()}}}cl.unqueued++;cc.always(function(){cc.always(function(){cl.unqueued--;if(!bP.queue(cb,"fx").length){cl.empty.fire()}})})}if(cb.nodeType===1&&("height" in ch||"width" in ch)){e.overflow=[b8.overflow,b8.overflowX,b8.overflowY];if(bP.css(cb,"display")==="inline"&&bP.css(cb,"float")==="none"){if(!bP.support.inlineBlockNeedsLayout||bL(cb.nodeName)==="inline"){b8.display="inline-block"}else{b8.zoom=1}}}if(e.overflow){b8.overflow="hidden";if(!bP.support.shrinkWrapBlocks){cc.done(function(){b8.overflow=e.overflow[0];b8.overflowX=e.overflow[1];b8.overflowY=e.overflow[2]})}}for(cg in ch){cj=ch[cg];if(bX.exec(cj)){delete ch[cg];cd=cd||cj==="toggle";if(cj===(ce?"hide":"show")){continue}cf.push(cg)}}ca=cf.length;if(ca){cn=bP._data(cb,"fxshow")||bP._data(cb,"fxshow",{});if("hidden" in cn){ce=cn.hidden}if(cd){cn.hidden=!ce}if(ce){bP(cb).show()}else{cc.done(function(){bP(cb).hide()})}cc.done(function(){var co;bP.removeData(cb,"fxshow",true);for(co in ci){bP.style(cb,co,ci[co])}});for(cg=0;cg<ca;cg++){b9=cf[cg];cm=cc.createTween(b9,ce?cn[b9]:0);ci[b9]=cn[b9]||bP.style(cb,b9);if(!(b9 in cn)){cn[b9]=cm.start;if(ce){cm.end=cm.start;cm.start=b9==="width"||b9==="height"?1:0
}}}}}function Q(b9,b8,cb,e,ca){return new Q.prototype.init(b9,b8,cb,e,ca)}bP.Tween=Q;Q.prototype={constructor:Q,init:function(ca,b8,cc,e,cb,b9){this.elem=ca;this.prop=cc;this.easing=cb||"swing";this.options=b8;this.start=this.now=this.cur();this.end=e;this.unit=b9||(bP.cssNumber[cc]?"":"px")},cur:function(){var e=Q.propHooks[this.prop];return e&&e.get?e.get(this):Q.propHooks._default.get(this)},run:function(b9){var b8,e=Q.propHooks[this.prop];if(this.options.duration){this.pos=b8=bP.easing[this.easing](b9,this.options.duration*b9,0,1,this.options.duration)}else{this.pos=b8=b9}this.now=(this.end-this.start)*b8+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(e&&e.set){e.set(this)}else{Q.propHooks._default.set(this)}return this}};Q.prototype.init.prototype=Q.prototype;Q.propHooks={_default:{get:function(b8){var e;if(b8.elem[b8.prop]!=null&&(!b8.elem.style||b8.elem.style[b8.prop]==null)){return b8.elem[b8.prop]}e=bP.css(b8.elem,b8.prop,false,"");return !e||e==="auto"?0:e},set:function(e){if(bP.fx.step[e.prop]){bP.fx.step[e.prop](e)}else{if(e.elem.style&&(e.elem.style[bP.cssProps[e.prop]]!=null||bP.cssHooks[e.prop])){bP.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}}};Q.propHooks.scrollTop=Q.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};bP.each(["toggle","show","hide"],function(b8,e){var b9=bP.fn[e];bP.fn[e]=function(ca,cc,cb){return ca==null||typeof ca==="boolean"||(!b8&&bP.isFunction(ca)&&bP.isFunction(cc))?b9.apply(this,arguments):this.animate(bO(e,true),ca,cc,cb)}});bP.fn.extend({fadeTo:function(e,ca,b9,b8){return this.filter(Z).css("opacity",0).show().end().animate({opacity:ca},e,b9,b8)},animate:function(cd,ca,cc,cb){var b9=bP.isEmptyObject(cd),e=bP.speed(ca,cc,cb),b8=function(){var ce=o(this,bP.extend({},cd),e);if(b9){ce.stop(true)}};return b9||e.queue===false?this.each(b8):this.queue(e.queue,b8)},stop:function(b9,b8,e){var ca=function(cb){var cc=cb.stop;delete cb.stop;cc(e)};if(typeof b9!=="string"){e=b8;b8=b9;b9=aK}if(b8&&b9!==false){this.queue(b9||"fx",[])}return this.each(function(){var ce=true,cb=b9!=null&&b9+"queueHooks",cd=bP.timers,cc=bP._data(this);if(cb){if(cc[cb]&&cc[cb].stop){ca(cc[cb])}}else{for(cb in cc){if(cc[cb]&&cc[cb].stop&&bV.test(cb)){ca(cc[cb])}}}for(cb=cd.length;cb--;){if(cd[cb].elem===this&&(b9==null||cd[cb].queue===b9)){cd[cb].anim.stop(e);ce=false;cd.splice(cb,1)}}if(ce||!e){bP.dequeue(this,b9)}})}});function bO(b9,cb){var ca,e={height:b9},b8=0;cb=cb?1:0;for(;b8<4;b8+=2-cb){ca=bZ[b8];e["margin"+ca]=e["padding"+ca]=b9}if(cb){e.opacity=e.width=b9}return e}bP.each({slideDown:bO("show"),slideUp:bO("hide"),slideToggle:bO("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,b8){bP.fn[e]=function(b9,cb,ca){return this.animate(b8,b9,cb,ca)}});bP.speed=function(b9,ca,b8){var e=b9&&typeof b9==="object"?bP.extend({},b9):{complete:b8||!b8&&ca||bP.isFunction(b9)&&b9,duration:b9,easing:b8&&ca||ca&&!bP.isFunction(ca)&&ca};e.duration=bP.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in bP.fx.speeds?bP.fx.speeds[e.duration]:bP.fx.speeds._default;if(e.queue==null||e.queue===true){e.queue="fx"}e.old=e.complete;e.complete=function(){if(bP.isFunction(e.old)){e.old.call(this)}if(e.queue){bP.dequeue(this,e.queue)}};return e};bP.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}};bP.timers=[];bP.fx=Q.prototype.init;bP.fx.tick=function(){var b9,b8=bP.timers,e=0;U=bP.now();for(;e<b8.length;e++){b9=b8[e];if(!b9()&&b8[e]===b9){b8.splice(e--,1)}}if(!b8.length){bP.fx.stop()}U=aK};bP.fx.timer=function(e){if(e()&&bP.timers.push(e)&&!ak){ak=setInterval(bP.fx.tick,bP.fx.interval)}};bP.fx.interval=13;bP.fx.stop=function(){clearInterval(ak);ak=null};bP.fx.speeds={slow:600,fast:200,_default:400};bP.fx.step={};if(bP.expr&&bP.expr.filters){bP.expr.filters.animated=function(e){return bP.grep(bP.timers,function(b8){return e===b8.elem}).length
}}var bv=/^(?:body|html)$/i;bP.fn.offset=function(ch){if(arguments.length){return ch===aK?this:this.each(function(ci){bP.offset.setOffset(this,ch,ci)})}var b8,cd,ce,cb,cf,e,ca,cc={top:0,left:0},b9=this[0],cg=b9&&b9.ownerDocument;if(!cg){return}if((cd=cg.body)===b9){return bP.offset.bodyOffset(b9)}b8=cg.documentElement;if(!bP.contains(b8,b9)){return cc}if(typeof b9.getBoundingClientRect!=="undefined"){cc=b9.getBoundingClientRect()}ce=bw(cg);cb=b8.clientTop||cd.clientTop||0;cf=b8.clientLeft||cd.clientLeft||0;e=ce.pageYOffset||b8.scrollTop;ca=ce.pageXOffset||b8.scrollLeft;return{top:cc.top+e-cb,left:cc.left+ca-cf}};bP.offset={bodyOffset:function(e){var b9=e.offsetTop,b8=e.offsetLeft;if(bP.support.doesNotIncludeMarginInBodyOffset){b9+=parseFloat(bP.css(e,"marginTop"))||0;b8+=parseFloat(bP.css(e,"marginLeft"))||0}return{top:b9,left:b8}},setOffset:function(ca,cj,cd){var ce=bP.css(ca,"position");if(ce==="static"){ca.style.position="relative"}var cc=bP(ca),b8=cc.offset(),e=bP.css(ca,"top"),ch=bP.css(ca,"left"),ci=(ce==="absolute"||ce==="fixed")&&bP.inArray("auto",[e,ch])>-1,cg={},cf={},b9,cb;if(ci){cf=cc.position();b9=cf.top;cb=cf.left}else{b9=parseFloat(e)||0;cb=parseFloat(ch)||0}if(bP.isFunction(cj)){cj=cj.call(ca,cd,b8)}if(cj.top!=null){cg.top=(cj.top-b8.top)+b9}if(cj.left!=null){cg.left=(cj.left-b8.left)+cb}if("using" in cj){cj.using.call(ca,cg)}else{cc.css(cg)}}};bP.fn.extend({position:function(){if(!this[0]){return}var b9=this[0],b8=this.offsetParent(),ca=this.offset(),e=bv.test(b8[0].nodeName)?{top:0,left:0}:b8.offset();ca.top-=parseFloat(bP.css(b9,"marginTop"))||0;ca.left-=parseFloat(bP.css(b9,"marginLeft"))||0;e.top+=parseFloat(bP.css(b8[0],"borderTopWidth"))||0;e.left+=parseFloat(bP.css(b8[0],"borderLeftWidth"))||0;return{top:ca.top-e.top,left:ca.left-e.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||x.body;while(e&&(!bv.test(e.nodeName)&&bP.css(e,"position")==="static")){e=e.offsetParent}return e||x.body})}});bP.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b9,b8){var e=/Y/.test(b8);bP.fn[b9]=function(ca){return bP.access(this,function(cb,ce,cd){var cc=bw(cb);if(cd===aK){return cc?(b8 in cc)?cc[b8]:cc.document.documentElement[ce]:cb[ce]}if(cc){cc.scrollTo(!e?cd:bP(cc).scrollLeft(),e?cd:bP(cc).scrollTop())}else{cb[ce]=cd}},b9,ca,arguments.length,null)}});function bw(e){return bP.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}bP.each({Height:"height",Width:"width"},function(e,b8){bP.each({padding:"inner"+e,content:b8,"":"outer"+e},function(b9,ca){bP.fn[ca]=function(ce,cd){var cc=arguments.length&&(b9||typeof ce!=="boolean"),cb=b9||(ce===true||cd===true?"margin":"border");return bP.access(this,function(cg,cf,ch){var ci;if(bP.isWindow(cg)){return cg.document.documentElement["client"+e]}if(cg.nodeType===9){ci=cg.documentElement;return Math.max(cg.body["scroll"+e],ci["scroll"+e],cg.body["offset"+e],ci["offset"+e],ci["client"+e])}return ch===aK?bP.css(cg,cf,ch,cb):bP.style(cg,cf,ch,cb)},b8,cc?ce:aK,cc,null)}})});bb.jQuery=bb.$=bP;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return bP})}})(window);var i=function(k,e){var l=function(m){this.config=m||{};if(!k.isObject(this.config)){throw new Error("Hazmat is not initialized properly")}this.fail=k.isFunction(this.config.fail)?this.config.fail:l.fail;this.warn=k.isFunction(this.config.warn)?this.config.warn:l.warn;this.log=k.isFunction(this.config.log)?this.config.log:l.log};k.extend(l,{ID_REGEX:/^[\_\-A-Za-z0-9]+$/,create:function(m){return new l(m)},noConflict:function(){e.Hazmat=l.original;return l},log:function(){if(window.console&&k.isFunction(window.console.log)){window.console.log.apply(window.console,arguments)}},fail:function(m,n){var p=m||"",o=n||{};l.log("Hazmat Failure::",p,o);throw new Error("Hazmat Failure "+p.toString())},warn:function(m,n){var p=m||"",o=n||{};l.log("Hazmat Warning::",p,o)},fixDomId:function(m){if(k.isString(m)&&m.length>0){return m.replace(/[^A-Za-z0-9\_]/g,"")
}else{return null}},isDomId:function(m){return k.isString(m)&&m.match(l.ID_REGEX)},__placeholder:true});k.extend(l.prototype,{_safeValue:function(n,p,q,o){var m=q;if(k.isFunction(q)){q=k.once(function(){try{return m.apply(this,arguments)}catch(r){}})}if(o.checker(p)){return p}else{if(o.evalFallback&&k.isFunction(q)&&o.checker(q(p))){this.warn("Expected valid "+o.name+" for "+n+" but was able to sanitize it:",[p,q(p)]);return q(p)}else{if(o.checker(m)){this.warn("Expected valid "+o.name+" for "+n+" but was able to fallback to default value:",[p,m]);return m}else{this.fail("Expected valid "+o.name+" for "+n+" but received:",p)}}}},safeString:function(m,n,o){return this._safeValue(m,n,o,{name:"String",checker:k.isString,evalFallback:true})},safeStringOrNull:function(m,n,o){if(n==null){return n}else{return this._safeValue(m,n,o,{name:"String",checker:k.isString,evalFallback:true})}},safeDomId:function(m,n,o){return this._safeValue(m,n,o,{name:"DOM ID",checker:l.isDomId,evalFallback:true})},safeFunction:function(m,n,o){return this._safeValue(m,n,o,{name:"Function",checker:k.isFunction,evalFallback:false})},safeFunctionOrNull:function(m,n,o){if(n==null){return n}else{return this._safeValue(m,n,o,{name:"Function",checker:k.isFunction,evalFallback:false})}},safeObject:function(m,n,o){return this._safeValue(m,n,o,{name:"Object",checker:k.isObject,evalFallback:false})},safeObjectOrNull:function(m,n,o){if(n==null){return n}else{return this._safeValue(m,n,o,{name:"Object",checker:k.isObject,evalFallback:false})}},safeArray:function(m,n,o){return this._safeValue(m,n,o,{name:"Array",checker:k.isArray,evalFallback:false})},safeArrayOfElements:function(n,p,o,q){var m=this._safeValue(n,p,q,{name:"Array",checker:k.isArray,evalFallback:false});return k.map(m,o)},__placeholder:true});return l};if(typeof window!=="undefined"&&typeof window._!=="undefined"){var f=i(window._,window);f.original=window.Hazmat;window.Hazmat=f}else{var j=require("underscore");var f=i(j);j.extend(exports,f)}(function(){var x=8,A="",y=0,z=function(H){var F=[],D=(1<<x)-1,G=H.length*x,E;for(E=0;E<G;E+=x){F[E>>5]|=(H.charCodeAt(E/x)&D)<<(32-x-(E%32))}return F},m=function(H){var F=[],G=H.length,E,D;for(E=0;E<G;E+=2){D=parseInt(H.substr(E,2),16);if(!isNaN(D)){F[E>>3]|=D<<(24-(4*(E%8)))}else{return"INVALID HEX STRING"}}return F},p=function(H){var G=(y)?"0123456789ABCDEF":"0123456789abcdef",I="",F=H.length*4,E,D;for(E=0;E<F;E+=1){D=H[E>>2]>>((3-(E%4))*8);I+=G.charAt((D>>4)&15)+G.charAt(D&15)}return I},t=function(H){var F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J="",G=H.length*4,E,D,I;for(E=0;E<G;E+=3){I=(((H[E>>2]>>8*(3-E%4))&255)<<16)|(((H[E+1>>2]>>8*(3-(E+1)%4))&255)<<8)|((H[E+2>>2]>>8*(3-(E+2)%4))&255);for(D=0;D<4;D+=1){if(E*8+D*6<=H.length*32){J+=F.charAt((I>>6*(3-D))&63)}else{J+=A}}}return J},q=function(D,E){return(D>>>E)|(D<<(32-E))},w=function(D,E){return D>>>E},r=function(D,F,E){return(D&F)^(~D&E)},k=function(D,F,E){return(D&F)^(D&E)^(F&E)},u=function(D){return q(D,2)^q(D,13)^q(D,22)},s=function(D){return q(D,6)^q(D,11)^q(D,25)},C=function(D){return q(D,7)^q(D,18)^w(D,3)},B=function(D){return q(D,17)^q(D,19)^w(D,10)},n=function(D,G){var F=(D&65535)+(G&65535),E=(D>>>16)+(G>>>16)+(F>>>16);return((E&65535)<<16)|(F&65535)},l=function(E,D,I,H){var G=(E&65535)+(D&65535)+(I&65535)+(H&65535),F=(E>>>16)+(D>>>16)+(I>>>16)+(H>>>16)+(G>>>16);return((F&65535)<<16)|(G&65535)},e=function(E,D,J,I,H){var G=(E&65535)+(D&65535)+(J&65535)+(I&65535)+(H&65535),F=(E>>>16)+(D>>>16)+(J>>>16)+(I>>>16)+(H>>>16)+(G>>>16);return((F&65535)<<16)|(G&65535)},o=function(G,O,E){var Z,Y,X,V,U,T,S,Q,N,L,I,R,P,J,F,D=[],M;if(E==="SHA-224"||E==="SHA-256"){R=(((O+65)>>9)<<4)+15;F=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];
if(E==="SHA-224"){I=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}else{I=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]}}G[O>>5]|=128<<(24-O%32);G[R]=O;M=G.length;for(P=0;P<M;P+=16){Z=I[0];Y=I[1];X=I[2];V=I[3];U=I[4];T=I[5];S=I[6];Q=I[7];for(J=0;J<64;J+=1){if(J<16){D[J]=G[J+P]}else{D[J]=l(B(D[J-2]),D[J-7],C(D[J-15]),D[J-16])}N=e(Q,s(U),r(U,T,S),F[J],D[J]);L=n(u(Z),k(Z,Y,X));Q=S;S=T;T=U;U=n(V,N);V=X;X=Y;Y=Z;Z=n(N,L)}I[0]=n(Z,I[0]);I[1]=n(Y,I[1]);I[2]=n(X,I[2]);I[3]=n(V,I[3]);I[4]=n(U,I[4]);I[5]=n(T,I[5]);I[6]=n(S,I[6]);I[7]=n(Q,I[7])}switch(E){case"SHA-224":return[I[0],I[1],I[2],I[3],I[4],I[5],I[6]];case"SHA-256":return I;default:return[]}},v=function(E,D){this.sha224=null;this.sha256=null;this.strBinLen=null;this.strToHash=null;if("HEX"===D){if(0!==(E.length%2)){return"TEXT MUST BE IN BYTE INCREMENTS"}this.strBinLen=E.length*4;this.strToHash=m(E)}else{if(("ASCII"===D)||("undefined"===typeof(D))){this.strBinLen=E.length*x;this.strToHash=z(E)}else{return"UNKNOWN TEXT INPUT TYPE"}}};v.prototype={getHash:function(D,G){var F=null,E=this.strToHash.slice();switch(G){case"HEX":F=p;break;case"B64":F=t;break;default:return"FORMAT NOT RECOGNIZED"}switch(D){case"SHA-224":if(null===this.sha224){this.sha224=o(E,this.strBinLen,D)}return F(this.sha224);case"SHA-256":if(null===this.sha256){this.sha256=o(E,this.strBinLen,D)}return F(this.sha256);default:return"HASH NOT RECOGNIZED"}},getHMAC:function(L,O,F,H){var M,I,G,D,J,N,K=[],E=[];switch(H){case"HEX":M=p;break;case"B64":M=t;break;default:return"FORMAT NOT RECOGNIZED"}switch(F){case"SHA-224":N=224;break;case"SHA-256":N=256;break;default:return"HASH NOT RECOGNIZED"}if("HEX"===O){if(0!==(L.length%2)){return"KEY MUST BE IN BYTE INCREMENTS"}I=m(L);J=L.length*4}else{if("ASCII"===O){I=z(L);J=L.length*x}else{return"UNKNOWN KEY INPUT TYPE"}}if(64<(J/8)){I=o(I,J,F);I[15]&=4294967040}else{if(64>(J/8)){I[15]&=4294967040}}for(G=0;G<=15;G+=1){K[G]=I[G]^909522486;E[G]=I[G]^1549556828}D=o(K.concat(this.strToHash),512+this.strBinLen,F);D=o(E.concat(D),512+N,F);return(M(D))}};window.jsSHA=v}());window.LZW={encode:function(m){var q={};var o=(m+"").split("");var k=[];var p;var e=o[0];var n=256;for(var l=1;l<o.length;l++){p=o[l];if(q[e+p]!=null){e+=p}else{k.push(e.length>1?q[e]:e.charCodeAt(0));q[e+p]=n;n++;e=p}}k.push(e.length>1?q[e]:e.charCodeAt(0));for(var l=0;l<k.length;l++){k[l]=String.fromCharCode(k[l])}return k.join("")},decode:function(t){var k={};var r=(t+"").split("");var m=r[0];var l=m;var p=[m];var e=256;var n;for(var q=1;q<r.length;q++){var o=r[q].charCodeAt(0);if(o<256){n=r[q]}else{n=k[o]?k[o]:(l+m)}p.push(n);m=n.charAt(0);k[e]=l+m;e++;l=n}return p.join("")}};(function(){var e={};e.PADCHAR="=";e.ALPHA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e.makeDOMException=function(){var m,l;try{return new DOMException(DOMException.INVALID_CHARACTER_ERR)}catch(l){var k=new Error("DOM Exception 5");k.code=k.number=5;k.name=k.description="INVALID_CHARACTER_ERR";k.toString=function(){return"Error: "+k.name+": "+k.message};return k}};e.getbyte64=function(m,l){var k=e.ALPHA.indexOf(m.charAt(l));if(k===-1){throw e.makeDOMException()}return k};e.decode=function(n){n=""+n;var q=e.getbyte64;var p,m,o;var l=n.length;if(l===0){return n}if(l%4!==0){throw e.makeDOMException()}p=0;if(n.charAt(l-1)===e.PADCHAR){p=1;if(n.charAt(l-2)===e.PADCHAR){p=2}l-=4}var k=[];for(m=0;m<l;m+=4){o=(q(n,m)<<18)|(q(n,m+1)<<12)|(q(n,m+2)<<6)|q(n,m+3);k.push(String.fromCharCode(o>>16,(o>>8)&255,o&255))}switch(p){case 1:o=(q(n,m)<<18)|(q(n,m+1)<<12)|(q(n,m+2)<<6);k.push(String.fromCharCode(o>>16,(o>>8)&255));break;case 2:o=(q(n,m)<<18)|(q(n,m+1)<<12);k.push(String.fromCharCode(o>>16));break}return k.join("")};e.getbyte=function(m,l){var k=m.charCodeAt(l);if(k>255){throw e.makeDOMException()}return k};e.encode=function(o){if(arguments.length!==1){throw new SyntaxError("Not enough arguments")}var l=e.PADCHAR;var q=e.ALPHA;var p=e.getbyte;var n,r;
var k=[];o=""+o;var m=o.length-o.length%3;if(o.length===0){return o}for(n=0;n<m;n+=3){r=(p(o,n)<<16)|(p(o,n+1)<<8)|p(o,n+2);k.push(q.charAt(r>>18));k.push(q.charAt((r>>12)&63));k.push(q.charAt((r>>6)&63));k.push(q.charAt(r&63))}switch(o.length-m){case 1:r=p(o,n)<<16;k.push(q.charAt(r>>18)+q.charAt((r>>12)&63)+l+l);break;case 2:r=(p(o,n)<<16)|(p(o,n+1)<<8);k.push(q.charAt(r>>18)+q.charAt((r>>12)&63)+q.charAt((r>>6)&63)+l);break}return k.join("")};window.base64=e}());(function(e){e._=window._.noConflict();e.$=window.$.noConflict(true);e.HM=window.Hazmat.noConflict().create();e.jsSHA=window.jsSHA;e.LZW=window.LZW;if(!window.console||!window.console.log){window.console=window.console||{};window.console.log=function(){}}}(a));(function(k,l,e){k.playerParams=e.safeObject("environment.playerParams",k.playerParams,{});k.configurePublisher=function(n){k.playerParams.pcode=n.pcode||k.playerParams.pcode||"";k.playerParams.playerBrandingId=n.playerBrandingId||k.playerParams.playerBrandingId||"";k.playerParams.debug=n.debug||k.playerParams.debug||""};k.isPublisherConfigured=function(){return !!(k.playerParams.pcode&&k.playerParams.playerBrandingId)};k.setServerHost=function(n){k.playerParams.api_ssl_server=n.api_ssl_server||k.playerParams.api_ssl_server||null;k.playerParams.api_server=n.api_server||k.playerParams.api_server||null;k.playerParams.auth_ssl_server=n.auth_ssl_server||k.playerParams.auth_ssl_server||null;k.playerParams.auth_server=n.auth_server||k.playerParams.auth_server||null;k.playerParams.analytics_ssl_server=n.analytics_ssl_server||k.playerParams.analytics_ssl_server||null;k.playerParams.analytics_server=n.analytics_server||k.playerParams.analytics_server||null;m()};var m=function(){k.SERVER={API:k.isSSL?k.playerParams.api_ssl_server||"https://player.ooyala.com":k.playerParams.api_server||"http://player.ooyala.com",AUTH:k.isSSL?k.playerParams.auth_ssl_server||"https://player.ooyala.com/sas":k.playerParams.auth_server||"http://player.ooyala.com/sas",ANALYTICS:k.isSSL?k.playerParams.analytics_ssl_server||"https://player.ooyala.com":k.playerParams.analytics_server||"http://player.ooyala.com"}};k.playerParams.tweaks=k.playerParams.tweaks||"";k.playerParams.tweaks=e.safeString("environment.playerParams.tweaks",k.playerParams.tweaks,"");k.playerParams.tweaks=k.playerParams.tweaks.split(",");k.tweaks={};k.tweaks["android-enable-hls"]=l.contains(k.playerParams.tweaks,"android-enable-hls");k.tweaks["html5-force-mp4"]=l.contains(k.playerParams.tweaks,"html5-force-mp4");k.playerParams.maxAdsTimeout=k.playerParams.maxAdsTimeout||5;k.playerParams.maxVastWrapperDepth=k.playerParams.maxVastWrapperDepth||3;k.playerParams.minLiveSeekWindow=k.playerParams.minLiveSeekWindow||10;k.guid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(p){var o=Math.random()*16|0,n=p=="x"?o:(o&3|8);return n.toString(16)});k.playerCount=0;k.isProd=!!(k.playerParams.environment&&k.playerParams.environment.match(/^prod/i));k.platform=window.navigator.platform;k.os=window.navigator.appVersion;k.supportsVideo=!!document.createElement("video").canPlayType;k.browserSupportsCors=(function(){try{return l.has(new XMLHttpRequest(),"withCredentials")||l.has(XMLHttpRequest.prototype,"withCredentials")}catch(n){return false}}());k.isWindows=(function(){return !!k.platform.match(/Win/)}());k.isIos=(function(){return !!k.platform.match(/iPhone|iPad|iPod/)}());k.isIphone=(function(){return !!k.platform.match(/iPhone|iPod/)}());k.isIpad=(function(){return !!k.platform.match(/iPad/)}());k.iosMajorVersion=(function(){try{if(k.isIos){return parseInt(window.navigator.userAgent.match(/OS (\d+)/)[1],10)}else{return null}}catch(n){return null}}());k.isAndroid=(function(){return !!(k.os.match(/Android/)&&!k.os.match(/Windows Phone/))}());k.isAndroid4Plus=(function(){var n=k.os.match(/Android [\d\.]*;/);if(n&&n.length>0){n=parseInt(n[0].substring(n[0].indexOf(" ")+1,n[0].search("[.;]")))}return k.isAndroid&&n>=4}());k.isRimDevice=(function(){return !!(k.os.match(/BlackBerry/)||k.os.match(/PlayBook/))
}());k.isFirefox=(function(){return !!window.navigator.userAgent.match(/Firefox/)}());k.isChrome=(function(){return(!!window.navigator.userAgent.match(/Chrome/)&&!window.navigator.userAgent.match(/Edge/))}());k.isSafari=(function(){return(!!window.navigator.userAgent.match(/AppleWebKit/)&&!window.navigator.userAgent.match(/Chrome/)&&!window.navigator.userAgent.match(/like iPhone/))}());k.chromeMajorVersion=(function(){try{return parseInt(window.navigator.userAgent.match(/Chrome.([0-9]*)/)[1],10)}catch(n){return null}}());k.isIE=(function(){return !!window.navigator.userAgent.match(/MSIE/)||!!window.navigator.userAgent.match(/Trident/)}());k.isEdge=(function(){return !!window.navigator.userAgent.match(/Edge/)}());k.isIE11Plus=(function(){if(!window.navigator.userAgent.match(/Trident/)){return false}var n=window.navigator.userAgent.match(/rv:(\d*)/);var o=n&&n[1];return o>=11}());k.isWinPhone=(function(){return !!k.os.match(/Windows Phone/)||!!k.os.match(/ZuneWP/)||!!k.os.match(/XBLWP/)}());k.isSmartTV=(function(){return(!!window.navigator.userAgent.match(/SmartTV/)||!!window.navigator.userAgent.match(/NetCast/))}());k.isMacOs=(function(){return !k.isIos&&!!k.os.match(/Mac/)&&!window.navigator.userAgent.match(/like iPhone/)}());k.isMacOsLionOrLater=(function(){var n=k.os.match(/Mac OS X ([0-9]+)_([0-9]+)/);if(n==null||n.length<3){return false}return(parseInt(n[1],10)>=10&&parseInt(n[2],10)>=7)}());k.isKindleHD=(function(){return !!k.os.match(/Silk\/2/)}());k.supportAds=(function(){return !k.isWinPhone&&!k.os.match(/Android [23]/)}());k.allowGesture=(function(){return k.isIos}());k.allowAutoPlay=(function(){return !k.isIos&&!k.isAndroid}());k.supportTouch=(function(){if(document.documentElement.hasOwnProperty&&document.documentElement.hasOwnProperty("ontouchstart")){return true}return false}());k.docDomain=(function(){var n=null;try{n=document.domain}catch(o){}if(!k._.isEmpty(n)){return n}if(k.isSmartTV){return"SmartTV"}return"unknown"}());k.uiParadigm=(function(){var n="tablet";if(k.isAndroid4Plus&&k.tweaks["android-enable-hls"]){n="tablet"}else{if(k.isIphone){n="mobile-native"}else{if(k.os.match(/BlackBerry/)){n="mobile-native"}else{if(k.os.match(/iPad/)){n="tablet"}else{if(k.isKindleHD){n="mobile-native"}else{if(k.os.match(/Silk/)){n="mobile"}else{if(k.os.match(/Android 2/)){if((window.orientation%180)==0&&(window.outerWidth/window.devicePixelRatio)<=480){n="mobile"}else{if((window.outerWidth/window.devicePixelRatio)<=560){n="mobile"}}}else{if(k.os.match(/Android/)){n="tablet"}else{if(k.isWinPhone){n="mobile"}else{if(!!k.platform.match(/Mac/)||!!k.platform.match(/Win/)||!!k.platform.match(/Linux/)){n="desktop"}}}}}}}}}}return n}());k.requiresSingleVideoElement=(function(){var n=k.isIos;var o=k.isAndroid&&(!k.isAndroid4Plus||k.chromeMajorVersion<40);return n||o}());k.supportedVideoProfiles=(function(){if(k.isIos||k.isAndroid){return"baseline"}return null}());k.device=(function(){var n="html5";if(k.isIphone){n="iphone-html5"}else{if(k.isIpad){n="ipad-html5"}else{if(k.isAndroid){n="android-html5"}else{if(k.isRimDevice){n="rim-html5"}else{if(k.isWinPhone){n="winphone-html5"}else{if(k.isSmartTV){n="smarttv-html5"}}}}}}return n}());k.environmentRequiredFeatures=(function(){var n=[];if(k.os.match(/Android 2/)){n.push("html5-playback")}else{n.push("html5-playback");if(k.supportAds){n.push("ads")}}return l.reduce(n,function(o,p){return o+p+" "},"")}());k.supportMidRollAds=(function(){return(k.uiParadigm==="desktop"&&!k.isIos&&!k.isRimDevice)}());k.supportCookies=(function(){document.cookie="ooyala_cookie_test=true";var n=document.cookie.indexOf("ooyala_cookie_test=true")>=0;document.cookie="ooyala_cookie_test=; expires=Thu, 01 Jan 1970 00:00:00 GMT";return n}());k.isSSL=document.location.protocol=="https:";m();k.requiredInEnvironment=k.featureEnabled=function(n){return !!k.environmentRequiredFeatures.match(new RegExp(n))};k.chromeExtensionEnabled=document.getElementById("ooyala-extension-installed")?true:false;k.locale="";k.setLocale=function(n){k.locale=n.toUpperCase()
};k.getLocale=function(){return(k.locale||document.documentElement.lang||navigator.language||navigator.userLanguage||"en").substr(0,2).toUpperCase()}}(a,a._,a.HM));(function(e,l,k){if(window.XDomainRequest){e.$.ajaxTransport(function(n){if(n.crossDomain&&n.async){if(n.timeout){n.xdrTimeout=n.timeout;delete n.timeout}var m;return{send:function(p,o){function q(r,u,t,s){m.onload=m.onerror=m.ontimeout=e.$.noop;m=undefined;o(r,u,t,s)}m=new XDomainRequest();m.open(n.type,n.url);m.onload=function(){q(200,"OK",{text:m.responseText},"Content-Type: "+m.contentType)};m.onerror=function(){q(404,"Not Found")};m.onprogress=function(){};if(n.xdrTimeout){m.ontimeout=function(){q(0,"timeout")};m.timeout=n.xdrTimeout}m.send((n.hasContent&&n.data)||null)},abort:function(){if(m){m.onerror=e.$.noop();m.abort()}}}}})}l.getScriptRetry=function(n,r,m){m=m||{};var q=m.error;var p=["error","dataType","success"];k.each(p,function(s){delete (m[s])});var o={url:n,type:"get",dataType:"script",success:r,cache:true,timeout:5000,tryCount:0,retryLimit:1,warning:false,warningMessage:"Can not load URL",error:function(){if(this.tryCount<this.retryLimit){this.tryCount++;l.ajax(this)}else{if(this.warning){alert(this.warningMessage)}if(q){q.apply(null,arguments)}}}};k.extend(o,m);l.ajax(o)}}(a,a.$,a._));(function(e,k){e.STATE={LOADING:"loading",READY:"ready",PLAYING:"playing",PAUSED:"paused",BUFFERING:"buffering",ERROR:"error",DESTROYED:"destroyed",__end_marker:true};e.EVENTS={PLAYER_CREATED:"playerCreated",PLAYER_EMBEDDED:"playerEmbedded",SET_EMBED_CODE:"setEmbedCode",SET_ASSET:"setAsset",ASSET_CHANGED:"assetChanged",EMBED_CODE_CHANGED:"embedCodeChanged",AUTH_TOKEN_CHANGED:"authTokenChanged",GUID_SET:"guidSet",WILL_FETCH_PLAYER_XML:"willFetchPlayerXml",PLAYER_XML_FETCHED:"playerXmlFetched",WILL_FETCH_CONTENT_TREE:"willFetchContentTree",CONTENT_TREE_FETCHED:"contentTreeFetched",WILL_FETCH_METADATA:"willFetchMetadata",METADATA_FETCHED:"metadataFetched",THUMBNAILS_FETCHED:"thumbnailsFetched",WILL_FETCH_AUTHORIZATION:"willFetchAuthorization",AUTHORIZATION_FETCHED:"authorizationFetched",WILL_FETCH_AD_AUTHORIZATION:"willFetchAdAuthorization",AD_AUTHORIZATION_FETCHED:"adAuthorizationFetched",UPDATE_ASSET:"updateAsset",ASSET_UPDATED:"assetUpdated",CAN_SEEK:"canSeek",WILL_RESUME_MAIN_VIDEO:"willResumeMainVideo",PLAYBACK_READY:"playbackReady",INITIAL_PLAY:"initialPlay",CAN_PLAY:"canPlay",WILL_PLAY:"willPlay",REPLAY:"replay",PLAYHEAD_TIME_CHANGED:"playheadTimeChanged",BUFFERING:"buffering",BUFFERED:"buffered",DOWNLOADING:"downloading",BITRATE_INFO_AVAILABLE:"bitrateInfoAvailable",SET_TARGET_BITRATE:"setTargetBitrate",BITRATE_CHANGED:"bitrateChanged",CLOSED_CAPTIONS_INFO_AVAILABLE:"closedCaptionsInfoAvailable",SET_CLOSED_CAPTIONS_LANGUAGE:"setClosedCaptionsLanguage",CLOSED_CAPTION_CUE_CHANGED:"closedCaptionCueChanged",ASSET_DIMENSION:"assetDimension",SCRUBBING:"scrubbing",SCRUBBED:"scrubbed",SEEK:"seek",SEEKED:"seeked",PLAY:"play",PLAYING:"playing",PLAY_FAILED:"playFailed",PAUSE:"pause",PAUSED:"paused",PLAYED:"played",SHOULD_DISPLAY_CUE_POINTS:"shouldDisplayCuePoints",INSERT_CUE_POINT:"insertCuePoint",RESET_CUE_POINTS:"resetCuePoints",WILL_CHANGE_FULLSCREEN:"willChangeFullscreen",FULLSCREEN_CHANGED:"fullscreenChanged",SIZE_CHANGED:"sizeChanged",CHANGE_VOLUME:"changeVolume",VOLUME_CHANGED:"volumeChanged",CONTROLS_SHOWN:"controlsShown",CONTROLS_HIDDEN:"controlsHidden",END_SCREEN_SHOWN:"endScreenShown",ERROR:"error",DESTROY:"destroy",WILL_PLAY_FROM_BEGINNING:"willPlayFromBeginning",DISABLE_PLAYBACK_CONTROLS:"disablePlaybackControls",ENABLE_PLAYBACK_CONTROLS:"enablePlaybackControls",VC_READY:"videoControllerReady",VC_CREATE_VIDEO_ELEMENT:"videoControllerCreateVideoElement",VC_VIDEO_ELEMENT_CREATED:"videoControllerVideoElementCreated",VC_FOCUS_VIDEO_ELEMENT:"videoControllerFocusVideoElement",VC_VIDEO_ELEMENT_IN_FOCUS:"videoControllerVideoElementInFocus",VC_VIDEO_ELEMENT_LOST_FOCUS:"videoControllerVideoElementLostFocus",VC_DISPOSE_VIDEO_ELEMENT:"videoControllerDisposeVideoElement",VC_VIDEO_ELEMENT_DISPOSED:"videoControllerVideoElementDisposed",VC_SET_VIDEO_STREAMS:"videoControllerSetVideoStreams",VC_ERROR:"videoControllerError",VC_SET_INITIAL_TIME:"videoSetInitialTime",VC_PLAY:"videoPlay",VC_CAN_PLAY:"videoCanPlay",VC_WILL_PLAY:"videoWillPlay",VC_PLAYING:"videoPlaying",VC_PLAYED:"videoPlayed",VC_PLAY_FAILED:"videoPlayFailed",VC_PAUSE:"videoPause",VC_PAUSED:"videoPaused",VC_SEEK:"videoSeek",VC_SEEKING:"videoSeeking",VC_SEEKED:"videoSeeked",VC_PRELOAD:"videoPreload",VC_RELOAD:"videoReload",VC_PRIME_VIDEOS:"videoPrimeVideos",VC_TAG_FOUND:"videoTagFound",WILL_FETCH_ADS:"willFetchAds",DISABLE_SEEKING:"disableSeeking",ENABLE_SEEKING:"enableSeeking",WILL_PLAY_ADS:"willPlayAds",WILL_PLAY_SINGLE_AD:"willPlaySingleAd",WILL_PAUSE_ADS:"willPauseAds",WILL_RESUME_ADS:"willResumeAds",WILL_PLAY_NONLINEAR_AD:"willPlayNonlinearAd",PLAY_NONLINEAR_AD:"playNonlinearAd",ADS_PLAYED:"adsPlayed",SINGLE_AD_PLAYED:"singleAdPlayed",ADS_ERROR:"adsError",ADS_CLICKED:"adsClicked",FIRST_AD_FETCHED:"firstAdFetched",AD_CONFIG_READY:"adConfigReady",WILL_SHOW_COMPANION_ADS:"willShowCompanionAds",AD_FETCH_FAILED:"adFetchFailed",MIDROLL_PLAY_FAILED:"midrollPlayFailed",SKIP_AD:"skipAd",UPDATE_AD_COUNTDOWN:"updateAdCountdown",REPORT_EXPERIMENT_VARIATIONS:"reportExperimentVariations",FETCH_STYLE:"fetchStyle",STYLE_FETCHED:"styleFetched",SET_STYLE:"setStyle",USE_SERVER_SIDE_HLS_ADS:"useServerSideHlsAds",LOAD_ALL_VAST_ADS:"loadAllVastAds",ADS_FILTERED:"adsFiltered",ADS_MANAGER_HANDLING_ADS:"adsManagerHandlingAds",ADS_MANAGER_FINISHED_ADS:"adsManagerFinishedAds",OVERLAY_RENDERING:"overlayRendering",SHOW_AD_MARQUEE:"showAdMarquee",PAGE_UNLOAD_REQUESTED:"pageUnloadRequested",PAGE_PROBABLY_UNLOADING:"pageProbablyUnloading",REPORT_DISCOVERY_IMPRESSION:"reportDiscoveryImpression",REPORT_DISCOVERY_CLICK:"reportDiscoveryClick",UI_READY:"uiReady",__end_marker:true};
e.ERROR={API:{NETWORK:"network",SAS:{GENERIC:"sas",GEO:"geo",DOMAIN:"domain",FUTURE:"future",PAST:"past",DEVICE:"device",PROXY:"proxy",CONCURRENT_STREAMS:"concurrent_streams",INVALID_HEARTBEAT:"invalid_heartbeat",ERROR_DEVICE_INVALID_AUTH_TOKEN:"device_invalid_auth_token",ERROR_DEVICE_LIMIT_REACHED:"device_limit_reached",ERROR_DEVICE_BINDING_FAILED:"device_binding_failed",ERROR_DEVICE_ID_TOO_LONG:"device_id_too_long",ERROR_DRM_RIGHTS_SERVER_ERROR:"drm_server_error",ERROR_DRM_GENERAL_FAILURE:"drm_general_failure",ERROR_INVALID_ENTITLEMENTS:"invalid_entitlements"},CONTENT_TREE:"content_tree",METADATA:"metadata"},PLAYBACK:{GENERIC:"playback",STREAM:"stream",LIVESTREAM:"livestream",NETWORK:"network_error"},CHROMECAST:{MANIFEST:"chromecast_manifest",MEDIAKEYS:"chromecast_mediakeys",NETWORK:"chromecast_network",PLAYBACK:"chromecast_playback"},UNPLAYABLE_CONTENT:"unplayable_content",INVALID_EXTERNAL_ID:"invalid_external_id",EMPTY_CHANNEL:"empty_channel",EMPTY_CHANNEL_SET:"empty_channel_set",CHANNEL_CONTENT:"channel_content",VC:{UNSUPPORTED_ENCODING:"unsupported_encoding",UNABLE_TO_CREATE_VIDEO_ELEMENT:"unable_to_create_video_element"}};e.URLS={VAST_PROXY:k.template("http://player.ooyala.com/nuplayer/mobile_vast_ads_proxy?callback=<%=cb%>&embed_code=<%=embedCode%>&expires=<%=expires%>&tag_url=<%=tagUrl%>"),EXTERNAL_ID:k.template("<%=server%>/player_api/v1/content_tree/external_id/<%=pcode%>/<%=externalId%>"),CONTENT_TREE:k.template("<%=server%>/player_api/v1/content_tree/embed_code/<%=pcode%>/<%=embedCode%>"),METADATA:k.template("<%=server%>/player_api/v1/metadata/embed_code/<%=playerBrandingId%>/<%=embedCode%>?videoPcode=<%=pcode%>"),SAS:k.template("<%=server%>/player_api/v2/authorization/embed_code/<%=pcode%>/<%=embedCode%>"),ANALYTICS:k.template("<%=server%>/reporter.js"),THUMBNAILS:k.template("<%=server%>/api/v1/thumbnail_images/<%=embedCode%>"),__end_marker:true};e.VIDEO={MAIN:"main",ADS:"ads",ENCODING:{DRM:{HLS:"hls_drm",DASH:"dash_drm"},AUDIO:"audio",DASH:"dash",HDS:"hds",HLS:"hls",IMA:"ima",MP4:"mp4",RTMP:"rtmp",SMOOTH:"smooth",WEBM:"webm",AKAMAI_HD_VOD:"akamai_hd_vod",AKAMAI_HD2_VOD_HLS:"akamai_hd2_vod_hls",AKAMAI_HD2_VOD_HDS:"akamai_hd2_vod_hds",FAXS_HLS:"faxs_hls",WIDEVINE_HLS:"wv_hls",WIDEVINE_MP4:"wv_mp4",WIDEVINE_WVM:"wv_wvm",UNKNOWN:"unknown"},FEATURE:{CLOSED_CAPTIONS:"closedCaptions",VIDEO_OBJECT_SHARING_GIVE:"videoObjectSharingGive",VIDEO_OBJECT_SHARING_TAKE:"videoObjectSharingTake",BITRATE_CONTROL:"bitrateControl"},TECHNOLOGY:{FLASH:"flash",HTML5:"html5",MIXED:"mixed",OTHER:"other"}};e.CSS={VISIBLE_POSITION:"0px",INVISIBLE_POSITION:"-100000px",VISIBLE_DISPLAY:"block",INVISIBLE_DISPLAY:"none",VIDEO_Z_INDEX:10000,SUPER_Z_INDEX:20000,ALICE_SKIN_Z_INDEX:11000,OVERLAY_Z_INDEX:10500,TRANSPARENT_COLOR:"rgba(255, 255, 255, 0)",__end_marker:true};e.TEMPLATES={RANDOM_PLACE_HOLDER:["[place_random_number_here]","<now>","[timestamp]","<rand-num>","[cache_buster]","[random]"],REFERAK_PLACE_HOLDER:["[referrer_url]","[LR_URL]"],EMBED_CODE_PLACE_HOLDER:["[oo_embedcode]"],MESSAGE:'                  <table width="100%" height="100%" bgcolor="black" style="padding-left:55px; padding-right:55px;                   background-color:black; color: white;">                  <tbody>                  <tr valign="middle">                  <td align="right"><span style="font-family:Arial; font-size:20px">                  <%= message %>                  </span></td></tr></tbody></table>                  ',__end_marker:true};e.CONSTANTS={AD_PLAY_COUNT_KEY:"oo_ad_play_count",AD_ID_TO_PLAY_COUNT_DIVIDER:":",AD_PLAY_COUNT_DIVIDER:"|",MAX_AD_PLAY_COUNT_HISTORY_LENGTH:20,CONTROLS_BOTTOM_PADDING:10,SEEK_TO_END_LIMIT:4,CLOSED_CAPTIONS:{SHOWING:"showing",HIDDEN:"hidden",DISABLED:"disabled"},__end_marker:true}}(a,a._));(function(e){e.TEXT={ADS_COUNTDOWN:"adsCountdown",ADS_COUNTDOWN_SECONDS:"adsCountdownSeconds",LIVE:"LIVE",__end_marker:true}}(a));(function(k){k.MESSAGES={EN:{},ES:{},FR:{},JA:{}};var l=k.MESSAGES.EN;var n=k.MESSAGES.ES;var e=k.MESSAGES.FR;var m=k.MESSAGES.JA;
l[k.ERROR.API.NETWORK]="Cannot Contact Server";l[k.ERROR.API.SAS.GENERIC]="Invalid Authorization Response";l[k.ERROR.API.SAS.GEO]="This video is not authorized in your location";l[k.ERROR.API.SAS.DOMAIN]="This video is not authorized for your domain";l[k.ERROR.API.SAS.FUTURE]="This video will be available soon";l[k.ERROR.API.SAS.PAST]="This video is no longer available";l[k.ERROR.API.SAS.DEVICE]="This video is not authorized for playback on this device";l[k.ERROR.API.SAS.PROXY]="An anonymous proxy was detected. Please disable the proxy and retry.";l[k.ERROR.API.SAS.CONCURRENT_STREAMS]="You have exceeded the maximum number of concurrent streams";l[k.ERROR.API.SAS.INVALID_HEARTBEAT]="Invalid heartbeat response";l[k.ERROR.API.SAS.ERROR_INVALID_ENTITLEMENTS]="User Entitlement Terminated - Stream No Longer Active for the User";l[k.ERROR.API.CONTENT_TREE]="Invalid Content";l[k.ERROR.API.METADATA]="Invalid Metadata";l[k.ERROR.PLAYBACK.GENERIC]="Could not play the content";l[k.ERROR.PLAYBACK.STREAM]="This video isn't encoded for your device";l[k.ERROR.PLAYBACK.LIVESTREAM]="Live stream is off air";l[k.ERROR.PLAYBACK.NETWORK]="Network connection temporarily lost";l[k.ERROR.UNPLAYABLE_CONTENT]="This video is not playable on this player";l[k.ERROR.INVALID_EXTERNAL_ID]="Invalid External ID";l[k.ERROR.EMPTY_CHANNEL]="This channel is empty";l[k.ERROR.EMPTY_CHANNEL_SET]="This channel set is empty";l[k.ERROR.CHANNEL_CONTENT]="This channel is not playable at this time";l[k.ERROR.VC_PLAY_FAILED]="This video is not encoded for your device";l[k.TEXT.ADS_COUNTDOWN]="Advertisement: Your Video will resume shortly";l[k.TEXT.ADS_COUNTDOWN_SECONDS]="Advertisement: Your Video will resume in <%= time %> <%= seconds %>";l[k.TEXT.LIVE]="LIVE";n[k.ERROR.API.NETWORK]="No se puede contactar al servidor";n[k.ERROR.API.SAS.GENERIC]="Respuesta de autorizaciÃ³n no vÃ¡lida";n[k.ERROR.API.SAS.GEO]="El vÃdeo no estÃ¡ autorizado en su ubicaciÃ³n";n[k.ERROR.API.SAS.DOMAIN]="El vÃdeo no estÃ¡ autorizado para su dominio";n[k.ERROR.API.SAS.FUTURE]="El vÃdeo estarÃ¡ disponible pronto";n[k.ERROR.API.SAS.PAST]="El vÃdeo ya no estÃ¡ disponible";n[k.ERROR.API.SAS.DEVICE]="El vÃdeo no estÃ¡ autorizado para reproducirse en este dispositivo";n[k.ERROR.API.SAS.PROXY]="Se detectÃ³ un proxy anÃ³nimo. Deshabilite el proxy e intente nuevamente.";n[k.ERROR.API.SAS.CONCURRENT_STREAMS]="Ha superado la cantidad mÃ¡xima de transmisiones concurrentes";n[k.ERROR.API.SAS.INVALID_HEARTBEAT]="Respuesta de pulso no vÃ¡lida";n[k.ERROR.API.SAS.ERROR_INVALID_ENTITLEMENTS]="La suscripciÃ³n del usuario a terminado - El video ya no estÃ¡ disponible para el usuario";n[k.ERROR.API.CONTENT_TREE]="Contenido no vÃ¡lido";n[k.ERROR.API.METADATA]="Metadatos no vÃ¡lidos";n[k.ERROR.PLAYBACK.GENERIC]="No se pudo reproducir el contenido";n[k.ERROR.PLAYBACK.STREAM]="El vÃdeo no estÃ¡ codificado para su dispositivo";n[k.ERROR.PLAYBACK.LIVESTREAM]="La transmisiÃ³n en vivo estÃ¡ fuera del aire";n[k.ERROR.PLAYBACK.NETWORK]="La conexiÃ³n de red se halla temporalmente perdida";n[k.ERROR.UNPLAYABLE_CONTENT]="El vÃdeo no se puede reproducir en este reproductor";n[k.ERROR.INVALID_EXTERNAL_ID]="ID externo no vÃ¡lido";n[k.ERROR.EMPTY_CHANNEL]="El canal estÃ¡ vacÃo";n[k.ERROR.EMPTY_CHANNEL_SET]="El conjunto de canales estÃ¡ vacÃo";n[k.ERROR.CHANNEL_CONTENT]="El canal no se puede reproducir en este momento";n[k.ERROR.VC_PLAY_FAILED]="El vÃdeo no estÃ¡ codificado para su dispositivo";n[k.TEXT.ADS_COUNTDOWN]="Anuncio: el vÃdeo se reanudarÃ¡ en breve";n[k.TEXT.LIVE]="EN VIVO";e[k.ERROR.API.NETWORK]="Impossible de contacter le serveur";e[k.ERROR.API.SAS.GENERIC]="RÃ©ponse d'autorisation non valide";e[k.ERROR.API.SAS.GEO]="Cette vidÃ©o n'est pas autorisÃ©e dans votre pays";e[k.ERROR.API.SAS.DOMAIN]="Cette vidÃ©o n'est pas autorisÃ©e pour votre domaine";e[k.ERROR.API.SAS.FUTURE]="Cette vidÃ©o sera bientÃ´t disponible";e[k.ERROR.API.SAS.PAST]="Cette vidÃ©o n'est plus disponible";e[k.ERROR.API.SAS.DEVICE]="La lecture de cette vidÃ©o n'est pas autorisÃ©e sur cet appareil";
e[k.ERROR.API.SAS.PROXY]="Un proxy anonyme a Ã©tÃ© dÃ©tectÃ©. DÃ©sactivez le proxy, puis rÃ©essayez.";e[k.ERROR.API.SAS.CONCURRENT_STREAMS]="Vous avez dÃ©passÃ© le nombre maximum de flux simultanÃ©s.";e[k.ERROR.API.SAS.INVALID_HEARTBEAT]="RÃ©ponse du signal de pulsation ('heartbeat') non valide";e[k.ERROR.API.CONTENT_TREE]="Contenu non valide";e[k.ERROR.API.METADATA]="MÃ©tadonnÃ©es non valides";e[k.ERROR.PLAYBACK.GENERIC]="Impossible de lire le contenu";e[k.ERROR.PLAYBACK.STREAM]="Cette vidÃ©o n'est pas encodÃ©e pour votre appareil";e[k.ERROR.PLAYBACK.LIVESTREAM]="Le flux direct a Ã©tÃ© interrompu";e[k.ERROR.PLAYBACK.NETWORK]="Connexion au rÃ©seau temporairement interrompue";e[k.ERROR.UNPLAYABLE_CONTENT]="Vous ne pouvez pas lire cette vidÃ©o sur ce lecteur";e[k.ERROR.INVALID_EXTERNAL_ID]="Identifiant externe non valide";e[k.ERROR.EMPTY_CHANNEL]="Cette chaÃ®ne est vide";e[k.ERROR.EMPTY_CHANNEL_SET]="Ce groupe de chaÃ®nes est vide";e[k.ERROR.CHANNEL_CONTENT]="Vous ne pouvez pas lire cette chaÃ®ne pour le moment";e[k.ERROR.VC_PLAY_FAILED]="Cette vidÃ©o n'est pas encodÃ©e pour votre appareil";e[k.TEXT.ADS_COUNTDOWN]="PublicitÃ© : votre vidÃ©o reprendra bientÃ´t";e[k.TEXT.LIVE]="EN DIRECT";m[k.ERROR.API.NETWORK]="å¾Œã§ã”ç¢ºèªãã ã•ã„ã€‚";m[k.ERROR.API.SAS.GENERIC]="ãƒ“ãƒ‡ã‚ªã‚’èªè¨¼ã§ãã¾ã›ã‚“ã€‚";m[k.ERROR.API.SAS.GEO]="ã“ã®åœ°åŸŸã§ã¯ã“ã®ãƒ“ãƒ‡ã‚ªã¯è¨±å¯ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚";m[k.ERROR.API.SAS.DOMAIN]="ãŠä½¿ã„ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ã¯ã“ã®ãƒ“ãƒ‡ã‚ªã¯è¨±å¯ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚";m[k.ERROR.API.SAS.FUTURE]="ã“ã®ãƒ“ãƒ‡ã‚ªã¯ã—ã°ã‚‰ãã™ã‚‹ã¨å†ç”Ÿå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚";m[k.ERROR.API.SAS.PAST]="ã“ã®ãƒ“ãƒ‡ã‚ªã¯ã€æ—¢ã«å¾¡åˆ©ç”¨ã„ãŸã ã‘ã¾ã›ã‚“ã€‚";m[k.ERROR.API.SAS.DEVICE]="ã“ã®ãƒ“ãƒ‡ã‚ªã¯ã€ã“ã®ãƒ‡ãƒã‚¤ã‚¹ã§ã®å†ç”Ÿã¯è¨±å¯ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚";m[k.ERROR.API.SAS.CONCURRENT_STREAMS]="æœ€å¤§åŒæ™‚æŽ¥ç¶šæ•°ã‚’è¶…ãˆã¦ã„ã¾ã™ã€‚";m[k.ERROR.API.SAS.INVALID_HEARTBEAT]="åŒæ™‚å†ç”Ÿã‚¹ãƒˆãƒªãƒ¼ãƒ ã®æœ€å¤§æ•°ã«é”ã—ã¾ã—ãŸã€‚";m[k.ERROR.API.CONTENT_TREE]="ä¸æ£ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã§ã™ã€‚";m[k.ERROR.API.METADATA]="ä¸æ£ãªãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã§ã™ã€‚";m[k.ERROR.PLAYBACK.GENERIC]="ã“ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å†ç”Ÿã§ãã¾ã›ã‚“ã§ã—ãŸã€‚";m[k.ERROR.PLAYBACK.STREAM]="ã“ã®ãƒ“ãƒ‡ã‚ªã¯ã€ãŠä½¿ã„ã®ãƒ‡ãƒã‚¤ã‚¹å‘ã‘ã«ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚";m[k.ERROR.PLAYBACK.LIVESTREAM]="ãƒ©ã‚¤ãƒ–é…ä¿¡ã¯ã•ã‚Œã¦ãŠã‚Šã¾ã›ã‚“ã€‚";m[k.ERROR.PLAYBACK.NETWORK]="ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ä¸€æ™‚çš„ã«æŽ¥ç¶šã§ãã¾ã›ã‚“ã€‚";m[k.ERROR.UNPLAYABLE_CONTENT]="ã“ã®ãƒ“ãƒ‡ã‚ªã¯ã€ã“ã®ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã§ã¯å†ç”Ÿã§ãã¾ã›ã‚“ã€‚";m[k.ERROR.INVALID_EXTERNAL_ID]="External IDãŒä¸æ£ã§ã™ã€‚";m[k.ERROR.EMPTY_CHANNEL]="ã“ã®ãƒãƒ£ãƒ³ãƒãƒ«ã¯ç©ºã§ã™ã€‚";m[k.ERROR.EMPTY_CHANNEL_SET]="ã“ã®ãƒãƒ£ãƒ³ãƒãƒ«ã‚»ãƒƒãƒˆã¯ç©ºã§ã™ã€‚";m[k.ERROR.CHANNEL_CONTENT]="ã“ã®ãƒãƒ£ãƒ³ãƒãƒ«ã¯ã€ç¾åœ¨å†ç”Ÿã§ãã¾ã›ã‚“ã€‚";m[k.ERROR.VC_PLAY_FAILED]="ã“ã®ãƒ“ãƒ‡ã‚ªã¯ã€ãŠä½¿ã„ã®ãƒ‡ãƒã‚¤ã‚¹å‘ã‘ã«ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚";m[k.TEXT.ADS_COUNTDOWN]="åºƒå‘Šï¼š";m[k.TEXT.ADS_COUNTDOWN_SECONDS]="åºƒå‘Š: <%= time %>æ•°ç§’å¾Œã«ãƒ“ãƒ‡ã‚ªã®å†ç”ŸãŒé–‹å§‹ã—ã¾ã™";m[k.TEXT.LIVE]="ãƒ©ã‚¤ãƒ–";k.getLocalizedMessage=function(o){var p=k.getLocale();return(k.MESSAGES[p]?k.MESSAGES[p][o]:undefined)||k.MESSAGES.EN[o]||""}}(a));(function(e){e.stylus_css={"root.styl":"#<%= elementId %>>div{width:0;height:0;position:relative;z-index:10000;overflow:hidden}#<%= elementId %> .innerWrapper{background:#000;text-align:left}#<%= elementId %> .innerWrapper:-webkit-full-screen{width:100%;height:100%}#<%= elementId %> .innerWrapper:-webkit-full-screen video{width:100%}#<%= elementId %> .innerWrapper.fullscreen{position:fixed;top:0;left:0;width:100%;height:100%;background:#fff}#<%= elementId %> .oo_playhead{-ms-touch-action:none}",__end_marker:1}}(a));a.publicApi.REV="625834961fc90bbc945276b4ad66b8890d57a2d9";(function(e){e.get_css=function(k){if(!e.stylus_css||!k){return null}return e.stylus_css[k+".styl"]
}}(a));(function(e,k,n){e.getRandomString=function(){return Math.random().toString(36).substring(7)};e.safeClone=function(p){if(k.isNumber(p)||k.isString(p)||k.isBoolean(p)||k.isFunction(p)||k.isNull(p)||k.isUndefined(p)){return p}var o=(p instanceof Array)?[]:{};try{n.extend(true,o,p)}catch(q){e.log("deep clone error",q)}return o};e.d=function(){if(e.isDebug){e.log.apply(e,arguments)}e.$("#OOYALA_DEBUG_CONSOLE").append(JSON.stringify(e.safeClone(arguments))+"<br>")};e.inherit=function(o,r){if(typeof(o)!=="function"){e.log("invalid inherit, ParentClass need to be a class",o);return null}var q=function(){o.apply(this,arguments);if(typeof(r)==="function"){r.apply(this,arguments)}};var p=new o();e._.extend(q.prototype,p);q.prototype.parentClass=p;return q};var m={};e.attachStyle=function(p,o){var q=n('<style type="text/css">'+p+"</style>").appendTo("head");m[o]=m[o]||[];m[o].push(q)};e.removeStyles=function(o){e._.each(m[o],function(p){p.remove()})};e.getInnerProperty=function(q,p){var o=q;var s=p;while(s.length>0){var r=s.shift();if(k.isNull(o)||!k.isObject(o)||k.isFunction(o)||k.isArray(o)){return null}o=o[r]}return o};e.formatSeconds=function(p){var r=parseInt(p,10)%60;var o=parseInt(p/3600,10);var q=parseInt((p-o*3600)/60,10);if(o<10){o="0"+o}if(q<10){q="0"+q}if(r<10){r="0"+r}return(parseInt(o,10)>0)?(o+":"+q+":"+r):(q+":"+r)};e.timeStringToSeconds=function(o){var p=(o||"").split(":");return k.reduce(p,function(q,r){return q*60+parseInt(r,10)},0)};e.leftPadding=function(q,o){var r="0";var p=q?q.toString():"";while(p.length<o){p=r+p}return p};e.getColorString=function(o){return"#"+(e.leftPadding(o.toString(16),6)).toUpperCase()};e.hexToRgb=function(s){var q=(s&16711680)>>16;var p=(s&65280)>>8;var o=(s&255);return[q,p,o]};e.changeColor=function(o,q,u){var r=u?Math.max:Math.min;var t=u?0:255;var s=Math.round(q*255)*(u?-1:1);var p=e.hexToRgb(o);return[e.leftPadding(r(p[0]+s,t).toString(16),2),e.leftPadding(r(p[1]+s,t).toString(16),2),e.leftPadding(r(p[2]+s,t).toString(16),2)].join("")};e.decode64=function(u){u=u.replace(/\n/g,"");var t="";var p,r=0;var o=[];var q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";if(window.atob){return atob(u)}do{for(p=0;p<4;p++){o[p]=q.indexOf(u.charAt(r++))}t+=String.fromCharCode((o[0]<<2)|(o[1]>>4),o[2]==64?0:((o[1]&15)<<4)|(o[2]>>2),o[3]==64?0:((o[2]&3)<<6)|o[3])}while(r<u.length);return t.replace(/\0/g,"")};e.pixelPing=function(p){var o=new Image();o.onerror=o.onabort=function(){e.d("onerror:",p)};o.src=e.getNormalizedTagUrl(p)};e.pixelPings=function(o){if(k.isEmpty(o)){return}k.each(o,function(p){e.pixelPing(p)},this)};e.stringToBoolean=function(o){if(typeof o==="string"){return(o.toLowerCase().indexOf("true")>-1||o.toLowerCase().indexOf("yes")>-1)}return !!o};e.regexEscape=function(p){var o=/[<>()\[\]{}]/g;return p.replace(o,"\\$&")};e.getNormalizedTagUrl=function(p,o){var q=new Date().getTime();var r=escape(document.URL);var s=function(u,t){k.each(u,function(w){var v=new RegExp("("+e.regexEscape(w)+")","gi");p=p.replace(v,t)},this)};s(e.TEMPLATES.RANDOM_PLACE_HOLDER,q);s(e.TEMPLATES.REFERAK_PLACE_HOLDER,r);if(o){s(e.TEMPLATES.EMBED_CODE_PLACE_HOLDER,o)}return p};e.safeSeekRange=function(o){return{start:o.length>0?o.start(0):0,end:o.length>0?o.end(0):0}};e.loadedJS=e.loadedJS||{};e.jsOnSuccessList=e.jsOnSuccessList||{};e.safeFuncCall=function(o){if(typeof o!=="function"){return}try{o.apply()}catch(p){e.log("Can not invoke function!",p)}};e.loadScriptOnce=function(r,p,q,o){e.jsOnSuccessList[r]=e.jsOnSuccessList[r]||[];if(e.loadedJS[r]){if(e.loadedJS[r]==="loaded"){e.safeFuncCall(p)}else{if(e.loadedJS[r]==="loading"){e.jsOnSuccessList[r].unshift(p)}}return false}e.loadedJS[r]="loading";n.ajax({url:r,type:"GET",cache:true,dataType:"script",timeout:o||15000,success:function(){e.loadedJS[r]="loaded";e.jsOnSuccessList[r].unshift(p);e._.each(e.jsOnSuccessList[r],function(s){e.safeFuncCall(s)},this);e.jsOnSuccessList[r]=[]},error:function(){e.safeFuncCall(q)}});return true};try{e.localStorage=window.localStorage
}catch(l){e.log(l)}if(!e.localStorage){e.localStorage={getItem:function(o){if(!o||!this.hasOwnProperty(o)){return null}return unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(o).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1"))},key:function(o){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[o])},setItem:function(o,p){if(!o){return}document.cookie=escape(o)+"="+escape(p)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/";this.length=document.cookie.match(/\=/g).length},length:0,removeItem:function(o){if(!o||!this.hasOwnProperty(o)){return}document.cookie=escape(o)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";this.length--},hasOwnProperty:function(o){return(new RegExp("(?:^|;\\s*)"+escape(o).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie)}};e.localStorage.length=(document.cookie.match(/\=/g)||e.localStorage).length}e.setItem=function(p,q){try{e.localStorage.setItem(p,q)}catch(o){e.log(o)}};e.JSON=window.JSON}(a,a._,a.$));(function(e,k){e.Emitter=function(l){this.mb=l;this._subscribers={}};k.extend(e.Emitter.prototype,{on:function(l,m,n){this._subscribers[l]=this._subscribers[l]||[];this._subscribers[l].push({callback:n,subscriber:m})},off:function(l,m,n){this._subscribers[l]=k.reject(this._subscribers[l]||[],function(o){return(o.callback==n||n===undefined)&&o.subscriber===m})},trigger:function(l){k.each(this._subscribers[l]||[],k.bind(this._triggerSubscriber,this,l,arguments));k.each(this._subscribers["*"]||[],k.bind(this._triggerSubscriber,this,l,arguments))},_triggerSubscriber:function(m,p,n){try{n.callback.apply(this,p)}catch(o){var l=o.stack||"unavailable";e.log("Uncaught exception",o,"Stack",l,"triggering subscriber",n,"with event",m,"Parameters: ",p)}},__placeholder:true})}(a,a._));(function(e,k){e.MessageBus=function(){this._emitter=new e.Emitter(this);this._dependentEmitter=new e.Emitter(this);this._interceptEmitter=new e.Emitter(this);this._interceptArgs={};this._dependentList={};this._blockList={};this._readyEventList={};this._dispatching=false;this._publishingQueue=[];this.blockedEvent={};this.blockedParams={};this._messageHistory=[];this._tracer=k.bind(this._internalTracer,this);this.MbId=e.getRandomString();this.debug=false};k.extend(e.MessageBus.prototype,{addTracer:function(l){if(l&&k.isFunction(l)){if(this._tracer){this._tracer=k.wrap(this._tracer,function(m){l.apply(this,k.rest(arguments))})}else{this._tracer=l}}},_internalTracer:function(){this._messageHistory.push(k.toArray(arguments))},messageTraceSnapshot:function(){return k.toArray(this._messageHistory)},addDependent:function(l,n,m,p){if(!l||l==""||!n||n==""){console.error("MB: addDependent called on message bus from subscriber "+m+" with no event name given.");return}if(this.debug){e.log("MB DEBUG: '"+l+"' depends on '"+n+"'. Added by '"+m+"'")}this._dependentList[l]=this._dependentList[l]||[];this._dependentList[l].push(n);this._blockList[n]=this._blockList[n]||[];this._blockList[n].push(l);this.blockedParams[l]=[];var o=e._.bind(function(t){if(this.blockedEvent[t]!=1){return}var r=e.safeClone(k.flatten(arguments));var s=e.safeClone(this.blockedParams[l]);r.shift();s.shift();var q=p&&p.apply(this,[l,n,s,r])||s;q=[t].concat(q);delete this.blockedEvent[t];this.blockedParams[t]=[];if(this.debug){e.log("MB DEBUG: unblocking '"+t+"' because of '"+n+"' with args ",q)}this._publish.apply(this,q)},this);this._dependentEmitter.on(l,m,o)},removeDependent:function(l,m){if(!l||l==""||!m||m==""){console.warn("MB: removeDependent called on message bus with no event name given.");return}if(this.debug){e.log("MB DEBUG: '"+l+"' no longer depends on '"+m+"'")}this._clearDependent(l,m)},publish:function(){if(!arguments||!arguments[0]||arguments[0]==""){console.error("MB: publish called on message bus with no event name given.");return}var l=e.safeClone(k.flatten(arguments));this._publishingQueue.push(l);if(this.debug){e.log("MB DEBUG: queueing '"+arguments[0]+"' w/ args",l)
}if(!this._dispatching){this._dispatching=true;var m=this._publishingQueue.shift();while(m){this._publish.apply(this,m);m=this._publishingQueue.shift()}this._dispatching=false}},_publish:function(l){this._readyEventList[l]=1;var m=e.safeClone(k.flatten(arguments));this._interceptEmitter.trigger.apply(this._interceptEmitter,m);if(this._interceptArgs[l]===false){this._interceptArgs[l]=true;return}if(this._interceptArgs[l]){m=k.flatten([l,this._interceptArgs[l]])}if(this._tracer&&k.isFunction(this._tracer)){var n=k.flatten(["publish"].concat(m));this._tracer.apply(this._tracer,n)}if(this._noDependency(l)){if(this.debug){e.log("MB DEBUG: publishing '"+l+"' w/ args ",m)}this._emitter.trigger.apply(this._emitter,m);k.each(this._blockList[l],function(o){this._clearDependent(o,l);m[0]=o;this._dependentEmitter.trigger.apply(this._dependentEmitter,m)},this);delete this._blockList[l]}else{if(this.debug){e.log("MB DEBUG: blocking '"+l+"' because of '"+this._dependentList?this._dependentList[l]:"[null]'")}this.blockedEvent[l]=1;this.blockedParams[l]=m}},intercept:function(l,m,n){this._interceptEmitter.on(l,m,k.bind(function(p){if(!l||l==""){console.error("MB: intercept called on message bus from subscriber "+m+" with no event name given.");return}var o=e.safeClone(k.flatten(arguments));if(this._interceptArgs[l]!=false){this._interceptArgs[l]=n.apply(this,o)}},this));this._interceptArgs[l]=[l]},subscribe:function(l,m,n){if(!l||l==""){console.error("MB: subscribe called on message bus from subscriber "+m+" with no event name given.");return}this._emitter.on(l,m,n)},unsubscribe:function(l,m,n){if(!l||l==""){console.error("MB: unsubscribe called on message bus from subscriber "+m+" with no event name given.");return}this._emitter.off(l,m,n)},_noDependency:function(l){if(!this._dependentList[l]){return true}return(this._dependentList[l].length===0)},_clearDependent:function(m,n){var l=this._dependentList[m];this._dependentList[m]=e._.filter(l,function(o){return o!==n},this)},startDebug:function(){this.debug=true;return"MB DEBUGGING STARTED"},stopDebug:function(){this.debug=false;return"MB DEBUGGING STOPPED"},listDependencies:function(){var m="------------------------------------\n[blocked] Message --> Dependency\n------------------------------------\n";var n;if(this._dependentList){for(var l in this._dependentList){if(this._dependentList[l]){for(n=0;n<this._dependentList[l].length;n++){if(this.blockedEvent[l]==1){m+="[blocked]"}m+=l+" --> "+this._dependentList[l]+"\n"}}}}m+="------------------------------------";return m}})}(a,a._));(function(e,k){e.StateMachine={create:function(t){var r=e.HM.safeObject("statemachine.create.cfg",t);var s=e.HM.safeDomId("statemachine.create.cfg.initial",r.initial);var q=e.HM.safeObject("statemachine.create.cfg.target",r.target,{});var y=e.HM.safeArrayOfElements("statemachine.create.cfg.events",r.events,function(n){return e.HM.safeObject("statemachine.create.cfg.events[]",n)},[]);var o=e.HM.safeString("statemachine.create.cfg.moduleName",r.moduleName,"");var u=e.HM.safeObject("statemachine.create.cfg.messageBus",r.messageBus);var m={};var p;q.debugTransitions=false;var l="";e.StateMachine.addToActiveList(r.moduleName,q);var v=function(A){var D=null;var C=A.replace(/[^\/]*\//,"").match(/^(.)(.*)/);var B="on"+C[1].toUpperCase()+C[2];if(q[B]){D=q[B]}else{var F=A.replace(/\/.*/,"").match(/^(.)(.*)/);var z="on"+F[1].toUpperCase()+F[2]+C[1].toUpperCase()+C[2];if(q[z]){D=q[z]}}if(D){try{var n=D.apply(q,arguments);return(n!==false?"ok":"fail")}catch(E){e.log(E);if(e.TEST_TEST_TEST){throw E}return"fail"}}return"not_found"};var x=function(z){var B=(z.from instanceof Array)?z.from:(z.from?[z.from]:["*"]);var A;m[z.name]=m[z.name]||{};for(A=0;A<B.length;A++){m[z.name][B[A]]=z.to||B[A]}};q.removeEvent=function(n){if(m[n]){m[n]=null}};q.destroyFsm=function(){e.StateMachine.removeFromActiveList(this.moduleName,this);for(p in m){u.unsubscribe(p.toString(),o,q.receive)}r=null;s=null;q=null;y=null;o=null;u=null;m={}};var w=function(z,n){if(!z||n==="*"){return
}if(z.debugTransitions){e.log("Transition "+(o?o:"")+"\n  OldState: "+(z.currentState?z.currentState:"")+"\n  NewState: "+(n?n:"")+"\n  CausedBy: "+(l?l:""))}z.currentState=n};q.canReceive=function(n){return m[n]&&(m[n].hasOwnProperty(q.currentState)||m[n].hasOwnProperty("*"))};q.receive=function(A){if(!q){return}if(!q.canReceive(A)){e.log("dropped event '"+arguments[0]+"' for '"+o+"' while in state '"+q.currentState+"' with map:",m);return}l=arguments[0];var D=q.currentState;var C=m[A][D]||m[A]["*"]||D;var B;if(D===C){v.apply(q,arguments);return}w(q,C);var z="not_found";if(C!=="*"){z=v.apply(q,k.union([C],k.rest(arguments)))}if(z==="not_found"){z=v.apply(q,arguments)}switch(z){case"not_found":e.log("Module '"+o+"' does not handle state '"+C+"' or event '"+arguments[0]+"'");w(q,D);break;case"fail":w(q,D);break;case"ok":break}};for(p=0;p<y.length;p++){if(typeof(y[p])=="object"){x(y[p])}}w(q,s);if(u!==undefined){for(p in m){u.subscribe(p.toString(),o,q.receive)}}return q},activeStateMachines:{},addToActiveList:function(l,m){if(!this.activeStateMachines[l]){this.activeStateMachines[l]=[]}this.activeStateMachines[l].push(m)},removeFromActiveList:function(l,o){var n=this.activeStateMachines[l];if(!n){return}for(var m=0;m<n.length;m++){if(n[m]===o){n.splice(m,1);break}}},startDebugTransitionsFor:function(m){var l=this.debugTransitionsHelper(m,true);var n;if(l){n="STATEMACHINE '"+m+"' DEBUGGING STARTED"}else{n="Couldn't find '"+m+"'"}return n},stopDebugTransitionsFor:function(m){var l=this.debugTransitionsHelper(m,false);var n;if(l){n="STATEMACHINE '"+m+"' DEBUGGING STOPPED"}else{n="Couldn't find '"+m+"'"}return n},debugTransitionsHelper:function(l,m){var n=this.activeStateMachines[l];if(!n){return false}for(var o in n){n[o].debugTransitions=m}return true},getActiveList:function(){var m={};for(var l in this.activeStateMachines){m[l]=this.activeStateMachines[l].length}return m},__end_marker:true}}(a,a._));(function(e,k,l){e.players={};e.modules=[];e.registerModule=function(m,p){var n=e.HM.safeDomId("moduleName",m,e.HM.fixDomId),o=e.HM.safeFunction("moduleFactoryMethod",p);e.modules.push({name:n,factory:o})};e.plugin=function(m,n){e.log("Registered optional plugin: ",m);e.registerModule(m,function(o,r){var q=n.apply({},[e,e._,e.$,window]);var p=new q(o,r);return p})};e.exposeStaticApi=function(p,o){var n=e.HM.safeDomId("apiModule",p),m=e.HM.safeObject("apiObject",o);e.publicApi[n]=e.publicApi[n]||{};e._.extend(e.publicApi[n],m)};e.Player=function(x,p,r){r=r||{};var B=e.HM.safeDomId("Player.create.elementId",x),z=e.HM.safeObject("Player.create.parameters",r,{});z.onCreate=e.HM.safeFunctionOrNull("Player.create.parameters.onCreate",z.onCreate);this.parameters=z;this.mb=new e.MessageBus();var s=false;var u=false;var t=false;var m=this.mb;var v=e.STATE.LOADING;var y=-1;var n=-1;var A=-1;var w=-1;var K=null;var F=-1;var L=0;var C={};var q={};var o=false;var G=null;var J=1;var E=null;var M=false;var I=false;var H=false;var D=p;l("#"+B).html("");this.modules=e._.map(e.modules,function(N){var P=N.name+"-"+e.getRandomString();var O={name:N.name,moduleId:P,instance:N.factory(m,P,z)};e.log("Loaded plugin",O.moduleId,O);return O});this.mb.subscribe(e.EVENTS.PLAYBACK_READY,"player",k.bind(function(){v=e.STATE.READY;s=true;if(I){this.play()}},this));this.mb.subscribe(e.EVENTS.PLAYING,"player",k.bind(function(){if(v!=e.STATE.ERROR){v=e.STATE.PLAYING;M=true;t=true}H=false},this));this.mb.subscribe(e.EVENTS.PAUSED,"player",k.bind(function(){if(v!=e.STATE.ERROR){v=e.STATE.PAUSED}t=false},this));this.mb.subscribe(e.EVENTS.BUFFERING,"player",k.bind(function(){if(v!=e.STATE.ERROR){v=e.STATE.BUFFERING}},this));this.mb.subscribe(e.EVENTS.BUFFERED,"player",k.bind(function(){if(v===e.STATE.BUFFERING){v=(t)?e.STATE.PLAYING:e.STATE.PAUSED}},this));this.mb.subscribe(e.EVENTS.PLAYED,"player",k.bind(function(){v=e.STATE.READY;H=true},this));this.mb.subscribe(e.EVENTS.WILL_PLAY_ADS,"player",k.bind(function(O,N){A=N;M=true;u=true;H=false},this));this.mb.subscribe(e.EVENTS.ADS_PLAYED,"player",k.bind(function(){A=-1;
u=false},this));this.mb.subscribe(e.EVENTS.CONTENT_TREE_FETCHED,"player",k.bind(function(O,N){K=N;if(!N){return}n=N.duration},this));this.mb.subscribe(e.EVENTS.WILL_FETCH_AUTHORIZATION,"player",k.bind(function(N){F=new Date().getTime()},this));this.mb.subscribe(e.EVENTS.AUTHORIZATION_FETCHED,"player",k.bind(function(P,N){if(!N.debug_data||!N.debug_data.user_info){return}var O=new Date().getTime();var Q=(O-F-N.debug_data.server_latency)/2;L=(N.debug_data.user_info.request_timestamp*1000)+Q-O},this));this.mb.subscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,"player",k.bind(function(P,Q,O,N){y=Q;n=O;w=N;if(!this.startTime){this.startTime=new Date().getTime()}},this));this.mb.subscribe(e.EVENTS.DOWNLOADING,"player",k.bind(function(P,Q,O,N){y=Q;n=O;w=N},this));this.mb.subscribe(e.EVENTS.FULLSCREEN_CHANGED,"player",k.bind(function(N,O){o=O},this));this.mb.subscribe(e.EVENTS.ERROR,"player",k.bind(function(O,N){G=N;v=e.STATE.ERROR},this));this.mb.subscribe(e.EVENTS.VOLUME_CHANGED,"player",k.bind(function(N,O){J=O},this));this.mb.subscribe(e.EVENTS.SET_EMBED_CODE,"player",k.bind(function(P,N,O){G=null;y=-1;n=-1;w=-1;K=null;s=false;v=e.STATE.LOADING;this.parameters=k.extend(this.parameters,O);if(this.parameters.locale!==undefined){e.setLocale(this.parameters.locale)}},this));this.mb.subscribe(e.EVENTS.SET_ASSET,"player",k.bind(function(P,O,N){G=null;y=-1;n=-1;w=-1;K=null;s=false;v=e.STATE.LOADING;this.parameters=k.extend(this.parameters,N);if(this.parameters.locale!==undefined){e.setLocale(this.parameters.locale)}},this));this.mb.subscribe(e.EVENTS.ASSET_CHANGED,"player",k.bind(function(O,N){K=N.content;n=K.duration},this));this.mb.subscribe(e.EVENTS.DESTROY,"player",k.bind(function(O,N){l("#"+B).empty();delete e.players[B];e.removeStyles(B);v=e.STATE.DESTROYED;if(this.destroyCallback){this.destroyCallback();this.destroyCallback=null}},this));this.mb.subscribe(e.EVENTS.BITRATE_INFO_AVAILABLE,"player",k.bind(function(N,O){q=O.bitrates},this));this.mb.subscribe(e.EVENTS.BITRATE_CHANGED,"player",k.bind(function(N,O){E=O},this));this.mb.subscribe(e.EVENTS.CLOSED_CAPTIONS_INFO_AVAILABLE,"player",k.bind(function(N,O){C=O},this));this.setEmbedCode=function(N,O){M=false;this.mb.publish(e.EVENTS.SET_EMBED_CODE,N,O||{})};this.setAsset=function(O,N){this._playedOnce=false;this.mb.publish(e.EVENTS.SET_ASSET,O,N||{})};this.play=function(){if(v==e.STATE.ERROR){return}else{if(!s){I=true;return}}this.mb.publish(H?e.EVENTS.REPLAY:(M?e.EVENTS.PLAY:e.EVENTS.INITIAL_PLAY));M=true;I=false;H=false};this.pause=function(){this.mb.publish(e.EVENTS.PAUSE)};this.seek=function(N){if(H){this.mb.publish(e.EVENTS.REPLAY,N)}else{this.mb.publish(e.EVENTS.SEEK,N)}};this.setVolume=function(N){this.mb.publish(e.EVENTS.CHANGE_VOLUME,N)};this.destroy=function(N){if(N&&typeof N==="function"){this.destroyCallback=N}this.mb.publish(e.EVENTS.DESTROY)};this.updateAsset=function(N){this.mb.publish(e.EVENTS.UPDATE_ASSET,N)};this.getPlayheadTime=function(){return y};this.getLiveTime=function(){return new Date(this.startTime+(y*1000)+L)};this.getDuration=function(){return n};this.getAdDuration=function(){return A};this.getBufferLength=function(){return w};this.getItem=function(){return K};this.getDescription=function(){if(!K){return null}return K.description};this.getEmbedCode=function(){if(!K){return null}return K.embedCode||K.embed_code||""};this.getTitle=function(){if(!K){return null}return K.title};this.isFullscreen=function(){return o};this.getErrorCode=function(){return G!=null?G.code:null};this.getState=function(){return v};this.getVolume=function(){return J};this.skipAd=function(){this.mb.publish(e.EVENTS.SKIP_AD)};this.getBitratesAvailable=function(){return q};this.getCurrentBitrate=function(){return E};this.setTargetBitrate=function(N){this.mb.publish(e.EVENTS.SET_TARGET_BITRATE,N)};this.getCurrentItemClosedCaptionsLanguages=function(){return C};this.setClosedCaptionsLanguage=function(N){this.mb.publish(e.EVENTS.SET_CLOSED_CAPTIONS_LANGUAGE,N)};this.subscribe=function(N,O,P){this.mb.subscribe(N,O,function(){var Q=k.toArray(arguments);
Q.unshift(P);k.defer.apply(this,Q)})};this.getVersion=function(){return e.VERSION.version};this.getElementId=function(){return B};this.isPlaying=function(){return t};this.isAdPlaying=function(){return u};if(k.isFunction(this.parameters.onCreate)){this.parameters.onCreate(this)}this.mb.publish(e.EVENTS.PLAYER_CREATED,B,this.parameters);if(typeof D==="object"){D=e.HM.safeObject("assetObject",D);this.setAsset(D,this.parameters)}else{if(typeof D==="string"){D=e.HM.safeStringOrNull("assetString",D);this.setEmbedCode(D,this.parameters)}}};e.exposeStaticApi("Player",{create:function(m,n,o){o=o||{};if(!e.playerParams.core_version||(e.playerParams.core_version!=="4"&&e.playerParams.core_version!==4)){console.error("Error: A v4 player has been specified using a mismatch route. v4 players can only be used with a v4 route.");return null}e.configurePublisher(o);if(!e.isPublisherConfigured()){console.error("Error: pcode and playerBrandingId must be provided");return null}e.setServerHost(o);if(!e.players[m]){e.playerCount++;e.players[m]=new e.Player(m,n,o)}if(e.DEBUG!==false&&e.DEBUG!==true){e.DEBUG=(o.debug===true);if(e.DEBUG===true){this.exposeDebugApi(m,e.players[m])}}return e.players[m]},flashDebugCallback:function(m){window.postMessage({type:"OO_LOG",text:m},"*")},isolate:function(q){var n="http://debug.ooyala.com/?";var t=e.playerParams.playerBrandingId;var s=null;if(t){n+="pbid="+t+"&"}var o;if(q){o=e.players[q]}else{if(e.playerCount>1){console.log("More than one player to choose.  Please specify the target div of the intended player as a parameter");console.log("Available players are: ",k.keys(e.players));return k.keys(e.players)}else{if(e.playerCount<1){console.log("There are no players on the page to isolate");return""}else{o=k.values(e.players)[0]}}}var u=JSON.stringify(o.parameters);var m=o.embedCode;if(u){n+="options="+encodeURIComponent(u)+"&"}if(m){n+="ec="+m+"&"}if(e.playerParams.environment!=="local-dev"&&e.playerParams.v3_version_source!=="default"){n+="version="+e.playerParams.v3_version+"&"}var r=e.environmentRequiredFeatures;if(r.indexOf("html5-playback")>-1){n+="useHtml5=true&"}console.log("If you are copying this link, do not highlight. right click and press 'copy link address'");return n},exposeDebugApi:function(n,m){if(!e.publicApi){return}if(!e.publicApi.DEBUG){e.publicApi.DEBUG={}}e.publicApi.DEBUG.consoleOutput=e.consoleOutput;e.publicApi.DEBUG.startRecordingConsoleOutput=e.startRecordingConsoleOutput;e.publicApi.DEBUG.stopRecordingConsoleOutput=e.stopRecordingConsoleOutput;e.publicApi.DEBUG.clearRecordedConsoleOutput=e.clearRecordedConsoleOutput;e.publicApi.DEBUG.setMaxConsoleOutputLines=e.setMaxConsoleOutputLines;e.publicApi.DEBUG.listStateMachines=e._.bind(e.StateMachine.getActiveList,e.StateMachine);e.publicApi.DEBUG.startDebugStateMachine=e._.bind(e.StateMachine.startDebugTransitionsFor,e.StateMachine);e.publicApi.DEBUG.stopDebugStateMachine=e._.bind(e.StateMachine.stopDebugTransitionsFor,e.StateMachine);e.publicApi.DEBUG[n]=e.publicApi.DEBUG[n]||{};e.publicApi.DEBUG[n].startDebugMB=e._.bind(m.mb.startDebug,m.mb);e.publicApi.DEBUG[n].stopDebugMB=e._.bind(m.mb.stopDebug,m.mb);e.publicApi.DEBUG[n].listMBDependencies=e._.bind(m.mb.listDependencies,m.mb);l.extend(e.publicApi.DEBUG[n],e.debug_tools[n])},__placeholder:0})}(a,a._,a.$));(function(m,y,n){var l=y.template("<%=server%>/ooyala_storage.html")({server:m.SERVER.API});var k=m.SERVER.API;var r="LOADED";var e=3000;var v=0;var u=1;var s=2;var q=v;var o=[];var z={};var t=null;var p=document.createElement("iframe");p.style.display="none";p.src=l;n(document).ready(function(){document.body.appendChild(p);t=setTimeout(function(){x(u)},e)});if(window.addEventListener){window.addEventListener("message",w,false)}else{if(window.attachEvent){window.attachEvent("onmessage",w)}}function w(B){if(B.origin!==k){return}if(B.data===r){clearTimeout(t);x(s);return}var D=null;try{D=m.JSON.parse(B.data)}catch(C){}if(!D||!D.callback){return}if(z[D.callback]){z[D.callback](D.result);delete z[D.callback]
}}function x(C){var B;q=C;while((B=o.pop())!=undefined){A(B[0],B[1],B[2])}}function A(F,C,E){if(q===v){o.push(arguments);return}if(q===u||!p.contentWindow.postMessage){var B;if(F=="setItem"){B=m[F].apply(m.localStorage,C)}else{B=m.localStorage[F].apply(m.localStorage,C)}if(!!E){E(B)}}else{var D={method:F,arguments:C,callback:Math.random().toString(36).substring(7)};z[D.callback]=E;p.contentWindow.postMessage(JSON.stringify(D),k)}}m.ooyalaStorage={getItem:function(B,C){A("getItem",[B],C)},key:function(C,B){A("key",[C],B)},setItem:function(B,C,D){A("setItem",[B,C],D)},removeItem:function(B,C){A("removeItem",[B],C)},hasOwnProperty:function(B,C){A("hasOwnProperty",[B],C)}};if(!!m.TEST_TEST_TEST){m.ooyalaStorage._getIframeState=function(){return q}}}(a,a._,a.$));(function(e,k,l){callbackQueue=[];e.GUID=undefined;e.ooyalaStorage.getItem("ooyala_guid",k.bind(function(m){if(m){e.GUID=m}else{e.GUID=generateDeviceId();e.ooyalaStorage.setItem("ooyala_guid",e.GUID)}while((callback=callbackQueue.pop())!=undefined){callback(e.GUID)}}),this);e.publicApi.getGuid=e.getGuid=function(n){if(e.GUID){if(typeof n==="function"){try{n(e.GUID)}catch(m){}}}else{callbackQueue.push(n)}};generateDeviceId=function(){var m=(new Date().getTime())+window.navigator.userAgent+Math.random().toString(16).split(".")[1];return new e.jsSHA(m,"ASCII").getHash("SHA-256","B64")};e.plugin("DeviceId",function(n,o,p,m){return function(q,r){q.subscribe(n.EVENTS.PLAYER_CREATED,"DeviceId",function(){n.publicApi.getGuid(function(s){q.publish(n.EVENTS.GUID_SET,s)})})}})}(a,a._,a.$));(function(e,m,k){var l=function(n,o){this.id=o;this.mb=n;this.width=0;this.height=0;this.useCustomControls=!e.uiParadigm.match(/mobile/);this.useNativeControls=!!e.uiParadigm.match(/native/);this.originalZ=null;this.originalOverflow=null;this.playbackReady=false;e.StateMachine.create({initial:"Init",messageBus:this.mb,moduleName:"ChromelessUi",target:this,events:[{name:e.EVENTS.PLAYER_CREATED,from:"Init",to:"PlayerCreated"},{name:e.EVENTS.EMBED_CODE_CHANGED,from:"*",to:"WaitingPlaybackReady"},{name:e.EVENTS.ASSET_CHANGED,from:"*",to:"WaitingPlaybackReady"},{name:e.EVENTS.PLAYBACK_READY,from:"WaitingPlaybackReady",to:"Ready"},{name:e.EVENTS.INITIAL_PLAY,from:"*"},{name:e.EVENTS.WILL_PLAY,from:["Ready","Paused"],to:"StartingToPlay"},{name:e.EVENTS.PLAYING,from:["StartingToPlay","Paused"],to:"Playing"},{name:e.EVENTS.ERROR,from:"*"},{name:e.EVENTS.PLAY,from:"*"},{name:e.EVENTS.WILL_CHANGE_FULLSCREEN,from:"*"},{name:e.EVENTS.FULLSCREEN_CHANGED,from:"*"},{name:e.EVENTS.VC_PLAYING,from:"*"},{name:e.EVENTS.INITIAL_PLAY,from:"*"},{name:e.EVENTS.REPLAY,from:"*"},{name:e.EVENTS.WILL_PLAY_ADS,from:"*"},{name:e.EVENTS.PLAY_MIDROLL_STREAM,from:"*"},{name:e.EVENTS.PLAYING,from:"*"}]})};k.extend(l.prototype,{onInitialPlay:function(){if(!this.playbackReady){return}},onPlayerCreated:function(q,p,s){this.elementId=p;this.topMostElement=m("#"+this.elementId);this.topMostElement.append('<div class="innerWrapper"></div>');this.rootElement=this.topMostElement.find("div.innerWrapper");this.params=s;this.rootElement.append("<div class='plugins' style='position: absolute; width: 100%; height: 100%;'></div>");var r=["fullscreenchange","webkitfullscreenchange"];var o=k.bind(this._onBrowserOriginatedFullscreenChange,this);var n=this.rootElement;k.each(r,function(t){n.on(t,o)});m(document).on("mozfullscreenchange",o);document.onwebkitfullscreenchange=o;m(document).on("MSFullscreenChange",o);m(window).resize(k.bind(this._onResize,this));n.on("mresize",k.bind(this._onResize,this));m(window).on("beforeunload",k.bind(this._onBeforeUnload,this));this.mb.publish(e.EVENTS.PLAYER_EMBEDDED,{videoWrapperClass:"innerWrapper",pluginsClass:"plugins"})},onEmbedCodeChanged:function(){this._assetChanged()},onAssetChanged:function(){this._assetChanged()},_assetChanged:function(){this.playbackReady=false},onPlaybackReady:function(o,n){this.playbackReady=true},_isFullscreen:function(){if(this.rootElement.hasClass("fullscreen")){return true}var n=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.webkitDisplayingFullscreen||document.msFullscreenElement;
return !!n},_onBrowserOriginatedFullscreenChange:function(){e.d("Fullscreen Changed",this._isFullscreen());this.mb.publish(e.EVENTS.SIZE_CHANGED,this.rootElement.innerWidth(),this.rootElement.innerHeight());this.mb.publish(e.EVENTS.FULLSCREEN_CHANGED,this._isFullscreen())},onFullscreenChanged:function(o,n){if(n&&!this.originalZ&&!this.originalOverflow){this.originalZ=this.rootElement.css("z-index");this.originalOverflow=this.rootElement.css("overflow");this.rootElement.css("z-index",this.originalZ+1000);this.rootElement.css("overflow","visible")}else{if(!n){this.rootElement.css("z-index","");this.rootElement.css("overflow",this.originalOverflow);this.originalZ=null;this.originalOverflow=null}}},_onResize:function(){if(this.width!=this.rootElement.innerWidth()||this.height!=this.rootElement.innerHeight()){this.width=this.rootElement.innerWidth();this.height=this.rootElement.innerHeight();this.mb.publish(e.EVENTS.SIZE_CHANGED,this.width,this.height)}},onPlay:function(){if(!this.useCustomControls&&!this.useNativeControls){this.mb.publish(e.EVENTS.WILL_CHANGE_FULLSCREEN,true)}},onWillChangeFullscreen:function(o,n){if(!this.useNativeControls&&!this.useCustomControls){return}if(n){this._showFullscreen()}else{this._hideFullscreen()}},_getActiveVideo:function(){var n=this.rootElement.find("video.video");var o=n.get(0);var p=this.rootElement.find("div.plugins video").get(0);if(p&&!this._isVideoDomVisible("video.video")){o=p}return o},_showFullscreen:function(){var o=this.rootElement[0];var n=this._getActiveVideo();var p=o.requestFullScreen||o.requestFullscreen||o.mozRequestFullScreen||o.webkitRequestFullScreen||o.msRequestFullscreen;if((!p||(e.isAndroid&&!e.isChrome))&&n&&n.webkitEnterFullscreen){n.isFullScreenMode=true;n.webkitEnterFullscreen()}else{if(p){m(n).css("background-color","black");p.call(o)}else{this.rootElement.addClass("fullscreen")}}this.mb.publish(e.EVENTS.FULLSCREEN_CHANGED,true)},_hideFullscreen:function(){var n=this._getActiveVideo();if(document.cancelFullScreen){document.cancelFullScreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.webkitCancelFullScreen){document.webkitCancelFullScreen()}else{if(n&&n.webkitExitFullscreen){n.isFullScreenMode=false;n.webkitExitFullscreen()}else{if(document.msExitFullscreen){document.msExitFullscreen()}else{this.rootElement.removeClass("fullscreen")}}}}}m(n).css("background-color","");this.mb.publish(e.EVENTS.FULLSCREEN_CHANGED,false)},_isVideoDomVisible:function(n){return(this.rootElement.find(n).css("display")==e.CSS.VISIBLE_DISPLAY)},_onBeforeUnload:function(n){this.mb.publish(e.EVENTS.PAGE_UNLOAD_REQUESTED,true)},__placeholder:true});e.registerModule("chromeless_ui",function(n,o){return new l(n,o)})}(a,a.$,a._));(function(e,k,l){var m=function(n,o){this.toString=function(){return"asset-controller"};this.mb=n;this.id=o;this.currentAssetId="";this.mb.subscribe(e.EVENTS.SET_ASSET,"asset",k.bind(this.setAsset,this));this.mb.subscribe(e.EVENTS.UPDATE_ASSET,"asset",k.bind(this.updateAsset,this))};k.extend(m.prototype,{setAsset:function(o,n,p){if(this.validate(n)){this.currentAssetId=n.id;this.mb.publish(e.EVENTS.ASSET_CHANGED,n,p)}else{this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.CONTENT_TREE})}},updateAsset:function(o,n,p){if(this.validateUpdate(n)){this.mb.publish(e.EVENTS.ASSET_UPDATED,n)}},validate:function(n){this.validateRelatedVideos(n);return n&&n.id&&n.content&&n.content.streams&&n.content.streams.length>0&&n.content.title&&n.content.description&&n.content.duration&&n.content.posterImages&&n.content.posterImages.length>0&&n.content.captions},validateUpdate:function(n){this.validateRelatedVideos(n);return n&&n.id&&(n.id==this.currentAssetId)&&((n.relatedVideos&&n.relatedVideos.length>0)||(n.content&&(n.content.title||n.content.description||n.content.duration||n.content.captions||(n.content.posterImages&&n.content.posterImages.length>0))))},validateRelatedVideos:function(p){if(p.relatedVideos&&p.relatedVideos.length>0){var o=[];for(var n=0;
n<p.relatedVideos.length;n++){if(this.validate(p.relatedVideos[n].asset)&&p.relatedVideos[n].name&&p.relatedVideos[n].preview_image_url){o.push(p.relatedVideos[n])}}p.relatedVideos=o}}});e.registerModule("assetController",function(n,o){return new m(n,o)})}(a,a._,a.$));(function(e,k,m){var l=function(n,o){this.toString=function(){return"playback-controller"};this.mb=n;this.id=o;this.playbackElements={};this.currentPlaybackElement=null;this.willPlayFromBeginning=true;this.metadataHasFetched=false;this.isFirstStream=true;this.playedAtLeastOnce=false;this.endScreenShown=false;this.playerParams=null;this.shouldPreload=true;this.initialTime=0;this.closedCaptions=null;this.mb.subscribe(e.EVENTS.PLAYER_CREATED,"playback",k.bind(this.playerCreated,this));this.mb.subscribe(e.EVENTS.EMBED_CODE_CHANGED,"playback",k.bind(this.embedCodeChanged,this));this.mb.subscribe(e.EVENTS.SET_ASSET,"playback",k.bind(this.setAsset,this));this.mb.subscribe(e.EVENTS.CONTENT_TREE_FETCHED,"playback",k.bind(this.contentTreeFetched,this));this.mb.subscribe(e.EVENTS.METADATA_FETCHED,"playback",k.bind(this.metadataFetched,this));this.mb.subscribe(e.EVENTS.AUTHORIZATION_FETCHED,"playback",k.bind(this.authorizationFetched,this));this.mb.subscribe(e.EVENTS.INITIAL_PLAY,"playback",k.bind(this.initialPlay,this));this.mb.subscribe(e.EVENTS.WILL_PLAY_FROM_BEGINNING,"playback",k.bind(this.onWillPlayFromBeginning,this));this.mb.subscribe(e.EVENTS.PLAYED,"playback",k.bind(this.played,this));this.mb.subscribe(e.EVENTS.ASSET_CHANGED,"playback",k.bind(this.assetChanged,this));this.mb.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"playback",k.bind(this.vcVideoElementCreated,this));this.mb.subscribe(e.EVENTS.VC_PLAYED,"playback",k.bind(this.vcPlayed,this));this.mb.subscribe(e.EVENTS.VC_PLAYING,"playback",k.bind(this.vcPlaying,this));this.mb.subscribe(e.EVENTS.VC_CAN_PLAY,"playback",k.bind(this.vcCanPlay,this));this.mb.subscribe(e.EVENTS.VC_PAUSED,"playback",k.bind(this.vcPaused,this));this.mb.subscribe(e.EVENTS.VC_SEEKED,"playback",k.bind(this.vcSeeked,this));this.mb.subscribe(e.EVENTS.VC_PLAY_FAILED,"playback",k.bind(this.vcPlayFailed,this));this.mb.subscribe(e.EVENTS.VC_ERROR,"playback",k.bind(this.vcError,this));this.mb.subscribe(e.EVENTS.VC_WILL_PLAY,"playback",k.bind(this.vcWillPlay,this));this.mb.subscribe(e.EVENTS.REPLAY,"playback",k.bind(this.replay,this));this.mb.subscribe(e.EVENTS.PLAYBACK_READY,"playback",k.bind(this.playbackReady,this));this.mb.subscribe(e.EVENTS.WILL_RESUME_MAIN_VIDEO,"playback",k.bind(this.willResume,this))};k.extend(l.prototype,{getStreams:function(p){if(!p){return null}if(k.isEmpty(p.streams)){return null}var r={};for(var q in p.streams){var o=p.streams[q].delivery_type;if(!p.streams[q].url||!o){continue}var n=p.streams[q].drm||{};if(!k.isEmpty(n)&&o!="remote_asset"){o=o.concat("_drm")}r[o]={url:e.decode64(p.streams[q].url.data)};if(!k.isEmpty(n)){r[o].drm=n}}if(r.remote_asset){r[e.VIDEO.ENCODING.UNKNOWN]=r.remote_asset;delete r.remote_asset}return r},getAssets:function(n){if(!n){return null}if(k.isEmpty(n.content.streams)){return null}var p={};for(var o in n.content.streams){if(!n.content.streams[o].url||!n.content.streams[o].delivery_type){continue}p[n.content.streams[o].delivery_type]={url:n.content.streams[o].url}}return p},assetChanged:function(o,n){this.streams=this.getAssets(n);this.closedCaptions={closed_captions:n.content.captions.closed_captions,closed_captions_vtt:n.content.captions.closed_captions_vtt};this.dataReady()},checkDataReady:function(){if(this.contentTree!=null&&this.metadataHasFetched&&this.authorization!=null){this.dataReady()}},dataReady:function(){var n=e.VIDEO.MAIN;this.playbackElements[n]={streams:this.streams};this.currentPlaybackElement=n;this.publishClosedCaptionInfo(this.closedCaptions);var o={closedCaptions:this.playbackElements[n].closedCaptions};this.mb.publish(e.EVENTS.VC_CREATE_VIDEO_ELEMENT,n,this.streams,null,o)},resetStreamData:function(){this.contentTree=null;this.metadataHasFetched=false;this.authorization=null;
this.streams=null;this.currentEmbedCode=null;this.endScreenShown=false;if(!this.isFirstStream){this.initialTime=0}this.isFirstStream=false;this.playedAtLeastOnce=false},preloadStream:function(){if(this.shouldPreload){this.mb.publish(e.EVENTS.VC_PRELOAD,this.currentPlaybackElement)}},triggerAutoplay:function(){var n=!this.playerParams?false:(this.playerParams.autoPlay==="true"||this.playerParams.autoPlay===true||this.playerParams.autoplay==="true"||this.playerParams.autoplay===true);if(this.playedAtLeastOnce==false&&n&&e.allowAutoPlay){this.mb.publish(e.EVENTS.INITIAL_PLAY)}},triggerLoopPlay:function(){var n=!this.playerParams?false:(this.playerParams.loop==="true"||this.playerParams.loop===true);if(n){this.mb.publish(e.EVENTS.REPLAY)}},playerCreated:function(o,n,q){this.playerParams=q;if(typeof this.playerParams==="object"){if(this.playerParams.locale!==undefined){e.setLocale(this.playerParams.locale)}if(this.playerParams.preload===false){this.shouldPreload=false}if(this.playerParams.initialTime!==undefined){var p=parseInt(this.playerParams.initialTime,10);if(!isNaN(p)&&p>0){this.initialTime=p}}}if(e.isIos&&e.iosMajorVersion==7){window.addEventListener("pageshow",k.bind(function(){this.mb.publish(e.EVENTS.PAUSE)},this))}else{if(e.isAndroid||e.isIos){document.addEventListener("visibilitychange",k.bind(function(r){if(document.hidden){this.mb.publish(e.EVENTS.PAUSE)}},this))}}},playbackReady:function(){this.triggerAutoplay()},authorizationFetched:function(n,o){this.authorization=o;this.streams=this.getStreams(o);this.checkDataReady()},contentTreeFetched:function(o,n){this.contentTree=n;if(n){this.closedCaptions={closed_captions:n.closed_captions,closed_captions_vtt:n.closed_captions_vtt}}this.checkDataReady()},publishClosedCaptionInfo:function(n){if(n){var p={};if(n.closed_captions_vtt&&n.closed_captions_vtt.captions&&k.size(n.closed_captions_vtt.captions)>0){p.closed_captions_vtt=n.closed_captions_vtt.captions;p.availableLanguages=n.closed_captions_vtt.languages;p.locale={};for(var o=0;o<p.availableLanguages.length;o++){var r=p.availableLanguages[o];p.locale[r]=p.closed_captions_vtt[r].name}}if(n.closed_captions&&n.closed_captions.length>0){p.closed_captions_dfxp=n.closed_captions[0];p.availableLanguages=n.closed_captions[0].languages}if(k.size(p)>0){var q={};q.languages=((n.closed_captions_vtt&&n.closed_captions_vtt.languages)||(p.closed_captions_dfxp&&p.closed_captions_dfxp.languages));q.locale={};if(q.languages&&q.languages.length>0){for(var o=0;o<q.languages.length;o++){var r=q.languages[o];if(p.closed_captions_vtt&&p.closed_captions_vtt[r]){q.locale[r]=p.closed_captions_vtt[r].name}}k.extend(this.playbackElements[this.currentPlaybackElement],{closedCaptions:p});this.mb.publish(e.EVENTS.CLOSED_CAPTIONS_INFO_AVAILABLE,q)}}}},metadataFetched:function(){this.metadataHasFetched=true;this.checkDataReady()},initialPlay:function(){if(this.willPlayFromBeginning){this.mb.publish(e.EVENTS.WILL_PLAY_FROM_BEGINNING)}this.willPlayFromBeginning=false;if(e.isIos||e.isAndroid){this.mb.publish(e.EVENTS.VC_PRIME_VIDEOS)}},onWillPlayFromBeginning:function(){this.mb.publish(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,this.currentPlaybackElement);this.mb.publish(e.EVENTS.VC_SET_INITIAL_TIME,e.VIDEO.MAIN,this.initialTime);this.mb.publish(e.EVENTS.PLAY)},vcVideoElementCreated:function(o,n){if(this.currentPlaybackElement&&(n.videoId===this.currentPlaybackElement)){this.mb.publish(e.EVENTS.PLAYBACK_READY);this.preloadStream()}},embedCodeChanged:function(q,n,r){var p=!this.playerParams?false:(this.playerParams.autoPlay==="true"||this.playerParams.autoPlay===true||this.playerParams.autoplay==="true"||this.playerParams.autoplay===true);this.resetStreamData();this.currentEmbedCode=n;if(!r){this.playerParams={}}else{this.playerParams=r}this.playerParams.autoPlay=p;this.willPlayFromBeginning=true;for(var o in this.playbackElements){if(!o){continue}this.mb.publish(e.EVENTS.VC_DISPOSE_VIDEO_ELEMENT,o)}},setAsset:function(p,o,q){this.resetStreamData();this.playerParams=q;
this.willPlayFromBeginning=true;for(var n in this.playbackElements){if(!n){continue}this.mb.publish(e.EVENTS.VC_DISPOSE_VIDEO_ELEMENT,n)}},willResume:function(){this.mb.publish(e.EVENTS.VC_PLAY,this.currentPlaybackElement)},vcPlayFailed:function(o,r,n){if(!this.currentPlaybackElement||(r!==this.currentPlaybackElement)){return}this.mb.publish(e.EVENTS.PLAY_FAILED,n);var q=!!window.MediaError?window.MediaError.MEDIA_ERR_ABORTED:1;var p=!!window.MediaError?window.MediaError.MEDIA_ERR_NETWORK:2;if(n==q){this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.PLAYBACK.GENERIC})}else{if(n==p){this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.PLAYBACK.NETWORK})}else{if(this.contentTree){switch(this.contentTree.content_type){case"Video":this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.PLAYBACK.STREAM});break;case"LiveStream":this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.PLAYBACK.LIVESTREAM});break;default:this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.PLAYBACK.GENERIC})}}}}},vcError:function(o,p,n){if(!this.currentPlaybackElement||(p!==this.currentPlaybackElement)){return}this.mb.publish(e.EVENTS.ERROR,n)},vcWillPlay:function(n,o){if(this.playbackElements[o]){this.mb.publish(e.EVENTS.WILL_PLAY);if(e.isIos&&this.endScreenShown){this.mb.publish(e.EVENTS.REPLAY)}this.endScreenShown=false}},replay:function(o,n){this.endScreenShown=false;this.initialTime=n||0;this.mb.publish(e.EVENTS.WILL_PLAY_FROM_BEGINNING)},vcPlayed:function(n,o){if(!this.currentPlaybackElement||(o!==this.currentPlaybackElement)){return}this.endScreenShown=true;this.playedAtLeastOnce=true;this.mb.publish(e.EVENTS.PLAYED)},vcPlaying:function(n,o){if(!this.currentPlaybackElement||(o!==this.currentPlaybackElement)){return}this.mb.publish(e.EVENTS.PLAYING)},vcCanPlay:function(n,o){if(this.currentPlaybackElement===o){this.mb.publish(e.EVENTS.CAN_PLAY)}},vcPaused:function(n,o){if(!this.currentPlaybackElement||(o!==this.currentPlaybackElement)){return}this.mb.publish(e.EVENTS.PAUSED)},vcSeeked:function(n,p,o){if(!this.currentPlaybackElement||(p!==this.currentPlaybackElement)){return}this.mb.publish(e.EVENTS.SEEKED,o)},played:function(){this.playedAtLeastOnce=true;this.preloadStream();this.triggerLoopPlay()}});e.registerModule("playbackController",function(n,o){return new l(n,o)})}(a,a._,a.$));(function(e,p,n){var m=function(){e.log.apply(this,n.merge(["VC:"],arguments))};var r={};var k={};var q=p.bind(function(){var s=[];p.each(k,function(u,t){if(u&&u.length>0){s.push(t)}});return s},this);e.Video={plugin:function(u){if(!this.validate(u)){return}m("Registering video plugin:",u.name);for(var s=0;s<u.encodings.length;s++){var t=u.encodings[s];if(k[t]){k[t].push(u.name)}else{k[t]=[u.name]}}r[u.name]=u},unregister:function(t){m("Removing a video plugin:",t);if(t&&r[t]){for(var s=0;s<r[t].encodings.length;s++){var w=r[t].encodings[s];var u=k[w]?k[w].indexOf(t):-1;if(u>-1){k[w].splice(u,1)}}if(p.isFunction(r[t].destroy)){try{r[t].destroy()}catch(v){m("Error destroying a video plugin",t,".",v)}}delete r[t]}},validate:function(A){var w={name:"string",encodings:"object",features:"object",technology:"string"};var z=["create"];function u(x){m(x)}function t(x,B,C){if(!p.has(A,x)){u("The video plugin '"+C+"' requires a '"+x+"' property");return false}if(typeof A[x]!=B){u("The video plugin '"+C+"' property '"+x+"' should be type '"+B+"'");return false}return true}function y(x,B){if(!p.isFunction(A[x])){u("The video plugin '"+B+"' requires a '"+x+"' function");return false}return true}if(!A){u("The video plugin must be defined");return false}if(!p.isObject(A)){u("The video plugin must be an object");return false}for(var v in w){if(!t(v,w[v],A.name)){return false}}for(var s=0;s<z.length;s++){if(!y(z[s],A.name)){return false}}if(r[A.name]){u("The video plugin '"+A.name+"' has already been registered");return false}return true},getRegisteredPlugins:function(){return r}};e.exposeStaticApi("Video",e.Video);var o=function(s,u,t){this.EVENTS=s.EVENTS;this.notify=p.bind(s.notify,s,u,t);this.markNotReady=p.bind(s.markNotReady,s,u);
this.markReady=p.bind(s.markReady,s,u);this.PLUGIN_MAGIC="087d2ef5-9d39-43ed-a57a-16a312c87c0b"};var l=function(aP,ah){var x=3000;var aO=aP;var ad=null;var Z=[];var az=[];var aq=null;this.activeInstances={};this.focusVideoId=null;var Y="";var ao=e.CONSTANTS.CLOSED_CAPTIONS.SHOWING;this.elementId=null;this.toString=function(){return"video-controller"};var aa=function(a8){this.plugin=a8.plugin&&a8.plugin.name;this.domId=aw();this.supportedEncodings=a8.plugin.encodings||[];this.parentContainer=a8.parentContainer||aq.find(".innerWrapper");this.wrapper=a8.wrapper;this.sharedObjectToInstance=a8.sharedObjectToInstance;this.isControllingObject=(a8.isControllingObject===undefined)?true:a8.isControllingObject};var aN=function(a8){this.plugin=a8.plugin&&a8.plugin.name;this.parentContainer=a8.parentContainer;this.element=a8.element||null;this.isControllingElement=!!a8.isControllingElement;this.playhead=0;this.encoding=a8.encoding||null;this.stream=a8.stream||null;this.vtcInterface=a8.vtcInterface||{};this.closedCaptions=a8.closedCaptions||{};this.crossorigin=a8.crossorigin||null;this.params=a8.params||{};this.playing=false;this.disableNativeSeek=false};var P={};var ap=null;var av=true;var R=[];var at=null;var a4=false;var ay=!(e.isChrome||e.isIos||e.isAndroid);this.EVENTS={PLAY:"play",CAN_PLAY:"canPlay",PLAYING:"playing",ENDED:"ended",ERROR:"error",SEEKING:"seeking",SEEKED:"seeked",PAUSED:"paused",RATE_CHANGE:"ratechange",STALLED:"stalled",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange",BUFFERING:"buffering",BUFFERED:"buffered",DURATION_CHANGE:"durationchange",PROGRESS:"progress",WAITING:"waiting",FULLSCREEN_CHANGED:"fullScreenChanged",CAPTIONS_FOUND_ON_PLAYING:"captionsFoundOnPlaying",ASSET_DIMENSION:"assetDimension",BITRATE_CHANGED:"bitrateChanged",BITRATES_AVAILABLE:"bitratesAvailable",CLOSED_CAPTION_CUE_CHANGED:"closedCaptionCueChanged",METADATA_FOUND:"metadataFound"};var K={ENCODING_PRIORITY:"encodingPriority",INITIAL_VOLUME:"initialVolume"};var ax={DEFAULT:"default",PAGE:"pageLevel",BACKLOT:"backlot",BACKDOOR:"backdoor"};var T={};T[ax.DEFAULT]=[e.VIDEO.ENCODING.HLS,e.VIDEO.ENCODING.DASH,e.VIDEO.ENCODING.MP4,e.VIDEO.ENCODING.HDS,e.VIDEO.ENCODING.AKAMAI_HD2_VOD_HLS,e.VIDEO.ENCODING.WEBM,e.VIDEO.ENCODING.IMA];var u=ax.DEFAULT;var aY={width:"100%",height:"100%",position:"absolute",visibility:"hidden","z-index":e.CSS.VIDEO_Z_INDEX};if(e.isIos){aY.display=e.CSS.INVISIBLE_DISPLAY}else{aY.left="-100000px"}var aA=p.bind(function(){aO.subscribe(e.EVENTS.PLAYER_CREATED,"vtc",aI);aO.subscribe(e.EVENTS.METADATA_FETCHED,"vtc",O);aO.subscribe(e.EVENTS.EMBED_CODE_CHANGED,"vtc",B);aO.subscribe(e.EVENTS.PLAYBACK_READY,"vtc",a1);aO.subscribe(e.EVENTS.VC_CREATE_VIDEO_ELEMENT,"vtc",ak);aO.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"vtc",a6);aO.subscribe(e.EVENTS.VC_DISPOSE_VIDEO_ELEMENT,"vtc",F);aO.subscribe(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,"vtc",aj);aO.subscribe(e.EVENTS.WILL_PLAY_ADS,"vtc",A);aO.subscribe(e.EVENTS.VC_PRELOAD,"vtc",z);aO.subscribe(e.EVENTS.VC_RELOAD,"vtc",V);aO.subscribe(e.EVENTS.VC_SET_INITIAL_TIME,"vtc",aS);aO.subscribe(e.EVENTS.VC_SET_VIDEO_STREAMS,"vtc",aD);aO.subscribe(e.EVENTS.VC_PRIME_VIDEOS,"vtc",aT);aO.subscribe(e.EVENTS.PLAY,"vtc",M);aO.subscribe(e.EVENTS.VC_PLAY,"vtc",C);aO.subscribe(e.EVENTS.PAUSE,"vtc",ar);aO.subscribe(e.EVENTS.VC_PAUSE,"vtc",aZ);aO.subscribe(e.EVENTS.SEEK,"vtc",aU);aO.subscribe(e.EVENTS.VC_SEEK,"vtc",aR);aO.subscribe(e.EVENTS.CHANGE_VOLUME,"vtc",H);aO.subscribe(e.EVENTS.PAGE_UNLOAD_REQUESTED,"vtc",ac);aO.subscribe(e.EVENTS.DISABLE_SEEKING,"vtc",I);aO.subscribe(e.EVENTS.ENABLE_SEEKING,"vtc",a3);aO.subscribe(e.EVENTS.SET_CLOSED_CAPTIONS_LANGUAGE,"vtc",Q);aO.subscribe(e.EVENTS.SET_TARGET_BITRATE,"vtc",L);aO.subscribe(e.EVENTS.DESTROY,"vtc",p.bind(this.onDestroy,this))},this);var aI=p.bind(function(a9,a8,ba){this.elementId=a8;aq=n("#"+a8);P=ba;if(P){if(P[K.ENCODING_PRIORITY]){T[ax.PAGE]=P[K.ENCODING_PRIORITY];u=ax.PAGE}if(P[K.INITIAL_VOLUME]!==undefined){at=parseFloat(P[K.INITIAL_VOLUME])}}e.debug_tools=e.debug_tools||{};
if(!e.debug_tools[a8]){e.debug_tools[a8]={}}e.debug_tools[a8].video=X},this);var O=p.bind(function(a8,ba){if(ba&&ba.base&&ba.base[K.ENCODING_PRIORITY]){var a9=ba.base[K.ENCODING_PRIORITY];a9=a9.replace(/(&.+?;)|[ \[\]]/g,"");T[ax.BACKLOT]=a9.split(",");if(u!==ax.PAGE){u=ax.BACKLOT}}},this);var B=p.bind(function(){T[ax.BACKLOT]=null;if(u===ax.BACKLOT){u=T[ax.BACKDOOR]?ax.BACKDOOR:ax.DEFAULT}a4=false},this);var a1=p.bind(function(){a4=true},this);var ak=p.bind(function(ba,bg,bi,a8,bc){var bj;if(bc&&(bc.technology||bc.features)){var bh=D(bc.technology);var bd=aG(bc.features);bj=p.pick(r,p.intersection(bh,bd))}else{bj=r}var bf=ai(bi,aK(bj),aF());if(!bf){aO.publish(e.EVENTS.VC_ERROR,bg,{code:e.ERROR.VC.UNSUPPORTED_ENCODING});return}m("For video '"+bg+"', selected encoding '"+bf+"', with stream url "+bi[bf]);var bb=!!(this.focusVideoId&&(this.focusVideoId===bg));if(this.activeInstances[bg]&&this.activeInstances[bg].element){if(bj[this.activeInstances[bg].plugin]&&p.contains(this.activeInstances[bg].element.supportedEncodings,bf)){m("Element already existed and supports chosen encoding.  Setting new video url.");aV(bg,bf,bi[bf]);if(bc){ab(bg,bc.closedCaptions);W(bg,bc.crossorigin)}a5(bg);return}else{m("Element already existed but does not support chosen encoding.  Destroying exising element.");F(e.EVENTS.VC_CREATE_VIDEO_ELEMENT,bg)}}var a9=p.intersection(k[bf]||[],p.keys(bj));var be=null;if((a9==null||a9.length<1)&&bf==e.VIDEO.ENCODING.UNKNOWN&&p.size(bj)>0){be=bj[p.keys(bj)[0]]}else{if(a9&&a9.length>0&&p.size(bj)>0){be=bj[a9[0]]}}if(!be){aO.publish(e.EVENTS.VC_ERROR,bg,{code:e.ERROR.VC.UNSUPPORTED_ENCODING});return}m("For video '"+bg+"', elected plugin '"+be.name+"'");S(be,bg,a8,bf,bi[bf],bc);if(this.activeInstances[bg]){a5(bg);if(bb){aO.publish(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,bg)}}else{aO.publish(e.EVENTS.VC_ERROR,bg,{code:e.ERROR.VC.UNABLE_TO_CREATE_VIDEO_ELEMENT})}},this);var D=p.bind(function(a9){if(!a9){return p.keys(r)}var a8=[];for(name in r){if(r[name].technology===a9){a8.push(name)}}return a8},this);var aG=p.bind(function(ba){if(!ba||ba.length<1){return p.keys(r)}var a8=[];for(name in r){var a9=p.difference(ba,r[name].features);if(!a9||a9.length===0){a8.push(name)}}return a8},this);var aK=p.bind(function(a8){var ba=[];for(var a9 in a8){ba=ba.concat(r[a9].encodings)}return p.uniq(ba)},this);var aF=p.bind(function(){var a9=T[u];var a8=n(q()).not(a9).get();return a9.concat(a8)},this);var ai=p.bind(function(be,ba,a9){if(!be||p.size(be)<1){return}var bd={};for(var bb=0;bb<ba.length;bb++){var bc=ba[bb];if(be.hasOwnProperty(bc)){bd[bc]=be[bc]}}var a8=null;for(var bb=0;bb<a9.length;bb++){if(bd.hasOwnProperty(a9[bb])){a8=a9[bb];break}}if(a8==null&&be.hasOwnProperty(e.VIDEO.ENCODING.UNKNOWN)){a8=e.VIDEO.ENCODING.UNKNOWN}return a8},this);var a5=p.bind(function(bb){if(!(this.activeInstances&&this.activeInstances[bb]&&this.activeInstances[bb].element)){return}var a9=this.activeInstances[bb].element;var ba=(a9.parentContainer&&a9.parentContainer.length>0)?a9.parentContainer.find("#"+a9.domId):[];var a8=this.activeInstances[bb].stream?this.activeInstances[bb].stream.url:null;if(e.isIos){p.delay(function(){aO.publish(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,{videoId:bb,encodings:a9.supportedEncodings,parent:a9.parentContainer,domId:a9.domId,videoElement:ba,streamUrl:a8})},1)}else{aO.publish(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,{videoId:bb,encodings:a9.supportedEncodings,parent:a9.parentContainer,domId:a9.domId,videoElement:ba,streamUrl:a8})}},this);var S=p.bind(function(a9,bb,be,ba,bd,bc){if(!a9||!bb){return}if(y(a9)){var a8=am(a9.technology);if(a8&&this.activeInstances[a8].plugin!==a9.name){if(aM(a8,a9)){if(this.activeInstances[a8]){G(a9,bb,ba,bd,be,bc,a8)}else{aO.publish(e.EVENTS.VC_ERROR,bb,{code:e.ERROR.VC.UNABLE_TO_CREATE_VIDEO_ELEMENT})}return}else{}}else{if(a8){a0(a9,bb,ba,bd,bc);return}else{}}}if(a9.maxSupportedElements>-1&&U(a9.name)>=a9.maxSupportedElements){a0(a9,bb,ba,bd,bc)}else{t(a9,bb,be,ba,bd,bc)}},this);var y=p.bind(function(a9){if(e.requiresSingleVideoElement&&((a9.technology===e.VIDEO.TECHNOLOGY.HTML5)||(a9.technology===e.VIDEO.TECHNOLOGY.MIXED))){for(var a8 in this.activeInstances){if((r[this.activeInstances[a8].plugin].technology===e.VIDEO.TECHNOLOGY.HTML5||r[this.activeInstances[a8].plugin].technology===e.VIDEO.TECHNOLOGY.MIXED)&&(this.activeInstances[a8].element)){return true
}}}return false},this);var aM=p.bind(function(bb,bc){var bd=p.contains(r[this.activeInstances[bb].plugin].features,e.VIDEO.FEATURE.VIDEO_OBJECT_SHARING_GIVE);var ba=p.contains(bc.features,e.VIDEO.FEATURE.VIDEO_OBJECT_SHARING_TAKE);var a9=(r[this.activeInstances[bb].plugin].technology===bc.technology);var a8=(bc.technology!==e.VIDEO.TECHNOLOGY.MIXED);return bd&&ba&&a9&&a8},this);var am=p.bind(function(a9){var ba=null;for(var a8 in this.activeInstances){if(r[this.activeInstances[a8].plugin].technology!==a9){continue}if(!this.activeInstances[a8].element){continue}if(!p.contains(r[this.activeInstances[a8].plugin].features,e.VIDEO.FEATURE.VIDEO_OBJECT_SHARING_GIVE)){ba=a8;continue}return a8}return ba},this);var G=p.bind(function(bf,bh,ba,bi,a8,be,bb){if(!bf||!bh){return}m("For video '"+bh+"', sharing element with video '"+bb+"'");this.activeInstances[bb].element.sharedObjectToInstance=bh;var bg=new aa({plugin:bf,parentContainer:a8,sharedObjectToInstance:bb,isControllingObject:false});az.push(bg);var bd=new o(this,bh,bf);if(!this.activeInstances[bh]){this.activeInstances[bh]=new aN({plugin:bf,parentContainer:a8,element:bg,encoding:ba,stream:bi,vtcInterface:bd,isControllingElement:true,params:be})}else{this.activeInstances[bh].element=bg}if(be){ab(bh,be.closedCaptions);W(bh,be.crossorigin)}var bc=this.activeInstances[bb].element.domId;var a9=aE(bc);bg.wrapper=bf.createFromExisting(a9,bd,this.elementId);aV(bh,ba,bi)},this);var U=p.bind(function(ba){var a9=0;for(var a8=0;a8<az.length;a8++){if(az[a8].plugin===ba){a9++}}return a9},this);var a0=p.bind(function(bb,bd,bc,bf,be){if(!bb||!bd){return}var ba=null;for(var a9=0;a9<az.length;a9++){if(az[a9].plugin===bb.name){ba=az[a9];break}}if(!ba){return}m("For video '"+bd+"', sharing existing element with index "+a9);var a8=new o(this,bd,bb);if(!this.activeInstances[bd]){this.activeInstances[bd]=new aN({plugin:bb,parentContainer:ba.parentContainer,element:ba,encoding:bc,stream:bf,vtcInterface:a8,params:be})}else{this.activeInstances[bd].element=ba}if(be){ab(bd,be.closedCaptions);W(bd,be.crossorigin)}},this);var t=p.bind(function(ba,bc,bf,bb,be,bd){if(!ba||!bc){return}var a9=new aa({plugin:ba,parentContainer:bf});az.push(a9);var a8=new o(this,bc,ba);if(!this.activeInstances[bc]){this.activeInstances[bc]=new aN({plugin:ba,parentContainer:a9.parentContainer,element:a9,encoding:bb,stream:be,vtcInterface:a8,isControllingElement:true,params:bd})}else{this.activeInstances[bc].element=a9}if(bd){ab(bc,bd.closedCaptions);W(bc,bd.crossorigin)}a9.wrapper=ba.create(a9.parentContainer,a9.domId,a8,aY,this.elementId);aV(bc,bb,be)},this);var a6=p.bind(function(a9,a8){if(typeof at==="number"){aO.publish(e.EVENTS.CHANGE_VOLUME,at,a8.videoId)}N(a8.videoId)},this);var F=p.bind(function(a9,ba){if(!ba){return}if(this.focusVideoId===ba){al(ba)}af(ba);var a8=this.activeInstances[ba].element;delete this.activeInstances[ba];if(a8&&!aW(a8)){ag(a8,"destroy",[]);az=p.without(az,a8);a8=null}aO.publish(e.EVENTS.VC_VIDEO_ELEMENT_DISPOSED,ba)},this);var aW=p.bind(function(a9){if(!a9){return false}for(var a8 in this.activeInstances){if(this.activeInstances[a8]&&this.activeInstances[a8].element&&this.activeInstances[a8].element===a9){return true}}return false},this);var A=p.bind(function(a8,a9){if(e.isIos&&a9&&a9.duration>0){Q("","",{mode:ao})}},this);var aj=p.bind(function(a9,ba){if(ba&&(this.focusVideoId===ba)){aO.publish(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,ba);return}if(this.focusVideoId){al(this.focusVideoId)}this.focusVideoId=null;if(!ba||!this.activeInstances[ba]){return}this.focusVideoId=ba;J(ba);var a8={visibility:"visible"};if(e.isIos){a8.display=e.CSS.VISIBLE_DISPLAY}else{a8.left="0px"}ag(this.activeInstances[ba].element,"applyCss",[a8]);if(e.isIos){p.delay(function(){aO.publish(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,ba)},1)}else{aO.publish(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,ba)}Q("",Y,{mode:ao})},this);var al=p.bind(function(a9){if(!(a9&&this.activeInstances&&this.activeInstances[a9]&&this.activeInstances[a9].element)){return
}aO.publish(e.EVENTS.VC_PAUSE,a9,"transition");this.focusVideoId=null;var a8={visibility:"hidden"};if(e.isIos){a8.display=e.CSS.INVISIBLE_DISPLAY}else{a8.left="-100000px"}ag(this.activeInstances[a9].element,"applyCss",[a8]);ag(this.activeInstances[a9].element,"setClosedCaptionsMode",[e.CONSTANTS.CLOSED_CAPTIONS.DISABLED]);aO.publish(e.EVENTS.VC_VIDEO_ELEMENT_LOST_FOCUS,a9)},this);var aD=p.bind(function(a9,ba,bb){if(!(ba&&this.activeInstances&&this.activeInstances[ba]&&this.activeInstances[ba].element)){return}if(!bb){aV(ba,"",{url:""});return}var a8=ai(bb,this.activeInstances[ba].element.supportedEncodings,aF());if(!a8){aO.publish(e.EVENTS.VC_ERROR,ba,{code:e.ERROR.VC.UNSUPPORTED_ENCODING});return}aV(ba,a8,bb[a8])},this);var z=p.bind(function(a8,a9){if(ay){aX(a9,"load",[true])}},this);var V=p.bind(function(a8,a9){aX(a9,"load",[false])},this);var aS=p.bind(function(a9,ba,a8){if(this.activeInstances&&this.activeInstances[ba]&&this.activeInstances[ba].element){ag(this.activeInstances[ba].element,"setInitialTime",[a8])}},this);var aT=p.bind(function(){for(var a8 in this.activeInstances){aX(a8,"primeVideoElement",[])}},this);var M=p.bind(function(){aO.publish(e.EVENTS.VC_PLAY,this.focusVideoId)},this);var C=p.bind(function(a9,ba,a8){if(!(this.activeInstances&&this.activeInstances[ba])){return}if(a8){if(this.activeInstances[ba].stream){this.activeInstances[ba].stream.url=a8}else{this.activeInstances[ba].stream={url:a8}}}J(ba);if(this.activeInstances[ba].stream&&this.activeInstances[ba].stream.url){aV(ba,this.activeInstances[ba].encoding,this.activeInstances[ba].stream);this.activeInstances[ba].playing=true}ag(this.activeInstances[ba].element,"play",[])},this);var ar=p.bind(function(){aO.publish(e.EVENTS.VC_PAUSE,this.focusVideoId)},this);var aZ=p.bind(function(a8,a9){aX(a9,"pause",[])},this);var aU=p.bind(function(a9,bb,a8){var ba=a8||this.focusVideoId;aO.publish(e.EVENTS.VC_SEEK,ba,bb)},this);var aR=p.bind(function(a8,ba,a9){if(ba&&this.activeInstances[ba]&&this.activeInstances[ba].element&&this.activeInstances[ba].element.wrapper){aX(ba,"seek",[a9])}},this);var H=p.bind(function(a9,ba,bb){if(typeof(ba)!=="number"||ba<0||ba>1){m("Can not assign volume with invalid value",ba);return}at=ba;if(bb){aX(bb,"setVolume",[at])}else{for(var a8=0;a8<az.length;a8++){ag(az[a8],"setVolume",[at])}}},this);var ac=p.bind(function(){ae()},this);var a3=p.bind(function(a8,a9){if(a9&&this.activeInstances[a9]){this.activeInstances[a9].disableNativeSeek=false;if(this.activeInstances[a9].isControllingElement&&this.activeInstances[a9].element&&this.activeInstances[a9].element.isControllingObject&&this.activeInstances[a9].element.wrapper){this.activeInstances[a9].element.wrapper.disableNativeSeek=false}}},this);var I=p.bind(function(a8,a9){if(a9&&this.activeInstances[a9]){this.activeInstances[a9].disableNativeSeek=true;if(this.activeInstances[a9].isControllingElement&&this.activeInstances[a9].element&&this.activeInstances[a9].element.isControllingObject&&this.activeInstances[a9].element.wrapper){this.activeInstances[a9].element.wrapper.disableNativeSeek=true}}},this);var Q=p.bind(function(a9,bb,ba){var a8=ba||{};if(a8.mode==null){a8.mode=e.CONSTANTS.CLOSED_CAPTIONS.SHOWING}Y=bb;ao=a8.mode;if(this.focusVideoId&&a8.mode==e.CONSTANTS.CLOSED_CAPTIONS.DISABLED){aX(this.focusVideoId,"setClosedCaptionsMode",[a8.mode])}else{if(this.activeInstances[this.focusVideoId]){if(a8.mode==e.CONSTANTS.CLOSED_CAPTIONS.HIDDEN&&(e.isIphone||(e.isIpad&&a8.isFullScreen))){a8.mode=e.CONSTANTS.CLOSED_CAPTIONS.SHOWING}aX(this.focusVideoId,"setClosedCaptions",[bb,this.activeInstances[this.focusVideoId].closedCaptions,a8])}}},this);var L=p.bind(function(a8,a9){if(this.focusVideoId&&p.contains(r[this.activeInstances[this.focusVideoId].plugin].features,e.VIDEO.FEATURE.BITRATE_CONTROL)){aX(this.focusVideoId,"setBitrate",[a9])}},this);this.onDestroy=function(){for(var a8 in this.activeInstances){F(e.EVENTS.DESTROY,a8)}};this.notify=function(bc,bb,a8,be){var bd=be||{};switch(a8){case this.EVENTS.PLAY:aO.publish(e.EVENTS.VC_WILL_PLAY,bc,bd.url);
break;case this.EVENTS.CAN_PLAY:aO.publish(e.EVENTS.VC_CAN_PLAY,bc);break;case this.EVENTS.PLAYING:aO.publish(e.EVENTS.VC_PLAYING,bc);break;case this.EVENTS.ENDED:if(this.activeInstances[bc]){this.activeInstances[bc].playing=false}aO.publish(e.EVENTS.VC_PLAYED,bc);break;case this.EVENTS.ERROR:this.markReady(bc);if(this.activeInstances[bc]){this.activeInstances[bc].playing=false}an(bd.errorcode,bc);break;case this.EVENTS.SEEKING:aO.publish(e.EVENTS.VC_SEEKING,bc);break;case this.EVENTS.SEEKED:if(this.activeInstances[bc]){var ba=ag(this.activeInstances[bc].element,"getCurrentTime");aO.publish(e.EVENTS.VC_SEEKED,bc,ba)}break;case this.EVENTS.PAUSED:aO.publish(e.EVENTS.VC_PAUSED,bc);break;case this.EVENTS.TIME_UPDATE:if(typeof bd.duration!=="number"){return}if(typeof bd.currentTime!=="number"){return}aO.publish(e.EVENTS.PLAYHEAD_TIME_CHANGED,bd.currentTime,bd.duration,bd.buffer,bd.seekRange,bc);break;case this.EVENTS.VOLUME_CHANGE:aO.publish(e.EVENTS.VOLUME_CHANGED,bd.volume,bc);break;case this.EVENTS.BUFFERING:aO.publish(e.EVENTS.BUFFERING,bd.url,bc);break;case this.EVENTS.BUFFERED:aO.publish(e.EVENTS.BUFFERED,bd.url,bc);break;case this.EVENTS.DURATION_CHANGE:if(typeof bd.duration!=="number"){return}aO.publish(e.EVENTS.PLAYHEAD_TIME_CHANGED,bd.currentTime,bd.duration,bd.buffer,bd.seekRange,bc);break;case this.EVENTS.PROGRESS:aO.publish(e.EVENTS.DOWNLOADING,bd.currentTime,bd.duration,bd.buffer,bd.seekRange,bc);break;case this.EVENTS.WAITING:aO.publish(e.EVENTS.BUFFERING,bd.url,bc);break;case this.EVENTS.FULLSCREEN_CHANGED:aO.publish(e.EVENTS.FULLSCREEN_CHANGED,bd.isFullScreen,bd.paused,bc);Q("",Y,{mode:ao,isFullScreen:bd.isFullScreen});break;case this.EVENTS.CAPTIONS_FOUND_ON_PLAYING:if(this.activeInstances[bc]&&be){W(bc,"anonymous");var a9={languages:[],locale:{}};if(this.activeInstances[bc].closedCaptions&&this.activeInstances[bc].closedCaptions.availableLanguages&&this.activeInstances[bc].closedCaptions.locale){a9.languages=this.activeInstances[bc].closedCaptions.availableLanguages;a9.locale=this.activeInstances[bc].closedCaptions.locale}a9.languages=p.union(a9.languages,be.languages);a9.locale=p.extend(a9.locale,be.locale);aO.publish(e.EVENTS.CLOSED_CAPTIONS_INFO_AVAILABLE,a9)}break;case this.EVENTS.ASSET_DIMENSION:if(typeof bd.width=="number"&&bd.width>0&&typeof bd.height=="number"&&bd.height>0){p.extend(bd,{videoId:bc});aO.publish(e.EVENTS.ASSET_DIMENSION,bd)}break;case this.EVENTS.BITRATES_AVAILABLE:aO.publish(e.EVENTS.BITRATE_INFO_AVAILABLE,{bitrates:be});break;case this.EVENTS.BITRATE_CHANGED:if(aB(be)){aO.publish(e.EVENTS.BITRATE_CHANGED,be)}else{m("Invalid bitrate object reported",be)}break;case this.EVENTS.CLOSED_CAPTION_CUE_CHANGED:if(typeof be!=="string"){return}aO.publish(e.EVENTS.CLOSED_CAPTION_CUE_CHANGED,be);break;case this.EVENTS.METADATA_FOUND:if(be.type&&be.data){aO.publish(e.EVENTS.VC_TAG_FOUND,bc,be.type,be.data)}break}};this.markNotReady=function(a8){if(a8&&this.activeInstances[a8]&&!a4){Z.push(a8);if(ad===null){aO.addDependent(e.EVENTS.PLAYBACK_READY,e.EVENTS.VC_READY,"vtc",aL);ad=setTimeout(aC,x)}}};this.markReady=function(a8){if(ad===null&&Z.length===0){return}if(!a8){Z=[]}else{Z=p.without(Z,a8)}if(Z.length===0){if(ad!==null){clearTimeout(ad);ad=null}aO.publish(e.EVENTS.VC_READY)}};var aL=function(a8,ba,bb,a9){return bb};var aC=p.bind(function(){this.markReady()},this);var ag=function(a9,bb,bc){if(!a9){return}var a8=a9.wrapper;if(!a8){return}try{if(p.isFunction(a8[bb])){return a8[bb].apply(a8,bc)}}catch(ba){console.warn("Video tech plugin",(a9&&a9.plugin),"at function '"+bb+"' threw exception - ",ba)}return null};var aX=p.bind(function(a9,a8,ba){if(!this.activeInstances[a9]||!this.activeInstances[a9].element||!this.activeInstances[a9].isControllingElement){return}return ag(this.activeInstances[a9].element,a8,ba)},this);var W=p.bind(function(a9,a8){if(!this.activeInstances[a9]){return}this.activeInstances[a9].crossorigin=a8;N(a9)},this);var N=p.bind(function(a8){if(!this.activeInstances[a8]){return}if(this.activeInstances[a8].crossorigin){aX(a8,"setCrossorigin",[this.activeInstances[a8].crossorigin])
}else{aX(a8,"setCrossorigin",[null])}},this);var v=p.bind(function(a9){var a8=E(a9);N(a9);this.activeInstances[a9].element.wrapper.controller=this.activeInstances[a9].vtcInterface;w(this.activeInstances[a9],a8)},this);var E=p.bind(function(bb){var ba=this.activeInstances[bb];if(ba.isControllingElement){return ba}var a9=null;for(var a8 in this.activeInstances){if(this.activeInstances[a8]&&this.activeInstances[a8].element&&this.activeInstances[a8].element===ba.element&&this.activeInstances[a8].isControllingElement){a9=this.activeInstances[a8];break}}m("Switching element between instances.  From: '"+a8+"', To: '"+bb+"'");ba.isControllingElement=true;if(a9){a9.isControllingElement=false;return a9}},this);var af=p.bind(function(bb){var a9=this.activeInstances[bb];if(!a9.isControllingElement){return}var ba=null;for(var a8 in this.activeInstances){if(this.activeInstances[a8]&&this.activeInstances[a8].element&&this.activeInstances[a8].element===a9.element&&!this.activeInstances[a8].isControllingElement){ba=this.activeInstances[a8];break}}a9.isControllingElement=false;if(ba){ba.isControllingElement=true}},this);var aJ=p.bind(function(a9){if(!this.activeInstances[a9].element.isControllingObject){var a8=this.activeInstances[a9].element.sharedObjectToInstance;m("Switching wrapper between elements.  From: '"+a8+"', To: '"+a9+"'");ag(this.activeInstances[a8].element,"sharedElementGive",[]);this.activeInstances[a8].element.isControllingObject=false;ag(this.activeInstances[a9].element,"sharedElementTake",[]);this.activeInstances[a9].element.isControllingObject=true;w(this.activeInstances[a9],this.activeInstances[a8])}},this);var w=p.bind(function(a8,a9){if(a9){if(a9.playing===true){a9.playhead=ag(a9.element,"getCurrentTime")}else{a9.playhead=0}}if(a8.stream){var bb=a8.stream;var ba=a8.encoding;ag(a8.element,"setVideoUrl",[bb.url,ba]);a8.playing=false;if(bb.drm&&!p.isEmpty(bb.drm)&&aQ(ba)){ag(a8.element,"setDRM",[bb.drm])}}if(a8.playhead>0){ag(a8.element,"setInitialTime",[a8.playhead])}if(a8.element&&a8.element.wrapper){a8.element.wrapper.disableNativeSeek=a8.disableNativeSeek}},this);this.disposeAnyElementKeepInstance=function(){var a8=e.VIDEO.TECHNOLOGY.HTML5;var a9=a7(a8);au(a9)};var a7=p.bind(function(a9){var bb=null;for(var a8 in this.activeInstances){if(this.activeInstances[a8]&&this.activeInstances[a8].element){var ba=r[this.activeInstances[a8].plugin].technology;if(ba===a9){return a8}else{if(ba===e.VIDEO.TECHNOLOGY.MIXED){bb=a8}}}}return bb},this);var au=p.bind(function(a9){if(!a9){return}if(this.activeInstances[a9].playing===true){this.activeInstances[a9].playhead=ag(this.activeInstances[a9].element,"getCurrentTime")}else{this.activeInstances[a9].playhead=0}if(this.focusVideoId===a9){al(a9)}for(var a8 in this.activeInstances){if(a8===a9){continue}if(this.activeInstances[a8]&&this.activeInstances[a8].element&&this.activeInstances[a8].element===this.activeInstances[a9].element){this.activeInstances[a8].isControllingElement=true;this.activeInstances[a8].element=null}}if(this.activeInstances[a9].element){ag(this.activeInstances[a9].element,"destroy",[]);az=p.without(az,this.activeInstances[a9].element);this.activeInstances[a8].isControllingElement=true;this.activeInstances[a9].element=null}},this);var a2=p.bind(function(a9){var a8=this.activeInstances[a9].playhead;S(r[this.activeInstances[a9].plugin],a9,this.activeInstances[a9].parentContainer,this.activeInstances[a9].encoding,this.activeInstances[a9].stream,this.activeInstances[a9].params);a6("recreate",{videoId:a9});if(a8>0){ag(this.activeInstances[a9].element,"setInitialTime",[a8])}if(this.activeInstances[a9].element&&this.activeInstances[a9].element.wrapper){this.activeInstances[a9].element.wrapper.disableNativeSeek=this.activeInstances[a9].disableNativeSeek}},this);var J=p.bind(function(a8){if(this.activeInstances[a8]&&!this.activeInstances[a8].element){a2(a8)}if(!this.activeInstances[a8].isControllingElement){v(a8)}aJ(a8)},this);var aE=p.bind(function(ba){var a9=n("#"+ba);if(a9.length>0&&!a9.is("video")){var a8=a9.find("video").attr("id");
if(a8){return a8}}return ba},this);var aV=p.bind(function(a9,a8,ba){if(!this.activeInstances[a9]){return}this.activeInstances[a9].playhead=0;this.activeInstances[a9].playing=false;this.activeInstances[a9].stream=ba;this.activeInstances[a9].encoding=a8;if(ba.drm&&!p.isEmpty(ba.drm)&&aQ(a8)){aX(a9,"setDRM",[ba.drm])}return aX(a9,"setVideoUrl",[ba.url,a8])},this);var aQ=p.bind(function(a9){for(var a8 in e.VIDEO.ENCODING.DRM){if(e.VIDEO.ENCODING.DRM[a8]==a9){return true}}return false},this);var ab=p.bind(function(a9,a8){if(!this.activeInstances[a9]){return}this.activeInstances[a9].closedCaptions=a8},this);var an=p.bind(function(a8,a9){if(av){s()}else{e.d("Error not emitted: "+a8);R.push(a8);aO.publish(e.EVENTS.PAGE_PROBABLY_UNLOADING);return}aO.publish(e.EVENTS.VC_PLAY_FAILED,a9,JSON.stringify(a8))},this);var s=p.bind(function(){av=true;var a8="";p.each(R,function(a9){aO.publish(e.EVENTS.VC_PLAY_FAILED,a8,JSON.stringify(a9))});R=[]},this);var ae=p.bind(function(){av=false;clearTimeout(ap);p.delay(p.bind(function(){ap=p.delay(s,5000)},this),1)},this);var aw=function(){return Math.random().toString(36).substring(7)};var aB=function(ba){if(!ba){return false}var a8=(ba.id!==undefined&&typeof ba.id==="string");var bc=(ba.bitrate!==undefined&&typeof ba.bitrate==="number");var a9=(ba.height!==undefined&&typeof ba.height==="number");var bb=(ba.width!==undefined&&typeof ba.width==="number");return(a8&&bc&&a9&&bb)};var aH=this;var X={getRegisteredPlugins:function(){return e.Video.getRegisteredPlugins()},getEncodingPriority:function(){return aF()},getSupportedEncodings:function(){return aK(this.getRegisteredPlugins())},getVideoInstances:function(){return aH.activeInstances},getVideoElements:function(){return az}};aA()};e.registerModule("videoController",function(s,t){return new l(s,t)})}(a,a._,a.$));(function(e,k,l){var m=function(n,o){this.toString=function(){return"metadata-controller"};this.mb=n;this.id=o;this.metadataFetched=false;this.metadata=null;this.thumbnailsFailed=true;this.mb.subscribe(e.EVENTS.METADATA_FETCHED,"metadata",k.bind(this.onMetadataFetched,this));this.mb.subscribe(e.EVENTS.SET_EMBED_CODE,"metadata",k.bind(this.onSetEmbedCode,this))};k.extend(m.prototype,{onMetadataFetched:function(o,q){this.metadataFetched=true;this.metadata=q;if(!this.thumbnailsFailed){return}if(q&&q.base&&!k.isEmpty(q.base)){var s={data:{available_time_slices:[],available_widths:[1],thumbnails:{}}};var r=Object.keys(q.base);for(var p=0;p<r.length;p++){if(r[p].indexOf("chapter")>-1&&q.base[r[p]].indexOf("||")>-1){var n=q.base[r[p]].split("||");s.data.available_time_slices.push(parseInt(n[0]));s.data.thumbnails[n[0]]={1:{url:n[1],width:1,height:1}}}}if(!k.isEmpty(s.data.available_time_slices)){s.data.available_widths.sort();s.data.available_time_slices.sort();this.mb.publish(e.EVENTS.THUMBNAILS_FETCHED,s)}}},onSetEmbedCode:function(p,n){this.metadataFetched=false;this.thumbnailsFailed=true;this.metadata=null;var o={server:e.SERVER.API,embedCode:n}},_thumbnailsFetched:function(n){this.mb.publish(e.EVENTS.THUMBNAILS_FETCHED,n)},_thumbnailsFailed:function(p,n,o){this.thumbnailsFailed=true;if(this.metadataFetched){this.onMetadataFetched("",this.metadata)}}});e.registerModule("metadataController",function(n,o){return new m(n,o)})}(a,a._,a.$));(function(e,l,m){var k=function(n,p,o){this.mb=n;this.id=p;this.params=o||{};this.contentTree={};this.metadata={};this.sasResponse={};this.authToken=e.localStorage.getItem("oo_auth_token");this._aborting=false;this._contentAjax=null;this._metadataAjax=null;this._sasAjax=null;e.StateMachine.create({initial:"Init",messageBus:this.mb,moduleName:"Api",target:this,events:[{name:e.EVENTS.SET_EMBED_CODE,from:"*",to:"Init"},{name:e.EVENTS.EMBED_CODE_CHANGED,from:"Init",to:"WaitingForAPIResponse"},{name:e.EVENTS.WILL_FETCH_CONTENT_TREE,from:"WaitingForAPIResponse"},{name:e.EVENTS.WILL_FETCH_METADATA,from:"WaitingForAPIResponse"},{name:e.EVENTS.WILL_FETCH_AUTHORIZATION,from:"WaitingForAPIResponse"},{name:e.EVENTS.WILL_FETCH_AD_AUTHORIZATION,from:["WaitingForAPIResponse","Init"]},{name:e.EVENTS.PLAYBACK_READY,from:"WaitingForAPIResponse",to:"Init"}]})
};l.extend(k.prototype,{onSetEmbedCode:function(p,n,o){this.rootEmbedCode=n;this.adSetCode=o?o.adSetCode:undefined;this.embedToken=(o&&o.embedToken)||this.embedToken;this.authToken=(o&&o.authToken)||this.authToken;this.mb.publish(e.EVENTS.EMBED_CODE_CHANGED,n,o)},onEmbedCodeChanged:function(q,o){this.currentEmbedCode=o;this._abort(this._contentAjax);this._abort(this._metadataAjax);this._abort(this._sasAjax);var p={embedCode:this.currentEmbedCode,pcode:e.playerParams.pcode||"unknown",playerBrandingId:e.playerParams.playerBrandingId||"unknown",params:{}};if(!l.isEmpty(this.adSetCode)){l.extend(p.params,{adSetCode:this.adSetCode})}if(!l.isEmpty(this.embedToken)){l.extend(p.params,{embedToken:this.embedToken})}var n=l.extend({},p,{server:e.SERVER.API});var r=l.extend({},p,{server:e.SERVER.AUTH});this.mb.publish(e.EVENTS.WILL_FETCH_METADATA,n);if(e.requiredInEnvironment("html5-playback")){this.mb.publish(e.EVENTS.WILL_FETCH_PLAYER_XML,n);this.mb.publish(e.EVENTS.WILL_FETCH_CONTENT_TREE,n);this.mb.publish(e.EVENTS.WILL_FETCH_AUTHORIZATION,r)}},onWillFetchContentTree:function(o,n){if(typeof this.contentTree[this.currentEmbedCode]!="undefined"){this.mb.publish(e.EVENTS.CONTENT_TREE_FETCHED,this.contentTree[this.currentEmbedCode])}else{this._contentAjax=m.ajax({url:e.URLS.CONTENT_TREE(n)+"?"+m.param(n.params),type:"GET",dataType:"json",crossDomain:true,success:l.bind(this._onContentTreeFetched,this),error:l.bind(this._onApiError,this)})}},_onContentTreeFetched:function(o){var s;var p=e.HM.safeObject("playbackControl.contentTree",o,{});this._contentAjax=null;if(p.errors&&p.errors.code==0){l.each(p.content_tree,l.bind(function(t,u){this.contentTree[u]=p.content_tree[u]},this))}var n=["Video","VideoAd","LiveStream","Channel","MultiChannel"];if(this.contentTree[this.currentEmbedCode]){var q=p.content_tree[this.currentEmbedCode].hostedAtURL;if(q==""||q==null){p.content_tree[this.currentEmbedCode].hostedAtURL=document.URL}var r=n.indexOf(this.contentTree[this.currentEmbedCode].content_type)>=0;if(r){this.mb.publish(e.EVENTS.CONTENT_TREE_FETCHED,this.contentTree[this.currentEmbedCode],this.currentEmbedCode)}else{this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.CONTENT_TREE})}}else{this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.UNPLAYABLE_CONTENT})}},onWillFetchMetadata:function(o,n){if(typeof this.metadata[this.currentEmbedCode]!="undefined"){this.mb.publish(e.EVENTS.METADATA_FETCHED,this.metadata[this.currentEmbedCode])}else{this._metadataAjax=m.ajax({url:e.URLS.METADATA(n)+"&"+m.param(n.params),type:"GET",dataType:"json",crossDomain:true,success:l.bind(this._onMetadataFetched,this),error:l.bind(this._onApiError,this)})}},_onMetadataFetched:function(o){this.metadata=this.metadata||{};var n=e.HM.safeObject("api.metadata",o,{});this._metadataAjax=null;if(n.errors&&n.errors.code==0){l.each(n.metadata,l.bind(function(q,p){this.metadata[p]=n.metadata[p];this.metadata[p].modules=this.metadata[p].modules||{};this.metadata[p].modules=l.extend(this.metadata[p].modules,this.params.modules||{})},this))}this.mb.publish(e.EVENTS.METADATA_FETCHED,this.metadata[this.currentEmbedCode]||{});if(n.errors&&n.errors.player_movie_mismatch&&typeof(window.console)!="undefined"&&typeof(window.console.log)=="function"){console.log("WARNING: Player and movie providers do not match")}},onWillFetchAuthorization:function(o,n){if(this.sasResponse[this.currentEmbedCode]&&this.sasResponse[this.currentEmbedCode].code==0){this.mb.publish(e.EVENTS.AUTHORIZATION_FETCHED,this.sasResponse[this.currentEmbedCode])}else{this._sendSasRequest(n,l.bind(this._onAuthorizationFetched,this),l.bind(this._onApiError,this))}},_onAuthorizationFetched:function(o){var q,n;this._sasAjax=null;var p=e.HM.safeObject("playbackControl.sasResponse",o,{});if(p.auth_token){e.setItem("oo_auth_token",p.auth_token);this.authToken=p.auth_token}else{e.localStorage.removeItem("oo_auth_token");this.authToken=null}l.each(p.authorization_data,l.bind(function(r,s){this.sasResponse[s]=p.authorization_data[s];if(p.debug_data){this.sasResponse[s].debug_data=p.debug_data
}if(p.user_info){this.sasResponse[s].user_info=p.user_info}if(p.auth_token){this.sasResponse[s].auth_token=p.auth_token}if(p.heartbeat_data){this.sasResponse[s].heartbeat_data=p.heartbeat_data}},this));q=this.sasResponse[this.currentEmbedCode].code;if(q==0){this.mb.publish(e.EVENTS.AUTHORIZATION_FETCHED,this.sasResponse[this.currentEmbedCode]);return}if(!l.isString(q)){this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.GENERIC});return}n=q.split(",");if(l.contains(n,"2")){this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.DOMAIN})}else{if(l.contains(n,"3")){this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.GEO})}else{if(l.contains(n,"4")){this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.FUTURE})}else{if(l.contains(n,"5")){this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.PAST})}else{if(l.contains(n,"13")){this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.DEVICE})}else{if(l.contains(n,"18")){this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.CONCURRENT_STREAMS})}else{if(l.contains(n,"24")){this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.PROXY})}else{this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.GENERIC})}}}}}}}},onWillFetchAdAuthorization:function(o,n){this._sendSasRequest(n,l.bind(this._onAdAuthorizationFetched,this))},_onAdAuthorizationFetched:function(n){var p=e.HM.safeObject("playbackControl.sasResponse",n,{});var o={};l.each(p.authorization_data,l.bind(function(q,r){o[r]=p.authorization_data[r]},this));this.mb.publish(e.EVENTS.AD_AUTHORIZATION_FETCHED,o)},_sendSasRequest:function(p,r,q){var n=e.supportedVideoProfiles,o=e.device;m.extend(p.params,{device:o,domain:e.docDomain});if(n){m.extend(p.params,{profiles:n})}if(this.authToken){m.extend(p.params,{auth_token:this.authToken})}this._sasAjax=m.ajax({url:e.URLS.SAS(p)+"?"+m.param(p.params),type:"GET",dataType:"json",xhrFields:{withCredentials:true},crossDomain:true,success:r,error:q})},_abort:function(n){if(!n){return}this._aborting=true;n.abort();this._aborting=false},_onApiError:function(p,n,o){if(this._aborting){return}e.d(o,n,p);this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.NETWORK,xhrStatus:n})},__placeholder:true});e.registerModule("api",function(n,p,o){return new k(n,p,o)})}(a,a._,a.$));a.plugin("Channels",function(l,m,n,e){var k=function(o,p){this.id=p;this.mb=o;this.channel_tree=null;this.channel_pos=-1;this.replay=false;l.StateMachine.create({initial:"Init",messageBus:this.mb,moduleName:"Channels",target:this,events:[{name:l.EVENTS.PLAYER_CREATED,from:"*"}]})};m.extend(k.prototype,{onPlayerCreated:function(p,o,q){this.enableChannels=q.enableChannels||l.playerParams.enableChannels||false;this.mb.intercept(l.EVENTS.CONTENT_TREE_FETCHED,"channels",m.bind(this._checkTreeForChannel,this))},_checkTreeForChannel:function(q,p){var o=["Channel","MultiChannel"];if(p&&(o.indexOf(p.content_type)>=0||p.lineup)){if(this.enableChannels){if(l.requiredInEnvironment("html5-playback")||l.requiredInEnvironment("cast-playback")){if(!p.children){if(p.content_type=="Channel"){this.mb.publish(l.EVENTS.ERROR,{code:l.ERROR.EMPTY_CHANNEL})}else{this.mb.publish(l.EVENTS.ERROR,{code:l.ERROR.EMPTY_CHANNEL_SET})}return false}this.channel_tree=p;this.channel_pos=0;this.mb.subscribe(l.EVENTS.PLAYED,"channels",m.bind(this.onPlayed,this));this.mb.subscribe(l.EVENTS.PLAYBACK_READY,"channels",m.bind(this.onPlaybackReady,this));this.mb.publish(l.EVENTS.SET_EMBED_CODE,p.children[0].embed_code)}return false}this.mb.publish(l.EVENTS.ERROR,{code:l.ERROR.CHANNEL_CONTENT});return false}return[p]},onPlayed:function(o){this.channel_pos++;if(this.channel_tree.children[this.channel_pos]){this.mb.publish(l.EVENTS.SET_EMBED_CODE,this.channel_tree.children[this.channel_pos].embed_code)}else{this.channel_pos=0;this.mb.publish(l.EVENTS.SET_EMBED_CODE,this.channel_tree.children[0].embed_code)}},onPlaybackReady:function(o){if(this.channel_pos>0){this.mb.publish(l.EVENTS.PLAY)}}});return k});a.plugin("ExternalId",function(k,l,m,e){var n=function(o,p){this.id=p;this.mb=o;this.mb.intercept(k.EVENTS.SET_EMBED_CODE,"ExternalId",l.bind(this._checkExternalId,this))
};l.extend(n.prototype,{_checkExternalId:function(r,o,q){var p=o.match("^extId:(.*)");if(p&&p[1]){this.externalId=p[1];this.options=q||{};this._fetchExternalId({externalId:this.externalId,pcode:k.playerParams.pcode||"1kNG061cgaoolOncv54OAO1ceO-I",server:k.SERVER.API});return false}return[o,q]},_fetchExternalId:function(o){this._contentAjax=m.ajax({url:k.URLS.EXTERNAL_ID(o),type:"GET",dataType:"json",crossDomain:true,cache:false,success:l.bind(this._onExternalIdFetched,this),error:l.bind(this._onExternalIdError,this)})},_onExternalIdFetched:function(p){var o=null;var q=k.HM.safeObject("playbackControl.contentTree",p,{});if(q.errors&&q.errors.code==0){l.each(q.content_tree,l.bind(function(s,r){if(s.external_id===this.externalId){o=r}},this))}l.extend(this.options,{originalId:this.externalId});if(o){this.mb.publish(k.EVENTS.SET_EMBED_CODE,o,this.options)}else{this.mb.publish(k.EVENTS.ERROR,{code:k.ERROR.INVALID_EXTERNAL_ID})}},_onExternalIdError:function(o){this.mb.publish(k.EVENTS.ERROR,{code:k.ERROR.INVALID_EXTERNAL_ID})}});return n});(function(k,l,m){var e=function(n,o){if(!k.requiredInEnvironment("html5-playback")){return}this.mb=n;this.id=o;this.embedCode=null;this.authToken=null;this.heartbeatInterval=300;this.timer=null;this.retries=3;this.AUTH_HEARTBEAT_URL=l.template("<%=server%>/player_api/v1/auth_heartbeat/pcode/<%=pcode%>/auth_token/<%=authToken%>?embed_code=<%=embedCode%>");this.mb.subscribe(k.EVENTS.EMBED_CODE_CHANGED,"auth_heartbeat",l.bind(this._onEmbedCodeChanged,this));this.mb.subscribe(k.EVENTS.AUTHORIZATION_FETCHED,"auth_heartbeat",l.bind(this._onAuthorizationFetched,this))};l.extend(e.prototype,{_onEmbedCodeChanged:function(o,n){this.embedCode=n;if(this.timer){clearInterval(this.timer)}if(this.ajax){this.ajax.error=null;this.ajax.abort();this.ajax=null}this.retries=3},_onAuthorizationFetched:function(o,n){if(n.heartbeat_data&&n.heartbeat_data.heartbeat_interval){this.heartbeatInterval=n.heartbeat_data.heartbeat_interval}if(n.auth_token){this.authToken=n.auth_token}if(n.require_heartbeat===true){this.timer=setInterval(l.bind(this._onTimerTick,this),this.heartbeatInterval*1000);this._onTimerTick()}},_onTimerTick:function(){this.ajax=m.ajax({url:this.AUTH_HEARTBEAT_URL({server:k.SERVER.AUTH,pcode:k.playerParams.pcode||"unknown",authToken:this.authToken||"",embedCode:this.embedCode||""}),type:"GET",dataType:"json",crossDomain:true,cache:false,success:l.bind(this._onHeartbeatResponse,this),error:l.bind(this._onHeartbeatErrorResponse,this)})},_onHeartbeatResponse:function(n){this.ajax=null;if(!n.message||n.message!="OK"||!n.signature){this._onHeartbeatError(k.ERROR.API.SAS.INVALID_HEARTBEAT)}else{if(!n.expires||n.expires<new Date().getTime()/1000){this._onHeartbeatError(k.ERROR.API.SAS.INVALID_HEARTBEAT)}else{this.retries=3;if(n.auth_token!=null){this.authToken=n.auth_token;k.setItem("oo_auth_token",n.auth_token)}}}},_onHeartbeatErrorResponse:function(n){this.ajax=null;if(n&&n.responseText&&n.responseText.indexOf("Invalid entitlements")>-1){this._onHeartbeatError(k.ERROR.API.SAS.ERROR_INVALID_ENTITLEMENTS)}else{this._onHeartbeatError(k.ERROR.API.SAS.CONCURRENT_STREAMS)}},_onHeartbeatError:function(n){this.ajax=null;this.retries--;if(this.retries>0){this._onTimerTick();return}if(this.timer){clearInterval(this.timer)}this.mb.publish(k.EVENTS.ERROR,{code:n})}});k.registerModule("auth_heartbeat",function(n,o){return new e(n,o)})}(a,a._,a.$));(function(e,x,m){e.EVENTS.AMC_ALL_ADS_DONE="adManagerControllerAllAdsDone";e.EVENTS.AMC_PREROLLS_DONE="adManagerControllerPrerollsDone";e.EVENTS.AMC_ALL_READY="adManagerControllerAllReady";e.EVENTS.AD_POD_STARTED="adPodStarted";e.EVENTS.AD_POD_ENDED="adPodEnded";e.EVENTS.NONLINEAR_AD_PLAYED="nonlinearAdPlayed";e.EVENTS.HIDE_NONLINEAR_AD="hideNonlinearAd";e.EVENTS.SHOW_NONLINEAR_AD="showNonlinearAd";e.EVENTS.SHOW_NONLINEAR_AD_CLOSE_BUTTON="showNonlinearAdCloseButton";e.EVENTS.NONLINEAR_AD_DISPLAYED="nonlinearAdDisplayed";e.EVENTS.AD_MANAGER_HANDLED_ADS="adManagerHandledAds";e.EVENTS.SHOW_AD_SKIP_BUTTON="showAdSkipButton";
e.EVENTS.SHOW_AD_CONTROLS="showAdControls";e.EVENTS.SHOW_AD_MARQUEE="showAdMarquee";var w=3000;var q=5000;var l=2000;var o=5;var u=2000;var y={};var t={PAUSE_AD_ON_CLICK:"pauseAdOnClick",AD_LOAD_TIMEOUT:"adLoadTimeout",DISPLAY_CUE_POINTS:"displayCuePointMarkers",REPLAY_ADS:"replayAds",SHOW_NONLINEAR_CLOSE_BUTTON:"showNonLinearCloseButton",SHOW_LINEAR_AD_SKIP_BUTTON:"showLinearAdSkipButton",LINEAR_AD_SKIP_BUTTON_START_TIME:"linearAdSkipButtonStartTime",ALLOW_AD_CLICK_THROUGH_ON_VIDEO:"allowAdClickThroughOnVideo"};var s=[];e.Ads={manager:function(z){if(typeof z=="function"){var A=z.apply({},[x,m]);if(e.Ads.validateAdManager(A)){e.log("AMC: Registering ad manager factory: "+A.name);y[A.name]=z}}},unregisterAdManager:function(z){e.log("AMC: Removing an ad manager factory: "+z);if(z&&y[z]){s.push(z);delete y[z]}},validateAdManager:function(F){var D={name:"string",ready:"boolean"};var G=["initialize","buildTimeline","playAd","cancelAd"];function B(H){e.log("AMC: "+H)}function A(H,I,J){if(!x.has(F,H)){B("The ad manager '"+J+"' requires a '"+H+"' property");return false}if(typeof F[H]!=I){B("The ad manager '"+J+"' property '"+H+"' should be type '"+I+"'");return false}return true}function E(H,I){if(!x.isFunction(F[H])){B("The ad manager '"+I+"' requires a '"+H+"' function");return false}return true}if(!F){B(" The ad manager must be defined");return false}if(!x.isObject(F)){B("The ad manager must be an object");return false}for(var C in D){if(!A(C,D[C],F.name)){return false}}for(var z=0;z<G.length;z++){if(!E(G[z],F.name)){return false}}if(y[F.name]){B("The ad manager '"+F.name+"' has already been registered");return false}return true},getUnregisteredAdManagers:function(){return s}};e.exposeStaticApi("Ads",e.Ads);var v=function(){var D=["EVENTS","ADTYPE","AD_CANCEL_CODE","AD_SETTINGS","MAX_AD_REQUEST_TIMEOUT","Ad","ui","platform","adManagerSettings","playerSettings","backlotSettings","pageSettings","currentEmbedCode","movieMetadata","startTime","movieDuration","isLiveStream"];var A=["playAd","addPlayerListener","removePlayerListener","loadAdModule","onAdManagerReady","removeAdManager","adsClicked","raiseAdError","appendToTimeline","showCompanion","forceAdToPlay","adManagerWillControlAds","adManagerDoneControllingAds","notifyPodStarted","notifyPodEnded","notifyLinearAdStarted","notifyLinearAdEnded","notifyNonlinearAdStarted","notifyNonlinearAdEnded","hidePlayerUi","isLastAdPlayed","sendURLToLoadAndPlayNonLinearAd","showSkipVideoAdButton","getRegisteredAdManagers","unregisterAdManager"];var C=x.union(D,A);for(var B=0;B<C.length;B++){if(x.isFunction(n[C[B]])){this[C[B]]=x.bind(n[C[B]],n)}else{var z=x.bind(function(E){return this[E]},n,C[B]);Object.defineProperty(this,C[B],{get:z})}}};var r=function(){this.requiredInEnvironment=e.requiredInEnvironment;var z=["platform","os","isIos","iosMajorVersion","isAndroid4Plus","isFirefox","isChrome","chromeMajorVersion","isIE","isIE11Plus","isMacOs","isMacOsLionOrLater","isKindleHD","isSSL","device","isIphone","isIpad","isAndroid","isRimDevice","isWinPhone","isSmartTV","DEV"];for(var A=0;A<z.length;A++){this[z[A]]=e[z[A]]}};var k=function(C,B,G){var K=C;var J=G;this.elementId=null;this.useSingleVideoElement=false;this.rootElement=null;this.videoWrapper=null;this.playerSkinVideoWrapper=null;this.ooyalaVideoElement=null;this.adVideoElement=null;this.adWrapper=null;this.pluginsElement=null;this.playerSkinPluginsElement=null;this.height=null;this.width=null;this.uiParameters={};this.aliceUiParameters={};var L=null;var H=x.bind(function(){this.useSingleVideoElement=e.requiresSingleVideoElement;K.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amcUi",M);K.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_DISPOSED,"amcUi",F);K.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,"amcUi",z);K.subscribe(e.EVENTS.EMBED_CODE_CHANGED,"amcUi",E)},this);this.destroy=function(){I();K.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amcUi");K.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,"amcUi");K.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_DISPOSED,"amcUi");
K.unsubscribe(e.EVENTS.EMBED_CODE_CHANGED,"amcUi")};var D=function(N){var O=N;while(document.getElementById(O)){O=N+"-"+e.getRandomString()}return O};this.setupUiElements=function(){var O=this.uiParameters;this.videoWrapper=this.rootElement.find("."+O.videoWrapperClass);this.pluginsElement=this.videoWrapper.find("."+O.pluginsClass);this.pluginsElement.attr("id",D("ooyala-plugins-element"));this.videoWrapper.attr("id",D("ooyala-inner-wrapper"));var N=this.aliceUiParameters;if(!x.isEmpty(N)){this.playerSkinVideoWrapper=this.rootElement.find("."+N.videoWrapperClass);this.playerSkinPluginsElement=this.playerSkinVideoWrapper.find("."+N.pluginsClass);this.playerSkinPluginsElement.attr("id",D("ooyala-plugins-element"));this.playerSkinVideoWrapper.attr("id",D("ooyala-inner-wrapper"))}this.adWrapper=this.useSingleVideoElement?this.videoWrapper:this.pluginsElement};this.registerUi=function(){for(var N in J){if(J[N]){p(J[N],"registerUi",[])}}};this.setupAndRegisterUi=function(){this.setupUiElements();this.registerUi();if(e.isAndroid||e.isIos){A()}};var A=x.bind(function(){e.log("AMC: Prepping player with a video element on load");var R={};R[e.VIDEO.ENCODING.MP4]="";var O=null;var P=[];for(var Q in J){if(J[Q].videoRestrictions){if(J[Q].videoRestrictions.technology){O=J[Q].videoRestrictions.technology}if(J[Q].videoRestrictions.features){for(var N in J[Q].videoRestrictions.features){P.push(J[Q].videoRestrictions.features[N])}}}}P=x.uniq(P);this.createAdVideoElement(R,{technology:O,features:P})},this);this.createAdVideoElement=function(N,P){var Q={};for(var O in N){Q[O]={url:N[O]}}K.publish(e.EVENTS.VC_CREATE_VIDEO_ELEMENT,e.VIDEO.ADS,Q,this.pluginsElement,P)};var M=x.bind(function(O,N){if(N.videoId===e.VIDEO.MAIN){this.ooyalaVideoElement=N.videoElement;if(this.useSingleVideoElement){this.setupAndRegisterUi()}}else{if(N.videoId===e.VIDEO.ADS){this.adVideoElement=N.videoElement;this.adWrapper=N.parent}}},this);var I=x.bind(function(){if(this.adVideoElement){K.publish(e.EVENTS.VC_DISPOSE_VIDEO_ELEMENT,e.VIDEO.ADS)}},this);var F=x.bind(function(N,O){if(O===e.VIDEO.ADS){this.adVideoElement=null}},this);var z=x.bind(function(N,O){L=O},this);var E=x.bind(function(){I()},this);this.isAdInFocus=function(){return L===e.VIDEO.ADS};this.transitionToAd=function(){K.publish(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,e.VIDEO.ADS)};this.transitionToMainContent=function(N,O){if(L!==e.VIDEO.MAIN){K.publish(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,e.VIDEO.MAIN)}if(N&&!O){K.publish(e.EVENTS.VC_PLAY,e.VIDEO.MAIN)}};this.shouldDisplayCuePointMarkers=function(){K.publish(e.EVENTS.SHOULD_DISPLAY_CUE_POINTS,B[t.DISPLAY_CUE_POINTS])};this.resetCuePoints=function(N,O){var P=N.map(function(Q){if(Q.position>O){return O}return Q.position},this);K.publish(e.EVENTS.RESET_CUE_POINTS,P)};H()};e.AdManagerController=function(aU,av){var H="adManagerController";var aT=aU;var M=false;var aF={};var E=false;this.adManagerSettings={};this.playerSettings={};this.backlotSettings=null;this.pageSettings=null;var a1=null;var an=null;var aC=null;var aR="";this.currentEmbedCode="";this.movieMetadata=null;this.startTime=-1;this.movieDuration=-1;this.isLiveStream=false;var ap=-1;var Z=-1;var ay=[];var U=[];var ao=[];var O=false;var af=0;var a3=0;var ai=false;var Y=false;var a4=0;var aQ=false;var aH=false;var aV=false;this.ended=false;this.waitForPostrollToPlay=true;var L={};var aq=false;var aJ=false;var aa=false;var ac=false;var aS=false;var aB=null;var aW=null;this.adStarted=false;var N=false;var J=false;var ag={};var V={};var X=true;var ae=null;var W=false;var aD=false;this.ui=null;this.platform=null;this.oInterface=null;this.adManagers={};this.unregisteredAdManagers=[];this.MAX_AD_MODULE_LOAD_TIMEOUT=5000;this.MAX_AD_REQUEST_TIMEOUT=u;this.testMode=false;this.AD_SETTINGS=t;this.EVENTS={INITIAL_PLAY_REQUESTED:"initialPlayRequested",REPLAY_REQUESTED:"replayRequested",PLAY_STARTED:"playStarted",PLAYHEAD_TIME_CHANGED:"playheadTimeChanged",AD_PLAYHEAD_TIME_CHANGED:"adPlayheadTimeChanged",PAUSE:"pause",RESUME:"resume",CONTENT_COMPLETED:"contentCompleted",CONTENT_AND_ADS_COMPLETED:"contentAndAdsCompleted",SIZE_CHANGED:"sizeChanged",CONTROLS_SHOWN:"controlsShown",CONTROLS_HIDDEN:"controlsHidden",CONTENT_CHANGED:"contentChanged",FULLSCREEN_CHANGED:"fullscreenChanged",VOLUME_CHANGED:"volumeChanged",AD_VOLUME_CHANGED:"adVolumeChanged",MAIN_CONTENT_IN_FOCUS:"mainContentInFocus"};
var aA={SEEKED:"seeked",CONTENT_VIDEO_PLAYED:"contentVideoPlayed"};this.ADTYPE={LINEAR_OVERLAY:"linearOverlay",NONLINEAR_OVERLAY:"nonlinearOverlay",LINEAR_VIDEO:"linearVideo",COMPANION:"companion"};this.AD_CANCEL_CODE={SKIPPED:"skipped",TIMEOUT:"timeout",ERROR:"error",STREAM_ENDED:"streamEnded"};this.Ad=function(a9){if(!a9){a9={}}this.id=x.uniqueId(a9.adManager+"_");this.position=a9.position||0;this.duration=a9.duration||0;this.adManager=a9.adManager;this.ad=a9.ad||{};this.adType=a9.adType||n.ADTYPE.LINEAR_VIDEO;this.isLinear=((this.adType==n.ADTYPE.LINEAR_VIDEO)||(this.adType==n.ADTYPE.LINEAR_OVERLAY));this.streams=a9.streams||{};this.played=false;this.videoRestrictions=a9.videoRestrictions};var T=["Init","Ready","Playback","Reload","Overlay"];var a7=["LinearAd"];this.fsm=e.StateMachine.create({initial:"Init",messageBus:aT,moduleName:H,target:this,events:[{name:e.EVENTS.PLAYER_CREATED,from:"Init",to:"Init"},{name:e.EVENTS.PLAY,from:a7,to:"*"},{name:e.EVENTS.INITIAL_PLAY,from:"Ready",to:"Playback"},{name:e.EVENTS.SET_EMBED_CODE,from:"*",to:"Reload"},{name:e.EVENTS.EMBED_CODE_CHANGED,from:"*",to:"Ready"},{name:e.EVENTS.PLAYED,from:"*",to:"Ready"},{name:e.EVENTS.REPLAY,from:"*",to:"Playback"},{name:e.EVENTS.AMC_ALL_READY,from:"*",to:"Ready"},{name:e.EVENTS.WILL_PLAY_ADS,from:T,to:"LinearAd"},{name:e.EVENTS.AD_POD_STARTED,from:"*",to:"LinearAd"},{name:e.EVENTS.WILL_PLAY_NONLINEAR_AD,from:"*",to:"*"},{name:e.EVENTS.PLAY_NONLINEAR_AD,from:"*",to:"Overlay"},{name:e.EVENTS.NONLINEAR_AD_PLAYED,from:"*",to:"Playback"},{name:e.EVENTS.ADS_PLAYED,from:"*",to:"Playback"}]});var au=x.bind(function(){if(E||!an||!a1||!aC){return}E=true;if(this.testMode){P()}else{x.delay(x.bind(P,this),w)}for(var bc in t){if(typeof this.pageSettings[t[bc]]!="undefined"){this.adManagerSettings[t[bc]]=this.pageSettings[t[bc]]}}for(var bb in this.adManagers){var ba=this.adManagers[bb];if(ba){var a9=e.getInnerProperty(this.backlotSettings,["modules",bb,"metadata"])||{};a9=x.extend(a9,e.getInnerProperty(this.pageSettings,[bb]));for(var bc in t){if(typeof a9[t[bc]]!="undefined"){if((ba.name=="google-ima-ads-manager")&&(this.adManagerSettings[t[bc]]!=null)){return}this.adManagerSettings[t[bc]]=a9[t[bc]]}}p(ba,"loadMetadata",[a9,e.getInnerProperty(this.backlotSettings,["base"])||{},this.movieMetadata])}}this.adManagerSettings[t.PAUSE_AD_ON_CLICK]=(typeof this.adManagerSettings[t.PAUSE_AD_ON_CLICK]=="undefined")?true:aI(this.adManagerSettings[t.PAUSE_AD_ON_CLICK]);this.adManagerSettings[t.DISPLAY_CUE_POINTS]=(typeof this.adManagerSettings[t.DISPLAY_CUE_POINTS]=="undefined")?true:aI(this.adManagerSettings[t.DISPLAY_CUE_POINTS]);this.adManagerSettings[t.REPLAY_ADS]=(typeof this.adManagerSettings[t.REPLAY_ADS]=="undefined")?true:aI(this.adManagerSettings[t.REPLAY_ADS]);this.adManagerSettings[t.SHOW_NONLINEAR_CLOSE_BUTTON]=(typeof this.adManagerSettings[t.SHOW_NONLINEAR_CLOSE_BUTTON]=="undefined")?false:aI(this.adManagerSettings[t.SHOW_NONLINEAR_CLOSE_BUTTON]);this.adManagerSettings[t.SHOW_LINEAR_AD_SKIP_BUTTON]=(typeof this.adManagerSettings[t.SHOW_LINEAR_AD_SKIP_BUTTON]=="undefined")?false:aI(this.adManagerSettings[t.SHOW_LINEAR_AD_SKIP_BUTTON]);this.adManagerSettings[t.LINEAR_AD_SKIP_BUTTON_START_TIME]=(typeof this.adManagerSettings[t.LINEAR_AD_SKIP_BUTTON_START_TIME]=="undefined")?o:parseInt(this.adManagerSettings[t.LINEAR_AD_SKIP_BUTTON_START_TIME]);this.adManagerSettings[t.ALLOW_AD_CLICK_THROUGH_ON_VIDEO]=(typeof this.adManagerSettings[t.ALLOW_AD_CLICK_THROUGH_ON_VIDEO]=="undefined")?true:aI(this.adManagerSettings[t.ALLOW_AD_CLICK_THROUGH_ON_VIDEO]);this.ui.shouldDisplayCuePointMarkers();if(this.adManagerSettings[t.AD_LOAD_TIMEOUT]!=null){q=this.adManagerSettings[t.AD_LOAD_TIMEOUT]*1000}aE()},this);var aI=x.bind(function(a9){a9=a9.toString().toLowerCase();return a9==="true"||a9==="yes"||a9==="1"},this);var D=x.bind(function(ba){ba=ba||false;aT.removeDependent(e.EVENTS.PLAYBACK_READY,e.EVENTS.AMC_ALL_READY);aT.removeDependent(e.EVENTS.WILL_PLAY_FROM_BEGINNING,e.EVENTS.AMC_PREROLLS_DONE);
aT.removeDependent(e.EVENTS.PLAYED,e.EVENTS.AMC_ALL_ADS_DONE);aT.removeDependent(e.EVENTS.PLAYED,e.EVENTS.AD_MANAGER_HANDLED_ADS);L={};if(!ba){var a9=function(bb,bd,be,bc){return be};aT.addDependent(e.EVENTS.PLAYBACK_READY,e.EVENTS.AMC_ALL_READY,H,a9);aT.addDependent(e.EVENTS.WILL_PLAY_FROM_BEGINNING,e.EVENTS.AMC_PREROLLS_DONE,H,a9);aT.addDependent(e.EVENTS.PLAYED,e.EVENTS.AMC_ALL_ADS_DONE,H,a9)}},this);this.onPlayerCreated=function(be,a9,bg){var bd=x.bind(function(){ar();aT.publish(e.EVENTS.AMC_ALL_READY,Object.keys(this.adManagers))},this);for(var bc in y){var ba=y[bc];var bf=ba.apply({},[x,m]);e.log("AMC: Registering ad manager: "+bf.name);this.adManagers[bf.name]=bf}if((!this.adManagers)||x.isEmpty(this.adManagers)){bd();return}if(!e.supportAds||!e.requiredInEnvironment("ads")||e.requiredInEnvironment("flash-playback")){bd();return}this.ui=new k(aT,this.adManagerSettings,this.adManagers);this.platform=new r(aT);this.oInterface=new v(this);this.pageSettings=bg;an=true;if(bg&&bg.initialTime!=null){this.startTime=bg.initialTime}this.ui.elementId=a9;this.ui.rootElement=m("#"+a9);if(!this.ui.rootElement){return bd()}this.ui.height=this.ui.rootElement.height();this.ui.width=this.ui.rootElement.width();D();aT.intercept(e.EVENTS.DESTROY,H,x.bind(this.onDestroy,this));for(var bb in this.adManagers){if(this.adManagers[bb]){p(this.adManagers[bb],"initialize",[this.oInterface,a9])}}aT.subscribe(e.EVENTS.PLAYER_EMBEDDED,H,x.bind(this.onPlayerEmbedded,this));aT.subscribe(e.EVENTS.METADATA_FETCHED,H,x.bind(this.onMetadataFetched,this));aT.subscribe(e.EVENTS.CONTENT_TREE_FETCHED,H,x.bind(this.onContentTreeFetched,this));aT.subscribe(e.EVENTS.AUTHORIZATION_FETCHED,H,x.bind(this.onAuthorizationFetched,this));aT.subscribe(e.EVENTS.ASSET_CHANGED,H,x.bind(this.onAssetChanged,this));aT.subscribe(e.EVENTS.UI_READY,H,x.bind(this.onUiReady,this));aT.subscribe(e.EVENTS.PLAYBACK_READY,H,x.bind(this.onPlaybackReady,this));aT.subscribe(e.EVENTS.WILL_PLAY_FROM_BEGINNING,H,x.bind(this.onWillPlayFromBeginning,this));aT.subscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,H,x.bind(this.onPlayheadTimeChanged,this));aT.subscribe(e.EVENTS.PAUSE,H,x.bind(this.onPause,this));aT.subscribe(e.EVENTS.WILL_PLAY,H,x.bind(this.onWillPlay,this));aT.subscribe(e.EVENTS.PLAYING,H,x.bind(this.onPlaying,this));aT.subscribe(e.EVENTS.SEEK,H,x.bind(this.onSeek,this));aT.subscribe(e.EVENTS.SEEKED,H,x.bind(this.onSeeked,this));aT.subscribe(e.EVENTS.VC_PLAY,H,aG);aT.subscribe(e.EVENTS.VC_PLAYING,H,x.bind(this.onVideoPlaying,this));aT.subscribe(e.EVENTS.VC_PLAY_FAILED,H,x.bind(this.onVideoPlayFailed,this));aT.subscribe(e.EVENTS.VC_PLAYED,H,x.bind(this.onVideoPlayed,this));aT.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,H,x.bind(this.onVideoElementInFocus,this));aT.subscribe(e.EVENTS.FULLSCREEN_CHANGED,H,x.bind(this.onFullscreenChanged,this));aT.subscribe(e.EVENTS.SIZE_CHANGED,H,x.bind(this.onSizeChanged,this));aT.subscribe(e.EVENTS.VOLUME_CHANGED,H,x.bind(this.onVolumeChanged,this));aT.subscribe(e.EVENTS.CONTROLS_SHOWN,H,x.bind(this.onControlsShown,this));aT.subscribe(e.EVENTS.CONTROLS_HIDDEN,H,x.bind(this.onControlsHidden,this));aT.subscribe(e.EVENTS.ADS_CLICKED,H,x.bind(this.onAdsClicked,this));aT.subscribe(e.EVENTS.SKIP_AD,H,x.bind(this.onSkipAd,this));aT.subscribe(e.EVENTS.WILL_PAUSE_ADS,H,x.bind(this.onWillPauseAds,this));aT.subscribe(e.EVENTS.WILL_RESUME_ADS,H,x.bind(this.onWillResumeAds,this));aT.subscribe(e.EVENTS.AD_POD_ENDED,H,x.bind(this.onAdPodEnded,this));au()};var aL=x.bind(function(){if(!ac&&!x.isEmpty(this.ui.uiParameters)){this.ui.setupAndRegisterUi();ac=true}},this);this.onPlayerEmbedded=function(a9,ba){if(ba){this.ui.uiParameters=ba}};this.onUiReady=function(a9,ba){if(ba){this.ui.aliceUiParameters=ba}if(!this.ui.useSingleVideoElement){aL()}};this.onPlaybackReady=function(){if(!this.ui.useSingleVideoElement){aL()}};this.onMetadataFetched=function(ba,a9){this.backlotSettings=a9;a1=true;au()};this.onContentTreeFetched=function(a9,ba){this.movieMetadata=ba;aC=true;if(ba&&ba.duration&&(this.movieDuration==-1)){this.movieDuration=ba.duration/1000
}au()};this.onAuthorizationFetched=function(ba,a9){this.isLiveStream=false;if(a9&&a9.streams&&a9.streams[0]){this.isLiveStream=a9.streams[0]["is_live_stream"]}};this.onAssetChanged=function(ba,a9,bb){this.pageSettings=bb;this.backlotSettings={};a1=true;this.movieMetadata=a9.content;aC=true;if(a9.content&&a9.content.duration&&(this.movieDuration==-1)){this.movieDuration=a9.content.duration/1000}this.isLiveStream=false;if(a9.content&&a9.content.streams&&a9.content.streams[0]){this.isLiveStream=a9.content.streams[0]["is_live_stream"]}au()};this.loadAdModule=function(a9,ba,bb){x.defer(function(bc,bd,be,bf){e.loadScriptOnce(be,x.bind(function(){bf(true);bc.onAdManagerReady()},bc,bd,bf),x.bind(function(){bf(false);bc.removeAdManager(bd)},bc,bd,bf),bc.MAX_AD_MODULE_LOAD_TIMEOUT)},this,a9,ba,bb)};this.onAdManagerReady=function(){aE()};this.removeAdManager=function(a9){e.log("AMC: removing failed ad manager "+a9);this.unregisterAdManager(a9);aE()};var aE=x.bind(function(){if(M){return}for(var a9 in this.adManagers){if(!this.adManagers[a9].ready){return}}M=true;aP();aT.publish(e.EVENTS.AMC_ALL_READY,Object.keys(this.adManagers))},this);var P=x.bind(function(){if(!M){for(var a9 in this.adManagers){if(!this.adManagers[a9].ready){this.removeAdManager(a9)}}if(!M){M=true;aP();aT.publish(e.EVENTS.AMC_ALL_READY,Object.keys(this.adManagers))}}},this);this.onAdManagerControllerAllReady=function(){if((!y)||x.isEmpty(y)){e.log("AMC: No ad manager factories, destroying AMC");ar();return}aa=false};var aP=x.bind(function(){for(var bb in this.adManagers){var ba=this.adManagers[bb];if(ba){var a9=p(ba,"buildTimeline",[]);if(x.isArray(a9)){ay=x.union(ay,a9);K(ay)}}}ay=Q(ay);this.ui.resetCuePoints(ay,this.movieDuration)},this);var K=x.bind(function(a9){x.each(a9,function(ba){if(a2(ba)){ba.ad.lastPlayed=ba.position;ba.ad.playTimes={};U.push(ba)}},this)},this);this.appendToTimeline=function(a9){if(x.isArray(a9)){ay=ay.concat(a9);ay=Q(ay);K(a9)}};var at=x.bind(function(a9){ao.push(a9);ao=Q(ao)},this);var Q=function(ba){var a9=ba;if((!e._.isArray(a9))||(!a9.length)||(a9.length<1)){return[]}a9.sort(function(bc,bb){if(!bc||!e._.isObject(bc)||bc.position==undefined){return 1}if(!bb||!e._.isObject(bb)||bb.position==undefined){return -1}if(bc.position<bb.position){return -1}if((bc.position==bb.position)&&(!bc.isLinear)){return 1}if((bc.position==bb.position)&&(!bb.isLinear)){return -1}if(bc.position==bb.position){return 0}return 1});return a9};this.showCompanion=function(a9){aT.publish(e.EVENTS.WILL_SHOW_COMPANION_ADS,{ads:a9})};this.hideCompanion=function(){};this.adManagerWillControlAds=function(a9){if(!L[a9]){if(m.isEmptyObject(L)){aT.addDependent(e.EVENTS.PLAYED,e.EVENTS.AD_MANAGER_HANDLED_ADS,H,function(){})}L[a9]=true}};this.forceAdToPlay=function(bc,bb,a9,be){var ba={adManager:bc,adType:a9,ad:bb,streams:be,position:-1};var bd=new this.Ad(ba);at(bd);K([bd]);if(!aD){a8(ap,false)}};this.adManagerDoneControllingAds=function(a9){if(L[a9]){delete L[a9];if(m.isEmptyObject(L)){aT.publish(e.EVENTS.AD_MANAGER_HANDLED_ADS)}}};this.isAdManagerControllingAds=function(a9){if(!a9){return m.isEmptyObject(L)}return !!(L[a9])};var a8=x.bind(function(ba,a9,bb){if(!ay||W){return}if(!af){af=this.movieDuration-e.CONSTANTS.SEEK_TO_END_LIMIT}var bc=S(ba,a9,bb);if(ao.length>0){if(m.inArray(this.currentState,a7)>=0){C()}else{z({type:ao[0].adManager,duration:bc})}return}else{if(this.tryAdsCompleted()){return}}if(!aH){aT.publish(e.EVENTS.AMC_PREROLLS_DONE)}},this);var aY=x.bind(function(bb,ba,bc){var a9=[];if(bc!==aA.SEEKED){x.each(U,function(bd){var bf=bd.ad.lastPlayed+bd.ad.repeatAfter;if((bf<=bb&&bb<this.movieDuration)||(!ba&&bc===aA.CONTENT_VIDEO_PLAYED)){if(this.startTime>=0){var bg=bd.ad.repeatAfter;var be;if(bb>bd.position){be=Math.floor((bb-bd.position)/bg)*bg+bd.position}else{be=bd.position}bd.ad.lastPlayed=be}else{bd.ad.lastPlayed=bf}if(!ba&&!aZ(bd,bd.ad.lastPlayed)){ao.push(bd)}}},this)}else{x.each(U,function(bd){var bh=bd.ad.repeatAfter;var bg=aO();if(bg&&bg===bd){bd.ad.firstPlay=true
}var be;if(bb>bd.position){be=Math.floor((bb-bd.position)/bh)*bh+bd.position}else{be=bd.position}if(!bg){var bf=bd.ad.lastPlayed+bh;if((bf<=bb&&bb<af)&&!aZ(bd,be)){a9.push(bd)}bd.ad.lastPlayed=be}else{if(bg&&bb>=be){bd.ad.lastPlayed=be}}},this)}ao=ao.concat(a9)},this);var aZ=x.bind(function(a9,ba){var bb=false;if(a9){if(ba in a9.ad.playTimes){bb=a9.ad.playTimes[ba]}}return bb},this);var S=x.bind(function(bb,a9,bc){if(ay==undefined||ay.length==0){return}var bd=0;if(a9){ao=[]}while(ay[a3]&&ay[a3].position>bb&&a3>0){a3--}var ba=a3;while(ay[ba]&&(ba<ay.length-1)&&(ay[ba].played==true)){ba++}while(ay[ba]&&ay[ba].position<=bb){a3=ba;if(a9&&(ao.length>0)&&(ay[ba].position!=ao[ao.length-1].position)){ao=[];bd=0}if(ay[ba].played||(O&&ay[ba].position<a4)){ba++;continue}if(x.indexOf(ao,ay[ba])>=0){ba++;continue}ao.push(ay[ba]);if(ay[ba].isLinear){bd=bd+ay[ba].duration}ba++}if(ao.length>0){aY(bb,true,bc)}else{aY(bb,false,bc);x.each(ao,function(be){if(be.isLinear){bd=bd+be.duration}},this)}ao=Q(ao);return bd},this);this.getTimeline=function(){return ay};this.getRepeatAds=function(){return x.clone(U)};this.getAdQueue=function(){return ao};this.isLastAdPlayed=function(){return ay.length==0||ay[ay.length-1].played};this.sendURLToLoadAndPlayNonLinearAd=function(bb,ba,a9){aT.publish(e.EVENTS.PLAY_NONLINEAR_AD,{ad:bb,url:a9});this.notifyNonlinearAdStarted(ba);if(a9&&this.adManagerSettings[t.SHOW_NONLINEAR_CLOSE_BUTTON]){aT.publish(e.EVENTS.SHOW_NONLINEAR_AD_CLOSE_BUTTON)}};this.showSkipVideoAdButton=function(a9,ba){if(typeof a9==="boolean"){X=a9;if(ba){ae=ba}}};var C=x.bind(function(){var bb=m.inArray(this.currentState,a7)>=0;var ba=Y||(!aH&&ap>0)||this.startTime>=this.movieDuration;if(this.startTime>=this.movieDuration||this.ended){ap=Number.MAX_VALUE}S(ap,ba);if(ao.length<=0||(ao[0]&&ao[0].isLinear!==bb)){if(bb){aT.publish(e.EVENTS.ADS_PLAYED)}return}var a9=ao.shift();this.playAd(a9)},this);var I=x.bind(function(){Z=-1;U=[]},this);var aO=function(){if(ao.length>0){return ao[0]}return null};var al=x.bind(function(a9){J=true;if(aB&&this.adManagers[aB.adManager]){ax(aB,a9);aT.publish(e.EVENTS.ADS_PLAYED)}},this);var ax=x.bind(function(ba,a9){if(ba&&this.adManagers[ba.adManager]){p(this.adManagers[ba.adManager],"cancelAd",[ba,a9])}},this);this.playAd=function(bb){if(!bb){return}if(a2(bb)){var a9;if(bb.ad.firstPlay){a9=bb.position;bb.ad.firstPlay=false}else{a9=bb.ad.lastPlayed}bb.ad.playTimes[a9]=true}aB=bb;aB.played=true;if(bb.isLinear){e.log("AMC: Will play a linear ad for time: "+bb.position+" at playhead "+ap);var ba=x.bind(function(bf,be,bd){e.log("AMC: Cancelling an ad due to timeout "+bd);ax(be,{code:this.AD_CANCEL_CODE.TIMEOUT});bf.publish(e.EVENTS.SINGLE_AD_PLAYED,bd);bf.publish(e.EVENTS.AD_POD_ENDED,bd)},this,aT,bb,bb.id);a6(bb,ba,q);if(bb.adManager&&this.adManagers[bb.adManager]){if(bb.adType===this.ADTYPE.LINEAR_VIDEO){aT.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amc",F);aT.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,"amc",x.bind(a5,this,bb));aT.subscribe(e.EVENTS.VC_ERROR,"amc",x.bind(a0,this,bb.id));var bc=this.adManagers[bb.adManager].videoRestrictions;if(bb.videoRestrictions){bc=bb.videoRestrictions}this.ui.createAdVideoElement(bb.streams,bc)}else{p(this.adManagers[bb.adManager],"playAd",[bb])}}else{this.notifyPodEnded(bb.id)}}else{aS=true;aB=bb;aW=aB;aT.publish(e.EVENTS.WILL_PLAY_NONLINEAR_AD,bb)}};var a2=x.bind(function(a9){if(a9&&a9.ad){return a9.ad.repeatAfter}return null},this);var a6=x.bind(function(a9,bb,ba){if(a9&&typeof bb==="function"&&!this.isAdManagerControllingAds(a9.adManager)){ag[a9.id]=x.delay(bb,ba)}},this);var F=x.bind(function(a9,ba){if(!(ba&&ba.videoId===e.VIDEO.ADS)){return}aT.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amc");this.ui.transitionToAd()},this);var a5=x.bind(function(ba,a9,bb){if(bb!=e.VIDEO.ADS){return}aT.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,"amc");aT.unsubscribe(e.EVENTS.VC_ERROR,"amc");p(this.adManagers[ba.adManager],"playAd",[ba]);if(ba.adType===this.ADTYPE.LINEAR_VIDEO){aT.publish(e.EVENTS.VC_PLAY,e.VIDEO.ADS)
}},this);var B=x.bind(function(a9){am(a9);this.adStarted=true},this);var am=x.bind(function(a9){if(ag&&ag[a9]){clearTimeout(ag[a9]);delete ag[a9]}},this);var a0=x.bind(function(a9,ba,bc,bb){if(bc!==e.VIDEO.ADS){return}aT.unsubscribe(e.EVENTS.VC_ERROR,"amc");if(aB&&aB.isLinear&&this.adManagers[aB.adManager]){p(this.adManagers[aB.adManager],"adVideoError",[aB,bb])}this.notifyPodEnded(a9)},this);this.notifyPodStarted=function(a9,ba){e.log("AMC: Start ad pod "+a9);am(a9);aT.publish(e.EVENTS.AD_POD_STARTED,ba)};this.notifyPodEnded=function(a9){e.log("AMC: End ad pod "+a9);aD=true;am(a9);aw();aT.publish(e.EVENTS.AD_POD_ENDED,a9)};this.notifyNonlinearAdStarted=function(a9){e.log("AMC: Start of non-linear ad "+a9);B(a9)};this.notifyNonlinearAdEnded=function(a9){aW=null;e.log("AMC: End of non-linear ad "+a9);aw();aT.publish(e.EVENTS.NONLINEAR_AD_PLAYED,a9)};this.notifyLinearAdStarted=function(a9,ba){e.log("AMC: Start of linear ad "+a9);W=true;aT.publish(e.EVENTS.WILL_PLAY_SINGLE_AD,ba);B(a9)};this.notifyLinearAdEnded=function(a9){e.log("AMC: End of linear ad "+a9);W=false;clearTimeout(V);aT.publish(e.EVENTS.SINGLE_AD_PLAYED,a9)};this.hidePlayerUi=function(){aT.publish(e.EVENTS.SHOW_AD_CONTROLS,false);aT.publish(e.EVENTS.SHOW_AD_MARQUEE,false)};var aw=x.bind(function(){aT.publish(e.EVENTS.SHOW_AD_CONTROLS,true);aT.publish(e.EVENTS.SHOW_AD_MARQUEE,true)},this);this.raiseAdError=function(a9){aT.publish(e.EVENTS.ADS_ERROR,a9)};this.addPlayerListener=function(a9,ba){if(x.indexOf(x.values(this.EVENTS),a9)<0){return}if(aF[a9]==null){aF[a9]=[]}if(!x.isFunction(ba)){return}aF[a9].push(ba)};this.removePlayerListener=function(bb,bc){var a9=aF[bb];if(a9){var ba=a9.indexOf(bc);if(ba>=0){a9.splice(ba,1)}if(a9.length<=0){delete aF[bb]}}};var A=x.bind(function(ba){if(aF[ba]&&x.isArray(aF[ba])){for(var a9=0;a9<aF[ba].length;a9++){aF[ba][a9].apply(this,arguments)}}},this);this.onPlay=function(){if(m.inArray(this.currentState,a7)<0||!this.adStarted){return}aT.publish(e.EVENTS.WILL_RESUME_ADS)};this.onInitialPlay=function(){if(this.startTime<=0){ap=0;this.startTime=0}if(e.isAndroid&&e.isChrome){aT.publish(e.EVENTS.VC_RELOAD,e.VIDEO.MAIN)}A(this.EVENTS.INITIAL_PLAY_REQUESTED);ap=this.startTime;a8(ap,ap>0)};this.onReplay=function(){this.startTime=0;ap=0;aX();aN();D();I();A(this.EVENTS.REPLAY_REQUESTED);if(this.adManagerSettings[t.REPLAY_ADS]){ay=[];aP()}else{x.each(ay,x.bind(function(a9){a9.played=true},this))}a8(0,false)};this.onWillPlayFromBeginning=function(){if(aH){return}if(m.inArray(this.currentState,a7)>=0){return}aR=this.currentEmbedCode};this.onSetEmbedCode=function(bb,a9,ba){if(ba){this.pageSettings=x.extend(this.pageSettings,ba)}};this.onEmbedCodeChanged=function(bb,ba){for(var a9 in this.adManagers){this.adManagers[a9].ready=false}if(ba!=this.currentEmbedCode){aR=this.currentEmbedCode}this.currentEmbedCode=ba;if(aR!=""&&aR!=this.currentEmbedCode){A(this.EVENTS.CONTENT_CHANGED);aK()}};this.onPlayheadTimeChanged=function(a9,bb,ba,bc,be,bg){if(bg===e.VIDEO.MAIN){if(!aH||this.ended){return}ap=bb;this.movieDuration=ba;if(bb>Z){Z=bb}if(aQ||Y||ai){return}if(!aq&&ap>this.startTime){e.log("Reached start time at playhead: "+ap+" for start time: "+this.startTime);aq=true}if(this.startTime==-1){this.startTime=ap;return}if(aq){a8(ap,true)}A(this.EVENTS.PLAYHEAD_TIME_CHANGED,bb,ba)}else{if(bg===e.VIDEO.ADS){var bh={};bh[t.SHOW_LINEAR_AD_SKIP_BUTTON]=X;var bi=ak(t.SHOW_LINEAR_AD_SKIP_BUTTON,[this.pageSettings,bh,this.adManagerSettings]);if(typeof bi!=="undefined"){bi=aI(bi)}if(bi){var bf;if(ae){if(ae.indexOf("%")===ae.length-1){bf=parseInt(ae)/100*aB.duration}else{bf=parseInt(ae)}}bh[t.LINEAR_AD_SKIP_BUTTON_START_TIME]=bf;var bd=ak(t.LINEAR_AD_SKIP_BUTTON_START_TIME,[this.pageSettings,bh,this.adManagerSettings]);if(x.isNumber(bd)&&bd>=0){if(bb>=bd){aT.publish(e.EVENTS.SHOW_AD_SKIP_BUTTON)}}}A(this.EVENTS.AD_PLAYHEAD_TIME_CHANGED,bb,ba)}}};var ak=x.bind(function(bb,ba){var bc,bd;for(var a9 in ba){bc=ba[a9];bd=bc[bb];if(typeof bd!=="undefined"){break}}return bd},this);
this.onPause=function(){if(m.inArray(this.currentState,a7)>=0&&this.adStarted){if(aB&&this.adManagers[aB.adManager]){aT.publish(e.EVENTS.WILL_PAUSE_ADS)}return}aQ=true;if(aS){var a9="pauseOverlayTimer";A(a9)}if(aH){A(this.EVENTS.PAUSE)}};this.onWillPauseAds=function(){if(aB&&this.adManagers[aB.adManager]){p(this.adManagers[aB.adManager],"pauseAd",[aB]);aT.publish(e.EVENTS.VC_PAUSE,e.VIDEO.ADS);N=true}};this.onWillResumeAds=function(){if(aB&&this.adManagers[aB.adManager]){p(this.adManagers[aB.adManager],"resumeAd",[aB]);aT.publish(e.EVENTS.VC_PLAY,e.VIDEO.ADS);N=false}};this.onWillPlay=function(a9,ba){if(!aH){A(this.EVENTS.PLAY_STARTED)}if(aQ&&aV){A(this.EVENTS.RESUME,ba)}if(aV){aH=true}if(!aQ){return}aQ=false;if(Y){ab()}};var aG=x.bind(function(a9,ba){if(ba==e.VIDEO.MAIN){aV=true}},this);this.onPlaying=function(){ai=false;aH=true};this.onVideoPlayed=function(a9,ba){if(ba===e.VIDEO.MAIN){ad(a9,ba)}else{if(ba===e.VIDEO.ADS){if(aB&&aB.isLinear&&this.adManagers[aB.adManager]){p(this.adManagers[aB.adManager],"adVideoEnded")}}}};this.onVideoElementInFocus=function(a9,ba){if(ba===e.VIDEO.MAIN){aw();A(this.EVENTS.MAIN_CONTENT_IN_FOCUS)}};var ad=x.bind(function(a9,ba){if(ba!==e.VIDEO.MAIN){return}if(aS){al({code:this.AD_CANCEL_CODE.STREAM_ENDED})}this.ended=true;aW=null;aS=false;this.waitForPostrollToPlay=false;A(this.EVENTS.CONTENT_COMPLETED);a8(Number.MAX_VALUE,false,aA.CONTENT_VIDEO_PLAYED)},this);this.onPlayed=function(){aH=false;aV=false;aR=this.currentEmbedCode};this.onSeek=function(a9,ba){if(m.inArray(this.currentState,a7)>=0){if(aB&&aB.adManager){p(this.adManagers[aB.adManager],"seekAd")}return}if(!aq&&ba!=this.startTime){aq=true}O=ba>=af;a4=ba;ap=ba;ai=true};this.onSeeked=function(a9,ba){if(typeof ba==="number"){ap=ba}if(ba>Z){Z=ba}ai=false;G()};this.onVideoPlaying=function(a9,ba){if(ba===e.VIDEO.ADS){p(this.adManagers[aB.adManager],"adVideoPlaying")}};this.onVideoPlayFailed=function(a9,bb,ba){if(bb===e.VIDEO.ADS){if(aB&&aB.isLinear&&this.adManagers[aB.adManager]){p(this.adManagers[aB.adManager],"adVideoError",[aB,ba])}}else{if(bb===e.VIDEO.MAIN){ah()}}};var az=x.bind(function(){Y=false;ai=false},this);var G=x.bind(function(){if(!aH){return}ai=false;Y=true;if(!aQ){ab()}},this);var ab=x.bind(function(){az();if(aq){a8(ap,true,aA.SEEKED)}},this);var aK=x.bind(function(){al({code:this.AD_CANCEL_CODE.STREAM_ENDED});ah();aa=true},this);this.onFullscreenChanged=function(ba,a9){if(a9!==aJ){A(this.EVENTS.FULLSCREEN_CHANGED,a9);aJ=a9}};this.onSizeChanged=function(bb,ba,a9){if(ba<0||a9<0){return}this.ui.height=a9;this.ui.width=ba;A(this.EVENTS.SIZE_CHANGED,ba,a9)};this.onControlsShown=function(){A(this.EVENTS.CONTROLS_SHOWN)};this.onControlsHidden=function(){A(this.EVENTS.CONTROLS_HIDDEN)};this.onVolumeChanged=function(a9,ba,bb){A(this.EVENTS.VOLUME_CHANGED,ba);if(bb===e.VIDEO.ADS){A(this.EVENTS.AD_VOLUME_CHANGED,ba)}};this.adsClicked=function(a9){if(!aB){return}if(N&&(!a9||(a9.source!="learnMoreButton"))){aT.publish(e.EVENTS.PLAY)}else{if(this.adManagerSettings[t.PAUSE_AD_ON_CLICK]){if(aB&&!aB.isLinear){aT.publish(e.EVENTS.PAUSE)}else{this.onPause()}}if((aB.isLinear&&(!this.adManagerSettings[t.ALLOW_AD_CLICK_THROUGH_ON_VIDEO]&&a9&&a9.source=="videoWindow"))){return}if(this.adManagers[aB.adManager]){p(this.adManagers[aB.adManager],"playerClicked",[aB,true])}}};this.onSkipAd=function(){if(this.currentState=="LinearAd"){e.log("AMC: Canceling linear ad due to skip button clicked.");ax(aB,{code:this.AD_CANCEL_CODE.SKIPPED})}else{if(this.currentState=="Overlay"){e.log("AMC: Canceling nonlinear ad due to skip button clicked.");aj()}}};var aj=x.bind(function(){if(aS&&aB&&this.adManagers[aB.adManager]){J=true;p(this.adManagers[aB.adManager],"cancelOverlay",[aB]);aT.publish(e.EVENTS.NONLINEAR_AD_PLAYED,aB.id);aT.publish(e.EVENTS.ADS_PLAYED)}},this);var z=x.bind(function(a9){az();if(aS&&aB&&this.adManagers[aB.adManager]){if(x.isFunction(this.adManagers[aB.adManager].hideOverlay)){p(this.adManagers[aB.adManager],"hideOverlay",[aB]);aT.publish(e.EVENTS.HIDE_NONLINEAR_AD)
}else{aj()}}aT.publish(e.EVENTS.WILL_PLAY_ADS,a9)},this);var aM=x.bind(function(){C()},this);this.onWillPlayAds=function(){aM()};this.onAdPodStarted=function(){aT.publish(e.EVENTS.DISABLE_SEEKING,e.VIDEO.ADS)};this.onWillPlayNonlinearAd=function(bb,ba){var a9=x.bind(function(be,bd,bc){aW=null;e.log("AMC: Cancelling a non-linear ad due to timeout "+bc);ax(bd,{code:this.AD_CANCEL_CODE.TIMEOUT});be.publish(e.EVENTS.NONLINEAR_AD_PLAYED,bc)},this,aT,ba,ba.id);a6(ba,a9,q);if(ba.adManager&&this.adManagers[ba.adManager]){p(this.adManagers[ba.adManager],"playAd",[ba])}else{this.notifyNonlinearAdEnded(ba.id)}};this.onPlayNonlinearAd=function(){};var R=x.bind(function(a9){aN();if(!J){C()}},this);this.onAdPodEnded=function(ba,a9){aD=false;aT.publish(e.EVENTS.ENABLE_SEEKING,e.VIDEO.ADS);aT.publish(e.EVENTS.VC_SET_VIDEO_STREAMS,e.VIDEO.ADS,null);R(a9)};this.onNonlinearAdPlayed=function(ba,a9){R(a9)};this.tryAdsCompleted=function(){var a9=false;if(this.ended&&!this.waitForPostrollToPlay&&(ao.length<=0||(ao[0]&&!ao[0].isLinear))){this.waitForPostrollToPlay=true;this.ui.transitionToMainContent(false,this.ended);a9=true;e.log("AMC: All ads completed, unblocking played event");aT.publish(e.EVENTS.AMC_ALL_ADS_DONE)}return a9};this.onAdsPlayed=function(){J=false;if(this.tryAdsCompleted()){return}var a9=!aa&&aV&&this.ui.isAdInFocus();this.ui.transitionToMainContent(a9,this.ended);if(!aH&&!aa){aT.publish(e.EVENTS.AMC_PREROLLS_DONE)}C();aN();if(aS&&aB&&this.adManagers[aB.adManager]){p(this.adManagers[aB.adManager],"showOverlay");aT.publish(e.EVENTS.SHOW_NONLINEAR_AD)}};this.onAdsClicked=function(a9,ba){this.adsClicked(ba)};var aN=x.bind(function(){if(aW){aB=aW;aS=true;this.adStarted=true}else{aB=null;aS=false;this.adStarted=false}W=false;N=false;X=true;ae=null;aD=false},this);var aX=x.bind(function(){ao=[];a3=0;Y=false;ai=false;aQ=false;aW=null;this.ended=false;af=0;O=false;a4=0;this.waitForPostrollToPlay=true;aH=false;aV=false;aC=false;a1=false},this);var ah=x.bind(function(a9){M=false;E=false;this.movieMetadata=null;this.startTime=-1;this.movieDuration=-1;this.isLiveStream=false;ap=-1;ay=[];J=false;aX();aN();D(a9)},this);var ar=x.bind(function(){if(this.ui&&(typeof this.ui.destroy==="function")){this.ui.destroy()}if(this.currentState=="LinearAd"||this.currentState=="Overlay"){al({code:this.AD_CANCEL_CODE.STREAM_ENDED})}for(var a9 in this.adManagers){this.unregisterAdManager(a9)}this.fsm.destroyFsm();ah(true)},this);this.onDestroy=function(){ar()};this.getRegisteredAdManagers=function(){return this.adManagers};this.unregisterAdManager=function(a9){e.log("AMC: Removing an ad manager: "+a9);if(a9&&this.adManagers[a9]){if(x.isFunction(this.adManagers[a9].destroy)){try{this.adManagers[a9].destroy()}catch(ba){e.log("AMC: Error destroying an ad manager - "+ba)}}this.unregisteredAdManagers.push(a9);delete this.adManagers[a9]}}};var p=function(B,A,C){try{if(x.isFunction(B[A])){return B[A].apply(B,C)}}catch(z){e.log("AMC: ad manager",(B&&B.name),"at function '"+A+"' threw exception -",z)}return null};var n=null;e.registerModule("adManagerController",x.bind(function(z,A){return n=new e.AdManagerController(z,A)},this))}(a,a._,a.$));(function g(k,q,m){function l(v,s){if(!q[v]){if(!k[v]){var r=typeof require=="function"&&require;if(!s&&r){return r(v,!0)}if(e){return e(v,!0)}var t=new Error("Cannot find module '"+v+"'");throw t.code="MODULE_NOT_FOUND",t}var n=q[v]={exports:{}};k[v][0].call(n.exports,function(o){var u=k[v][1][o];return l(u?u:o)},n,n.exports,g,k,q,m)}return q[v].exports}var e=typeof require=="function"&&require;for(var p=0;p<m.length;p++){l(m[p])}return l})({1:[function(k,l,e){if(!a){a={}}},{}],2:[function(k,l,e){k("./InitOO.js");if(!window._){window._=k("underscore")}if(!a._){a._=window._.noConflict()}},{"./InitOO.js":1,underscore:6}],3:[function(m,k,o){m("./InitAnalyticsNamespace.js");if(!a.Analytics.AD_TYPE){var n={LINEAR_OVERLAY:"linearOverlay",NONLINEAR_OVERLAY:"nonlinearOverlay",LINEAR_VIDEO:"linearVideo",COMPANION:"companion"};a.Analytics.AD_TYPE=n
}if(!a.Analytics.EVENTS){var p={VIDEO_PLAYER_CREATED:"video_player_created",VIDEO_ELEMENT_CREATED:"video_element_created",INITIAL_PLAYBACK_REQUESTED:"initial_playback_requested",VIDEO_CONTENT_COMPLETED:"video_content_completed",PLAYBACK_COMPLETED:"playback_completed",VIDEO_PLAY_REQUESTED:"video_play_requested",VIDEO_PAUSE_REQUESTED:"video_pause_requested",VIDEO_PLAYING:"video_playing",VIDEO_PAUSED:"video_paused",VIDEO_REPLAY_REQUESTED:"video_replay_requested",VIDEO_SOURCE_CHANGED:"video_source_changed",VIDEO_STREAM_METADATA_UPDATED:"video_stream_metadata_updated",VIDEO_CONTENT_METADATA_UPDATED:"video_content_metadata_updated",VIDEO_SEEK_REQUESTED:"video_seek_requested",VIDEO_SEEK_COMPLETED:"video_seek_completed",VIDEO_STREAM_DOWNLOADING:"video_stream_downloading",VIDEO_BUFFERING_STARTED:"video_buffering_started",VIDEO_BUFFERING_ENDED:"video_buffering_ended",VIDEO_STREAM_POSITION_CHANGED:"video_stream_position_changed",AD_BREAK_STARTED:"ad_break_started",AD_BREAK_ENDED:"ad_break_ended",AD_POD_STARTED:"ad_pod_started",AD_POD_ENDED:"ad_pod_ended",AD_STARTED:"ad_started",AD_ENDED:"ad_ended",AD_SKIPPED:"ad_skipped",AD_ERROR:"ad_error",FULLSCREEN_CHANGED:"fullscreen_changed",VOLUME_CHANGED:"volume_changed",DESTROY:"destroy"};a.Analytics.EVENTS=p}if(!a.Analytics.EVENT_DATA){var l={};l.VideoElementData=function(s){var t=a._.bind(r,this,"VideoElementData");this.streamUrl=t(s,"streamUrl",["string"])};l.VideoSourceData=function(s,t){var u=a._.bind(r,this,"VideoSourceData");this.embedCode=u(s,"embedCode",["string"]);this.metadata=u(t,"metadata",["object"])};l.VideoContentMetadata=function(x,u,w,v,y,s){var t=a._.bind(r,this,"VideoContentMetadata");this.title=t(x,"title",["string"]);this.description=t(u,"description",["string"]);this.duration=t(w,"duration",["number"]);this.closedCaptions=t(v,"closedCaptions",["object"]);this.contentType=t(y,"contentType",["string"]);this.hostedAtURL=t(s,"hostedAtURL",["string"])};l.VideoDownloadingMetadata=function(v,u,t,x,s){var w=a._.bind(r,this,"VideoDownloadingMetadata");this.currentTime=w(v,"currentTime",["number"]);this.totalStreamDuration=w(u,"totalStreamDuration",["number"]);this.streamBufferedUntilTime=w(t,"streamBufferedUntilTime",["number"]);this.seekableRangeStart=w(x,"seekableRangeStart",["number"]);this.seekableRangeEnd=w(s,"seekableRangeEnd",["number"])};l.VideoBufferingStartedData=function(s){var t=a._.bind(r,this,"VideoBufferingStartedData");this.streamUrl=t(s,"streamUrl",["string"])};l.VideoBufferingEndedData=function(s){var t=a._.bind(r,this,"VideoBufferingEndedData");this.streamUrl=t(s,"streamUrl",["string"])};l.VideoSeekRequestedData=function(t){var s=a._.bind(r,this,"VideoSeekRequestedData");this.seekingToTime=s(t,"seekingToTime",["number"])};l.VideoSeekCompletedData=function(t){var s=a._.bind(r,this,"VideoSeekCompletedData");this.timeSeekedTo=s(t,"timeSeekedTo",["number"])};l.VideoStreamPositionChangedData=function(v,s,u){var t=a._.bind(r,this,"VideoStreamPositionChangedData");this.streamPosition=t(v,"streamPosition",["number"]);this.totalStreamDuration=t(s,"totalStreamDuration",["number"]);this.videoId=t(u,"videoId",["string"])};l.AdPodStartedData=function(t){var s=a._.bind(r,this,"AdPodStartedData");this.numberOfAds=s(t,"numberOfAds",["number"])};l.AdPodEndedData=function(s){var t=a._.bind(r,this,"AdPodEndedData");this.adId=t(s,"adId",["string"])};l.AdStartedData=function(s,t){var u=a._.bind(r,this,"AdStartedData");this.adType=u(s,"adType",["string"]);this.adMetadata=q(s,t)};l.LinearVideoData=function(t,v,s){var u=a._.bind(r,this,"LinearVideoData");this.adId=u(t,"adId",["string"]);this.adDuration=u(v,"adDuration",["number"]);this.adPodPosition=u(s,"adPodPosition",["number"])};l.NonLinearOverlayData=function(t){var s=a._.bind(r,this,"NonLinearOverlayData");this.adId=s(t,"adId",["string"])};l.AdEndedData=function(s,t){var u=a._.bind(r,this,"AdEndedData");this.adType=u(s,"adType",["string"]);this.adId=u(t,"adId",["string"])};l.AdErrorData=function(s){var t=a._.bind(r,this,"AdErrorData");
this.error=t(s,"error",["string","object"])};l.FullscreenChangedData=function(t){var s=a._.bind(r,this,"FullscreenChangedData");this.changingToFullscreen=s(t,"changingToFullscreen",["boolean"])};l.VolumeChangedData=function(t){var s=a._.bind(r,this,"VolumeChangedData");this.currentVolume=s(t,"currentVolume",["number"])};var r=function(y,v,u,A){var z=true;var x=v;for(var w=0;w<A.length;w++){var s=A[w];if(s==="string"){if(a._.isString(x)){z=false;break}}else{if(s==="object"){if(x&&a._.isObject(x)){z=false;break}}else{if(s==="number"){var t=parseFloat(x);if(a._.isNumber(x)){z=false;break}else{if(!isNaN(t)){x=t;z=false;break}}}else{if(s==="boolean"){if(a._.isBoolean(x)){z=false}else{if(x==="true"){x=true;z=false;break}else{if(x==="false"){x=false;z=false;break}}}}}}}}if(z){a.log("ERROR Analytics.EVENT_DATA."+y+" being created with invalid "+u+". Should be one of these types ["+A+"] but was ["+typeof(v)+"].");return undefined}return x};var q=function(s,t){var u;switch(s){case a.Analytics.AD_TYPE.LINEAR_VIDEO:u=new l.LinearVideoData(t.name,t.duration,t.indexInPod);break;case a.Analytics.AD_TYPE.NONLINEAR_OVERLAY:u=new l.NonLinearOverlayData(t.id);break;default:a.log("ERROR Ad Type not recognized. Should be one of these values ["+a._.values(a.Analytics.AD_TYPE)+"] but was ["+s+"].");break}return u};a.Analytics.EVENT_DATA=l}if(!a.Analytics.REQUIRED_PLUGIN_FUNCTIONS){var e=["getName","getVersion","setPluginID","getPluginID","init","setMetadata","destroy","processEvent"];a.Analytics.REQUIRED_PLUGIN_FUNCTIONS=e}},{"./InitAnalyticsNamespace.js":5}],4:[function(k,l,e){k("../../html5-common/js/utils/InitModules/InitOOUnderscore.js");k("./InitAnalyticsNamespace.js");k("./AnalyticsConstants.js");a.Analytics.RecordedEvent=function(n,m,o){this.timeStamp=n;this.eventName=m;this.params=o};a.Analytics.Framework=function(){var G=a._;var u={};var m=[];var x=true;var s;var z={};var o=0;var t=20;var v=500;var F=G.bind(function(H){if(!G.isFunction(H)){throw (n("Trying to make private function but "+H+" is not a function."));return}return G.bind(H,this)},this);this.setPluginMetadata=function(K){var L=false;if(s){a.log(n("Trying to run setPluginMetadata more than once. Ignoring new data."))}if(G.isObject(K)){s=K;var H=this.getPluginIDList();for(var I=0;I<H.length;I++){var J=p(H[I]);D(J)}L=true}else{a.log(n("Calling setPluginMetadata without valid metadata object. Defaulting to no metadata"))}return L};this.destroy=F(function(){a.Analytics.UnregisterFrameworkInstance(this);for(var H in u){this.unregisterPlugin(H)}G=null;u=null;m=null;s=null;z=null});var A=F(function(J,K){if(x&&m.length<v){var I=new Date().getTime();var H=new a.Analytics.RecordedEvent(I,J,K);m.push(H)}else{y()}});var C=F(function(){m=[]});var w=F(function(){x=true});var y=F(function(){x=false});this.getRecordedEvents=function(){if(m){return G.clone(m)}return[]};this.registerPlugin=function(M){var H;var K;var J=false;if(!M){a.log(n("Trying to register plugin class that is a falsy value."));J=true}if(!J){try{K=new M(this)}catch(I){a.log(I);a.log(n("Error was thrown during plugin creation."));J=true}}if(!J){if(!this.validatePlugin(K)){J=true}else{E(K,"init");if(s){D(K)}}}if(!J){H=B(K);if(!H){J=true}else{if(!u[H]){u[H]={factory:M,instance:K,active:true};E(K,"setPluginID",[H])}}}if(J){if(H){a.log(n("'"+H+"' is not valid and was not registered."))}else{var L=E(K,"getName");if(L){a.log(n("'"+L+"' is not valid and was not registered."))}else{a.log(n("Plugin validation failed and was not registered."))}}}return H};this.unregisterPlugin=function(H){var J=false;if(H&&u&&u[H]){var I=p(H);E(I,"destroy");delete u[H];J=true}return J};this.validatePlugin=function(L){var N=true;if(!L){N=false;a.log(n("Plugin has falsy value and is not valid. Actual value: "),L)}if(N){for(var K=0;K<a.Analytics.REQUIRED_PLUGIN_FUNCTIONS.length;K++){var I=a.Analytics.REQUIRED_PLUGIN_FUNCTIONS[K];if(!L.hasOwnProperty(I)||typeof L[I]!=="function"){N=false;if(L.getName&&typeof L.getName==="function"){try{a.log(n("Plugin '"+L.getName()+"' missing function: "+I))
}catch(M){a.log(n("Plugin missing function: "+I))}}else{a.log(n("Plugin missing function: "+I))}break}}if(N){try{var J=L.getName();if(!J||!G.isString(J)){a.log(n("Plugin does not have 'string' as return type of getName() or is empty string"));N=false}}catch(M){a.log(n("Plugin throws error on call to getName"));N=false}}if(N){try{var H=L.getVersion();if(!H||!G.isString(H)){a.log(n("Plugin does not have 'string' as return type of getVersion() or is empty string"));N=false}}catch(M){a.log(n("Plugin throws error on call to getVersion"));N=false}}}return N};this.getPluginIDList=function(){var I=[];if(u){for(var H in u){I.push(H)}}return I};var p=F(function(H){var I;if(u&&u[H]){I=u[H].instance}return I});this.isPluginActive=function(H){if(H&&u&&u[H]&&G.isBoolean(u[H].active)){return u[H].active}return false};this.makePluginActive=function(H){var I=false;if(H&&u&&u[H]){u[H].active=true;I=true}return I};this.makePluginInactive=function(H){var I=false;if(H&&u&&u[H]){u[H].active=false;I=true}return I};for(var r in a.Analytics.EVENTS){z[a.Analytics.EVENTS[r]]=true}r=undefined;this.publishEvent=function(I,L){var J=false;if(z[I]){if(!G.isArray(L)){L=[]}if(x){A(I,L)}var H;for(H in u){if(this.isPluginActive(H)){var K=p(H);E(K,"processEvent",[I,L])}}J=true}else{a.log(n("Event '"+I+"' being published and it's not in the list of OO.Analytics.EVENTS"))}return J};var B=F(function(K){var L=null;var J;if(K){var I=E(K,"getName");var H=E(K,"getVersion");if(I&&H){L=o+"_"+I+"_"+H;if(!u[L]){o++}else{a.log(n("Failed to create a unique name for plugin "+I+"_"+H));L=null}if(o>t){a.log(n("You have tried to create more than "+t+" unique plugin ids. There is probably an infinite loop or some other error."))}}}return L});var D=F(function(H){if(s){var I=E(H,"getName");if(!I){a.log(n("Trying to pass in metadata to plugin that does not have valid name"));return}var J=s[I];E(H,"setMetadata",[J])}});var n=function(H){return"ERROR Analytics Framework: "+H};var E=F(function(I,K,L){if(a.DEBUG){q(K)}try{if(G.isFunction(I[K])){return I[K].apply(I,L)}}catch(H){try{if(I&&G.isFunction(I.getName)){a.log(n("Error occurred during call to function '"+K+"' on plugin '"+I.getName()+"'\n",H))}}catch(J){a.log(n("Error occurred during call to function '"+K+"' on plugin\n",H))}}return null});var q=F(function(H){if(!G.contains(a.Analytics.REQUIRED_PLUGIN_FUNCTIONS,H)){a.log(n("Calling function '"+H+"' in framework code and it's not in the REQUIRED_PLUGIN_FUNCTIONS list."))}});a.Analytics.RegisterFrameworkInstance(this)}},{"../../html5-common/js/utils/InitModules/InitOOUnderscore.js":2,"./AnalyticsConstants.js":3,"./InitAnalyticsNamespace.js":5}],5:[function(k,l,e){k("../../html5-common/js/utils/InitModules/InitOO.js");k("../../html5-common/js/utils/InitModules/InitOOUnderscore.js");if(!a.Analytics){a.Analytics={}}if(!a.Analytics.FrameworkInstanceList){a.Analytics.FrameworkInstanceList=[]}if(!a.Analytics.PluginFactoryList){a.Analytics.PluginFactoryList=[]}if(!a.Analytics.RegisterPluginFactory){a.Analytics.RegisterPluginFactory=function(m){a.Analytics.PluginFactoryList.push(m);if(a.Analytics.FrameworkInstanceList&&a.Analytics.FrameworkInstanceList.length){for(var n=0;n<a.Analytics.FrameworkInstanceList.length;n++){a.Analytics.FrameworkInstanceList[n].registerPluginFactory(m)}}}}if(!a.Analytics.FrameworkRegistrationObject){a.Analytics.FrameworkRegistrationObject=function(m){this.registerPluginFactory=function(n){m.registerPlugin(n)}}}if(!a.Analytics.RegisterFrameworkInstance){a.Analytics.RegisterFrameworkInstance=function(m){var n=new a.Analytics.FrameworkRegistrationObject(m);m.frameworkRegistrationObject=n;a.Analytics.FrameworkInstanceList.push(n);if(a._.isArray(a.Analytics.PluginFactoryList)&&a.Analytics.PluginFactoryList.length>0){for(var o=0;o<a.Analytics.PluginFactoryList.length;o++){m.registerPlugin(a.Analytics.PluginFactoryList[o])}}}}if(!a.Analytics.UnregisterFrameworkInstance){a.Analytics.UnregisterFrameworkInstance=function(n){if(n){var m=n.frameworkRegistrationObject;if(m){a.Analytics.FrameworkInstanceList=a._.without(a.Analytics.FrameworkInstanceList,m)
}}}}},{"../../html5-common/js/utils/InitModules/InitOO.js":1,"../../html5-common/js/utils/InitModules/InitOOUnderscore.js":2}],6:[function(k,l,e){(function(){var H=this;var w=H._;var P={};var O=Array.prototype,s=Object.prototype,C=Function.prototype;var z=O.slice,L=O.unshift,o=s.toString,u=s.hasOwnProperty;var X=O.forEach,B=O.map,Q=O.reduce,n=O.reduceRight,m=O.filter,M=O.every,A=O.some,y=O.indexOf,x=O.lastIndexOf,E=Array.isArray,r=Object.keys,R=C.bind;var Y=function(p){return new F(p)};if(typeof e!=="undefined"){if(typeof l!=="undefined"&&l.exports){e=l.exports=Y}e._=Y}else{H._=Y}Y.VERSION="1.3.3";var U=Y.each=Y.forEach=function(ad,ac,ab){if(ad==null){return}if(X&&ad.forEach===X){ad.forEach(ac,ab)}else{if(ad.length===+ad.length){for(var aa=0,p=ad.length;aa<p;aa++){if(aa in ad&&ac.call(ab,ad[aa],aa,ad)===P){return}}}else{for(var Z in ad){if(Y.has(ad,Z)){if(ac.call(ab,ad[Z],Z,ad)===P){return}}}}}};Y.map=Y.collect=function(ab,aa,Z){var p=[];if(ab==null){return p}if(B&&ab.map===B){return ab.map(aa,Z)}U(ab,function(ae,ac,ad){p[p.length]=aa.call(Z,ae,ac,ad)});if(ab.length===+ab.length){p.length=ab.length}return p};Y.reduce=Y.foldl=Y.inject=function(ac,ab,p,aa){var Z=arguments.length>2;if(ac==null){ac=[]}if(Q&&ac.reduce===Q){if(aa){ab=Y.bind(ab,aa)}return Z?ac.reduce(ab,p):ac.reduce(ab)}U(ac,function(af,ad,ae){if(!Z){p=af;Z=true}else{p=ab.call(aa,p,af,ad,ae)}});if(!Z){throw new TypeError("Reduce of empty array with no initial value")}return p};Y.reduceRight=Y.foldr=function(ac,ab,p,aa){var Z=arguments.length>2;if(ac==null){ac=[]}if(n&&ac.reduceRight===n){if(aa){ab=Y.bind(ab,aa)}return Z?ac.reduceRight(ab,p):ac.reduceRight(ab)}var ad=Y.toArray(ac).reverse();if(aa&&!Z){ab=Y.bind(ab,aa)}return Z?Y.reduce(ad,ab,p,aa):Y.reduce(ad,ab)};Y.find=Y.detect=function(ab,aa,Z){var p;K(ab,function(ae,ac,ad){if(aa.call(Z,ae,ac,ad)){p=ae;return true}});return p};Y.filter=Y.select=function(ab,aa,Z){var p=[];if(ab==null){return p}if(m&&ab.filter===m){return ab.filter(aa,Z)}U(ab,function(ae,ac,ad){if(aa.call(Z,ae,ac,ad)){p[p.length]=ae}});return p};Y.reject=function(ab,aa,Z){var p=[];if(ab==null){return p}U(ab,function(ae,ac,ad){if(!aa.call(Z,ae,ac,ad)){p[p.length]=ae}});return p};Y.every=Y.all=function(ab,aa,Z){var p=true;if(ab==null){return p}if(M&&ab.every===M){return ab.every(aa,Z)}U(ab,function(ae,ac,ad){if(!(p=p&&aa.call(Z,ae,ac,ad))){return P}});return !!p};var K=Y.some=Y.any=function(ab,aa,Z){aa||(aa=Y.identity);var p=false;if(ab==null){return p}if(A&&ab.some===A){return ab.some(aa,Z)}U(ab,function(ae,ac,ad){if(p||(p=aa.call(Z,ae,ac,ad))){return P}});return !!p};Y.include=Y.contains=function(aa,Z){var p=false;if(aa==null){return p}if(y&&aa.indexOf===y){return aa.indexOf(Z)!=-1}p=K(aa,function(ab){return ab===Z});return p};Y.invoke=function(Z,aa){var p=z.call(arguments,2);return Y.map(Z,function(ab){return(Y.isFunction(aa)?aa||ab:ab[aa]).apply(ab,p)})};Y.pluck=function(Z,p){return Y.map(Z,function(aa){return aa[p]})};Y.max=function(ab,aa,Z){if(!aa&&Y.isArray(ab)&&ab[0]===+ab[0]){return Math.max.apply(Math,ab)}if(!aa&&Y.isEmpty(ab)){return -Infinity}var p={computed:-Infinity};U(ab,function(af,ac,ae){var ad=aa?aa.call(Z,af,ac,ae):af;ad>=p.computed&&(p={value:af,computed:ad})});return p.value};Y.min=function(ab,aa,Z){if(!aa&&Y.isArray(ab)&&ab[0]===+ab[0]){return Math.min.apply(Math,ab)}if(!aa&&Y.isEmpty(ab)){return Infinity}var p={computed:Infinity};U(ab,function(af,ac,ae){var ad=aa?aa.call(Z,af,ac,ae):af;ad<p.computed&&(p={value:af,computed:ad})});return p.value};Y.shuffle=function(aa){var p=[],Z;U(aa,function(ad,ab,ac){Z=Math.floor(Math.random()*(ab+1));p[ab]=p[Z];p[Z]=ad});return p};Y.sortBy=function(aa,ab,p){var Z=Y.isFunction(ab)?ab:function(ac){return ac[ab]};return Y.pluck(Y.map(aa,function(ae,ac,ad){return{value:ae,criteria:Z.call(p,ae,ac,ad)}}).sort(function(af,ae){var ad=af.criteria,ac=ae.criteria;if(ad===void 0){return 1}if(ac===void 0){return -1}return ad<ac?-1:ad>ac?1:0}),"value")};Y.groupBy=function(aa,ab){var p={};var Z=Y.isFunction(ab)?ab:function(ac){return ac[ab]
};U(aa,function(ae,ac){var ad=Z(ae,ac);(p[ad]||(p[ad]=[])).push(ae)});return p};Y.sortedIndex=function(ad,ac,aa){aa||(aa=Y.identity);var p=0,ab=ad.length;while(p<ab){var Z=(p+ab)>>1;aa(ad[Z])<aa(ac)?p=Z+1:ab=Z}return p};Y.toArray=function(p){if(!p){return[]}if(Y.isArray(p)){return z.call(p)}if(Y.isArguments(p)){return z.call(p)}if(p.toArray&&Y.isFunction(p.toArray)){return p.toArray()}return Y.values(p)};Y.size=function(p){return Y.isArray(p)?p.length:Y.keys(p).length};Y.first=Y.head=Y.take=function(aa,Z,p){return(Z!=null)&&!p?z.call(aa,0,Z):aa[0]};Y.initial=function(aa,Z,p){return z.call(aa,0,aa.length-((Z==null)||p?1:Z))};Y.last=function(aa,Z,p){if((Z!=null)&&!p){return z.call(aa,Math.max(aa.length-Z,0))}else{return aa[aa.length-1]}};Y.rest=Y.tail=function(aa,p,Z){return z.call(aa,(p==null)||Z?1:p)};Y.compact=function(p){return Y.filter(p,function(Z){return !!Z})};Y.flatten=function(Z,p){return Y.reduce(Z,function(aa,ab){if(Y.isArray(ab)){return aa.concat(p?ab:Y.flatten(ab))}aa[aa.length]=ab;return aa},[])};Y.without=function(p){return Y.difference(p,z.call(arguments,1))};Y.uniq=Y.unique=function(ac,ab,aa){var p=aa?Y.map(ac,aa):ac;var Z=[];if(ac.length<3){ab=true}Y.reduce(p,function(ad,af,ae){if(ab?Y.last(ad)!==af||!ad.length:!Y.include(ad,af)){ad.push(af);Z.push(ac[ae])}return ad},[]);return Z};Y.union=function(){return Y.uniq(Y.flatten(arguments,true))};Y.intersection=Y.intersect=function(Z){var p=z.call(arguments,1);return Y.filter(Y.uniq(Z),function(aa){return Y.every(p,function(ab){return Y.indexOf(ab,aa)>=0})})};Y.difference=function(Z){var p=Y.flatten(z.call(arguments,1),true);return Y.filter(Z,function(aa){return !Y.include(p,aa)})};Y.zip=function(){var p=z.call(arguments);var ab=Y.max(Y.pluck(p,"length"));var aa=new Array(ab);for(var Z=0;Z<ab;Z++){aa[Z]=Y.pluck(p,""+Z)}return aa};Y.indexOf=function(ac,aa,ab){if(ac==null){return -1}var Z,p;if(ab){Z=Y.sortedIndex(ac,aa);return ac[Z]===aa?Z:-1}if(y&&ac.indexOf===y){return ac.indexOf(aa)}for(Z=0,p=ac.length;Z<p;Z++){if(Z in ac&&ac[Z]===aa){return Z}}return -1};Y.lastIndexOf=function(aa,Z){if(aa==null){return -1}if(x&&aa.lastIndexOf===x){return aa.lastIndexOf(Z)}var p=aa.length;while(p--){if(p in aa&&aa[p]===Z){return p}}return -1};Y.range=function(ad,ab,ac){if(arguments.length<=1){ab=ad||0;ad=0}ac=arguments[2]||1;var Z=Math.max(Math.ceil((ab-ad)/ac),0);var p=0;var aa=new Array(Z);while(p<Z){aa[p++]=ad;ad+=ac}return aa};var S=function(){};Y.bind=function q(ab,Z){var aa,p;if(ab.bind===R&&R){return R.apply(ab,z.call(arguments,1))}if(!Y.isFunction(ab)){throw new TypeError}p=z.call(arguments,2);return aa=function(){if(!(this instanceof aa)){return ab.apply(Z,p.concat(z.call(arguments)))}S.prototype=ab.prototype;var ad=new S;var ac=ab.apply(ad,p.concat(z.call(arguments)));if(Object(ac)===ac){return ac}return ad}};Y.bindAll=function(Z){var p=z.call(arguments,1);if(p.length==0){p=Y.functions(Z)}U(p,function(aa){Z[aa]=Y.bind(Z[aa],Z)});return Z};Y.memoize=function(aa,Z){var p={};Z||(Z=Y.identity);return function(){var ab=Z.apply(this,arguments);return Y.has(p,ab)?p[ab]:(p[ab]=aa.apply(this,arguments))}};Y.delay=function(Z,aa){var p=z.call(arguments,2);return setTimeout(function(){return Z.apply(null,p)},aa)};Y.defer=function(p){return Y.delay.apply(Y,[p,1].concat(z.call(arguments,1)))};Y.throttle=function(aa,ab){var Z,ad,ae,af,ac,ag;var p=Y.debounce(function(){ac=af=false},ab);return function(){Z=this;ad=arguments;var ah=function(){ae=null;if(ac){aa.apply(Z,ad)}p()};if(!ae){ae=setTimeout(ah,ab)}if(af){ac=true}else{ag=aa.apply(Z,ad)}p();af=true;return ag}};Y.debounce=function(Z,ab,p){var aa;return function(){var ae=this,ad=arguments;var ac=function(){aa=null;if(!p){Z.apply(ae,ad)}};if(p&&!aa){Z.apply(ae,ad)}clearTimeout(aa);aa=setTimeout(ac,ab)}};Y.once=function(aa){var p=false,Z;return function(){if(p){return Z}p=true;return Z=aa.apply(this,arguments)}};Y.wrap=function(p,Z){return function(){var aa=[p].concat(z.call(arguments,0));return Z.apply(this,aa)}};Y.compose=function(){var p=arguments;
return function(){var Z=arguments;for(var aa=p.length-1;aa>=0;aa--){Z=[p[aa].apply(this,Z)]}return Z[0]}};Y.after=function(Z,p){if(Z<=0){return p()}return function(){if(--Z<1){return p.apply(this,arguments)}}};Y.keys=r||function(aa){if(aa!==Object(aa)){throw new TypeError("Invalid object")}var Z=[];for(var p in aa){if(Y.has(aa,p)){Z[Z.length]=p}}return Z};Y.values=function(p){return Y.map(p,Y.identity)};Y.functions=Y.methods=function(aa){var Z=[];for(var p in aa){if(Y.isFunction(aa[p])){Z.push(p)}}return Z.sort()};Y.extend=function(p){U(z.call(arguments,1),function(Z){for(var aa in Z){p[aa]=Z[aa]}});return p};Y.pick=function(Z){var p={};U(Y.flatten(z.call(arguments,1)),function(aa){if(aa in Z){p[aa]=Z[aa]}});return p};Y.defaults=function(p){U(z.call(arguments,1),function(Z){for(var aa in Z){if(p[aa]==null){p[aa]=Z[aa]}}});return p};Y.clone=function(p){if(!Y.isObject(p)){return p}return Y.isArray(p)?p.slice():Y.extend({},p)};Y.tap=function(Z,p){p(Z);return Z};function V(ab,aa,Z){if(ab===aa){return ab!==0||1/ab==1/aa}if(ab==null||aa==null){return ab===aa}if(ab._chain){ab=ab._wrapped}if(aa._chain){aa=aa._wrapped}if(ab.isEqual&&Y.isFunction(ab.isEqual)){return ab.isEqual(aa)}if(aa.isEqual&&Y.isFunction(aa.isEqual)){return aa.isEqual(ab)}var ae=o.call(ab);if(ae!=o.call(aa)){return false}switch(ae){case"[object String]":return ab==String(aa);case"[object Number]":return ab!=+ab?aa!=+aa:(ab==0?1/ab==1/aa:ab==+aa);case"[object Date]":case"[object Boolean]":return +ab==+aa;case"[object RegExp]":return ab.source==aa.source&&ab.global==aa.global&&ab.multiline==aa.multiline&&ab.ignoreCase==aa.ignoreCase}if(typeof ab!="object"||typeof aa!="object"){return false}var af=Z.length;while(af--){if(Z[af]==ab){return true}}Z.push(ab);var ad=0,p=true;if(ae=="[object Array]"){ad=ab.length;p=ad==aa.length;if(p){while(ad--){if(!(p=ad in ab==ad in aa&&V(ab[ad],aa[ad],Z))){break}}}}else{if("constructor" in ab!="constructor" in aa||ab.constructor!=aa.constructor){return false}for(var ac in ab){if(Y.has(ab,ac)){ad++;if(!(p=Y.has(aa,ac)&&V(ab[ac],aa[ac],Z))){break}}}if(p){for(ac in aa){if(Y.has(aa,ac)&&!(ad--)){break}}p=!ad}}Z.pop();return p}Y.isEqual=function(Z,p){return V(Z,p,[])};Y.isEmpty=function(Z){if(Z==null){return true}if(Y.isArray(Z)||Y.isString(Z)){return Z.length===0}for(var p in Z){if(Y.has(Z,p)){return false}}return true};Y.isElement=function(p){return !!(p&&p.nodeType==1)};Y.isArray=E||function(p){return o.call(p)=="[object Array]"};Y.isObject=function(p){return p===Object(p)};Y.isArguments=function(p){return o.call(p)=="[object Arguments]"};if(!Y.isArguments(arguments)){Y.isArguments=function(p){return !!(p&&Y.has(p,"callee"))}}Y.isFunction=function(p){return o.call(p)=="[object Function]"};Y.isString=function(p){return o.call(p)=="[object String]"};Y.isNumber=function(p){return o.call(p)=="[object Number]"};Y.isFinite=function(p){return Y.isNumber(p)&&isFinite(p)};Y.isNaN=function(p){return p!==p};Y.isBoolean=function(p){return p===true||p===false||o.call(p)=="[object Boolean]"};Y.isDate=function(p){return o.call(p)=="[object Date]"};Y.isRegExp=function(p){return o.call(p)=="[object RegExp]"};Y.isNull=function(p){return p===null};Y.isUndefined=function(p){return p===void 0};Y.has=function(Z,p){return u.call(Z,p)};Y.noConflict=function(){H._=w;return this};Y.identity=function(p){return p};Y.times=function(ab,aa,Z){for(var p=0;p<ab;p++){aa.call(Z,p)}};Y.escape=function(p){return(""+p).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};Y.result=function(p,aa){if(p==null){return null}var Z=p[aa];return Y.isFunction(Z)?Z.call(p):Z};Y.mixin=function(p){U(Y.functions(p),function(Z){I(Z,Y[Z]=p[Z])})};var J=0;Y.uniqueId=function(p){var Z=J++;return p?p+Z:Z};Y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var G=/.^/;var t={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"};for(var T in t){t[t[T]]=T
}var v=/\\|'|\r|\n|\t|\u2028|\u2029/g;var N=/\\(\\|'|r|n|t|u2028|u2029)/g;var W=function(p){return p.replace(N,function(Z,aa){return t[aa]})};Y.template=function(ad,ac,aa){aa=Y.defaults(aa||{},Y.templateSettings);var ab="__p+='"+ad.replace(v,function(ae){return"\\"+t[ae]}).replace(aa.escape||G,function(ae,af){return"'+\n_.escape("+W(af)+")+\n'"}).replace(aa.interpolate||G,function(ae,af){return"'+\n("+W(af)+")+\n'"}).replace(aa.evaluate||G,function(ae,af){return"';\n"+W(af)+"\n;__p+='"})+"';\n";if(!aa.variable){ab="with(obj||{}){\n"+ab+"}\n"}ab="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+ab+"return __p;\n";var Z=new Function(aa.variable||"obj","_",ab);if(ac){return Z(ac,Y)}var p=function(ae){return Z.call(this,ae,Y)};p.source="function("+(aa.variable||"obj")+"){\n"+ab+"}";return p};Y.chain=function(p){return Y(p).chain()};var F=function(p){this._wrapped=p};Y.prototype=F.prototype;var D=function(Z,p){return p?Y(Z).chain():Z};var I=function(p,Z){F.prototype[p]=function(){var aa=z.call(arguments);L.call(aa,this._wrapped);return D(Z.apply(Y,aa),this._chain)}};Y.mixin(Y);U(["pop","push","reverse","shift","sort","splice","unshift"],function(p){var Z=O[p];F.prototype[p]=function(){var aa=this._wrapped;Z.apply(aa,arguments);var ab=aa.length;if((p=="shift"||p=="splice")&&ab===0){delete aa[0]}return D(aa,this._chain)}});U(["concat","join","slice"],function(p){var Z=O[p];F.prototype[p]=function(){return D(Z.apply(this._wrapped,arguments),this._chain)}});F.prototype.chain=function(){this._chain=true;return this};F.prototype.value=function(){return this._wrapped}}).call(this)},{}]},{},[4]);a.exposeStaticApi("Analytics",a.Analytics);a.plugin("AnalyticsFrameworkTranslator",function(w,Y,J,m){var y;var p;var q=Y.bind(function(W){if(!Y.isFunction(W)){throw (U("Trying to make private function but "+W+" is not a function."))}return Y.bind(W,this)},this);var N=function(W,Z){this.id=Z;y=W;p=new w.Analytics.Framework();y.subscribe(w.EVENTS.PLAYER_CREATED,"AnalyticsFrameworkTranslator",H);y.subscribe(w.EVENTS.EMBED_CODE_CHANGED,"AnalyticsFrameworkTranslator",R);y.subscribe(w.EVENTS.CONTENT_TREE_FETCHED,"AnalyticsFrameworkTranslator",s);y.subscribe(w.EVENTS.METADATA_FETCHED,"AnalyticsFrameworkTranslator",B);y.subscribe(w.EVENTS.INITIAL_PLAY,"AnalyticsFrameworkTranslator",Q);y.subscribe(w.EVENTS.PLAY,"AnalyticsFrameworkTranslator",I);y.subscribe(w.EVENTS.DOWNLOADING,"AnalyticsFrameworkTranslator",l);y.subscribe(w.EVENTS.BUFFERING,"AnalyticsFrameworkTranslator",D);y.subscribe(w.EVENTS.BUFFERED,"AnalyticsFrameworkTranslator",t);y.subscribe(w.EVENTS.PLAYING,"AnalyticsFrameworkTranslator",S);y.subscribe(w.EVENTS.PLAYHEAD_TIME_CHANGED,"AnalyticsFrameworkTranslator",F);y.subscribe(w.EVENTS.PLAYED,"AnalyticsFrameworkTranslator",A);y.subscribe(w.EVENTS.PAUSE,"AnalyticsFrameworkTranslator",T);y.subscribe(w.EVENTS.PAUSED,"AnalyticsFrameworkTranslator",x);y.subscribe(w.EVENTS.REPLAY,"AnalyticsFrameworkTranslator",n);y.subscribe(w.EVENTS.SEEK,"AnalyticsFrameworkTranslator",z);y.subscribe(w.EVENTS.SEEKED,"AnalyticsFrameworkTranslator",o);y.subscribe(w.EVENTS.WILL_PLAY_ADS,"AnalyticsFrameworkTranslator",e);y.subscribe(w.EVENTS.AD_POD_STARTED,"AnalyticsFrameworkTranslator",u);y.subscribe(w.EVENTS.AD_POD_ENDED,"AnalyticsFrameworkTranslator",P);y.subscribe(w.EVENTS.WILL_PLAY_SINGLE_AD,"AnalyticsFrameworkTranslator",r);y.subscribe(w.EVENTS.SINGLE_AD_PLAYED,"AnalyticsFrameworkTranslator",K);y.subscribe(w.EVENTS.WILL_PLAY_NONLINEAR_AD,"AnalyticsFrameworkTranslator",k);y.subscribe(w.EVENTS.NONLINEAR_AD_PLAYED,"AnalyticsFrameworkTranslator",X);y.subscribe(w.EVENTS.ADS_PLAYED,"AnalyticsFrameworkTranslator",M);y.subscribe(w.EVENTS.SKIP_AD,"AnalyticsFrameworkTranslator",v);y.subscribe(w.EVENTS.FULLSCREEN_CHANGED,"AnalyticsFrameworkTranslator",C);y.subscribe(w.EVENTS.VOLUME_CHANGED,"AnalyticsFrameworkTranslator",E);y.subscribe(w.EVENTS.DESTROY,"AnalyticsFrameworkTranslator",L);y.subscribe(w.EVENTS.VC_PLAYED,"AnalyticsFrameworkTranslator",O);
y.subscribe(w.EVENTS.VC_VIDEO_ELEMENT_CREATED,"AnalyticsFrameworkTranslator",V)};var H=q(function(Z,W,aa){var ac;try{ac=aa}catch(ab){G(Z);ac={}}p.setPluginMetadata(ac);p.publishEvent(w.Analytics.EVENTS.VIDEO_PLAYER_CREATED,[ac])});var R=q(function(Z,W,ac){var ab;try{ab=new w.Analytics.EVENT_DATA.VideoSourceData(W,ac)}catch(aa){G(Z);ab={}}p.publishEvent(w.Analytics.EVENTS.VIDEO_SOURCE_CHANGED,[ab])});var s=q(function(Z,aa){var ac;try{var W=aa;ac=new w.Analytics.EVENT_DATA.VideoContentMetadata(W.title,W.description,W.duration,W.closed_captions,W.content_type,W.hostedAtURL)}catch(ab){G(Z);ac={}}p.publishEvent(w.Analytics.EVENTS.VIDEO_CONTENT_METADATA_UPDATED,[ac])});var B=q(function(W,Z){var ab;try{ab=Z}catch(aa){G(W);ab={}}p.publishEvent(w.Analytics.EVENTS.VIDEO_STREAM_METADATA_UPDATED,[ab])});var Q=q(function(W){p.publishEvent(w.Analytics.EVENTS.INITIAL_PLAYBACK_REQUESTED)});var I=q(function(W){p.publishEvent(w.Analytics.EVENTS.VIDEO_PLAY_REQUESTED)});var l=q(function(Z,ab,ad,W,aa){var ae;try{ae=new w.Analytics.EVENT_DATA.VideoDownloadingMetadata(ab,ad,W,aa.start,aa.end)}catch(ac){ae={};G(Z)}p.publishEvent(w.Analytics.EVENTS.VIDEO_STREAM_DOWNLOADING,[ae])});var D=q(function(W,Z){var ab;try{ab=new w.Analytics.EVENT_DATA.VideoBufferingStartedData(Z)}catch(aa){G(W);ab={}}p.publishEvent(w.Analytics.EVENTS.VIDEO_BUFFERING_STARTED,[ab])});var t=q(function(W,Z){var ab;try{ab=new w.Analytics.EVENT_DATA.VideoBufferingEndedData(Z)}catch(aa){G(W);ab={}}p.publishEvent(w.Analytics.EVENTS.VIDEO_BUFFERING_ENDED,[ab])});var S=q(function(W){p.publishEvent(w.Analytics.EVENTS.VIDEO_PLAYING)});var F=q(function(aa,W,ab,Z,ac,ae){var af;try{af=new w.Analytics.EVENT_DATA.VideoStreamPositionChangedData(W,ab,ae)}catch(ad){G(aa);af={}}p.publishEvent(w.Analytics.EVENTS.VIDEO_STREAM_POSITION_CHANGED,[af])});var A=q(function(W){p.publishEvent(w.Analytics.EVENTS.PLAYBACK_COMPLETED)});var T=q(function(W){p.publishEvent(w.Analytics.EVENTS.VIDEO_PAUSE_REQUESTED)});var x=q(function(W){p.publishEvent(w.Analytics.EVENTS.VIDEO_PAUSED)});var n=q(function(W){p.publishEvent(w.Analytics.EVENTS.VIDEO_REPLAY_REQUESTED)});var z=q(function(W,Z){var ab;try{ab=new w.Analytics.EVENT_DATA.VideoSeekRequestedData(Z)}catch(aa){G(W);ab={}}p.publishEvent(w.Analytics.EVENTS.VIDEO_SEEK_REQUESTED,[ab])});var o=q(function(W,Z){var ab;try{ab=new w.Analytics.EVENT_DATA.VideoSeekCompletedData(Z)}catch(aa){G(W);ab={}}p.publishEvent(w.Analytics.EVENTS.VIDEO_SEEK_COMPLETED,[ab])});var e=q(function(W){p.publishEvent(w.Analytics.EVENTS.AD_BREAK_STARTED)});var u=q(function(W,ab){var aa;try{aa=new w.Analytics.EVENT_DATA.AdPodStartedData(ab)}catch(Z){G(W);aa={}}p.publishEvent(w.Analytics.EVENTS.AD_POD_STARTED,[aa])});var P=q(function(W,Z){var ab;try{ab=new w.Analytics.EVENT_DATA.AdPodEndedData(Z)}catch(aa){G(W);ab={}}p.publishEvent(w.Analytics.EVENTS.AD_POD_ENDED,[ab])});var r=q(function(W,Z){var ab;try{ab=new w.Analytics.EVENT_DATA.AdStartedData(w.Analytics.AD_TYPE.LINEAR_VIDEO,Z)}catch(aa){G(W);ab={}}p.publishEvent(w.Analytics.EVENTS.AD_STARTED,[ab])});var K=q(function(W,Z){var ab;try{ab=new w.Analytics.EVENT_DATA.AdEndedData(w.Analytics.AD_TYPE.LINEAR_VIDEO,Z)}catch(aa){G(W);ab={}}p.publishEvent(w.Analytics.EVENTS.AD_ENDED,[ab])});var k=q(function(W,Z){var ab;try{ab=new w.Analytics.EVENT_DATA.AdStartedData(w.Analytics.AD_TYPE.NONLINEAR_OVERLAY,Z)}catch(aa){G(W);ab={}}p.publishEvent(w.Analytics.EVENTS.AD_STARTED,[ab])});var X=q(function(W,Z){var ab;try{ab=new w.Analytics.EVENT_DATA.AdEndedData(w.Analytics.AD_TYPE.NONLINEAR_OVERLAY,Z)}catch(aa){G(W);ab={}}p.publishEvent(w.Analytics.EVENTS.AD_ENDED,[ab])});var M=q(function(W){p.publishEvent(w.Analytics.EVENTS.AD_BREAK_ENDED)});var v=q(function(W){p.publishEvent(w.Analytics.EVENTS.AD_SKIPPED)});var C=q(function(W,ab){var aa;try{aa=new w.Analytics.EVENT_DATA.FullscreenChangedData(ab)}catch(Z){G(W);aa={}}p.publishEvent(w.Analytics.EVENTS.FULLSCREEN_CHANGED,[aa])});var E=q(function(W,Z){var ab;try{ab=new w.Analytics.EVENT_DATA.VolumeChangedData(Z)}catch(aa){G(W);
ab={}}p.publishEvent(w.Analytics.EVENTS.VOLUME_CHANGED,[ab])});var L=q(function(W){p.publishEvent(w.Analytics.EVENTS.DESTROY)});var O=q(function(W,Z){if(Z===w.VIDEO.MAIN){p.publishEvent(w.Analytics.EVENTS.VIDEO_CONTENT_COMPLETED)}});var V=q(function(W,ab){if(ab){var aa=ab.videoId;if(aa===w.VIDEO.MAIN){var ac=null;try{ac=new w.Analytics.EVENT_DATA.VideoElementData(ab.streamUrl)}catch(Z){G(W);ac={}}p.publishEvent(w.Analytics.EVENTS.VIDEO_ELEMENT_CREATED,[ac])}}});var U=q(function(W){return"Error AnalyticsFrameworkTranslator: "+W});var G=q(function(W){w.log(U(W+" data changed and is causing an error."))});return N});(function(e,l,k){e.AnalyticsBase=function(m,n){};k.extend(e.AnalyticsBase.prototype,{loadSucceed:function(){},reportEvent:function(){throw"Please override this function"},setup:function(m,o,n){this.mb=m;this.elementId=o;this._loaded=false;this._bufferedEvents=[];this.mb.subscribe("*",n,k.bind(this._onAnalyticsEvent,this))},loadExternalAnalyticsJs:function(m){l.getScriptRetry(m,k.bind(this._onLoaded,this),{error:function(){e.log("can not load url",m)}})},_onLoaded:function(){this._loaded=true;this.loadSucceed();if(!this._bufferedEvents){return}k.each(this._bufferedEvents,function(m){this._safeReportEvent.apply(this,m)},this)},_onAnalyticsEvent:function(){if(this._loaded){this._safeReportEvent.apply(this,arguments)}else{this._bufferedEvents.push(arguments)}},_safeReportEvent:function(){try{this.reportEvent.apply(this,arguments)}catch(m){e.log("can not log event")}},__place_holder:true})}(a,a.$,a._));(function(e,m,k){var l="ooyala_analytics";var n=e.inherit(e.AnalyticsBase,function(o,p){if(!e.requiredInEnvironment("html5-playback")){return}this.setup(o,p,l);this.lastEmbedCode="";this.currentEmbedcode="";this.playingInstreamAd=false;this.guid=undefined;this.accountId=undefined;this.accountIdSet=false;this.guidSet=false;this.parameters=undefined;this.documentUrl=undefined;o.subscribe(e.EVENTS.AUTHORIZATION_FETCHED,l,k.bind(this._onAuthorizationFetched,this));o.subscribe(e.EVENTS.ERROR,l,k.bind(this._onErrorEvent,this));o.subscribe(e.EVENTS.GUID_SET,l,k.bind(this._onGuidSet,this));o.subscribe(e.EVENTS.REPORT_DISCOVERY_IMPRESSION,l,k.bind(this._onReportDiscoveryImpression,this));o.subscribe(e.EVENTS.REPORT_DISCOVERY_CLICK,l,k.bind(this._onReportDiscoveryClick,this));o.subscribe(e.EVENTS.PLAYER_CREATED,l,k.bind(this._onPlayerCreated,this))});k.extend(n.prototype,{_onGuidSet:function(p,o){this.guid=o;this.guidSet=true;this._onGuidAndAccountIdSet()},_onPlayerCreated:function(p,o,q){this.parameters=q;if(this.parameters&&this.parameters.docUrl){this.documentUrl=this.parameters.docUrl}else{if(this.parameters&&this.parameters.flashParams&&this.parameters.flashParams["docUrl"]){this.documentUrl=this.parameters.flashParams["docUrl"]}}},_onAuthorizationFetched:function(p,o){if(o.user_info&&o.user_info.account_id){this.accountId=o.user_info.account_id}else{if(o.debug_data&&o.debug_data.user_info&&o.debug_data.user_info.account_id){this.accountId=o.debug_data.user_info.account_id}}this.mb.unsubscribe(e.EVENTS.ERROR,l);this.mb.unsubscribe(e.EVENTS.AUTHORIZATION_FETCHED,l);if(k.isNumber(this.accountId)){this.accountId=this.accountId.toString()}if(!k.isString(this.accountId)){this.accountId=undefined;e.d("OO.OoyalaAnalytics: SAS authorization fetched without an accountId")}else{e.d("OO.OoyalaAnalytics: SAS authorization fetched with accountId == "+this.accountId)}this.accountIdSet=true;this._onGuidAndAccountIdSet()},_onGuidAndAccountIdSet:function(){if(!this.guidSet||!this.accountIdSet){return}e.d("Loading Analtics Module...");this.loadExternalAnalyticsJs(e.URLS.ANALYTICS({server:e.SERVER.ANALYTICS}))},_onErrorEvent:function(p,r){if(!r||!r.code){return}var o=r.code;var q=false;k.each(e.ERROR.API.SAS,function(t,s){if(t===o){q=true}});if(q){this._onAuthorizationError(p,o)}},_onAuthorizationError:function(o,p){this.mb.unsubscribe(e.EVENTS.ERROR,l);this.mb.unsubscribe(e.EVENTS.AUTHORIZATION_FETCHED,l);e.d("OO.OoyalaAnalytics: SAS authorization failed, loading external analytics module ...");
this.loadExternalAnalyticsJs(e.URLS.ANALYTICS({server:e.SERVER.ANALYTICS}))},_onReportDiscoveryImpression:function(o,q){if(!this.reporter){return}try{this.reporter.reportDiscoveryImpression(q.relatedVideos,q.custom)}catch(p){e.log("Failed to report a discovery impression event with params "+JSON.stringify(q)+": "+p)}},_onReportDiscoveryClick:function(o,q){if(!this.reporter){return}try{this.reporter.reportDiscoveryClick(q.clickedVideo,q.custom)}catch(p){e.log("Failed to report a discovery click event with params "+JSON.stringify(q)+": "+p)}},loadSucceed:function(){if(!window.Ooyala||!window.Ooyala.Reporter){return}n.Reporter=Ooyala.Reporter;n.Pinger=Ooyala.Pinger;this.reporter=null;if(!e.playerParams.pcode){return}var o={accountId:this.accountId,guid:this.guid,playerBrandingId:e.playerParams.playerBrandingId};if(this.documentUrl){o=k.extend(o,{documentUrl:this.documentUrl})}this.reporter=new n.Reporter(e.playerParams.pcode,o)},reportEvent:function(p,q,o){if(!this.reporter){return}switch(p){case e.EVENTS.PLAYER_CREATED:this.reporter.reportPlayerLoad();break;case e.EVENTS.EMBED_CODE_CHANGED:if(q!=this.currentEmbedcode){this.lastEmbedCode=this.currentEmbedcode}else{this.lastEmbedCode=""}this.currentEmbedcode=q;break;case e.EVENTS.CONTENT_TREE_FETCHED:this.reporter.initializeVideo(this.currentEmbedcode,q.duration);break;case e.EVENTS.WILL_PLAY_FROM_BEGINNING:if(this.lastEmbedCode===this.currentEmbedcode){this.reporter.reportReplay()}else{this.reporter.reportVideoStarted();this.lastEmbedCode=this.currentEmbedcode}break;case e.EVENTS.WILL_PLAY_ADS:this.playingInstreamAd=true;var r=Ooyala.Reporter.AdSource.UNKNOWN;if(q&&q.type&&typeof(q.type)=="string"){r=Ooyala.Reporter.AdSource[q.type.toUpperCase()]}this.reporter.setAdSource(r,this.currentEmbedcode,q&&q.click_url);this.reporter.reportAdImpression();break;case e.EVENTS.ADS_PLAYED:this.playingInstreamAd=false;break;case e.EVENTS.ADS_CLICKED:this.reporter.reportAdClickToVideo();break;case e.EVENTS.PLAYHEAD_TIME_CHANGED:if(this.playingInstreamAd){this.reporter.reportAdPlaythrough(q,o)}else{if(q>0){this.reporter.reportPlayheadUpdate(Math.floor(q*1000))}}break;case e.EVENTS.REPORT_EXPERIMENT_VARIATIONS:this.reporter.reportExperimentVariation(q.variationIds);break;case e.EVENTS.INITIAL_PLAY:this.reporter.reportPlayRequested();break}},__place_holder:true});e.registerModule(l,function(o,p){return new n(o,p)})}(a,a.$,a._));a.plugin("Librato",function(e,s,o,k){var l=Math.floor(Math.random()*10);if(l>0){return(function(){})}var r="-above-range";var p="-below-range";var u="-within-range";var n={events:[{name:"v4-load-time",low:500,high:2000},{name:"v4-playback-ready",low:1000,high:3000},{name:"v4-time-to-first-content-frame",low:1000,high:5000},{name:"v4-time-to-first-ad-frame",low:1000,high:5000}]};var m=function(){this.basic_auth_token="abelrios@ooyala.com:95d53e8841835839469f2a2f96fd95b564342ffadff759ad9d49f1897805db1b";if(window.btoa){this.basic_auth_token=btoa(this.basic_auth_token)}else{this.basic_auth_token=window.base64.encode(this.basic_auth_token)}this.source=this._generateSourceString()};s.extend(m.prototype,{_measureDurationMilli:function(w,v){return v-w},_addMetricValue:function(w,v,x){w[v]={value:x,source:this.source};return w},_reportSingleMetric:function(v,x){var w={};this._addMetricValue(w,v,x);this._sendReport(w)},_sendReport:function(v){o.ajax({url:"https://metrics-api.librato.com/v1/metrics",type:"post",data:{gauges:v},dataType:"json",headers:{Authorization:"Basic "+this.basic_auth_token},success:function(w){}})},_getThresholdText:function(w,v){var x=u;if(w>v.high){x=r}else{if(w<v.low){x=p}}return v.name+x},_matchEvent:function(w){var v;s.each(n.events,function(y,x){if(y.name===w){v=y}});return v},_generateSourceString:function(){var v={};var w=s.template("<%= platform %>-<%= os %>-<%= browser %>");if(e.featureEnabled("flash-playback")){v.platform="flash"}else{v.platform="html5"}if(e.isIos){v.os="ios"}else{if(e.isAndroid){v.os="android"}else{if(e.isMacOs){v.os="macosx"}else{if(e.isWinPhone){v.os="winphone"
}else{if(e.isWindows){v.os="windows"}else{v.os="generic"}}}}}if(e.isChrome){v.browser="chrome"}else{if(e.isFirefox){v.browser="firefox"}else{if(e.isIE11Plus){v.browser="ie11plus"}else{if(e.isIE){v.browser="ieold"}else{if(e.isSafari){v.browser="safari"}else{v.browser="generic"}}}}}return w(v)},start:function(){var w={};this._addMetricValue(w,"v4-load",1);if(!!window.performance&&!!window.performance.getEntries){var x=".*v4.*core";var v=s.find(window.performance.getEntriesByType("resource"),function(y){return y.name.match(x)});if(!!v){if(v.duration>0){this._addMetricValue(w,this._getThresholdText(v.duration,this._matchEvent("v4-load-time")),1)}}}this._sendReport(w)}});var q=new m();s.defer(s.bind(q.start,q));var t=function(v,w){this.id=w;this.mb=v;this.initializationTs=this._takeTimestamp();this.mb.subscribe(e.EVENTS.SET_EMBED_CODE,"librato",s.bind(this._onSetEmbedCode,this));this.mb.subscribe(e.EVENTS.PLAYBACK_READY,"librato",s.bind(this._onPlaybackReady,this));this.mb.subscribe(e.EVENTS.INITIAL_PLAY,"librato",s.bind(this._onInitialPlay,this));this.mb.subscribe(e.EVENTS.PLAY,"librato",s.bind(this._onInitialPlay,this));this.mb.subscribe(e.EVENTS.PLAYING,"librato",s.bind(this._onInitialPlay,this));this.mb.subscribe(e.EVENTS.ADS_PLAYED,"librato",s.bind(this._onAdsPlayed,this));this.mb.subscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,"librato",s.bind(this._onPlayheadTimeChanged,this));this.mb.subscribe(e.EVENTS.PLAY_FAILED,"librato",s.bind(this._onPlayerPlayFailure,this));this.mb.subscribe(e.EVENTS.ERROR,"librato",s.bind(this._onPlayerError,this));this.mb.subscribe(e.EVENTS.WILL_PLAY_ADS,"librato",s.bind(this._willPlayAds,this))};s.extend(t.prototype,{_takeTimestamp:function(){return new Date().getTime()},_onSetEmbedCode:function(){this.setEmbedCodeTs=this._takeTimestamp();this.wasPlayStartReported=false;this.wasTimeToFirstFrameReported=false;this.wasTimeToFirstAdFrameReported=false;this.adsPlaying=false},_onPlaybackReady:function(){q._reportSingleMetric("v4-playback-ready",1);this.playbackReadyTs=this._takeTimestamp();var v=q._measureDurationMilli(this.setEmbedCodeTs,this.playbackReadyTs);q._reportSingleMetric(q._getThresholdText(v,q._matchEvent("v4-playback-ready")),1)},_onInitialPlay:function(){if(this.wasPlayStartReported){return}this.lastStateChangeTs=this._takeTimestamp();this.wasPlayStartReported=true;q._reportSingleMetric("v4-play",1)},_willPlayAds:function(){this.lastStateChangeTs=this._takeTimestamp();this.adsPlaying=true;q._reportSingleMetric("v4-play-ad",1)},_onAdsPlayed:function(){this.lastStateChangeTs=this._takeTimestamp();this.adsPlaying=false},_onPlayheadTimeChanged:function(v,w){if(this.wasTimeToFirstFrameReported&&this.wasTimeToFirstAdFrameReported){return}if(!w||w<=0){return}this.firstFrameTs=this._takeTimestamp();var x=q._measureDurationMilli(this.lastStateChangeTs,this.firstFrameTs);if(!this.wasTimeToFirstFrameReported&&!this.adsPlaying){q._reportSingleMetric(q._getThresholdText(x,q._matchEvent("v4-time-to-first-content-frame")),1);this.wasTimeToFirstFrameReported=true}if(this.adsPlaying&&!this.wasTimeToFirstAdFrameReported){q._reportSingleMetric(q._getThresholdText(x,q._matchEvent("v4-time-to-first-ad-frame")),1);this.wasTimeToFirstAdFrameReported=true}},_onPlayerPlayFailure:function(){q._reportSingleMetric("v4-play-fail",1)},_onPlayerError:function(w,v){this.errorTs=this._takeTimestamp();q._reportSingleMetric("v4-error",1)}});return t});(function(e,l,k){l.event.special.mresize={add:function(){var m=l(this);if(m.data("mresize")){return}if(m.css("position")==="static"){m.css("position","relative")}m.append("<div class='resize' style='position:absolute; width:auto; height:auto; top:0; right:0; bottom:0; left:0; margin:0; padding:0; overflow:hidden; visibility:hidden; z-index:-1'><iframe style='width:100%; height:0; border:0; visibility:visible; margin:0' /><iframe style='width:0; height:100%; border:0; visibility:visible; margin:0' /></div>").data("mresize",{w:m.width(),h:m.height(),t:null,throttle:100}).find(".resize iframe").each(function(){l(this.contentWindow||this).on("resize",function(){var n=m.data("mresize");
if(n.w!==m.width()||n.h!==m.height()){if(n.t){clearTimeout(n.t)}n.t=setTimeout(function(){m.triggerHandler("mresize");n.w=m.width();n.h=m.height()},n.throttle)}})})},remove:function(){l(this).removeData("mresize").find(".resize").remove()}}}(a,a.$,a._));a.exposeStaticApi("EVENTS",a.EVENTS);a.exposeStaticApi("CONSTANTS",a.CONSTANTS);a.publicApi.log=a.log;a.exposeStaticApi("ERROR",a.ERROR);a.exposeStaticApi("STATE",a.STATE);a.exposeStaticApi("VERSION",a.VERSION);a.exposeStaticApi("VIDEO",a.VIDEO);a.publicApi.$=a.$;a.publicApi._=a._;a.publicApi.__static.apiReady=true;a.$(document).ready(function(){a.publicApi.__static.docReady=true;a.tryCallReady()})}())}catch(err){if(err&&window.console&&window.console.log){window.console.log(err,err.stack)}};(function e(b,g,d){function c(m,j){if(!g[m]){if(!b[m]){var i=typeof require=="function"&&require;if(!j&&i){return i(m,!0)}if(a){return a(m,!0)}var k=new Error("Cannot find module '"+m+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[m]={exports:{}};b[m][0].call(h.exports,function(l){var o=b[m][1][l];return c(o?o:l)},h,h.exports,e,b,g,d)}return g[m].exports}var a=typeof require=="function"&&require;for(var f=0;f<d.length;f++){c(d[f])}return c})({1:[function(b,c,a){if(!OO){OO={}}},{}],2:[function(b,c,a){b("./InitOOUnderscore.js");if((!OO.HM)&&(typeof window==="undefined"||typeof window._==="undefined")){OO.HM=b("hazmat").create()}else{if(!window.Hazmat){b("hazmat")}}if(!OO.HM){OO.HM=window.Hazmat.noConflict().create()}},{"./InitOOUnderscore.js":3,hazmat:6}],3:[function(b,c,a){b("./InitOO.js");if(!window._){window._=b("underscore")}if(!OO._){OO._=window._.noConflict()}},{"./InitOO.js":1,underscore:7}],4:[function(b,c,a){(function(d,f){d.STATE={LOADING:"loading",READY:"ready",PLAYING:"playing",PAUSED:"paused",BUFFERING:"buffering",ERROR:"error",DESTROYED:"destroyed",__end_marker:true};d.EVENTS={PLAYER_CREATED:"playerCreated",PLAYER_EMBEDDED:"playerEmbedded",SET_EMBED_CODE:"setEmbedCode",EMBED_CODE_CHANGED:"embedCodeChanged",SET_ASSET:"setAsset",ASSET_CHANGED:"assetChanged",UPDATE_ASSET:"updateAsset",ASSET_UPDATED:"assetUpdated",AUTH_TOKEN_CHANGED:"authTokenChanged",GUID_SET:"guidSet",WILL_FETCH_PLAYER_XML:"willFetchPlayerXml",PLAYER_XML_FETCHED:"playerXmlFetched",WILL_FETCH_CONTENT_TREE:"willFetchContentTree",CONTENT_TREE_FETCHED:"contentTreeFetched",WILL_FETCH_METADATA:"willFetchMetadata",METADATA_FETCHED:"metadataFetched",THUMBNAILS_FETCHED:"thumbnailsFetched",WILL_FETCH_AUTHORIZATION:"willFetchAuthorization",AUTHORIZATION_FETCHED:"authorizationFetched",WILL_FETCH_AD_AUTHORIZATION:"willFetchAdAuthorization",AD_AUTHORIZATION_FETCHED:"adAuthorizationFetched",CAN_SEEK:"canSeek",WILL_RESUME_MAIN_VIDEO:"willResumeMainVideo",PLAYBACK_READY:"playbackReady",INITIAL_PLAY:"initialPlay",WILL_PLAY:"willPlay",REPLAY:"replay",PLAYHEAD_TIME_CHANGED:"playheadTimeChanged",BUFFERING:"buffering",BUFFERED:"buffered",DOWNLOADING:"downloading",BITRATE_INFO_AVAILABLE:"bitrateInfoAvailable",SET_TARGET_BITRATE:"setTargetBitrate",BITRATE_CHANGED:"bitrateChanged",CLOSED_CAPTIONS_INFO_AVAILABLE:"closedCaptionsInfoAvailable",SET_CLOSED_CAPTIONS_LANGUAGE:"setClosedCaptionsLanguage",CLOSED_CAPTION_CUE_CHANGED:"closedCaptionCueChanged",ASSET_DIMENSION:"assetDimension",SCRUBBING:"scrubbing",SCRUBBED:"scrubbed",SEEK:"seek",SEEKED:"seeked",PLAY:"play",PLAYING:"playing",PLAY_FAILED:"playFailed",PAUSE:"pause",PAUSED:"paused",PLAYED:"played",DISPLAY_CUE_POINTS:"displayCuePoints",INSERT_CUE_POINT:"insertCuePoint",RESET_CUE_POINTS:"resetCuePoints",WILL_CHANGE_FULLSCREEN:"willChangeFullscreen",FULLSCREEN_CHANGED:"fullscreenChanged",SIZE_CHANGED:"sizeChanged",CHANGE_VOLUME:"changeVolume",VOLUME_CHANGED:"volumeChanged",CONTROLS_SHOWN:"controlsShown",CONTROLS_HIDDEN:"controlsHidden",END_SCREEN_SHOWN:"endScreenShown",ERROR:"error",DESTROY:"destroy",WILL_PLAY_FROM_BEGINNING:"willPlayFromBeginning",DISABLE_PLAYBACK_CONTROLS:"disablePlaybackControls",ENABLE_PLAYBACK_CONTROLS:"enablePlaybackControls",VC_READY:"videoControllerReady",VC_CREATE_VIDEO_ELEMENT:"videoControllerCreateVideoElement",VC_VIDEO_ELEMENT_CREATED:"videoControllerVideoElementCreated",VC_FOCUS_VIDEO_ELEMENT:"videoControllerFocusVideoElement",VC_VIDEO_ELEMENT_IN_FOCUS:"videoControllerVideoElementInFocus",VC_VIDEO_ELEMENT_LOST_FOCUS:"videoControllerVideoElementLostFocus",VC_DISPOSE_VIDEO_ELEMENT:"videoControllerDisposeVideoElement",VC_VIDEO_ELEMENT_DISPOSED:"videoControllerVideoElementDisposed",VC_SET_VIDEO_STREAMS:"videoControllerSetVideoStreams",VC_ERROR:"videoControllerError",VC_SET_INITIAL_TIME:"videoSetInitialTime",VC_PLAY:"videoPlay",VC_WILL_PLAY:"videoWillPlay",VC_PLAYING:"videoPlaying",VC_PLAYED:"videoPlayed",VC_PLAY_FAILED:"videoPlayFailed",VC_PAUSE:"videoPause",VC_PAUSED:"videoPaused",VC_SEEK:"videoSeek",VC_SEEKING:"videoSeeking",VC_SEEKED:"videoSeeked",VC_PRELOAD:"videoPreload",VC_RELOAD:"videoReload",VC_PRIME_VIDEOS:"videoPrimeVideos",VC_TAG_FOUND:"videoTagFound",WILL_FETCH_ADS:"willFetchAds",DISABLE_SEEKING:"disableSeeking",ENABLE_SEEKING:"enableSeeking",WILL_PLAY_ADS:"willPlayAds",WILL_PLAY_SINGLE_AD:"willPlaySingleAd",WILL_PAUSE_ADS:"willPauseAds",WILL_RESUME_ADS:"willResumeAds",WILL_PLAY_NONLINEAR_AD:"willPlayNonlinearAd",PLAY_NONLINEAR_AD:"playNonlinearAd",NONLINEAR_AD_DISPLAYED:"nonlinearAdDisplayed",ADS_PLAYED:"adsPlayed",SINGLE_AD_PLAYED:"singleAdPlayed",ADS_ERROR:"adsError",ADS_CLICKED:"adsClicked",FIRST_AD_FETCHED:"firstAdFetched",AD_CONFIG_READY:"adConfigReady",WILL_SHOW_COMPANION_ADS:"willShowCompanionAds",AD_FETCH_FAILED:"adFetchFailed",MIDROLL_PLAY_FAILED:"midrollPlayFailed",SKIP_AD:"skipAd",UPDATE_AD_COUNTDOWN:"updateAdCountdown",REPORT_EXPERIMENT_VARIATIONS:"reportExperimentVariations",FETCH_STYLE:"fetchStyle",STYLE_FETCHED:"styleFetched",SET_STYLE:"setStyle",USE_SERVER_SIDE_HLS_ADS:"useServerSideHlsAds",LOAD_ALL_VAST_ADS:"loadAllVastAds",ADS_FILTERED:"adsFiltered",ADS_MANAGER_HANDLING_ADS:"adsManagerHandlingAds",ADS_MANAGER_FINISHED_ADS:"adsManagerFinishedAds",OVERLAY_RENDERING:"overlayRendering",SHOW_AD_CONTROLS:"showAdControls",SHOW_AD_MARQUEE:"showAdMarquee",PAGE_UNLOAD_REQUESTED:"pageUnloadRequested",PAGE_PROBABLY_UNLOADING:"pageProbablyUnloading",REPORT_DISCOVERY_IMPRESSION:"reportDiscoveryImpression",REPORT_DISCOVERY_CLICK:"reportDiscoveryClick",UI_READY:"uiReady",__end_marker:true};
d.ERROR={API:{NETWORK:"network",SAS:{GENERIC:"sas",GEO:"geo",DOMAIN:"domain",FUTURE:"future",PAST:"past",DEVICE:"device",PROXY:"proxy",CONCURRENT_STREAMS:"concurrent_streams",INVALID_HEARTBEAT:"invalid_heartbeat",ERROR_DEVICE_INVALID_AUTH_TOKEN:"device_invalid_auth_token",ERROR_DEVICE_LIMIT_REACHED:"device_limit_reached",ERROR_DEVICE_BINDING_FAILED:"device_binding_failed",ERROR_DEVICE_ID_TOO_LONG:"device_id_too_long",ERROR_DRM_RIGHTS_SERVER_ERROR:"drm_server_error",ERROR_DRM_GENERAL_FAILURE:"drm_general_failure",ERROR_INVALID_ENTITLEMENTS:"invalid_entitlements"},CONTENT_TREE:"content_tree",METADATA:"metadata"},PLAYBACK:{GENERIC:"playback",STREAM:"stream",LIVESTREAM:"livestream",NETWORK:"network_error"},CHROMECAST:{MANIFEST:"chromecast_manifest",MEDIAKEYS:"chromecast_mediakeys",NETWORK:"chromecast_network",PLAYBACK:"chromecast_playback"},UNPLAYABLE_CONTENT:"unplayable_content",INVALID_EXTERNAL_ID:"invalid_external_id",EMPTY_CHANNEL:"empty_channel",EMPTY_CHANNEL_SET:"empty_channel_set",CHANNEL_CONTENT:"channel_content",VC:{UNSUPPORTED_ENCODING:"unsupported_encoding",UNABLE_TO_CREATE_VIDEO_ELEMENT:"unable_to_create_video_element"}};d.URLS={VAST_PROXY:f.template("http://player.ooyala.com/nuplayer/mobile_vast_ads_proxy?callback=<%=cb%>&embed_code=<%=embedCode%>&expires=<%=expires%>&tag_url=<%=tagUrl%>"),EXTERNAL_ID:f.template("<%=server%>/player_api/v1/content_tree/external_id/<%=pcode%>/<%=externalId%>"),CONTENT_TREE:f.template("<%=server%>/player_api/v1/content_tree/embed_code/<%=pcode%>/<%=embedCode%>"),METADATA:f.template("<%=server%>/player_api/v1/metadata/embed_code/<%=playerBrandingId%>/<%=embedCode%>?videoPcode=<%=pcode%>"),SAS:f.template("<%=server%>/player_api/v1/authorization/embed_code/<%=pcode%>/<%=embedCode%>"),ANALYTICS:f.template("<%=server%>/reporter.js"),THUMBNAILS:f.template("<%=server%>/api/v1/thumbnail_images/<%=embedCode%>"),__end_marker:true};d.VIDEO={MAIN:"main",ADS:"ads",ENCODING:{DRM:{HLS:"hls_drm",DASH:"dash_drm"},AUDIO:"audio",DASH:"dash",HDS:"hds",HLS:"hls",IMA:"ima",MP4:"mp4",RTMP:"rtmp",SMOOTH:"smooth",WEBM:"webm",AKAMAI_HD_VOD:"akamai_hd_vod",AKAMAI_HD2_VOD_HLS:"akamai_hd2_vod_hls",AKAMAI_HD2_VOD_HDS:"akamai_hd2_vod_hds",FAXS_HLS:"faxs_hls",WIDEVINE_HLS:"wv_hls",WIDEVINE_MP4:"wv_mp4",WIDEVINE_WVM:"wv_wvm",UNKNOWN:"unknown"},FEATURE:{CLOSED_CAPTIONS:"closedCaptions",VIDEO_OBJECT_SHARING_GIVE:"videoObjectSharingGive",VIDEO_OBJECT_SHARING_TAKE:"videoObjectSharingTake",BITRATE_CONTROL:"bitrateControl"},TECHNOLOGY:{FLASH:"flash",HTML5:"html5",MIXED:"mixed",OTHER:"other"}};d.CSS={VISIBLE_POSITION:"0px",INVISIBLE_POSITION:"-100000px",VISIBLE_DISPLAY:"block",INVISIBLE_DISPLAY:"none",VIDEO_Z_INDEX:10000,SUPER_Z_INDEX:20000,ALICE_SKIN_Z_INDEX:11000,OVERLAY_Z_INDEX:10500,TRANSPARENT_COLOR:"rgba(255, 255, 255, 0)",__end_marker:true};d.TEMPLATES={RANDOM_PLACE_HOLDER:["[place_random_number_here]","<now>","[timestamp]","<rand-num>","[cache_buster]","[random]"],REFERAK_PLACE_HOLDER:["[referrer_url]","[LR_URL]"],EMBED_CODE_PLACE_HOLDER:["[oo_embedcode]"],MESSAGE:'                  <table width="100%" height="100%" bgcolor="black" style="padding-left:55px; padding-right:55px;                   background-color:black; color: white;">                  <tbody>                  <tr valign="middle">                  <td align="right"><span style="font-family:Arial; font-size:20px">                  <%= message %>                  </span></td></tr></tbody></table>                  ',__end_marker:true};d.CONSTANTS={AD_PLAY_COUNT_KEY:"oo_ad_play_count",AD_ID_TO_PLAY_COUNT_DIVIDER:":",AD_PLAY_COUNT_DIVIDER:"|",MAX_AD_PLAY_COUNT_HISTORY_LENGTH:20,CONTROLS_BOTTOM_PADDING:10,SEEK_TO_END_LIMIT:4,CLOSED_CAPTIONS:{SHOWING:"showing",HIDDEN:"hidden",DISABLED:"disabled"},__end_marker:true}}(OO,OO._))},{}],5:[function(b,c,a){(function(f,g,d){f.playerParams=d.safeObject("environment.playerParams",f.playerParams,{});f.configurePublisher=function(i){f.playerParams.pcode=i.pcode||f.playerParams.pcode||"";f.playerParams.playerBrandingId=i.playerBrandingId||f.playerParams.playerBrandingId||"";
f.playerParams.debug=i.debug||f.playerParams.debug||""};f.isPublisherConfigured=function(){return !!(f.playerParams.pcode&&f.playerParams.playerBrandingId)};f.setServerHost=function(i){f.playerParams.api_ssl_server=i.api_ssl_server||f.playerParams.api_ssl_server||null;f.playerParams.api_server=i.api_server||f.playerParams.api_server||null;f.playerParams.auth_ssl_server=i.auth_ssl_server||f.playerParams.auth_ssl_server||null;f.playerParams.auth_server=i.auth_server||f.playerParams.auth_server||null;f.playerParams.analytics_ssl_server=i.analytics_ssl_server||f.playerParams.analytics_ssl_server||null;f.playerParams.analytics_server=i.analytics_server||f.playerParams.analytics_server||null;h()};var h=function(){f.SERVER={API:f.isSSL?f.playerParams.api_ssl_server||"https://player.ooyala.com":f.playerParams.api_server||"http://player.ooyala.com",AUTH:f.isSSL?f.playerParams.auth_ssl_server||"https://player.ooyala.com/sas":f.playerParams.auth_server||"http://player.ooyala.com/sas",ANALYTICS:f.isSSL?f.playerParams.analytics_ssl_server||"https://player.ooyala.com":f.playerParams.analytics_server||"http://player.ooyala.com"}};f.playerParams.tweaks=f.playerParams.tweaks||"";f.playerParams.tweaks=d.safeString("environment.playerParams.tweaks",f.playerParams.tweaks,"");f.playerParams.tweaks=f.playerParams.tweaks.split(",");f.tweaks={};f.tweaks["android-enable-hls"]=g.contains(f.playerParams.tweaks,"android-enable-hls");f.tweaks["html5-force-mp4"]=g.contains(f.playerParams.tweaks,"html5-force-mp4");f.playerParams.maxAdsTimeout=f.playerParams.maxAdsTimeout||5;f.playerParams.maxVastWrapperDepth=f.playerParams.maxVastWrapperDepth||3;f.playerParams.minLiveSeekWindow=f.playerParams.minLiveSeekWindow||10;f.guid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(k){var j=Math.random()*16|0,i=k=="x"?j:(j&3|8);return i.toString(16)});f.playerCount=0;f.isProd=!!(f.playerParams.environment&&f.playerParams.environment.match(/^prod/i));f.platform=window.navigator.platform;f.os=window.navigator.appVersion;f.supportsVideo=!!document.createElement("video").canPlayType;f.browserSupportsCors=(function(){try{return g.has(new XMLHttpRequest(),"withCredentials")||g.has(XMLHttpRequest.prototype,"withCredentials")}catch(i){return false}}());f.isWindows=(function(){return !!f.platform.match(/Win/)}());f.isIos=(function(){return !!f.platform.match(/iPhone|iPad|iPod/)}());f.isIphone=(function(){return !!f.platform.match(/iPhone|iPod/)}());f.isIpad=(function(){return !!f.platform.match(/iPad/)}());f.iosMajorVersion=(function(){try{if(f.isIos){return parseInt(window.navigator.userAgent.match(/OS (\d+)/)[1],10)}else{return null}}catch(i){return null}}());f.isAndroid=(function(){return !!(f.os.match(/Android/)&&!f.os.match(/Windows Phone/))}());f.isAndroid4Plus=(function(){var i=f.os.match(/Android [\d\.]*;/);if(i&&i.length>0){i=parseInt(i[0].substring(i[0].indexOf(" ")+1,i[0].search("[.;]")))}return f.isAndroid&&i>=4}());f.isRimDevice=(function(){return !!(f.os.match(/BlackBerry/)||f.os.match(/PlayBook/))}());f.isFirefox=(function(){return !!window.navigator.userAgent.match(/Firefox/)}());f.isChrome=(function(){return(!!window.navigator.userAgent.match(/Chrome/)&&!window.navigator.userAgent.match(/Edge/))}());f.isSafari=(function(){return(!!window.navigator.userAgent.match(/AppleWebKit/)&&!window.navigator.userAgent.match(/Chrome/)&&!window.navigator.userAgent.match(/like iPhone/))}());f.chromeMajorVersion=(function(){try{return parseInt(window.navigator.userAgent.match(/Chrome.([0-9]*)/)[1],10)}catch(i){return null}}());f.isIE=(function(){return !!window.navigator.userAgent.match(/MSIE/)||!!window.navigator.userAgent.match(/Trident/)}());f.isEdge=(function(){return !!window.navigator.userAgent.match(/Edge/)}());f.isIE11Plus=(function(){if(!window.navigator.userAgent.match(/Trident/)){return false}var i=window.navigator.userAgent.match(/rv:(\d*)/);var j=i&&i[1];return j>=11}());f.isWinPhone=(function(){return !!f.os.match(/Windows Phone/)||!!f.os.match(/ZuneWP/)||!!f.os.match(/XBLWP/)
}());f.isSmartTV=(function(){return(!!window.navigator.userAgent.match(/SmartTV/)||!!window.navigator.userAgent.match(/NetCast/))}());f.isMacOs=(function(){return !f.isIos&&!!f.os.match(/Mac/)&&!window.navigator.userAgent.match(/like iPhone/)}());f.isMacOsLionOrLater=(function(){var i=f.os.match(/Mac OS X ([0-9]+)_([0-9]+)/);if(i==null||i.length<3){return false}return(parseInt(i[1],10)>=10&&parseInt(i[2],10)>=7)}());f.isKindleHD=(function(){return !!f.os.match(/Silk\/2/)}());f.supportAds=(function(){return !f.isWinPhone&&!f.os.match(/Android [23]/)}());f.allowGesture=(function(){return f.isIos}());f.allowAutoPlay=(function(){return !f.isIos&&!f.isAndroid}());f.supportTouch=(function(){if(document.documentElement.hasOwnProperty&&document.documentElement.hasOwnProperty("ontouchstart")){return true}return false}());f.docDomain=(function(){var i=null;try{i=document.domain}catch(j){}if(!f._.isEmpty(i)){return i}if(f.isSmartTV){return"SmartTV"}return"unknown"}());f.uiParadigm=(function(){var i="tablet";if(f.isAndroid4Plus&&f.tweaks["android-enable-hls"]){i="tablet"}else{if(f.isIphone){i="mobile-native"}else{if(f.os.match(/BlackBerry/)){i="mobile-native"}else{if(f.os.match(/iPad/)){i="tablet"}else{if(f.isKindleHD){i="mobile-native"}else{if(f.os.match(/Silk/)){i="mobile"}else{if(f.os.match(/Android 2/)){if((window.orientation%180)==0&&(window.outerWidth/window.devicePixelRatio)<=480){i="mobile"}else{if((window.outerWidth/window.devicePixelRatio)<=560){i="mobile"}}}else{if(f.os.match(/Android/)){i="tablet"}else{if(f.isWinPhone){i="mobile"}else{if(!!f.platform.match(/Mac/)||!!f.platform.match(/Win/)||!!f.platform.match(/Linux/)){i="desktop"}}}}}}}}}}return i}());f.requiresSingleVideoElement=(function(){var i=f.isIos;var j=f.isAndroid&&(!f.isAndroid4Plus||f.chromeMajorVersion<40);return i||j}());f.supportedVideoProfiles=(function(){if(f.isIos||f.isAndroid){return"baseline"}return null}());f.device=(function(){var i="html5";if(f.isIphone){i="iphone-html5"}else{if(f.isIpad){i="ipad-html5"}else{if(f.isAndroid){i="android-html5"}else{if(f.isRimDevice){i="rim-html5"}else{if(f.isWinPhone){i="winphone-html5"}else{if(f.isSmartTV){i="smarttv-html5"}}}}}}return i}());f.environmentRequiredFeatures=(function(){var i=[];if(f.os.match(/Android 2/)){i.push("html5-playback")}else{i.push("html5-playback");if(f.supportAds){i.push("ads")}}return g.reduce(i,function(j,k){return j+k+" "},"")}());f.supportMidRollAds=(function(){return(f.uiParadigm==="desktop"&&!f.isIos&&!f.isRimDevice)}());f.supportCookies=(function(){document.cookie="ooyala_cookie_test=true";var i=document.cookie.indexOf("ooyala_cookie_test=true")>=0;document.cookie="ooyala_cookie_test=; expires=Thu, 01 Jan 1970 00:00:00 GMT";return i}());f.isSSL=document.location.protocol=="https:";h();f.requiredInEnvironment=f.featureEnabled=function(i){return !!f.environmentRequiredFeatures.match(new RegExp(i))};f.chromeExtensionEnabled=document.getElementById("ooyala-extension-installed")?true:false;f.locale="";f.setLocale=function(i){f.locale=i.toUpperCase()};f.getLocale=function(){return(f.locale||document.documentElement.lang||navigator.language||navigator.userLanguage||"en").substr(0,2).toUpperCase()}}(OO,OO._,OO.HM))},{}],6:[function(d,f,a){var c=function(i,h){var j=function(k){this.config=k||{};if(!i.isObject(this.config)){throw new Error("Hazmat is not initialized properly")}this.fail=i.isFunction(this.config.fail)?this.config.fail:j.fail;this.warn=i.isFunction(this.config.warn)?this.config.warn:j.warn;this.log=i.isFunction(this.config.log)?this.config.log:j.log};i.extend(j,{ID_REGEX:/^[\_A-Za-z0-9]+$/,create:function(k){return new j(k)},noConflict:function(){h.Hazmat=j.original;return j},log:function(){if(console&&i.isFunction(console.log)){console.log.apply(console,arguments)}},fail:function(k,l){var n=k||"",m=l||{};j.log("Hazmat Failure::",n,m);throw new Error("Hazmat Failure "+n.toString())},warn:function(k,l){var n=k||"",m=l||{};j.log("Hazmat Warning::",n,m)},fixDomId:function(k){if(i.isString(k)&&k.length>0){return k.replace(/[^A-Za-z0-9\_]/g,"")
}else{return null}},isDomId:function(k){return i.isString(k)&&k.match(j.ID_REGEX)},__placeholder:true});i.extend(j.prototype,{_safeValue:function(l,n,o,m){var k=o;if(i.isFunction(o)){o=i.once(function(){try{return k.apply(this,arguments)}catch(p){}})}if(m.checker(n)){return n}else{if(m.evalFallback&&i.isFunction(o)&&m.checker(o(n))){this.warn("Expected valid "+m.name+" for "+l+" but was able to sanitize it:",[n,o(n)]);return o(n)}else{if(m.checker(k)){this.warn("Expected valid "+m.name+" for "+l+" but was able to fallback to default value:",[n,k]);return k}else{this.fail("Expected valid "+m.name+" for "+l+" but received:",n)}}}},safeString:function(k,l,m){return this._safeValue(k,l,m,{name:"String",checker:i.isString,evalFallback:true})},safeStringOrNull:function(k,l,m){if(l==null){return l}else{return this._safeValue(k,l,m,{name:"String",checker:i.isString,evalFallback:true})}},safeDomId:function(k,l,m){return this._safeValue(k,l,m,{name:"DOM ID",checker:j.isDomId,evalFallback:true})},safeFunction:function(k,l,m){return this._safeValue(k,l,m,{name:"Function",checker:i.isFunction,evalFallback:false})},safeFunctionOrNull:function(k,l,m){if(l==null){return l}else{return this._safeValue(k,l,m,{name:"Function",checker:i.isFunction,evalFallback:false})}},safeObject:function(k,l,m){return this._safeValue(k,l,m,{name:"Object",checker:i.isObject,evalFallback:false})},safeObjectOrNull:function(k,l,m){if(l==null){return l}else{return this._safeValue(k,l,m,{name:"Object",checker:i.isObject,evalFallback:false})}},safeArray:function(k,l,m){return this._safeValue(k,l,m,{name:"Array",checker:i.isArray,evalFallback:false})},safeArrayOfElements:function(l,n,m,o){var k=this._safeValue(l,n,o,{name:"Array",checker:i.isArray,evalFallback:false});return i.map(k,m)},__placeholder:true});return j};if(typeof window!=="undefined"&&typeof window._!=="undefined"){var g=c(window._,window);g.original=window.Hazmat;window.Hazmat=g}else{var b=d("underscore");var g=c(b);b.extend(a,g)}},{underscore:7}],7:[function(b,c,a){(function(){var z=this;var n=z._;var H={};var G=Array.prototype,j=Object.prototype,u=Function.prototype;var r=G.slice,D=G.unshift,g=j.toString,l=j.hasOwnProperty;var P=G.forEach,t=G.map,I=G.reduce,f=G.reduceRight,d=G.filter,E=G.every,s=G.some,q=G.indexOf,o=G.lastIndexOf,w=Array.isArray,i=Object.keys,J=u.bind;var Q=function(p){return new x(p)};if(typeof a!=="undefined"){if(typeof c!=="undefined"&&c.exports){a=c.exports=Q}a._=Q}else{z._=Q}Q.VERSION="1.3.3";var M=Q.each=Q.forEach=function(V,U,T){if(V==null){return}if(P&&V.forEach===P){V.forEach(U,T)}else{if(V.length===+V.length){for(var S=0,p=V.length;S<p;S++){if(S in V&&U.call(T,V[S],S,V)===H){return}}}else{for(var R in V){if(Q.has(V,R)){if(U.call(T,V[R],R,V)===H){return}}}}}};Q.map=Q.collect=function(T,S,R){var p=[];if(T==null){return p}if(t&&T.map===t){return T.map(S,R)}M(T,function(W,U,V){p[p.length]=S.call(R,W,U,V)});if(T.length===+T.length){p.length=T.length}return p};Q.reduce=Q.foldl=Q.inject=function(U,T,p,S){var R=arguments.length>2;if(U==null){U=[]}if(I&&U.reduce===I){if(S){T=Q.bind(T,S)}return R?U.reduce(T,p):U.reduce(T)}M(U,function(X,V,W){if(!R){p=X;R=true}else{p=T.call(S,p,X,V,W)}});if(!R){throw new TypeError("Reduce of empty array with no initial value")}return p};Q.reduceRight=Q.foldr=function(U,T,p,S){var R=arguments.length>2;if(U==null){U=[]}if(f&&U.reduceRight===f){if(S){T=Q.bind(T,S)}return R?U.reduceRight(T,p):U.reduceRight(T)}var V=Q.toArray(U).reverse();if(S&&!R){T=Q.bind(T,S)}return R?Q.reduce(V,T,p,S):Q.reduce(V,T)};Q.find=Q.detect=function(T,S,R){var p;C(T,function(W,U,V){if(S.call(R,W,U,V)){p=W;return true}});return p};Q.filter=Q.select=function(T,S,R){var p=[];if(T==null){return p}if(d&&T.filter===d){return T.filter(S,R)}M(T,function(W,U,V){if(S.call(R,W,U,V)){p[p.length]=W}});return p};Q.reject=function(T,S,R){var p=[];if(T==null){return p}M(T,function(W,U,V){if(!S.call(R,W,U,V)){p[p.length]=W}});return p};Q.every=Q.all=function(T,S,R){var p=true;if(T==null){return p}if(E&&T.every===E){return T.every(S,R)
}M(T,function(W,U,V){if(!(p=p&&S.call(R,W,U,V))){return H}});return !!p};var C=Q.some=Q.any=function(T,S,R){S||(S=Q.identity);var p=false;if(T==null){return p}if(s&&T.some===s){return T.some(S,R)}M(T,function(W,U,V){if(p||(p=S.call(R,W,U,V))){return H}});return !!p};Q.include=Q.contains=function(S,R){var p=false;if(S==null){return p}if(q&&S.indexOf===q){return S.indexOf(R)!=-1}p=C(S,function(T){return T===R});return p};Q.invoke=function(R,S){var p=r.call(arguments,2);return Q.map(R,function(T){return(Q.isFunction(S)?S||T:T[S]).apply(T,p)})};Q.pluck=function(R,p){return Q.map(R,function(S){return S[p]})};Q.max=function(T,S,R){if(!S&&Q.isArray(T)&&T[0]===+T[0]){return Math.max.apply(Math,T)}if(!S&&Q.isEmpty(T)){return -Infinity}var p={computed:-Infinity};M(T,function(X,U,W){var V=S?S.call(R,X,U,W):X;V>=p.computed&&(p={value:X,computed:V})});return p.value};Q.min=function(T,S,R){if(!S&&Q.isArray(T)&&T[0]===+T[0]){return Math.min.apply(Math,T)}if(!S&&Q.isEmpty(T)){return Infinity}var p={computed:Infinity};M(T,function(X,U,W){var V=S?S.call(R,X,U,W):X;V<p.computed&&(p={value:X,computed:V})});return p.value};Q.shuffle=function(S){var p=[],R;M(S,function(V,T,U){R=Math.floor(Math.random()*(T+1));p[T]=p[R];p[R]=V});return p};Q.sortBy=function(S,T,p){var R=Q.isFunction(T)?T:function(U){return U[T]};return Q.pluck(Q.map(S,function(W,U,V){return{value:W,criteria:R.call(p,W,U,V)}}).sort(function(X,W){var V=X.criteria,U=W.criteria;if(V===void 0){return 1}if(U===void 0){return -1}return V<U?-1:V>U?1:0}),"value")};Q.groupBy=function(S,T){var p={};var R=Q.isFunction(T)?T:function(U){return U[T]};M(S,function(W,U){var V=R(W,U);(p[V]||(p[V]=[])).push(W)});return p};Q.sortedIndex=function(V,U,S){S||(S=Q.identity);var p=0,T=V.length;while(p<T){var R=(p+T)>>1;S(V[R])<S(U)?p=R+1:T=R}return p};Q.toArray=function(p){if(!p){return[]}if(Q.isArray(p)){return r.call(p)}if(Q.isArguments(p)){return r.call(p)}if(p.toArray&&Q.isFunction(p.toArray)){return p.toArray()}return Q.values(p)};Q.size=function(p){return Q.isArray(p)?p.length:Q.keys(p).length};Q.first=Q.head=Q.take=function(S,R,p){return(R!=null)&&!p?r.call(S,0,R):S[0]};Q.initial=function(S,R,p){return r.call(S,0,S.length-((R==null)||p?1:R))};Q.last=function(S,R,p){if((R!=null)&&!p){return r.call(S,Math.max(S.length-R,0))}else{return S[S.length-1]}};Q.rest=Q.tail=function(S,p,R){return r.call(S,(p==null)||R?1:p)};Q.compact=function(p){return Q.filter(p,function(R){return !!R})};Q.flatten=function(R,p){return Q.reduce(R,function(S,T){if(Q.isArray(T)){return S.concat(p?T:Q.flatten(T))}S[S.length]=T;return S},[])};Q.without=function(p){return Q.difference(p,r.call(arguments,1))};Q.uniq=Q.unique=function(U,T,S){var p=S?Q.map(U,S):U;var R=[];if(U.length<3){T=true}Q.reduce(p,function(V,X,W){if(T?Q.last(V)!==X||!V.length:!Q.include(V,X)){V.push(X);R.push(U[W])}return V},[]);return R};Q.union=function(){return Q.uniq(Q.flatten(arguments,true))};Q.intersection=Q.intersect=function(R){var p=r.call(arguments,1);return Q.filter(Q.uniq(R),function(S){return Q.every(p,function(T){return Q.indexOf(T,S)>=0})})};Q.difference=function(R){var p=Q.flatten(r.call(arguments,1),true);return Q.filter(R,function(S){return !Q.include(p,S)})};Q.zip=function(){var p=r.call(arguments);var T=Q.max(Q.pluck(p,"length"));var S=new Array(T);for(var R=0;R<T;R++){S[R]=Q.pluck(p,""+R)}return S};Q.indexOf=function(U,S,T){if(U==null){return -1}var R,p;if(T){R=Q.sortedIndex(U,S);return U[R]===S?R:-1}if(q&&U.indexOf===q){return U.indexOf(S)}for(R=0,p=U.length;R<p;R++){if(R in U&&U[R]===S){return R}}return -1};Q.lastIndexOf=function(S,R){if(S==null){return -1}if(o&&S.lastIndexOf===o){return S.lastIndexOf(R)}var p=S.length;while(p--){if(p in S&&S[p]===R){return p}}return -1};Q.range=function(V,T,U){if(arguments.length<=1){T=V||0;V=0}U=arguments[2]||1;var R=Math.max(Math.ceil((T-V)/U),0);var p=0;var S=new Array(R);while(p<R){S[p++]=V;V+=U}return S};var K=function(){};Q.bind=function h(T,R){var S,p;if(T.bind===J&&J){return J.apply(T,r.call(arguments,1))
}if(!Q.isFunction(T)){throw new TypeError}p=r.call(arguments,2);return S=function(){if(!(this instanceof S)){return T.apply(R,p.concat(r.call(arguments)))}K.prototype=T.prototype;var V=new K;var U=T.apply(V,p.concat(r.call(arguments)));if(Object(U)===U){return U}return V}};Q.bindAll=function(R){var p=r.call(arguments,1);if(p.length==0){p=Q.functions(R)}M(p,function(S){R[S]=Q.bind(R[S],R)});return R};Q.memoize=function(S,R){var p={};R||(R=Q.identity);return function(){var T=R.apply(this,arguments);return Q.has(p,T)?p[T]:(p[T]=S.apply(this,arguments))}};Q.delay=function(R,S){var p=r.call(arguments,2);return setTimeout(function(){return R.apply(null,p)},S)};Q.defer=function(p){return Q.delay.apply(Q,[p,1].concat(r.call(arguments,1)))};Q.throttle=function(S,T){var R,V,W,X,U,Y;var p=Q.debounce(function(){U=X=false},T);return function(){R=this;V=arguments;var Z=function(){W=null;if(U){S.apply(R,V)}p()};if(!W){W=setTimeout(Z,T)}if(X){U=true}else{Y=S.apply(R,V)}p();X=true;return Y}};Q.debounce=function(R,T,p){var S;return function(){var W=this,V=arguments;var U=function(){S=null;if(!p){R.apply(W,V)}};if(p&&!S){R.apply(W,V)}clearTimeout(S);S=setTimeout(U,T)}};Q.once=function(S){var p=false,R;return function(){if(p){return R}p=true;return R=S.apply(this,arguments)}};Q.wrap=function(p,R){return function(){var S=[p].concat(r.call(arguments,0));return R.apply(this,S)}};Q.compose=function(){var p=arguments;return function(){var R=arguments;for(var S=p.length-1;S>=0;S--){R=[p[S].apply(this,R)]}return R[0]}};Q.after=function(R,p){if(R<=0){return p()}return function(){if(--R<1){return p.apply(this,arguments)}}};Q.keys=i||function(S){if(S!==Object(S)){throw new TypeError("Invalid object")}var R=[];for(var p in S){if(Q.has(S,p)){R[R.length]=p}}return R};Q.values=function(p){return Q.map(p,Q.identity)};Q.functions=Q.methods=function(S){var R=[];for(var p in S){if(Q.isFunction(S[p])){R.push(p)}}return R.sort()};Q.extend=function(p){M(r.call(arguments,1),function(R){for(var S in R){p[S]=R[S]}});return p};Q.pick=function(R){var p={};M(Q.flatten(r.call(arguments,1)),function(S){if(S in R){p[S]=R[S]}});return p};Q.defaults=function(p){M(r.call(arguments,1),function(R){for(var S in R){if(p[S]==null){p[S]=R[S]}}});return p};Q.clone=function(p){if(!Q.isObject(p)){return p}return Q.isArray(p)?p.slice():Q.extend({},p)};Q.tap=function(R,p){p(R);return R};function N(T,S,R){if(T===S){return T!==0||1/T==1/S}if(T==null||S==null){return T===S}if(T._chain){T=T._wrapped}if(S._chain){S=S._wrapped}if(T.isEqual&&Q.isFunction(T.isEqual)){return T.isEqual(S)}if(S.isEqual&&Q.isFunction(S.isEqual)){return S.isEqual(T)}var W=g.call(T);if(W!=g.call(S)){return false}switch(W){case"[object String]":return T==String(S);case"[object Number]":return T!=+T?S!=+S:(T==0?1/T==1/S:T==+S);case"[object Date]":case"[object Boolean]":return +T==+S;case"[object RegExp]":return T.source==S.source&&T.global==S.global&&T.multiline==S.multiline&&T.ignoreCase==S.ignoreCase}if(typeof T!="object"||typeof S!="object"){return false}var X=R.length;while(X--){if(R[X]==T){return true}}R.push(T);var V=0,p=true;if(W=="[object Array]"){V=T.length;p=V==S.length;if(p){while(V--){if(!(p=V in T==V in S&&N(T[V],S[V],R))){break}}}}else{if("constructor" in T!="constructor" in S||T.constructor!=S.constructor){return false}for(var U in T){if(Q.has(T,U)){V++;if(!(p=Q.has(S,U)&&N(T[U],S[U],R))){break}}}if(p){for(U in S){if(Q.has(S,U)&&!(V--)){break}}p=!V}}R.pop();return p}Q.isEqual=function(R,p){return N(R,p,[])};Q.isEmpty=function(R){if(R==null){return true}if(Q.isArray(R)||Q.isString(R)){return R.length===0}for(var p in R){if(Q.has(R,p)){return false}}return true};Q.isElement=function(p){return !!(p&&p.nodeType==1)};Q.isArray=w||function(p){return g.call(p)=="[object Array]"};Q.isObject=function(p){return p===Object(p)};Q.isArguments=function(p){return g.call(p)=="[object Arguments]"};if(!Q.isArguments(arguments)){Q.isArguments=function(p){return !!(p&&Q.has(p,"callee"))}}Q.isFunction=function(p){return g.call(p)=="[object Function]"
};Q.isString=function(p){return g.call(p)=="[object String]"};Q.isNumber=function(p){return g.call(p)=="[object Number]"};Q.isFinite=function(p){return Q.isNumber(p)&&isFinite(p)};Q.isNaN=function(p){return p!==p};Q.isBoolean=function(p){return p===true||p===false||g.call(p)=="[object Boolean]"};Q.isDate=function(p){return g.call(p)=="[object Date]"};Q.isRegExp=function(p){return g.call(p)=="[object RegExp]"};Q.isNull=function(p){return p===null};Q.isUndefined=function(p){return p===void 0};Q.has=function(R,p){return l.call(R,p)};Q.noConflict=function(){z._=n;return this};Q.identity=function(p){return p};Q.times=function(T,S,R){for(var p=0;p<T;p++){S.call(R,p)}};Q.escape=function(p){return(""+p).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};Q.result=function(p,S){if(p==null){return null}var R=p[S];return Q.isFunction(R)?R.call(p):R};Q.mixin=function(p){M(Q.functions(p),function(R){A(R,Q[R]=p[R])})};var B=0;Q.uniqueId=function(p){var R=B++;return p?p+R:R};Q.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var y=/.^/;var k={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"};for(var L in k){k[k[L]]=L}var m=/\\|'|\r|\n|\t|\u2028|\u2029/g;var F=/\\(\\|'|r|n|t|u2028|u2029)/g;var O=function(p){return p.replace(F,function(R,S){return k[S]})};Q.template=function(V,U,S){S=Q.defaults(S||{},Q.templateSettings);var T="__p+='"+V.replace(m,function(W){return"\\"+k[W]}).replace(S.escape||y,function(W,X){return"'+\n_.escape("+O(X)+")+\n'"}).replace(S.interpolate||y,function(W,X){return"'+\n("+O(X)+")+\n'"}).replace(S.evaluate||y,function(W,X){return"';\n"+O(X)+"\n;__p+='"})+"';\n";if(!S.variable){T="with(obj||{}){\n"+T+"}\n"}T="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+T+"return __p;\n";var R=new Function(S.variable||"obj","_",T);if(U){return R(U,Q)}var p=function(W){return R.call(this,W,Q)};p.source="function("+(S.variable||"obj")+"){\n"+T+"}";return p};Q.chain=function(p){return Q(p).chain()};var x=function(p){this._wrapped=p};Q.prototype=x.prototype;var v=function(R,p){return p?Q(R).chain():R};var A=function(p,R){x.prototype[p]=function(){var S=r.call(arguments);D.call(S,this._wrapped);return v(R.apply(Q,S),this._chain)}};Q.mixin(Q);M(["pop","push","reverse","shift","sort","splice","unshift"],function(p){var R=G[p];x.prototype[p]=function(){var S=this._wrapped;R.apply(S,arguments);var T=S.length;if((p=="shift"||p=="splice")&&T===0){delete S[0]}return v(S,this._chain)}});M(["concat","join","slice"],function(p){var R=G[p];x.prototype[p]=function(){return v(R.apply(this._wrapped,arguments),this._chain)}});x.prototype.chain=function(){this._chain=true;return this};x.prototype.value=function(){return this._wrapped}}).call(this)},{}],8:[function(b,c,a){b("../../../html5-common/js/utils/InitModules/InitOO.js");b("../../../html5-common/js/utils/InitModules/InitOOUnderscore.js");b("../../../html5-common/js/utils/InitModules/InitOOHazmat.js");b("../../../html5-common/js/utils/constants.js");b("../../../html5-common/js/utils/environment.js");(function(g,j){var i="ooyalaHtml5VideoTech";var h={};var d=function(){this.name=i;this.features=[OO.VIDEO.FEATURE.CLOSED_CAPTIONS,OO.VIDEO.FEATURE.VIDEO_OBJECT_SHARING_GIVE];this.technology=OO.VIDEO.TECHNOLOGY.HTML5;var l=function(){var n=[];var m=document.createElement("video");if(typeof m.canPlayType==="function"){if(!!m.canPlayType("video/mp4")){n.push(OO.VIDEO.ENCODING.MP4)}if(!!m.canPlayType("video/webm")){n.push(OO.VIDEO.ENCODING.WEBM)}if((!!m.canPlayType("application/vnd.apple.mpegurl")||!!m.canPlayType("application/x-mpegURL"))&&!OO.isSmartTV&&!OO.isRimDevice&&(!OO.isMacOs||OO.isMacOsLionOrLater)){n.push(OO.VIDEO.ENCODING.HLS)}if(window.navigator.userAgent.match(/SonyCEBrowser/)){n.push(OO.VIDEO.ENCODING.HLS)}}return n};this.encodings=l();this.create=function(t,s,m,p,n){if(this.maxSupportedElements>0&&n&&h[n]>=this.maxSupportedElements){return
}var q=j("<video>");q.attr("class","video");q.attr("id",s);q.attr("preload","none");q.css(p);if(OO.isIos){q.attr("x-webkit-airplay","allow")}var r={width:t.width(),height:t.height()};if(!n){n=f()}var o=new k(s,q[0],r,n);if(h[n]&&h[n]>=0){h[n]++}else{h[n]=1}o.controller=m;m.notify(m.EVENTS.CAN_PLAY);o.subscribeAllEvents();t.append(q);return o};this.destroy=function(){this.encodings=[];this.create=function(){}};this.maxSupportedElements=(function(){var m=OO.isIos;var n=OO.isAndroid&&(!OO.isAndroid4Plus||OO.chromeMajorVersion<40);return(m||n)?1:-1})()};var k=function(D,O,Y,p){this.controller={};this.disableNativeSeek=false;var y=O;var Z=p;var aE="";var M=false;var an={};var Q=false;var m=false;var V=false;var l=null;var x=false;var aD=false;var X=0;var aw=false;var s="track_cc";var au=true;var aA=Y;var aa={height:0,width:0};var ai={value:0,reached:true};var ao=true;var ar=false;var w=null;var A={};var aj=null;var am=false;var E=-1;var L={width:"",height:"",left:"50%",top:"50%","-webkit-transform":"translate(-50%,-50%)",visibility:"visible"};if(OO.isAndroid&&OO.isChrome){var B=g.bind(function(aJ){if(document.hidden){ao=false}},this);document.addEventListener("visibilitychange",B)}this.sharedElementGive=function(){aI();aE=""};this.sharedElementTake=function(){this.subscribeAllEvents()};this.subscribeAllEvents=function(){an={loadstart:aG,loadedmetadata:r,progress:N,error:U,stalled:t,canplay:ay,canplaythrough:J,playing:ap,waiting:aH,seeking:I,seeked:C,ended:ab,durationchange:al,timeupdate:ak,play:av,pause:az,ratechange:ad,volumechange:R,volumechangeNew:R,webkitbeginfullscreen:aB,webkitendfullscreen:v};g.each(an,function(aJ,aK){j(y).on(aK,aJ)},this)};var aI=function(){g.each(an,function(aJ,aK){j(y).off(aK,aJ)},this)};this.setVideoUrl=function(aJ,aL){var aK=false;if(aE.replace(/[\?&]_=[^&]+$/,"")!=aJ){aE=aJ||"";if(aE.length>0&&OO.isChrome){aE=aE+(/\?/.test(aE)?"&":"?")+"_="+f()}aw=(aL==OO.VIDEO.ENCODING.HLS);aK=true;K();if(aE===""){y.src=null}else{y.src=aE}}return aK};var K=g.bind(function(){x=false;m=false;V=false;l=null;Q=false;aD=false;au=true;X=0;M=false;aa={height:0,width:0};ai={value:0,reached:true};ao=true;ar=false;at();w=null},this);this.load=function(aJ){if(Q&&!aJ){return}if(!!aJ){if(OO.isEdge){X=0}else{try{if(OO.isIos&&OO.iosMajorVersion==8){j(y).on("durationchange",g.bind(function(){y.currentTime=0;X=0},this))}else{y.currentTime=0;X=0}y.pause()}catch(aK){OO.log("VTC_OO: Failed to rewind video, probably ok; continuing")}}}m=false;y.load();Q=true};this.setInitialTime=function(aJ){if(!V&&(aJ!==0)){ai.value=aJ;ai.reached=false;if(OO.isAndroid){aq(ai.value)}else{this.seek(ai.value)}}};this.play=function(){if(y.seeking){x=true}else{S(false)}};this.pause=function(){x=false;y.pause()};this.seek=function(aK){var aJ=aC(y,aK);if(aJ!==null){y.currentTime=aJ;aD=true;return true}aq(aK);return false};this.setVolume=function(aJ){var aK=aJ;if(aK<0){aK=0}else{if(aK>1){aK=1}}y.volume=aK;if(y.currentSrc===""||y.currentSrc===null){R({target:{volume:aK}})}};this.getCurrentTime=function(){return y.currentTime};this.primeVideoElement=function(){S(true);y.pause()};this.applyCss=function(aJ){j(y).css(aJ);P()};this.destroy=function(){y.pause();if(!OO.isIE&&!OO.isEdge){y.src=""}aI();j(y).remove();if(Z&&h[Z]&&h[Z]>0){h[Z]--}if(B){document.removeEventListener("visibilitychange",B)}};this.setClosedCaptions=g.bind(function(aP,aM,aN){j(y).find("."+s).remove();if(aP==null){return}var aO=(aN&&aN.mode)||OO.CONSTANTS.CLOSED_CAPTIONS.SHOWING;var aK="closed_captions_vtt";if(aM&&aM[aK]){g.each(aM[aK],function(aQ,aR){var aS={label:aQ.name,src:aQ.url,language:aR,inStream:false};ac(aS)})}if(A[aP]){var aJ=A[aP];if(aJ.inStream==true&&y.textTracks){for(var aL=0;aL<y.textTracks.length;aL++){if(y.textTracks[aL].kind==="captions"){y.textTracks[aL].mode=aO;y.textTracks[aL].oncuechange=ae}else{y.textTracks[aL].mode=OO.CONSTANTS.CLOSED_CAPTIONS.DISABLED}}}else{if(!aJ.inStream){this.setClosedCaptionsMode(OO.CONSTANTS.CLOSED_CAPTIONS.DISABLED);j(y).append("<track class='"+s+"' kind='subtitles' label='"+aJ.label+"' src='"+aJ.src+"' srclang='"+aJ.language+"' default>");
if(y.textTracks&&y.textTracks[0]){y.textTracks[0].mode=aO;if(aO==OO.CONSTANTS.CLOSED_CAPTIONS.HIDDEN){y.textTracks[0].oncuechange=ae}}g.delay(function(aR){if(y.textTracks&&y.textTracks[0]){y.textTracks[0].mode=aR;if(OO.isFirefox){for(var aQ=0;aQ<y.textTracks[0].cues.length;aQ++){y.textTracks[0].cues[aQ].line=15}}}},100,aO)}}}},this);this.setClosedCaptionsMode=function(aK){if(y.textTracks){for(var aJ=0;aJ<y.textTracks.length;aJ++){y.textTracks[aJ].mode=aK}}if(aK==OO.CONSTANTS.CLOSED_CAPTIONS.DISABLED){F("")}};this.setCrossorigin=function(aJ){if(aJ){j(y).attr("crossorigin",aJ)}else{j(y).removeAttr("crossorigin")}};var aG=g.bind(function(){at();aE=y.src;au=true;M=false;aD=false},this);var r=g.bind(function(){ag();Q=true},this);var ae=g.bind(function(aK){var aL="";if(aK&&aK.currentTarget&&aK.currentTarget.activeCues){for(var aJ=0;aJ<aK.currentTarget.activeCues.length;aJ++){if(aK.currentTarget.activeCues[aJ].text){aL+=aK.currentTarget.activeCues[aJ].text+"\n"}}}F(aL)},this);var G=g.bind(function(){var aL="";if(y.textTracks){for(var aK=0;aK<y.textTracks.length;aK++){if(y.textTracks[aK].activeCues){for(var aJ=0;aJ<y.textTracks[aK].activeCues.length;aJ++){if(y.textTracks[aK].activeCues[aJ].text){aL+=y.textTracks[aK].activeCues[aJ].text+"\n"}}break}}}F(aL)},this);var n=g.bind(function(){if(y.textTracks&&y.textTracks.length>0){var aK=[];for(var aJ=0;aJ<y.textTracks.length;aJ++){if(y.textTracks[aJ].kind==="captions"){var aL={language:"CC",inStream:true,label:"In-Stream"};if(A[aL.language]==null){ac(aL)}}}}},this);var ac=g.bind(function(aJ){if(aJ==null||aJ.language==null||(A[aJ.language]&&A[aJ.language].src==aJ.src)){return}A[aJ.language]=aJ;u()},this);var u=g.bind(function(){var aJ={languages:[],locale:{}};g.each(A,function(aL,aK){aJ.languages.push(aK);aJ.locale[aK]=aL.label});this.controller.notify(this.controller.EVENTS.CAPTIONS_FOUND_ON_PLAYING,aJ)},this);var F=g.bind(function(aJ){aJ=aJ.trim();if(aJ!=w){w=aJ;this.controller.notify(this.controller.EVENTS.CLOSED_CAPTION_CUE_CHANGED,aJ)}},this);var N=g.bind(function(aK){var aJ=0;if(aK.target.buffered&&aK.target.buffered.length>0){aJ=aK.target.buffered.end(0)}this.controller.notify(this.controller.EVENTS.PROGRESS,{currentTime:aK.target.currentTime,duration:H(aK.target.duration),buffer:aJ,seekRange:z(aK.target.seekable)})},this);var U=g.bind(function(aK){at();var aJ=aK.target.error?aK.target.error.code:-1;if(!(aJ===4&&(j(aK.target).attr("src")==="null"||j(aK.target).attr("src")===""))){this.controller.notify(this.controller.EVENTS.ERROR,{errorcode:aJ})}},this);var t=g.bind(function(aJ){if(OO.isIpad&&aJ.target.currentTime===0){y.pause()}this.controller.notify(this.controller.EVENTS.STALLED,{url:y.currentSrc})},this);var ay=g.bind(function(){if((OO.isFirefox||OO.isIos)&&am){J()}m=true;if(au){this.controller.notify(this.controller.EVENTS.ASSET_DIMENSION,{width:y.videoWidth,height:y.videoHeight})}},this);var J=g.bind(function(){am=false;this.controller.notify(this.controller.EVENTS.BUFFERED,{url:y.currentSrc})},this);var ap=g.bind(function(){if(ar){return}this.controller.notify(this.controller.EVENTS.PLAYING);ah();n();au=false;ao=true;aD=false;P()},this);var aH=g.bind(function(){am=true;this.controller.notify(this.controller.EVENTS.WAITING,{url:y.currentSrc})},this);var I=g.bind(function(){aD=true;if(!ar&&ai.reached){this.controller.notify(this.controller.EVENTS.SEEKING)}},this);var C=g.bind(function(){aD=false;aF();if(this.disableNativeSeek){var aJ=Math.floor(y.currentTime);var aK=Math.floor(X);if(aJ!==aK){y.currentTime=X}}if(!ai.reached){ai.reached=true}else{this.controller.notify(this.controller.EVENTS.SEEKED)}},this);var ab=g.bind(function(aJ){at();if(!y.ended&&OO.isSafari){return}if(M){return}M=true;this.controller.notify(this.controller.EVENTS.ENDED)},this);var al=g.bind(function(aJ){af(this.controller.EVENTS.DURATION_CHANGE,aJ)},this);var ak=g.bind(function(aJ){if(!aD){X=y.currentTime}if(ai.value>0&&(aJ.target.currentTime>=ai.value)){ai.value=0}af(this.controller.EVENTS.TIME_UPDATE,aJ);ag();
P();if(OO.isFirefox){G()}q(aJ)},this);var av=g.bind(function(aJ){if(ar){return}this.controller.notify(this.controller.EVENTS.PLAY,{url:aJ.target.src})},this);var az=g.bind(function(){if(ar){return}this.controller.notify(this.controller.EVENTS.PAUSED);W()},this);var ad=g.bind(function(){this.controller.notify(this.controller.EVENTS.RATE_CHANGE)},this);var R=g.bind(function(aJ){this.controller.notify(this.controller.EVENTS.VOLUME_CHANGE,{volume:aJ.target.volume})},this);var aB=g.bind(function(aJ){this.controller.notify(this.controller.EVENTS.FULLSCREEN_CHANGED,{isFullScreen:true,paused:aJ.target.paused})},this);var v=g.bind(function(aJ){this.controller.notify(this.controller.EVENTS.FULLSCREEN_CHANGED,{isFullScreen:false,paused:aJ.target.paused})},this);var P=function(){if(OO.isIpad){var aN=y.videoWidth;var aJ=y.videoHeight;var aL=aA.width;var aM=aA.height;if(aN!=aa.width||aJ!=aa.height){var aK=L;if(aJ/aN>aM/aL){aK.width="";aK.height="100%"}else{aK.width="100%";aK.height=""}j(y).css(aK);aa.width=aN;aa.height=aJ}}};var aF=g.bind(function(){if(x){x=false;S(false)}},this);var S=g.bind(function(aJ){ar=aJ;if(!Q){this.load(true)}y.play();if(!ar){V=true;M=false}},this);var z=function(aJ){if(!aJ||!aJ.length||!(typeof aJ.start=="function")||!(typeof aJ.end=="function")){return{start:0,end:0}}return{start:aJ.length>0?aJ.start(0):0,end:aJ.length>0?aJ.end(0):0}};var ax=function(){if(OO.isSafari&&!m){return null}else{return y.seekable}};var T=function(aL,aK){if(aK-aL<OO.CONSTANTS.SEEK_TO_END_LIMIT){aL=aK}var aJ=aL>=aK?aK-0.01:(aL<0?0:aL);if(OO.isIpad&&aJ<0.1){aJ=0.1}return aJ};var aC=function(aJ,aM){if((typeof aM!=="number")||!ao){return null}var aK=z(ax());if(aK.start===0&&aK.end===0){return null}var aL=T(aM,aJ.duration);if(aK.start<=aL&&aK.end>=aL){return aL}return null};var aq=function(aJ){l=aJ};var ag=g.bind(function(){if(l===null){return}if(this.seek(l)){l=null}},this);var af=g.bind(function(aK,aM){if(ar){return}if(aD||ai.value>0){return}var aJ=0;if(aM.target.buffered&&aM.target.buffered.length>0){aJ=aM.target.buffered.end(0)}var aL=(aM&&aM.target)?aM.target.currentTime:null;if(aL&&(typeof aL!=="number")){aL=Number(aL)}var aN=z(ax());this.controller.notify(aK,{currentTime:aL,duration:H(aM.target.duration),buffer:aJ,seekRange:aN})},this);var H=function(aJ){if(aJ===Infinity||isNaN(aJ)){return 0}return aJ};var W=g.bind(function(){if(OO.isSafari&&!OO.isIos){if(y.ended){console.log("VTC_OO: Force through the end of stream for Safari",y.currentSrc,y.duration,y.currentTime);ab()}}},this);var q=g.bind(function(aK){if(aw){var aL=H(aK.target.duration);var aJ=Math.floor(aL);if((y.currentTime==aL)&&(aL>aJ)){console.log("VTC_OO: manually triggering end of stream for m3u8",aE,aL,y.currentTime);g.defer(ab)}else{if(OO.isSafari&&!OO.isIos&&aD===true&&!y.ended&&Math.round(y.currentTime)===Math.round(y.duration)){this.controller.notify(this.controller.EVENTS.SEEKED);M=true;this.controller.notify(this.controller.EVENTS.ENDED)}}}},this);var ah=g.bind(function(){if((OO.isChrome||OO.isIos||OO.isIE11Plus)&&!aj){var aJ=300;aj=setInterval(o,aJ)}},this);var o=g.bind(function(){if(!V){return}if(y.ended){return at()}if(!y.paused&&y.currentTime==E){if(!am){aH()}}else{E=y.currentTime;if(am){J()}}},this);var at=g.bind(function(){clearInterval(aj);aj=null;am=false;E=-1},this)};var f=function(){return Math.random().toString(36).substring(7)};OO.Video.plugin(new d())}(OO._,OO.$))},{"../../../html5-common/js/utils/InitModules/InitOO.js":1,"../../../html5-common/js/utils/InitModules/InitOOHazmat.js":2,"../../../html5-common/js/utils/InitModules/InitOOUnderscore.js":3,"../../../html5-common/js/utils/constants.js":4,"../../../html5-common/js/utils/environment.js":5}]},{},[8]);OO.plugin("DiscoveryApi",function(b,d,g,a){var f=20;b.EVENTS.DISCOVERY_API={RELATED_VIDEOS_FETCHED:"relatedVideosFetched",SEND_DISPLAY_EVENT:"sendDisplayEvent",DISPLAY_EVENT_SUCCESS:"displayEventSuccess",SEND_CLICK_EVENT:"sendClickEvent",CLICK_EVENT_SUCCESS:"clickEventSuccess",DISPLAY_EVENT_ERROR:"displayEventError",CLICK_EVENT_ERROR:"clickEventError"};var c=[];b.exposeStaticApi("EVENTS",b.EVENTS);var e=function(h,i){if(!b.requiredInEnvironment("html5-playback")){return}this.id=i;this.mb=h;this.error=false;this.relatedVideos=[];this.guid="";this.apiHost=b.playerParams.backlot_api_write_server||"api.ooyala.com";b.StateMachine.create({initial:"Init",messageBus:this.mb,moduleName:"DiscoveryApi",target:this,events:[{name:b.EVENTS.EMBED_CODE_CHANGED,from:"*"},{name:b.EVENTS.ASSET_CHANGED,from:"*"},{name:b.EVENTS.ASSET_UPDATED,from:"*"},{name:b.EVENTS.DISCOVERY_API.SEND_DISPLAY_EVENT,from:"*"},{name:b.EVENTS.DISCOVERY_API.SEND_CLICK_EVENT,from:"*"},{name:b.EVENTS.GUID_SET,from:"*"}]})};d.extend(e.prototype,{onEmbedCodeChanged:function(j,h){c=d.filter(c,function(k){return k!=h});c.push(h);if(c.length>=f){c.shift()}if(this.guid===""){var i=d.bind(function(){this._fetchRelatedVideos(h)},this);setTimeout(i,500)}else{this._fetchRelatedVideos(h)}},onAssetUpdated:function(i,h){this._setRelatedMedia(h)},onAssetChanged:function(i,h){this._setRelatedMedia(h)},_setRelatedMedia:function(h){if(h.relatedVideos){this.relatedVideos=h.relatedVideos;this.mb.publish(b.EVENTS.DISCOVERY_API.RELATED_VIDEOS_FETCHED,{videos:this.relatedVideos})}},onGuidSet:function(i,h){this.guid=h},onSendDisplayEvent:function(j,i){if(!i){return}var k=i.relatedVideos;if(!k||!d.isArray(k)||d.size(k)<1){return}var l=k[0].bucket_info;if(!l){return}if(l.charAt(0)=="2"){this.mb.publish(b.EVENTS.REPORT_DISCOVERY_IMPRESSION,i);return}i={bucket_info:l,custom:i.custom};var h="http://"+this.apiHost+"/v2/discover/feedback/impression";i.device_id=this.guid;i.discovery_profile_id=b.playerParams.playerBrandingId;i.system="OOYALA";g.ajax({url:h,data:JSON.stringify(i),type:"POST",dataType:"json",crossDomain:true,cache:true,success:d.bind(this._displayEventSuccess,this),error:d.bind(this._displayEventError,this)})},_displayEventSuccess:function(){this.mb.publish(b.EVENTS.DISCOVERY_API.DISPLAY_EVENT_SUCCESS)},_displayEventError:function(j,h,i){this.mb.publish(b.EVENTS.DISCOVERY_API.DISPLAY_EVENT_ERROR,{xhr:j,status:h,error:i})},onSendClickEvent:function(j,i){if(!i){return}var l=i.clickedVideo;if(!l){return}var k=l.bucket_info;if(!k){return}if(k.charAt(0)=="2"){this.mb.publish(b.EVENTS.REPORT_DISCOVERY_CLICK,i);return}i={bucket_info:k,custom:i.custom};var h="http://"+this.apiHost+"/v2/discover/feedback/play";i.device_id=this.guid;i.discovery_profile_id=b.playerParams.playerBrandingId;i.system="OOYALA";g.ajax({url:h,data:JSON.stringify(i),type:"POST",dataType:"json",crossDomain:true,cache:true,success:d.bind(this._clickEventSuccess,this),error:d.bind(this._clickEventError,this)})},_clickEventSuccess:function(){this.mb.publish(b.EVENTS.DISCOVERY_API.CLICK_EVENT_SUCCESS)},_clickEventError:function(j,h,i){this.mb.publish(b.EVENTS.DISCOVERY_API.CLICK_EVENT_ERROR,{xhr:j,status:h,error:i})},_fetchRelatedVideos:function(h){this.error=false;this.relatedVideos=[];var k={sign_version:"player",pcode:b.playerParams.pcode,discovery_profile_id:b.playerParams.playerBrandingId,video_pcode:b.playerParams.pcode,limit:f,device_id:this.guid,expected_bucket_info_version:2,expires:Math.floor((new Date().getTime()/1000)+3600)};var i=encodeURIComponent(this._generateSignature(k));k.device_id=encodeURIComponent(k.device_id);var j="//"+this.apiHost+"/v2/discover/similar/assets/"+h+"?"+this._generateParamString(k,i);g.ajax({url:j,type:"GET",dataType:"json",crossDomain:true,cache:true,success:d.bind(this._onRelatedVideosFetched,this),error:d.bind(this._onApiError,this)})},_onRelatedVideosFetched:function(h){var i=b.HM.safeObject("discovery.relatedVideos",h,{});if(i.errors===undefined||(i.errors&&i.errors.code===0)){this.relatedVideos=i.results||[];
this.variationIds=i.variation_ids}else{this.relatedVideos=[];this.variationIds=[]}this._reorderRelatedVideos();this.mb.publish(b.EVENTS.REPORT_EXPERIMENT_VARIATIONS,{variationIds:this.variationIds});this.mb.publish(b.EVENTS.DISCOVERY_API.RELATED_VIDEOS_FETCHED,{videos:this.relatedVideos})},_onApiError:function(j,h,i){this.error=true;this.mb.publish(b.EVENTS.DISCOVERY_API.RELATED_VIDEOS_FETCHED,{error:true})},_generateSignature:function(k){var i=k.pcode;var j=d.reject(d.keys(k),function(l){return l==="pcode"});var h=new jsSHA(i+this._hashToString(k,"",j),"ASCII");return h.getHash("SHA-256","B64").substring(0,43)},_hashToString:function(l,h,k){var i="";var j=k||d.keys(l);d.each(d.sortBy(j,function(m){return m}),function(m){i+=h+m+"="+l[m]});return i},_generateParamString:function(j,h){var i="signature="+h+this._hashToString(j,"&");return i},_reorderRelatedVideos:function(){for(var h=0;h<c.length;h++){var j=d.find(this.relatedVideos,function(i){return i.embed_code==c[h]});if(j){this.relatedVideos=d.filter(this.relatedVideos,function(i){return i.embed_code!=c[h]});this.relatedVideos.push(j)}}}});return e});(function e(b,g,d){function c(m,j){if(!g[m]){if(!b[m]){var i=typeof require=="function"&&require;if(!j&&i){return i(m,!0)}if(a){return a(m,!0)}var k=new Error("Cannot find module '"+m+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[m]={exports:{}};b[m][0].call(h.exports,function(l){var o=b[m][1][l];return c(o?o:l)},h,h.exports,e,b,g,d)}return g[m].exports}var a=typeof require=="function"&&require;for(var f=0;f<d.length;f++){c(d[f])}return c})({1:[function(b,c,a){if(!OO){OO={}}},{}],2:[function(b,c,a){b("./InitOO.js");if(!window._){window._=b("underscore")}if(!OO._){OO._=window._.noConflict()}},{"./InitOO.js":1,underscore:5}],3:[function(b,c,a){(function(d,f){d.STATE={LOADING:"loading",READY:"ready",PLAYING:"playing",PAUSED:"paused",BUFFERING:"buffering",ERROR:"error",DESTROYED:"destroyed",__end_marker:true};d.EVENTS={PLAYER_CREATED:"playerCreated",PLAYER_EMBEDDED:"playerEmbedded",SET_EMBED_CODE:"setEmbedCode",EMBED_CODE_CHANGED:"embedCodeChanged",SET_ASSET:"setAsset",ASSET_CHANGED:"assetChanged",UPDATE_ASSET:"updateAsset",ASSET_UPDATED:"assetUpdated",AUTH_TOKEN_CHANGED:"authTokenChanged",GUID_SET:"guidSet",WILL_FETCH_PLAYER_XML:"willFetchPlayerXml",PLAYER_XML_FETCHED:"playerXmlFetched",WILL_FETCH_CONTENT_TREE:"willFetchContentTree",CONTENT_TREE_FETCHED:"contentTreeFetched",WILL_FETCH_METADATA:"willFetchMetadata",METADATA_FETCHED:"metadataFetched",THUMBNAILS_FETCHED:"thumbnailsFetched",WILL_FETCH_AUTHORIZATION:"willFetchAuthorization",AUTHORIZATION_FETCHED:"authorizationFetched",WILL_FETCH_AD_AUTHORIZATION:"willFetchAdAuthorization",AD_AUTHORIZATION_FETCHED:"adAuthorizationFetched",CAN_SEEK:"canSeek",WILL_RESUME_MAIN_VIDEO:"willResumeMainVideo",PLAYBACK_READY:"playbackReady",INITIAL_PLAY:"initialPlay",WILL_PLAY:"willPlay",REPLAY:"replay",PLAYHEAD_TIME_CHANGED:"playheadTimeChanged",BUFFERING:"buffering",BUFFERED:"buffered",DOWNLOADING:"downloading",BITRATE_INFO_AVAILABLE:"bitrateInfoAvailable",SET_TARGET_BITRATE:"setTargetBitrate",BITRATE_CHANGED:"bitrateChanged",CLOSED_CAPTIONS_INFO_AVAILABLE:"closedCaptionsInfoAvailable",SET_CLOSED_CAPTIONS_LANGUAGE:"setClosedCaptionsLanguage",CLOSED_CAPTION_CUE_CHANGED:"closedCaptionCueChanged",ASSET_DIMENSION:"assetDimension",SCRUBBING:"scrubbing",SCRUBBED:"scrubbed",SEEK:"seek",SEEKED:"seeked",PLAY:"play",PLAYING:"playing",PLAY_FAILED:"playFailed",PAUSE:"pause",PAUSED:"paused",PLAYED:"played",DISPLAY_CUE_POINTS:"displayCuePoints",INSERT_CUE_POINT:"insertCuePoint",RESET_CUE_POINTS:"resetCuePoints",WILL_CHANGE_FULLSCREEN:"willChangeFullscreen",FULLSCREEN_CHANGED:"fullscreenChanged",SIZE_CHANGED:"sizeChanged",CHANGE_VOLUME:"changeVolume",VOLUME_CHANGED:"volumeChanged",CONTROLS_SHOWN:"controlsShown",CONTROLS_HIDDEN:"controlsHidden",END_SCREEN_SHOWN:"endScreenShown",ERROR:"error",DESTROY:"destroy",WILL_PLAY_FROM_BEGINNING:"willPlayFromBeginning",DISABLE_PLAYBACK_CONTROLS:"disablePlaybackControls",ENABLE_PLAYBACK_CONTROLS:"enablePlaybackControls",VC_READY:"videoControllerReady",VC_CREATE_VIDEO_ELEMENT:"videoControllerCreateVideoElement",VC_VIDEO_ELEMENT_CREATED:"videoControllerVideoElementCreated",VC_FOCUS_VIDEO_ELEMENT:"videoControllerFocusVideoElement",VC_VIDEO_ELEMENT_IN_FOCUS:"videoControllerVideoElementInFocus",VC_VIDEO_ELEMENT_LOST_FOCUS:"videoControllerVideoElementLostFocus",VC_DISPOSE_VIDEO_ELEMENT:"videoControllerDisposeVideoElement",VC_VIDEO_ELEMENT_DISPOSED:"videoControllerVideoElementDisposed",VC_SET_VIDEO_STREAMS:"videoControllerSetVideoStreams",VC_ERROR:"videoControllerError",VC_SET_INITIAL_TIME:"videoSetInitialTime",VC_PLAY:"videoPlay",VC_WILL_PLAY:"videoWillPlay",VC_PLAYING:"videoPlaying",VC_PLAYED:"videoPlayed",VC_PLAY_FAILED:"videoPlayFailed",VC_PAUSE:"videoPause",VC_PAUSED:"videoPaused",VC_SEEK:"videoSeek",VC_SEEKING:"videoSeeking",VC_SEEKED:"videoSeeked",VC_PRELOAD:"videoPreload",VC_RELOAD:"videoReload",VC_PRIME_VIDEOS:"videoPrimeVideos",VC_TAG_FOUND:"videoTagFound",WILL_FETCH_ADS:"willFetchAds",DISABLE_SEEKING:"disableSeeking",ENABLE_SEEKING:"enableSeeking",WILL_PLAY_ADS:"willPlayAds",WILL_PLAY_SINGLE_AD:"willPlaySingleAd",WILL_PAUSE_ADS:"willPauseAds",WILL_RESUME_ADS:"willResumeAds",WILL_PLAY_NONLINEAR_AD:"willPlayNonlinearAd",PLAY_NONLINEAR_AD:"playNonlinearAd",NONLINEAR_AD_DISPLAYED:"nonlinearAdDisplayed",ADS_PLAYED:"adsPlayed",SINGLE_AD_PLAYED:"singleAdPlayed",ADS_ERROR:"adsError",ADS_CLICKED:"adsClicked",FIRST_AD_FETCHED:"firstAdFetched",AD_CONFIG_READY:"adConfigReady",WILL_SHOW_COMPANION_ADS:"willShowCompanionAds",AD_FETCH_FAILED:"adFetchFailed",MIDROLL_PLAY_FAILED:"midrollPlayFailed",SKIP_AD:"skipAd",UPDATE_AD_COUNTDOWN:"updateAdCountdown",REPORT_EXPERIMENT_VARIATIONS:"reportExperimentVariations",FETCH_STYLE:"fetchStyle",STYLE_FETCHED:"styleFetched",SET_STYLE:"setStyle",USE_SERVER_SIDE_HLS_ADS:"useServerSideHlsAds",LOAD_ALL_VAST_ADS:"loadAllVastAds",ADS_FILTERED:"adsFiltered",ADS_MANAGER_HANDLING_ADS:"adsManagerHandlingAds",ADS_MANAGER_FINISHED_ADS:"adsManagerFinishedAds",OVERLAY_RENDERING:"overlayRendering",SHOW_AD_CONTROLS:"showAdControls",SHOW_AD_MARQUEE:"showAdMarquee",PAGE_UNLOAD_REQUESTED:"pageUnloadRequested",PAGE_PROBABLY_UNLOADING:"pageProbablyUnloading",REPORT_DISCOVERY_IMPRESSION:"reportDiscoveryImpression",REPORT_DISCOVERY_CLICK:"reportDiscoveryClick",UI_READY:"uiReady",__end_marker:true};
d.ERROR={API:{NETWORK:"network",SAS:{GENERIC:"sas",GEO:"geo",DOMAIN:"domain",FUTURE:"future",PAST:"past",DEVICE:"device",PROXY:"proxy",CONCURRENT_STREAMS:"concurrent_streams",INVALID_HEARTBEAT:"invalid_heartbeat",ERROR_DEVICE_INVALID_AUTH_TOKEN:"device_invalid_auth_token",ERROR_DEVICE_LIMIT_REACHED:"device_limit_reached",ERROR_DEVICE_BINDING_FAILED:"device_binding_failed",ERROR_DEVICE_ID_TOO_LONG:"device_id_too_long",ERROR_DRM_RIGHTS_SERVER_ERROR:"drm_server_error",ERROR_DRM_GENERAL_FAILURE:"drm_general_failure",ERROR_INVALID_ENTITLEMENTS:"invalid_entitlements"},CONTENT_TREE:"content_tree",METADATA:"metadata"},PLAYBACK:{GENERIC:"playback",STREAM:"stream",LIVESTREAM:"livestream",NETWORK:"network_error"},CHROMECAST:{MANIFEST:"chromecast_manifest",MEDIAKEYS:"chromecast_mediakeys",NETWORK:"chromecast_network",PLAYBACK:"chromecast_playback"},UNPLAYABLE_CONTENT:"unplayable_content",INVALID_EXTERNAL_ID:"invalid_external_id",EMPTY_CHANNEL:"empty_channel",EMPTY_CHANNEL_SET:"empty_channel_set",CHANNEL_CONTENT:"channel_content",VC:{UNSUPPORTED_ENCODING:"unsupported_encoding",UNABLE_TO_CREATE_VIDEO_ELEMENT:"unable_to_create_video_element"}};d.URLS={VAST_PROXY:f.template("http://player.ooyala.com/nuplayer/mobile_vast_ads_proxy?callback=<%=cb%>&embed_code=<%=embedCode%>&expires=<%=expires%>&tag_url=<%=tagUrl%>"),EXTERNAL_ID:f.template("<%=server%>/player_api/v1/content_tree/external_id/<%=pcode%>/<%=externalId%>"),CONTENT_TREE:f.template("<%=server%>/player_api/v1/content_tree/embed_code/<%=pcode%>/<%=embedCode%>"),METADATA:f.template("<%=server%>/player_api/v1/metadata/embed_code/<%=playerBrandingId%>/<%=embedCode%>?videoPcode=<%=pcode%>"),SAS:f.template("<%=server%>/player_api/v1/authorization/embed_code/<%=pcode%>/<%=embedCode%>"),ANALYTICS:f.template("<%=server%>/reporter.js"),THUMBNAILS:f.template("<%=server%>/api/v1/thumbnail_images/<%=embedCode%>"),__end_marker:true};d.VIDEO={MAIN:"main",ADS:"ads",ENCODING:{DRM:{HLS:"hls_drm",DASH:"dash_drm"},AUDIO:"audio",DASH:"dash",HDS:"hds",HLS:"hls",IMA:"ima",MP4:"mp4",RTMP:"rtmp",SMOOTH:"smooth",WEBM:"webm",AKAMAI_HD_VOD:"akamai_hd_vod",AKAMAI_HD2_VOD_HLS:"akamai_hd2_vod_hls",AKAMAI_HD2_VOD_HDS:"akamai_hd2_vod_hds",FAXS_HLS:"faxs_hls",WIDEVINE_HLS:"wv_hls",WIDEVINE_MP4:"wv_mp4",WIDEVINE_WVM:"wv_wvm",UNKNOWN:"unknown"},FEATURE:{CLOSED_CAPTIONS:"closedCaptions",VIDEO_OBJECT_SHARING_GIVE:"videoObjectSharingGive",VIDEO_OBJECT_SHARING_TAKE:"videoObjectSharingTake",BITRATE_CONTROL:"bitrateControl"},TECHNOLOGY:{FLASH:"flash",HTML5:"html5",MIXED:"mixed",OTHER:"other"}};d.CSS={VISIBLE_POSITION:"0px",INVISIBLE_POSITION:"-100000px",VISIBLE_DISPLAY:"block",INVISIBLE_DISPLAY:"none",VIDEO_Z_INDEX:10000,SUPER_Z_INDEX:20000,ALICE_SKIN_Z_INDEX:11000,OVERLAY_Z_INDEX:10500,TRANSPARENT_COLOR:"rgba(255, 255, 255, 0)",__end_marker:true};d.TEMPLATES={RANDOM_PLACE_HOLDER:["[place_random_number_here]","<now>","[timestamp]","<rand-num>","[cache_buster]","[random]"],REFERAK_PLACE_HOLDER:["[referrer_url]","[LR_URL]"],EMBED_CODE_PLACE_HOLDER:["[oo_embedcode]"],MESSAGE:'                  <table width="100%" height="100%" bgcolor="black" style="padding-left:55px; padding-right:55px;                   background-color:black; color: white;">                  <tbody>                  <tr valign="middle">                  <td align="right"><span style="font-family:Arial; font-size:20px">                  <%= message %>                  </span></td></tr></tbody></table>                  ',__end_marker:true};d.CONSTANTS={AD_PLAY_COUNT_KEY:"oo_ad_play_count",AD_ID_TO_PLAY_COUNT_DIVIDER:":",AD_PLAY_COUNT_DIVIDER:"|",MAX_AD_PLAY_COUNT_HISTORY_LENGTH:20,CONTROLS_BOTTOM_PADDING:10,SEEK_TO_END_LIMIT:4,CLOSED_CAPTIONS:{SHOWING:"showing",HIDDEN:"hidden",DISABLED:"disabled"},__end_marker:true}}(OO,OO._))},{}],4:[function(b,c,a){(function(d,f,i){d.getRandomString=function(){return Math.random().toString(36).substring(7)};d.safeClone=function(k){if(f.isNumber(k)||f.isString(k)||f.isBoolean(k)||f.isFunction(k)||f.isNull(k)||f.isUndefined(k)){return k
}var j=(k instanceof Array)?[]:{};try{i.extend(true,j,k)}catch(l){d.log("deep clone error",l)}return j};d.d=function(){if(d.isDebug){d.log.apply(d,arguments)}d.$("#OOYALA_DEBUG_CONSOLE").append(JSON.stringify(d.safeClone(arguments))+"<br>")};d.inherit=function(j,m){if(typeof(j)!=="function"){d.log("invalid inherit, ParentClass need to be a class",j);return null}var l=function(){j.apply(this,arguments);if(typeof(m)==="function"){m.apply(this,arguments)}};var k=new j();d._.extend(l.prototype,k);l.prototype.parentClass=k;return l};var h={};d.attachStyle=function(k,j){var l=i('<style type="text/css">'+k+"</style>").appendTo("head");h[j]=h[j]||[];h[j].push(l)};d.removeStyles=function(j){d._.each(h[j],function(k){k.remove()})};d.getInnerProperty=function(l,k){var j=l;var n=k;while(n.length>0){var m=n.shift();if(f.isNull(j)||!f.isObject(j)||f.isFunction(j)||f.isArray(j)){return null}j=j[m]}return j};d.formatSeconds=function(k){var m=parseInt(k,10)%60;var j=parseInt(k/3600,10);var l=parseInt((k-j*3600)/60,10);if(j<10){j="0"+j}if(l<10){l="0"+l}if(m<10){m="0"+m}return(parseInt(j,10)>0)?(j+":"+l+":"+m):(l+":"+m)};d.timeStringToSeconds=function(j){var k=(j||"").split(":");return f.reduce(k,function(l,n){return l*60+parseInt(n,10)},0)};d.leftPadding=function(l,j){var m="0";var k=l?l.toString():"";while(k.length<j){k=m+k}return k};d.getColorString=function(j){return"#"+(d.leftPadding(j.toString(16),6)).toUpperCase()};d.hexToRgb=function(m){var l=(m&16711680)>>16;var k=(m&65280)>>8;var j=(m&255);return[l,k,j]};d.changeColor=function(j,l,p){var m=p?Math.max:Math.min;var o=p?0:255;var n=Math.round(l*255)*(p?-1:1);var k=d.hexToRgb(j);return[d.leftPadding(m(k[0]+n,o).toString(16),2),d.leftPadding(m(k[1]+n,o).toString(16),2),d.leftPadding(m(k[2]+n,o).toString(16),2)].join("")};d.decode64=function(p){p=p.replace(/\n/g,"");var o="";var l,n=0;var k=[];var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";if(window.atob){return atob(p)}do{for(l=0;l<4;l++){k[l]=m.indexOf(p.charAt(n++))}o+=String.fromCharCode((k[0]<<2)|(k[1]>>4),k[2]==64?0:((k[1]&15)<<4)|(k[2]>>2),k[3]==64?0:((k[2]&3)<<6)|k[3])}while(n<p.length);return o.replace(/\0/g,"")};d.pixelPing=function(k){var j=new Image();j.onerror=j.onabort=function(){d.d("onerror:",k)};j.src=d.getNormalizedTagUrl(k)};d.pixelPings=function(j){if(f.isEmpty(j)){return}f.each(j,function(k){d.pixelPing(k)},this)};d.stringToBoolean=function(j){if(typeof j==="string"){return(j.toLowerCase().indexOf("true")>-1||j.toLowerCase().indexOf("yes")>-1)}return !!j};d.regexEscape=function(k){var j=/[<>()\[\]{}]/g;return k.replace(j,"\\$&")};d.getNormalizedTagUrl=function(k,j){var l=new Date().getTime();var m=escape(document.URL);var n=function(p,o){f.each(p,function(r){var q=new RegExp("("+d.regexEscape(r)+")","gi");k=k.replace(q,o)},this)};n(d.TEMPLATES.RANDOM_PLACE_HOLDER,l);n(d.TEMPLATES.REFERAK_PLACE_HOLDER,m);if(j){n(d.TEMPLATES.EMBED_CODE_PLACE_HOLDER,j)}return k};d.safeSeekRange=function(j){return{start:j.length>0?j.start(0):0,end:j.length>0?j.end(0):0}};d.loadedJS=d.loadedJS||{};d.jsOnSuccessList=d.jsOnSuccessList||{};d.safeFuncCall=function(j){if(typeof j!=="function"){return}try{j.apply()}catch(k){d.log("Can not invoke function!",k)}};d.loadScriptOnce=function(m,k,l,j){d.jsOnSuccessList[m]=d.jsOnSuccessList[m]||[];if(d.loadedJS[m]){if(d.loadedJS[m]==="loaded"){d.safeFuncCall(k)}else{if(d.loadedJS[m]==="loading"){d.jsOnSuccessList[m].unshift(k)}}return false}d.loadedJS[m]="loading";i.ajax({url:m,type:"GET",cache:true,dataType:"script",timeout:j||15000,success:function(){d.loadedJS[m]="loaded";d.jsOnSuccessList[m].unshift(k);d._.each(d.jsOnSuccessList[m],function(n){d.safeFuncCall(n)},this);d.jsOnSuccessList[m]=[]},error:function(){d.safeFuncCall(l)}});return true};try{d.localStorage=window.localStorage}catch(g){d.log(g)}if(!d.localStorage){d.localStorage={getItem:function(j){if(!j||!this.hasOwnProperty(j)){return null}return unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(j).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1"))
},key:function(j){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[j])},setItem:function(j,k){if(!j){return}document.cookie=escape(j)+"="+escape(k)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/";this.length=document.cookie.match(/\=/g).length},length:0,removeItem:function(j){if(!j||!this.hasOwnProperty(j)){return}document.cookie=escape(j)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";this.length--},hasOwnProperty:function(j){return(new RegExp("(?:^|;\\s*)"+escape(j).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie)}};d.localStorage.length=(document.cookie.match(/\=/g)||d.localStorage).length}d.setItem=function(k,l){try{d.localStorage.setItem(k,l)}catch(j){d.log(j)}};d.JSON=window.JSON}(OO,OO._,OO.$))},{}],5:[function(b,c,a){(function(){var z=this;var n=z._;var H={};var G=Array.prototype,j=Object.prototype,u=Function.prototype;var r=G.slice,D=G.unshift,g=j.toString,l=j.hasOwnProperty;var P=G.forEach,t=G.map,I=G.reduce,f=G.reduceRight,d=G.filter,E=G.every,s=G.some,q=G.indexOf,o=G.lastIndexOf,w=Array.isArray,i=Object.keys,J=u.bind;var Q=function(p){return new x(p)};if(typeof a!=="undefined"){if(typeof c!=="undefined"&&c.exports){a=c.exports=Q}a._=Q}else{z._=Q}Q.VERSION="1.3.3";var M=Q.each=Q.forEach=function(V,U,T){if(V==null){return}if(P&&V.forEach===P){V.forEach(U,T)}else{if(V.length===+V.length){for(var S=0,p=V.length;S<p;S++){if(S in V&&U.call(T,V[S],S,V)===H){return}}}else{for(var R in V){if(Q.has(V,R)){if(U.call(T,V[R],R,V)===H){return}}}}}};Q.map=Q.collect=function(T,S,R){var p=[];if(T==null){return p}if(t&&T.map===t){return T.map(S,R)}M(T,function(W,U,V){p[p.length]=S.call(R,W,U,V)});if(T.length===+T.length){p.length=T.length}return p};Q.reduce=Q.foldl=Q.inject=function(U,T,p,S){var R=arguments.length>2;if(U==null){U=[]}if(I&&U.reduce===I){if(S){T=Q.bind(T,S)}return R?U.reduce(T,p):U.reduce(T)}M(U,function(X,V,W){if(!R){p=X;R=true}else{p=T.call(S,p,X,V,W)}});if(!R){throw new TypeError("Reduce of empty array with no initial value")}return p};Q.reduceRight=Q.foldr=function(U,T,p,S){var R=arguments.length>2;if(U==null){U=[]}if(f&&U.reduceRight===f){if(S){T=Q.bind(T,S)}return R?U.reduceRight(T,p):U.reduceRight(T)}var V=Q.toArray(U).reverse();if(S&&!R){T=Q.bind(T,S)}return R?Q.reduce(V,T,p,S):Q.reduce(V,T)};Q.find=Q.detect=function(T,S,R){var p;C(T,function(W,U,V){if(S.call(R,W,U,V)){p=W;return true}});return p};Q.filter=Q.select=function(T,S,R){var p=[];if(T==null){return p}if(d&&T.filter===d){return T.filter(S,R)}M(T,function(W,U,V){if(S.call(R,W,U,V)){p[p.length]=W}});return p};Q.reject=function(T,S,R){var p=[];if(T==null){return p}M(T,function(W,U,V){if(!S.call(R,W,U,V)){p[p.length]=W}});return p};Q.every=Q.all=function(T,S,R){var p=true;if(T==null){return p}if(E&&T.every===E){return T.every(S,R)}M(T,function(W,U,V){if(!(p=p&&S.call(R,W,U,V))){return H}});return !!p};var C=Q.some=Q.any=function(T,S,R){S||(S=Q.identity);var p=false;if(T==null){return p}if(s&&T.some===s){return T.some(S,R)}M(T,function(W,U,V){if(p||(p=S.call(R,W,U,V))){return H}});return !!p};Q.include=Q.contains=function(S,R){var p=false;if(S==null){return p}if(q&&S.indexOf===q){return S.indexOf(R)!=-1}p=C(S,function(T){return T===R});return p};Q.invoke=function(R,S){var p=r.call(arguments,2);return Q.map(R,function(T){return(Q.isFunction(S)?S||T:T[S]).apply(T,p)})};Q.pluck=function(R,p){return Q.map(R,function(S){return S[p]})};Q.max=function(T,S,R){if(!S&&Q.isArray(T)&&T[0]===+T[0]){return Math.max.apply(Math,T)}if(!S&&Q.isEmpty(T)){return -Infinity}var p={computed:-Infinity};M(T,function(X,U,W){var V=S?S.call(R,X,U,W):X;V>=p.computed&&(p={value:X,computed:V})});return p.value};Q.min=function(T,S,R){if(!S&&Q.isArray(T)&&T[0]===+T[0]){return Math.min.apply(Math,T)}if(!S&&Q.isEmpty(T)){return Infinity}var p={computed:Infinity};M(T,function(X,U,W){var V=S?S.call(R,X,U,W):X;V<p.computed&&(p={value:X,computed:V})});return p.value};Q.shuffle=function(S){var p=[],R;M(S,function(V,T,U){R=Math.floor(Math.random()*(T+1));
p[T]=p[R];p[R]=V});return p};Q.sortBy=function(S,T,p){var R=Q.isFunction(T)?T:function(U){return U[T]};return Q.pluck(Q.map(S,function(W,U,V){return{value:W,criteria:R.call(p,W,U,V)}}).sort(function(X,W){var V=X.criteria,U=W.criteria;if(V===void 0){return 1}if(U===void 0){return -1}return V<U?-1:V>U?1:0}),"value")};Q.groupBy=function(S,T){var p={};var R=Q.isFunction(T)?T:function(U){return U[T]};M(S,function(W,U){var V=R(W,U);(p[V]||(p[V]=[])).push(W)});return p};Q.sortedIndex=function(V,U,S){S||(S=Q.identity);var p=0,T=V.length;while(p<T){var R=(p+T)>>1;S(V[R])<S(U)?p=R+1:T=R}return p};Q.toArray=function(p){if(!p){return[]}if(Q.isArray(p)){return r.call(p)}if(Q.isArguments(p)){return r.call(p)}if(p.toArray&&Q.isFunction(p.toArray)){return p.toArray()}return Q.values(p)};Q.size=function(p){return Q.isArray(p)?p.length:Q.keys(p).length};Q.first=Q.head=Q.take=function(S,R,p){return(R!=null)&&!p?r.call(S,0,R):S[0]};Q.initial=function(S,R,p){return r.call(S,0,S.length-((R==null)||p?1:R))};Q.last=function(S,R,p){if((R!=null)&&!p){return r.call(S,Math.max(S.length-R,0))}else{return S[S.length-1]}};Q.rest=Q.tail=function(S,p,R){return r.call(S,(p==null)||R?1:p)};Q.compact=function(p){return Q.filter(p,function(R){return !!R})};Q.flatten=function(R,p){return Q.reduce(R,function(S,T){if(Q.isArray(T)){return S.concat(p?T:Q.flatten(T))}S[S.length]=T;return S},[])};Q.without=function(p){return Q.difference(p,r.call(arguments,1))};Q.uniq=Q.unique=function(U,T,S){var p=S?Q.map(U,S):U;var R=[];if(U.length<3){T=true}Q.reduce(p,function(V,X,W){if(T?Q.last(V)!==X||!V.length:!Q.include(V,X)){V.push(X);R.push(U[W])}return V},[]);return R};Q.union=function(){return Q.uniq(Q.flatten(arguments,true))};Q.intersection=Q.intersect=function(R){var p=r.call(arguments,1);return Q.filter(Q.uniq(R),function(S){return Q.every(p,function(T){return Q.indexOf(T,S)>=0})})};Q.difference=function(R){var p=Q.flatten(r.call(arguments,1),true);return Q.filter(R,function(S){return !Q.include(p,S)})};Q.zip=function(){var p=r.call(arguments);var T=Q.max(Q.pluck(p,"length"));var S=new Array(T);for(var R=0;R<T;R++){S[R]=Q.pluck(p,""+R)}return S};Q.indexOf=function(U,S,T){if(U==null){return -1}var R,p;if(T){R=Q.sortedIndex(U,S);return U[R]===S?R:-1}if(q&&U.indexOf===q){return U.indexOf(S)}for(R=0,p=U.length;R<p;R++){if(R in U&&U[R]===S){return R}}return -1};Q.lastIndexOf=function(S,R){if(S==null){return -1}if(o&&S.lastIndexOf===o){return S.lastIndexOf(R)}var p=S.length;while(p--){if(p in S&&S[p]===R){return p}}return -1};Q.range=function(V,T,U){if(arguments.length<=1){T=V||0;V=0}U=arguments[2]||1;var R=Math.max(Math.ceil((T-V)/U),0);var p=0;var S=new Array(R);while(p<R){S[p++]=V;V+=U}return S};var K=function(){};Q.bind=function h(T,R){var S,p;if(T.bind===J&&J){return J.apply(T,r.call(arguments,1))}if(!Q.isFunction(T)){throw new TypeError}p=r.call(arguments,2);return S=function(){if(!(this instanceof S)){return T.apply(R,p.concat(r.call(arguments)))}K.prototype=T.prototype;var V=new K;var U=T.apply(V,p.concat(r.call(arguments)));if(Object(U)===U){return U}return V}};Q.bindAll=function(R){var p=r.call(arguments,1);if(p.length==0){p=Q.functions(R)}M(p,function(S){R[S]=Q.bind(R[S],R)});return R};Q.memoize=function(S,R){var p={};R||(R=Q.identity);return function(){var T=R.apply(this,arguments);return Q.has(p,T)?p[T]:(p[T]=S.apply(this,arguments))}};Q.delay=function(R,S){var p=r.call(arguments,2);return setTimeout(function(){return R.apply(null,p)},S)};Q.defer=function(p){return Q.delay.apply(Q,[p,1].concat(r.call(arguments,1)))};Q.throttle=function(S,T){var R,V,W,X,U,Y;var p=Q.debounce(function(){U=X=false},T);return function(){R=this;V=arguments;var Z=function(){W=null;if(U){S.apply(R,V)}p()};if(!W){W=setTimeout(Z,T)}if(X){U=true}else{Y=S.apply(R,V)}p();X=true;return Y}};Q.debounce=function(R,T,p){var S;return function(){var W=this,V=arguments;var U=function(){S=null;if(!p){R.apply(W,V)}};if(p&&!S){R.apply(W,V)}clearTimeout(S);S=setTimeout(U,T)}};Q.once=function(S){var p=false,R;
return function(){if(p){return R}p=true;return R=S.apply(this,arguments)}};Q.wrap=function(p,R){return function(){var S=[p].concat(r.call(arguments,0));return R.apply(this,S)}};Q.compose=function(){var p=arguments;return function(){var R=arguments;for(var S=p.length-1;S>=0;S--){R=[p[S].apply(this,R)]}return R[0]}};Q.after=function(R,p){if(R<=0){return p()}return function(){if(--R<1){return p.apply(this,arguments)}}};Q.keys=i||function(S){if(S!==Object(S)){throw new TypeError("Invalid object")}var R=[];for(var p in S){if(Q.has(S,p)){R[R.length]=p}}return R};Q.values=function(p){return Q.map(p,Q.identity)};Q.functions=Q.methods=function(S){var R=[];for(var p in S){if(Q.isFunction(S[p])){R.push(p)}}return R.sort()};Q.extend=function(p){M(r.call(arguments,1),function(R){for(var S in R){p[S]=R[S]}});return p};Q.pick=function(R){var p={};M(Q.flatten(r.call(arguments,1)),function(S){if(S in R){p[S]=R[S]}});return p};Q.defaults=function(p){M(r.call(arguments,1),function(R){for(var S in R){if(p[S]==null){p[S]=R[S]}}});return p};Q.clone=function(p){if(!Q.isObject(p)){return p}return Q.isArray(p)?p.slice():Q.extend({},p)};Q.tap=function(R,p){p(R);return R};function N(T,S,R){if(T===S){return T!==0||1/T==1/S}if(T==null||S==null){return T===S}if(T._chain){T=T._wrapped}if(S._chain){S=S._wrapped}if(T.isEqual&&Q.isFunction(T.isEqual)){return T.isEqual(S)}if(S.isEqual&&Q.isFunction(S.isEqual)){return S.isEqual(T)}var W=g.call(T);if(W!=g.call(S)){return false}switch(W){case"[object String]":return T==String(S);case"[object Number]":return T!=+T?S!=+S:(T==0?1/T==1/S:T==+S);case"[object Date]":case"[object Boolean]":return +T==+S;case"[object RegExp]":return T.source==S.source&&T.global==S.global&&T.multiline==S.multiline&&T.ignoreCase==S.ignoreCase}if(typeof T!="object"||typeof S!="object"){return false}var X=R.length;while(X--){if(R[X]==T){return true}}R.push(T);var V=0,p=true;if(W=="[object Array]"){V=T.length;p=V==S.length;if(p){while(V--){if(!(p=V in T==V in S&&N(T[V],S[V],R))){break}}}}else{if("constructor" in T!="constructor" in S||T.constructor!=S.constructor){return false}for(var U in T){if(Q.has(T,U)){V++;if(!(p=Q.has(S,U)&&N(T[U],S[U],R))){break}}}if(p){for(U in S){if(Q.has(S,U)&&!(V--)){break}}p=!V}}R.pop();return p}Q.isEqual=function(R,p){return N(R,p,[])};Q.isEmpty=function(R){if(R==null){return true}if(Q.isArray(R)||Q.isString(R)){return R.length===0}for(var p in R){if(Q.has(R,p)){return false}}return true};Q.isElement=function(p){return !!(p&&p.nodeType==1)};Q.isArray=w||function(p){return g.call(p)=="[object Array]"};Q.isObject=function(p){return p===Object(p)};Q.isArguments=function(p){return g.call(p)=="[object Arguments]"};if(!Q.isArguments(arguments)){Q.isArguments=function(p){return !!(p&&Q.has(p,"callee"))}}Q.isFunction=function(p){return g.call(p)=="[object Function]"};Q.isString=function(p){return g.call(p)=="[object String]"};Q.isNumber=function(p){return g.call(p)=="[object Number]"};Q.isFinite=function(p){return Q.isNumber(p)&&isFinite(p)};Q.isNaN=function(p){return p!==p};Q.isBoolean=function(p){return p===true||p===false||g.call(p)=="[object Boolean]"};Q.isDate=function(p){return g.call(p)=="[object Date]"};Q.isRegExp=function(p){return g.call(p)=="[object RegExp]"};Q.isNull=function(p){return p===null};Q.isUndefined=function(p){return p===void 0};Q.has=function(R,p){return l.call(R,p)};Q.noConflict=function(){z._=n;return this};Q.identity=function(p){return p};Q.times=function(T,S,R){for(var p=0;p<T;p++){S.call(R,p)}};Q.escape=function(p){return(""+p).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};Q.result=function(p,S){if(p==null){return null}var R=p[S];return Q.isFunction(R)?R.call(p):R};Q.mixin=function(p){M(Q.functions(p),function(R){A(R,Q[R]=p[R])})};var B=0;Q.uniqueId=function(p){var R=B++;return p?p+R:R};Q.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var y=/.^/;var k={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"};
for(var L in k){k[k[L]]=L}var m=/\\|'|\r|\n|\t|\u2028|\u2029/g;var F=/\\(\\|'|r|n|t|u2028|u2029)/g;var O=function(p){return p.replace(F,function(R,S){return k[S]})};Q.template=function(V,U,S){S=Q.defaults(S||{},Q.templateSettings);var T="__p+='"+V.replace(m,function(W){return"\\"+k[W]}).replace(S.escape||y,function(W,X){return"'+\n_.escape("+O(X)+")+\n'"}).replace(S.interpolate||y,function(W,X){return"'+\n("+O(X)+")+\n'"}).replace(S.evaluate||y,function(W,X){return"';\n"+O(X)+"\n;__p+='"})+"';\n";if(!S.variable){T="with(obj||{}){\n"+T+"}\n"}T="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+T+"return __p;\n";var R=new Function(S.variable||"obj","_",T);if(U){return R(U,Q)}var p=function(W){return R.call(this,W,Q)};p.source="function("+(S.variable||"obj")+"){\n"+T+"}";return p};Q.chain=function(p){return Q(p).chain()};var x=function(p){this._wrapped=p};Q.prototype=x.prototype;var v=function(R,p){return p?Q(R).chain():R};var A=function(p,R){x.prototype[p]=function(){var S=r.call(arguments);D.call(S,this._wrapped);return v(R.apply(Q,S),this._chain)}};Q.mixin(Q);M(["pop","push","reverse","shift","sort","splice","unshift"],function(p){var R=G[p];x.prototype[p]=function(){var S=this._wrapped;R.apply(S,arguments);var T=S.length;if((p=="shift"||p=="splice")&&T===0){delete S[0]}return v(S,this._chain)}});M(["concat","join","slice"],function(p){var R=G[p];x.prototype[p]=function(){return v(R.apply(this._wrapped,arguments),this._chain)}});x.prototype.chain=function(){this._chain=true;return this};x.prototype.value=function(){return this._wrapped}}).call(this)},{}],6:[function(b,c,a){b("../html5-common/js/utils/InitModules/InitOOUnderscore.js");b("../html5-common/js/utils/constants.js");b("../html5-common/js/utils/utils.js");(function(d,h){var g={};OO.Ads.manager(function(j,k){var m=function(){this.name="google-ima-ads-manager";this.ready=false;this.runningUnitTests=false;this.sharedVideoElement=null;var v=null;var ad=false;var ax;var G;var ap;var K;var O;var D;var x;var au=null;var s=null;var w=3000;var E="r";var u="t";var ar="p";var B="Ooyala";var ae="1.0";var ab="adRequest";var Z={left:OO.CSS.VISIBLE_POSITION,visibility:"visible"};var an={left:OO.CSS.INVISIBLE_POSITION,visibility:"hidden"};var al=50;var p=50;var P=500;var H=j.bind(function(aG){if(!j.isFunction(aG)){l("Error: Trying to make private function but "+aG+" is not a function.");return}return j.bind(aG,this)},this);this.initialize=function(aI,aH){g[aH]=this;v=aI;var aJ=v.platform.DEV?"_debug.js":".js";var aG="//imasdk.googleapis.com/js/sdkloader/ima3"+aJ;U();X();if(!this.runningUnitTests){v.loadAdModule(this.name,aG,o)}else{o(true)}};var U=H(function(){this.ready=false;this.preloadAdRulesAds=false;G=true;this.mainContentDuration=0;this.initialPlayRequested=false;this.canSetupAdsRequest=true;this.adTagUrl=null;this.showInAdControlBar=false;this.adsReady=false;this.additionalAdTagParameters=null;this.adsRequested=false;this.adsRequestTimeoutRef=null;this.contentEnded=false;this.pauseAdOnClick=null;this.isFullscreen=false;this.maxAdsRequestTimeout=w;this.uiRegistered=false;this.metadataReady=false;this.allAdInfo=null;this.currentAMCAdPod=null;this.currentIMAAd=null;this.currentNonLinearIMAAd=null;this.isReplay=false;this.requestAdsOnReplay=true;x=false;N();this.hasPreroll=false;this.adPlaybackStarted=false;this.vcPlayRequested=false;this.savedVolume=-1;this.useGoogleAdUI=false;this.useInsecureVpaidMode=false;this.adRulesLoadError=false;ap=null;K=null;O=false;D=null});var X=H(function(){v.addPlayerListener(v.EVENTS.INITIAL_PLAY_REQUESTED,af);v.addPlayerListener(v.EVENTS.CONTENT_COMPLETED,I);v.addPlayerListener(v.EVENTS.PLAYHEAD_TIME_CHANGED,am);v.addPlayerListener(v.EVENTS.SIZE_CHANGED,aq);v.addPlayerListener(v.EVENTS.CONTENT_CHANGED,at);v.addPlayerListener(v.EVENTS.REPLAY_REQUESTED,R);v.addPlayerListener(v.EVENTS.FULLSCREEN_CHANGED,aC)});var Y=H(function(){if(v){v.removePlayerListener(v.EVENTS.INITIAL_PLAY_REQUESTED,af);v.removePlayerListener(v.EVENTS.CONTENT_COMPLETED,I);
v.removePlayerListener(v.EVENTS.PLAYHEAD_TIME_CHANGED,am);v.removePlayerListener(v.EVENTS.SIZE_CHANGED,aq);v.removePlayerListener(v.EVENTS.CONTENT_CHANGED,at);v.removePlayerListener(v.EVENTS.REPLAY_REQUESTED,R);v.removePlayerListener(v.EVENTS.FULL_SCREEN_CHANGED,aC)}});this.loadMetadata=function(aH,aL,aG){this.mainContentDuration=aG.duration/1000;this.allAdInfo=aH.all_ads;var aJ=function(aM){return aM.position_type==E};var aI=j.find(aH.all_ads,aJ);G=!!aI;this.adTagUrl=null;if(G){this.adTagUrl=aI.tag_url}this.preloadAdRulesAds=false;this.requestAdsOnReplay=true;if(v.adManagerSettings.hasOwnProperty(v.AD_SETTINGS.REPLAY_ADS)){this.requestAdsOnReplay=v.adManagerSettings[v.AD_SETTINGS.REPLAY_ADS]}this.maxAdsRequestTimeout=w;if(v.adManagerSettings.hasOwnProperty(v.AD_SETTINGS.AD_LOAD_TIMEOUT)){this.maxAdsRequestTimeout=v.adManagerSettings[v.AD_SETTINGS.AD_LOAD_TIMEOUT]*1000}this.additionalAdTagParameters=null;if(aH.hasOwnProperty("additionalAdTagParameters")){this.additionalAdTagParameters=aH.additionalAdTagParameters}this.useGoogleAdUI=false;if(aH.hasOwnProperty("useGoogleAdUI")){this.useGoogleAdUI=aH.useGoogleAdUI}this.useInsecureVpaidMode=false;if(aH.hasOwnProperty("vpaidMode")){this.useInsecureVpaidMode=aH.vpaidMode==="insecure"}if(!D){aF()}this.metadataReady=true;C();var aK=y();if(aK&&aK.length>0){if(G){if(this.preloadAdRulesAds){this.canSetupAdsRequest=true;W()}else{this.canSetupAdsRequest=false}}}};this.registerUi=function(){this.uiRegistered=true;if(v.ui.useSingleVideoElement&&!this.sharedVideoElement&&v.ui.ooyalaVideoElement[0]&&(v.ui.ooyalaVideoElement[0].className==="video")){this.setupSharedVideoElement(v.ui.ooyalaVideoElement[0])}aF();W()};this.setupSharedVideoElement=function(aG){if(this.sharedVideoElement&&OO.isIphone&&typeof this.sharedVideoElement.removeEventListener==="function"){this.sharedVideoElement.removeEventListener("webkitendfullscreen",ai)}this.sharedVideoElement=aG;if(this.sharedVideoElement&&OO.isIphone&&typeof this.sharedVideoElement.addEventListener==="function"){this.sharedVideoElement.addEventListener("webkitendfullscreen",ai)}};this.buildTimeline=function(){var aG=[];if(!G){var aN=y();if(aN){for(var aJ=0;aJ<aN.length;aJ++){var aK=aN[aJ];if(aK.position_type!=E){var aM={};aM[OO.VIDEO.ENCODING.IMA]="";var aI={position:aK.position/1000,adManager:this.name,ad:aK,streams:aM,adType:v.ADTYPE.LINEAR_VIDEO};if(aK.position_type==ar){aI.position=aK.position/100*this.mainContentDuration}var aH=new v.Ad(aI);aG.push(aH)}}}}else{var aM={};aM[OO.VIDEO.ENCODING.IMA]="";var aL=[new v.Ad({position:0,duration:0,adManager:this.name,ad:{type:ab},streams:aM,adType:v.ADTYPE.LINEAR_VIDEO})];return aL}return aG};var y=H(function(){if(!this.allAdInfo){return null}return j.filter(this.allAdInfo,ag)});var ag=H(function(aI){if(!aI){return false}var aH=aI.tag_url;var aJ=(aI.position_type==E);var aG=(G==aJ);return aG&&aH&&typeof aH==="string"});this.playAd=function(aG){if(this.currentAMCAdPod){S(true)}this.currentAMCAdPod=aG;if(!this.currentAMCAdPod){l("playAd() called but amcAdPod is null.")}else{if(!this.currentAMCAdPod.ad){l("playAd() called but amcAdPod.ad is null.")}}if(G&&this.currentAMCAdPod.ad.type==ab){v.notifyPodStarted(this.currentAMCAdPod.id,1);if(this.preloadAdRulesAds&&this.adRulesLoadError){v.notifyPodEnded(this.currentAMCAdPod.id,1)}return}if(!v.ui.useSingleVideoElement){v.ui.adVideoElement.css(an)}if(G){F()}else{if(this.currentAMCAdPod.ad.forced_ad_type!=v.ADTYPE.NONLINEAR_OVERLAY){ah();this.adTagUrl=this.currentAMCAdPod.ad.tag_url;W()}else{if(this.currentAMCAdPod&&this.currentNonLinearIMAAd){this.currentAMCAdPod.width=this.currentNonLinearIMAAd.getWidth();this.currentAMCAdPod.height=this.currentNonLinearIMAAd.getHeight();this.currentAMCAdPod.paddingWidth=al;this.currentAMCAdPod.paddingHeight=p;aq()}v.sendURLToLoadAndPlayNonLinearAd(this.currentAMCAdPod,this.currentAMCAdPod.id,null)}}};this.cancelOverlay=function(aG){this.cancelAd(aG)};this.cancelAd=function(aG){if(aG&&this.currentAMCAdPod&&aG.id!=this.currentAMCAdPod.id){l("AMC canceling ad that is not the current one playing.")
}OO.log("GOOGLE IMA: ad got canceled by AMC");S(true);if(!G){J()}};this.pauseAd=function(aG){if(K){K.pause()}};this.resumeAd=function(aG){if(K){if(this.adPlaybackStarted){if(OO.isIphone&&this.sharedVideoElement){this.sharedVideoElement.webkitEnterFullscreen();this.sharedVideoElement.play()}K.resume()}else{K.start();this.adPlaybackStarted=true}}};this.requestPause=function(){if(this.adPlaybackStarted){this.pauseAd()}else{this.vcPlayRequested=false}};this.requestPlay=function(){if(O){this.resumeAd()}else{this.vcPlayRequested=true}};this.getVolume=function(){var aG=1;if(K){aG=K.getVolume()}return aG};this.setVolume=function(aG){if(K&&x){K.setVolume(aG)}else{this.savedVolume=aG}};this.getCurrentTime=function(){var aG=0;if(K&&this.currentIMAAd&&K.getRemainingTime()>=0&&K.getRemainingTime()<=this.currentIMAAd.getDuration()){aG=this.currentIMAAd.getDuration()-K.getRemainingTime()}return aG};this.getDuration=function(){var aG=0;if(this.currentIMAAd){aG=this.currentIMAAd.getDuration()}return aG};var R=H(function(){this.isReplay=true;ah();N();this.contentEnded=false;if(G){W()}});var ah=H(function(){Q();J();if(ap){ap.contentComplete()}this.adsRequested=false});var af=H(function(){OO.log("_onInitialPlayRequested");if(!D){aj();v.unregisterAdManager(this.name);l("onInitialPlayRequested called but _IMAAdDisplayContainer not created yet.")}this.initialPlayRequested=true;this.isReplay=false;D.initialize();T();if(!this.preloadAdRulesAds){this.canSetupAdsRequest=true;W()}});var T=H(function(){if(K&&this.initialPlayRequested&&!O&&s){try{if(G&&!this.hasPreroll&&this.currentAMCAdPod&&this.currentAMCAdPod.ad&&this.currentAMCAdPod.ad.type==ab){S(true)}K.init(s.clientWidth,s.clientHeight,google.ima.ViewMode.NORMAL);O=true;if(this.vcPlayRequested){this.resumeAd()}OO.log("tryInitadsManager successful: adsManager started")}catch(aG){aj(aG)}}});var I=H(function(){if(this.contentEnded==false){this.contentEnded=true;if(ap){ap.contentComplete()}}});var am=H(function(aH,aG,aI){if(!ax){N()}if(!x){ax.currentTime=aG;ax.duration=aI}});var aC=H(function(aH,aG){this.isFullscreen=aG;aq()});var aq=H(function(){aD()});var aD=H(function(){if(K&&s){var aH=this.isFullscreen?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL;var aI=s.clientWidth;var aG=s.clientHeight;if(this.currentAMCAdPod&&this.currentNonLinearIMAAd){if(this.currentAMCAdPod.width){aI=this.currentAMCAdPod.width;if(this.currentAMCAdPod.paddingWidth){aI+=this.currentAMCAdPod.paddingWidth}}if(this.currentAMCAdPod.height){aG=this.currentAMCAdPod.height;if(this.currentAMCAdPod.paddingHeight){aG+=this.currentAMCAdPod.paddingHeight}}}K.resize(aI,aG,aH)}});var N=H(function(){if(!ax){ax={duration:0,currentTime:0}}else{ax.currentTime=0}});var W=H(function(){if(this.adsRequested||!this.canSetupAdsRequest||!this.adTagUrl||!this.uiRegistered||!v.currentEmbedCode||!ap||!n()){return}var aJ=new google.ima.AdsRequest();if(this.additionalAdTagParameters){var aI=this.adTagUrl.indexOf("?")>0?"&":"?";var aH=[];var aL=null;for(aL in this.additionalAdTagParameters){aH.push(aL+"="+this.additionalAdTagParameters[aL])}this.adTagUrl+=aI+aH.join("&")}aJ.adTagUrl=OO.getNormalizedTagUrl(this.adTagUrl,v.currentEmbedCode);var aG=v.ui.width;var aK=v.ui.height;aJ.linearAdSlotWidth=aG;aJ.linearAdSlotHeight=aK;aJ.nonLinearAdSlotWidth=aG;aJ.nonLinearAdSlotHeight=aK;ah();av();ap.requestAds(aJ);this.adsRequestTimeoutRef=j.delay(aA,this.maxAdsRequestTimeout);OO.log("adsRequestTimeout: "+this.maxAdsRequestTimeout);this.adsRequested=true});var n=H(function(){if(!this.isReplay){return true}return this.requestAdsOnReplay});var o=H(function(aH){ad=aH;OO.log("onSdkLoaded!");if(!aH||!ao()){aj();v.unregisterAdManager(this.name);return}google.ima.settings.setPlayerVersion(ae);google.ima.settings.setPlayerType(B);if(this.useInsecureVpaidMode){google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE)}else{google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED)}aF();W();var aG=k("iframe[src^='http://imasdk.googleapis.com/']")[0];
aG.style.zIndex="10004"});var aF=H(function(){if(ad&&this.uiRegistered){if(!ao()){l("IMA SDK loaded but does not contain valid data")}if(D){D.destroy()}s=v.ui.playerSkinPluginsElement?v.ui.playerSkinPluginsElement[0]:v.ui.pluginsElement[0];D=new google.ima.AdDisplayContainer(s,this.sharedVideoElement);C();aw()}});var aw=H(function(){var aH=google.ima.AdsManagerLoadedEvent.Type;var aG=google.ima.AdErrorEvent.Type;L();ap=new google.ima.AdsLoader(D);ap.addEventListener(aH.ADS_MANAGER_LOADED,r,false);ap.addEventListener(aG.AD_ERROR,aj,false)});var aB=H(function(){if(D){D.destroy();D=null}});var L=H(function(){if(ap){ap.destroy();ap=null}});var J=H(function(){this.currentIMAAd=null;this.currentNonLinearIMAAd=null;if(K){K.stop();K.destroy();K=null;O=false}});this.destroy=function(){s=null;Q();J();L();aB();U();Y()};var C=H(function(){if(D&&this.metadataReady){this.ready=true;v.onAdManagerReady()}});var aA=H(function(){if(!this.adsReady){aj(google.ima.AdEvent.Type.FAILED_TO_REQUEST_ADS)}});var aj=H(function(aG){if(G){if(!this.adsReady){this.adRulesLoadError=true}Q()}S(true);J();if(aG){if(aG.getError){OO.log("ERROR Google SDK: ",aG.getError())}else{OO.log("ERROR Google IMA plugin: ",aG)}}});var r=H(function(aK){if(!G&&K){J()}var aH=new google.ima.AdsRenderingSettings();aH.restoreCustomPlaybackStateOnAdBreakComplete=false;aH.useStyledNonLinearAds=true;aH.useStyledLinearAds=this.useGoogleAdUI;K=aK.getAdsManager(ax,aH);this.videoControllerWrapper.readyForCss=true;if(!K.isCustomPlaybackUsed()){this.setupSharedVideoElement(null)}this.videoControllerWrapper.applyStoredCss();var aG=K.getCuePoints();this.hasPreroll=aG.indexOf(0)>=0;var aI=google.ima.AdEvent.Type;K.addEventListener(aI.CLICK,z,false,this);K.addEventListener(aI.AD_ERROR,aj,false,this);K.addEventListener(aI.CONTENT_PAUSE_REQUESTED,t,false,this);K.addEventListener(aI.CONTENT_RESUME_REQUESTED,ac,false,this);var aJ=[aI.ALL_ADS_COMPLETED,aI.COMPLETE,aI.SKIPPED,aI.FIRST_QUARTILE,aI.LOADED,aI.MIDPOINT,aI.PAUSED,aI.RESUMED,aI.STARTED,aI.THIRD_QUARTILE,aI.VOLUME_CHANGED,aI.VOLUME_MUTED,aI.USER_CLOSE,aI.DURATION_CHANGE];var aL=function(aM){K.addEventListener(aM,az,false,this)};OO._.each(aJ,aL,this);C();this.adsReady=true;clearTimeout(this.adsRequestTimeoutRef);T()});var z=H(function(aG){v.adsClicked()});var t=H(function(){OO.log("GOOGLE_IMA:: Content Pause Requested by Google IMA!");x=true;if(G){var aG={position_type:E,forced_ad_type:v.ADTYPE.LINEAR_VIDEO};if(ax.currentTime>0){var aH={};aH[OO.VIDEO.ENCODING.IMA]="";v.forceAdToPlay(this.name,aG,v.ADTYPE.LINEAR_VIDEO,aH)}}});var ac=H(function(){S(true);OO.log("GOOGLE_IMA:: Content Resume Requested by Google IMA!")});var ai=H(function(){if(this.videoControllerWrapper){this.videoControllerWrapper.raisePauseEvent()}});var aE=H(function(aI){if(!aI||!v.pageSettings.companionAd||!v.pageSettings.companionAd.slots){return}var aH=v.pageSettings.companionAd.slots;var aJ=[],aG=null;j.each(aH,function(aK){if(aK.width&&aK.height){aG=aI.getCompanionAds(aK.width,aK.height);if(aG.length){j.each(aG,function(aL){aJ.push({slotSize:aK.width+"x"+aK.height,ad:aL.getContent()})})}}});if(!aJ.length){return}v.showCompanion(aJ)});var az=H(function(aG){var aH=google.ima.AdEvent.Type;var aI=aG.getAd();OO.log("IMA EVENT: ",aG.type,aG);switch(aG.type){case aH.STARTED:if(aI.isLinear()){x=true;if(this.savedVolume>=0){this.setVolume(this.savedVolume);this.savedVolume=-1}v.hidePlayerUi()}else{this.currentNonLinearIMAAd=aI}this.currentIMAAd=aI;aq();F();if(this.videoControllerWrapper){if(aI.isLinear()){this.videoControllerWrapper.raisePlayEvent()}this.videoControllerWrapper.raiseTimeUpdate(this.getCurrentTime(),this.getDuration());A()}break;case aH.RESUMED:if(this.videoControllerWrapper){if(aI.isLinear()){this.videoControllerWrapper.raisePlayEvent()}}break;case aH.USER_CLOSE:case aH.SKIPPED:case aH.COMPLETE:if(this.videoControllerWrapper){q();var aJ=aG.type===aH.COMPLETE?this.getDuration():this.getCurrentTime();this.videoControllerWrapper.raiseTimeUpdate(aJ,this.getDuration());
this.videoControllerWrapper.raiseEndedEvent()}this.savedVolume=this.getVolume();if(!aI||!aI.isLinear()){this.currentNonLinearIMAAd=null}S(false);x=false;ak(aG);if(v.isLiveStream){j.delay(j.bind(function(){ac()},this),100)}break;case aH.PAUSED:ai();break;case aH.ALL_ADS_COMPLETED:x=false;OO.log("all google ima ads completed!");Q();if(OO.isIos&&this.contentEnded&&v.isLastAdPlayed()){ac()}break;case aH.FIRST_QUARTILE:case aH.MIDPOINT:case aH.THIRD_QUARTILE:ak(aG);break;case aH.VOLUME_CHANGED:case aH.VOLUME_MUTED:if(this.videoControllerWrapper){this.videoControllerWrapper.raiseVolumeEvent()}break;case aH.DURATION_CHANGE:if(this.videoControllerWrapper){this.videoControllerWrapper.raiseDurationChange(this.getCurrentTime(),this.getDuration())}break;default:break}});var A=H(function(){q();if(!this.runningUnitTests){au=setInterval(j.bind(function(){if(x){this.videoControllerWrapper.raiseTimeUpdate(this.getCurrentTime(),this.getDuration())}else{q()}},this),P)}});var q=H(function(){clearInterval(au);au=null});var av=H(function(){if(G){v.adManagerWillControlAds(this.name)}});var Q=H(function(){if(G&&v){v.adManagerDoneControllingAds(this.name)}});var ak=H(function(aG){OO.log("Google IMA Ad playthrough",aG.type)});var at=H(function(){this.contentEnded=false;Q();ah();N()});var F=H(function(){var aG=null;if(this.currentIMAAd&&this.currentAMCAdPod){if(this.currentIMAAd.isLinear()){aG=v.ADTYPE.LINEAR_VIDEO;V()}else{aG=v.ADTYPE.NONLINEAR_OVERLAY;ay()}}return aG});var V=H(function(){if(!this.currentIMAAd){l("Trying to start linear ad and this.currentIMAAd is falsy")}if(!this.currentAMCAdPod){l("Trying to start linear ad and this.currentAMCAdPod is falsy")}var aI=this.currentAMCAdPod.id;var aJ={};var aG=1;aJ.indexInPod=1;aJ.name=null;aJ.duration=0;aJ.hasClickUrl=false;aJ.skippable=false;try{var aH=this.currentIMAAd.getAdPodInfo();aG=aH.getTotalAds();aJ.indexInPod=aH.getAdPosition()}catch(aK){l("IMA ad returning bad value for this.currentIMAAd.getAdPodInfo().")}if(typeof this.currentIMAAd.getTitle=="function"){aJ.name=this.currentIMAAd.getTitle()}if(typeof this.currentIMAAd.getDuration=="function"){aJ.duration=this.currentIMAAd.getDuration()}if(typeof this.currentIMAAd.isSkippable=="function"){aJ.skippable=this.currentIMAAd.isSkippable()}if(aJ.indexInPod==1){v.notifyPodStarted(aI,aG)}aE(this.currentIMAAd);v.notifyLinearAdStarted(aI,aJ)});var ay=H(function(){if(!this.currentAMCAdPod){l("Trying to start non linear overlay and this.currentAMCAdPod is falsy")}v.notifyPodStarted(this.currentAMCAdPod.id);var aG={position_type:u,forced_ad_type:v.ADTYPE.NONLINEAR_OVERLAY};aE(this.currentIMAAd);ac();v.forceAdToPlay(this.name,aG,v.ADTYPE.NONLINEAR_OVERLAY)});var M=H(function(aG){v.notifyNonlinearAdEnded(aG);ah()});var aa=H(function(aG){if(this.currentAMCAdPod){var aH=this.currentAMCAdPod;var aI=aH.id;this.currentAMCAdPod=null;x=false;if(aG){v.notifyPodEnded(aI)}else{M(aI)}}});var S=H(function(aK){if(this.currentAMCAdPod){if(this.currentIMAAd){var aG=this.currentIMAAd;this.currentIMAAd=null;if(aG.isLinear()){var aI=aG.getAdPodInfo();if(!aI){if(aK){aa(true)}l("IMA ad returning bad value for this.currentIMAAd.getAdPodInfo().")}v.notifyLinearAdEnded(this.currentAMCAdPod.id);var aH=aI.getAdPosition();var aJ=aI.getTotalAds();if((!v.ui.useSingleVideoElement&&aH==aJ)||aK){aa(true)}}else{if(this.currentAMCAdPod.isLinear){aa(true)}else{aa(false)}}}else{aa(this.currentAMCAdPod.isLinear)}}this.currentIMAAd=null;this.adPlaybackStarted=false});var ao=H(function(){return(google&&google.ima&&google.ima.AdDisplayContainer)});this.registerVideoControllerWrapper=function(aG){this.videoControllerWrapper=aG}};var l=function(n){throw new Error("GOOGLE IMA: "+n)};return new m()});var i=function(){this.name="GoogleIMAVideoTech";this.encodings=[OO.VIDEO.ENCODING.IMA];this.features=[OO.VIDEO.FEATURE.VIDEO_OBJECT_SHARING_TAKE];this.technology=OO.VIDEO.TECHNOLOGY.HTML5;this.create=function(m,p,l,k,j){var o=g[j];var n=new f(o);n.controller=l;n.subscribeAllEvents();return n};this.createFromExisting=function(l,k,j){var n=g[j];
n.setupSharedVideoElement(h("#"+l)[0]);var m=new f(n);m.controller=k;m.subscribeAllEvents();return m};this.destroy=function(){this.encodings=[];this.create=function(){};this.createFromExisting=function(){}};this.maxSupportedElements=-1};var f=function(l){var o=l;this.controller={};this.disableNativeSeek=true;this.isControllingVideo=true;this.readyForCss=false;var j=null;this.sharedElementTake=function(){this.isControllingVideo=true};this.sharedElementGive=function(){this.isControllingVideo=false};this.subscribeAllEvents=function(){o.registerVideoControllerWrapper(this)};this.setVideoUrl=function(p){return true};this.load=function(p){};this.setInitialTime=function(p){};this.play=function(){o.requestPlay()};this.pause=function(){o.requestPause()};this.seek=function(p){};this.setVolume=function(p){o.setVolume(p)};this.getCurrentTime=function(){var p=o.getCurrentTime();return p};this.applyCss=function(p){if(!this.readyForCss){j=p}else{n(p)}};this.applyStoredCss=function(){this.applyCss(j)};var n=d.bind(function(p){if(p&&this.isControllingVideo&&o.sharedVideoElement){h(o.sharedVideoElement).css(p)}},this);this.destroy=function(){o.sharedVideoElement=null};var m=d.bind(function(p,q){if(this.isControllingVideo){this.controller.notify(p,q)}},this);this.raisePlayEvent=function(){m(this.controller.EVENTS.PLAY,{});m(this.controller.EVENTS.PLAYING)};this.raiseEndedEvent=function(){m(this.controller.EVENTS.ENDED)};this.raisePauseEvent=function(){m(this.controller.EVENTS.PAUSED)};this.raiseVolumeEvent=function(){var p=o.getVolume();m(this.controller.EVENTS.VOLUME_CHANGE,{volume:p})};this.raiseTimeUpdate=function(p,q){k(this.controller.EVENTS.TIME_UPDATE,p,q)};this.raiseDurationChange=function(p,q){k(this.controller.EVENTS.DURATION_CHANGE,p,q)};var k=d.bind(function(p,q,r){m(p,{currentTime:q,duration:r,buffer:0,seekRange:{begin:0,end:0}})},this)};OO.Video.plugin(new i())}(OO._,OO.$))},{"../html5-common/js/utils/InitModules/InitOOUnderscore.js":2,"../html5-common/js/utils/constants.js":3,"../html5-common/js/utils/utils.js":4}]},{},[6]);