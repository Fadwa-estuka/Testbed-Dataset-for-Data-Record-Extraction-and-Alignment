/* :asset_packager_compatibility, 'config/asset_packages.yml' @ 1488234053 */


/* :asset_packager_compatibility, 'config/asset_packages.yml' @ 1488234053 */


/* :files, 'public/javascripts/shared', ... @ (none) */


/* :files, 'app/views', ... @ (none) */


/* :files, 'app/views', ... @ 1488234053 */
/* app/views/shared/recommendation_tracking.coffee @ 1488234053 */
(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=[].slice;Scribd.RecommendationTracking=function(){function n(){throw"Scribd.RecommendationTracking is not instantiatable"}return n._page_count=0,n._compilation_ids={},n.Module=function(){function n(e,n){this.opts=null!=n?n:{},this.ready=t(this.ready,this),this.container=$(e),this.container.on("scribd:enclosing_tracking_module",function(t){return function(e,n){return n(t)}}(this)),this.with_tracking=$.Deferred(function(t){return function(e){return e.done(function(e){var n;return t.tracking=e,"function"==typeof(n=t.opts).on_tracking?n.on_tracking(t.tracking):void 0})}}(this)),this.opts.compilation_id?Scribd.RecommendationTracking.page_view_deferred(this.opts.compilation_id).done(function(t){return function(e){return t.ready(e,t.opts.widget_name)}}(this)):this.container.on("scribd:setup_tracking",function(t){return function(e,n,i){return t.ready(n,i)}}(this))}return n.prototype.setup_inview_tracking=function(){return null==this.tracking?"undefined"!=typeof console&&null!==console?console.error("missing tracking"):void 0:(this.container.one("inview",function(t){return function(){var e;return Scribd.RecommendationTracking.track_module_view(t.tracking.view_id,t.tracking.module_id,t.tracking.widget_name),null!=(e=t.opts.on_in_view)?e.call(t,t.tracking):void 0}}(this)),Scribd.RecommendationTracking.trigger_inview_check())},n.prototype.setup_click_tracking=function(t){var e,n,i,r;if(null==t&&(t=this.container.find("[data-track_uuid]")),null==this.tracking)return"undefined"!=typeof console&&null!==console?console.error("missing tracking"):void 0;for(this.container.data("track_uuid")&&(t=t.add(this.container)),r=[],n=0,i=t.length;i>n;n++)e=t[n],e=$(e),e.attr("data-track_rats",e.data("track_rats")||"rc"),r.push(e.attr("data-track_rats_value",JSON.stringify({vi:this.tracking.view_id,ri:e.data("track_uuid")})));return r},n.prototype.ready=function(t,e){var n;return(n=this.opts.module_id||this.container.data("track_uuid"))?(this.with_tracking.resolve({widget_name:e,view_id:t,module_id:n}),this.setup_inview_tracking(),this.setup_click_tracking()):void 0},n.prototype.track_module_click=function(){var t;return t=1<=arguments.length?e.call(arguments,0):[],this.with_tracking.done(function(){return function(n){var i;return(i=Scribd.RecommendationTracking).track_module_click.apply(i,[n.view_id,n.module_id].concat(e.call(t)))}}(this))},n}(),n.page_view_deferred=function(t){var e;return t?(n._view_id_deferred||(n._view_id_deferred={}),e=n._view_id_deferred[t],e||(e=$.Deferred(),n._view_id_deferred[t]=e,Scribd.RecommendationTracking.track_page_view(t,function(t){return e.resolve(t)})),e):(console.debug("attempted page view without compilation id"),$.Deferred())},n.track_page_view=function(t,e){var n;return n=this._compilation_ids[t],null==n&&(n=this._compilation_ids[t]=this._page_count++),$rat.root().withVid(function(){return function(i){return i=i+"."+n,$rat("pv",{vi:i,ci:t}),"function"==typeof e?e(i):void 0}}(this))},n.track_module_view=function(t,e,n){var i;return i={vi:t,mi:e},null!=n&&(i.w=n),$rat("mv",i)},n.track_module_click=function(t,e,n){var i;return i={vi:t,mi:e},null!=n&&(i.t=n),$rat("mc",i)},n.track_obj_view=function(t,e){return $rat("rv",{vi:t,ri:e})},n.track_obj_click=function(t,e){return $rat("rc",{vi:t,ri:e})},n.trigger_inview_check=function(){return this.trigger_inview_check=_.debounce(function(){return $.event.special.inview.run()},0),this.trigger_inview_check()},n}()}).call(this);


/* app/views/shared/carousels/document_cell.coffee @ 1488234052 */
(function(){Scribd.DocumentCell={add_flags:function(t,e){var n,i,r,o,s,a,c;for(null==e&&(e=".document_cell.has_flag"),s=t.find(e).add(t.filter(e)),a=[],r=0,o=s.length;o>r;r++)n=s[r],i=$(n).find(".flag"),a.push((c=i.data("text"))?i.append("<span>"+c+"</span>"):void 0);return a}}}).call(this);


/* app/views/search/documents.coffee @ 1488234052 */
(function(){Scribd.UI.Search=function(){function t(t,e){this.container=t,null==e&&(e={}),this.container=$(this.container),this.setup_events(),this.setup_dotdotdot(),e.query||this.container.find("input.term").trigger("focus"),Scribd.UI.AutocompleteServer.set_page_tracking(e.content_type)}return t.prototype.setup_events=function(){return this.container.dispatch("click",{see_more:function(t){return t.closest(".filter_type").toggleClass("expanded")}})},t.prototype.setup_dotdotdot=function(){return this.container.find(".title").dotdotdot({height:72})},t}()}).call(this);


/* :class_inlines, 'app/views', ... @ 1488234052 */
/* app/views/shared/react/radio_input.coffee @ 1488234052 */
(function(){var t,e,n,i,r,o;i=React.DOM,n=i.label,e=i.input,r=i.span,t=Scribd.R.component_builder("Shared.React.RadioInput",{css_class:"autogen_class_views_shared_react_radio_input"}),o=React.PropTypes,t({propTypes:{selected:o.bool,"class":o.string,value:o.string,name:o.string,label_text:o.string.isRequired},widget_css_classes:function(t){return classNames(t,"radio_component",this.props["class"])},render:function(){return n({className:classNames("radio_label",{checked:this.props.selected}),children:[e({onChange:this.props.onChange||function(t){return function(){return t.trigger("radio_selected",t.props)}}(this),type:"radio",value:this.props.value,name:this.props.name,checked:this.props.selected,className:"radio_input"}),r({className:"input_text"},this.props.label_text)]})}})}).call(this);


/* app/views/shared/react/documents.coffee @ 1488234052 */
(function(){var t,e,n;e=React.DOM.div,t=Scribd.R.component_builder("Shared.React.Documents",{css_class:"autogen_class_views_shared_react_documents"}),n=React.PropTypes,t({propTypes:{html:n.string.isRequired,list_view_mode:n.bool},render_star_ratings:function(){var t,e,n,i,r,o,s,a,c,l,u;for(o=this.container().find(".star_ratings_props"),t=0,n=o.length;n>t;t++)c=o[t],r=Scribd.R.Shared.React.StarRatings($(c).data("props")),ReactDOM.render(r,c);for(s=this.container().find(".upvotes_props"),a=[],e=0,i=s.length;i>e;e++)u=s[e],l=Scribd.R.Shared.React.Upvotes($(u).data("props")),a.push(ReactDOM.render(l,u));return a},componentDidMount:function(){return this.render_star_ratings()},componentDidUpdate:function(){return this.render_star_ratings()},raw_cells:function(){return{__html:this.props.html}},render:function(){var t;return t=this.props.list_view_mode?"list_view_mode":"",e({className:"cell_container",children:[e({className:"has_document_cells "+t,dangerouslySetInnerHTML:this.raw_cells()})]})}})}).call(this);


/* app/views/shared/react/authors.coffee @ 1488234052 */
(function(){var t,e,n,i,r,o;r=React.DOM,n=r.div,t=r.a,i=r.h2,e=Scribd.R.component_builder("Shared.React.Authors",{css_class:"autogen_class_views_shared_react_authors"}),o=React.PropTypes,e({propTypes:{authors:o.array.isRequired,list_view_mode:o.bool},render:function(){var e;return n({className:"authors "+(this.props.list_view_mode?"list_view":""),children:[function(){var r,o,s,a;for(s=this.props.authors||[],a=[],r=0,o=s.length;o>r;r++)e=s[r],a.push(n({className:"author author_cell object_cell","data-id":e.id,"data-object_id":e.id,children:[t({href:e.profile_url,children:[Scribd.R.Shared.React.Persona(e.persona_props)]}),t({className:"author_data",href:e.profile_url,children:[i({className:"author_title"},e.name),e.contribution_type?n({className:"sub author_contribution_type"},e.contribution_type):void 0,e.most_popular_title?n({className:"sub"},""+e.most_popular_title):void 0]})]}));return a}.call(this)]})}})}).call(this);


/* app/views/shared/react/articles.coffee @ 1488234052 */
(function(){var t,e,n;e=React.DOM.div,t=Scribd.R.component_builder("Shared.React.Articles",{css_class:"autogen_class_views_shared_react_articles"}),n=React.PropTypes,t({propTypes:{html:n.string.isRequired,list_view_mode:n.bool},render_card_library_button:function(){var t,e,n,i,r,o;for(r=this.container().find(".card_library_button"),o=[],t=0,e=r.length;e>t;t++)n=r[t],i=Scribd.R.Shared.React.CardLibraryButton($(n).data("props")),o.push(ReactDOM.render(i,n));return o},componentDidMount:function(){return this.render_card_library_button()},componentDidUpdate:function(){return this.render_card_library_button()},raw_cells:function(){return this.props.list_view_mode?{__html:this.props.list_html}:{__html:this.props.html}},render:function(){return e({className:"cell_container",children:[e({className:"article_container",dangerouslySetInnerHTML:this.raw_cells()})]})}})}).call(this);


/* app/views/shared/react/collections.coffee @ 1488234052 */
(function(){var t,e,n;e=React.DOM.div,t=Scribd.R.component_builder("Shared.React.Collections",{css_class:"autogen_class_views_shared_react_collections"}),n=React.PropTypes,t({propTypes:{collections_html:n.string.isRequired,list_view_mode:n.bool},raw_cells:function(){return{__html:this.props.collections_html}},render:function(){var t;return t=this.props.list_view_mode?"list_view":"",e({className:"collection_container "+t,dangerouslySetInnerHTML:this.raw_cells()})}})}).call(this);


/* app/views/shared/react/paginator.coffee @ 1488234052 */
(function(){var t,e,n,i,r;i=React.DOM,n=i.div,t=i.a,e=Scribd.R.component_builder("Shared.React.Paginator",{css_class:"autogen_class_views_shared_react_paginator"}),r=React.PropTypes,e({propTypes:{current_page:r.number.isRequired,page_count:r.number.isRequired},route:function(t){var e;return e=window.location.href,Scribd.add_url_parameter(e,"page",t)},range:function(){var t,e,n,i;return this.props.current_page<=5?function(){n=[];for(var t=1,e=Math.max(1,Math.min(this.props.page_count,10));e>=1?e>=t:t>=e;e>=1?t++:t--)n.push(t);return n}.apply(this):(e=Math.max(this.props.current_page-5,1),t=Math.min(this.props.current_page+5,this.props.page_count),function(){i=[];for(var n=e;t>=e?t>=n:n>=t;t>=e?n++:n--)i.push(n);return i}.apply(this))},render:function(){var e,i,r;return r=function(t){return function(e){return t.props.current_page===e?"selected":""}}(this),e=this.props.page_count<=1?"hidden":"",n({className:"paginator "+e,children:[this.props.current_page>1?t({className:"previous",onClick:function(t){return function(){return t.trigger("jump_to_page",t.props.current_page-1)}}(this)}):void 0,function(){var e,n,o,s;for(o=this.range(),s=[],e=0,n=o.length;n>e;e++)i=o[e],s.push(function(e){return function(n){return t({href:e.route(n),"data-value":n,key:n,onClick:function(t){return t.preventDefault(),e.props.current_page!==n?e.trigger("jump_to_page",n):void 0},className:"page "+r(n)},n)}}(this)(i));return s}.call(this),this.props.current_page<this.props.page_count?t({className:"next",onClick:function(t){return function(){return t.trigger("jump_to_page",t.props.current_page+1)}}(this)}):void 0]})}})}).call(this);


/* app/views/shared/react/persona.coffee @ 1488234052 */
(function(){var t,e,n;e=React.DOM.div,t=Scribd.R.component_builder("Shared.React.Persona",{css_class:"autogen_class_views_shared_react_persona"}),n=React.PropTypes,t({propTypes:{size:n.string.isRequired,image_url:n.string,initials:n.string,author:n.bool.isRequired,persona_color:n.string.isRequired},route:function(t){var e;return e=window.location.href,Scribd.add_url_parameter(e,"page",t)},range:function(){var t,e,n,i;return this.props.current_page<=5?function(){n=[];for(var t=1,e=Math.min(this.props.page_count,10);e>=1?e>=t:t>=e;e>=1?t++:t--)n.push(t);return n}.apply(this):(e=Math.max(this.props.current_page-5,1),t=Math.min(this.props.current_page+5,this.props.page_count),function(){i=[];for(var n=e;t>=e?t>=n:n>=t;t>=e?n++:n--)i.push(n);return i}.apply(this))},render:function(){var t,n,i;return i=this.props.author||this.props.image_url?"":"icon-user",n=!this.props.publisher||this.props.author?"circle":"",t={},this.props.image_url?t.backgroundImage="url('"+this.props.image_url+"')":this.props.author?t.backgroundColor=this.props.persona_color:t.color=this.props.persona_color,e({className:"autogen_class_views_shared_persona_icon persona_icon "+i+" "+this.props.size+" "+n,style:t,children:[!this.props.image_url&&this.props.author?this.props.initials:void 0]})}})}).call(this);


/* app/views/shared/carousels/carousel.coffee @ 1488234052 */
(function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;null==Scribd.UI&&(Scribd.UI={}),Scribd.UI.tabbing_user=!1,Scribd.UI.backwards_tab=!1,Scribd.UI.tabbing_selector="a:visible, input:visible, button:visible",Scribd.UI.Carousel=function(){function t(t,e){var n;this.container=t,this.opts=null!=e?e:{},Scribd.UI.Carousel.carousels.push(this),this.container=$(this.container).data("carousel",this),this.images_loaded=!this.container.data("lazy_images"),this.container.hasClass("cache_widget")&&(this.container=this.container.find(".carousel_widget")),this.carousel=this.container.find(".carousel"),this.scrolling=this.carousel.find(".carousel_scrolling"),n=this.check_items_inview,this.check_items_inview=_.debounce(function(t){return function(){return n.apply(t)}}(this),500),this.title=this.container.find(".carousel_title"),this.title_link=this.container.find(".title_link"),this.carousel_skip_link=this.container.find(this.carousel_skip_selector),this.container.on("scribd:reshape_carousel",function(t){return function(){return t.reshape()}}(this)),$(window).on("resize",_.debounce(function(){var t,e,n,i,r;for(i=Scribd.UI.Carousel.carousels,r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(t.reshape());return r},500)),this.opts.tracking_module!==!1&&(this.tracking_module=new Scribd.RecommendationTracking.Module(this.container,{compilation_id:this.opts.compilation_id,widget_name:this.opts.widget_name,module_id:this.opts.module_id,on_tracking:function(t){return function(e){t.tracking=e}}(this),on_in_view:function(t){return function(){return t.check_items_inview()}}(this)})),this.setup_events(),this.setup_scrollbar(),this.setup_flags(),this.show_paddles(),this.reshape(),this.setup_viewport_scrolling(),this.enable_skip_links()}return t.prototype.anim_speed=200,t.prototype.easing="ease_in_out_cubic",t.prototype.images_loaded=!1,t.prototype.mobile_size=450,t.prototype.carousel_skip_selector=".carousel_skip_link",t.prototype.setup_viewport_scrolling=function(){var t,e,n,i,r,o,s,a,c;if(!this.images_loaded)return c=$(window),s=this.container.closest(".carousel_scroll_parent"),n=!1,s.length?(i=s,a=0,t=_.throttle(function(t){return function(){return a=t.container.offset().top+s[0].scrollTop-s.offset().top-s.height()}}(this),1e3,{trailing:!1}),e=function(){return function(){return t(),s[0].scrollTop>a}}(this)):(i=c,a=this.container.offset().top,e=function(){return function(){return c.scrollTop()+c.height()>a}}(this)),r=function(t){return function(){return n?t.show_visible_images():void 0}}(this),o=function(t){return function(){return e()?(n=!0,t.show_visible_images(),i.off("scroll resize",o)):void 0}}(this),c.on("resize",_.debounce(r,100)),i.on("scroll resize",o),_.defer(o)},t.prototype.setup_events=function(){return this.opts.disable_click?void 0:(this.container.dispatch("click",{carousel_prev:function(t){return function(){var e;return t.on_interact(),t.scroll_items(-t.cells_to_scroll()),null!=(e=t.tracking_module)?e.track_module_click("ap"):void 0}}(this),carousel_next:function(t){return function(){var e;return t.on_interact(),t.scroll_items(t.cells_to_scroll()),null!=(e=t.tracking_module)?e.track_module_click("an"):void 0}}(this),carousel_skip_link:function(t){return function(){var e;return e=t.get_next_tabbed_element(t.container),e.size()?(e.hasClass("carousel_skip_link")&&e.css("display","inline-block"),e.focus(),!1):void 0}}(this)}),this.container.on("click",".doc_link",function(t){return $(t.target).trigger("scribd:doc_link_clicked")}))},t.prototype.get_next_tabbed_element=function(t){var e;return e=t.nextAll().find(Scribd.UI.tabbing_selector+", "+this.carousel_skip_selector).first(),e.size()?e:t.parent().size()?this.get_next_tabbed_element(t.parent()):$()},t.prototype.enable_skip_links=_.once(function(){var t;return t=function(t){return function(e){var n,i,r,o,s,a;switch(a=$(e.target),e.type){case"keydown":return 9===e.keyCode&&(Scribd.UI.tabbing_user=!0),Scribd.UI.backwards_tab=e.shiftKey,!0;case"click":return Scribd.UI.tabbing_user=!1,!0;case"focusin":if(!Scribd.UI.tabbing_user)return;for(o=Scribd.UI.Carousel.carousels,s=[],i=0,r=o.length;r>i;i++)n=o[i],$.contains(n.container.get(0),a.get(0))?t.get_next_tabbed_element(n.container)&&!n.carousel_skip_link.is(":visible")?(n.carousel_skip_link.css({display:"inline-block"}),s.push(Scribd.UI.backwards_tab?void 0:n.title_link.size()?n.title_link.focus():n.carousel_skip_link.focus())):s.push(void 0):s.push(n.carousel_skip_link.hide());return s}}}(this),$(window).on("keydown.carousel_skip_link, click.carousel_skip_link, focusin.carousel_skip_link",t)}),t.prototype.setup_scrollbar=function(){var t,e;return this.scrollbar=this.container.find(".carousel_scrollbar"),t=this.scrollbar.find(".carousel_scrollbar_thumb"),e=_.debounce(function(t){return function(e,n,i){return t.container.toggleClass("on_first_page",0===e),t.container.toggleClass("on_last_page",e+n===i)}}(this),100),this.update_scrollbar=function(n){return function(){var i,r,o,s,a,c;return r=n.scroll_width(),a=n.scrolling.innerWidth(),o=n.scrolling.scrollLeft(),i=n.scrollbar.width(),s=Math.floor(o/r*a),c=a-Math.floor((o+a)/r*a),s=Math.min(s,i-10),10>=c&&(c=0),c>i-s&&(c=i-s-10),e(o,a,r),t.css({left:s+"px",right:c+"px"})}}(this),this.scrolling.on("scroll",function(t){return function(){return t.on_interact(),t.update_scrollbar(),t.check_items_inview()}}(this)),this.update_scrollbar(),t.draggable({start:function(t){return function(){return t.container.addClass("dragging")}}(this),stop:function(t){return function(){return t.container.removeClass("dragging")}}(this),move:function(t){return function(e){var n;return n=t.scroll_width()/t.scrolling.innerWidth(),t.scrolling.scrollLeft(t.scrolling.scrollLeft()+e*n)}}(this)})},t.prototype.scroll_items=function(t){var e,n,i,r,o;return o=this.cell_width(),0===o||this.scrolling.is(":animated")||(e=this.scrolling.scrollLeft(),i=Math.floor(e/o+.1)*o+t*o,n=this.scroll_width()-this.scrolling.innerWidth(),i=Math.max(0,Math.min(i,n)),15>n-i&&(i=n),15>i&&(i=0),e===i)?void 0:(r=Math.floor(this.anim_speed*Math.abs((e-i)/o)),this.scrolling.animate({scrollLeft:i},{duration:r,easing:"smoothstep"}))},t.prototype.cells_to_scroll=function(){var t,e,n,i,r;return r=this.scrolling.width()/this.cell_width(),1.5>=r?1:(t=Math.ceil(r),n=Math.abs(r-t),i=Math.abs(r-t+.5),e=i>n,e?t:t-1)},t.prototype.cell_width=function(){return this.carousel.find(".object_cell:first").outerWidth(!0)},t.prototype.scroll_width=function(){var t;return(null!=(t=this.scrolling[0])?t.scrollWidth:void 0)||0},t.prototype.reshape=function(){var t,e;return t=this.scroll_width(),e=this.scrolling.innerWidth(),this.container.toggleClass("has_no_scrolling",5>t-e),"function"==typeof this.update_scrollbar?this.update_scrollbar():void 0},t.prototype.show_visible_images=function(){var t,e,n,i,r,o;if(!this.images_loaded){for(n=this.scrolling.innerWidth(),i=this.carousel.find("img[data-src]"),r=[],t=0,e=i.length;e>t&&(o=i[t],o=$(o),o.position().left<n);t++)r.push(this.show_image($(o)));return r}},t.prototype.show_all_images=function(){var t,e,n,i,r;if(!this.images_loaded){for(this.images_loaded=!0,n=this.carousel.find("img[data-src]"),i=[],t=0,e=n.length;e>t;t++)r=n[t],i.push(this.show_image($(r)));return i}},t.prototype.setup_flags=function(){return Scribd.DocumentCell.add_flags(this.container)},t.prototype.flush_images=function(){var t;return t=function(t){return function(){var e;if(null!=(e=t._load_queue)?e.length:void 0)return $(t._load_queue).velocity("transition.fadeIn"),t._load_queue=[]}}(this),this.flush_images=_.debounce(t,10),this.flush_images()},t.prototype.show_image=function(t){var e,n,i;return t=$(t),e=t.data(),n=e.src,i=e.srcset,n?(t.on("load",function(e){return function(){return e._load_queue||(e._load_queue=[]),e._load_queue.push(t[0]),e.flush_images()}}(this)),window.location.hash.match(/\bdebug_images\b/)?(t.style({backgroundImage:"red"}),setTimeout(function(){return t.style({backgroundImage:""}),t.attr("src",n),t.attr("srcset",i)},500)):(t.attr("src",n),t.attr("srcset",i)),t.removeData("src"),t.removeData("srcset")):void 0},t.prototype.show_paddles=function(t){return null==t&&(t=!0),this.container.toggleClass("paddles_visible",!!t)},t.prototype.on_interact=function(){return this.on_interact=function(){},this.show_all_images(),$(document.body).track({category:this.opts.page||"carousel",action:"click",label:"carousel:first_carousel_click"})},t.prototype.check_items_inview=function(){var t,e,n,i,r,o,s,a,c,l,u,d;if(null!=this.tracking){for(u=50,a=this.scrolling.innerWidth(),l=this.container.find(".object_cell[data-track_uuid]"),n=e=0,o=l.length;o>e;n=++e)t=l[n],t=$(t),t.is(".visibility_tracked")||(r=t.position().left,s=parseInt(t.css("marginLeft")),r+=s,d=t.width(),i=r+u>=0&&a>=r+d-u,i&&(c=t.closest("[data-track_uuid]").data("track_uuid"),Scribd.RecommendationTracking.track_obj_view(this.tracking.view_id,c),t.addClass("visibility_tracked")));return null}},t}(),Scribd.UI.Carousel.carousels=[],Scribd.UI.SquareCarousel=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(Scribd.UI.Carousel)}).call(this);


/* app/views/search/app.coffee @ 1488234052 */
(function(){var t,e,n,i,r,o,s,a,c,l,u,d,h,p,f=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};d=React.DOM,o=d.a,a=d.div,h=d.span,c=d.form,u=d.input,l=d.h2,s=Scribd.R.component_builder("Search.App",{css_class:"autogen_class_views_search_app",track_category:"search"}),p=React.PropTypes,i=5,t=8,e=["tops","books","audiobooks","articles","documents","sheet_music","authors","collections","publishers"],r=["authors","collections","publishers","articles"],n=24,Scribd.pretty_count=function(t){return 100>t?t:1e3>t?100*Math.floor(t/100)+"+":Math.floor(t/1e3)+"K"},Scribd.SearchSnapshot=function(){function t(t){var e;this.state=t,(e=Scribd.SearchSnapshot).instances||(e.instances=[]),Scribd.SearchSnapshot.instances.push(this),delete this.state.snapshot}return t.prototype.core_search_state=function(){return _.extend({},this.state.selected_facets_hash,{page:this.state.current_page,content_type:this.state.content_type,query:this.state.query})},t.prototype.id=function(){var t,e,n,i;n=[],e=this.state.selected_facets_hash;for(t in e)i=e[t],n.push([t,i]);return this.state.query+"-"+this.state.content_type+"-"+this.state.selected_facets_hash+"-"+this.state.current_page},t.prototype.url=function(t,e){return null==t&&(t=[]),null==e&&(e={}),Scribd.SearchSnapshot.search_state_to_url(this.core_search_state(),t,e)},t.search_state_to_url=function(t,e,n){var i,r,o,s;null==e&&(e=[]),null==n&&(n={}),i="search?";for(o in t)s=t[o],f.call(e,o)>=0||(r=n[o]||s,i=Scribd.add_url_parameter(i,o,encodeURIComponent(r)));return i},t}(),s({"static":{content_key_to_text:function(t){var e;switch(t){case"authors":return I18n.t("search.app.contributors");case"tops":return I18n.t("search.app.everything");case"sheet_music":return I18n.t("search.app.sheet_music");default:return e=["books","audiobooks","documents","collections","publishers","articles"],e.indexOf(t)>-1?I18n.t("search.app."+t):t.capitalize()}},facet_name:function(t,e,n){var i,r,o,s;if(t[e]||console.info("invalid options "+e+" for",t),!t[e])return n;for(s=t[e],i=0,r=s.length;r>i;i++)if(o=s[i],o.value===n)return o.name},category_branch:function(t,e,n){var i,r,o,s;return e?(s=(null!=(o=n[t])?o.subcategories:void 0)||[],r=[],i=function(){return function(t,e,n){var r,o,s,a;for(s=0,a=n.length;a>s;s++){if(o=n[s],Number(o.id)===Number(t.id))return e.push(o),e;if(o.subcategories&&(r=i(t,e,o.subcategories),r.length))return e.push(o),e.concat(r),e}return[]}}(this),i(e,[],s).reverse()):[]}},propTypes:{content_type:p.string.isRequired,top_tracking_types:p.object,module_tracking_types:p.object.isRequired,facet_options_hash:p.object.isRequired,selected_facets_hash:p.object.isRequired,translated_facet_fields:p.object.isRequired,category_tree:p.object.isRequired,results:p.object.isRequired,query:p.string.isRequired,current_page:p.number.isRequired,result_count:p.number,page_count:p.number,tab:p.string,top_result:p.shape({type:p.string.IsRequired,content:p.object.isRequired,title:p.string})},getInitialState:function(){return{content_type:this.props.content_type,top_tracking_types:this.props.top_tracking_types,module_tracking_types:this.props.module_tracking_types,selected_facets_hash:this.props.selected_facets_hash,facet_options_hash:this.props.facet_options_hash,translated_facet_fields:this.props.translated_facet_fields,search_xhr:null,results:this.props.results,query:this.props.query,result_count:this.props.result_count,current_page:this.props.current_page,page_count:this.props.page_count,top_result:this.props.top_result,list_view_mode:!0,snapshot:new Scribd.SearchSnapshot(this.props),tab:this.props.tab}},update_url_state:function(){var t;return t=I18n.t("search.app.search_state_query",{state_query:this.state.query}),history.pushState({search_snapshot:this.state.snapshot,title:t},t,this.state.snapshot.url())},componentDidUpdate:function(){return this.state.execute_search?this.trigger("perform_search"):void 0},search:function(t){var e,n,i;return null==t&&(t={}),this.state.query?(null!=(e=this.state.search_xhr)&&e.abort(),n=_.extend({},this.state.selected_facets_hash,{query:this.state.query,content_type:this.state.content_type,page:this.state.current_page,search_session_id:Scribd.R.Shared.React.SearchInput.get_search_session_id()},t),$("html, body").animate({scrollTop:0}),this.container().track_rats("search:results:serve",n),i=$.get("/search/query",n),i.done(function(t){return function(e){return e.snapshot=new Scribd.SearchSnapshot(e),t.setState(e),t.update_url_state()}}(this)),i.always(function(t){return function(){return t.setState({search_xhr:null})}}(this)),this.setState({search_xhr:i,execute_search:!1})):void 0},componentDidMount:function(){return this.container().track_rats("search:tab:view",{search_content_type:this.props.content_type,search_session_id:Scribd.R.Shared.React.SearchInput.get_search_session_id()}),window.history.replaceState({search_snapshot:this.state.snapshot},{title:I18n.t("search.app.search_state_query",{state_query:this.state.query})},this.state.snapshot.url()),$(window).on("popstate.browser_history",function(t){return function(e){var n,i;return i=e.originalEvent.state,i.search_snapshot?(n=i.search_snapshot.state,n.snapshot=new Scribd.SearchSnapshot(n),t.setState(n)):void 0}}(this)),this.dispatch({jump_to_page:function(t){return function(e,n){return t.setState({current_page:n}),t.trigger("queue_search")}}(this),submit_search:function(t){return function(e,n){return t.setState({query:n,current_page:1}),t.trigger("queue_search")}}(this),queue_search:function(t){return function(){return t.setState({execute_search:!0})}}(this),perform_search:function(t){return function(){return t.search()}}(this),search_new_content_type:function(t){return function(e,n,i){var o,s,a,c,l;if(c=t.state.content_type===n?_.clone(t.state.selected_facets_hash):{},delete c.category,i)for(l=i.split(","),s=0,a=l.length;a>s;s++)o=l[s],delete c[o];return t.container().track_rats("search:tab:view_end",{search_content_type:t.state.content_type,search_session_id:Scribd.R.Shared.React.SearchInput.get_search_session_id()}),t.container().track_rats("search:tab:view",{search_content_type:n,search_session_id:Scribd.R.Shared.React.SearchInput.get_search_session_id()}),t.setState({content_type:n,current_page:1,execute_search:!0,selected_facets_hash:c,list_view_mode:f.call(r,n)>=0?!0:t.state.list_view_mode})}}(this),see_all:function(t){return function(e,n){return t.trigger("search_new_content_type",n)}}(this),crumb_clicked:function(t){return function(e,n){return t.trigger("filter_selected",n)}}(this),filter_selected:function(t){return function(e,n){var i,r,o,s,a;if(t.container().track_rats("search:filter:click",{field:n.field,value:n.value,search_content_type:t.state.content_type,search_session_id:Scribd.R.Shared.React.SearchInput.get_search_session_id()}),"content_type"===n.field)return t.trigger("search_new_content_type",n.value,n.facets_to_filter);if(s=_.clone(t.state.selected_facets_hash),s[n.field]=n.value,n.facets_to_filter)for(a=n.facets_to_filter.split(","),r=0,o=a.length;o>r;r++)i=a[r],delete s[i];return t.setState({selected_facets_hash:s}),"category_group"!==n.type?t.trigger("queue_search"):void 0}}(this),list_view_mode_toggle:function(t){return function(e,n){return t.container().track_rats("search:view_type:click",{new_view_type:n?"list":"grid",search_session_id:Scribd.R.Shared.React.SearchInput.get_search_session_id()}),t.setState({list_view_mode:n})}}(this)})},search_options:function(){var t;return t={query:this.state.query,content_type:this.state.content_type,page:this.state.current_page},_.extend({},this.state.selected_facets_hash)},render:function(){var t,e,n,i,o;return t=Scribd.R.Search.App.category_branch(this.state.content_type,{id:this.state.selected_facets_hash.category},this.props.category_tree),i=this.state.search_xhr?"":"hidden",n=!(!this.state.search_xhr&&!this.state.execute_search),a({className:"column_container",children:[a({className:"column filter_column",children:[this.Package.Filters({category_tree:this.props.category_tree,category_branch:t,content_type:this.state.content_type,facet_options_hash:this.state.facet_options_hash,selected_facets_hash:this.state.selected_facets_hash,translated_facet_fields:this.state.translated_facet_fields})]}),a({className:"results column",children:[Scribd.R.Shared.React.SearchInput({query:this.state.query,focused:!0,redirect_to_app:!1}),a({className:"document_content",children:[this.state.top_result?(o={content_type:this.state.content_type,search_loading:n,tab:this.state.tab,top_tracking_types:this.state.top_tracking_types},this.Package.TopResult(_.extend({},this.state.top_result,o))):void 0,a({className:"result_top_row",children:[a({children:[this.Package.Breadcrumbs({search_loading:n,facet_options_hash:this.state.facet_options_hash,category_branch:t,selected_facets:this.state.selected_facets_hash,result_count:this.state.result_count||0,content_type:this.state.content_type,snapshot:this.state.snapshot})]}),(e=this.state.content_type,f.call(r,e)>=0||"tops"===this.state.content_type?void 0:a({className:"view_mode",children:[h({className:"icon-toc icon  "+(this.state.list_view_mode?"active":"inactive"),onClick:function(t){return function(){return t.trigger("list_view_mode_toggle",!0)}}(this)}),h({className:"icon-grid icon "+(this.state.list_view_mode?"inactive":"active"),onClick:function(t){return function(){return t.trigger("list_view_mode_toggle",!1)}}(this)})]}))]}),a({className:"loading_layer "+i,children:[a({className:"white_layer"}),a({className:"scribd_spinner","data-size":60})]}),0===this.state.result_count?a({className:"empty_state",children:[a({className:"message_centerer",children:[a({className:"empty_image"}),h({},I18n.t("search.app.sorry_we_couldn_t_find_any_results")+" "),h({className:"user_query"},this.state.query),"."]})]}):this.Package.ContentLayer(_.extend({},this.state,{search_loading:n}))]})]})]})}}),s("ContentLayer",{shouldComponentUpdate:function(t){return!t.search_loading},render:function(){return a({className:"content_layer",children:["tops"===this.props.content_type?this.Package.Tops({content_rows:this.props.results,top_result:this.props.top_result,module_tracking_types:this.props.module_tracking_types,snapshot:this.props.snapshot,tab:this.props.tab}):a({className:"single_type_result",children:[[this.Package.Content({content_type:this.props.content_type,tracking_data:this.props.results[this.props.content_type].tracking_data,content:_.extend({},this.props.results[this.props.content_type].content,{list_view_mode:this.props.list_view_mode}),module_tracking_types:this.props.module_tracking_types,tab:this.props.tab}),Scribd.R.Shared.React.Paginator({current_page:this.props.current_page,page_count:this.props.page_count})]]})]})}}),s("Breadcrumbs",{propTypes:{facet_options_hash:p.object.isRequired,content_type:p.string.isRequired,category_branch:p.array.isRequired,snapshot:p.object.isRequired,search_loading:p.bool.isRequired,result_count:p.number},shouldComponentUpdate:function(t){return!t.search_loading},render:function(){var t,e,n,i,r,s,c,l,u,d,p,f,_,g,m,v;e=function(t){return function(e,n,i,r,s,a){var c,l,u;return null==s&&(s=!1),null==a&&(a=[]),s?(l=function(){},c="crumb unclickable last",u=h):(l=function(e){return e.metaKey||e.ctrlKey?void 0:(e.preventDefault(),t.trigger("crumb_clicked",$(e.target).data()))},c="crumb",u=o),h({children:[u({href:r,className:c,"data-field":n,"data-value":i,"data-facets_to_filter":a,onClick:l},e),s?void 0:h({className:"arrow"},">")]})}}(this),f=[],p=[],_=this.props.selected_facets;for(u in _)m=_[u],"category"!==u&&m&&(p.push(u),f.push([u,m]));return c="tops"===this.props.content_type?"hidden":"",a({className:"breadcrumbs "+c,children:[1===this.props.result_count?h({className:"results"},I18n.t("search.app.1_result_in")):h({className:"results"},I18n.t("search.app.props_result_count_results_in",{props_result_count:this.props.result_count})),e(I18n.t("search.app.everything"),"content_type","tops",this.props.snapshot.url(["category","content_type"].concat(p))),this.props.content_type?(g=this.props.snapshot.url(["category"].concat(p)),e(Scribd.R.Search.App.content_key_to_text(this.props.content_type),"content_type",this.props.content_type,g,!this.props.category_branch.length&&!f.length,function(){var t,e,i;for(i=[],t=0,e=f.length;e>t;t++)n=f[t],i.push(n[0]);return i}())):void 0,function(){var n,i,r,o;for(r=this.props.category_branch,o=[],l=n=0,i=r.length;i>n;l=++n)t=r[l],g=this.props.snapshot.url(p,{category:t.id}),o.push(e(t.name,"category",t.id,g,l===this.props.category_branch.length-1&&!f.length,p));return o}.call(this),function(){var t,o,a,c,u,h;for(h=[],l=t=0,o=f.length;o>t;l=++t){for(i=f[l],s=i[0],v=i[1],d=l===f.length-1,r=[],u=f.slice(l+1),c=0,a=u.length;a>c;c++)n=u[c],r.push(n[0]);g=this.props.snapshot.url(r),h.push(e(Scribd.R.Search.App.facet_name(this.props.facet_options_hash,s,v),s,v,g,d,r))}return h}.call(this)]})}}),s("Filters",{propTypes:{category_branch:p.array.isRequired,content_type:p.string.isRequired,selected_facets_hash:p.object.isRequired,facet_options_hash:p.object.isRequired,translated_facet_fields:p.object.isRequired},show_unlimited_audiobooks_only_filter:function(){return"audiobooks"===this.state.content_type},render:function(){var t,e;return a({className:"filters",children:[this.Package.CategoryTree({category_branch:this.props.category_branch,category_tree:this.props.category_tree,selected_value:this.props.selected_facets_hash.category||"",content_type:this.props.content_type}),function(){var n,i;n=this.props.facet_options_hash,i=[];for(t in n)e=n[t],i.push("category"!==t?this.Package.Filter({field:t,options:e,translated_field:this.props.translated_facet_fields[t],selected_value:this.props.selected_facets_hash[t]||""}):void 0);return i}.call(this)]})}}),s("CategoryTree",{propTypes:{category_tree:p.object.isRequired,content_type:p.string.isRequired,category_branch:p.array.isRequired},render:function(){var t,n;return t=function(t){return function(){var e,n,i,r,o,s,a,c,l;for(l=[],c=t.props.category_branch,i=r=0,a=c.length;a>r;i=++r){if(n=c[i],e=i===t.props.category_branch.length-2,o=i===t.props.category_branch.length-1,s=t.props.category_branch[t.props.category_branch.length-1],e&&!s.subcategories||1===t.props.category_branch.length||o)return l.push(t.Package.Branch({element:n,selected:!0,with_caret:!0,field:"category",selected_value:t.props.category_branch[t.props.category_branch.length-1],children:n.subcategories})),l;o||l.push(t.Package.Branch({element:n,selected:!0,with_caret:!0,field:"category",children:[]}))}}}(this),a({className:"filter category_filter",children:[this.Package.Branch({element:{name:Scribd.R.Search.App.content_key_to_text("tops"),id:"tops"},selected:!0,with_caret:"tops"!==this.props.content_type,field:"content_type",children:[]}),function(){var i,r,o,s,a;if("tops"===this.props.content_type){for(a=[],i=0,r=e.length;r>i;i++)n=e[i],"tops"!==n&&a.push(this.Package.Branch({element:{name:Scribd.R.Search.App.content_key_to_text(n),id:n},field:"content_type",selected_value:this.props.content_type===n?this.props.selected_value:void 0,children:(null!=(o=this.props.category_tree[n])?o.subcategories:void 0)||[]}));return a}return[this.Package.Branch({element:{name:Scribd.R.Search.App.content_key_to_text(this.props.content_type),id:this.props.content_type},selected:!0,with_caret:this.props.category_branch.length,field:"content_type",children:this.props.category_branch.length?[]:(null!=(s=this.props.category_tree[this.props.content_type])?s.subcategories:void 0)||[]})].concat(t())}.call(this)]})}}),s("Branch",{getInitialState:function(){return{compact:!0}},componentDidMount:function(){return this.dispatch({compact:function(t){return function(){return t.setState({compact:!0})}}(this),expand:function(t){return function(){return t.setState({compact:!1})}}(this)})},render:function(){var e,n,i,r,o;return e=this.props.children&&this.props.selected?this.state.compact?this.props.children.slice(0,+(t-1)+1||9e9):this.props.children:void 0,e||(e=[]),n=this.props.with_caret?"with_caret":"",o=this.props.selected?"selected":"",a({className:"branch",children:[a({className:"item "+o+" "+n,"data-id":this.props.element.id,onClick:function(t){return function(e){var n;return t.props.with_caret||!t.props.selected?(n=$(e.currentTarget),t.trigger("filter_selected",{field:t.props.field,value:t.props.element.id,type:t.props.element.type})):void 0}}(this),children:[this.props.with_caret?h({className:"icon-caret_left caret"}):void 0,this.props.element.name]}),function(){var t,n,o,s;for(s=[],r=t=0,n=e.length;n>t;r=++t)i=e[r],s.push(this.Package.Branch({element:i,field:"category",selected:i.id===(null!=(o=this.props.selected_value)?o.id:void 0)}));return s}.call(this),e.length>=t?h(this.state.compact?{className:"see_more item",children:[I18n.t("search.app.show_more")],onClick:function(t){return function(){return t.trigger("expand")}}(this)}:{className:"see_less item",children:[I18n.t("search.app.-_show_less")],onClick:function(t){return function(){return t.trigger("compact")}}(this)}):void 0]})}}),s("Filter",{getInitialState:function(){return{compact:!0}},componentDidMount:function(){return this.dispatch({compact:function(t){return function(){return t.setState({compact:!0})}}(this),expand:function(t){return function(){return t.setState({compact:!1})}}(this),radio_selected:function(t){return function(e,n){return n.value!==t.props.selected_value?t.trigger("filter_selected",{field:t.props.field,value:n.value}):void 0}}(this)})},render:function(){return a({className:"filter",children:[a({className:"filter_title",children:[this.props.translated_field]}),this.Package.RadioForm({name:this.props.field,radio_options:this.state.compact?this.props.options.slice(0,+(i-1)+1||9e9):this.props.options,selected_value:this.props.selected_value}),this.props.options.length>i?h(this.state.compact?{className:"see_more",children:[I18n.t("search.app.show_more")],onClick:function(t){return function(){return t.trigger("expand")}}(this)}:{className:"see_less",children:[I18n.t("search.app.-_show_less")],onClick:function(t){return function(){return t.trigger("compact")}}(this)}):void 0]})}}),s("RadioForm",{getInitialState:function(){return{selected_value:this.props.selected_value}},componentDidMount:function(){return this.dispatch({radio_selected:function(t){return function(e,n){return t.setState({selected_value:n.value})}}(this)})},componentWillReceiveProps:function(){return this.setState({selected_value:this.props.selected_value})},render:function(){var t,e;return c({className:"radio_form",children:[function(){var n,i,r,o;for(r=this.props.radio_options,o=[],t=n=0,i=r.length;i>n;t=++n)e=r[t],o.push(a({children:[Scribd.R.Shared.React.RadioInput({key:t,"class":"radio_form_radio_input",name:this.props.name,value:e.value,label_text:e.name,selected:this.state.selected_value===e.value})]}));return o}.call(this)]})}}),s("Tops",{propTypes:{content_rows:p.object.isRequired,module_tracking_types:p.object,top_result:p.object,snapshot:p.object.isRequired},content_type_handler:function(t,e){return this.container().track_rats("search:more_results:click",{search_session_id:Scribd.R.Shared.React.SearchInput.get_search_session_id(),search_new_content_type:e}),t.metaKey||t.ctrlKey?void 0:(t.preventDefault(),this.trigger("see_all",$(t.currentTarget).data("content_type")))},render:function(){var t,e,n,i;return i=function(t){return function(e,n){return a({key:e,className:"row",children:[a({className:"row_header",children:[o({href:t.props.snapshot.url([],{content_type:e}),className:"row_title","data-content_type":e,onClick:t.content_type_handler},Scribd.R.Search.App.content_key_to_text(e)),o({href:t.props.snapshot.url([],{content_type:e}),className:"see_all","data-content_type":e,onClick:t.content_type_handler,children:[I18n.t("search.app.view_all"),h({className:"icon-caret caret"})]})]}),n]})}}(this),e=function(t){return _.values(t)[0]},a({className:"tops",children:[function(){var r,o;r=this.props.content_rows,o=[];for(t in r)n=r[t],o.push(e(n.content)?i(t,this.Package.Content({tab:this.props.tab,content_type:t,module_tracking_types:this.props.module_tracking_types,tracking_data:n.tracking_data,content:n.content})):void 0);return o}.call(this)]})}}),s("Content",{shouldComponentUpdate:function(t){var e;return!!(t.content.collections_html&&"collections"===t.content_type||t.content.html||t.content.authors&&("authors"===(e=t.content_type)||"publishers"===e))},componentWillUnmount:function(){return $(window).off("scroll",this.container().find(".object_cell").data("scrolled_into_viewport_callback"))},componentDidMount:function(){var t,e,n,i,r,o,s;for(this.ensureViewTrack(),this.container().on("click",".object_cell",function(t){return function(e){var n,i;return n=$(e.currentTarget),i=t.get_cell_tracking_opts(n),t.container().track_rats("search:module_item:click",t.track_item_data(i.object_id,i)),e.stopPropagation()}}(this)),o=this.container().find(".object_cell"),s=[],i=0,r=o.length;r>i;i++)e=o[i],t=$(e),n=this.get_cell_tracking_opts(t),t.data("track_rats_value",this.track_item_data(n.object_id,n)),s.push(t.data("override_rats_name","search:module_item:click"));return s},get_cell_tracking_opts:function(t){var e,n;return n=t.data("object_id"),e={object_id:n,object_type:this.props.module_tracking_types[n],tab:this.props.tab}},componentDidUpdate:function(){return this.ensureViewTrack()},ensureViewTrack:function(){return this.container().find(".object_cell").scrolled_into_viewport(function(t){return function(e){var n;return n=$(e),n.data("view_already_tracked")?void 0:(n.data("view_already_tracked",!0),t.container().track_rats("search:module_item:view",t.track_item_data(n.data("object_id"))))}}(this))},track_item_data:function(t,e){var n;return n={search_session_id:Scribd.R.Shared.React.SearchInput.get_search_session_id(),module_id:this.props.tracking_data.tracking_id,item_id:this.props.tracking_data.results_tracking_ids[t],position:this.props.tracking_data.results_positions[t]},e&&(n=_.extend(n,e)),n},render:function(){var t;return"authors"===(t=this.props.content_type)||"publishers"===t?Scribd.R.Shared.React.Authors(this.props.content):"collections"===this.props.content_type?Scribd.R.Shared.React.Collections(this.props.content):"articles"===this.props.content_type?Scribd.R.Shared.React.Articles(this.props.content):a({className:"documents",children:Scribd.R.Shared.React.Documents(this.props.content)})}}),s("TopResult",{propTypes:{type:p.string.isRequired,content_type:p.string.isRequired,search_loading:p.bool.isRequired,top_tracking_types:p.object.isRequired},shouldComponentUpdate:function(t){return!t.search_loading},track_item_data:function(t,e){var n;return n={search_session_id:Scribd.R.Shared.React.SearchInput.get_search_session_id(),module_id:this.props.tracking_data.tracking_id,item_id:this.props.tracking_data.results_tracking_ids[t]},e&&(n=_.extend(n,e)),n},componentDidMount:function(){var t,e,n,i,r,o;for(this.container().on("click",".object_cell",function(t){return function(e){var n,i,r,o;return n=$(e.currentTarget),i=n.data("object_id"),r=t.props.top_tracking_types[i],o={object_id:i,object_type:r,tab:t.props.tab},t.container().track_rats("search:module_item:click",t.track_item_data(o.object_id,o)),"continue"}}(this)),r=this.container().find(".object_cell"),o=[],n=0,i=r.length;i>n;n++)e=r[n],t=$(e),t.data("view_already_tracked")?o.push(void 0):(t.data("view_already_tracked",!0),o.push(this.container().track_rats("search:module_item:view",this.track_item_data(t.data("object_id")))));return o},render:function(){var t,e,n,i,r;return r="unavailable_author"===this.props.type?l({className:"top_title"},I18n.t("search.app.not_available")):"category_content"===this.props.type?a({className:"category_content",children:[l({className:"top_title"},I18n.t("search.app.top_results_in_props_title",{props_title:this.props.title})),o({href:"javascript:void(0)",className:"view_more",onClick:function(t){return function(){return t.trigger("filter_selected",{field:"content_type",value:t.props.to_content_type}),t.trigger("filter_selected",{field:"category",value:t.props.to_category_id})}}(this),children:[I18n.t("search.app.view_all"),h({className:"icon-caret caret"})]})]}):"unavailable_book"===(t=this.props.type)||"unavailable_audiobook"===t?l({className:"top_title",children:[o({href:this.props.similar_url,className:"see_similar_titles doc_link book_link",children:[I18n.t("search.app.view_similar_titles"),h({className:"icon-caret caret"})]})]}):"tops"===this.props.content_type?l({className:"top_title"},I18n.t("search.app.top_result")):l({className:"top_title"},I18n.t("search.app.related_result")),a({className:"row top_result top_"+this.props.type+"_result",children:[r,"author"===(e=this.props.type)||"unavailable_author"===e||"publisher"===e||"interest"===e||"trusted_sources"===e||"mixed"===e||"publication"===e?this.Package.RawHtml(this.props.content):"book"===(n=this.props.type)||"audiobook"===n||"unavailable_book"===n||"unavailable_audiobook"===n||"document"===n||"category_content"===n?Scribd.R.Shared.React.Documents(this.props.content):"collection"===(i=this.props.type)||"category"===i?this.Package.SetResult(this.props.content):void 0]})}}),s("RawHtml",{propTypes:{html:p.string.isRequired},raw_html:function(){return{__html:this.props.html}},render:function(){return a({className:"html_wrapper",dangerouslySetInnerHTML:this.raw_html()})}}),s("InterestCategory",{propTypes:{docs_count:p.number.isRequired,thumbnail:p.string,title:p.string.isRequired,url:p.string.isRequired},render:function(){var t;return t=this.props.thumbnail?{backgroundImage:"url('"+this.props.thumbnail+"')",backgroundColor:"none"}:this.props.theme_color?{backgroundColor:this.props.theme_color}:void 0,o({href:this.props.url,children:[a({className:"set_result",children:[a({className:"set_background",style:t,children:[a({className:"background_dimmer",style:background_theme_css})]}),a({className:"set_title"},this.props.title)]})]})}}),s("SetResult",{propTypes:{docs_count:p.number.isRequired,thumbnail:p.string,title:p.string.isRequired,url:p.string.isRequired},render:function(){var t,e,n;return n=I18n.t(1===this.props.docs_count?"search.app.title":"search.app.titles"),t=this.props.thumbnail?{backgroundImage:"url('"+this.props.thumbnail+"')",backgroundColor:"none"}:{},e=this.props.theme_color?{backgroundColor:this.props.theme_color}:{},o({href:this.props.url,children:[a({className:"set_result",children:[a({className:"set_background",style:t,children:[a({className:"background_dimmer",style:e})]}),a({className:"set_title"},this.props.title),a({className:"set_count"},Scribd.pretty_count(Number(this.props.docs_count))+" "+n)]})]})}}),Scribd.R.Search.CONTENT_TYPES=e}).call(this),(Scribd.translations=Scribd.translations||[]).push({en_US:{search:{app:{category:"Category",contributors:"Contributors",all:"All",sheet_music:"Sheet Music",search_state_query:"Search | '%{state_query}'",sorry_we_couldn_t_find_any_results:"Sorry we couldn't find any results that matched",show_more:"+ Show more","-_show_less":"- Show less",top_results_in_props_title:"Top Results in %{props_title}",view_all:"View all",top_result:"Top Result",related_result:"Related Result",title:"title",titles:"titles",everything:"Everything","1_result_in":"1 result in",props_result_count_results_in:"%{props_result_count} results in",not_available:"Not Available",books:"Books",articles:"Articles",audiobooks:"Audiobooks",documents:"Documents",comics:"Comics",collections:"Collections",publishers:"Publishers",view_similar_titles:"View similar titles",interest:"Interest","1_3_pages":"1-3 pages","1_month":"Last month","1_week":"Last week","1_year":"Last year","1_year_plus":"1+ year ago","2_pages":"2+ pages","4_100_pages":"4-100 pages",_100_pages:"100+ pages",_store:"Store",any:"Any",any_date:"Any Date",any_date_added:"Any Date Added",any_length:"Any Length",any_filetype:"Any File Type",any_price:"Any Price",date_uploaded:"Date Uploaded",file_type:"File Type",filetype:"File Type",filter_by_:"Filter by",for_sale_only:"For Sale Only",free_only:"Free",language:"Language",length:"Length",today:"Today",payment:"Payment",pdf_filetype:"PDF",word_filetype:"MS Word",presentation_filetype:"Presentation",spreadsheet_filetype:"Spreadsheet",epub_filetype:"ePub",credit_free:"Unlimited Titles Only",credit_all:"All Titles",credit_cost:"Unlimited",music_instrument:"Instrument",music_difficulty:"Difficulty",music_genre:"Genre",uploaded_on:"Date Added",num_pages:"Length",user_type:"Users",any_music_genre:"Any Genre",any_music_instrument:"Any Instrument",any_music_difficulty:"Any Difficulty",all_authors:"All",any_language:"Any Language",any_category:"Any Category",for_purchase:"For Purchase"}}}});


/* app/views/search/unavailable_author.coffee @ 1488234052 */
(function(){Scribd.UI.UnavailableAuthor=function(){function t(t){var e,n,i,r;for(this.container=t,this.container=$(this.container),this.setup_events(),r=this.container.find(".document_grid"),n=0,i=r.length;i>n;n++)e=r[n],new Scribd.UI.ObjectGrid($(e))}return t.prototype.setup_events=function(){return this.container.dispatch("click",{show_unavailable_author_request:function(t){var e;return e=Scribd.Lightbox.open("unavailable_author_request_lightbox",Scribd.UnavailableAuthorRequestLightbox),e.set_data({author_name:t.data("author_name"),author_id:t.data("author_id")})}})},t}()}).call(this),(Scribd.translations=Scribd.translations||[]).push({en_US:{search:{unavailable_author:{unfortunately_this_book_author_is_not:"Unfortunately, this book author is not available for subscription.",learn_more:"Learn more"}}}});


/* app/views/search/unavailable_book.coffee @ 1488234052 */
(function(){Scribd.UI.UnavailableBook=function(){function t(t){this.container=t,this.container=$(this.container),this.setup_events(),new Scribd.UI.ObjectGrid(this.container.find(".document_grid"))}return t.prototype.setup_events=function(){return this.container.dispatch("click",{show_unavailable_book_request:function(t){var e;return e=Scribd.Lightbox.open("unavailable_book_request_lightbox",Scribd.UnavailableBookRequestLightbox),e.set_data({book_id:t.data("book_id")})}})},t}()}).call(this),(Scribd.translations=Scribd.translations||[]).push({en_US:{search:{unavailable_book:{unfortunately_this_book_is_not_available:"Unfortunately, this book is not available for subscription.",learn_more:"Learn more",or:"or",purchase_this_book_individually:"Purchase this book individually",similar_titles:"Similar Titles"}}}});


/* :class_inlines, 'spec_javascripts/js_spec', ... @ (none) */
