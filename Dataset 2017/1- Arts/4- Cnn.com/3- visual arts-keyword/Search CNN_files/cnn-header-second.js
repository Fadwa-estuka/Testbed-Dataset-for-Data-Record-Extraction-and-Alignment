function nativoComplete(){"use strict";jQuery(".zn.zn-staggered").each(function(){$staggeredZone=jQuery(this),layoutSize=($staggeredZone.attr("data-eq-state")||"").replace(/^(\S+\s+)*/,""),$staggeredZone.find(".zn__containers .column").each(function(){$staggeredColumn=jQuery(this),void 0!==$staggeredColumn.attr("class")&&$staggeredColumn.attr("class").indexOf("ntv")>-1&&($nativeContainer=$staggeredColumn.find(".cn").addClass("nativeSponsor").clone(),$staggeredColumn.remove(),$staggeredNativo=$staggeredZone.find(".column"),$staggeredNativo="xsmall"===layoutSize?$staggeredNativo.eq(0).find(".cn").eq(1):$staggeredNativo.eq(1).find(".cn").eq(0),$staggeredNativo.before($nativeContainer))})}),jQuery(".pg-wrapper").find("section.nativeSponsor").addClass("zn-loaded"),jQuery(window).load(function(){$nativeHubCarousel=jQuery(document.getElementById("ntv-videoZone")).find(".js-owl-carousel"),$nativeHubCarousel.length>0&&!isGalleryRendered&&(CNN.Carousel.restore($nativeHubCarousel.parent()),isGalleryRendered=!0)})}function onNativoRenderAd(e){"use strict";nativo.fbFeed=e.facebook_feed,nativo.twFeed=e.twitter_feed,nativo.twitterImage=e.twitter_image,nativo.authorName=e.author_name,nativo.epicAdName=e.native_adv,$nativeEmbedVideo=jQuery(document.getElementById("prx_full_ad_video")),$nativeEmbedVideo.length>0&&$nativeEmbedVideo.parent().addClass("ntv_video_p"),$bigPicture=jQuery(document.getElementById("bigPicture")),$bigPicture.length>0&&!isGalleryRendered&&(nativo.renderGallery(),isGalleryRendered=!0),jQuery(window).load(function(){nativo.renderAuthor(),nativo.renderFacebook(),nativo.renderTwitter(),nativo.renderEpic()})}function changeOwlCarousalWidth(){"use strict";var e=jQuery(".js-pg-sponsor .owl-stage-outer .owl-stage"),t=e.find(".owl-item").length;e.css("width",70*t)}Modernizr.addTest("ios",function(){"use strict";return!!navigator.userAgent.match(/(iPod|iPhone|iPad)/i)}),Modernizr.addTest("android",function(){"use strict";return!!navigator.userAgent.match(/android/i)}),Modernizr.addTest("iemobile",function(){"use strict";return!!navigator.userAgent.match(/iemobile/i)}),Modernizr.addTest("ieunsupported",function(){"use strict";return navigator.userAgent.search(/MSIE ([2-9]|10)\./i)>=0}),Modernizr.addTest("ie",function(){"use strict";return navigator.userAgent.search(/\s+(MSIE|rv:11|Edge\/\d+\.)/)>=0}),Modernizr.addTest("edge",function(){"use strict";return navigator.userAgent.search(/\s+(Edge\/\d+\.)/)>=0}),function(e){var t=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(t)&&t.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",function(){var t,n=document.createElement("source"),i=function(e){var t,i,r=e.parentNode;"PICTURE"===r.nodeName.toUpperCase()?(t=n.cloneNode(),r.insertBefore(t,r.firstElementChild),setTimeout(function(){r.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,i=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=i}))},r=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)i(t[e])},o=function(){clearTimeout(t),t=setTimeout(r,99)},a=e.matchMedia&&matchMedia("(orientation: landscape)"),s=function(){o(),a&&a.addListener&&a.addListener(o)};return n.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?s():document.addEventListener("DOMContentLoaded",s),o}())}(window),function(e,t,n){"use strict";function i(e){return" "===e||"	"===e||"\n"===e||"\f"===e||"\r"===e}function r(t,n){var i=new e.Image;return i.onerror=function(){T[t]=!1,te()},i.onload=function(){T[t]=1===i.width,te()},i.src=n,"pending"}function o(){z=!1,Q=e.devicePixelRatio,M={},P={},y.DPR=Q||1,q.width=Math.max(e.innerWidth||0,x.clientWidth),q.height=Math.max(e.innerHeight||0,x.clientHeight),q.vw=q.width/100,q.vh=q.height/100,v=[q.height,q.width,Q].join("-"),q.em=y.getEmValue(),q.rem=q.em}function a(e,t,n,i){var r,o,a,s;return"saveData"===N.algorithm?e>2.7?s=n+1:(o=t-n,r=Math.pow(e-.6,1.5),a=o*r,i&&(a+=.1*r),s=e+a):s=n>1?Math.sqrt(e*t):e,s>n}function s(e){var t,n=y.getSet(e),i=!1;"pending"!==n&&(i=v,n&&(t=y.setRes(n),y.applySetCandidate(t,e))),e[y.ns].evaled=i}function l(e,t){return e.res-t.res}function u(e,t,n){var i;return!n&&t&&(n=e[y.ns].sets,n=n&&n[n.length-1]),i=c(t,n),i&&(t=y.makeUrl(t),e[y.ns].curSrc=t,e[y.ns].curCan=i,i.res||ee(i,i.set.sizes)),i}function c(e,t){var n,i,r;if(e&&t)for(r=y.parseSet(t),e=y.makeUrl(e),n=0;n<r.length;n++)if(e===y.makeUrl(r[n].url)){i=r[n];break}return i}function d(e,t){var n,i,r,o,a=e.getElementsByTagName("source");for(n=0,i=a.length;i>n;n++)r=a[n],r[y.ns]=!0,o=r.getAttribute("srcset"),o&&t.push({srcset:o,media:r.getAttribute("media"),type:r.getAttribute("type"),sizes:r.getAttribute("sizes")})}function f(e,t){function n(t){var n,i=t.exec(e.substring(f));return i?(n=i[0],f+=n.length,n):void 0}function r(){var e,n,i,r,o,l,u,c,d,f=!1,h={};for(r=0;r<s.length;r++)o=s[r],l=o[o.length-1],u=o.substring(0,o.length-1),c=parseInt(u,10),d=parseFloat(u),J.test(u)&&"w"===l?((e||n)&&(f=!0),0===c?f=!0:e=c):G.test(u)&&"x"===l?((e||n||i)&&(f=!0),0>d?f=!0:n=d):J.test(u)&&"h"===l?((i||n)&&(f=!0),0===c?f=!0:i=c):f=!0;f||(h.url=a,e&&(h.w=e),n&&(h.d=n),i&&(h.h=i),i||n||e||(h.d=1),1===h.d&&(t.has1x=!0),h.set=t,p.push(h))}function o(){for(n(W),l="",u="in descriptor";;){if(c=e.charAt(f),"in descriptor"===u)if(i(c))l&&(s.push(l),l="",u="after descriptor");else{if(","===c)return f+=1,l&&s.push(l),void r();if("("===c)l+=c,u="in parens";else{if(""===c)return l&&s.push(l),void r();l+=c}}else if("in parens"===u)if(")"===c)l+=c,u="in descriptor";else{if(""===c)return s.push(l),void r();l+=c}else if("after descriptor"===u)if(i(c));else{if(""===c)return void r();u="in descriptor",f-=1}f+=1}}for(var a,s,l,u,c,d=e.length,f=0,p=[];;){if(n(H),f>=d)return p;a=n(V),s=[],","===a.slice(-1)?(a=a.replace(K,""),r()):o()}}function p(e){function t(e){function t(){o&&(a.push(o),o="")}function n(){a[0]&&(s.push(a),a=[])}for(var r,o="",a=[],s=[],l=0,u=0,c=!1;;){if(r=e.charAt(u),""===r)return t(),n(),s;if(c){if("*"===r&&"/"===e[u+1]){c=!1,u+=2,t();continue}u+=1}else{if(i(r)){if(e.charAt(u-1)&&i(e.charAt(u-1))||!o){u+=1;continue}if(0===l){t(),u+=1;continue}r=" "}else if("("===r)l+=1;else if(")"===r)l-=1;else{if(","===r){t(),n(),u+=1;continue}if("/"===r&&"*"===e.charAt(u+1)){c=!0,u+=2;continue}}o+=r,u+=1}}}function n(e){return c.test(e)&&parseFloat(e)>=0?!0:d.test(e)?!0:"0"===e||"-0"===e||"+0"===e}var r,o,a,s,l,u,c=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,d=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(o=t(e),a=o.length,r=0;a>r;r++)if(s=o[r],l=s[s.length-1],n(l)){if(u=l,s.pop(),0===s.length)return u;if(s=s.join(" "),y.matchesMedia(s))return u}return"100vw"}t.createElement("picture");var h,g,m,v,y={},_=!1,w=function(){},b=t.createElement("img"),C=b.getAttribute,S=b.setAttribute,A=b.removeAttribute,x=t.documentElement,T={},N={algorithm:""},k="data-pfsrc",E=k+"set",j=navigator.userAgent,I=/rident/.test(j)||/ecko/.test(j)&&j.match(/rv\:(\d+)/)&&RegExp.$1>35,F="currentSrc",O=/\s+\+?\d+(e\d+)?w/,R=/(\([^)]+\))?\s*(.+)/,D=e.picturefillCFG,L="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",U="font-size:100%!important;",z=!0,M={},P={},Q=e.devicePixelRatio,q={px:1,"in":96},B=t.createElement("a"),$=!1,W=/^[ \t\n\r\u000c]+/,H=/^[, \t\n\r\u000c]+/,V=/^[^ \t\n\r\u000c]+/,K=/[,]+$/,J=/^\d+$/,G=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,X=function(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Y=function(e){var t={};return function(n){return n in t||(t[n]=e(n)),t[n]}},Z=function(){var e=/^([\d\.]+)(em|vw|px)$/,t=function(){for(var e=arguments,t=0,n=e[0];++t in e;)n=n.replace(e[t],e[++t]);return n},n=Y(function(e){return"return "+t((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"});return function(t,i){var r;if(!(t in M))if(M[t]=!1,i&&(r=t.match(e)))M[t]=r[1]*q[r[2]];else try{M[t]=new Function("e",n(t))(q)}catch(o){}return M[t]}}(),ee=function(e,t){return e.w?(e.cWidth=y.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},te=function(e){if(_){var n,i,r,o=e||{};if(o.elements&&1===o.elements.nodeType&&("IMG"===o.elements.nodeName.toUpperCase()?o.elements=[o.elements]:(o.context=o.elements,o.elements=null)),n=o.elements||y.qsa(o.context||t,o.reevaluate||o.reselect?y.sel:y.selShort),r=n.length){for(y.setupRun(o),$=!0,i=0;r>i;i++)y.fillImg(n[i],o);y.teardownRun(o)}}};h=e.console&&console.warn?function(e){console.warn(e)}:w,F in b||(F="src"),T["image/jpeg"]=!0,T["image/gif"]=!0,T["image/png"]=!0,T["image/svg+xml"]=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),y.ns=("pf"+(new Date).getTime()).substr(0,9),y.supSrcset="srcset"in b,y.supSizes="sizes"in b,y.supPicture=!!e.HTMLPictureElement,y.supSrcset&&y.supPicture&&!y.supSizes&&!function(e){b.srcset="data:,a",e.src="data:,a",y.supSrcset=b.complete===e.complete,y.supPicture=y.supSrcset&&y.supPicture}(t.createElement("img")),y.supSrcset&&!y.supSizes?!function(){var e="data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==",n="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",i=t.createElement("img"),r=function(){var e=i.width;2===e&&(y.supSizes=!0),m=y.supSrcset&&!y.supSizes,_=!0,setTimeout(te)};i.onload=r,i.onerror=r,i.setAttribute("sizes","9px"),i.srcset=n+" 1w,"+e+" 9w",i.src=n}():_=!0,y.selShort="picture>img,img[srcset]",y.sel=y.selShort,y.cfg=N,y.DPR=Q||1,y.u=q,y.types=T,y.setSize=w,y.makeUrl=Y(function(e){return B.href=e,B.href}),y.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},y.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?y.matchesMedia=function(e){return!e||matchMedia(e).matches}:y.matchesMedia=y.mMQ,y.matchesMedia.apply(this,arguments)},y.mMQ=function(e){return e?Z(e):!0},y.calcLength=function(e){var t=Z(e,!0)||!1;return 0>t&&(t=!1),t},y.supportsType=function(e){return e?T[e]:!0},y.parseSize=Y(function(e){var t=(e||"").match(R);return{media:t&&t[1],length:t&&t[2]}}),y.parseSet=function(e){return e.cands||(e.cands=f(e.srcset,e)),e.cands},y.getEmValue=function(){var e;if(!g&&(e=t.body)){var n=t.createElement("div"),i=x.style.cssText,r=e.style.cssText;n.style.cssText=L,x.style.cssText=U,e.style.cssText=U,e.appendChild(n),g=n.offsetWidth,e.removeChild(n),g=parseFloat(g,10),x.style.cssText=i,e.style.cssText=r}return g||16},y.calcListLength=function(e){if(!(e in P)||N.uT){var t=y.calcLength(p(e));P[e]=t?t:q.width}return P[e]},y.setRes=function(e){var t;if(e){t=y.parseSet(e);for(var n=0,i=t.length;i>n;n++)ee(t[n],e.sizes)}return t},y.setRes.res=ee,y.applySetCandidate=function(e,t){if(e.length){var n,i,r,o,s,c,d,f,p,h=t[y.ns],g=y.DPR;if(c=h.curSrc||t[F],d=h.curCan||u(t,c,e[0].set),d&&d.set===e[0].set&&(p=I&&!t.complete&&d.res-.1>g,p||(d.cached=!0,d.res>=g&&(s=d))),!s)for(e.sort(l),o=e.length,s=e[o-1],i=0;o>i;i++)if(n=e[i],n.res>=g){r=i-1,s=e[r]&&(p||c!==y.makeUrl(n.url))&&a(e[r].res,n.res,g,e[r].cached)?e[r]:n;break}s&&(f=y.makeUrl(s.url),h.curSrc=f,h.curCan=s,f!==c&&y.setSrc(t,s),y.setSize(t))}},y.setSrc=function(e,t){var n;e.src=t.url,"image/svg+xml"===t.set.type&&(n=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=n))},y.getSet=function(e){var t,n,i,r=!1,o=e[y.ns].sets;for(t=0;t<o.length&&!r;t++)if(n=o[t],n.srcset&&y.matchesMedia(n.media)&&(i=y.supportsType(n.type))){"pending"===i&&(n=i),r=n;break}return r},y.parseSets=function(e,t,i){var r,o,a,s,l=t&&"PICTURE"===t.nodeName.toUpperCase(),u=e[y.ns];(u.src===n||i.src)&&(u.src=C.call(e,"src"),u.src?S.call(e,k,u.src):A.call(e,k)),(u.srcset===n||i.srcset||!y.supSrcset||e.srcset)&&(r=C.call(e,"srcset"),u.srcset=r,s=!0),u.sets=[],l&&(u.pic=!0,d(t,u.sets)),u.srcset?(o={srcset:u.srcset,sizes:C.call(e,"sizes")},u.sets.push(o),a=(m||u.src)&&O.test(u.srcset||""),a||!u.src||c(u.src,o)||o.has1x||(o.srcset+=", "+u.src,o.cands.push({url:u.src,d:1,set:o}))):u.src&&u.sets.push({srcset:u.src,sizes:null}),u.curCan=null,u.curSrc=n,u.supported=!(l||o&&!y.supSrcset||a&&!y.supSizes),s&&y.supSrcset&&!u.supported&&(r?(S.call(e,E,r),e.srcset=""):A.call(e,E)),u.supported&&!u.srcset&&(!u.src&&e.src||e.src!==y.makeUrl(u.src))&&(null===u.src?e.removeAttribute("src"):e.src=u.src),u.parsed=!0},y.fillImg=function(e,t){var n,i=t.reselect||t.reevaluate;e[y.ns]||(e[y.ns]={}),n=e[y.ns],(i||n.evaled!==v)&&(n.parsed&&!t.reevaluate||y.parseSets(e,e.parentNode,t),n.supported?n.evaled=v:s(e))},y.setupRun=function(){$&&!z&&Q===e.devicePixelRatio||o()},y.supPicture?(te=w,y.fillImg=w):!function(){var n,i=e.attachEvent?/d$|^c/:/d$|^c|^i/,r=function(){var e=t.readyState||"";o=setTimeout(r,"loading"===e?200:999),t.body&&(y.fillImgs(),n=n||i.test(e),n&&clearTimeout(o))},o=setTimeout(r,t.body?9:99),a=function(e,t){var n,i,r=function(){var o=new Date-i;t>o?n=setTimeout(r,t-o):(n=null,e())};return function(){i=new Date,n||(n=setTimeout(r,t))}},s=x.clientHeight,l=function(){z=Math.max(e.innerWidth||0,x.clientWidth)!==q.width||x.clientHeight!==s,s=x.clientHeight,z&&y.fillImgs()};X(e,"resize",a(l,99)),X(t,"readystatechange",r)}(),y.picturefill=te,y.fillImgs=te,y.teardownRun=w,te._=y,e.picturefillCFG={pf:y,push:function(e){var t=e.shift();"function"==typeof y[t]?y[t].apply(y,e):(N[t]=e[0],$&&y.fillImgs({reselect:!0}))}};for(;D&&D.length;)e.picturefillCFG.push(D.shift());e.picturefill=te,"object"==typeof module&&"object"==typeof module.exports?module.exports=te:"function"==typeof define&&define.amd&&define("picturefill",function(){return te}),y.supPicture||(T["image/webp"]=r("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document),Date.now||(Date.now=function(){"use strict";return(new Date).getTime()}),function(e){"use strict";var t,n=function(){},i=[];e.console=e.console||{},t=e.console,t.log||(t.log=n),t.debug||(t.debug=t.log),t.error||(t.error=t.log),t.info||(t.info=t.log),t.warn||(t.warn=t.log),t.trace||(t.trace=n),t.group||(t.group=function(e){"string"!=typeof e&&(e=Number(i.length+1).toString()),i.push(e),t.log("---- START GROUP: "+e)},t.groupCollapsed=t.group,t.groupEnd=function(){t.log("---- END GROUP: "+(i.length>0?i.pop():"???"))})}(window),function(e){"use strict";var t,n,i,r,o,a,s,l,u,c=[],d=[],f=null,p=function(){},h=function(){},g=[],m=!1,v=!1;if("undefined"==typeof e.performance&&(e.performance={}),e._perfRefForUserTimingPolyfill=e.performance,e.performance.userTimingJsNow=!1,e.performance.userTimingJsNowPrefixed=!1,e.performance.userTimingJsUserTiming=!1,e.performance.userTimingJsUserTimingPrefixed=!1,e.performance.userTimingJsPerformanceTimeline=!1,e.performance.userTimingJsPerformanceTimelinePrefixed=!1,"function"!=typeof e.performance.now){for(e.performance.userTimingJsNow=!0,d=["webkitNow","msNow","mozNow"],s=0;s<d.length;s++)if("function"==typeof e.performance[d[s]]){e.performance.now=e.performance[d[s]],e.performance.userTimingJsNowPrefixed=!0;break}t=+new Date,e.performance.timing&&e.performance.timing.navigationStart?t=e.performance.timing.navigationStart:"undefined"!=typeof process&&"function"==typeof process.hrtime&&(t=process.hrtime(),e.performance.now=function(){var e=process.hrtime(t);return 1e3*e[0]+1e-6*e[1]}),"function"!=typeof e.performance.now&&(Date.now?e.performance.now=function(){return Date.now()-t}:e.performance.now=function(){return+new Date-t})}if(u=e.performance.now(),"function"!=typeof e.performance.getEntries||"function"!=typeof e.performance.mark){for("function"==typeof e.performance.getEntries&&"function"!=typeof e.performance.mark&&(v=!0),e.performance.userTimingJsPerformanceTimeline=!0,c=["webkit","moz"],d=["getEntries","getEntriesByName","getEntriesByType"],s=0;s<d.length;s++)for(l=0;l<c.length;l++)f=c[l]+d[s].substr(0,1).toUpperCase()+d[s].substr(1),"function"==typeof e.performance[f]&&(e.performance[d[s]]=e.performance[f],e.performance.userTimingJsPerformanceTimelinePrefixed=!0);p=function(e){g.push(e),"measure"===e.entryType&&(m=!0)},o=function(){m&&(g.sort(function(e,t){return e.startTime-t.startTime}),m=!1)},h=function(e,t){for(s=0;s<g.length;)g[s].entryType!==e?s++:"undefined"!=typeof t&&g[s].name!==t?s++:g.splice(s,1)},("function"!=typeof e.performance.getEntries||v)&&(n=e.performance.getEntries,e.performance.getEntries=function(){var t;return o(),t=g.slice(0),v&&n&&(Array.prototype.push.apply(t,n.call(e.performance)),t.sort(function(e,t){return e.startTime-t.startTime})),t}),("function"!=typeof e.performance.getEntriesByType||v)&&(r=e.performance.getEntriesByType,e.performance.getEntriesByType=function(t){var n;if("undefined"==typeof t||"mark"!==t&&"measure"!==t)return v&&r?r.call(e.performance,t):[];for("measure"===t&&o(),n=[],s=0;s<g.length;s++)g[s].entryType===t&&n.push(g[s]);return n}),("function"!=typeof e.performance.getEntriesByName||v)&&(i=e.performance.getEntriesByName,e.performance.getEntriesByName=function(t,n){var r;if(n&&"mark"!==n&&"measure"!==n)return v&&i?i.call(e.performance,t,n):[];for("undefined"!=typeof n&&"measure"===n&&o(),r=[],s=0;s<g.length;s++)"undefined"!=typeof n&&g[s].entryType!==n||g[s].name===t&&r.push(g[s]);return v&&i&&(Array.prototype.push.apply(r,i.call(e.performance,t,n)),r.sort(function(e,t){return e.startTime-t.startTime})),r})}if("function"!=typeof e.performance.mark){for(e.performance.userTimingJsUserTiming=!0,c=["webkit","moz","ms"],d=["mark","measure","clearMarks","clearMeasures"],s=0;s<d.length;s++)for(l=0;l<c.length;l++)f=c[l]+d[s].substr(0,1).toUpperCase()+d[s].substr(1),"function"==typeof e.performance[f]&&(e.performance[d[s]]=e.performance[f],e.performance.userTimingJsUserTimingPrefixed=!0);a={},e.performance.timing&&e.performance.timing.responseEnd||(a.responseEnd=[u]),"function"!=typeof e.performance.mark&&(e.performance.mark=function(t){var n=e.performance.now();if("undefined"==typeof t)throw new SyntaxError("Mark name must be specified");if(e.performance.timing&&t in e.performance.timing)throw new SyntaxError("Mark name is not allowed");a[t]||(a[t]=[]),a[t].push(n),p({entryType:"mark",name:t,startTime:n,duration:0})}),"function"!=typeof e.performance.clearMarks&&(e.performance.clearMarks=function(e){e?a[e]=[]:a={},h("mark",e)}),"function"!=typeof e.performance.measure&&(e.performance.measure=function(t,n,i){var r,o=e.performance.now(),s=0;if("undefined"==typeof t)throw new SyntaxError("Measure must be specified");if(!n)return void p({entryType:"measure",name:t,startTime:0,duration:o});if(e.performance.timing&&n in e.performance.timing){if("navigationStart"!==n&&0===e.performance.timing[n])throw new Error(n+" has a timing of 0");s=e.performance.timing[n]-e.performance.timing.navigationStart}else{if(!(n in a))throw new Error(n+" mark not found");s=a[n][a[n].length-1]}if(r=o,i)if(r=0,e.performance.timing&&i in e.performance.timing){if("navigationStart"!==i&&0===e.performance.timing[i])throw new Error(i+" has a timing of 0");r=e.performance.timing[i]-e.performance.timing.navigationStart}else{if(!(i in a))throw new Error(i+" mark not found");r=a[i][a[i].length-1]}p({entryType:"measure",name:t,startTime:s,duration:r-s})}),"function"!=typeof e.performance.clearMeasures&&(e.performance.clearMeasures=function(e){h("measure",e)})}}(window),Array.prototype.find||(Array.prototype.find=function(e){"use strict";var t,n,i,r,o;if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(n=Object(this),i=n.length>>>0,r=arguments[1],t=0;i>t;t++)if(o=n[t],e.call(r,o,t,n))return o}),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?!function(){"use strict";var e,t,n=document.createElement("_");n.classList.add("c1","c2"),n.classList.contains("c2")||(t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,i=arguments.length;for(n=0;i>n;n++)e=arguments[n],t.call(this,e)}},t("add"),t("remove")),n.classList.toggle("c3",!1),n.classList.contains("c3")&&(e=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(t,n){return 1 in arguments&&!this.contains(t)==!n?n:e.call(this,t)}),n=null}():!function(e){"use strict";if("Element"in e){var t,n="classList",i="prototype",r=e.Element[i],o=Object,a=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[i].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},l=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},u=function(e,t){if(""===t)throw new l("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new l("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(e,t)},c=function(e){for(var t=a.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,r=n.length;r>i;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},d=c[i]=[],f=function(){return new c(this)};if(l[i]=Error[i],d.item=function(e){return this[e]||null},d.contains=function(e){return e+="",-1!==u(this,e)},d.add=function(){var e,t=arguments,n=0,i=t.length,r=!1;do e=t[n]+"",-1===u(this,e)&&(this.push(e),r=!0);while(++n<i);r&&this._updateClassName()},d.remove=function(){var e,t,n=arguments,i=0,r=n.length,o=!1;do for(e=n[i]+"",t=u(this,e);-1!==t;)this.splice(t,1),o=!0,t=u(this,e);while(++i<r);o&&this._updateClassName()},d.toggle=function(e,t){e+="";var n=this.contains(e),i=n?t!==!0&&"remove":t!==!1&&"add";return i&&this[i](e),t===!0||t===!1?t:!n},d.toString=function(){return this.join(" ")},o.defineProperty){t={get:f,enumerable:!0,configurable:!0};try{o.defineProperty(r,n,t)}catch(p){-2146823252===p.number&&(t.enumerable=!1,o.defineProperty(r,n,t))}}else o[i].__defineGetter__&&r.__defineGetter__(n,f)}}(self)),function(){"use strict";var e=null;window.CNN=window.CNN||{},window.CNN.eventListenerWithOptions=window.CNN.passiveEventListeners||{browserSupportsCaptureOption:!1,addListener:function(e,t,n,i){var r=i;window.CNN.eventListenerWithOptions.browserSupportsCaptureOption||(r=i.capture||!1),e.addEventListener(t,n,r)}};try{e=Object.defineProperty({},"capture",{get:function(){window.CNN.eventListenerWithOptions.browserSupportsCaptureOption=!0}}),window.addEventListener("test",null,e)}catch(t){}}();var CNN=window.CNN||{};if(CNN.Utils=CNN.Utils||function(e,t,n,i){"use strict";function r(e){var t=null;return"string"==typeof e&&Date.parse(e)?t=e:"number"==typeof e&&(t=new Date(Date.now()+e*A).toGMTString()),t}function o(e){var t,n=!0,r=function(e){return e!==i&&null!==e};for(t=0;t<arguments.length;t++)if(!r(arguments[t])){n=!1;break}return n}function a(e){var t,n=!0,i=function(e){return"object"==typeof e&&null!==e};for(t=0;t<arguments.length;t++)if(!i(arguments[t])){n=!1;break}return n}function s(e){var t,n=!0,i=function(e){return"string"==typeof e&&e.length>0};for(t=0;t<arguments.length;t++)if(!i(arguments[t])){n=!1;break}return n}function l(){var e,t,i={},r=0;if(n.cookie)for(e=n.cookie.split("; ");r<e.length;r++)t=e[r].split("="),i[t[0]]=decodeURIComponent(t[1])||null;return i}function u(e){return null!==c(e)}function c(e){var t=new RegExp("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)"),i=n.cookie.match(t);return i?i.pop():null}function d(e,t,i,a,s,l){var u="";o(e)&&o(t)&&(i=r(i),a=o(a)?a:"/",s=o(s)?s:"",l=o(l)?l:!1,u+=e+"="+encodeURIComponent(t),o(i)&&(u+=";expires="+i),a&&(u+=";path="+a),s&&(u+=";domain="+s),l&&(u+="; secure"),n.cookie=u)}function f(e,t,n,i){d(e,t,n,"/",".cnn.com",i)}function p(e,t,i){var r="";o(e)&&(t=o(t)?t:"/",i=o(i)?i:"",r+=e+"=;expires="+x,t&&(r+=";path="+t),i&&(r+=";domain="+i),n.cookie=r)}function h(e){p(e,"/",".cnn.com")}function g(e,n,i){var r;if("string"==typeof e&&e.length>0&&"string"==typeof n)if(S===!1)d(e,n,"session"===i?null:i,"/",".cnn.com",!1);else try{"session"===i?t.sessionStorage.setItem(e,n):(t.localStorage.setItem(e,n),"number"==typeof i?(r=new Date(Date.now()+i*A),t.localStorage.setItem(e+"__expires",r.getTime().toString(10))):"string"==typeof i&&"session"!==i&&(r=new Date(i),r.getTime()>Date.now()&&t.localStorage.setItem(e+"__expires",r.getTime().toString(10))))}catch(o){}}function m(e){if("string"==typeof e&&e.length>0){if(S===!1)return u(e);try{if(o(t.sessionStorage.getItem(e))||o(t.localStorage.getItem(e+"__expires")))return!0}catch(n){}}return!1}function v(e){if("string"==typeof e&&e.length>0)if(S===!1)p(e);else{try{t.localStorage.removeItem(e),t.localStorage.removeItem(e+"__expires")}catch(n){}try{t.sessionStorage.removeItem(e)}catch(n){}}}function y(e){var n,i=null;if("string"==typeof e&&e.length>0)try{S===!1?c(e):null!==(n=t.localStorage.getItem(e+"__expires"))?parseInt(n,10)>Date.now()?i=t.localStorage.getItem(e):v(e):(i=t.sessionStorage.getItem(e),o(i)||(i=t.localStorage.getItem(e)))}catch(r){}return i}function _(e){var n,i,r,o,a,s,l=e;if("function"==typeof t.btoa)try{n=t.btoa(l)}catch(u){n=t.btoa(e.replace(/[^\w\s\!\@\#\$\%\^\&\*\(\)\-\=\+\.\,\\\;\:\'\"\?]/,"-"))}else{if(i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),r="",o="",a=l.length%3,a>0)for(;3>a;a++)o+="=",l+="\x00";for(a=0;a<l.length;a+=3)a>0&&a/3*4%76===0&&(r+="\r\n"),s=(l.charCodeAt(a)<<16)+(l.charCodeAt(a+1)<<8)+l.charCodeAt(a+2),s=[s>>>18&63,s>>>12&63,s>>>6&63,63&s],r+=i[s[0]]+i[s[1]]+i[s[2]]+i[s[3]];n=r.substring(0,r.length-o.length)+o}return n}function w(e){var n,i,r,o,a,s,l,u,c=e;if("function"==typeof t.atob)try{n=t.atob(c)}catch(d){console.log(d.message,"\nString to decode: "+c)}else{for(i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),r={},u=0;u<i.length;u++)r[i[u]]=u;for(c=c.replace(new RegExp("[^"+i.join("")+"=]","g"),""),a="="===c.charAt(c.length-1)?"="===c.charAt(c.length-2)?"AA":"A":"",o="",c=c.substr(0,c.length-a.length)+a,s=0;s<c.length;s+=4)l=(r[c.charAt(s)]<<18)+(r[c.charAt(s+1)]<<12)+(r[c.charAt(s+2)]<<6)+r[c.charAt(s+3)],o+=String.fromCharCode(l>>>16&255,l>>>8&255,255&l);n=o.substring(0,o.length-a.length)}return n}function b(e){return e.replace("#","")}function C(){return t.Modernizr.phone}var S,A=36e5,x="Thu, 01 Jan 1970 00:00:00 UTC";return S=function(){var e="__test_it";try{return t.localStorage.setItem(e,e),t.localStorage.removeItem(e),t.sessionStorage.setItem(e,e),t.sessionStorage.removeItem(e),!0}catch(n){return!1}}(),{exists:o,existsObject:a,existsString:s,getCookies:l,getCookie:c,cookieExists:u,setCookie:d,deleteCookie:p,setCNNCookie:f,deleteCNNCookie:h,storeLocalValue:g,hasLocalValue:m,deleteLocalValue:v,getLocalValue:y,b64Encode:_,b64Decode:w,stripHash:b,isPhone:C}}(jQuery,window,document),CNN.Features=CNN.Features||{},CNN.VideoConfig=CNN.VideoConfig||{},CNN.VideoConfig.liveStream=CNN.VideoConfig.liveStream||{},CNN.GeoCheck=function(e,t){"use strict";function n(){return o}function i(e){var t,n,i,r,a,s=!0;if(null!==o&&Array.isArray(e)===!0&&e.length>0)for(i=o.country+":"+o.region,r=i+":"+o.city.toLowerCase(),t=0;t<e.length;t++)a=e[t],"-"===a.charAt(0)?(a=a.slice(1),n=!1):n=!0,"*"===a?s=n:"#"===a.charAt(0)?o.continent===a.slice(1)&&(s=n):(2===a.length&&o.country===a||5===a.length&&i===a||a.length>6&&r===a)&&(s=n);return s}function r(){return CNN._geoCheckReadyEvent}var o=null;return CNN._geoCheckReadyEvent=!1,e.fn.extend({onGeoCheckReady:function(n){"function"==typeof n&&(CNN._geoCheckReadyEvent===!0?n(e):e(t).on("geoCheckReady",{handler:n},function(t){t=t||{},"object"==typeof t.data&&null!==t.data&&"function"==typeof t.data.handler&&t.data.handler(e)}))},triggerGeoCheckReady:function(){CNN._geoCheckReadyEvent=!0,e(t).trigger("geoCheckReady")}}),function(){var n,i;i=CNN.Utils.getCookie("geoData"),null!==i&&(n=i.split("|"),n.length>4&&(o={city:n[0],region:n[1],postCode:n[2],country:n[3],continent:n[4]})),e(t).triggerGeoCheckReady()}(),{getData:n,inTarget:i,isReady:r}}(jQuery,document),CNN=window.CNN||{},CNN.AdsConfig=CNN.AdsConfig||{},CNN.AdsConfig.aisOverride)!function(e,t){"use strict";var n=e.createElement("script"),i=e.getElementsByTagName("script")[0];n.type="text/javascript",n.src=("https:"===e.location.protocol?"https:":"http:")+t.AdsConfig.aisOverride,i.parentNode.insertBefore(n,i)}(document,window.CNN);else{if(CNN.AdsConfig.amazon=CNN.AdsConfig.amazon||{},CNN.Features=CNN.Features||{},window.AmazonDirectMatchBuy=function(){function e(e,t){return null!=e&&m.call(e,t)}function t(e){return"[object Function]"===y.call(e)}function n(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function i(e){return function(){e&&(e.apply(this,arguments),e=null)}}function r(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}function o(){return!!window.amznads}function a(e){if(_("removing PageLevelTarget: amznslots"),window.AdFuel.removePageLevelTarget("amznslots"),!o())return e?e():!0;var t=i(function(){var t=window.amznads.getTargeting();return _("setting amazon targeting",t),window.AdFuel.setBulkTargeting(t),window.AdFuel.removePageLevelTarget("azn_to","1"),window.AdFuel.addPageLevelTarget("azn_to","0"),e?e():!0});try{window.amznads.getAdsCallback(w,t,b)}catch(n){_("Exception thrown while requesting Amazon ads:",n),window.AdFuel.removePageLevelTarget("azn_to","1"),window.AdFuel.addPageLevelTarget("azn_to","0"),t()}}function s(){var e={};return o()&&(e=window.amznads.getTargeting(),n(e)||(e={})),e}function l(e){var t=e.getId();if(S.has(t)){var n=S.getKeys(t);if(n.length){_("clearing previous ad key-values: "+n.join(", "));for(var i=0,r=n.length;r>i;++i)e.setAdKeyValue(n[i],null);S.clearKeys(t)}}}function u(e,t,n){_("setting ad key-value: "+t+' = "'+n+'"'),S.addKey(e.getId(),t),e.setAdKeyValue(t,n)}function c(t){var n=s();l(t);for(var i in n)if(e(n,i)){var r=n[i];if(r instanceof Array)for(var o=0,a=r.length;a>o;++o)u(t,r[o],"1");else u(t,i,r)}}function d(e){e.getPlayerType()===CVP.FLASH&&(_("setAdKeyValuePairs(player)"),c(e))}function f(e){function t(){window.AdFuel.registerModule("amazon",{preDispatchCallback:function(e,t){try{_("preDispatch"),a(t)}catch(n){_("error setting targeting prior to dispatch",n),t(n)}},preRefreshCallback:function(e,t){try{_("preRefresh"),a(t)}catch(n){_("error refreshing targeting prior to refresh",n),t(n)}}}),window.AdFuel.addPageLevelTarget("azn_to","1")}_("initializing",e),e&&(w=e.amznkey||w,b=e.timeout||b),C||(C=!0,window.AdFuel?t():document.addEventListener?document.addEventListener("AdFuelCreated",t,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",t))}function p(e){return function(){return C?void e.apply(this,arguments):void _("ERROR: init() must be called first!")}}var h=Array.prototype,g=Object.prototype,m=g.hasOwnProperty,v=h.slice,y=g.toString,_=function(){};n(window.console)&&t(window.console.log)&&"true"==r("debug")&&(_=function(){var e=["[AdFuelModule - Amazon]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)});var w=window.location.hostname.toLowerCase().match(/^edition\.cnn\.com/)?"3288":"3159",b=1e3,C=!1,S=function(){function e(e){return e in r}function t(t,n){e(t)||(r[t]=[]),r[t].push(n)}function n(t){return e(t)?v.call(r[t]):[]}function i(t){return e(t)?(r[t].length=0,!0):!1}var r={};return{has:e,clearKeys:i,getKeys:n,addKey:t}}();return{requestAdRefresh:p(a),getTargetingData:p(s),setAdKeyValuePairs:p(d),isAmazonApiAvailable:o,init:f}}(),CNN.Features.enableAmazonDisplayAds===!0&&!function(e){var t=document,n=t.createElement("script"),i=t.getElementsByTagName("script")[0],r=/^(complete|loaded)$/,o=!1;n.type="text/javascript",n.async=!0,n.src=("https:"===document.location.protocol?"https:":"http:")+(CNN.AdsConfig.amazonOverride||"//c.amazon-adsystem.com/aax2/amzn_ads.js"),
n.onload=n.onreadystatechange=function(){o||"readyState"in n&&r.test(n.readyState)||(n.onload=n.onreadystatechange=null,o=!0,e())},window.AmazonDirectMatchBuy?e():i.parentNode.insertBefore(n,i)}(function(){CNN.AdsConfig.amazon.amznkey?window.AmazonDirectMatchBuy.init(CNN.AdsConfig.amazon):window.AmazonDirectMatchBuy.init()}),function(){function e(e){return"[object Function]"===s.call(e)}function t(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function n(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}function i(e){function t(e){var t,n,i,r=document.cookie.split(";");for(t=0;t<r.length;t++)if(n=r[t].substr(0,r[t].indexOf("=")),i=r[t].substr(r[t].indexOf("=")+1),n=n.replace(/^\s+|\s+$/g,""),n==e)return decodeURIComponent(i);return""}function n(){var n={},r=t(i);if(window.crtg_content=r,r)for(var a=r.split(";"),s=0;s<a.length-1;s++){var l=a[s].split("="),c=l[0],d=l[1];n[c]=d,o.key||window.AdFuel.addPageLevelTarget(c,d)}for(var f in o)o.hasOwnProperty(f)&&!n[f]&&window.AdFuel.removePageLevelTarget(f);u("set criteo targeting",n),o=n,e&&(window.AdFuel.removePageLevelTarget("crt_to","1"),window.AdFuel.addPageLevelTarget("crt_to","0"),e())}var i="crtg_trnr",r="crtg_content",a="4157",s=Math.floor(99999999999*Math.random());l?n():(l=!0,function(e){var t=location.protocol+"//rtax.criteo.com/delivery/rta/rta.js?netId="+encodeURIComponent(a);t+="&cookieName="+encodeURIComponent(i),t+="&rnd="+s,t+="&varName="+encodeURIComponent(r);var n=document,o=n.createElement("script"),l=n.getElementsByTagName("script")[0],u=/^(complete|loaded)$/,c=!1;o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){c||"readyState"in o&&u.test(o.readyState)||(o.onload=o.onreadystatechange=null,c=!0,e())},l.parentNode.insertBefore(o,l)}(n))}function r(){function e(){window.AdFuel.registerModule("criteo",{preDispatchCallback:function(e,t){try{u("preDispatch"),i(t)}catch(n){u("error setting targeting prior to dispatch",n),t(n)}},preRefreshCallback:function(e,t){try{u("preRefresh"),i(t)}catch(n){u("error setting targeting prior to refresh",n),t(n)}}}),window.AdFuel.addPageLevelTarget("crt_to","1")}window.AdFuel?e():document.addEventListener?document.addEventListener("AdFuelCreated",e,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",e)}var o={};window.crtg_content="";var a=Object.prototype,s=a.toString,l=!1,u=function(){};t(window.console)&&e(window.console.log)&&"true"==n("debug")&&(u=function(){var e=["[AdFuelModule - Criteo]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),CNN.Features.enableCriteoAds===!0&&r()}(),function(){function e(e){return"[object Function]"===h.call(e)}function t(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function n(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}function i(){return"undefined"!=typeof window.innerWidth?(viewPortWidth=window.innerWidth,viewPortHeight=window.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(viewPortWidth=document.documentElement.clientWidth,viewPortHeight=document.documentElement.clientHeight):(viewPortWidth=document.getElementsByTagName("body")[0].clientWidth,viewPortHeight=document.getElementsByTagName("body")[0].clientHeight),[viewPortWidth,viewPortHeight]}function r(e){if(document.cookie){for(var t=document.cookie.split(";"),n=e+"=",i=0;i<t.length;i++){for(var r=t[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(n))return r.substring(n.length,r.length)}return null}return null}function o(){g("Adding Fastlane library to head of page.");var e=window.location.hostname.toLowerCase(),t=11078,n=r("countryCode")||(r("CG")?r("CG").substr(0,r("CG").indexOf(":")):"");("US"!==n&&"CA"!==n&&2===n.length||e.search(/^(edition|arabic|cnnespanol)\./)>=0)&&(t=11016),g("Rubicon Account ID: "+t);var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=("https:"===document.location.protocol?"https:":"http:")+"//ads.rubiconproject.com/header/"+t+".js";var o=document.getElementsByTagName("script")[0];o.parentNode.appendChild(i)}function a(e){clearTimeout(e),v.length=0}function s(e,t){g("Building slots for Fastlane",JSON.stringify(e));var n=setTimeout(function(){g("PreQueue Timeout Occurred."),window.AdFuel.addPageLevelTarget("fln_pqto","1")},1e3);v.push(n),window.rubicontag.cmd.push(function(){for(var r=[],o=1;o<e.length;o++){g("Checking Slot: ",e[o].rktr_slot_id);var s,l=e[o];(""==m||l.rktr_slot_id.indexOf("bnr_atf_01")>0)&&(g("Setting KW Ad Unit: ",l.rktr_ad_id),m=l.rktr_ad_id);var u={_atf_:"atf",_btf_:"btf",_mod_:"atf"},c=["160x600","300x250","300x600","320x50","728x90","970x90","970x250"],d=["_ns_","_nfs_"],f=["super-ad-zone","super_ad_zone"],p=["CNN/health","CNN/health/healthgrades","CNN/health/leaf","CNN/health/list","CNN/health/photos","CNN/health/specials","CNN/health/video","CNN/student-news"];for(var h in u)if(u.hasOwnProperty(h)&&l.rktr_slot_id&&l.rktr_slot_id.indexOf(h)>=0){var v=!0,y=!1;for(var _ in d)l.rktr_slot_id.indexOf(d[_])>=0&&(g("Filtering out invalid slot type: ",d[_],l),v=!1);for(var w in f)l.rktr_ad_id.indexOf(f[w])>=0&&(g("Filtering out invalid ad unit segment: ",f[w],l),v=!1);for(var b in p)l.rktr_ad_id==f[w]&&(g("Filtering out invalid ad unit: ",p[b],l),v=!1);for(var C=[],S=0;S<l.responsive.length;S++){var A=i(),x=l.responsive[S];!y&&x[0][0]<A[0]&&x[0][1]<A[1]&&(y=!0,C=x[1],"suppress"!=x[1][0]&&"suppress"!=C||(v=!1))}if(v&&C.length>0&&(g("Setting Sizes To Responsive Sizes: ",C),l.sizes=C),v)for(var T=0;T<l.sizes.length;T++){var N=l.sizes[T];"suppress"!==N&&(N=N.join("x")),c.indexOf(N)<0&&(g("Filtering out invalid size: ",N,l),l.sizes.splice(T,1))}if(0==l.sizes.length&&(v=!1,g("Filtering out slot with no valid sizes.",l.rktr_slot_id,l.rktr_ad_id)),v){g("Slot is a valid item for Rubicon Fastlane.");var k=u[h],E=document.getElementById(l.rktr_slot_id)?document.getElementById(l.rktr_slot_id).className.indexOf("adfuel-rendered")>=0:!1;if(g("Checking for cached Fastlane response for: ",l.rktr_slot_id),"undefined"!=typeof window.rubiconSlotDictionary[l.rktr_slot_id]||E)"undefined"==typeof window.rubiconSlotDictionary[l.rktr_slot_id]&&E?g("Element has already been rendered with an ad.  Skipping Fastlane auction for: ",l.rktr_slot_id):g("Using cached Fastlane response for: ",l.rktr_slot_id);else{g("Cached response not found. Defining Slot: ","/8664377/"+l.rktr_ad_id,l.sizes,l.rktr_slot_id),s=window.rubicontag.defineSlot("/8664377/"+l.rktr_ad_id,l.sizes,l.rktr_slot_id),g("Setting Position: ",k),s.setPosition(k);for(var j=l.targeting,I=0;I<j.length;I++){var F=j[I];"pos"==F[0]&&(Array.isArray(F[1])?(g("Setting POS Keyword For "+l.rktr_slot_id,F[1][0]),s.setFPI("pos",F[1][0])):(g("Setting POS Keyword For "+l.rktr_slot_id,F[1]),s.setFPI("pos",F[1])))}g("Setting Keyword For "+l.rktr_slot_id,l.rktr_ad_id),s.addKW(l.rktr_ad_id),r.push(s),window.rubiconSlotDictionary[l.rktr_slot_id]=s}}}}for(var O=m.split("/"),R=["site","section","subsection"],D=0;D<O.length&&3>D;D++)g("Setting FPI",R[D],O[D]),window.rubicontag.setFPI(R[D],O[D]);window.rubicontag.run(function(){a(n),t()},{slots:r})})}function l(e){g("setting fastlane targeting"),window.googletag.cmd.push(function(){var t=window.AdFuel.pageSlots;g({slots:e,gptSlots:t});for(var n={},i=0;i<e.length;i++){var r=e[i];if(g("Slot ID: ",r.rktr_slot_id),t[r.rktr_slot_id]){var o=t[r.rktr_slot_id];g("calling window.rubicontag.setTargetingForGPTSlot..."),window.rubicontag.setTargetingForGPTSlot(o),window.refreshableRubiconSlots[r.rktr_slot_id]=window.rubiconSlotDictionary[r.rktr_slot_id],delete window.rubiconSlotDictionary[r.rktr_slot_id];for(var a=o.getTargetingKeys(),s={},l=!1,u=0;u<a.length;u++)a[u].indexOf("rpfl_")>=0&&(g("removing fln_to=1 and setting fln_to=0 for "+o.getSlotElementId()),l||(window.AdFuel.addSlotLevelTarget(o.getSlotElementId(),"fln_to","0"),l=!0),g("Setting Fastlane Targeting...",{slot:o.getSlotElementId(),target:{key:a[u],value:o.getTargeting(a[u])}}),s[a[u]]=o.getTargeting(a[u]));n[r.rktr_slot_id]=s}}})}function u(e,t){g("preDispatch"),l(e),t()}function c(e,t){g("preRefresh");var n=[],i=[],r=window.AdFuel.pageSlots;e||(e=Object.getOwnPropertyNames(r));for(var o=0;o<e.length;o++){var a=e[o];if(g("Slot ID: ",a),r[a]){var s=r[a],u=s.getTargetingKeys();for(var c in u)if(u.hasOwnProperty(c)){var d=u[c];d.indexOf("rpfl")>=0&&window.AdFuel.removeSlotLevelTarget(a,d)}window.refreshableRubiconSlots[a]&&n.push(window.refreshableRubiconSlots[a]),i.push({rktr_slot_id:a})}}g("refreshing slots",{slotsToRefresh:n}),window.rubicontag.run(function(){l(i),t()},{slots:n})}function d(){window.AdFuel.setOptions({queueCallbackTimeoutInMilliseconds:1200,dispatchCallbackTimeoutInMilliseconds:1200,refreshCallbackTimeoutInMilliseconds:1200}),window.AdFuel.registerModule("Fastlane",{preQueueCallback:s,preDispatchCallback:u,preRefreshCallback:c})}function f(){o(),window.AdFuel?d():document.addEventListener?document.addEventListener("AdFuelCreated",d,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",d)}window.rubicontag=window.rubicontag||{},window.rubicontag.cmd=window.rubicontag.cmd||[];var p=Object.prototype,h=p.toString,g=function(){},m="";t(window.console)&&e(window.console.log)&&"true"==n("debug")&&(g=function(){var e=["[AdFuelModule - Fastlane/Rubicon]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),window.rubiconSlotDictionary={},window.refreshableRubiconSlots={};var v=[];CNN.Features.enableRubiconFastlane===!0&&f()}(),window.cnnad_haveCookie=function(e){return document.cookie&&(document.cookie.indexOf("; "+e+"=")>=0||0==document.cookie.indexOf(e+"="))},window.cnnad_readCookie=function(e){if(document.cookie){for(var t=document.cookie.split(";"),n=e+"=",i=0;i<t.length;i++){for(var r=t[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(n))return r.substring(n.length,r.length)}return null}},window.turner_getGuid=function(){return window.cnnad_readCookie("ug")},function(){function e(e){return"[object Function]"===o.call(e)}function t(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function n(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}function i(){function e(){var e=window.turner_getGuid();a("setting guid targeting",{guid:e}),window.AdFuel.addPageLevelTarget("guid",e)}window.AdFuel?e():document.addEventListener?document.addEventListener("AdFuelCreated",e,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",e)}var r=Object.prototype,o=r.toString,a=function(){};if(t(window.console)&&e(window.console.log)&&"true"==n("debug")&&(a=function(){var e=["[AdFuelModule - Guid]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),window.cnnad_haveCookie("ugs"))i();else{var s="//www.ugdturner.com/xd.sjs",l=document,u=l.createElement("script"),c=l.getElementsByTagName("script")[0],d=/^(complete|loaded)$/,f=!1;u.type="text/javascript",u.async=!0,u.src=s,u.onload=u.onreadystatechange=function(){f||"readyState"in u&&d.test(u.readyState)||(u.onload=u.onreadystatechange=null,f=!0,i())},c.parentNode.insertBefore(u,c)}}(),window.Krux||((window.Krux=function(){window.Krux.q.push(arguments)}).q=[]),window.kvs=[],CNN.Features.enableKrux===!0&&!function(){function e(e){var t,n="kx"+e;return window.localStorage?window.localStorage[n]||"":navigator.cookieEnabled?(t=document.cookie.match(n+"=([^;]*)"),t&&decodeURIComponent(t[1])||""):""}window.Krux.user=e("user"),window.Krux.segments=e("segs")&&e("segs").split(",")||[];for(var t=0;t<window.Krux.segments.length;t++)window.kvs.length<20&&window.kvs.push(window.Krux.segments[t])}(),window.krux_getDESegments=function(){var e="&kxid=";return window.Krux.user&&(e+=window.Krux.user),e+="&kxseg="+window.kvs.join(",")},window.krux_getFWSegments=function(){return"kxseg="+window.kvs.join(",kxseg=")},window.krux_getUser=function(){return window.Krux.user},window.krux_getFWKeyValues=function(e,t){for(var n=e||"_fwu:386123:",i=t||35,r={},o=0;o<window.Krux.segments.length;o++)i>o&&(r[n+window.Krux.segments[o]]=1);return r},window.Krux.setControlTag=function(e){function t(e){return"[object Function]"===a.call(e)}function n(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function i(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}function r(){function e(){var e=window.Krux.user,t=window.Krux.segments;s("setting krux targeting",{kuid:e,ksg:t}),window.AdFuel.addPageLevelTarget("kuid",e),window.AdFuel.addPageLevelTarget("ksg",t)}window.AdFuel?e():document.addEventListener?document.addEventListener("AdFuelCreated",e,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",e)}var o=Object.prototype,a=o.toString,s=function(){};n(window.console)&&t(window.console.log)&&"true"==i("debug")&&(s=function(){var e=["[AdFuelModule - Krux]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)});var l=document,u=l.createElement("script"),c=l.getElementsByTagName("script")[0],d=/^(complete|loaded)$/,f=!1;u.type="text/javascript",u.async=!0;var p,h=(p=location.href.match(/\bkxsrc=([^&]+)/))&&decodeURIComponent(p[1]);u.src=/^https?:\/\/([^\/]+\.)?krxd\.net(:\d{1,5})?\//i.test(h)?h:"disable"===h?"":("https:"===location.protocol?"https:":"http:")+"//cdn.krxd.net/controltag?confid="+e,u.onload=u.onreadystatechange=function(){f||"readyState"in u&&d.test(u.readyState)||(u.onload=u.onreadystatechange=null,f=!0,r())},c.parentNode.insertBefore(u,c)},CNN.Features.enableKrux===!0){var controlTag=window.location.hostname.toLowerCase().match(/^edition\.cnn\.com/)?"ITb_9Zup":"ITb_4eqO";window.Krux.setControlTag(controlTag)}!function(){function e(e){return"[object Function]"===g.call(e)}function t(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function n(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}function i(){if(!m){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"===document.location.protocol?"https:":"http:")+f;var t=document.getElementsByTagName("script")[0];t.parentNode.appendChild(e),v("Added Proximic script to head of page.",f),m=!0}}function r(e,t){""!==e&&"undefined"!=typeof e&&(v("Setting data for DFP",e),window.AdFuel.addPageLevelTarget("pconid",e),window.AdFuel.removePageLevelTarget("prx_to","1"),window.AdFuel.addPageLevelTarget("prx_to","0"),t())}function o(e,t){var n,a,s=!1;try{for(window.CNNMONEY&&window.CNNMONEY.adTargets&&window.CNNMONEY.adTargets.c_type&&"article"==window.CNNMONEY.adTargets.c_type&&(s=!0),a=1;a<e.length;a++)if(n=e[a].rktr_ad_id.toLowerCase(),n.search(/^cnn\/(video|homepage|(.+\/landing))/)<0&&n.search(/^cnnmoney/)>=0&&1==s&&n.search(/^cnni\/(video|homepage|(.+\/(landing|main|video)))/)<0){i(),v("Waiting for data..."),setTimeout(function(){l++,v("SegmentData: ",p),""!==p&&"undefined"!=typeof p?(v("Proximic Data found!"),r(p,t)):c>l*u?o(e,t):(v("Proximic Timeout Occurred!"),window.AdFuel.addPageLevelTarget("prx_to","1"),t())},u);break}}catch(d){v("Error parsing Proximic data: ",d.message||"Unknown")}}function a(){window.AdFuel.registerModule("Proximic",{postQueueCallback:o}),window.AdFuel.addPageLevelTarget("prx_to","1")}function s(){window.AdFuel?a():document.addEventListener?document.addEventListener("AdFuelCreated",a,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",a)}var l=0,u=50,c=2e3,d=document.location.href;window.location.hostname.toLowerCase().match(/^train\.next\.cnn\.com/)&&d.replace("train.next.","www");var f="//segment-data-us-east.zqtk.net/turner-47fcf6?url="+encodeURIComponent(d),p="",h=Object.prototype,g=h.toString,m=!1,v=function(){};t(window.console)&&e(window.console.log)&&"true"==n("debug")&&(v=function(){var e=["[AdFuelModule - Proximic/comScore]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),window.gotSegmentData=function(e){e.data&&(v("Segment Data: ",e.data),p=e.data)},CNN.Features.enableProximic===!0&&s()}(),window.cnnad_transactionID=null,window.cnnad_getTransactionID=function(){return window.cnnad_transactionID||(window.cnnad_transactionID=Math.round((new Date).getTime()/1e3)+""+Math.floor(9007199254740992*Math.random())),window.cnnad_transactionID},window.turner_getTransactionId=window.cnnad_getTransactionID,window.turner_getTransactionId(),function(){function e(e){return"[object Function]"===o.call(e)}function t(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function n(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}function i(){var e=window.turner_getTransactionId();a("setting guid targeting",{transId:e}),window.AdFuel.addPageLevelTarget("transId",e)}var r=Object.prototype,o=r.toString,a=function(){};t(window.console)&&e(window.console.log)&&"true"==n("debug")&&(a=function(){var e=["[AdFuelModule - TransactionId]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),window.AdFuel?i():document.addEventListener?document.addEventListener("AdFuelCreated",i,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",i)}()}if(function(){if(!window.Aspen){var VERSION="1.8.0",debug=-1!==[window.location.search,window.location.hash].join().search(/\bdmtdebug\b/),Class=function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,n=function(){};return n.extend=function(n){function i(){!e&&this.init&&this.init.apply(this,arguments)}var r=this.prototype;e=!0;var o=new this;e=!1;for(var a in n)o[a]="function"==typeof n[a]&&"function"==typeof r[a]&&t.test(n[a])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);return this._super=n,i}}(a,n[a]):n[a];return i.prototype=o,i.constructor=i,i.extend=arguments.callee,i},n}();!function(e,t,n){function i(){var e=f;return e.loader={load:r,i:0},e}function r(e,t,n){var i="c"==t?T:x;return y=0,t=t||"j",E(e)?o(i,e,t,this.i++,p,n):(v.splice(this.i++,0,e),1==v.length&&a()),this}function o(e,n,i,r,o,s){function l(){!p&&c(d.readyState)&&(m.r=p=1,!y&&u(),d.onload=d.onreadystatechange=null,h(function(){b.removeChild(d)},0))}var d=t.createElement(e),p=0,m={t:i,s:n,e:s};d.src=d.data=n,!w&&(d.style.display="none"),d.width=d.height="0","object"!=e&&(d.type=i),d.onload=d.onreadystatechange=l,"img"==e?d.onerror=l:"script"==e&&(d.onerror=function(){m.e=m.r=1,a()}),v.splice(r,0,m),b.insertBefore(d,w?null:g),h(function(){p||(b.removeChild(d),m.r=m.e=p=1,u())},f.errorTimeout)}function a(){var e=v.shift();y=1,e?e.t?h(function(){"c"==e.t?s(e):l(e)},0):(e(),u()):y=0}function s(e){var n,i=t.createElement("link");if(i.href=e.s,i.rel="stylesheet",i.type="text/css",e.e||!S&&!_)i.onload=function(){n||(n=1,h(function(){u()},0))},e.e&&i.onload();else{var r=function(e){h(function(){if(!n)try{e.sheet.cssRules.length?(n=1,u()):r(e)}catch(t){1e3==t.code||"security"==t.message||"denied"==t.message?(n=1,h(function(){u()},0)):r(e)}},0)};r(i)}h(function(){n||(n=1,u())},f.errorTimeout),!e.e&&g.parentNode.insertBefore(i,g)}function l(e){var n,i=t.createElement("script");i.src=e.s,i.onreadystatechange=i.onload=function(){!n&&c(i.readyState)&&(n=1,u(),i.onload=i.onreadystatechange=null)},h(function(){n||(n=1,u())},f.errorTimeout),e.e?i.onload():g.parentNode.insertBefore(i,g)}function u(){for(var e=1,t=-1;v.length-++t&&(!v[t].s||(e=v[t].r)););e&&a()}function c(e){return!e||"loaded"==e||"complete"==e}var d,f,p=t.documentElement,h=e.setTimeout,g=t.getElementsByTagName("script")[0],m={}.toString,v=[],y=0,_="MozAppearance"in p.style,w=_&&!!t.createRange().compareNode,b=w?p:g.parentNode,C=e.opera&&"[object Opera]"==m.call(e.opera),S="webkitAppearance"in p.style,A=S&&"async"in t.createElement("script"),x=_?"object":C||A?"img":"script",T=S?"img":x,N=Array.isArray||function(e){return"[object Array]"==m.call(e)},k=function(e){return Object(e)===e},E=function(e){return"string"==typeof e},j=function(e){return"[object Function]"==m.call(e)},I=[],F={};f=function(e){function t(e,t){function n(e){if(E(e))r(e,l,t,0,o);else if(k(e))for(i in e)e.hasOwnProperty(i)&&r(e[i],l,t,i,o)}var i,o=!!e.test,a=o?e.yep:e.nope,s=e.load||e.both,l=e.callback;n(a),n(s),e.complete&&t.load(e.complete)}function r(e,t,r,a,s){var l=o(e),u=l.autoCallback;if(!l.bypass){if(t&&(t=j(t)?t:t[e]||t[a]||t[e.split("/").pop().split("?")[0]]),l.instead)return l.instead(e,t,r,a,s);r.load(l.url,l.forceCSS||!l.forceJS&&/css$/.test(l.url)?"c":n,l.noexec),(j(t)||j(u))&&r.load(function(){i(),t&&t(l.origUrl,s,a),u&&u(l.origUrl,s,a)})}}function o(e){var t,n,i=e.split("!"),r=I.length,o=i.pop(),a=i.length,s={url:o,origUrl:o,prefixes:i};for(n=0;a>n;n++)t=F[i[n]],t&&(s=t(s));for(n=0;r>n;n++)s=I[n](s);return s}var a,s,l=this.yepnope.loader;if(E(e))r(e,0,l,0);else if(N(e))for(a=0;a<e.length;a++)s=e[a],E(s)?r(s,0,l,0):N(s)?f(s):k(s)&&t(s,l);else k(e)&&t(e,l)},f.addPrefix=function(e,t){F[e]=t},f.addFilter=function(e){I.push(e)},f.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",d=function(){t.removeEventListener("DOMContentLoaded",d,0),t.readyState="complete"},0)),e.yepnope=i()}(this,this.document);var Ajax={requestMap:{},jsonpRegistry:{},_counter:0,request:function(e){e=Utils.extend({timeout:5e3,maxRetries:0},e||{}),e.tries=0,this._sendRequest(e)},_sendRequest:function(e){var t=this,n=this._createCallback(e),i=this._createScript(n);return i?(i.src=e.url,void(e.timeout&&setTimeout(function(){t._onError(n,e)},e.timeout))):(Utils.log("JSONP - unable to create script for request ",e.url),!1)},_onSuccess:function(id,obj,data){this.requestMap[id]&&(this._destroyRequest(id,obj),Utils.isString(data)&&(data=eval("("+data+")")),obj.success&&obj.success(data))},_onError:function(e,t){return this.requestMap[e]?(this._destroyRequest(e,t),t.tries++,t.maxRetries&&t.tries<t.maxRetries?(Utils.log("Request failed - resending"),void this._sendRequest(t)):void(t.error&&t.error(t.url))):void 0},_destroyRequest:function(e,t){if(t.jsonpCallback){var n=this._removeNameFromRegistry(t.jsonpCallback);if(!n)try{delete window[t.jsonpCallback]}catch(i){window[t.jsonpCallback]=void 0}}delete this.requestMap[e];var r=document.getElementById(this._getScriptName(e));r&&(r.parentNode.removeChild(r),r=null)},_createScript:function(e){var t=document.getElementsByTagName("head")[0];if(!t)return!1;var n=document.createElement("script");return n.type="text/javascript",e&&(n.id=this._getScriptName(e)),t.appendChild(n),n},_getScriptName:function(e){return"aspen_jsonp_"+e},_createCallback:function(e){var t=this;if(Utils.empty(e.jsonpCallback))return null;this._counter++;var n="request_"+this._counter;this.requestMap[n]=function(i){t._onSuccess(n,e,i)};this._addNameToRegistry(e.jsonpCallback);return window[e.jsonpCallback]=function(e){t.requestMap[n](e)},n},_addNameToRegistry:function(e){var t=this.jsonpRegistry;return t[e]?t[e]+=1:t[e]=1,t[e]},_removeNameFromRegistry:function(e){var t=this.jsonpRegistry;return t[e]&&(t[e]-=1,0===t[e]&&delete t[e]),t[e]}},BatchService=Class.extend({init:function(e){this._enabled=!1,this._queue=[],this._config=e,this._timer,this._firstPostTimer},start:function(e){if(this._config=e,this._enabled=!0,_analyticsConfig.batchMode==BATCH_MODE_TIMER){Utils.log("[aspen]","start timer");var t=this;this._timer=setTimeout(function(){t._postTimerEvent()},1e3*Number(_analyticsConfig.batchModeAmount));var n=Math.ceil(Math.random()*Number(_analyticsConfig.batchModeAmount));n==Number(_analyticsConfig.batchModeAmount)&&(n--,0>=n&&(n=.5)),Utils.log("[aspen]","random time: "+n),this._firstPostTimer=setTimeout(function(){t._firstPostTimerEvent()},1e3*n)}},add:function(e){return this._addToQueue(e),this._enabled?void(_analyticsConfig.enabled&&!this._config.batchThrottled?(_analyticsConfig.batchMode==BATCH_MODE_TOTAL?this._queue.length==_analyticsConfig.batchModeAmount&&this.post():_analyticsConfig.batchMode==BATCH_MODE_NONE?this.post():_analyticsConfig.batchMode!=BATCH_MODE_TIMER&&this.post(),this._queue.length>0&&("error"==e.eventType&&"undefined"!=typeof _analyticsConfig.highPriorityErrors?this.flushByError(e.eventData):"error"!=e.eventType&&"undefined"!=typeof _analyticsConfig.highPriorityEvents&&this.flushByEvent(e.eventType))):(_analyticsConfig.enabled&&Utils.log("[aspen]","Aspen is diabled via analyticsConfig. Message not added."),this._config.batchThrottled&&Utils.log("[aspen]","Batching is throttled. Message not added."))):void Utils.log("[aspen]","Batch service not enabled. Queuing message.")},_addToQueue:function(e){Utils.log("[aspen]","Adding message to batch queue."),this._queue.push(e)},post:function(){if(this._config.postThrottled)Utils.log("[aspen]","Batch posting is throttled. Batch not posted.");else{var e={sessionId:this._config.sessionId,events:this._queue};if(Utils.log("[aspen]","send batch string"),"gzip"==_analyticsConfig.batchContentEncoding){var t="?aspenJson="+JSON.stringify(e),n=encodeURIComponent(t).replace(/%20/g,"+"),i=n;e=i}TransportManager.createRequest(_analyticsConfig.batchApi,e,this._postSuccess,this._postFailure,this),this._queue=[]}},_postTimerEvent:function(){Utils.log("[aspen]","postTimer - queue.length: "+this._queue.length),this._queue.length>0?(Utils.log("[aspen]","posting "+this._queue.length+" messages"),this.post()):Utils.log("[aspen]","no messages to post");var e=this;this._timer=setTimeout(function(){e._postTimerEvent()},1e3*Number(_analyticsConfig.batchModeAmount))},_firstPostTimerEvent:function(){Utils.log("[aspen]","firstPostTimer - queue.length: "+this._queue.length),this._queue.length>0?(Utils.log("[aspen]","posting "+this._queue.length+" messages"),this.post()):Utils.log("[aspen]","no messages to post")},_postSuccess:function(e){Utils.log("[aspen]","post success: "+e)},_postFailure:function(e){Utils.log("[aspen]","post failed: "+e)},flushByError:function(e){if("undefined"!=typeof e.errorCode){var t=e.errorCode,n=t.substring(0,2),i=t.substring(2,4),r=t.substring(4,6),o=t.substring(6),a=[];a=_analyticsConfig.highPriorityErrors.split(",");for(var s="",l="",u="",c="",d=[],f=[],p=[],h=[],g=0,m=a.length;m>g;++g)switch(g){case 0:s=String(a[g]),d=s.split("+");break;case 1:l=String(a[g]),f=l.split("+");break;case 2:u=String(a[g]),p=u.split("+");break;case 3:c=String(a[g]),h=c.split("+")}for(g=0,m=d.length;m>g;++g){var v=String(d[g]);if(n==v||"*"==v)for(var y=0,_=f.length;_>y;++y){var w=String(f[y]);if(i==w||"*"==w)for(var b=0,C=p.length;C>b;++b){var S=String(p[b]);if(r==S||"*"==S)for(var A=0,x=h.length;x>A;++A){var T=String(h[A]);o!=T&&"*"!=T||(Utils.log("[aspen","[flushByError] found match, flushing batch"),this.post())}}}}}},flushByEvent:function(e){for(var t=_analyticsConfig.highPriorityEvents.split(","),n=0,i=t.length;i>n;++n){var r=String(t[n]);r==e&&(Utils.log("[aspen]","[flushBatchByEvent] found match, flushing batch"),this.post())}},setSessionId:function(e){this._config.sessionId=e},setBatchThrottled:function(e){this._config.batchThrottled=e},setPostThrottled:function(e){this._config.postThrottled=e},disableTimer:function(){_analyticsConfig.batchMode==BATCH_MODE_TIMER&&clearTimeout(this._timer)}}),LoadState={WAITING:"loadStateWaiting",LOADING:"loadStateLoading",READY:"loadStateReady",FAILED:"loadStateFailed"},Aspen=window.Aspen={init:function(e,t){var n=this;if(Utils.undef(this.initialized))if(this.initialized=!0,this.ready=!1,this.batchService,this._isThrottled=!0,this.sessionId=-1,this._messageExcludes=[],this.timeDifference=0,this._shortId="",this._retryTimer,this._retries=0,this._retryTime=0,this._savedSession={},this._timestampStr="",this.sessionToken="",this._appName="",this._transportFormats=[],this._transportFormat="",this._transportFormatIndex=0,this._messageQueue=[],this.config={},this._loadState=LoadState.WAITING,this._configUrl="",this._configLoaded=!1,this._appInitCallback=t,_params=this._options=e,this._appName=_params.appName=_params&&_params.appName,_params.appVersion=_params&&_params.appVersion,_params.site=_params&&_params.site,_params.context=_params&&_params.context,_params.configBaseUrl=_params&&_params.configBaseUrl,_params.platform=_params&&_params.platform,_params.platformVersion=_params&&_params.platformVersion,Utils.empty(_params.appName))Utils.log("[aspen]","Unable to start Aspen, no appName provided");else if(Utils.empty(_params.site))Utils.log("[aspen]","Unable to start Aspen, no site provided");else{var i={};i.batchThrottled=!0,i.postThrottled=!0,this.batchService=new BatchService(i),this._loadState=LoadState.LOADING;var r=new DependencyManager;r.add(new Dependency(Utils.bind(n._loadConfigFile,n))),r.add(new Dependency(Utils.bind(n._loadRequiredJS,n))),r.onComplete(Utils.bind(n._onDependenciesLoaded,n)),r.onFailure(Utils.bind(n._onDependenciesLoadFailure,n)),r.load()}},_loadConfigFile:function(e,t){var n=_params.configBaseUrl;Utils.isNull(n)&&(n=ANALYTICS_BASE_URL+_params.appName+"/"+_params.site+"/"),Utils.log("[aspen]","Using config base path: "+n),this._configUrl=n+ANALYTICS_FILE+"?_="+Utils.timeBucket(15),Ajax.request({jsonpCallback:"aspen_onAnalyticsConfigReceived",url:this._configUrl,success:Utils.bind(this._loadConfigSuccess,this,e),error:Utils.bind(this._loadConfigFailure,this,t)})},_loadConfigSuccess:function(e,t){Utils.log("[aspen]","Config loaded successfully"),_analyticsConfig=Utils.extend(Utils.extend({},t["default"]||{}),t[_params.context]||{}),this.config=_analyticsConfig,Utils.undef(_analyticsConfig.batchMode)&&(_analyticsConfig.batchMode="total"),Utils.undef(_analyticsConfig.batchModeAmount)&&(_analyticsConfig.batchModeAmount="10"),Utils.undef(_analyticsConfig.helloRetryCount)&&(_analyticsConfig.helloRetryCount="5"),Utils.undef(_analyticsConfig.helloRetryTime)&&(_analyticsConfig.helloRetryTime="10000"),Utils.undef(_analyticsConfig.batchContentEncoding)&&(_analyticsConfig.batchContentEncoding="json"),Utils.undef(_analyticsConfig.aspenUserIdEnabled)&&(_analyticsConfig.aspenUserIdEnabled=!0),Utils.undef(_analyticsConfig.aspenUserIdHash)&&(_analyticsConfig.aspenUserIdHash="392aspenUID392"),Utils.undef(_analyticsConfig.transportFormats)?this._transportFormats.push(TransportFormat.JSONP):this._transportFormats=_analyticsConfig.transportFormats.split(","),this._transportFormat=this._transportFormats[this._transportFormatIndex],Utils.undef(_analyticsConfig.messageExcludes)?this._messageExcludes=[]:this._messageExcludes=_analyticsConfig.messageExcludes.split(",");var n={};n.transportFormats=this._transportFormats,n.servicesUrl=_analyticsConfig.servicesUrl,TransportManager.init(n),Utils.log("[aspen]","batchMode: ",_analyticsConfig.batchMode),Utils.log("[aspen]","batchModeAmount: ",_analyticsConfig.batchModeAmount),Utils.log("[aspen]","helloRetryCount: ",_analyticsConfig.helloRetryCount),Utils.log("[aspen]","helloRetryTime: ",_analyticsConfig.helloRetryTime),Utils.log("[aspen]","transportFormat: ",this._transportFormat),e&&e()},_loadConfigFailure:function(e,t){Utils.log("[aspen]","Config failed to load",t),e&&e()},_loadRequiredJS:function(e,t){var n=this;null!=window.JSON?this._loadRequiredJSSuccess(e):yepnope({load:"http://z.cdn.turner.com/xslo/cvp/easyxdm/js/json2.ugly.js",complete:function(){return window.JSON?void n._loadRequiredJSSuccess(e):void n._loadRequiredJSFailure(t)}})},_loadRequiredJSSuccess:function(e){Utils.log("[aspen]","External JS dependencies loaded successfully"),e&&e()},_loadRequiredJSFailure:function(e){Utils.log("[aspen]","External JS dependencies failed to load"),
e&&e()},_onDependenciesLoaded:function(){this._loadState=LoadState.READY,Utils.log("[aspen]","_onDependenciesLoaded - all required dependencies successfully loaded."),Utils.undef(_analyticsConfig.enabled)||"true"!==_analyticsConfig.enabled?(Utils.log("[aspen]","analytics disabled via config"),this._initFailure()):(Utils.log("[aspen]","analytics enabled via config"),Utils.undef(_analyticsConfig.servicesUrl)||this._hello())},_onDependenciesLoadFailure:function(){this._loadState=LoadState.FAILED,Utils.log("[aspen]","_onDependenciesLoadFailure - one or more required dependencies failed to load.")},_hello:function(){Utils.log("[aspen]","hello");var e=Utils.getQueryVar("sessionToken");Utils.log("[aspen]","check querySessionToken: ",e),Utils.empty(e)||(this.sessionToken=e,this.send("authSessionReload",{}));var t={propertyName:_params.site,applicationName:_params.appName,applicationVersion:_params.appVersion,deviceType:"Javascript",deviceModel:"Javascript",deviceVersion:"Javascript",library:"Javascript",libraryVersion:VERSION,platformName:Utils.empty(_params.platform)?"Javascript":_params.platform,platformVersion:Utils.empty(_params.platformVersion)?VERSION:_params.platformVersion,aspenConfigUrl:this._configUrl,protocol:"1.0",pageUrl:document.URL};t=Utils.extend(t,this._options),_analyticsConfig.aspenUserIdEnabled&&(t.aspenUUIDToken=_analyticsConfig.aspenUserIdHash),Utils.empty(this.sessionToken)||(t.sessionToken=this.sessionToken),TransportManager.bootstrapTM(),TransportManager.createRequest(_analyticsConfig.helloApi,t,this._helloSuccess,this._helloFailure,this),this._retryTimer=setTimeout(Utils.bind(this._helloRetry,this),Number(_analyticsConfig.helloRetryTime)),this._isRetrying=!0},_helloSuccess:function(e){Utils.log("[aspen]","_helloSuccess"),clearTimeout(this._retryTimer),this._isThrottled="undefined"!=typeof e.throttled&&"no"!==e.throttled||this._isThrottled,this.sessionId="undefined"!=typeof e.sessionId?e.sessionId:this.sessionId,this._shortId="undefined"!=typeof e.shortId?e.shortId:this._shortId,this._timestampStr="undefined"!=typeof e.timestamp?e.timestamp:this.timeDifference,this.timeDifference=Number(this._timestampStr)-Utils.now(),"no"===e.throttled&&(this._isThrottled=!1),Utils.log("[aspen]","_helloSuccess"),Utils.log("[aspen]","config.throttled: "+e.throttled),Utils.log("[aspen]","throttled: "+this._isThrottled),Utils.log("[aspen]","sessionId: "+this.sessionId);var t={};t.batchThrottled=!1,t.postThrottled=!0,t.sessionId="",this.batchService.start(t),this.batchService.setSessionId(this.sessionId),this.batchService.setPostThrottled(this._isThrottled),this._initSuccess()},_helloFailure:function(e){Utils.log("[aspen]","_helloFailure url: "+e),TransportManager.fallback()&&this._hello()},_helloRetry:function(){Utils.log("[aspen]","helloRetry"),this._retries==_analyticsConfig.helloRetryCount?(Utils.log("[aspen]","retries exhasted"),clearTimeout(this._retryTimer),this._retries=0,1==TransportManager.fallback()?this._hello():(Utils.log("[aspen]","retries exhasted, fallbacks exhausted, aspen is disabled"),this._isThrottled=!0,this.batchService.setBatchThrottled(!0),this.batchService.setPostThrottled(!0),this.batchService.disableTimer())):(this._retries++,this._retryTime=this._retries*Number(_analyticsConfig.helloRetryTime),this._savedSession.retries=String(this._retries),this._savedSession.retryTime=String(this._retryTime),this._hello())},isMessageExcluded:function(e){return!!(_analyticsConfig&&_analyticsConfig.messageExcludes&&_analyticsConfig.messageExcludes.indexOf(e)>=0)},send:function(e,t,n){if("undefined"==typeof this._messageExcludes||-1===this._messageExcludes.indexOf(e)){if("undefined"==typeof t&&(t={}),!this.ready)return Utils.log("[aspen]","send - Aspen's not ready, queuing message"),void("undefined"!=typeof this._messageQueue&&this._messageQueue.push({message:t,type:e,appName:n}));if(this._isThrottled)Utils.log("[aspen]","Add message to batch is throttled! Message not added.");else{if(this.isMessageExcluded(e))return void Utils.log("[aspen]","message excluded by config, not added to batch",e);t.timestamp=Utils.now()+this.timeDifference,t.applicationName="undefined"!=typeof n?n:this._appName,delete t.session_id,delete t.sessionId,delete t.hbase_timestamp,delete t.type,Utils.log("[aspen]","appName: "+t.applicationName);var i={};i.eventType=e,i.eventData=t,Utils.log("[aspen]","add to batch json message: "+JSON.stringify(i)),this.batchService.add(i)}}},setSessionToken:function(e){this.sessionToken=e},_initSuccess:function(){this.ready=!0;for(var e=0,t=this._messageQueue.length;t>e;e++)this.send(this._messageQueue[e].type,this._messageQueue[e].message);this.send("aspenConfigDetails",_analyticsConfig);var n={};n.screenWidth=screen.width,n.screenHeight=screen.height,n.browserName=navigator.appName,n.userAgent=navigator.userAgent,n.platform=navigator.platform,this.send("systemInfo",n),this._initSuccess=function(){},this._appInitCallback&&this._appInitCallback()},_initFailure:function(){},getVersion:function(){return VERSION},getSessionId:function(e){return this.sessionId},getShortId:function(e){return this._shortId},isThrottled:function(e){return this._isThrottled},getThrottled:function(e){return this._isThrottled?"yes":"no"}},DependencyManager=function(){this._dependencies=[],this._loadedCount=0,this._successHandlers=[],this._failureHandlers=[],this.add=function(e){this._dependencies.push({dependency:e,success:!1});var t=this._dependencies.length-1;e.onComplete(Utils.bind(this._onDependencyLoaded,this,t,!0)),e.onFailure(Utils.bind(this._onDependencyLoaded,this,t,!1))},this.load=function(){for(var e=0,t=this._dependencies.length;t>e;e++)this._dependencies[e].dependency.load()},this.onComplete=function(e){this._successHandlers.push(e)},this.onFailure=function(e){this._failureHandlers.push(e)},this._onDependencyLoaded=function(e,t){++this._loadedCount,this._dependencies[e].success=t,this._loadedCount===this._dependencies.length&&this._onAllDependenciesLoaded()},this._onAllDependenciesLoaded=function(){this._loadedCount=0;for(var e=!0,t=0,n=this._dependencies.length;n>t;t++)if(!this._dependencies[t].success){e=!1;break}var i=e?this._successHandlers:this._failureHandlers;for(t=0,n=i.length;n>t;t++)i[t]()}},Dependency=function(e){this._func=e,this._successHandlers=[],this._failureHandlers=[],this.load=function(){this._func(Utils.bind(this._onSuccess,this),Utils.bind(this._onFailure,this))},this.onComplete=function(e){this._successHandlers.push(e)},this.onFailure=function(e){this._failureHandlers.push(e)},this._onSuccess=function(){for(var e=0,t=this._successHandlers.length;t>e;e++)this._successHandlers[e]()},this._onFailure=function(){for(var e=0,t=this._failureHandlers.length;t>e;e++)this._failureHandlers[e]()}},AspenComm=function(){var e,t,n,i,r,o,a="http://aspen.turner.com",s=!1,l=[];return t=function(i){Utils.log("[aspen]","[easyXDM]","init",i),a=i,e=new window.CVPAux.easyXDM.Rpc({swf:"http://z.cdn.turner.com/xslo/cvp/easyxdm/swf/easyxdm.swf",remote:a+"/static/xdm_iframe.html"},{remote:{request:{}}}),Utils.log("[aspen]","[easyXDM]","init AspenComm"),s=!0,t=function(){try{throw"already init'ed - ignored"}catch(e){}},n()},i=function(e,t,n){s?o(e,t,n):r(e,t,n)},r=function(){l.push(arguments)},n=function(){for(var e=0,t=l.length;t>e;++e)o.apply(null,l[e])},o=function(t,n,i){Utils.log("[aspen]","[easyXDM]","make request",t);var r,o,a;r=Utils.extend(Utils.extend({method:"POST"},t||{})),o=function(e){var t=e.data;if("string"==typeof t&&t.charAt(0).match(/[{[]/))try{t=JSON.parse(t)}catch(i){Utils.log(i)}Utils.log("[aspen]","[easyXDM]","request success",e),n(t,e.status,e.headers)},a=function(e){var t=e.data;if("string"==typeof t&&t.charAt(0).match(/[{[]/))try{t=JSON.parse(t)}catch(n){Utils.log(n)}i(t,e.status,e.message)},e.request(r,o,a)},{init:t,request:i}}(),bootstrap=function(e){Utils.log("[aspen]","[easyXDM]","bootstrap",e),window.CVPAux=window.CVPAux||{},yepnope({test:null!=window.CVPAux.easyXDM,nope:"http://z.cdn.turner.com/xslo/cvp/easyxdm/js/easyXDM.ugly.js",complete:function(){if(window.easyXDM)window.CVPAux.easyXDM=easyXDM.noConflict("CVPAux"),yepnope({test:null!=window.JSON,nope:"http://z.cdn.turner.com/xslo/cvp/easyxdm/js/json2.ugly.js",complete:function(){if(!window.JSON)try{throw"failed to install JSON polyfill"}catch(t){}e()}});else try{throw"failed to install easyXDM"}catch(t){}}})},ANALYTICS_BASE_URL="http://z.cdn.turner.com/xslo/aspen/config/",ANALYTICS_FILE="aspenanalytics.json",BATCH_MODE_TOTAL="total",BATCH_MODE_TIMER="timer",BATCH_MODE_NONE="none",_params={},_analyticsConfig={},TransportFormat={JSON:"json",JSONP:"jsonp"},TransportManager={init:function(e){this._config=e,this._transportFormat=this._config.transportFormats[0],this._bootstrapped=!1},bootstrapTM:function(){if(Utils.log("[aspen]","TransportManager","bootstrap","_bootstrapped:",this._bootstrapped),this._transportFormat===TransportFormat.JSON&&!this._bootstrapped){var e=this._config.servicesUrl;bootstrap(function(){AspenComm.init(e)}),this._bootstrapped=!0,Utils.log("[aspen]","TransportManager","bootstrap","transportFormat",this._transportFormat)}},createRequest:function(e,t,n,i,r){if(Utils.log("[aspen]","TransportManager","createRequest"),this._transportFormat===TransportFormat.JSON)AspenComm.request({url:e+"."+this._transportFormat,data:{aspenJson:JSON.stringify(t)}},Utils.bind(n,r),Utils.bind(i,r));else if(this._transportFormat===TransportFormat.JSONP){var o=this._config.servicesUrl+e+"."+this._transportFormat;o+="?aspen_callback=parseAspenInitialization&aspenJson="+encodeURIComponent(JSON.stringify(t)).replace(/%20/g,"+"),Ajax.request({jsonpCallback:"parseAspenInitialization",url:o,error:Utils.bind(i,r),success:Utils.bind(n,r)})}},fallback:function(){return Utils.log("[aspen]","current transport format failed",this._transportFormat),this._config.transportFormats.shift(),this._config.transportFormats.length>0?(this._transportFormat=this._config.transportFormats[0],Utils.log("trying next transport format",this._transportFormat),!0):!1}},Utils={undef:function(e){return"undefined"==typeof e},isNull:function(e){return Utils.undef(e)||null===e},empty:function(e){return Utils.undef(e)||Utils.isNull(e)||""===e},isFunc:function(e){return"function"==typeof e},isObject:function(e){return"object"==typeof e},isString:function(e){return"string"==typeof e},extend:function(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e},log:function(){window.console&&window.console.log&&debug&&window.console.log(Utils.slice(arguments).join(" | ")),!Utils.undef(window.logJSAuth)&&Utils.isFunc(window.logJSAuth)&&debug&&window.logJSpAuth(Utils.slice(arguments).join(" | "))},now:"function"==typeof Date.now?Date.now:function(){return(new Date).getTime()},slice:function(e,t){return Array.prototype.slice.call(e,t||0)},bind:function(e,t){var n=Utils.slice(arguments,2);return function(){var i=n.concat(Utils.slice(arguments));return e.apply(t,i)}},setCookie:function(e,t,n){var i=new Date;i.setDate(i.getDate()+n);var r=escape(t)+(null==n?"":"; expires="+i.toUTCString());document.cookie=e+"="+r},getCookie:function(e){var t,n,i,r=document.cookie.split(";");for(t=0;t<r.length;t++)if(n=r[t].substr(0,r[t].indexOf("=")),i=r[t].substr(r[t].indexOf("=")+1),n=n.replace(/^\s+|\s+$/g,""),n==e)return unescape(i)},getQueryVar:function(e){for(var t=window.location.search.substring(1),n=t.split("&"),i=0;i<n.length;i++){var r=n[i].split("=");if(r[0]==e)return r[1]}},randomString:function(e){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");e||(e=Math.floor(Math.random()*t.length));for(var n="",i=0;e>i;i++)n+=t[Math.floor(Math.random()*t.length)];return n},timeBucket:function(e){var t=new Date,n=60*(24*t.getDate()+t.getHours())+t.getMinutes();return Math.round(n/e)}}}}.call(this),CNN=window.CNN||{},CNN.AdsConfig=CNN.AdsConfig||{},CNN.AdsConfig.adfuelOverride)!function(e,t){"use strict";var n=e.createElement("script"),i=e.getElementsByTagName("script")[0];n.type="text/javascript",n.src=("https:"===e.location.protocol?"https:":"http:")+t.AdsConfig.adfuelOverride,i.parentNode.insertBefore(n,i)}(document,window.CNN);else{!function(e){"use strict";var t=document,n=t.createElement("script"),i=t.getElementsByTagName("script")[0],r="https:"===document.location.protocol;n.type="text/javascript",n.src=(r?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js",i.parentNode.insertBefore(n,i)}(),!function(){function e(){}function t(e){return e}function n(e){return!!e}function i(e){return!e}function r(e){return function(){if(null===e)throw new Error("Callback was already called.");e.apply(this,arguments),e=null}}function o(e){return function(){null!==e&&(e.apply(this,arguments),e=null)}}function a(e){return L(e)||"number"==typeof e.length&&e.length>=0&&e.length%1===0}function s(e,t){for(var n=-1,i=e.length;++n<i;)t(e[n],n,e)}function l(e,t){for(var n=-1,i=e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function u(e){return l(Array(e),function(e,t){return t})}function c(e,t,n){return s(e,function(e,i,r){n=t(n,e,i,r)}),n}function d(e,t){s(z(e),function(n){t(e[n],n)})}function f(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function p(e){var t,n,i=-1;return a(e)?(t=e.length,function(){return i++,t>i?i:null}):(n=z(e),t=n.length,function(){return i++,t>i?n[i]:null})}function h(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),r=0;n>r;r++)i[r]=arguments[r+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i)}}}function g(e){return function(t,n,i){return e(t,i)}}function m(t){return function(n,i,a){a=o(a||e),n=n||[];var s=p(n);if(0>=t)return a(null);var l=!1,u=0,c=!1;!function d(){if(l&&0>=u)return a(null);for(;t>u&&!c;){var e=s();if(null===e)return l=!0,void(0>=u&&a(null));u+=1,i(n[e],e,r(function(e){u-=1,e?(a(e),c=!0):d()}))}}()}}function v(e){return function(t,n,i){return e(O.eachOf,t,n,i)}}function y(e){return function(t,n,i,r){return e(m(n),t,i,r)}}function _(e){return function(t,n,i){return e(O.eachOfSeries,t,n,i)}}function w(t,n,i,r){r=o(r||e),n=n||[];var s=a(n)?[]:{};t(n,function(e,t,n){i(e,function(e,i){s[t]=i,n(e)})},function(e){r(e,s)})}function b(e,t,n,i){var r=[];e(t,function(e,t,i){n(e,function(n){n&&r.push({index:t,value:e}),i()})},function(){i(l(r.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}function C(e,t,n,i){b(e,t,function(e,t){n(e,function(e){t(!e)})},i)}function S(e,t,n){return function(i,r,o,a){function s(){a&&a(n(!1,void 0))}function l(e,i,r){return a?void o(e,function(i){a&&t(i)&&(a(n(!0,e)),a=o=!1),r()}):r()}arguments.length>3?e(i,r,l,s):(a=o,o=r,e(i,l,s))}}function A(e,t){return t}function x(t,n,i){i=i||e;var r=a(n)?[]:{};t(n,function(e,t,n){e(h(function(e,i){i.length<=1&&(i=i[0]),r[t]=i,n(e)}))},function(e){i(e,r)})}function T(e,t,n,i){var r=[];e(t,function(e,t,i){n(e,function(e,t){r=r.concat(t||[]),i(e)})},function(e){i(e,r)})}function N(t,n,i){function o(t,n,i,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");return t.started=!0,L(n)||(n=[n]),0===n.length&&t.idle()?O.setImmediate(function(){t.drain()}):(s(n,function(n){var o={data:n,callback:r||e};i?t.tasks.unshift(o):t.tasks.push(o),t.tasks.length===t.concurrency&&t.saturated()}),void O.setImmediate(t.process))}function a(e,t){return function(){u-=1;var n=!1,i=arguments;s(t,function(e){s(c,function(t,i){t!==e||n||(c.splice(i,1),n=!0)}),e.callback.apply(e,i)}),e.tasks.length+u===0&&e.drain(),e.process()}}if(null==n)n=1;else if(0===n)throw new Error("Concurrency must not be zero");var u=0,c=[],d={tasks:[],concurrency:n,payload:i,saturated:e,empty:e,drain:e,started:!1,paused:!1,push:function(e,t){o(d,e,!1,t)},kill:function(){d.drain=e,d.tasks=[]},unshift:function(e,t){o(d,e,!0,t)},process:function(){if(!d.paused&&u<d.concurrency&&d.tasks.length)for(;u<d.concurrency&&d.tasks.length;){var e=d.payload?d.tasks.splice(0,d.payload):d.tasks.splice(0,d.tasks.length),n=l(e,function(e){return e.data});0===d.tasks.length&&d.empty(),u+=1,c.push(e[0]);var i=r(a(d,e));t(n,i)}},length:function(){return d.tasks.length},running:function(){return u},workersList:function(){return c},idle:function(){return d.tasks.length+u===0},pause:function(){d.paused=!0},resume:function(){if(d.paused!==!1){d.paused=!1;for(var e=Math.min(d.concurrency,d.tasks.length),t=1;e>=t;t++)O.setImmediate(d.process)}}};return d}function k(e){return h(function(t,n){t.apply(null,n.concat([h(function(t,n){"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&s(n,function(t){console[e](t)}))})]))})}function E(e){return function(t,n,i){e(u(t),n,i)}}function j(e){return h(function(t,n){var i=h(function(n){var i=this,r=n.pop();return e(t,function(e,t,r){e.apply(i,n.concat([r]))},r)});return n.length?i.apply(this,n):i})}function I(e){return h(function(t){var n=t.pop();t.push(function(){var e=arguments;i?O.setImmediate(function(){n.apply(null,e)}):n.apply(null,e)});var i=!0;e.apply(this,t),i=!1})}var F,O={},R="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this;null!=R&&(F=R.async),O.noConflict=function(){return R.async=F,O};var D=Object.prototype.toString,L=Array.isArray||function(e){return"[object Array]"===D.call(e)},U=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},z=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},M="function"==typeof setImmediate&&setImmediate,P=M?function(e){M(e)}:function(e){setTimeout(e,0)};"object"==typeof process&&"function"==typeof process.nextTick?O.nextTick=process.nextTick:O.nextTick=P,O.setImmediate=M?P:O.nextTick,O.forEach=O.each=function(e,t,n){return O.eachOf(e,g(t),n)},O.forEachSeries=O.eachSeries=function(e,t,n){return O.eachOfSeries(e,g(t),n)},O.forEachLimit=O.eachLimit=function(e,t,n,i){return m(t)(e,g(n),i)},O.forEachOf=O.eachOf=function(t,n,i){function a(e){u--,e?i(e):null===s&&0>=u&&i(null)}i=o(i||e),t=t||[];for(var s,l=p(t),u=0;null!=(s=l());)u+=1,n(t[s],s,r(a));0===u&&i(null)},O.forEachOfSeries=O.eachOfSeries=function(t,n,i){function a(){var e=!0;return null===l?i(null):(n(t[l],l,r(function(t){if(t)i(t);else{if(l=s(),null===l)return i(null);e?O.setImmediate(a):a()}})),void(e=!1))}i=o(i||e),t=t||[];var s=p(t),l=s();a()},O.forEachOfLimit=O.eachOfLimit=function(e,t,n,i){m(t)(e,n,i)},O.map=v(w),O.mapSeries=_(w),O.mapLimit=y(w),O.inject=O.foldl=O.reduce=function(e,t,n,i){O.eachOfSeries(e,function(e,i,r){n(t,e,function(e,n){t=n,r(e)})},function(e){i(e,t)})},O.foldr=O.reduceRight=function(e,n,i,r){var o=l(e,t).reverse();O.reduce(o,n,i,r)},O.transform=function(e,t,n,i){3===arguments.length&&(i=n,n=t,t=L(e)?[]:{}),O.eachOf(e,function(e,i,r){n(t,e,i,r)},function(e){i(e,t)})},O.select=O.filter=v(b),O.selectLimit=O.filterLimit=y(b),O.selectSeries=O.filterSeries=_(b),O.reject=v(C),O.rejectLimit=y(C),O.rejectSeries=_(C),O.any=O.some=S(O.eachOf,n,t),O.someLimit=S(O.eachOfLimit,n,t),O.all=O.every=S(O.eachOf,i,i),O.everyLimit=S(O.eachOfLimit,i,i),O.detect=S(O.eachOf,t,A),O.detectSeries=S(O.eachOfSeries,t,A),O.detectLimit=S(O.eachOfLimit,t,A),O.sortBy=function(e,t,n){function i(e,t){var n=e.criteria,i=t.criteria;return i>n?-1:n>i?1:0}O.map(e,function(e,n){t(e,function(t,i){t?n(t):n(null,{value:e,criteria:i})})},function(e,t){return e?n(e):void n(null,l(t.sort(i),function(e){return e.value}))})},O.auto=function(t,n,i){function r(e){v.unshift(e)}function a(e){var t=f(v,e);t>=0&&v.splice(t,1)}function l(){p--,s(v.slice(0),function(e){e()})}i||(i=n,n=null),i=o(i||e);var u=z(t),p=u.length;if(!p)return i(null);n||(n=p);var g={},m=0,v=[];r(function(){p||i(null,g)}),s(u,function(e){function o(){return n>m&&c(y,function(e,t){return e&&g.hasOwnProperty(t)},!0)&&!g.hasOwnProperty(e)}function s(){o()&&(m++,a(s),p[p.length-1](v,g))}for(var u,p=L(t[e])?t[e]:[t[e]],v=h(function(t,n){if(m--,n.length<=1&&(n=n[0]),t){var r={};d(g,function(e,t){r[t]=e}),r[e]=n,i(t,r)}else g[e]=n,O.setImmediate(l)}),y=p.slice(0,p.length-1),_=y.length;_--;){if(!(u=t[y[_]]))throw new Error("Has inexistant dependency");if(L(u)&&f(u,e)>=0)throw new Error("Has cyclic dependencies")}o()?(m++,p[p.length-1](v,g)):r(s)})},O.retry=function(e,t,n){function i(e,t){if("number"==typeof t)e.times=parseInt(t,10)||o;else{if("object"!=typeof t)throw new Error("Unsupported argument type for 'times': "+typeof t);e.times=parseInt(t.times,10)||o,e.interval=parseInt(t.interval,10)||a}}function r(e,t){function n(e,n){return function(i){e(function(e,t){i(!e||n,{err:e,result:t})},t)}}function i(e){return function(t){setTimeout(function(){t(null)},e)}}for(;l.times;){var r=!(l.times-=1);s.push(n(l.task,r)),!r&&l.interval>0&&s.push(i(l.interval))}O.series(s,function(t,n){n=n[n.length-1],(e||l.callback)(n.err,n.result)})}var o=5,a=0,s=[],l={times:o,interval:a},u=arguments.length;if(1>u||u>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return 2>=u&&"function"==typeof e&&(n=t,t=e),"function"!=typeof e&&i(l,e),l.callback=n,l.task=t,l.callback?r():r},O.waterfall=function(t,n){function i(e){return h(function(t,r){if(t)n.apply(null,[t].concat(r));else{var o=e.next();o?r.push(i(o)):r.push(n),I(e).apply(null,r)}})}if(n=o(n||e),!L(t)){var r=new Error("First argument to waterfall must be an array of functions");return n(r)}return t.length?void i(O.iterator(t))():n()},O.parallel=function(e,t){x(O.eachOf,e,t)},O.parallelLimit=function(e,t,n){x(m(t),e,n)},O.series=function(e,t){x(O.eachOfSeries,e,t)},O.iterator=function(e){function t(n){function i(){return e.length&&e[n].apply(null,arguments),i.next()}return i.next=function(){return n<e.length-1?t(n+1):null},i}return t(0)},O.apply=h(function(e,t){return h(function(n){return e.apply(null,t.concat(n))})}),O.concat=v(T),O.concatSeries=_(T),O.whilst=function(t,n,i){if(i=i||e,t()){var r=h(function(e,o){e?i(e):t.apply(this,o)?n(r):i(null)});n(r)}else i(null)},O.doWhilst=function(e,t,n){var i=0;return O.whilst(function(){return++i<=1||t.apply(this,arguments)},e,n)},O.until=function(e,t,n){return O.whilst(function(){return!e.apply(this,arguments)},t,n)},O.doUntil=function(e,t,n){return O.doWhilst(e,function(){return!t.apply(this,arguments)},n)},O.during=function(t,n,i){i=i||e;var r=h(function(e,n){e?i(e):(n.push(o),t.apply(this,n))}),o=function(e,t){e?i(e):t?n(r):i(null)};t(o)},O.doDuring=function(e,t,n){var i=0;O.during(function(e){i++<1?e(null,!0):t.apply(this,arguments)},e,n)},O.queue=function(e,t){var n=N(function(t,n){e(t[0],n)},t,1);return n},O.priorityQueue=function(t,n){function i(e,t){return e.priority-t.priority}function r(e,t,n){for(var i=-1,r=e.length-1;r>i;){var o=i+(r-i+1>>>1);n(t,e[o])>=0?i=o:r=o-1}return i}function o(t,n,o,a){if(null!=a&&"function"!=typeof a)throw new Error("task callback must be a function");return t.started=!0,L(n)||(n=[n]),0===n.length?O.setImmediate(function(){t.drain()}):void s(n,function(n){var s={data:n,priority:o,callback:"function"==typeof a?a:e};t.tasks.splice(r(t.tasks,s,i)+1,0,s),t.tasks.length===t.concurrency&&t.saturated(),O.setImmediate(t.process)})}var a=O.queue(t,n);return a.push=function(e,t,n){o(a,e,t,n)},delete a.unshift,a},O.cargo=function(e,t){return N(e,1,t)},O.log=k("log"),O.dir=k("dir"),O.memoize=function(e,n){var i={},r={};n=n||t;var o=h(function(t){var o=t.pop(),a=n.apply(null,t);a in i?O.setImmediate(function(){o.apply(null,i[a])}):a in r?r[a].push(o):(r[a]=[o],e.apply(null,t.concat([h(function(e){i[a]=e;var t=r[a];delete r[a];for(var n=0,o=t.length;o>n;n++)t[n].apply(null,e)})])))});return o.memo=i,o.unmemoized=e,o},O.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},O.times=E(O.map),O.timesSeries=E(O.mapSeries),O.timesLimit=function(e,t,n,i){return O.mapLimit(u(e),t,n,i)},O.seq=function(){var t=arguments;return h(function(n){var i=this,r=n[n.length-1];"function"==typeof r?n.pop():r=e,O.reduce(t,n,function(e,t,n){t.apply(i,e.concat([h(function(e,t){n(e,t)})]))},function(e,t){r.apply(i,[e].concat(t))})})},O.compose=function(){return O.seq.apply(null,Array.prototype.reverse.call(arguments))},O.applyEach=j(O.eachOf),O.applyEachSeries=j(O.eachOfSeries),O.forever=function(t,n){function i(e){return e?o(e):void a(i)}var o=r(n||e),a=I(t);i()},O.ensureAsync=I,O.constant=h(function(e){var t=[null].concat(e);return function(e){return e.apply(this,t)}}),O.wrapSync=O.asyncify=function(e){return h(function(t){var n,i=t.pop();try{n=e.apply(this,t)}catch(r){return i(r)}U(n)&&"function"==typeof n.then?n.then(function(e){i(null,e)})["catch"](function(e){i(e.message?e:new Error(e))}):i(null,n)})},"object"==typeof module&&module.exports?module.exports=O:"function"==typeof define&&define.amd?define([],function(){return O}):R.async=O}(),async.parallelWithTimeout=function(e,t,n,i){var r=n.map(function(e){return function(t){e.callback(function(n,i){e.isCompleted=!0,t(n,i)})}}),o=setTimeout(function(){o=null;for(var r=0;r<n.length;r++)n[r].isCompleted||console.log(e+" timeout occurred - "+n[r].name);i("async.parallel timed out out after "+t+"ms.",null)},t);async.parallel(r,function(e,t){o&&(clearTimeout(o),i(e,t))})},function(e){"use strict";function t(){return u&&u.call(l)||(new Date).getTime()}var n=[],i={},r={},o=function(){},a="-----";a+=a,a+=a,a+=a,a+=a;var s="\n\n\n\n\n\n",l=window.performance,u=l&&(l.now||l.mozNow||l.msNow||l.oNow||l.webkitNow);e.log&&"function"==typeof e.log||(e.log=o),e.profile&&"function"==typeof e.profile||(e.profile=o),e.profileEnd&&"function"==typeof e.profileEnd||(e.profileEnd=o),e.timeStamp&&"function"==typeof e.timeStamp||(e.timeStamp=o),e.trace&&"function"==typeof e.trace||(e.trace=o),e.debug&&"function"==typeof e.debug||(e.debug=e.log),e.info&&"function"==typeof e.info||(e.info=e.log),e.warn&&"function"==typeof e.warn||(e.warn=e.log),e.error&&"function"==typeof e.error||(e.error=e.log),e.dir&&"function"==typeof e.dir||(e.dir=e.log),e.dirxml&&"function"==typeof e.dirxml||(e.dirxml=e.dir);var c=!1;!c&&e.group||(e.group=function(t){n.push(t),e.log(a+"\nBEGIN GROUP: "+t)}),!c&&e.groupCollapsed||(e.groupCollapsed=e.group),!c&&e.groupEnd||(e.groupEnd=function(){e.log("END GROUP: "+n.pop()+"\n"+a)}),!c&&e.time||(e.time=function(e){i[e]=t()}),!c&&e.timeEnd||(e.timeEnd=function(n){e.log(n+": "+(t()-i[n]).toFixed(3)+"ms"),delete i[n]}),!c&&e.assert||(e.assert=function(t,n){t||e.error("Assertion failed: "+n)}),!c&&e.count||(e.count=function(t){r[t]||(r[t]=0),r[t]++,e.log(t+": "+r[t])}),!c&&e.clear||(e.clear=function(){e.log(s)})}(window.console=window.console||{}),!window.addEventListener&&function(e,t,n,i,r,o,a){e[i]=t[i]=n[i]=function(e,t){var n=this;a.unshift([n,e,t,function(e){e.currentTarget=n,e.preventDefault=function(){e.returnValue=!1},e.stopPropagation=function(){e.cancelBubble=!0},e.target=e.srcElement||n,t.call(n,e)}]),this.attachEvent("on"+e,a[0][3])},e[r]=t[r]=n[r]=function(e,t){for(var n,i=0;n=a[i];++i)if(n[0]==this&&n[1]==e&&n[2]==t)return this.detachEvent("on"+e,a.splice(i,1)[0][3])},e[o]=t[o]=n[o]=function(e){return this.fireEvent("on"+e.type,e)}}(window.prototype,document.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]),"undefined"!=typeof CustomEvent&&"function"==typeof CustomEvent||!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n;return document.createEvent?(n=document.createEvent("CustomEvent"),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail)):document.createEventObject&&(n=document.createEventObject()),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null===this)throw new TypeError('"this" is null or not defined');var i=Object(this),r=i.length>>>0;if(0===r)return-1;var o=+t||0;if(Math.abs(o)===1/0&&(o=0),o>=r)return-1;for(n=Math.max(o>=0?o:r-Math.abs(o),0);r>n;){if(n in i&&i[n]===e)return n;n++}return-1}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var AdFuel=function(){function e(e){return"function"==typeof e}function t(t,n){if(!e(t))throw new TypeError("Bind must be called on a function");var i=te.call(arguments,2);return function(){return t.apply(n,i.concat(te.call(arguments)))}}function n(){window.console.log.apply(window.console,arguments)}function i(e,t,n){e.addEventListener?e.addEventListener(t,n,!0):e.attachEvent&&e.attachEvent("on"+t,n)}function r(){for(var e="",t=0;9>t;t++)e+=Math.floor(16*Math.random()).toString(16);return e}function o(e){var t="";if(document.location.search){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)",i=new RegExp(n),r=i.exec(document.location.search);r&&(t=r[1])}return t}function a(e){if(document.cookie){for(var t=document.cookie.split(";"),n=e+"=",i=0;i<t.length;i++){for(var r=t[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(n))return r.substring(n.length,r.length)}return null}return null}function s(e){if(null==e||"object"!=typeof e)return e;if(e instanceof Date){var t=new Date;return t.setTime(e.getTime()),t}if(e instanceof Array){for(var n=[],i=0,r=e.length;r>i;i++)n[i]=s(e[i]);return n}if(e instanceof Object){var o={};for(var a in e)e.hasOwnProperty(a)&&(o[a]=s(e[a]));return o}throw new Error("Unable to copy obj! Its type isn't supported.")}function l(){function e(){n||(n=!0,de("AdFuel DOM Ready Detection"),re=!0,k())}function t(){if(!n)try{document.documentElement.doScroll("left"),e()}catch(i){setTimeout(t,10)}}var n=!1;if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(document.attachEvent){var i=!1;try{i=null!==window.frameElement}catch(r){}document.documentElement.doScroll&&!i&&t(),document.attachEvent("onreadystatechange",function(){"complete"!==document.readyState&&"loaded"!==document.readyState&&"interactive"!==document.readyState||e()})}if(window.addEventListener)window.addEventListener("load",e,!0);else if(window.attachEvent)window.attachEvent("onload",e);else{var o=window.onload;window.onload=function(){o&&o(),e()}}"complete"!==document.readyState&&"loaded"!==document.readyState&&"interactive"!==document.readyState||e()}function u(){try{var e=o("adsqa");if(e){var t=e.split("%3D");Z=t[0],ee=t[1],le.pageTargets[Z]=ee}}catch(n){pe("checkForAdsQA",n)}}function c(e){if(window[e]){if(window[e].adTargets)for(var t in window[e].adTargets)window[e].adTargets.hasOwnProperty(t)&&(le.pageTargets[t]=window[e].adTargets[t]);if(window[e].slotTargets)for(var n in window[e].slotTargets)if(window[e].slotTargets.hasOwnProperty(n)){var i=window[e].slotTargets[n];le.slotTargets[n]||(le.slotTargets[n]={});for(var t in i)i.hasOwnProperty(t)&&(le.slotTargets[n][t]=i[t])}}}function d(e){var t=s(e.targeting);Array.isArray(t)||(t=[t]);var n=le.slotTargets;if(n[e.rktr_slot_id])for(var i in n[e.rktr_slot_id])n[e.rktr_slot_id].hasOwnProperty(i)&&t.push([i,n[e.rktr_slot_id][i]]);return t}function f(){i(window,"focus",function(){ce=!0}),i(window,"blur",function(){ce=!1})}function p(){i(document,"GPTRenderComplete",function(e){de("GPT Render Complete",{renderEvent:e});var t=document.getElementById(e.detail.divId);t&&t.className.indexOf("adfuel-rendered")<0&&(t.className+=" adfuel-rendered")})}function h(e,t){le.pageTargets[e]=t,_e.executeWhenAvailable("Adding Page Level Target",function(){_e.setTargeting(e,t)})}function g(e){_e.executeWhenAvailable("Removing Page Level Target",function(){_e.clearTargeting(e),e?delete le.pageTargets[e]:(le.pageTargets={},Z&&h(Z,ee))})}function m(e,t,n){le.slotTargets[e]=le.slotTargets[e]||{},le.slotTargets[e][t]=n,_e.executeWhenAvailable("Adding Slot Level Target",function(){var i=he[e];i&&_e.setSlotTargeting(i,t,n)})}function v(e,t){_e.executeWhenAvailable("Removing Slot Level Target",function(){var t=he[e];if(t){var n={},i=t.getTargetingKeys();for(var r in i){var o=i[r];n[o]=t.getTargeting(o)}a?delete n[a]:n={pos:n.pos},_e.clearSlotTargeting(t);for(var a in n)_e.setSlotTargeting(t,a,n[a])}le.slotTargets[e]&&(a?delete le.slotTargets[e][a]:le.slotTargets[e].length=0)})}function y(){var e=a("gptgeo");
if(e){var t=e.split("%2C"),n=parseFloat(t[0]),i=parseFloat(t[1]);_e.executeWhenAvailable("setting location",function(){_e.setLocation(n,i)})}else fe("Unable to retrieve location cookie",e);_e.executeWhenAvailable("setting page level targeting",function(){var e=s(ie),t=le.pageTargets;for(var n in t)t.hasOwnProperty(n)&&e.push([n,t[n]]);de("Page Level Targeting",JSON.stringify(e));for(var i=0;i<e.length;i++){var r=e[i][1];if(de("Setting Page-Level Targeting",e[i][0],r),r&&!Array.isArray(r)&&(r=r.indexOf(",")>=0?r.split(","):[r]),"exclusions"==e[i][0])for(var o=0;o<r.length;o++){var a=e[i][1][o];_e.setCategoryExclusion(a)}else{var l=e[i][0];_e.setTargeting(l,r)}}})}function _(e){var t=document.querySelectorAll("div#"+e.rktr_slot_id);if(0!=t.length)for(var n=0;n<t.length;n++){var i=t[n];if(!(i.className.indexOf("adfuel-rendered")>=0)){if(1==t.length&&he[e.rktr_slot_id]){var r=A(e,!0);return C(r.rktr_slot_id),r}return A(e)}de("Found rendered slot...",e.rktr_slot_id)}return fe("Not building slot... Can't Find Unrendered Slot On Page",e.rktr_slot_id),null}function w(e){var t=se.networkId;e.inherit&&Y&&(e.rktr_ad_id=Y),de("Building Slot",e);var n="/"+t+"/"+e.rktr_ad_id,i=e.rktr_slot_id,r=e.rktr_slot_id.indexOf("_oop")>=1,o=r?"Defining OOP Slot":"Defining Standard Slot";_e.executeWhenAvailable(o,function(){r?he[i]=_e.defineOutOfPageSlot(n,i):he[i]=_e.defineSlot(n,e.sizes,i)}),de("Slots",he),_e.executeWhenAvailable("Defining slot targeting",function(){var t=d(e);for(var n in t)if(t.hasOwnProperty(n)){var r;if(r=t[n]&&t[n][1]?JSON.stringify(t[n][1]):""){r=JSON.parse(r);var o=he[i];if("exclusions"==t[n][0])if(Array.isArray(t[n][1]))for(var a in t[n][1])t[n][1].hasOwnProperty(a)&&(r=t[n][1][a],_e.setSlotCategoryExclusion(o,r));else _e.setSlotCategoryExclusion(o,r);else{var s=t[n][0];_e.setSlotTargeting(o,s,r)}}}}),de("Checking Responsive Mapping For Slot",e.responsive,e.responsive.length),e.responsive=e.responsive||[],e.responsive.length>0&&S(e.rktr_slot_id,e.responsive)}function b(e,t){function n(e){var t=ge.indexOf(e);t>=0&&ge.splice(t,1)}for(var i=[],r=0;r<e.length;r++){var o=e[r],a=t&&t.ignoreCheck,s=!0;a||_(o)||(n(o),s=!1),s&&(w(o),i.push(o),n(o))}return i}function C(e){e=e||[],Array.isArray(e)||(e=[e]),de("Clearing Slots",{slotDivIds:e}),_e.executeWhenAvailable("clearing slots",function(){var t=[];e.length>0&&(t=e.filter(function(e){return!!he[e]}).map(function(e){return he[e]}),0==t.length)||_e.clearSlots(t)})}function S(e,t){for(var n=0;n<t.length;n++){for(var i=JSON.parse(JSON.stringify(t[n])),r=0;r<i.length;r++)if(Array.isArray(i[r]))for(var o=0;o<i[r].length;o++)if(Array.isArray(i[r][o]))for(var a=0;a<i[r][o].length;a++)i[r][o][a]=parseInt(i[r][o][a]);else parseInt(i[r][o])>=0?i[r][o]=parseInt(i[r][o]):i[r]=[];else i[r]=[];t[n]=i}_e.executeWhenAvailable("setting slot mappings",function(){_e.defineSlotSizeMapping(he[e],t)})}function A(e,t){de("Checking to see if slot div id needs updated.",{slot:e});var n=e.rktr_slot_id,i=n,o=n.split("_"),a=o[o.length-1],s=document.querySelectorAll("div#"+n);if(s.length>1||1==s.length&&t){for(de("updating slot div id.",{slot:e});he[i];)3==o.length?a=r():(a=parseInt(a)+1,a=10>a?"0"+String(a):String(a)),o[o.length-1]=a,i=o.join("_");x(e,i,n),T(n,i)}return e}function x(e,t,n){e.rktr_slot_id=t;try{var i=new CustomEvent("SlotIdChange",{detail:{asset:e,originalId:n,newId:t}});document.dispatchEvent(i)}catch(r){fe("error dispatching custom Event: SlotIdChange",r)}}function T(e,t){var n=document.querySelectorAll("div#"+e);if(n.length>0)for(var i=0;i<n.length;i++){var r=n[i];(r.className.indexOf("adfuel-rendered")<0&&n.length>1||1==n.length)&&(r.id=t)}}function N(){return ue&&re}function k(){if(N())if(me.length>0){for(var e=0;e<me.length;e++)me[e]();me.length=0}else se.autoDispatch&&AdFuel.dispatchQueue()}function E(e){if(!N())return de("Delaying Queue Dispatch"),void me.push(function(){E(e)});if(e=e||{},de("Registry",AdFuel.registry),de("SlotQueue: ",ge),de("Dispatch Options: ",e),ge.length>0){var t=ge.filter(function(t){return(!e.slots||0==e.slots.length||e.slots.indexOf(t.rktr_slot_id)>=0)&&(!e.exclude||0==e.exclude.length||e.exclude.indexOf(t.rktr_slot_id)<0)&&(e.slots&&e.slots.length>0||ye.indexOf(t.rktr_slot_id)<0)});if(e.slots&&e.slots.length>0&&ye.length>0)for(var n=0;n<e.slots.length;n++){var i=ye.indexOf(e.slots[n]);i>=0&&ye.splice(i,1)}var r=b(t,e);if(r.length>0){y();var o=s(r),a=ve.filter(function(e){return!!e.callbacks.preDispatchCallback}).map(function(e){return oe(e.name,function(t){e.callbacks.preDispatchCallback(o,t)})});e&&e.preDispatchCallback&&a.push(oe("dispatchOptions",function(t){e.preDispatchCallback(o,t)})),async.parallelWithTimeout("preDispatch",se.dispatchCallbackTimeoutInMilliseconds,a,function(t){t&&fe("error calling preDispatchCallbacks for registered modules",t);var n=O(r,e),i=s(n),o=ve.filter(function(e){return!!e.callbacks.postDispatchCallback}).map(function(e){return oe(e.name,function(t){e.callbacks.postDispatchCallback(i,t)})});e&&e.postDispatchCallback&&o.push(oe("dispatchOptions",function(t){e.postDispatchCallback(i,t)})),async.parallelWithTimeout("postDispatch",se.dispatchCallbackTimeoutInMilliseconds,o,function(e){e&&fe("error calling postDispatchCallbacks for registered modules",e),de("Slot Queue After Dispatch:",ge)})})}}}function j(e,t){function n(){t.dispatch&&AdFuel.dispatchQueue(t)}if(t=t||{dispatch:se.autoDispatch},t.exclude&&t.exclude.length>0)for(var i=0;i<t.exclude.length;i++){var r=t.exclude[i];ye.indexOf(r)<0&&ye.push(r)}!function(t){var n=document,i=n.createElement("script"),r=n.getElementsByTagName("script")[0],o=/^(complete|loaded)$/,a=!1;i.type="text/javascript",i.src=e,i.onload=i.onreadystatechange=function(){a||"readyState"in i&&o.test(i.readyState)||(i.onload=i.onreadystatechange=null,a=!0,t())},r.parentNode.insertBefore(i,r)}(n)}function I(e,t,n){function i(){if(o++==t){var s=n();s&&I(e,t,n)}else{var l=(new Date).getTime()-a-o*r;window.setTimeout(i,r-l)}}t=t||10;var r=e/t,o=0,a=(new Date).getTime();window.setTimeout(i,r)}function F(e,t){function n(e){de("starting refresh interval: "+e,t);var r=1e3*e;I(r,5,function(){if(!t.interval||0==parseInt(t.interval))return de("stopping refresh interval: "+e,t),!1;var r=parseInt(t.interval);return e!=r?(de("changing refresh interval: "+e,t),n(r),!1):(i(),!0)})}!e||Array.isArray(e)||t?t=t||{}:(t=e,e=[]),e||(e=[]),t.pageload=void 0==t.pageload?!0:t.pageload,de("Refresh Options",t);var i=function(){if(ce||!se.refreshOnFocusOnly){var n=[],i=[],r=[];if(0==e.length)for(var o in he)he.hasOwnProperty(o)&&r.push(o);else r=e;for(var a=0;a<r.length;a++){var o=r[a];if(document.getElementById(o)){var s=he[o];s&&(n.push(s),i.push(o))}else fe("Cannot find element on page to refresh: "+o)}if(e.length>0&&0==i.length)return;var l=ve.filter(function(e){return!!e.callbacks.preRefreshCallback}).map(function(e){return oe(e.name,function(t){e.callbacks.preRefreshCallback(i,t)})});t.preRefreshCallback&&l.push(oe("refreshOptions",function(e){t.preRefreshCallback(i,e)})),async.parallelWithTimeout("preRefresh",se.refreshCallbackTimeoutInMilliseconds,l,function(e){e&&fe("error calling preRefreshCallbacks for all registered modules",e),C(i),_e.updateCorrelator(),t.pageload?_e.setTargeting("pageload","ref"):_e.clearTargeting("pageload"),_e.refreshSlots(n);var r=i,o=ve.filter(function(e){return!!e.callbacks.postRefreshCallback}).map(function(e){return oe(e.name,function(t){e.callbacks.postRefreshCallback(r,t)})});t.postRefreshCallback&&o.push(oe("refreshOptions",function(e){t.postRefreshCallback(r,e)})),async.parallelWithTimeout("postRefresh",se.refreshCallbackTimeoutInMilliseconds,o,function(e){e&&fe("error calling postRefreshCallbacks for all registered modules",e)})})}};if(t.interval&&parseInt(t.interval)>0){var r=parseInt(t.interval);n(r)}else i()}function O(e,t){de("Sending Request...",e),t=t||{sync:!1,syncSlots:[],maintainCorrelator:!1};var n=[];_e.configurePubAds();for(var i=function(e){_e.executeWhenAvailable("displaying slot",function(){_e.displaySlotById(e)})},r=0;r<e.length;r++){var o=e[r].rktr_slot_id;document.getElementById(o)?(i(o),n.push(e[r])):fe("Can't Find Slot On Page",o)}var a=n.map(function(e){return e.rktr_slot_id});_e.executeWhenAvailable("refreshing slots",function(){var e=[];for(var n in he)he.hasOwnProperty(n)&&(t.sync&&(!t.syncSlots||0==t.syncSlots.length||t.syncSlots.indexOf(n)>=0)||a.indexOf(n)>=0)&&e.push(he[n]);_e.refreshSlots(e)}),t.maintainCorrelator||_e.executeWhenAvailable("updating correlator",_e.updateCorrelator);try{var s=new CustomEvent("AdFuelRequestComplete",{detail:{slots:JSON.parse(JSON.stringify(n)),options:t}});document.dispatchEvent(s)}catch(l){fe("error dispatching custom Event: AdFuelRequestComplete",l)}return n}function R(e){if(e)for(var t in e)if(e.hasOwnProperty(t))if("slotTargets"==t)for(var n in e[t])e[t].hasOwnProperty(n)&&AdFuel.addSlotLevelTarget(t,n,e[t][n]);else if("adTargets"==t)for(var n in e[t])e[t].hasOwnProperty(n)&&AdFuel.addPageLevelTarget(t,e[t]);else AdFuel.addPageLevelTarget(t,e[t])}function D(e){if(e.indexOf("/")>=0){var t=e.split("/")[0];if(parseInt(t)>0){var n=e.split("/");n.splice(0,1),e=n.join("/")}}return e}function L(e,t){de(t,e)}function U(e){de("Queuing Singleton",e),e.size=e.size||[[88,31]],e.targets=e.targets||[],e.responsive=e.responsive||[];var t=e.divId;e.adunit=D(e.adunit);var n={singleton:!0,rktr_id:"singleton_"+t,gpt_id:se.networkId,root:e.adunit.split("/")[0].toUpperCase(),responsive:[],rktr_slot_id:"page"};if(ie&&e.targets.length>0){for(var i=[],r=0;r<e.targets.length;r++){for(var o=e.targets[r],a=!1,s=0;s<ie.length;s++)ie[s][0]==o[0]&&(a=!0);a||i.push(o)}e.targets=i}n.targeting=ie;var l={present:!0,responsive:e.responsive,rktr_slot_id:e.divId,sizes:e.size,targeting:e.targets,rktr_ad_id:e.adunit,inherit:e.inherit};if(l=_(l)){var u=[n,l];AdFuel.registry.push(u),e.dispatch&&!se.autoDispatch&&AdFuel.dispatchQueue({slots:[l.rktr_slot_id]})}else fe("missing singleton: "+e.divId)}function z(e){j(e,{dispatch:!0})}function M(e,t,n){AdFuel.refresh([e],{pageload:t,interval:0,updateCorrelator:n})}function P(e,t,n,i){AdFuel.refresh([e],{pageload:n||!1,interval:t||0,updateCorrelator:i||!0})}function Q(e,t,n,i){AdFuel.refresh(e,{pageload:n||!1,interval:t||0,updateCorrelator:i||!0})}function q(e,t,n){var i={pageload:t||!1,interval:e||0,updateCorrelator:n||!0};return AdFuel.refresh([],i),!0}function B(e,t,n,i,r,o,a,s){e.indexOf("ad_carousel_slide")>=0&&(r="NBA/homepage"),U({divId:e,size:t,targets:n,responsive:i,adunit:r,delay:o,inherit:a,dispatch:void 0==s?!0:s,sync:!1,syncSlots:[]})}function $(){i(document,"AdFuelRequestComplete",function(e){de("AdFuel Request Complete",{requestEvent:e})}),i(document,"GPTRenderComplete",function(e){de("GPT Render Complete",{renderEvent:e})}),i(document,"GPTSlotBuildComplete",function(e){de("GPT Slot Build Complete",{renderEvent:e})}),i(document,"SlotIdChange",function(e){de("Slot ID Change",{idChangeEvent:e})})}function W(){if(!ue){ue=!0,f(),p(),u(),$(),l(),k();try{var e=new CustomEvent("AdFuelCreated",{detail:{AdFuel:window.AdFuel}});document.dispatchEvent(e)}catch(t){fe("error dispatching custom Event: AdFuelCreated",t)}}}function H(){return s(ge)}function V(e){for(var t,n=0;n<AdFuel.registry.length;n++)for(var i=AdFuel.registry[n],r=1;r<i.length;r++){var o=i[r];o.rktr_slot_id==e&&(t=s(o))}var a,l={},u=he[e];if(u){a=u.getAdUnitPath();var c=u.getTargetingKeys();for(var d in c){var f=c[d];l[f]=u.getTargeting(f)}}return{adUnit:a,slot:t,slotTargeting:l}}function K(e,t){de("registering module: "+e);for(var n=-1,i=0;i<ve.length;i++)ve[i].name==e&&(n=i);n>=0?ve[n].callbacks=t:ve.push({name:e,callbacks:t})}function J(e){for(var t=-1,n=0;n<ve.length;n++)ve[n].name==e&&(t=n);t>=0&&ve.splice(t,1)}function G(e){var t=arguments.callee,n="window/console";try{n=t.caller.toString()}catch(i){n="window/console"}return function(){return ue?void e.apply(this,arguments):(pe("ERROR: AdFuel must be initialized first!"),void de("------------------FUNCTION --------------------",e,"--------------- END FUNCTION ------------------","called by: "+n))}}function X(e){if(e){if(e.exclude&&e.exclude.length>0)for(var t=0;t<e.exclude.length;t++){var n=e.exclude[t];ye.indexOf(n)<0&&ye.push(n)}for(var i in e)e.hasOwnProperty(i)&&(se[i]=e[i])}}var Y,Z,ee,te=Array.prototype.slice,ne=function(){},ie=[],re=!1,oe=function(e,t){return{name:e,callback:t}},ae=function(){var e=[];return e.push=function(t){var n=s(t),i=ve.filter(function(e){return!!e.callbacks.preQueueCallback}).map(function(e){return oe(e.name,function(t){e.callbacks.preQueueCallback(n,t)})});async.parallelWithTimeout("preQueue",se.queueCallbackTimeoutInMilliseconds,i,function(n){n&&fe("error calling preQueueCallbacks for registered modules",n),Array.prototype.push.call(e,t),t[0].singleton||(ie=t[0].targeting,Y=D(t[1].rktr_ad_id));var i=t[0].root.toUpperCase();c(i);for(var r=t[0].rktr_id,o=new Date,a=1;a<t.length;a++){var l=t[a];l.parentRegistry=r,l.adfuel_queued_date=o,l.queued||(l.queued=!0,ge.push(l))}var u=s(ge),d=ve.filter(function(e){return!!e.callbacks.postQueueCallback}).map(function(e){return oe(e.name,function(t){e.callbacks.postQueueCallback(u,t)})});async.parallelWithTimeout("postQueue",se.queueCallbackTimeoutInMilliseconds,d,function(e){e&&fe("error calling postQueueCallbacks for registered modules",e),se.autoDispatch&&AdFuel.dispatchQueue()})})},e},se={refreshOnFocusOnly:!1,networkId:"8663477",autoDispatch:!0,exclude:[],queueCallbackTimeoutInMilliseconds:300,dispatchCallbackTimeoutInMilliseconds:300,refreshCallbackTimeoutInMilliseconds:300},le={pageTargets:{},slotTargets:{}},ue=!1,ce=!0,de="true"==o("debug")?t(n,null,"[AdFuel - DEBUG]"):ne,fe=t(n,null,"[AdFuel - WARNING]"),pe=t(n,null,"[AdFuel - ERROR]"),he={},ge=[],me=[],ve=[],ye=[],_e=function(){function e(e,t){return y||(y=window.googletag.apiReady&&window.googletag.pubads,!y&&e&&pe("GPT is unavailable - "+e,t)),y}function t(e,t){window.googletag.cmd.push(t)}function n(){v||(v=!0,AdFuel.requestScriptText+="googletag.pubads().collapseEmptyDivs(true);\n",AdFuel.requestScriptText+="googletag.pubads().enableAsyncRendering();\n",AdFuel.requestScriptText+="googletag.pubads().enableSingleRequest();\n",AdFuel.requestScriptText+="googletag.pubads().disableInitialLoad();\n",AdFuel.requestScriptText+="googletag.enableServices();\n",t("Sending Request",function(){window.googletag.pubads().addEventListener("slotRenderEnded",function(e){try{var t={};e.slot&&(t.asset=e.slot),e.slot.getTargeting("pos")&&(t.pos=e.slot.getTargeting("pos")),e.isEmpty?t.empty=!0:t.empty=!1,e.size&&(t.renderedSize=e.size),e.creativeId&&(t.creativeId=e.creativeId),e.lineItemId&&(t.lineItemId=e.lineItemId),e.serviceName&&(t.serviceName=e.serviceName),e.slot.getSlotElementId()&&(t.divId=e.slot.getSlotElementId()),de("GPTRenderComplete Details: ",t);var n=new CustomEvent("GPTRenderComplete",{detail:t});document.dispatchEvent(n)}catch(i){fe("error dispatching custom Event: GPTRenderComplete",i)}}),window.googletag.pubads().collapseEmptyDivs(!0),window.googletag.pubads().enableAsyncRendering(),window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().disableInitialLoad(),window.googletag.enableServices()}))}function i(t){var n=!1;return e("clearing target",{key:t?t:"all"})&&(t?window.googletag.pubads().clearTargeting(t):window.googletag.pubads().clearTargeting(),n=!0),n}function r(t,n){var i=!1;return e("setting target",{key:t,value:n})&&(window.googletag.pubads().setTargeting(t,n),i=!0),i}function o(t,n){var i=!1;return e("setting location",{latitude:t,logitude:n})&&(window.googletag.pubads().setLocation(t,n),i=!0),i}function a(t){var n=!1;return e("setting category exclusion: "+t)&&(AdFuel.requestScriptText+="googletag.pubads().setCategoryExclusion('"+t+"');\n",window.googletag.pubads().setCategoryExclusion(t),n=!0),n}function s(){var t=!1;return e("updating correlator")&&(AdFuel.requestScriptText+="googletag.pubads().updateCorrelator();\n",window.googletag.pubads().updateCorrelator(),t=!0),t}function l(t,n){var i;return e("defining out of page slot",{adPath:t,slotId:n})&&(de("Building OOP Slot Object",{adPath:t,slotId:n}),AdFuel.requestScriptText+="\n_pageSlots['"+n+"'] = googletag.defineOutOfPageSlot('"+t+"', '"+n+"').addService(googletag.pubads());\n",i=window.googletag.defineOutOfPageSlot(t,n).addService(window.googletag.pubads())),i}function u(t,n,i){var r;return e("defining standard slot",{adPath:t,sizes:n,slotId:i})&&(de("Building Standard Slot Object",{adPath:t,sizes:n,slotId:i}),AdFuel.requestScriptText+="\n_pageSlots['"+i+"'] = googletag.defineSlot('"+t+"', "+JSON.stringify(n)+", '"+i+"').addService(googletag.pubads());\n",r=window.googletag.defineSlot(t,n,i).addService(window.googletag.pubads())),r}function c(e,t){var n=e.getSlotElementId();de("Setting Slot Category Exclusion",{slotId:n,value:t}),AdFuel.requestScriptText+="_pageSlots['"+n+"'].setCategoryExclusion('"+t+"');\n",e.setCategoryExclusion(t)}function d(e,t,n){var i=e.getSlotElementId();de("Setting Slot Targeting",{slotId:i,key:t,value:n}),AdFuel.requestScriptText+="_pageSlots['"+i+"'].setTargeting('"+t+"', '"+n+"');\n",e.setTargeting(t,n)}function f(e,t){var n=e.getSlotElementId();de("Setting Slot size mapping",{slotId:n,responsiveMap:t}),AdFuel.requestScriptText+="_pageSlots['"+n+"'].defineSizeMapping('"+JSON.stringify(t)+"');\n",e.defineSizeMapping(t)}function p(e){de("Displaying Slot: "+e),AdFuel.requestScriptText+='googletag.display("'+e+'");\n',window.googletag.display(e)}function h(e){var t=e.getSlotElementId();de("Clearing targeting for Slot: "+t),AdFuel.requestScriptText+="_pageSlots['"+t+"'].clearTargeting();\n",e.clearTargeting()}function g(e){var t=0==e.length?"all":e.map(function(e){return e.getSlotElementId()}).join(",");AdFuel.requestScriptText+="googletag.pubads().clear("+t+");\n",e.length>0?window.googletag.pubads().clear(e):window.googletag.pubads().clear()}function m(e){var t=0==e.length?"all":e.map(function(e){return e.getSlotElementId()}).join(",");AdFuel.requestScriptText+="googletag.pubads().refresh("+t+");\n",e.length>0?window.googletag.pubads().refresh(e):window.googletag.pubads().refresh()}window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var v=!1,y=!1;return{executeWhenAvailable:t,isAvailable:e,configurePubAds:n,clearTargeting:i,setTargeting:r,setLocation:o,setCategoryExclusion:a,updateCorrelator:s,defineOutOfPageSlot:l,defineSlot:u,setSlotCategoryExclusion:c,setSlotTargeting:d,displaySlotById:p,defineSlotSizeMapping:f,refreshSlots:m,clearSlots:g,clearSlotTargeting:h}}();return{init:W,logit:L,addEvent:i,setOptions:X,clearSlot:G(C),clearSlots:G(C),clearAllSlots:G(C),queueSingleton:U,processNewRegistry:z,reloadAd:G(M),refreshAd:G(P),refreshAds:G(Q),refreshAllAds:G(q),renderSingleSlot:B,requestAndRenderAds:E,pageSlots:he,pageSlotsObj:he,setBulkTargeting:R,dispatchQueue:E,queueRegistry:j,getQueuedSlots:H,getSlotDetails:V,refresh:G(F),removePageLevelTarget:G(g),removeSlotLevelTarget:G(v),addPageLevelTarget:G(h),addSlotLevelTarget:G(m),generateSingletonId:r,registry:new ae,requestScriptText:"",readCookie:a,registerModule:K,unregisterModule:J}}();window.AMPTManager=window.AdFuel,window.AdFuel.init()}!function(e){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return"undefined"==typeof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,n){function i(e,t){return n(t,e)}e.each(t,i)},map:e.map,filter:e.grep,every:function(t,n){var i=!0;return t?(e.each(t,function(e,r){return(i=n.call(null,r,e,t))?void 0:!1}),!!i):i},some:function(t,n){var i=!1;return t?(e.each(t,function(e,r){return(i=n.call(null,r,e,t))?!1:void 0}),!!i):i},mixin:e.extend,getUniqueId:function(){var e=0;return function(){return e++}}(),templatify:function(t){function n(){return String(t)}return e.isFunction(t)?t:n},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var i,r;return function(){var o,a,s=this,l=arguments;return o=function(){i=null,n||(r=e.apply(s,l))},a=n&&!i,clearTimeout(i),i=setTimeout(o,t),a&&(r=e.apply(s,l)),r}},throttle:function(e,t){var n,i,r,o,a,s;return a=0,s=function(){a=new Date,r=null,o=e.apply(n,i)},function(){var l=new Date,u=t-(l-a);return n=this,i=arguments,0>=u?(clearTimeout(r),r=null,a=l,o=e.apply(n,i)):r||(r=setTimeout(s,u)),o}},noop:function(){}}}(),n="0.10.5",i=function(){"use strict";function e(e){return e=t.toStr(e),e?e.split(/\s+/):[]}function n(e){return e=t.toStr(e),e?e.split(/\W+/):[]}function i(e){return function(){var n=[].slice.call(arguments,0);return function(i){var r=[];return t.each(n,function(n){r=r.concat(e(t.toStr(i[n])))}),r}}}return{nonword:n,whitespace:e,obj:{nonword:i(n),whitespace:i(e)}}}(),r=function(){"use strict";function n(n){this.maxSize=t.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=e.noop)}function i(){this.head=this.tail=null}function r(e,t){this.key=e,this.val=t,this.prev=this.next=null}return t.mixin(n.prototype,{set:function(e,t){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key]),(n=this.hash[e])?(n.val=t,this.list.moveToFront(n)):(n=new r(e,t),this.list.add(n),this.hash[e]=n,this.size++)},get:function(e){var t=this.hash[e];return t?(this.list.moveToFront(t),t.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new i}}),t.mixin(i.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),n}(),o=function(){"use strict";function e(e){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+t.escapeRegExChars(this.prefix))}function n(){return(new Date).getTime()}function i(e){return JSON.stringify(t.isUndefined(e)?null:e)}function r(e){return JSON.parse(e)}var o,a;try{o=window.localStorage,o.setItem("~~~","!"),o.removeItem("~~~")}catch(s){o=null}return a=o&&window.JSON?{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},get:function(e){return this.isExpired(e)&&this.remove(e),r(o.getItem(this._prefix(e)))},set:function(e,r,a){return t.isNumber(a)?o.setItem(this._ttlKey(e),i(n()+a)):o.removeItem(this._ttlKey(e)),o.setItem(this._prefix(e),i(r))},remove:function(e){return o.removeItem(this._ttlKey(e)),o.removeItem(this._prefix(e)),this},clear:function(){var e,t,n=[],i=o.length;for(e=0;i>e;e++)(t=o.key(e)).match(this.keyMatcher)&&n.push(t.replace(this.keyMatcher,""));for(e=n.length;e--;)this.remove(n[e]);return this},isExpired:function(e){var i=r(o.getItem(this._ttlKey(e)));return!!(t.isNumber(i)&&n()>i)}}:{get:t.noop,set:t.noop,remove:t.noop,clear:t.noop,isExpired:t.noop},t.mixin(e.prototype,a),e}(),a=function(){"use strict";function n(t){t=t||{},this.cancelled=!1,this.lastUrl=null,this._send=t.transport?i(t.transport):e.ajax,this._get=t.rateLimiter?t.rateLimiter(this._get):this._get,this._cache=t.cache===!1?new r(0):l}function i(n){return function(i,r){function o(e){t.defer(function(){s.resolve(e)})}function a(e){t.defer(function(){s.reject(e)})}var s=e.Deferred();return n(i,r,o,a),s}}var o=0,a={},s=6,l=new r(10);return n.setMaxPendingRequests=function(e){s=e},n.resetCache=function(){l.reset()},t.mixin(n.prototype,{_get:function(e,t,n){function i(t){n&&n(null,t),c._cache.set(e,t)}function r(){n&&n(!0)}function l(){o--,delete a[e],c.onDeckRequestArgs&&(c._get.apply(c,c.onDeckRequestArgs),c.onDeckRequestArgs=null)}var u,c=this;this.cancelled||e!==this.lastUrl||((u=a[e])?u.done(i).fail(r):s>o?(o++,a[e]=this._send(e,t).done(i).fail(r).always(l)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(e,n,i){var r;return t.isFunction(n)&&(i=n,n={}),this.cancelled=!1,this.lastUrl=e,(r=this._cache.get(e))?t.defer(function(){i&&i(null,r)}):this._get(e,n,i),!!r},cancel:function(){this.cancelled=!0}}),n}(),s=function(){"use strict";function n(t){t=t||{},t.datumTokenizer&&t.queryTokenizer||e.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=t.datumTokenizer,this.queryTokenizer=t.queryTokenizer,this.reset()}function i(e){return e=t.filter(e,function(e){return!!e}),e=t.map(e,function(e){return e.toLowerCase()})}function r(){return{ids:[],children:{}}}function o(e){for(var t={},n=[],i=0,r=e.length;r>i;i++)t[e[i]]||(t[e[i]]=!0,n.push(e[i]));return n}function a(e,t){function n(e,t){return e-t}var i=0,r=0,o=[];e=e.sort(n),t=t.sort(n);for(var a=e.length,s=t.length;a>i&&s>r;)e[i]<t[r]?i++:e[i]>t[r]?r++:(o.push(e[i]),i++,r++);return o}return t.mixin(n.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var n=this;e=t.isArray(e)?e:[e],t.each(e,function(e){var o,a;o=n.datums.push(e)-1,a=i(n.datumTokenizer(e)),t.each(a,function(e){var t,i,a;for(t=n.trie,i=e.split("");a=i.shift();)t=t.children[a]||(t.children[a]=r()),t.ids.push(o)})})},get:function(e){var n,r,s=this;return n=i(this.queryTokenizer(e)),t.each(n,function(e){var t,n,i,o;if(r&&0===r.length)return!1;for(t=s.trie,n=e.split("");t&&(i=n.shift());)t=t.children[i];return t&&0===n.length?(o=t.ids.slice(0),void(r=r?a(r,o):o)):(r=[],!1)}),r?t.map(o(r),function(e){return s.datums[e]}):[]},reset:function(){this.datums=[],this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),l=function(){"use strict";function i(e){return e.local||null}function r(i){var r,o;return o={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(r=i.prefetch||null)&&(r=t.isString(r)?{url:r}:r,r=t.mixin(o,r),r.thumbprint=n+r.thumbprint,r.ajax.type=r.ajax.type||"GET",r.ajax.dataType=r.ajax.dataType||"json",!r.url&&e.error("prefetch requires url to be set")),r}function o(n){function i(e){return function(n){return t.debounce(n,e)}}function r(e){return function(n){return t.throttle(n,e)}}var o,a;return a={url:null,cache:!0,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(o=n.remote||null)&&(o=t.isString(o)?{url:o}:o,o=t.mixin(a,o),o.rateLimiter=/^throttle$/i.test(o.rateLimitBy)?r(o.rateLimitWait):i(o.rateLimitWait),o.ajax.type=o.ajax.type||"GET",o.ajax.dataType=o.ajax.dataType||"json",delete o.rateLimitBy,delete o.rateLimitWait,!o.url&&e.error("remote requires url to be set")),o}return{local:i,prefetch:r,remote:o}}();!function(n){"use strict";function r(t){t&&(t.local||t.prefetch||t.remote)||e.error("one of local, prefetch, or remote is required"),this.limit=t.limit||5,this.sorter=u(t.sorter),this.dupDetector=t.dupDetector||c,this.local=l.local(t),this.prefetch=l.prefetch(t),this.remote=l.remote(t),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new s({datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),this.storage=this.cacheKey?new o(this.cacheKey):null}function u(e){function n(t){return t.sort(e)}function i(e){return e}return t.isFunction(e)?n:i}function c(){return!1}var d,f;return d=n.Bloodhound,f={data:"data",protocol:"protocol",thumbprint:"thumbprint"},n.Bloodhound=r,r.noConflict=function(){return n.Bloodhound=d,r},r.tokenizers=i,t.mixin(r.prototype,{_loadPrefetch:function(t){function n(e){o.clear(),o.add(t.filter?t.filter(e):e),o._saveToStorage(o.index.serialize(),t.thumbprint,t.ttl)}var i,r,o=this;return(i=this._readFromStorage(t.thumbprint))?(this.index.bootstrap(i),r=e.Deferred().resolve()):r=e.ajax(t.url,t.ajax).done(n),r},_getFromRemote:function(e,t){function n(e,n){t(e?[]:o.remote.filter?o.remote.filter(n):n)}var i,r,o=this;if(this.transport)return e=e||"",r=encodeURIComponent(e),i=this.remote.replace?this.remote.replace(this.remote.url,e):this.remote.url.replace(this.remote.wildcard,r),this.transport.get(i,this.remote.ajax,n)},_cancelLastRemoteRequest:function(){this.transport&&this.transport.cancel()},_saveToStorage:function(e,t,n){this.storage&&(this.storage.set(f.data,e,n),this.storage.set(f.protocol,location.protocol,n),this.storage.set(f.thumbprint,t,n))},_readFromStorage:function(e){var t,n={};return this.storage&&(n.data=this.storage.get(f.data),n.protocol=this.storage.get(f.protocol),n.thumbprint=this.storage.get(f.thumbprint)),t=n.thumbprint!==e||n.protocol!==location.protocol,n.data&&!t?n.data:null},_initialize:function(){function n(){r.add(t.isFunction(o)?o():o)}var i,r=this,o=this.local;return i=this.prefetch?this._loadPrefetch(this.prefetch):e.Deferred().resolve(),o&&i.done(n),this.transport=this.remote?new a(this.remote):null,this.initPromise=i.promise()},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){this.index.add(e)},get:function(e,n){function i(e){var i=o.slice(0);t.each(e,function(e){var n;return n=t.some(i,function(t){return r.dupDetector(e,t)}),!n&&i.push(e),i.length<r.limit}),n&&n(r.sorter(i))}var r=this,o=[],a=!1;o=this.index.get(e),o=this.sorter(o).slice(0,this.limit),o.length<this.limit?a=this._getFromRemote(e,i):this._cancelLastRemoteRequest(),a||(o.length>0||!this.transport)&&n&&n(o)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&a.resetCache()},ttAdapter:function(){return t.bind(this.get,this)}}),r}(this);var u=function(){return{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'}}(),c=function(){"use strict";var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return t.isMsie()&&t.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t.isMsie()&&t.isMsie()<=7&&t.mixin(e.input,{marginTop:"-1px"}),e}(),d=function(){"use strict";function n(t){t&&t.el||e.error("EventBus initialized without el"),this.$el=e(t.el)}var i="typeahead:";return t.mixin(n.prototype,{trigger:function(e){var t=[].slice.call(arguments,1);this.$el.trigger(i+e,t)}}),n}(),f=function(){"use strict";function e(e,t,n,i){var r;if(!n)return this;for(t=t.split(l),n=i?s(n,i):n,this._callbacks=this._callbacks||{};r=t.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][e].push(n);return this}function t(t,n,i){return e.call(this,"async",t,n,i)}function n(t,n,i){return e.call(this,"sync",t,n,i)}function i(e){var t;if(!this._callbacks)return this;for(e=e.split(l);t=e.shift();)delete this._callbacks[t];return this}function r(e){var t,n,i,r,a;if(!this._callbacks)return this;for(e=e.split(l),i=[].slice.call(arguments,1);(t=e.shift())&&(n=this._callbacks[t]);)r=o(n.sync,this,[t].concat(i)),a=o(n.async,this,[t].concat(i)),r()&&u(a);return this}function o(e,t,n){function i(){for(var i,r=0,o=e.length;!i&&o>r;r+=1)i=e[r].apply(t,n)===!1;return!i}return i}function a(){var e;return e=window.setImmediate?function(e){setImmediate(function(){e()})}:function(e){setTimeout(function(){e()},0)}}function s(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var l=/\s+/,u=a();return{onSync:n,
onAsync:t,off:i,trigger:r}}(),p=function(e){"use strict";function n(e,n,i){for(var r,o=[],a=0,s=e.length;s>a;a++)o.push(t.escapeRegExChars(e[a]));return r=i?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",n?new RegExp(r):new RegExp(r,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function o(t){var n,i,o;return(n=s.exec(t.data))&&(o=e.createElement(r.tagName),r.className&&(o.className=r.className),i=t.splitText(n.index),i.splitText(n[0].length),o.appendChild(i.cloneNode(!0)),t.parentNode.replaceChild(o,i)),!!n}function a(e,t){for(var n,i=3,r=0;r<e.childNodes.length;r++)n=e.childNodes[r],n.nodeType===i?r+=t(n)?1:0:a(n,t)}var s;r=t.mixin({},i,r),r.node&&r.pattern&&(r.pattern=t.isArray(r.pattern)?r.pattern:[r.pattern],s=n(r.pattern,r.caseSensitive,r.wordsOnly),a(r.node,o))}}(window.document),h=function(){"use strict";function n(n){var r,o,s,l,u=this;n=n||{},n.input||e.error("input is missing"),r=t.bind(this._onBlur,this),o=t.bind(this._onFocus,this),s=t.bind(this._onKeydown,this),l=t.bind(this._onInput,this),this.$hint=e(n.hint),this.$input=e(n.input).on("blur.tt",r).on("focus.tt",o).on("keydown.tt",s),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop),t.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){a[e.which||e.keyCode]||t.defer(t.bind(u._onInput,u,e))}):this.$input.on("input.tt",l),this.query=this.$input.val(),this.$overflowHelper=i(this.$input)}function i(t){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function r(e,t){return n.normalizeQuery(e)===n.normalizeQuery(t)}function o(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(e){return(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(n.prototype,f,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(e){var t=a[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(e,t){var n,i,r;switch(e){case"tab":i=this.getHint(),r=this.getInputValue(),n=i&&i!==r&&!o(t);break;case"up":case"down":n=!o(t);break;default:n=!1}n&&t.preventDefault()},_shouldTrigger:function(e,t){var n;switch(e){case"tab":n=!o(t);break;default:n=!0}return n},_checkInputValue:function(){var e,t,n;e=this.getInputValue(),t=r(e,this.query),n=t?this.query.length!==e.length:!1,this.query=e,t?n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(e){this.query=e},getInputValue:function(){return this.$input.val()},setInputValue:function(e,t){this.$input.val(e),t?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,n,i;e=this.getInputValue(),t=this.getHint(),n=e!==t&&0===t.indexOf(e),i=""!==e&&n&&!this.hasOverflow(),!i&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,n,i;return e=this.$input.val().length,n=this.$input[0].selectionStart,t.isNumber(n)?n===e:document.selection?(i=document.selection.createRange(),i.moveStart("character",-e),e===i.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),n}(),g=function(){"use strict";function n(n){n=n||{},n.templates=n.templates||{},n.source||e.error("missing source"),n.name&&!o(n.name)&&e.error("invalid dataset name: "+n.name),this.query=null,this.highlight=!!n.highlight,this.name=n.name||t.getUniqueId(),this.source=n.source,this.displayFn=i(n.display||n.displayKey),this.templates=r(n.templates,this.displayFn),this.$el=e(u.dataset.replace("%CLASS%",this.name))}function i(e){function n(t){return t[e]}return e=e||"value",t.isFunction(e)?e:n}function r(e,n){function i(e){return"<p>"+n(e)+"</p>"}return{empty:e.empty&&t.templatify(e.empty),header:e.header&&t.templatify(e.header),footer:e.footer&&t.templatify(e.footer),suggestion:e.suggestion||i}}function o(e){return/^[_a-zA-Z0-9-]+$/.test(e)}var a="ttDataset",s="ttValue",l="ttDatum";return n.extractDatasetName=function(t){return e(t).data(a)},n.extractValue=function(t){return e(t).data(s)},n.extractDatum=function(t){return e(t).data(l)},t.mixin(n.prototype,f,{_render:function(n,i){function r(){return g.templates.empty({query:n,isEmpty:!0})}function o(){function r(t){var n;return n=e(u.suggestion).append(g.templates.suggestion(t)).data(a,g.name).data(s,g.displayFn(t)).data(l,t),n.children().each(function(){e(this).css(c.suggestionChild)}),n}var o,d;return o=e(u.suggestions).css(c.suggestions),d=t.map(i,r),o.append.apply(o,d),g.highlight&&p({className:"tt-highlight",node:o[0],pattern:n}),o}function d(){return g.templates.header({query:n,isEmpty:!h})}function f(){return g.templates.footer({query:n,isEmpty:!h})}if(this.$el){var h,g=this;this.$el.empty(),h=i&&i.length,!h&&this.templates.empty?this.$el.html(r()).prepend(g.templates.header?d():null).append(g.templates.footer?f():null):h&&this.$el.html(o()).prepend(g.templates.header?d():null).append(g.templates.footer?f():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(e){function t(t){n.canceled||e!==n.query||n._render(e,t)}var n=this;this.query=e,this.canceled=!1,this.source(e,t)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),n}(),m=function(){"use strict";function n(n){var r,o,a,s=this;n=n||{},n.menu||e.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=t.map(n.datasets,i),r=t.bind(this._onSuggestionClick,this),o=t.bind(this._onSuggestionMouseEnter,this),a=t.bind(this._onSuggestionMouseLeave,this),this.$menu=e(n.menu).on("click.tt",".tt-suggestion",r).on("mouseenter.tt",".tt-suggestion",o).on("mouseleave.tt",".tt-suggestion",a),t.each(this.datasets,function(e){s.$menu.append(e.getRoot()),e.onSync("rendered",s._onRendered,s)})}function i(e){return new g(e)}return t.mixin(n.prototype,f,{_onSuggestionClick:function(t){this.trigger("suggestionClicked",e(t.currentTarget))},_onSuggestionMouseEnter:function(t){this._removeCursor(),this._setCursor(e(t.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function e(e){return e.isEmpty()}this.isEmpty=t.every(this.datasets,e),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(e,t){e.first().addClass("tt-cursor"),!t&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(e){var t,n,i,r;if(this.isOpen){if(n=this._getCursor(),t=this._getSuggestions(),this._removeCursor(),i=t.index(n)+e,i=(i+1)%(t.length+1)-1,-1===i)return void this.trigger("cursorRemoved");-1>i&&(i=t.length-1),this._setCursor(r=t.eq(i)),this._ensureVisible(r)}},_ensureVisible:function(e){var t,n,i,r;t=e.position().top,n=t+e.outerHeight(!0),i=this.$menu.scrollTop(),r=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>t?this.$menu.scrollTop(i+t):n>r&&this.$menu.scrollTop(i+(n-r))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(e){this.$menu.css("ltr"===e?c.ltr:c.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(e){var t=null;return e.length&&(t={raw:g.extractDatum(e),value:g.extractValue(e),datasetName:g.extractDatasetName(e)}),t},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(e){function n(t){t.update(e)}t.each(this.datasets,n)},empty:function(){function e(e){e.clear()}t.each(this.datasets,e),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function e(e){e.destroy()}this.$menu.off(".tt"),this.$menu=null,t.each(this.datasets,e)}}),n}(),v=function(){"use strict";function n(n){var r,o,a;n=n||{},n.input||e.error("missing input"),this.isActivated=!1,this.autoselect=!!n.autoselect,this.minLength=t.isNumber(n.minLength)?n.minLength:1,this.$node=i(n.input,n.withHint),r=this.$node.find(".tt-dropdown-menu"),o=this.$node.find(".tt-input"),a=this.$node.find(".tt-hint"),o.on("blur.tt",function(e){var n,i,a;n=document.activeElement,i=r.is(n),a=r.has(n).length>0,t.isMsie()&&(i||a)&&(e.preventDefault(),e.stopImmediatePropagation(),t.defer(function(){o.focus()}))}),r.on("mousedown.tt",function(e){e.preventDefault()}),this.eventBus=n.eventBus||new d({el:o}),this.dropdown=new m({menu:r,datasets:n.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new h({input:o,hint:a}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function i(t,n){var i,o,s,l;i=e(t),o=e(u.wrapper).css(c.wrapper),s=e(u.dropdown).css(c.dropdown),l=i.clone().css(c.hint).css(r(i)),l.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),i.data(a,{dir:i.attr("dir"),autocomplete:i.attr("autocomplete"),spellcheck:i.attr("spellcheck"),style:i.attr("style")}),i.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(n?c.input:c.inputWithNoHint);try{!i.attr("dir")&&i.attr("dir","auto")}catch(d){}return i.wrap(o).parent().prepend(n?l:null).append(s)}function r(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function o(e){var n=e.find(".tt-input");t.each(n.data(a),function(e,i){t.isUndefined(e)?n.removeAttr(i):n.attr(i,e)}),n.detach().removeData(a).removeClass("tt-input").insertAfter(e),e.remove()}var a="ttAttrs";return t.mixin(n.prototype,{_onSuggestionClicked:function(e,t){var n;(n=this.dropdown.getDatumForSuggestion(t))&&this._select(n)},_onCursorMoved:function(){var e=this.dropdown.getDatumForCursor();this.input.setInputValue(e.value,!0),this.eventBus.trigger("cursorchanged",e.raw,e.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(e,t){var n,i;n=this.dropdown.getDatumForCursor(),i=this.dropdown.getDatumForTopSuggestion(),n?(this._select(n),t.preventDefault()):this.autoselect&&i&&(this._select(i),t.preventDefault())},_onTabKeyed:function(e,t){var n;(n=this.dropdown.getDatumForCursor())?(this._select(n),t.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var e=this.input.getQuery();this.dropdown.isEmpty&&e.length>=this.minLength?this.dropdown.update(e):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var e=this.input.getQuery();this.dropdown.isEmpty&&e.length>=this.minLength?this.dropdown.update(e):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(e,t){this.input.clearHintIfInvalid(),t.length>=this.minLength?this.dropdown.update(t):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var e;this.dir!==(e=this.input.getLanguageDirection())&&(this.dir=e,this.$node.css("direction",e),this.dropdown.setLanguageDirection(e))},_updateHint:function(){var e,n,i,r,o,a;e=this.dropdown.getDatumForTopSuggestion(),e&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(n=this.input.getInputValue(),i=h.normalizeQuery(n),r=t.escapeRegExChars(i),o=new RegExp("^(?:"+r+")(.+$)","i"),a=o.exec(e.value),a?this.input.setHint(n+a[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(e){var t,n,i,r;t=this.input.getHint(),n=this.input.getQuery(),i=e||this.input.isCursorAtEnd(),t&&n!==t&&i&&(r=this.dropdown.getDatumForTopSuggestion(),r&&this.input.setInputValue(r.value),this.eventBus.trigger("autocompleted",r.raw,r.datasetName))},_select:function(e){this.input.setQuery(e.value),this.input.setInputValue(e.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",e.raw,e.datasetName),this.dropdown.close(),t.defer(t.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(e){e=t.toStr(e),this.isActivated?this.input.setInputValue(e):(this.input.setQuery(e),this.input.setInputValue(e,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),o(this.$node),this.$node=null}}),n}();!function(){"use strict";var n,i,r;n=e.fn.typeahead,i="ttTypeahead",r={initialize:function(n,r){function o(){var o,a,s=e(this);t.each(r,function(e){e.highlight=!!n.highlight}),a=new v({input:s,eventBus:o=new d({el:s}),withHint:t.isUndefined(n.hint)?!0:!!n.hint,minLength:n.minLength,autoselect:n.autoselect,datasets:r}),s.data(i,a)}return r=t.isArray(r)?r:[].slice.call(arguments,1),n=n||{},this.each(o)},open:function(){function t(){var t,n=e(this);(t=n.data(i))&&t.open()}return this.each(t)},close:function(){function t(){var t,n=e(this);(t=n.data(i))&&t.close()}return this.each(t)},val:function(t){function n(){var n,r=e(this);(n=r.data(i))&&n.setVal(t)}function r(e){var t,n;return(t=e.data(i))&&(n=t.getVal()),n}return arguments.length?this.each(n):r(this.first())},destroy:function(){function t(){var t,n=e(this);(t=n.data(i))&&(t.destroy(),n.removeData(i))}return this.each(t)}},e.fn.typeahead=function(t){var n;return r[t]&&"initialize"!==t?(n=this.filter(function(){return!!e(this).data(i)}),r[t].apply(n,[].slice.call(arguments,1))):r.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this}}()}(window.jQuery),jQuery(document).onZonesAndDomReady(function(){"use strict";fastdom.measure(function(){function e(e,t,n){fastdom.mutate(function(){jQuery(e).off(t).on(t,n)})}function t(){CNN.CurrentSize.getClientWidth()>CNN.minWidthForExpandElements?(e(".js__image--expandable","click",function(){var e=jQuery(this);fastdom.mutate(function(){var t=e.parents(".el__embedded");t.find(".el__image__close--expandable").show(),e.stop().animate({width:"100%","margin-top":x,"margin-right":0},_,function(){fastdom.mutate(function(){CNN.ResponsiveImages.processChildrenImages(this),t.addClass("el__embedded--open").height(e.outerHeight())}.bind(this))}).show().addClass("el__image--expandfull").removeClass("el__image--expandable")})}),e(".js__image__close--expandable","click",function(e){var t=jQuery(this),n=t.parents(".el__embedded");fastdom.mutate(function(){n.removeClass("el__embedded--open").css("height","auto"),t.hide(),n.find(".js__image--expandable").stop().animate({width:v,"margin-top":"10px","margin-right":"30px"},_,function(){fastdom.mutate(function(){CNN.ResponsiveImages.processChildrenImages(this)}.bind(this))}).show().addClass("el__image--expandable").removeClass("el__image--expandfull")}),e.stopPropagation()}),fastdom.mutate(function(){jQuery(".el__image--expandable .el__image__expand--expandable").show(),jQuery(".el__image--expandfull .el__image__close--expandable").show()})):fastdom.mutate(function(){jQuery(".el__image__close--expandable").hide(),jQuery(".el__image__expand--expandable").hide(),jQuery(".js__image--expandable").off()})}function n(e,t,n,i){var r,o,a,s,l=!!n;l!==!0&&i!==!0||(o=t.find(".media__video--responsive"),r=o.attr("id"),"fave"===CNN.VideoPlayer.getLibraryName(r)&&(s=FAVE.player.getInstance(r),s.resume())),a=function(){var n,a=t.parents(".el__embedded"),u=t.find(".media__video--thumbnail"),c=t.find(".el__storyelements--close"),d=a.find(".video-red-spinner"),f=o||t.find(".media__video--responsive"),p=f.find("object").get(0),h=f.find("video").get(0),g=r||f.attr("id"),v=navigator.userAgent.toLowerCase();"undefined"==typeof m&&(m=t.width()),l===!1&&i!==!0&&"fave"===CNN.VideoPlayer.getLibraryName(g)&&(s=FAVE.player.getInstance(g),s.resume()),n=function(){u.css("position",""),t.stop().animate({width:"100%","margin-top":x,"margin-right":0},_,function(){fastdom.mutate(function(){"videoLoader"===CNN.VideoPlayer.getLibraryName(g)&&(b?(d.show(),-1===v.indexOf("msie")&&-1===v.indexOf("trident")||"undefined"==typeof p||p.replayContent()):"undefined"!=typeof h&&h.play(),t.find(".el__video__play-button").triggerHandler("click")),a.addClass("el__embedded--open")})}),t.show().addClass("el__video--expandfull").removeClass(e),f.show(),window.innerWidth>CNN.minWidthForExpandElements?(c.show(),c.css("display","block")):(c.hide(),c.css("display","none")),FAVE.settings.enabled&&jQuery(window).on("orientationchange",function(){fastdom.mutate(function(){window.innerWidth>CNN.minWidthForExpandElements?(c.show(),c.css("display","block")):(c.hide(),c.css("display","none"))})})},i===!0?n():fastdom.mutate(n)},i===!0?a():fastdom.measure(a)}function i(e,t,n){fastdom.measure(function(){var n,i,r=t.parents(".el__embedded"),o=".js-media__video .js-video__end-slate",a=r.find(".media__video--thumbnail"),s=r.find(".media__video--responsive"),l=r.find(".video-red-spinner"),u=s.find("object").get(0),c=s.find("video").get(0),d=s.attr("id"),f=navigator.userAgent.toLowerCase();t=t.parent(),fastdom.mutate(function(){r.removeClass("el__embedded--open"),t.stop().animate({width:m,"margin-top":"10px","margin-right":"30px"},_,function(){fastdom.mutate(function(){t.css("width","")})}),t.find(".el__video__close--expandable").hide(),t.addClass(e).removeClass("el__video--expandfull"),s.hide(),a.show(),a.css("position","relative"),"fave"===CNN.VideoPlayer.getLibraryName(d)?(i=FAVE.player.getInstance(d),i.pause()):b?(l.hide(),-1===f.indexOf("msie")&&-1===f.indexOf("trident")||"undefined"==typeof u||u.stopContent()):"undefined"!=typeof c&&c.pause()}),n=r.find(o).eq(0),fastdom.mutate(function(){n.removeClass("video__end-slate--active").addClass("video__end-slate--inactive"),r.find(".js-video-demand").show()})}),n.stopPropagation()}function r(){fastdom.measure(function(){e(".js__video--standard .media__video--thumbnail","click",function(e){n("el__video--standard",jQuery(this).parents(".js__video--standard"),e)}),e(".js__video--expandable .media__video--thumbnail","click",function(e){n("el__video--expandable",jQuery(this).parents(".js__video--expandable"),e)}),e(".js__video__close--standard","click",function(e){i("el__video--standard",jQuery(this),e)}),e(".js__video__close--expandable","click",function(e){i("el__video--expandable",jQuery(this),e)}),fastdom.mutate(function(){jQuery(".el__video--expandfull .el__video__close--standard").show(),jQuery(".el__video--expandfull .el__video__close--expandable").show(),jQuery(".el__video--expandable .el__video__expand--expandable").show(),jQuery(".el__video--standard .el__video__expand--standard").show(),jQuery(".js-video-demand").show()}),A=!1}.bind(this))}function o(){fastdom.measure(function(){CNN.CurrentSize.getClientWidth()>CNN.minWidthForExpandElements?(e(".js__video--standard","click",function(e){n("el__video--standard",jQuery(this),e)}),e(".js__video--expandable","click",function(e){n("el__video--expandable",jQuery(this),e)}),e(".js__video__close--standard","click",function(e){i("el__video--standard",jQuery(this),e)}),e(".js__video__close--expandable","click",function(e){i("el__video--expandable",jQuery(this),e)}),fastdom.mutate(function(){jQuery(".el__video--expandfull .el__video__close--standard").show(),jQuery(".el__video--expandfull .el__video__close--expandable").show(),jQuery(".el__video--expandable .el__video__expand--expandable").show(),jQuery(".el__video--standard .el__video__expand--standard").show(),jQuery(".js-video-demand").show()})):fastdom.mutate(function(){jQuery(".el__video__close--standard").hide(),jQuery(".el__video__expand--standard").hide(),jQuery(".el__video__close--expandable").hide(),jQuery(".el__video__expand--expandable").hide(),CNN.orientationLandscape===!0?jQuery(".js-video-demand").show():jQuery(".js-video-demand").hide()}),A===!1&&CNN.orientationLandscape===!0&&(jQuery(".js__video--standard").each(function(){var e,t=jQuery(this),i=t.find(".js-video-demand");0===t.find(".js-el__video__play-button").size()?(e=t.find(".el__video__expand--standard"),fastdom.mutate(function(e,t){e.hide(),CNN.orientationLandscape===!0&&n("el__video--standard",t,null,!0)}.bind(this,i,e))):fastdom.mutate(function(e){e.show()}.bind(this,i))}),jQuery(".js__video--expandable").each(function(){var e,t=jQuery(this),i=t.find(".js-video-demand");0===t.find(".js-el__video__play-button").size()?(e=t.find(".el__video__expand--expandable"),fastdom.mutate(function(e,t){e.hide(),CNN.orientationLandscape===!0&&n("el__video--expandable",t,null,!0)}.bind(this,i,e))):fastdom.mutate(function(e){e.show()}.bind(this,i))})),A=!1}.bind(this))}function a(){FAVE.settings.enabled?r():o()}function s(e,t,n){t.is(".el__gallery--expandfull")||("undefined"==typeof g&&(g=t.width()),CNN.CurrentSize.getClientWidth()>CNN.minWidthForExpandElements?fastdom.measure(function(){var n,i,r=t.parents(".el__embedded"),o=t,a=t.find(".el__gallery--teaseimage"),s=t.find(".el-carousel__wrapper"),l=s.find(".js-owl-carousel"),u=s.find(".js-owl-filmstrip"),c=!!s.attr("data-initialized");i=function(e){e.css({opacity:"1",position:"relative","z-index":"0"}),s.attr("data-initialized","true")},fastdom.mutate(function(){s.css({display:"block",visibility:"visible",opacity:"0"}),o.stop().animate({width:r.width()+"px","margin-top":x,"margin-right":0},_,function(){fastdom.mutate(function(){o.css("width","100%"),n=9*r.width()/16/2-w,l.siblings(".ad-slide").find(".ad-slide__prev, .ad-slide__next").css("top",n+"px"),r.addClass("el__embedded--open"),r.css("overflow","hidden"),o.css({"min-height":a.height()+"px","max-height":a.height()+"px"}),setTimeout(function(e,t){fastdom.mutate(function(){e.css({"max-height":1.5*t.height()+"px"}),CNN.Carousel.refreshCarousels()})},100,o,l),c===!1||l.data("owl.carousel").width()!==o.width()?(l.on("resized.owl.carousel",{$wrapper:s},function(e){fastdom.mutate(function(){i(e.data.$wrapper),jQuery(this).off("resized.owl.carousel")}.bind(this))}),u.on("resized.owl.carousel",function(e){fastdom.mutate(function(){CNN.Carousel.owl().setNumberOfItems(e),e.relatedTarget.to(0),jQuery(this).off("resized.owl.carousel")}.bind(this))}),l.data("owl.carousel").onResize(),u.data("owl.carousel").onResize()):i(s),o.addClass("el__gallery--expandfull").removeClass(e),"undefined"!=typeof s.attr("isExtended")&&"false"!==s.attr("isExtended")||(setTimeout(function(){fastdom.mutate(function(){f(jQuery(s.find(".owl-wrapper-outer")),!0,!0)})},2e3),s.attr("isExtended","true"))}.bind(this))})}.bind(this))}):n.stopPropagation())}function l(e,t,n){fastdom.measure(function(){var n=t.parents(".el__embedded"),i=n.find(".el-carousel__wrapper"),r=i.find(".owl-wrapper-outer"),o=r.find(".el__gallery-caption"),a=t.parents(".el__gallery--expandfull");fastdom.mutate(function(){n.css({"max-height":"",overflow:""}),i.css({position:"absolute",opacity:0}),n.removeClass("el__embedded--open"),a.css({"min-height":"","max-height":""}),a.stop().animate({width:g,"margin-top":"10px","margin-right":"30px"},_,function(){fastdom.mutate(function(){jQuery(this).addClass(e).removeClass("el__gallery--expandfull")}.bind(this))}),i.attr("isExtended","false"),a.addClass(e).removeClass("el__gallery--expandfull"),o.hasClass("el__gallery-caption--closed")&&(o.toggleClass("el__gallery-caption--closed"),o.text(a.hasClass("el__gallery-caption--closed")?"Show Caption":"Hide Caption"))}.bind(this))}.bind(this)),n.stopPropagation()}function u(){window.innerWidth>CNN.minWidthForExpandElements?(e(".js__gallery--standard","click",function(e){s("el__gallery--standard",jQuery(this),e)}),e(".js__gallery--expandable","click",function(e){s("el__gallery--expandable",jQuery(this),e)}),e(".js__gallery__close--standard","click",function(e){l("el__gallery--standard",jQuery(this),e)}),e(".js__gallery__close--expandable","click",function(e){l("el__gallery--expandable",jQuery(this),e)}),jQuery(".js__gallery__close--standard, .js__gallery__close--expandable").trigger("click"),fastdom.mutate(function(){jQuery(".el-carousel__wrapper").not(jQuery(".zn-large-media .el-carousel__wrapper, .el__embedded--fullstandardwidth .el-carousel__wrapper,.pg-special-article__head .el-carousel__wrapper")).css({opacity:"0",position:"","z-index":""})})):fastdom.mutate(function(){jQuery(".el-carousel__wrapper").css({opacity:"1",position:"relative","z-index":"0"})}),y===!1&&window.innerWidth<=CNN.showGalleryCaptionWidth&&c()}function c(){fastdom.measure(function(){jQuery(".js__leafmedia--gallery").each(function(e,t){fastdom.mutate(function(e,t){e.hide(),t.addClass("el__gallery-caption--closed").text("Show Caption")}.bind(this,jQuery(".el__gallery_image-title",t),jQuery(".el__gallery-caption",t)))})})}function d(e,t){var n=jQuery(e),i=n.closest(".owl-stage"),r=i.find(".el__gallery_image-title"),o=i.find(".el__gallery-caption");fastdom.mutate(function(){CNN.CurrentSize.getClientWidth()>CNN.minWidthForExpandElements?o.hasClass("el__gallery-caption--closed")?(o.removeClass("el__gallery-caption--closed"),r.show()):(o.addClass("el__gallery-caption--closed"),r.hide()):(o.toggleClass("el__gallery-caption--closed"),r.toggle()),CNN.Carousel.refreshCarousels(),o.text(o.hasClass("el__gallery-caption--closed")?"Show Caption":"Hide Caption")})}function f(e,t,n){var i=0,r=0,o=jQuery(".owl-item",e).each(function(){r=jQuery(this).height(),t&&jQuery(this).attr("owlItemHeight",r),r>i&&(i=r)});t&&jQuery(e).attr("max",i),o.each(function(){var i=jQuery(this),r=jQuery(".el__gallery-showhide",i);t||n?r.css("bottom",i.attr("owlItemHeight")-jQuery(e).attr("max")+"px"):r.css("bottom","0px")})}function p(e){e&&fastdom.mutate(function(){var t,n;for(t=0,n=e.length;n>t;t++)f(e[t],!0,!0)})}function h(){t(),a(),u()}var g,m,v=jQuery(".js__image--expandable").width(),y=!1,_=700,w=30,b=Modernizr&&!Modernizr.phone&&!Modernizr.mobile&&!Modernizr.tablet,C=0!==jQuery("html.mobile").length,S=jQuery(window),A=!0,x="36px",T=CNN.Utils.exists;CNN.contentModel=CNN.contentModel||{},CNN.CurrentSize=CNN.CurrentSize||{},CNN.CurrentSize.getClientWidth=CNN.CurrentSize.getClientWidth||jQuery.noop,CNN.minWidthForExpandElements=480,CNN.showGalleryCaptionWidth=640,CNN.orientationLandscape=!1,CNN.adLockingDisableWidth=960,CNN.adLockEnable=!!(T(CNN.AdsConfig)&&CNN.AdsConfig.enableAdLock===!0&&CNN.CurrentSize.getClientWidth()>=CNN.adLockingDisableWidth&&0!==jQuery(".pg-rail.pg-rail-tall__rail").length&&0!==jQuery(".pg-rail-tall__head").length),h(),C?S.on("orientationchange",function(){"function"==typeof CNN.Carousel.resetOnResize&&CNN.Carousel.resetOnResize()}):jQuery(window).resize(function(){y=!0,h(),setTimeout(function(){p(jQuery(".owl-wrapper-outer"))},2e3)}),function(){function e(e,t){function n(){r.addClass(t)}function i(){r.removeClass(t)}var r=jQuery(e).children().last(),o=CNN.eventListenerWithOptions&&CNN.eventListenerWithOptions.addListener;o(e,"touchstart",n,{passive:!0}),o(e,"touchcancel",i,{passive:!0}),o(e,"touchend",i,{passive:!0})}function t(t,r){e(r,i[n].className)}var n=0,i=[];for(i=[{selector:".js__image--expandable",className:"el__image--touchhover"},{selector:".js__video--standard",className:"el__video--touchhover"},{selector:".js__video--expandable",className:"el__video--touchhover"},{selector:".js__gallery--standard",className:"el__gallery--touchhover"},{selector:".js__gallery--expandable",className:"el__gallery--touchhover"}],n=0;n<i.length;n++)jQuery(i[n].selector).each(t)}(),jQuery(".js-el__gallery-caption").on("click",function(){fastdom.measure(function(){d(this)}.bind(this))})})});var nativo={},$staggeredZone,$staggeredColumn,$nativeContainer,layoutSize,$staggeredNativo,$authorDetails,$twitterImage,$nativeEmbedVideo,$bigPicture,isGalleryRendered=!1,$nativeHubCarousel,isEpicRendered=!1;!function(){"use strict";function e(e,t){var n=jQuery(e).closest(document.getElementById("bigPicture")),i=n.find(".media__caption"),r=n.find(".el__gallery-caption");CNN.CurrentSize=CNN.CurrentSize||{},CNN.CurrentSize.getClientWidth=CNN.CurrentSize.getClientWidth||jQuery.noop,CNN.CurrentSize.getClientWidth()>CNN.minWidthForExpandElements?r.hasClass("el__gallery-caption--closed")?r.removeClass("el__gallery-caption--closed"):r.addClass("el__gallery-caption--closed"):r.toggleClass("el__gallery-caption--closed"),i.toggle(t),r.text(r.hasClass("el__gallery-caption--closed")?"Show Caption":"Hide Caption")}function t(e){var t=jQuery(".js-pg-sponsor .owl-stage-outer .owl-stage .owl-item.synced"),i=t.next(),r=t.prev();"prev"===e?"undefined"!=typeof r&&r.length>0&&n(r):"undefined"!=typeof i&&i.length>0&&n(i)}function n(e){var t=jQuery(".js-pg-sponsor"),n=t.find(".cnngo-bigPicture"),i=n.find("img"),r=e.find(".link").attr("data-img-full");i.attr("src",r),e.parent().find(".owl-item").removeClass("synced"),e.addClass("synced"),n.find(".js-active-count").html(e.closest(".owl-item").index()+1),n.find(".image__caption").html(e.find(".link").attr("data-value"))}nativo={fbFeed:"",twFeed:"",social_hub:{icons:{twitter:"",facebook:"",linkedin:"",google:"",pinterest:"",instagram:""},fb_like:"",tw_follow:""}},nativo.renderAuthor=function(){"string"==typeof nativo.authorName&&nativo.authorName.length>0&&($authorDetails=jQuery(".js-sponsor-article-author"),
$authorDetails.find(".js-author_name").text(nativo.authorName+","),$authorDetails.show())},nativo.renderEpic=function(){var e="international"===CNN.contentModel.edition?"cnni":"cnn";"string"==typeof nativo.epicAdName&&nativo.epicAdName.length>0&&!isEpicRendered&&(window.AMPTManager.processNewRegistry(CNN.epicAdRegistry+"/"+e+"_native_"+nativo.epicAdName+".js"),jQuery(".js-epicAd_Render").show(),isEpicRendered=!0)},nativo.renderFacebook=function(){var e,t;"string"==typeof nativo.fbFeed&&nativo.fbFeed.length>0&&(e=encodeURIComponent(nativo.fbFeed),t=document.getElementById("fb-likebox"),t.innerHTML='<iframe src="//www.facebook.com/plugins/likebox.php?href='+e+'&amp;width=300&amp;height=590&amp;show_faces=true&amp;colorscheme=light&amp;stream=true&amp;show_border=true&amp;header=true&amp;appId=70673860847" scrolling="no" frameborder="0" class="sponsor-content-fb" allowTransparency="true"></iframe>')},nativo.renderTwitter=function(){var e,t;"string"==typeof nativo.twFeed&&nativo.twFeed.length>0&&(jQuery(document.getElementById("tw-feedbox")).html(nativo.twFeed),jQuery(".js-right-rail-tw").show()),t=document.getElementsByTagName("script")[0],document.getElementById("twitter-wjs")||(e=document.createElement("script"),e.id="twitter-wjs",e.src="//platform.twitter.com/widgets.js",t.parentNode.insertBefore(e,t)),"string"==typeof nativo.twitterImage&&nativo.twitterImage.length>0&&($twitterImage=jQuery(".js-twitterImage"),$twitterImage.find("img").attr("src",nativo.twitterImage),$twitterImage.show())},nativo.renderGallery=function(){setTimeout(function(){var n,i,r,o,a,s,l,u,c,d=1;jQuery(".js-pg-sponsor .owl-carousel").owlCarousel({slideSpeed:300,pagination:!0,paginationSpeed:400,items:9,nav:!0,navText:["",""],dots:!1,lazyLoad:!0,loop:!1,autoWidth:!0,autoHeight:!1}),n=jQuery(".js-pg-sponsor"),i=n.find(".cnngo-bigPicture"),r=i.find("img"),o=n.find(".owl-carousel").find(".link"),a=o.first().attr("data-img-full"),s=o.first().attr("data-value"),l=i.attr("data-title"),u=n.find(".owl-stage-outer .owl-stage"),c=u.find(".owl-item").length,0===i.find("img").length&&i.append("<img/>"),r.attr("src",a),i.append(n.find(".js-galleryCaption")),i.append(n.find(".js-owl-nav")),c>=1&&(i.find(".js-active-count").html(d),i.find(".js-total-count").html(c),i.find(".js-gallery-title").html(l),i.find(".el__storyelement__gray").html(" "+c+" Photos"),u.find(".owl-item").first().addClass("synced"),i.find(".image__caption").html(s)),o.on("click",function(e){var t=jQuery(this);r.attr("src",t.data("imgFull")),t.parent().parent().find(".owl-item").removeClass("synced"),t.parent().addClass("synced"),i.find(".js-active-count").html(t.closest(".owl-item").index()+1),i.find(".image__caption").html(t.attr("data-value"))}),i.find(".js-el__gallery-caption").click(function(){e(this,"slow")}),i.find(".js-owl-prev").click(function(){t("prev")}),i.find(".js-owl-next").click(function(){t("next")}),changeOwlCarousalWidth()},800)},jQuery(window).resize(function(){setTimeout(function(){changeOwlCarousalWidth()},300)})}(),function(){"use strict";var e;try{CNN.INJECTOR.createDeferredForFeature("header1"),CNN.INJECTOR.createDeferredForFeature("header2"),CNN.INJECTOR.createDeferredForFeature("footer"),CNN.INJECTOR.createDeferredForFeature("videodemanddust"),e=["onZonesAndDomReady","onZoneRendered"],CNN.INJECTOR.registerEvents(e),CNN.INJECTOR.scriptComplete("header1"),CNN.INJECTOR.scriptComplete("header2")}catch(t){console.log(t)}}();