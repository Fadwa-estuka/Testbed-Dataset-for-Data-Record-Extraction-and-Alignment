try{window.LP||function(){window.LP={};LP._loaded=false;LP._lgyWindow;LP._lgyFrame;
LP._flowersCallbackFunction;LP._genealogyCallbackFunction;LP._objectType={Flowers:"ObitFlowersData",Genealogy:"GenealogyData"};
LP.GetObitFlowersData=function(A,B){if(A){LP._flowersCallbackFunction=A;}LP._getData(LP._objectType.Flowers);
};LP.GetGenealogyData=function(A,B){if(A){LP._genealogyCallbackFunction=A;}LP._getData("GenealogyData");
};LP._getData=function(C){if(LP._loaded){var A;var B={};B.Mode="Get";B.ObjectName=C;
A=JSON.stringify(B);LP._lgyWindow.postMessage(A,LP.Environment.siteRoot);}else{window.setTimeout("LP._getData('"+C+"');",100);
}};LP.SaveObitFlowersData=function(A){LP.SaveData(LP._objectType.Flowers,A);};LP.SaveGenealogyData=function(A){LP.SaveData("GenealogyData",A);
};LP.SaveData=function(D,B,C){if(!C){var A={};A.Mode="Save";A.ObjectName=D;A.Data=JSON.parse(B);
B=JSON.stringify(A);}if(LP._loaded){LP._lgyWindow.postMessage(unescape(B),LP.Environment.siteRoot);
}else{window.setTimeout("LP.SaveData('"+D+"','"+escape(unescape(B))+"', true);",100);
}};LP._frameOnLoad=function(){LP._loaded=true;LP._lgyWindow=LP._lgyFrame.contentWindow;
};LP._receiveMessage=function(A){try{if(A.data===""){LP._genealogyCallbackFunction(undefined);
LP._flowersCallbackFunction(undefined);}var B=JSON.parse(A.data);if(B!==null){if(B.ObjectName===LP._objectType.Genealogy){LP._genealogyCallbackFunction(B.Data);
}else{if(B.ObjectName===LP._objectType.Flowers){LP._flowersCallbackFunction(B.Data);
}}}}catch(A){}};LP._loadComFrame=function(){if(document.body){LP._lgyFrame=document.createElement("iframe");
LP._lgyFrame.setAttribute("src",LP.Environment.dataProxyUrl);LP._lgyFrame.style.cssText="position:absolute;width:1px;height:1px;left:-9999px;";
document.body.appendChild(LP._lgyFrame);if(window.addEventListener){window.addEventListener("message",LP._receiveMessage,false);
LP._lgyFrame.addEventListener("load",LP._frameOnLoad,false);}else{if(window.attachEvent){window.attachEvent("onmessage",LP._receiveMessage);
LP._lgyFrame.attachEvent("onload",LP._frameOnLoad);}}}else{window.setTimeout("LP._loadComFrame();",100);
}};}(this);}catch(e){try{console.log("Unable to load the Legacy+ api");alert(e.message);
}catch(e){alert(e.message);}}if(window.LP){LP.Environment={dataProxyUrl:"http://www.legacy.com/obituaries/LegacyPlus/v1/proxy.aspx",siteRoot:"http://www.legacy.com/"};
}LP._loadComFrame();