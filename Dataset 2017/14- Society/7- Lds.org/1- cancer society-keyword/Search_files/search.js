/*!
DO NOT EDIT THIS FILE. It is compiled from other sources and any changes here will be overwritten
Generated 2015-07-17 2:23:13 PM
search.js
*/
function getParameterByName(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a=new RegExp("[\\?&]"+e+"=([^&#]*)"),t=a.exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}LDS.search={},LDS.classNames={rowFirst:"lds-first",rowLast:"lds-last"},/*!
Other stuff
*/
LDS.search.makeRows=function(e){var a=LDS.classNames,t=a.rowFirst,s=a.rowLast;e.each(function(){var e=$(this).children();if(e.length){e.removeClass(t+" "+s);var a=e.first().outerWidth(!0),r=parseInt(e.first().css("margin-right"),10),o=e.first().parent().outerWidth(),n=Math.floor((o+r)/a);n>1&&(lasts=e.filter(":nth-child("+n+"n)").addClass(s),firsts=e.filter(":nth-child("+n+"n-"+(n-1)+")").addClass(t))}})},LDS.search.makeCols=function(e){e.each(function(){var e,a,t,s,r=$(this),o=r.children(),n=r.data("cols"),i=r.width(),l=o.eq(0),c=parseInt(l.css("margin-right"),10),h=parseInt(l.css("min-width"),10)||r.data("width")||150,d=Math.floor(i/(h+c));d>n&&(d=n),r.data("fill")&&d>o.length&&(d=o.length),e=c*(d-1),a=i-e,t=Math.floor(a/d),s=Math.floor(t/i*1e3)/10,"1"===d&&(s="100%"),o.width(s+"%"),LDS.search.makeRows(r),o.eq(d-1).length&&o.eq(0).offset().left===o.eq(d-1).offset().left&&o.width(s-.1+"%")})},LDS.search.setupLazyLoad=function(){$("body").data("lazyLoad")&&($("body").data("lazyLoad").options.onload=function(){LDS.resizeCallbacks.matchHeightResponsive&&LDS.resizeCallbacks.matchHeightResponsive()})},LDS.search.init=function(){LDS.search.setupLazyLoad(),LDS.resizeCallbacks.makeRows=function(){LDS.search.makeRows($("ul.lds-rowFix"))},LDS.resizeCallbacks.makeCols=function(){LDS.search.makeCols($("ul.lds-makeCols"))},$("ul.lds-matchHeight img").on("load",function(){LDS.matchHeightResponsive($("ul.lds-matchHeight > *"))}),$("#sidebarTrig").on("click",function(e){e.preventDefault(),$("#platform-canvas").toggleClass("active-sidebar")}),Platform.disableCloseSearch=!0},$(function(){$("#more-button").click(function(){$(".more-options").toggle(400),$("#more-button").fadeOut()}),$(".lds-popup").data("position",LDS.positionOptions);var e=setInterval(function(){if("function"==typeof Platform.theInputValue){(getParameterByName("query")||getParameterByName("q"))&&Platform.theInputValue(getParameterByName("query")||getParameterByName("q")),Platform.theInputFocus(),clearInterval(e);var a=document.querySelector(".pf-search"),t=getParameterByName("domains"),s=getParameterByName("collections");t&&a.insertAdjacentHTML("afterbegin",'<input type="hidden" name="domains" value = "'+t+'" />'),s&&a.insertAdjacentHTML("afterbegin",'<input type="hidden" name="collections" value = "'+s+'" />')}},1);LDS.search.init()});