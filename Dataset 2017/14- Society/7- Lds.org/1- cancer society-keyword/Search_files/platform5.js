/*! 2016-05-13 9:29:50 AM */
/*!
DO NOT EDIT THIS FILE. It is compiled from other sources and any changes here will be overwritten
*/
!function(a){"use strict";function b(a,b){for(;"HTML"!==a.nodeName;){if(a.classList.contains(b))return a;a=a.parentNode}}window.Platform=window.Platform||{};var c,d=document.querySelector("body"),e=!1,f="pf-search",g="pf-search--focused",h=document.querySelector("."+f),i=document.querySelector(".pf-search__field"),j=document.querySelector(".pf-search__where"),k=document.querySelector(".pf-search__where__current"),l=document.querySelector(".pf-search__where__list"),m="pf-search__where--exists",n=!1;a.hasHeader=document.querySelectorAll(".pf-header").length,a.hasFooter=document.querySelectorAll(".pf-footer").length,a.init=function(){a.hasHeader&&(a.setupPopups(),a.makeFits(),document.querySelector(".ldschurch-logotype--cobrand")&&document.querySelector(".ldschurch-logotype").classList.add("ldschurch-logotype--cobranded"))},a.initDelay=function(){a.hasHeader&&(a.callSignIn(),a.initSearch(),a.makeFits(),a.intlNav()),a.hasFooter&&a.lazyLoad();var b=document.querySelector(".pf-feedback > a");b&&"object"==typeof LDS&&b.setAttribute("href",b.getAttribute("href")+"&amp;note="+("object"==typeof LDS.track?encodeURI(LDS.track.pageName):""));var c=document.querySelector("#platform-canvas");if(c){var d=window.getComputedStyle(c,null).getPropertyValue("background-color"),e=document.querySelector(".pf-footer");"rgb(255, 255, 255)"!==d&&e&&e.classList.add("pf-footer--not-white")}},a.setupPopups=function(){var a="pf-open",c="pf-popup-closed",e="pf-popup-open",f=10,g="pf-popupSetup",h="pf-popup__trigger",i=document.querySelector(".pf-header");i.addEventListener("click",function(c){var d,e=c.target,f=e;"A"!==e.nodeName&&(d=b(f,h),d&&(e=d)),e.classList.contains(h)&&c.preventDefault(),e.classList.contains(a)?l(e):k(e)});var j=function(a){var b=a.getBoundingClientRect();return{top:b.top+document.body.scrollTop,left:b.left+document.body.scrollLeft}},k=function(b){if(b.classList.contains(h)){var c=b.getAttribute("href"),g=document.querySelector(c),i="pf-popup__cols--allow-wrap";l(b),b.classList.add(a),g.classList.add(e),g.style.left="",g.style.top="",g.style.width="",g.style.marginLeft="";var k=j(b),m=g.querySelector(".pf-popup__cols");g.classList.remove(i),m&&m.classList.remove(i),g.offsetWidth>d.offsetWidth&&(g.style.left=f+"px",g.style.width=d.offsetWidth-2*f+"px",g.classList.add(i),m&&m.classList.add(i));var n=j(g),o=d.offsetWidth-(n.left+g.offsetWidth);if(0>o){var p=document.querySelector(".pf-top").classList.contains("pf-smaller")?0:f;g.style.marginLeft=o-p+"px"}g.style.top=b.offsetHeight+(document.querySelector(".pf-top").contains(b)?k.top:0)+"px",k.top<d.scrollTop&&window.scrollTo(0,k.top)}},l=function(b){[].forEach.call(i.querySelectorAll("."+a),function(d){var f=d.getAttribute("href"),g=document.querySelector(f);g.contains(b)||(d.classList.remove(a),g.classList.remove(e),g.classList.add(c),g.style.left="",g.style.top="",g.style.width="",g.style.marginLeft="")})};if(!d.classList.contains(g)){d.addEventListener("click",function(a){for(var b=a.target,c=!1;"HTML"!==b.nodeName;){if(b.classList.contains(h)||b.classList.contains("pf-popup")||b.classList.contains(e)){c=!0;break}if(b=b.parentNode,null===b)break}c||l()});var m=window.innerWidth;window.addEventListener("resize",function(){m!==window.innerWidth&&l(),m=window.innerWidth}),d.classList.add(g)}},a.callSignIn=function(){var b=-1===window.location.href.indexOf("?")?"?":"&",c=window.location.href.replace(/^http[s]?:/,"").split("#"),e=c[0].split("?"),f=c[1],g=(e[0]===a.host+"/"?e[0]+"signinout/":e[0])+(e.length>1?"?"+e[1]:"");if(a.prototypes||(document.querySelector(".pf-sign-in").setAttribute("href","https:"+g+b+a.signin+(f?"#"+f:"")),document.querySelector(".pf-sign-out").setAttribute("href","http:"+g+b+a.signout+(f?"#"+f:""))),"https:"===window.location.protocol||a.prototypes){var h=document.createElement("script");h.src=a.host+"/services/platform/v2/sign-in?lang="+a.lang+"&referer=/&format=jsonp&callback=platformCallback",window.platformCallback=function(b){a.loggedin=b.loggedin;for(var c in b)a[c]=b[c];if(b.loggedin){document.querySelector(".pf-sign-in").setAttribute("data-omnitext",document.querySelector(".pf-sign-in").textContent+" Authenticated"),document.querySelector(".pf-sign-in").textContent=b.linkname,document.querySelector(".pf-personal__name").textContent=b.linkname,document.querySelector(".pf-personal__name2").textContent=b.linkname,a.person=b.person;var e="";b.tools2&&(b.tools2.tool.forEach(function(a){e+="<li><a href='"+a.link+"'>"+a.text+"</a></li>"}),document.querySelector(".pf-personal__popup .pf-popup__col:last-child ul li:last-child").insertAdjacentHTML("beforebegin",e))}a.loggedin?d.classList.add("pf-loggedin"):(d.classList.add("pf-loggedout"),sessionStorage.setItem("menuShown","")),a.callSignInCallback&&a.callSignInCallback.call()},document.getElementsByTagName("head")[0].appendChild(h)}else d.classList.add("pf-loggedout"),a.callSignInCallback&&a.callSignInCallback.call()},a.initSearch=function(){var l=function(a){var c=a.target;b(c,f)||o()},n=function(a){9!==a.keyCode||h.contains(document.activeElement)||o()},o=function(){a.disableCloseSearch||(d.classList.remove(g),d.removeEventListener(p),d.removeEventListener("click",l),d.removeEventListener("keyup",n),i.style.paddingRight=10)},p=function(){d.classList.add(g),d.addEventListener("click",l),d.addEventListener("keyup",n,!1),setTimeout(function(){k&&(i.style.paddingRight=k.offsetWidth+10)},500)};a.theInputFocus=p,a.theInputValue=function(a){i.value=a},i.addEventListener("focus",p),h.addEventListener("submit",function(b){var c=h.getAttribute("data-key"),d=a.searchList[c],e=d.customFunction;return"function"==typeof d.callbackSubmit&&d.callbackSubmit.call(),"function"==typeof e?(b.preventDefault(),e.call(),!1):void 0}),document.querySelector(".pf-search__label").addEventListener("click",p),j&&d.classList.add(m);var q=function(a){a.preventDefault(),d.click()};document.querySelector(".pf-search__hider").addEventListener("click",q),c={text:"LDS.org",url:h.getAttribute("action"),placeholder:i.getAttribute("placeholder"),"class":"pf-search__field--ldsorg",autocomplete:{paramQuery:"q",keyText:"name",url:"//www.lds.org/suggest?max=10&site=top-results&access=access&format=rich&client=top_results"}},a.initSearchList(),document.querySelector(".pf-search__button").addEventListener("click",function(a){return""===i.value?(d.classList.contains(g)?o():p(),a.preventDefault(),!1):void h.submit()}),e=!0},a.initSearchList=function(){if(a.searchList=a.searchList||{},a.searchList.ldsorg=c,h.setAttribute("data-key","ldsorg"),a.searchList&&Object.keys(a.searchList).length>1){var b,f,g="";for(var o in a.searchList)if(Object.prototype.hasOwnProperty.call(a.searchList,o)){var p=a.searchList[o];g+="<li><a href='#d' data-key='"+o+"' id='pf-search__where__list__"+o+"'>"+p.text+"</a></li>",p.current&&(b=o)}if(f=function(b){var c=a.searchList[b],d=a.searchList[h.getAttribute("data-key")];d&&"function"==typeof d.callbackOff&&d.callbackOff.call(),h.setAttribute("action",c.url||"#customFunction"),h.setAttribute("data-key",b),k.textContent=c.text,i.setAttribute("placeholder",c.placeholder),i.setAttribute("name",c.name||"query"),l.classList.remove("pf-popup-open"),l.classList.add("pf-popup-closed"),e&&i.focus(),"function"==typeof c.callbackOn&&c.callbackOn.call()},e&&a.searchList[h.getAttribute("data-key")]||f("ldsorg"),l.innerHTML=g,!n){var q=function(a){"A"===a.target.nodeName&&(a.preventDefault(),f(a.target.getAttribute("data-key")))};l.addEventListener("click",q),n=!0}b&&f(b),d.classList.add(m)}else j.parentNode.removeChild(j)},a.intlNav=function(){var b=window.location.search,c=document.cookie,d=b.indexOf("cp=")>=0?b.split("cp=")[1].split("&")[0]:c.indexOf("cp=")>=0?c.split("cp=")[1].split(";")[0]:a.cp||null,e=sessionStorage,f=e.getItem("cp"),g=Date.now();if(b.indexOf("cp=")>=0&&(e.removeItem("cp"),f=void 0,document.cookie="cp="),d)if(f)a.intlNavInsert();else{window["platformCallbackCP"+g]=function(b){b.url&&(e.setItem("cp",JSON.stringify(b)),a.intlNavInsert())};var h=document.createElement("script");h.src="//www.lds.org/intl-nav/"+d+"/data.json?callback=platformCallbackCP"+g,document.getElementsByTagName("head")[0].appendChild(h),function(a,b,c){var d=new Date;d.setDate(d.getDate()+c);var e=escape(b)+(null===c?"":"; expires="+d.toUTCString());document.cookie=a+"="+e+";path=/"}("cp",d,30)}else e.removeItem("cp")},a.intlNavInsert=function(){var b=sessionStorage.getItem("cp"),c=JSON.parse(b),e=c.cp.split("-"),f=e[e.length-1],g=c.name;d.classList.add("pf-intl"),document.querySelector(".pf-language__country").innerHTML="<img src='"+a.cdn2Path+"/common/images/flags/16x22/"+f+".png' /> "+g,document.querySelector(".pf-language__country").setAttribute("href",c.url),document.querySelector(".pf-language__country2").innerHTML=g},a.makeFit=function(a,b,c,d,e,f){if("function"==typeof c&&(c=c.call()),a&&b){var g,h="pf-small pf-smaller",i=h.split(" "),j=!1;"function"==typeof e&&e(),j||(h.split(" ").forEach(function(a){b.classList.remove(a),d&&d.classList.remove(a)}),i.forEach(function(e){g=Math.floor(a.offsetHeight),(g>c||Math.floor(a.scrollWidth)>Math.floor(a.offsetWidth)+1)&&(b.classList.add(""+e),d&&d.classList.add(""+e))})),"function"==typeof f&&f()}},a.makeFits=function(){var b=document.querySelector(".pf-header__bottom"),c=document.querySelector(".ldschurch-logotype--cobrand");a.makeFit(b,b,70,document.querySelector(".pf-top"),a.makeFitBefore,a.makeFitAfter),a.makeFit(c,document.querySelector(".pf-logo"),function(){return Math.floor(document.querySelector(".pf-logo").offsetHeight)>120?50:70})},a.lazyLoad=function(){var a,b=document.querySelector(".pf-footer"),c=function(){clearTimeout(a),a=setTimeout(function(){var a=b.offsetTop,d=window.innerHeight+(window.scrollY||window.pageYOffset);if(d>a||sessionStorage.getItem("pf-imagesLoaded")){var e=b.querySelectorAll("noscript.lazy");[].forEach.call(e,function(a){var b=document.createElement("img");b.setAttribute("src",a.getAttribute("data-desktop")),b.setAttribute("alt",a.getAttribute("data-alt")||""),sessionStorage.setItem("pf-imagesLoaded",!0);var c=a.parentNode;c.replaceChild(b,a)}),window.removeEventListener("scroll",c),window.removeEventListener("resize",c),window.removeEventListener("orientationchange",c)}},100)};window.addEventListener("scroll",c),window.addEventListener("resize",c),window.addEventListener("orientationchange",c),c()},a.init(),document.addEventListener("DOMContentLoaded",function(){var b=function(){clearTimeout(a.resizeTimer),a.resizeTimer=setTimeout(function(){a.makeFits()},30)},c=(new Date).getTime()+6e3;a.fontLoadTimer=setInterval(function(){document.querySelector("#pf-joshua").offsetHeight>70&&a.makeFits(),(new Date).getTime()>c&&clearInterval(a.fontLoadTimer)},200),window.addEventListener("resize",b),window.addEventListener("orientationchange",b),a.initDelay()})}(Platform),function(a){var b,c,d,e,f,g,h=document.querySelector(".pf-search"),i=document.getElementById("pf-global-search"),j=document.querySelector(".pf-search__inputs"),k=document.querySelector("body"),l=document.createElement("ul"),m="pf-show",n="pf-active",o="pf-search__resultList--waiting",p="list"+Math.floor(100*Math.random()),q=250,r={},s="#@",t="@#",u="text",v="url",w=function(){i.addEventListener("focus",z,!1),l.setAttribute("id",p),l.classList.add("pf-search__resultList"),j.appendChild(l),l=document.getElementById(p),l.addEventListener("mouseover",A,!1),l.addEventListener("click",B,!1)},x=function(a){var b=a.keyCode;if(38===b)C("prev");else if(40===b)C("next");else{if(27===b||9===b||13===b)return a.preventDefault(),!1;g=i.value,F(i.value)}},y=function(a){var b=a.keyCode;27===b||9===b?(setTimeout(function(){g&&(i.value=g)},0),E()):13===b&&B()},z=function(){c=h.getAttribute("data-key"),d=a.searchList[c],d.autocomplete?(i.setAttribute("aria-haspopup",!0),i.setAttribute("aria-owns",p),i.addEventListener("keydown",y,!1),i.addEventListener("keyup",x,!1)):console.debug("No Autocomplete for: ",c)},A=function(a){for(target=a.target;"HTML"!==target.nodeName&&"LI"!==target.nodeName;)target=target.parentNode;C(target.getAttribute("data-index"))},B=function(){return theResult=document.querySelector("."+n),f?(theResult.querySelector("a").click(),h.addEventListener("submit",function(a){return a.preventDefault(),!1},!1),!1):void(d.autocomplete.updateInput!==!1&&theResult&&(i.value=theResult.textContent,h.submit()))},C=function(a){var b=l.querySelector("."+n);if(b?(curPrev=b.getAttribute("data-prev"),curNext=b.getAttribute("data-next")):(curPrev=e,curNext=0),"next"===a)C(curNext);else if("prev"===a)C(curPrev);else{e&&!l.classList.contains(n),target=l.querySelectorAll("li")[a];var c=document.querySelectorAll("."+n);if(c.length&&Array.prototype.forEach.call(c,function(a){a.classList.remove(n)}),target)for(;"HTML"!==target.nodeName;){if("LI"===target.nodeName){target.classList.add(n),d.autocomplete.updateInput!==!1&&(i.value=target.textContent);break}target=target.parentNode}}},D=function(){l.classList.add(m),l.setAttribute("aria-expanded","true"),l.setAttribute("role","listbox"),k.addEventListener("click",E,!1)},E=function(){l.classList.remove(m),l.innerHTML="",k.removeEventListener("click",E,!1)},F=function(e){var f,g=(this.element,d.autocomplete),h=g.cacheUse||!0,i=g.cacheUseSession||!1;pfSearchAC=sessionStorage.getItem("pfSearchAC"),i&&pfSearchAC&&(r=JSON.parse(pfSearchAC)),r[c]||h===!1||(r[c]={}),r[c]&&r[c][e]&&h!==!1?(f=r[c][e],G(f)):e?(clearTimeout(b),b=setTimeout(function(){l.classList.add(o);var b="platformQuickSearch"+Date.now();window[b]=function(a){G(a),h!==!1&&(r[c][e]=a,i&&sessionStorage.setItem("pfSearchAC",JSON.stringify(r))),window[b]=null;var d=document.getElementById(b);d.parentNode.removeChild(d),l.classList.remove(o)};var d=document.createElement("script");paramQuery=g.paramQuery||"query",paramLang=g.paramLang||"lang",paramCallback=g.paramCallback||"callback",d.src=g.url+(g.url.indexOf("?")>0?"&":"?")+paramQuery+"="+e+"&"+paramLang+"="+a.lang+"&"+paramCallback+"="+b,d.id=b,document.getElementsByTagName("head")[0].appendChild(d)},q)):E()},G=function(a){var b="",c=d.autocomplete,g=c.results||"results";if(a[g]){f=!1,resultsLength=a[g].length,v=c.keyUrl||v,u=c.keyText||u;var h=new RegExp(c.boldOpen||s,"g"),i=new RegExp(c.boldClose||t,"g");a[g].forEach(function(a,c){prev=0===c?resultsLength:c-1,next=c===resultsLength-1?0:c+1,b+='<li data-prev="'+prev+'" data-index="'+c+'" data-next="'+next+'">',a[v]&&(b+='<a href="'+a[v]+'">',f=!0),theText="function"==typeof u?u.call(this,a):a[u],theText=theText.replace(h,"<em>"),theText=theText.replace(i,"</em>"),b+=theText,a[v]&&(b+="</a>"),b+="</li>",e=c+1}),l.innerHTML=b,D()}else E()};a.hasHeader&&w()}(Platform);