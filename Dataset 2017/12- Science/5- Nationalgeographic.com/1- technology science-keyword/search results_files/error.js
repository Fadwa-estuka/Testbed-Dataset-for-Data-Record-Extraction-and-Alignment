/**
 * ! error - v0.4.4
 * 2013-12-06
 * Copyright (c) 2013 | ;
**/
function ErrorHandler(a){function b(a,c){for(var d in c)if(c.hasOwnProperty(d))try{a[d]="object"==typeof c[d]?b(a[d],c[d]):c[d]}catch(e){a[d]=c[d]}return a}function c(){switch(f){case 5:k=["error","warn","info","log"];break;case 4:k=["error"];break;case 3:k=["error","warn"];break;case 2:k=["warn","info","log"];break;case 1:k=["info","log"];break;default:k=[]}}function d(a){b(g,a),f=g.debug,c()}if(ErrorHandler.prototype._singletonInstance)return ErrorHandler.prototype._singletonInstance;var e=this;"undefined"==typeof e&&(e=new ErrorHandler),ErrorHandler.prototype._singletonInstance=e;var f,g={styling:{warn:{bgclr:"#F09000"},error:{bgclr:"#DB1626"},info:{bgclr:"#1697DB"},log:{bgclr:"#999"},settings:{txtclr:"#F2E2DC"},modules:{Error:"#000000"}},debug:4},h=window.chrome,i=0,j={},k=[],l={};this.addModuleStyle=function(a,b){g.styling.modules[a]=b},this.checkState=function(a){return l[a].status?!0:!1},this.error=function(a,b,c,d){d&&(c.errorCode=d),this.output(a,b,"error",c),this.publish(d,b,a)},this.info=function(a,b,c){this.output(a,b,"info",c)},this.list=function(){var a,b=["\n Error Handling (Code : #ofListeners) \n","______________________________________ \n \n"];for(a in j)j.hasOwnProperty(a)&&b.push(a+" : "+j[a].length+"\n");console.log(String(b).replace(/,/g,""))},this.log=function(a,b,c){this.output(a,b,"log",c)},this.output=function(a,b,c,d){var e=g.styling.modules[b]||"#486069",f="background:"+g.styling[c].bgclr+";color:"+g.styling.settings.txtclr+";padding:1px 5px; border-radius:0px 10px 10px 0px;",i="background:"+e+";color:"+g.styling.settings.txtclr+";padding:1px 5px; border-radius:10px 0px 0px 10px;",j="%c"+b+"::%c"+a;-1!==k.indexOf(c)&&(h?d?(console.group(j,i,f),console[c](d),console.groupEnd()):console[c](j,i,f):console.log(c+": ",b+"::",a+" ",d))},this.publish=function(a,b,c){for(var d=j[a]?j[a].slice(0):j[a]=[],e=0,f=d.length;f>e;e++)d[e].handler.call(d[e].listener,a,b,c)},this.status=function(){var a,b=["\n Active States \n","________________________ \n \n"];for(a in l)l.hasOwnProperty(a)&&l[a].status&&b.push(a+"\n");console.log(String(b).replace(/,/g,""))},this.subscribe=function(a,b,c){if(!b)throw new E("UNDEFINED_HANDLER","ErrorHandler");var d=j[a]||(j[a]=[]);return d.push({id:i+=1,handler:b,listener:c}),[a,i]},this.unsubscribe=function(a){for(var b=a[0],c=j[b]?j[b].length:0,d=0;c>d;d++)if(j[b][d].id===a[1]){j[b].splice(d,1);break}},this.warn=function(a,b,c){this.output(a,b,"warn",c)},this.addState=function(a){l[a]||(l[a]={name:a,status:!0,callbacks:{fn:[],args:[]}})},this.subscribeState=function(a,b){var c=Array.prototype.slice.call(arguments);return this.addState(a),l[a].callbacks.fn.push(b),l[a].callbacks.args.push(c.slice(2)),!0},this.removeState=function(a){var b,c=l[a].callbacks.fn;if(l[a]&&l[a].status){for(b in c)c.hasOwnProperty(b)&&c[b].call(this,l[a].callbacks.args);return l[a].status=!1,!0}return!1},d(a)}function E(a,b,c,d){var e=new ErrorHandler;e.error(a,b,c,d),d&&(c.errorMessage=d),e.publish(a,b,c)}E.prototype=new Error,E.prototype.constructor=E,E.prototype.name="ErrorHandler Error";