(function(window,undefined){$=window.jQuery;$thm=window.$thm;$.extend(true,$thm,{$body:$($thm._body),deletAuthCookies:function(){var authCookies=["uname","forumUser","socialProvider","email","checksum","mwInsider"];$.each(authCookies,function(i,v){deleteCookie(v)})},setDocumentDotWriteCtx:function(element){$thm.debug("switching document.write ctx to "+element.id);document.write=function(html){$(element).append(html)}},queueDartAd:function(index,element){if(console){console.log("This method is for the old Dart ad calls. It is no longer used with our XFP ad implementation. Call googletag.pubads().refresh(); to refresh ads on a page.")}return false},renderDartAds:function(){$.dequeue($thm.adRenderQueue,"ads")},renderSingleAd:function($dart,call,next){$thm.debug($dart.attr("id")+" render w/WC2:"+call+"; pos:"+$dart.data("position"));g_arrAds.push($dart.data("position"));$dart.empty().removeClass("defer onload").addClass("dart-done");var handle=writeCapture($dart.get(0),function(){var isMSIE=
/*@cc_on!@*/
false;if(isMSIE){$dart.find("object").each(function(i,e){var id="idgWraper"+$dart.attr("id");var $e=$(e).wrap("<div id='"+id+"'>");var w=$e.attr("width");var h=$e.attr("height");var src=$e.find("param[name=movie]").attr("value");var attrs={};var params={};var flashvars;var fv=$e.find("param[name='FlashVars'],param[name='flashvars']").val();if(fv!=undefined){fv=decodeURIComponent(fv);flashvars=$thm.qsToObject(fv)}for(var i=0;attr=e.attributes.item(i);i++){attrs[attr.name]=attr.value}$e.children("param").each(function(i,p){params[p.name]=p.value});swfobject.embedSWF(src,id,w,h,"9","",flashvars,attrs,params)})}if(window.vglnk){$dart.find("a").attr("rel","norewrite")}if(typeof next==="function"){next()}});document.write=handle.write;handle.write('<script src="'+call+'"><\/script>').close()},responsiveImageSwap:function(index,element){var $element=$(element);var fullSrc=$element.data("fullsrc");var retinaSrc=$element.data("retinasrc");if($thm.devicePixelRatio>1&&retinaSrc!=undefined){$element.attr("src",retinaSrc)}else{if(fullSrc!=undefined&&!$thm.isMobile()){$element.attr("src",fullSrc)}}},hideHero:function(){if($thm.$superHero.css("opacity")>0){setTimeout("$thm.hideHero()",100)}else{$thm.$superHero.hide()}},loadCompareCart:function(action,productId,categoryId){function getCategoryForProduct(productId){var url="/product/compare/cart!getCategoryForProductId";var method="POST";var dataObj={productId:productId};var localResult=undefined;$.ajax(url,{type:method,data:dataObj,async:false,success:function(data){localResult=JSON.parse(data).categoryId}});return localResult}function createProduct(productId,categoryId){var product=new Object;product.productId=productId;product.categoryId=categoryId;return product}if(productId!=undefined&&(categoryId==undefined||categoryId=="")){categoryId=getCategoryForProduct(productId)}var _cookie=$thm.readCookie("productsInCart");if(_cookie!=""&&_cookie!=undefined){var items=JSON.parse(_cookie)}else{items=new Array}var deleting=false;if(productId!=undefined&&items.length>0){var tempItems=items.filter(function(item){return item.productId!=productId});if(tempItems.length==items.length){deleting=false}else{deleting=true}items=tempItems}if(action=="removeAll"){var tempItems=items.filter(function(item){return item.categoryId!=categoryId});items=tempItems}if(deleting==false&&productId!=undefined){items.push(createProduct(productId,categoryId))}var $element=$("#saved-comparisons");$(".compare").each(function(index,e){var $e=$(e).removeClass("comparing");var _prodid=$e.data("product");for(var i=0;items!=undefined&&i<items.length;i++){if(_prodid==items[i].productId){$e.addClass("comparing").data("action","remove").find("div").text("remove");break}else{$e.removeClass("comparing").data("action","add").find("div").text("compare")}}});var $buttons=$(".compare-launch-btn").each(function(i,e){var $this=$(this);var cat=$this.data("category");var $list=$element.find(".comparisons-item[data-category="+cat+"]");if($list.length>0){$this.show().on("click.compare",function(event){var url=$list.data("url");window.location.href=url})}else{$this.off("click.compare").hide()}});if(productId!=undefined||action=="removeAll"){var expires=new Date(new Date().getTime()+525600000);$thm.writeCookie("productsInCart",JSON.stringify(items),expires,$thm.cookieDomain)}var url="/product/compare/cart.do";var method=action!=undefined?"POST":"GET";var dataObj={strItems:JSON.stringify(items),productId:productId,categoryId:categoryId,action:action};$.ajax(url,{type:method,data:dataObj,success:function(data){$("#saved-comparisons").replaceWith(data)}});$thm.compareCartId=$element.data("cart");$thm.compareCartId=$thm.compareCartId!=undefined?$thm.compareCartId:0;var expires=new Date(new Date().getTime()+525600000);$thm.writeCookie("compareCart",$thm.compareCartId,expires,$thm.cookieDomain)},downloadsExit:function(eventObject){eventObject.preventDefault();$target=$(this);var href=$target.attr("href");var pid=$target.data("product");var cid=$target.data("config");var brand=$target.data("brand");var dataObj={productId:pid,productConfigurationId:cid};$thm.logPlEvent({b:brand,e:"download",t:"product",id:pid});var request=$.ajax({url:"/product/download.do",type:"POST",data:dataObj,dataType:"text"});request.complete(function(msg){var d=$("#downloadPopup").detach();$("body").append(d);d.css({top:$(window).scrollTop()}).hide();d.fadeIn(1000).css({display:"block",width:"800px",height:"600px",background:"#fff",border:"8px #333 solid",padding:"12px 12px 20px","z-index":"2147483647","-moz-border-radius":"15px","border-radius":"15px","-moz-box-shadow":"6px 6px 3px #888","-webkit-box-shadow":"6px 6px 3px #888","box-shadow":"6px 6px 3px #888"}).center();d.find(".dart.defer").trigger("adRender",function(){setTimeout(function(){window.location.href=href},3000)});setTimeout(function(){window.location.href=href},3000)});return false},hasVideoPreroll:function(){return(typeof(narfVideo)!=="undefined"&&narfVideo!=null&&undefined!=narfVideo.preroll)}});$.fn.scrollableCustom=function(options){var scrollable;if(!(scrollable=$(this).data("scrollable"))||!scrollable.getConf().circular){return}var conf=scrollable.getConf();if(options.clones){var nodes=scrollable.getItems();var length=nodes.length;var clonedClass=scrollable.getConf().clonedClass;var wrap=scrollable.getItemWrap();var newNodesAppend=$("<span />");for(var i=0;i<options.clones;i++){nodes.eq(i%length).clone().addClass(clonedClass).appendTo(newNodesAppend)}newNodesAppend.children().appendTo(wrap)}if(options.step){conf.size=options.step}if(conf.keyboard){$(document).off("keydown.scrollable");$(document).off("keydown.scrollable");$(document).on("keydown.scrollable",function(eventObj){var keyCode=eventObj.keyCode;if(!(!conf.keyboard||eventObj.altKey||eventObj.ctrlKey||eventObj.metaKey||$(eventObj.target).is(":input"))){if(conf.vertical&&(keyCode==38||keyCode==40)){scrollable.move(keyCode==38?-1*conf.size:conf.size);return eventObj.preventDefault()}if(!conf.vertical&&(keyCode==37||keyCode==39)){scrollable.move(keyCode==37?-1*conf.size:conf.size);return eventObj.preventDefault()}}})}};$.fn.scrollableGroups=function(options){var settings={item:".item",wrap:"<div/>",size:3};$.extend(settings,options);$(this.each(function(i,e){var $e=$(e);var $items=$e.find(settings.item);var length=$items.length;for(var i=0;i<length;i+=settings.size){var $slice=$items.slice(i,i+settings.size);$slice.wrapAll(settings.wrap)}}));return this};$(window.document).ready(function(){$("#network").load("/network");if($thm._debug){$thm.debug("premium ad-optIn status:"+$thm.premiumAdOptStatus)}if($thm.premiumAdOptStatus){$("body").addClass("opt-out")}$("article .zoom").append('<div class="zoom-icon"></div>');$("article .zoom").addClass("article-gallery");$("article .zoom").attr("title",function(){if($(this).parent().find("figcaption").text()){return $(this).parent().find("figcaption").text()}else{return $(this).find("img").attr("alt")}});$(window).resize(function(){initZooms()}).resize();$(document).one("showPixel",function(event){var $e=$(this).filter("[data-pixel]").add("[data-pixel]");if($e.length>0){var pixel=$e.data("pixel");if(pixel){pixel=pixel.replace("#ord#",$thm.getOrd());$thm.debug("Showing Pixel:"+pixel);$("<img src="+pixel+" border=0 />").appendTo($e)}}});$(document).on("click",".downloadsExit",$thm.downloadsExit);$(".featured-desc .hmenu a").click(function(){$("#featured-more").slideToggle();return false});$(".remove-compitem").click(function(){whichItems="."+$(this).parents("th").attr("id");$(this).parents("th").remove();$(whichItems).remove()});if($("table.comparison-primary")){$("table.comparison-primary th.comp-product").each(function(i,e){var $e=$(e);var selector="table.comparison ."+$e.attr("id");var width=$e.outerWidth();$(selector).width(width)})}$(".article-author").click(function(){var whichAuthor=$(this).find("a").attr("href");if($(whichAuthor).hasClass("open")){$(whichAuthor).removeClass("open").slideUp("fast",function(){$(".article-meta").removeClass("open")})}else{$(".author-info").hide().removeClass("open");$(whichAuthor).addClass("open").slideDown("fast",function(){$(".article-meta").addClass("open")})}return false});$(".article-author").bind("contextmenu",function(e){e.preventDefault();var whichAuthor=$(this).find("a").attr("href");if($(whichAuthor).hasClass("open")){$(whichAuthor).removeClass("open").slideUp("fast",function(){$(".article-meta").removeClass("open")})}else{$(".author-info").hide().removeClass("open");$(whichAuthor).addClass("open").slideDown("fast",function(){$(".article-meta").addClass("open")})}return false});$(".story-pkg-toggle").on("click",function(e){e.preventDefault();var $ul=$(e.target).siblings("ul").toggle();if($ul.is(":visible")){$(document).one("click",function(){$ul.hide();return true})}return false});if($(".peek-target")){$(".peek-wrapper script").remove();$(".peek-wrapper").appendTo($(".peek-target"));if($(".sharing-tools li").length>0){$(".peek-target").css("top","280px")}}$(".product-peek").hover(function(){$(this).toggleClass("out")});$(".peek-target").mouseenter(function(){$(".peek-target").removeClass("resetZindex");$(".peek-target").addClass("higherZindex")});$(".peek-target").mouseleave(function(){$(".peek-target").removeClass("higherZindex");$(".peek-target").addClass("resetZindex")});$("#blogsNav").mouseenter(function(){$("body").addClass("unhideblognav")});$("#blogsNav").mouseleave(function(){$("body").removeClass("unhideblognav")});$("#th-blog-nav").mouseenter(function(){$("body").addClass("unhideblognav")});$("#th-blog-nav").mouseleave(function(){$("body").removeClass("unhideblognav")});$("#categoryNav").mouseenter(function(){$("body").addClass("unhidecategorynav")});$("#categoryNav").mouseleave(function(){$("body").removeClass("unhidecategorynav")});$(".th-category-nav").mouseenter(function(){$(this).find(".th-sub-nav").show()});$(".th-category-nav").mouseleave(function(){$(this).find(".th-sub-nav").hide()});$("li.subscribeHeader").mouseenter(function(){$(".subscribe-hover").css({display:"block"})});$("li.subscribeHeader").mouseleave(function(){$(".subscribe-hover").css({display:"none"})});$("img[data-fullsrc],img[data-retinasrc]").each($thm.responsiveImageSwap);$(".home-features-inner").scrollable({circular:true,keyboard:true}).scrollableCustom({clones:4});if($(".home-features-inner").length){var scount=$(".home-features-inner").scrollable().getSize()}$(".int-features-inner").scrollable({circular:true,keyboard:true}).scrollableCustom({clones:3,step:3});$(document).on("click","#mobile-nav-toggle",function(){$("#site-nav").slideToggle();$("#section-nav").slideToggle()});if(!$thm.deviceWidthAtLeast($thm.deviceBreakpoints.tablet)){$("#main-content").on("click","#productCatModule header",function(e){$(this).parents("#productCatModule").toggleClass("open")})}if($thm.deviceWidthAtLeast($thm.deviceBreakpoints.desktop)&&!$thm.isMobile()){$(window).scroll(function(e){var divpos=$("body").offset().top+40;if($(window).scrollTop()>=divpos){$("body").addClass("scrolling")}if($(window).scrollTop()<divpos){$("body").removeClass("scrolling")}})}$(".capEnlarge1").click(function(){$(this).parents("#product-cap").toggleClass("multi")});$(".capEnlarge2").click(function(){$(this).parents("#product-cap").toggleClass("multi")});$(".capEnlarge3").click(function(){$(this).parents("#product-cap").toggleClass("multi")});$(".capEnlarge4").click(function(){$(this).parents("#product-cap").toggleClass("multi")});$(".capEnlarge5").click(function(){$(this).parents("#product-cap").toggleClass("multi")});$(".capEnlarge6").click(function(){$(this).parents("#product-cap").toggleClass("multi")});$(".capEnlarge7").click(function(){$(this).parents("#product-cap").toggleClass("multi")});$(".capEnlarge8").click(function(){$(this).parents("#product-cap").toggleClass("multi")});$("#main-content").on("click","#filters-label",function(){$(this).toggleClass("open");$("#filters-list").toggleClass("open");$(".filter-set").toggleClass("open")});$(".story-pkg-inner p").click(function(){$(this).parents(".story-pkg-inner").toggleClass("open")});$(".collapsible-toggle").click(function(){$(this).parents(".collapsible").toggleClass("open")});$(document).ready(function(){if("undefined"!=typeof(FB)){FB.Event.subscribe("edge.create",function(href,widget){socialTrack("Article","Facebook","Like")});FB.Event.subscribe("edge.remove",function(href,widget){socialTrack("Article","Facebook","Unlike")})}});$("#surveyBanner").click(function(){$("#IDGSurvey").css({display:"block"})});$("#surveyCloser").click(function(){$("#IDGSurvey").css({display:"none"})});$(window).setBreakpoints({distinct:true,breakpoints:[320,480,768,1024,1460]});var lv=$thm.readCookie("lv");$thm.writeLastVisit();$thm.$superHero=$("#hero.heroic");if($thm.$superHero.length>0){setTimeout("$thm.hideHero()",5000)}})})(window);var NarfUser=function(NarfUser){this.loaded=true;this.isAuthd=function(cookies){var checksum=Cooker.readCookie("checksum");var uname=Cooker.readCookie("uname");var email=Cooker.readCookie("email");email=email.replace(/\"/g,"");var auth=Cooker.readCookie("auth");var balance=$.md5(auth+uname+email);return(checksum===balance)?true:false};this.checkEmailUserName=function(email,username,callback){var requestOptions={url:"/user/isEmailUsernameValid",data:{username:username,email:email},type:"post",success:function(response){var obj=eval("("+$.trim(response)+")");callback(obj)}};$.ajax(requestOptions)};this.handleEmailCheckMyAccount=function(obj){var validLook=(obj.emailValid)?"MediumAquaMarine":"pink";$("#emailInput").css({background:validLook});if(obj.emailValid){$("#account-errors").removeClass("error").html("")}else{$("#account-errors").addClass("error").append("Email is invalid")}};this.showLogin=function(showSocial){showSocial=(typeof showSocial!="undefined"&&showSocial==false)?false:true;if(!this.Logon.isValid){var d=$("#loginModal");d.html("").hide();d.css({top:$(window).scrollTop()}).hide();d.load("/user/login",{showSocial:showSocial},function(){d.fadeIn(1000).css(modalCss).center();$("#close").css({cursor:"pointer"}).click(function(){unloadLogin()})})}else{if(!($thm.deviceWidthAtLeast($thm.deviceBreakpoints.desktop)&&!$thm.isMobile())){var d=$("#logoffModal");d.html("").hide();d.css({top:$(window).scrollTop()}).hide();d.load("/user/logout!input","",function(){d.fadeIn(1000).css(modalCss).center();$("#close").css({cursor:"pointer"}).click(function(){unloadLogin()})})}}};this.showReg=function(showSocial){showSocial=(typeof showSocial!="undefined"&&showSocial==false)?false:true;var d=$("#loginModal");d.html("").hide();d.css({top:$(window).scrollTop()}).hide();d.load("/user/register",{showSocial:showSocial},function(){d.fadeIn(1000).css(modalCss).center();$("#close").css({cursor:"pointer"}).click(function(){unloadLogin()})})};this.showEmailChangeMessageSent=function(email){var d=$("#loginModal");d.html("").hide();d.css({top:$(window).scrollTop()}).hide();d.load("/user/account/changeemailmessage",{email:email},function(){d.fadeIn(1000).css(modalCss).center();$("#close").css({cursor:"pointer"}).click(function(){unloadLogin()})})};this.unloadLogin=function(){var d=$("#loginModal");d.fadeOut(1000,function(){d.html("")})};this.showChangePassword=function(){var d=$("#loginModal");d.html("").hide();d.css({top:$(window).scrollTop()}).hide();d.load("/user/changePassword",function(){d.fadeIn(1000).css(modalCss).center();$("#close").css({cursor:"pointer"}).click(function(){unloadLogin()})})};this.showChangePasswordReceiver=function(){var d=$("#loginModal");d.html("").hide();d.css({top:$(window).scrollTop()}).hide();d.load("user/changePasswordReceiver",function(){d.fadeIn(1000).css(modalCss).center();$("#close").css({cursor:"pointer"}).click(function(){unloadLogin()})})};this.checkLogin=function(){var uname=Cooker.readCookie("uname");if(typeof uname!="undefined"&&uname!=""&&Logon.isValid){uname=uname.replace(new RegExp("[^a-zA-Z0-9]","g"),"");$("#network-tools ul.hmenu").addClass("welcome");$("#network-tools ul.hmenu li.siteSignIn").html('<a href="/user/account2"><span>Hi, </span>'+$(uname).truncate(10)+"</a>");$("#network-tools ul.hmenu li:last").html('<a id="logout" href="javascript://">Sign out</a>');$("body").addClass("userLoggedIn");$("#mobile-user-link").css({color:"#fff"});$("#logout").click(function(e){e.preventDefault();logout()}).css({cursor:"pointer"})}};this.checkUserName=function(username,callback){var unameRegex=/^[0-9A-Za-z]+$/;if(typeof username==="undefined"||username.length<=3||username.length>26||!unameRegex.test(username)){handleUsernameCheck("true");return}$.post("/user/isEmailUsernameValid",{username:username},function(data){callback($.trim(response))})};this.checkEmailValid=function(email){return(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(email))?true:false};this.logout=function(response){Cooker.deletAuthCookies();if(typeof(gigya)!="undefined"){gigya.services.socialize.logout(SocialConf.gigyaConf,{})}window.location.reload()};this.handlePremiumAdSettings=function(){$("#ads-on").click(function(){var bool=($("#ads-on").attr("checked")=="checked");var adSetting=(bool)?true:false;$.post("/user/setPremiumAdSettings",{disableAds:adSetting},function(data){if(data.response==true){}})});$("#ads-off").click(function(){var bool=($("#ads-off").attr("checked")=="checked");var adSetting=(bool)?false:true;$.post("/user/setPremiumAdSettings",{disableAds:adSetting},function(data){if(data.response==true){}})})};this.handleInsiderYearSelect=function(){if($("#yearSelector").val()!=""){window.location.href="/premium/issues/"+$("#yearSelector").val()}};var modalCss={display:"block",background:"#fff",border:"9px #333 solid",padding:"12px","max-width":"550px","z-index":"8000","-moz-border-radius":"15px","border-radius":"15px","-moz-box-shadow":"10px 10px 5px #888","-webkit-box-shadow":"10px 10px 5px #888","box-shadow":"10px 10px 5px #888"};return this}(NarfUser||{});var Cooker=function(cooker){this.loaded=true;this.cookies=document.cookie;this.readCookie=function(name,cookies){return unescape(this.readRawCookie(name,cookies))};this.readRawCookie=function(name,cookies){if(navigator.cookieEnabled&&cookies!=""){var strAll=document.cookie;var i1=strAll.indexOf(name);if(i1!=-1){i1=i1+name.length+1;i2=strAll.indexOf(";",i1);if(i2==-1){i2=strAll.length}return strAll.substring(i1,i2)}}return""};this.deleteCookie=function(name){removeCookie(name,getCookieDomain())};this.deletAuthCookies=function(){var authCookies=["uname","forumUser","socialProvider","email","checksum","mwInsider"];$.each(authCookies,function(i,v){deleteCookie(v)})};return this}(Cooker||{});function setCookie(name,value,expires,domain){setRawCookie(name,escape(value),expires,domain)}function getCookieDomain(){var d=document.domain.split(".");return"."+d.slice(d.length-2,d.length).join(".")}function setRawCookie(name,value,expires,domain){if(navigator.cookieEnabled){document.cookie=name+"="+value+";expires="+expires.toGMTString()+";domain="+domain+";path=/"}}function writeCookie(name,value,expires,domain){setCookie(name,value,expires,domain)}function readCookie(name){return unescape(readRawCookie(name))}function readRawCookie(name){if(navigator.cookieEnabled&&document.cookie!=""){var strAll=document.cookie;var i1=strAll.indexOf(name);if(i1!=-1){i1=i1+name.length+1;i2=strAll.indexOf(";",i1);if(i2==-1){i2=strAll.length}return strAll.substring(i1,i2)}}return""}function removeCookie(name,domain){if(navigator.cookieEnabled){var d=new Date();d.setDate(d.getDate()-30);document.cookie=name+"=;expires="+d.toGMTString()+";domain="+domain+";path=/"}}var SocialConf=function(socialConf){this.popLoginParams={useHTML:"true",showTermsLink:"false",height:30,width:250,containerID:"socialComponentDiv",hideGigyaLink:"true",lastLoginIndication:"none",showTooltips:"true",pendingRegistration:"true"};this.gigyaConf={enabledProviders:"facebook,twitter,yahoo,google,linkedin"};return this}(SocialConf||{});var Social=function(social){this.loaded=true;this.setCommentAvatar=function(data){if(data.user.thumbnailURL&&data.user.thumbnailURL!=""&&data.user.thumbnailURL.length>0){$("#forumUserThumbnail").attr("src",data.user.thumbnailURL).show()}};this.handleCommentSubmit=function(){Analytics.logArticleComment();if(Logon.isValid){ArticleComments.postComment()}else{NarfUser.showLogin()}return false};this.loadSignInPop=function(){var d=$("#loginModal");d.fadeOut(1000).html("");d.css({top:$(window).scrollTop()}).hide();d.load("/user/socialLogin",function(){d.fadeIn(1000).css({display:"block",background:"#fff",border:"9px #333 solid",padding:"12px","max-width":"550px","z-index":"8000","-moz-border-radius":"15px","border-radius":"15px","-moz-box-shadow":"10px 10px 5px #888","-webkit-box-shadow":"10px 10px 5px #888","box-shadow":"10px 10px 5px #888"}).center();$("#close-login").css({margin:"-21px -8px 0 0",position:"absolute",right:"0","font-weight":"bolder",cursor:"pointer"}).click(function(){unloadSignInPop()})})};this.unloadSignInPop=function(){var d=$("#loginModal");d.fadeOut(1000,function(){d.html("")})};this.submitSignInPop=function(data){var gUid=data.user.UID;var nickname=data.user.nickname;var firstName=data.user.firstName;var lastName=data.user.lastName;var email=data.user.email;var proxiedEmail=data.user.proxiedEmail;var provider=data.user.loginProvider;var photoURL=data.user.photoURL;var signatureTimestamp=data.user.signatureTimestamp;var signature=data.user.UIDSignature;Analytics.logSocialSignin(data.user.loginProvider);var d=$("#loginModal");$.post("/user/socialLogin2",{gUid:gUid,nickname:nickname,firstName:firstName,lastName:lastName,email:email,proxiedEmail:proxiedEmail,photoURL:photoURL,provider:provider,signatureTimestamp:signatureTimestamp,signature:signature},function(data){if(data.error){$("#login-custom-errors-pop").html(data.error).fadeIn("fast")}else{$("#loginModal").html(data);d.fadeIn(1000).css({display:"block",background:"#fff",border:"9px #333 solid",padding:"12px","z-index":"8000","max-width":"550px","-moz-border-radius":"15px","border-radius":"15px","-moz-box-shadow":"10px 10px 5px #888","-webkit-box-shadow":"10px 10px 5px #888","box-shadow":"10px 10px 5px #888"}).center();$("#close").click(function(){unloadSignInPop()})}})};this.checkLogin=function(response){var uname=Cooker.readCookie("uname");if(typeof uname!="undefined"&&uname!=""&&Logon.isValid){uname=uname.replace(new RegExp("[^a-zA-Z0-9]","g"),"");$("#network-tools ul.hmenu").addClass("welcome");$("#network-tools ul.hmenu li.siteSignIn").html('<a href="/user/account2"><span>Hi, </span>'+$(uname).truncate(10)+"</a>");$("#network-tools ul.hmenu li:last").html('<a id="logout" href="javascript://">Sign out</a>');$("body").addClass("userLoggedIn");$("#mobile-user-link").css({color:"#fff"});$("#logout").click(function(e){e.preventDefault();logout()}).css({cursor:"pointer"})}};this.logout=function(response){Cooker.deletAuthCookies();if(typeof(gigya)!="undefined"){gigya.services.socialize.logout(gigyaConf,{})}window.location.reload()};return this}(Social||{});jQuery.fn.center=function(){this.css("position","absolute");this.css("top",(($(window).height()-this.outerHeight())/2)+$(window).scrollTop()+"px");this.css("left",(($(window).width()-this.outerWidth())/2)+$(window).scrollLeft()+"px");return this};jQuery.fn.truncate=function(tLength){if(typeof this.selector=="string"){if(tLength>=3&&this.selector.length>3){return(this.selector.length>tLength)?this.selector.substr(0,tLength-3)+"...":this.selector}else{return this.selector}}};var Logon=new Object();Logon.forumUser=Cooker.readCookie("forumUser");Logon.uname=Cooker.readCookie("uname");Logon.isValid=(Logon.forumUser&&Logon.uname)?true:false;var ArticleComments=new Object();ArticleComments.threadId=null;ArticleComments.communityId=null;ArticleComments.isLoggedOn=0;ArticleComments.style="default";ArticleComments.sort="default";ArticleComments.paginationLoad="15";ArticleComments.pagination="0-"+ArticleComments.paginationLoad;ArticleComments.logArticleComment=function(){var s=s_gi(getEventReportSuite());s.linkTrackVars="prop25,eVar25,events";s.linkTrackEvents="event8";s.events="event8";s.prop25="Article Comment";s.tl(this,"o","Article Comments")};ArticleComments.getComments=function(){if(null==ArticleComments.threadId){return false}if(Logon.isValid){ArticleComments.isLoggedOn=1}$.get("/articleComment/get.do",{threadId:ArticleComments.threadId,style:ArticleComments.style,sort:ArticleComments.sort,pagination:ArticleComments.pagination,ord:Math.floor(Math.random()*10000000)},ArticleComments.fireCallBacks)};ArticleComments.recommendComment=function(postId){if(null==ArticleComments.threadId){return false}if(Logon.isValid){ArticleComments.isLoggedOn=1}$.get("/articleComment/get.do",{threadId:ArticleComments.threadId,recPostId:postId,recComment:true,style:ArticleComments.style,sort:ArticleComments.sort,pagination:ArticleComments.pagination,ord:Math.floor(Math.random()*10000000)},function(){ArticleComments.fireCallBacks()})};ArticleComments.fireCallBacks=function(data){$.globalEval(data);ArticleComments.showLoadMore();ArticleComments.showRecommends();ArticleComments.setNav();ArticleComments.attachLinkHandlers()};ArticleComments.gigyaCommentPost=function(commentText){var link=window.location.href;var imageSrc=$("meta[name=thumbnail]").attr("content");var title="PCWorld:"+$("meta[name=title]").attr("content");var description=$("meta[name=description]").attr("content");if(typeof(gigya)!="undefined"){var act=new gigya.services.socialize.UserAction();act.setUserMessage(downgradeWin1252Chars(commentText));act.setTitle(title);act.setLinkBack(link);act.setDescription(description);var image={type:"image",src:imageSrc,href:link};act.addMediaItem(image);act.addActionLink("Read More",link);gigya.services.socialize.showShareUI(SocialConf.main,{userAction:act})}};ArticleComments.postComment=function(){if(null==ArticleComments.threadId){return false}if(Logon.isValid){ArticleComments.isLoggedOn=1}var commentNode=document.getElementById("forum_comment");var commentText=commentNode.value;if(""==commentText){alert("Please enter a comment");commentNode.focus();return}commentNode.value="";document.getElementById("postingMessage").style.display="block";$.post("/articleComment/post.do",{threadId:ArticleComments.threadId,aid:ArticleComments.aid,communityId:ArticleComments.communityId,style:ArticleComments.style,postSubject:downgradeWin1252Chars(ArticleComments.subject),postComment:downgradeWin1252Chars(commentText)},ArticleComments.fireCallBacks)};ArticleComments.showLoadMore=function(){if(($("#commentList").children().length-1)<($("#commentsTotal").html()*1)&&$("#commentList").children().length!=($("#commentsTotal").html()*1)){$("#commentsNavLoadMoreClick").hide();$("#commentsNavLoadMore").show()}else{$("#commentsNavLoadMore").hide()}};ArticleComments.showRecommends=function(){if($("#showRecommends").html()=="true"){$("#commentsNavTopRecommended, .commentsNavTopSeparator").show()}else{$("#commentsNavTopRecommended .commentsNavTopSeparator").hide()}};ArticleComments.attachLinkHandlers=function(){if(!commentIds){var commentIds=[];$("#commentContainer ul li .commentPostId").each(function(index){commentIds[index]=$(this).html()})}for(var i=0;i<commentIds.length;i++){if($("#commentAvatarIcon"+commentIds[i]).attr("title")!=undefined){var id="commentAvatarIcon"+commentIds[i];var socialName=$("#commentAvatarIcon"+commentIds[i]).attr("title");ArticleComments.setAvatarIcon(id,socialName)}if(Logon.isValid){if($("#recommend"+commentIds[i]+" > span").attr("class")!="recAlready"){$("#recommend"+commentIds[i]).html('<a href="javascript://" onclick="ArticleComments.recommendComment('+commentIds[i]+')" class="recommend">Recommend</a>')}}else{$("#recommend"+commentIds[i]).html('<a href="javascript://" class="recommend">Recommend</a>');$("#flag"+commentIds[i]).html('<a href="javascript://" class="flag">Report Abuse</a>');$("#reply"+commentIds[i]).html('<a href="javascript://" class="reply">Reply</a>')}}if(!Logon.isValid){$("#commentList .item a.recommend, #commentList .item a.flag, #commentList .item a.reply").click(function(){NarfUser.showLogin()})}};ArticleComments.setAvatarIcon=function(id,socialSiteName){if(socialSiteName.substr(6)=="facebook"){badgePath=SocialBadgePath.facebook20}if(socialSiteName.substr(6)=="twitter"){badgePath=SocialBadgePath.twitter20}if(socialSiteName.substr(6)=="yahoo"){badgePath=SocialBadgePath.yahoo20}if(socialSiteName.substr(6)=="google"){badgePath=SocialBadgePath.google20}if(socialSiteName.substr(6)=="linkedin"){badgePath=SocialBadgePath.linkedin20}$("<img/>").attr({src:badgePath}).appendTo("#"+id)};ArticleComments.setNav=function(){var sort=$("#commentsSortedBy").html();if(sort=="recommends"){$("#commentsNavTopRecommended").addClass("selected");$("#commentsNavReverseCron, #commentsNavCron").removeClass("selected")}else{if(sort=="reverse"){$("#commentsNavTopRecommended, #commentsNavCron").removeClass("selected");$("#commentsNavReverseCron").addClass("selected")}else{if(sort=="cron"){$("#commentsNavTopRecommended, #commentsNavReverseCron").removeClass("selected");$("#commentsNavCron").addClass("selected")}}}$("#commentsSortLoader").fadeOut(500)};function downgradeWin1252Chars(sIn){var arrCharMap={128:"&#8364;",133:"...",145:"'",146:"'",147:'"',148:'"',150:"-",151:"-"};var sOut=sIn;for(var i=0;i<sOut.length;i++){if(sOut.charCodeAt(i)>127){var charCode=sOut.charCodeAt(i);var replacement=arrCharMap[charCode]?arrCharMap[charCode]:"&#"+charCode+";";sOut=sOut.substr(0,i)+replacement+sOut.substr(i+1);i=i+replacement.length}}return sOut}function getLoginStatusForOmniture(){var s="login:";if(!Logon.isValid){s+="not logged in"}else{var provider=Cooker.readCookie("socialProvider");s+=(provider!="")?provider:"internal"}return s}function getQsVal(name){if(window.location.search!=""){var qs=window.location.search.substring(1);var pairs=qs.split("&");for(var i=0;i<pairs.length;i++){var pair=pairs[i].split("=");if(pair[0]==name){return pair[1];break}}}return""}function getTrackingToken(tokenName){var tokenVal="";if(null!=tokenName&&tokenName.length>0){if(null!=window.location.hash&&window.location.hash.indexOf("#"+tokenName+".")>-1){var len=tokenName.length+2;tokenVal=window.location.hash.substr(len)}else{if(null!=window.location.search){tokenVal=getQsVal(tokenName)}}}if(tokenVal.length>0){return tokenVal}else{return null}}function socialTrack(loc,network,socialAction){_gaq.push(["_trackSocial",network,loc+":"+socialAction]);var trackString=network+":"+loc+":"+socialAction;s.prop48=trackString;s.eVar27="D=c48";s.event36=trackString}function linkedInTrack(){socialTrack("Article","LinkedIn","Share")}$(document).ready(function(){NarfUser.checkLogin()});$(document).ready(function(){if($("body").width()<"481"){var logo=$("#banner");if(logo.length){$("body").animate({scrollTop:logo.offset().top},100)}$("#mobile-search-toggle").click(function(){if($("body").hasClass("show-search")){$("body").removeClass("show-search")}else{$("body").animate({scrollTop:$("body").offset().top},100);$("body").addClass("show-search")}})}$(".review-navbar a.has-subnav").click(function(){$(".review-navbar a").removeClass("active");whichNav=$(this).siblings("ul");if($(whichNav).css("display")=="block"){$(this).removeClass("active")}else{$(this).addClass("active");$(whichNav).slideDown()}return false});$(".product-cap-head .cap-toggle").click(function(){$(this).parents(".product-cap").toggleClass("open")});$("#mobile-offscreen-toggle").click(function(){$("body").toggleClass("show-nav");return false});$(".dealpost-link").hover(function(){$(".dealpost-tooltip-outer").toggle()});if($(".accordion").length>0){initAccordion($(".accordion"))}});$(window).load(function(){if($("#gpt-leaderboard div").length){var adSize=$("#gpt-leaderboard div").width();if(adSize>728){$("body").addClass("extendedLeaderboard")}}if($("#gpt-showcase div").length){var centerIMU=$("#gpt-showcase div").width();if(centerIMU=300){$("#gpt-showcase div").css("margin","auto")}}if($("#gpt-showcase-2 div").length){var centerIMU=$("#gpt-showcase-2 div").width();if(centerIMU=300){$("#gpt-showcase-2 div").css("margin","auto")}}if((!!$(".sharing-tools").length)&&($("body").width()>"1024")&&($("#skin").length==0)&&!$("body").hasClass("article-product-hub")&&$(".tocWrapper")<=0){var sticky=$(".sharing-tools");var stickyTopCont=$(sticky).offsetParent();if($("#carousel-thumbs-holder").length>0){stickyTopCont=$(".articleBody");$(stickyTopCont).css("position","relative")}var stickyTop=$(sticky).offsetParent().offset().top;var pusherTop=$("#bottom-promo").offset().top;var limit=pusherTop;$(window).scroll(function(){var contentLeft=$("#main-content").offset().left-95;var returnLeft=-95;if($(sticky).hasClass("sharing-compact")){returnLeft=returnLeft+10}if($(stickyTopCont).attr("id")=="main"){contentLeft=contentLeft-10}var windowTop=$(window).scrollTop()+50;if(stickyTop<windowTop){sticky.css({position:"fixed",top:50,left:contentLeft})}else{sticky.css({position:"absolute",top:-10,left:returnLeft})}if(limit<windowTop){var diff=limit-windowTop;sticky.css({top:diff})}});$(window).resize(function(){if(sticky.css("position")=="fixed"){sticky.css({left:$("#main-content").offset().left-75})}})}});function initZooms(){if(typeof($.colorbox)==="function"){if($thm.deviceWidthAtLeast($thm.deviceBreakpoints.tablet)){$("article .zoom").colorbox({rel:"article-gallery",maxWidth:$thm.deviceWidth,})}else{$.colorbox.remove();$("article .zoom").attr("target","_blank")}}}(function($){$.fn.resizeCarousel=function(){var carouselCropWidth=$(this).find(".carousel-inside-crop").width();var itemDiv=$(this).find(".carousel-items > div");itemDiv.width(carouselCropWidth);return this}})(jQuery);function initAccordion($accordions){$accordions.each(function(){var $toggles=$(this).find("[data-toggle='collapse']");var hasActiveTagging=$toggles.hasClass("active");$toggles.each(function(){var currentTarget=$(this).data("target");var parent=$(this).data("parent");var $notTarget=$(parent+" .collapse").not(currentTarget);$(this).click(function(){if(typeof parent!=="undefined"){$notTarget.slideUp();$(parent).find($toggles).removeClass("active")}if(hasActiveTagging){$(this).toggleClass("active")}$(currentTarget).slideToggle()})})})};