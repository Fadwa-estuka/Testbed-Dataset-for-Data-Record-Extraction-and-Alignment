var delta=delta||{};delta.breadcrumbBuilder={hierarchy:null,cUrl:null,isPageFound:!1,breadcrumb:[],templateData:[],createBreadcrumb:function(){var a,b;this.breadcrumb.reverse();try{this.breadcrumb[0].length=1}catch(c){return}for(var d=0;d<this.breadcrumb.length;d++){for(var e=0;e<this.breadcrumb[d].length;e++)0==e?(this.breadcrumb[d][e].id=this.breadcrumb[d][e].id+"_top",a=this.createTmpNode(this.breadcrumb[d][e]),a.children=[]):(b=this.createTmpNode(this.breadcrumb[d][e]),a.children.push(b));0==a.children.length&&(a.children=null),this.templateData.push(a)}},createTmpNode:function(a){var b={};return b.pageName=a.pageName,b.pageLink=a.pageLink,b.id=a.id,b.useFormPost=a.useFormPost,b.formId=a.formId,b.showChildren=a.showChildren,b.isEnd=void 0!=a.isEnd?a.isEnd:!1,b},findPage:function(a){var b=[],c={};if(this.isCurrentPage(a)){if(this.isPageFound=!0,c=this.createTmpNode(a),c.id=c.id+"_current",c.isEnd=0==a.children.length?!0:!1,b.push(c),a.children.length>0)for(var d=0;d<a.children.length;d++)this.willAddToBreadcrumbPath(a.children[d])&&b.push(this.createTmpNode(a.children[d]));return void this.breadcrumb.push(b)}if(a.children.length>0)for(var d=0;d<a.children.length;d++)CustomerInfo.isLoggedIn()!=a.children[d].loggedIn||this.isPageFound||this.findPage(a.children[d]);if(this.isPageFound){c=this.createTmpNode(a),b.push(c);for(var e=a.children,d=0;d<e.length;d++)this.willAddToBreadcrumbPath(e[d])&&b.push(this.createTmpNode(e[d]));return void this.breadcrumb.push(b)}},getBreadcrumbPath:function(){var a=this.hierarchy[0];this.findPage(a)},isCurrentPage:function(a){return this.cUrl.match(a.path)&&"Home"!=a.pageName&&CustomerInfo.isLoggedIn()==a.loggedIn?!0:!1},init:function(a){this.hierarchy=a,this.cUrl=window.location.pathname,this.getBreadcrumbPath(),this.createBreadcrumb(),this.renderBreadcrumb(),DeltaUtils.exists($("#InteractiveBreadcrumbNavigation ul li"))&&0==$("#InteractiveBreadcrumbNavigation ul li").length&&$("#InteractiveBreadcrumbNavigation").remove()},renderBreadcrumb:function(){ractive=new Ractive({el:"#_deltaDropDownMenu_tmplHolder",template:"#_breadcrumb_tmpl2",data:{items:delta.breadcrumbBuilder.templateData}}),$("#_deltaDropDownMenu_tmplHolder li").first().addClass("alpha"),$("#_deltaDropDownMenu_tmplHolder li").first().removeAttr("aria-haspopup"),$("#_deltaDropDownMenu_tmplHolder .breadcrumbDividerStyle").last().remove(),$("#_deltaDropDownMenu_tmplHolder li").each(function(){0==$(this).has("ul").length?($(this).css("backgroundImage","none"),$(this).css("paddingRight","10px"),$(this).removeAttr("aria-haspopup")):$(this).find("div.breadcrumbLinkContainer").children("a").attr("aria-expanded",!1)});var a=$("#_deltaDropDownMenu_tmplHolder li").last();0==a.has("ul").length&&(a.removeAttr("style").addClass("breadcrumblastchild"),a.unbind())},willAddToBreadcrumbPath:function(a){if(a.hasOwnProperty("millionMiler")){if(this.isCurrentPage(a)&&!a.loggedIn)return!0;if(CustomerInfo.getMillionMiler()!=a.millionMiler)return!1}return!0}};