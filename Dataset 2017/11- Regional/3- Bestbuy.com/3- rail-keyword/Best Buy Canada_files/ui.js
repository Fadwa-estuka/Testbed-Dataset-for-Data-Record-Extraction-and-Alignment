steal.loading('ui/ui.js','plugins/iscroll/iscroll.js','plugins/lockfixed/lockfixed.js','plugins/transit/transit.js','ui/accordion/accordion.js','ui/carousel/carousel.js','ui/dropdown/dropdown.js','ui/input_limiter/input_limiter.js','ui/lightbox/lightbox.js','ui/modal/modal.js','ui/navigation/navigation.js','ui/slider/slider.js','ui/tabs/tabs.js','ui/placeholder/placeholder.js');
steal({src:"libraries/libraries.min.js",ignore:true}).then("plugins/iscroll").then("plugins/lockfixed","plugins/transit","ui/accordion","ui/carousel","ui/dropdown","ui/input_limiter","ui/lightbox","ui/modal","ui/navigation","ui/slider","ui/tabs","ui/placeholder");steal.loaded("ui/ui.js");
var IScroll=function(a,b,d){function p(c,e){this.wrapper=typeof c=="string"?b.querySelector(c):c;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={resizeIndicator:true,mouseWheelSpeed:20,snapThreshold:0.334,startX:0,startY:0,scrollY:true,directionLockThreshold:5,momentum:true,bounce:true,bounceTime:600,bounceEasing:"",preventDefault:true,HWCompositing:true,useTransition:true,useTransform:true};for(var h in e)this.options[h]=e[h];this.translateZ=this.options.HWCompositing&&
j.hasPerspective?" translateZ(0)":"";this.options.useTransition=j.hasTransition&&this.options.useTransition;this.options.useTransform=j.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===true?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=="vertical"?false:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough==
"horizontal"?false:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=="string"?j.ease[this.options.bounceEasing]||j.ease.circular:this.options.bounceEasing;this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;if(this.options.tap===true)this.options.tap=
"tap";this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.directionY=this.directionX=this.y=this.x=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}function q(c,e,h){var i=b.createElement("div"),o=b.createElement("div");if(h===true){i.style.cssText="position:absolute;z-index:9999";o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"}o.className=
"iScrollIndicator";if(c=="h"){if(h===true){i.style.cssText+=";height:7px;left:2px;right:2px;bottom:0";o.style.height="100%"}i.className="iScrollHorizontalScrollbar"}else{if(h===true){i.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px";o.style.width="100%"}i.className="iScrollVerticalScrollbar"}if(!e)i.style.pointerEvents="none";i.appendChild(o);return i}function t(c,e){this.wrapper=typeof e.el=="string"?b.querySelector(e.el):e.el;this.indicator=this.wrapper.children[0];this.indicatorStyle=
this.indicator.style;this.scroller=c;this.options={listenX:true,listenY:true,interactive:false,resize:true,defaultScrollbars:false,speedRatioX:0,speedRatioY:0};for(var h in e)this.options[h]=e[h];this.sizeRatioY=this.sizeRatioX=1;this.maxPosY=this.maxPosX=0;if(this.options.interactive){j.addEvent(this.indicator,"touchstart",this);j.addEvent(this.indicator,"MSPointerDown",this);j.addEvent(this.indicator,"mousedown",this);j.addEvent(a,"touchend",this);j.addEvent(a,"MSPointerUp",this);j.addEvent(a,"mouseup",
this)}}var u=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(c){a.setTimeout(c,1E3/60)},j=function(){function c(f){if(i===false)return false;if(i==="")return f;return i+f.charAt(0).toUpperCase()+f.substr(1)}var e={},h=b.createElement("div").style,i=function(){for(var f=["t","webkitT","MozT","msT","OT"],l,m=0,g=f.length;m<g;m++){l=f[m]+"ransform";if(l in h)return f[m].substr(0,f[m].length-1)}return false}();
e.getTime=Date.now||function(){return(new Date).getTime()};e.extend=function(f,l){for(var m in l)f[m]=l[m]};e.extendEvent=function(f,l){if(!f.currentTarget)f.currentTarget=l;if(!f.target)f.target=f.srcElement;if(!f.relatedTarget){if(f.type=="mouseover")f.relatedTarget=f.fromElement;if(f.type=="mouseout")f.relatedTarget=f.toElement}if(f.pageX==null&&f.clientX!=null){l=b.documentElement;var m=b.body;f.pageX=f.clientX+(l.scrollLeft||m&&m.scrollLeft||0);f.pageX-=l.clientLeft||0;f.pageY=f.clientY+(l.scrollTop||
m&&m.scrollTop||0);f.pageY-=l.clientTop||0}if(!f.which&&f.button){f.button2=f.button==1?0:f.button==4?1:f.button==2?2:0;f.which=f.button&1?1:f.button&2?3:f.button&4?2:0}return f};e.addEvent=function(f,l,m,g){if("addEventListener"in f)try{f.addEventListener(l,m,!!g)}catch(k){if(typeof m=="object"&&m.handleEvent)f.addEventListener(l,function(n){m.handleEvent.call(m,n)},!!g);else throw k;}else if("attachEvent"in f){if(f==a)f=b;typeof m=="object"&&m.handleEvent?f.attachEvent("on"+l,function(n){n=e.extendEvent(n,
f);m.handleEvent.call(m,n)}):f.attachEvent("on"+l,m)}};e.removeEvent=function(f,l,m,g){f.removeEventListener(l,m,!!g);if(typeof f.addEventListener!=undefined)f.removeEventListener(l,m,!!g);else if(typeof f.attachEvent!=undefined){f.detachEvent("on"+l,f[l+m]);f[l+m]=null;f["e"+l+m]=null}};e.momentum=function(f,l,m,g,k){l=f-l;m=d.abs(l)/m;var n;n=f+m*m/0.0012*(l<0?-1:1);l=m/6.0E-4;if(n<g){n=k?g-k/2.5*(m/8):g;l=d.abs(n-f);l=l/m}else if(n>0){n=k?k/2.5*(m/8):0;l=d.abs(f)+n;l=l/m}return{destination:d.round(n),
duration:l}};var o=c("transform");e.extend(e,{hasTransform:o!==false,hasPerspective:c("perspective")in h,hasTouch:"ontouchstart"in a,hasPointer:navigator.msPointerEnabled,hasTransition:c("transition")in h});e.isAndroidBrowser=/Android/.test(a.navigator.appVersion)&&/Version\/\d/.test(a.navigator.appVersion);e.extend(e.style={},{transform:o,transitionTimingFunction:c("transitionTimingFunction"),transitionDuration:c("transitionDuration"),transformOrigin:c("transformOrigin")});e.hasClass=function(f,
l){return(new RegExp("(^|\\s)"+l+"(\\s|$)")).test(f.className)};e.addClass=function(f,l){if(!e.hasClass(f,l)){var m=f.className.split(" ");m.push(l);f.className=m.join(" ")}};e.removeClass=function(f,l){if(e.hasClass(f,l))f.className=f.className.replace(new RegExp("(^|\\s)"+l+"(\\s|$)","g"),"")};e.offset=function(f){for(var l=-f.offsetLeft,m=-f.offsetTop,g=-1;f=f.offsetParent;){g++;if(!(!e.hasTransform&&g==0)){l-=f.offsetLeft;m-=f.offsetTop}}return{left:l,top:m}};e.extend(e.eventType={},{touchstart:1,
touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});e.extend(e.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(f){return f*(2-f)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(f){return d.sqrt(1- --f*f)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(f){return(f-=1)*f*(5*f+4)+1}},bounce:{style:"",fn:function(f){return(f/=1)<1/2.75?7.5625*f*f:f<2/2.75?7.5625*(f-=1.5/2.75)*f+0.75:f<
2.5/2.75?7.5625*(f-=2.25/2.75)*f+0.9375:7.5625*(f-=2.625/2.75)*f+0.984375}},elastic:{style:"",fn:function(f){if(f===0)return 0;if(f==1)return 1;return 0.4*d.pow(2,-10*f)*d.sin((f-0.055)*2*d.PI/0.22)+1}}});e.tap=function(f,l){var m=b.createEvent("Event");m.initEvent(l,true,true);m.pageX=f.pageX;m.pageY=f.pageY;f.target.dispatchEvent(m)};e.click=function(f){var l=f.target,m;if(l.tagName!="SELECT"&&l.tagName!="INPUT"&&l.tagName!="TEXTAREA"){m=b.createEvent("MouseEvents");m.initMouseEvent("click",true,
true,f.view,1,l.screenX,l.screenY,l.clientX,l.clientY,f.ctrlKey,f.altKey,f.shiftKey,f.metaKey,0,null);m._constructed=true;l.dispatchEvent(m)}};return e}();p.prototype={version:"5.0.4",_init:function(){this._initEvents();if(this.options.scrollbars||this.options.indicators)this._initIndicators();this.options.mouseWheel&&this._initWheel();this.options.snap&&this._initSnap();this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(true);this._execEvent("destroy")},_transitionEnd:function(c){if(c.target==
this.scroller){this._transitionTime(0);this.resetPosition(this.options.bounceTime)||this._execEvent("scrollEnd")}},_start:function(c){var e=c.button2!=undefined?c.button2:c.button;if(j.eventType[c.type]!=1)if(e!==0)return;if(!(!this.enabled||this.initiated&&j.eventType[c.type]!==this.initiated)){if(this.options.preventDefault&&!j.isAndroidBrowser)c.preventDefault?c.preventDefault():(c.returnValue=false);e=c.touches?c.touches[0]:c;this.initiated=j.eventType[c.type];this.moved=false;this.directionLocked=
this.directionY=this.directionX=this.distY=this.distX=0;this._transitionTime();this.isAnimating=false;this.startTime=j.getTime();if(this.options.useTransition&&this.isInTransition){this.isInTransition=false;c=this.getComputedPosition();this._translate(d.round(c.x),d.round(c.y));this._execEvent("scrollEnd")}else if(!this.options.useTransition&&this.isAnimating){this.isAnimating=false;this._execEvent("scrollEnd")}this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=
e.pageX;this.pointY=e.pageY;this._execEvent("beforeScrollStart")}},_move:function(c){if(!(!this.enabled||j.eventType[c.type]!==this.initiated)){if(this.options.preventDefault)c.preventDefault?c.preventDefault():(c.returnValue=false);var e=c.touches?c.touches[0]:c,h=this.hasHorizontalScroll?e.pageX-this.pointX:0,i=this.hasVerticalScroll?e.pageY-this.pointY:0,o=j.getTime(),f;this.pointX=e.pageX;this.pointY=e.pageY;this.distX+=h;this.distY+=i;e=d.abs(this.distX);f=d.abs(this.distY);if(!(o-this.endTime>
300&&e<10&&f<10)){if(!this.directionLocked&&!this.options.freeScroll)this.directionLocked=e>f+this.options.directionLockThreshold?"h":f>=e+this.options.directionLockThreshold?"v":"n";if(this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical")c.preventDefault?c.preventDefault():(c.returnValue=false);else if(this.options.eventPassthrough=="horizontal"){this.initiated=false;return}i=0}else if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal")c.preventDefault?c.preventDefault():
(c.returnValue=false);else if(this.options.eventPassthrough=="vertical"){this.initiated=false;return}h=0}c=this.x+h;e=this.y+i;if(c>0||c<this.maxScrollX)c=this.options.bounce?this.x+h/3:c>0?0:this.maxScrollX;if(e>0||e<this.maxScrollY)e=this.options.bounce?this.y+i/3:e>0?0:this.maxScrollY;this.directionX=h>0?-1:h<0?1:0;this.directionY=i>0?-1:i<0?1:0;this.moved||this._execEvent("scrollStart");this.moved=true;this._translate(c,e);if(o-this.startTime>300){this.startTime=o;this.startX=this.x;this.startY=
this.y}}}},_end:function(c){if(!(!this.enabled||j.eventType[c.type]!==this.initiated)){if(this.options.preventDefault)c.preventDefault?c.preventDefault():(c.returnValue=false);var e;e=j.getTime()-this.startTime;var h=d.round(this.x),i=d.round(this.y),o=d.abs(h-this.startX),f=d.abs(i-this.startY),l=0,m="";this.scrollTo(h,i);this.initiated=this.isInTransition=0;this.endTime=j.getTime();if(!this.resetPosition(this.options.bounceTime))if(this.moved)if(this._events.flick&&e<200&&o<100&&f<100)this._execEvent("flick");
else{if(this.options.momentum&&e<300){c=this.hasHorizontalScroll?j.momentum(this.x,this.startX,e,this.maxScrollX,this.options.bounce?this.wrapperWidth:0):{destination:h,duration:0};e=this.hasVerticalScroll?j.momentum(this.y,this.startY,e,this.maxScrollY,this.options.bounce?this.wrapperHeight:0):{destination:i,duration:0};h=c.destination;i=e.destination;l=d.max(c.duration,e.duration);this.isInTransition=1}if(this.options.snap){this.currentPage=i=this._nearestSnap(h,i);h=i.x;i=i.y;l=this.options.snapSpeed||
d.max(d.max(d.min(o,1E3),d.min(o,1E3)),300);this.directionY=this.directionX=0;m=this.options.bounceEasing}if(h!=this.x||i!=this.y){if(h>0||h<this.maxScrollX||i>0||i<this.maxScrollY)m=j.ease.quadratic;this.scrollTo(h,i,l,m)}else this._execEvent("scrollEnd")}else{this.options.tap&&j.tap(c,this.options.tap);this.options.click&&j.click(c)}}},_resize:function(){var c=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){c.refresh()},this.options.resizePolling)},resetPosition:function(c){var e=
this.x,h=this.y;c=c||0;if(!this.hasHorizontalScroll||this.x>0)e=0;else if(this.x<this.maxScrollX)e=this.maxScrollX;if(!this.hasVerticalScroll||this.y>0)h=0;else if(this.y<this.maxScrollY)h=this.maxScrollY;if(e==this.x&&h==this.y)return false;this.scrollTo(e,h,c,this.options.bounceEasing);return true},disable:function(){this.enabled=false},enable:function(){this.enabled=true},refresh:function(){this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=
this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;if(!this.hasHorizontalScroll){this.maxScrollX=0;this.scrollerWidth=this.wrapperWidth}if(!this.hasVerticalScroll){this.maxScrollY=0;this.scrollerHeight=this.wrapperHeight}this.directionY=this.directionX=
this.endTime=0;this.wrapperOffset=j.offset(this.wrapper);this._execEvent("refresh");this.resetPosition();if(this.options.snap){var c=this._nearestSnap(this.x,this.y);if(!(this.x==c.x&&this.y==c.y)){this.currentPage=c;this.scrollTo(c.x,c.y)}}},on:function(c,e){this._events[c]||(this._events[c]=[]);this._events[c].push(e)},_execEvent:function(c){if(this._events[c]){var e=0,h=this._events[c].length;if(h)for(;e<h;e++)this._events[c][e].call(this)}},scrollBy:function(c,e,h,i){c=this.x+c;e=this.y+e;h=h||
0;this.scrollTo(c,e,h,i)},scrollTo:function(c,e,h,i){i=i||j.ease.circular;if(!h||this.options.useTransition&&i.style){this._transitionTimingFunction(i.style);this._transitionTime(h);this._translate(c,e)}else this._animate(c,e,h,i.fn)},scrollToElement:function(c,e,h,i,o){if(c=c.nodeType?c:this.scroller.querySelector(c)){var f=j.offset(c);f.left-=this.wrapperOffset.left;f.top-=this.wrapperOffset.top;if(h===true)h=d.round(c.offsetWidth/2-this.wrapper.offsetWidth/2);if(i===true)i=d.round(c.offsetHeight/
2-this.wrapper.offsetHeight/2);f.left-=h||0;f.top-=i||0;f.left=f.left>0?0:f.left<this.maxScrollX?this.maxScrollX:f.left;f.top=f.top>0?0:f.top<this.maxScrollY?this.maxScrollY:f.top;e=e===undefined||e===null||e==="auto"?d.max(d.abs(f.left)*2,d.abs(f.top)*2):e;this.scrollTo(f.left,f.top,e,o)}},_transitionTime:function(c){c=c||0;this.scrollerStyle[j.style.transitionDuration]=c+"ms";this.indicator1&&this.indicator1.transitionTime(c);this.indicator2&&this.indicator2.transitionTime(c)},_transitionTimingFunction:function(c){this.scrollerStyle[j.style.transitionTimingFunction]=
c;this.indicator1&&this.indicator1.transitionTimingFunction(c);this.indicator2&&this.indicator2.transitionTimingFunction(c)},_translate:function(c,e){if(this.options.useTransform)this.scrollerStyle[j.style.transform]="translate("+c+"px,"+e+"px)"+this.translateZ;else{c=d.round(c);e=d.round(e);this.scrollerStyle.left=c+"px";this.scrollerStyle.top=e+"px"}this.x=c;this.y=e;this.indicator1&&this.indicator1.updatePosition();this.indicator2&&this.indicator2.updatePosition()},_initEvents:function(c){c=c?
j.removeEvent:j.addEvent;var e=this.options.bindToWrapper?this.wrapper:a;c(a,"orientationchange",this);c(a,"resize",this);c(this.wrapper,"mousedown",this);c(e,"mousemove",this);c(e,"mousecancel",this);c(e,"mouseup",this);if(j.hasPointer){c(this.wrapper,"MSPointerDown",this);c(e,"MSPointerMove",this);c(e,"MSPointerCancel",this);c(e,"MSPointerUp",this)}if(j.hasTouch){c(this.wrapper,"touchstart",this);c(e,"touchmove",this);c(e,"touchcancel",this);c(e,"touchend",this)}c(this.scroller,"transitionend",
this);c(this.scroller,"webkitTransitionEnd",this);c(this.scroller,"oTransitionEnd",this);c(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var c=a.getComputedStyle(this.scroller,null),e;if(this.options.useTransform){c=c[j.style.transform].split(")")[0].split(", ");e=+(c[12]||c[4]);c=+(c[13]||c[5])}else{e=+c.left.replace(/[^-\d]/g,"");c=+c.top.replace(/[^-\d]/g,"")}return{x:e,y:c}},_initIndicators:function(){var c=this.options.interactiveScrollbars,e=typeof this.options.scrollbars!=
"string",h,i;if(this.options.scrollbars){if(this.options.scrollY){h={el:q("v",c,this.options.scrollbars),interactive:c,defaultScrollbars:true,customStyle:e,resize:this.options.resizeIndicator,listenX:false};this.wrapper.appendChild(h.el)}if(this.options.scrollX){i={el:q("h",c,this.options.scrollbars),interactive:c,defaultScrollbars:true,customStyle:e,resize:this.options.resizeIndicator,listenY:false};this.wrapper.appendChild(i.el)}}else{h=this.options.indicators.length?this.options.indicators[0]:
this.options.indicators;i=this.options.indicators[1]&&this.options.indicators[1]}if(h)this.indicator1=new t(this,h);if(i)this.indicator2=new t(this,i);this.on("refresh",function(){this.indicator1&&this.indicator1.refresh();this.indicator2&&this.indicator2.refresh()});this.on("destroy",function(){if(this.indicator1){this.indicator1.destroy();this.indicator1=null}if(this.indicator2){this.indicator2.destroy();this.indicator2=null}})},_initWheel:function(){j.addEvent(this.wrapper,"mousewheel",this);j.addEvent(this.wrapper,
"DOMMouseScroll",this);this.on("destroy",function(){j.removeEvent(this.wrapper,"mousewheel",this);j.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(c){if(this.enabled){var e,h=this;this.wheelTimeout===undefined&&h._execEvent("scrollStart");clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){h._execEvent("scrollEnd")},400);c.preventDefault?c.preventDefault():(c.returnValue=false);if("wheelDeltaX"in c){e=c.wheelDeltaX/120;c=c.wheelDeltaY/120}else if("wheelDelta"in
c)e=c=c.wheelDelta/120;else if("detail"in c)e=c=-c.detail/3;else return;e*=this.options.mouseWheelSpeed;c*=this.options.mouseWheelSpeed;this.hasVerticalScroll||(e=c);e=this.x+(this.hasHorizontalScroll?e*this.options.invertWheelDirection:0);c=this.y+(this.hasVerticalScroll?c*this.options.invertWheelDirection:0);if(e>0)e=0;else if(e<this.maxScrollX)e=this.maxScrollX;if(c>0)c=0;else if(c<this.maxScrollY)c=this.maxScrollY;this.scrollTo(e,c,0)}},_initSnap:function(){this.currentPage={};if(typeof this.options.snap==
"string")this.options.snap=this.scroller.querySelectorAll(this.options.snap);this.on("refresh",function(){var c=0,e,h=0,i,o,f,l=0,m;i=this.options.snapStepX||this.wrapperWidth;var g=this.options.snapStepY||this.wrapperHeight;this.pages=[];if(this.options.snap===true){o=d.round(i/2);for(f=d.round(g/2);l>-this.scrollerWidth;){this.pages[c]=[];for(m=e=0;m>-this.scrollerHeight;){this.pages[c][e]={x:d.max(l,this.maxScrollX),y:d.max(m,this.maxScrollY),width:i,height:g,cx:l-o,cy:m-f};m-=g;e++}l-=i;c++}}else{g=
this.options.snap;e=g.length;for(i=-1;c<e;c++){if(c===0||g[c].offsetLeft<=g[c-1].offsetLeft){h=0;i++}this.pages[h]||(this.pages[h]=[]);l=d.max(-g[c].offsetLeft,this.maxScrollX);m=d.max(-g[c].offsetTop,this.maxScrollY);o=l-d.round(g[c].offsetWidth/2);f=m-d.round(g[c].offsetHeight/2);this.pages[h][i]={x:l,y:m,width:g[c].offsetWidth,height:g[c].offsetHeight,cx:o,cy:f};l>this.maxScrollX&&h++}}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);if(this.options.snapThreshold%1===0)this.snapThresholdY=
this.snapThresholdX=this.options.snapThreshold;else{this.snapThresholdX=d.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold);this.snapThresholdY=d.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold)}});this.on("flick",function(){this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,this.options.snapSpeed||d.max(d.max(d.min(d.abs(this.x-this.startX),1E3),d.min(d.abs(this.y-
this.startY),1E3)),300))})},_nearestSnap:function(c,e){var h=0,i=this.pages.length,o=0;if(d.abs(c-this.absStartX)<this.snapThresholdX&&d.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;if(c>0)c=0;else if(c<this.maxScrollX)c=this.maxScrollX;if(e>0)e=0;else if(e<this.maxScrollY)e=this.maxScrollY;for(;h<i;h++)if(c>=this.pages[h][0].cx){c=this.pages[h][0].x;break}for(i=this.pages[h].length;o<i;o++)if(e>=this.pages[0][o].cy){e=this.pages[0][o].y;break}if(h==this.currentPage.pageX){h+=
this.directionX;if(h<0)h=0;else if(h>=this.pages.length)h=this.pages.length-1;c=this.pages[h][0].x}if(o==this.currentPage.pageY){o+=this.directionY;if(o<0)o=0;else if(o>=this.pages[0].length)o=this.pages[0].length-1;e=this.pages[0][o].y}return{x:c,y:e,pageX:h,pageY:o}},goToPage:function(c,e,h,i){i=i||this.options.bounceEasing;if(c>=this.pages.length)c=this.pages.length-1;else if(c<0)c=0;if(e>=this.pages[0].length)e=this.pages[0].length-1;else if(e<0)e=0;var o=this.pages[c][e].x,f=this.pages[c][e].y;
h=h===undefined?this.options.snapSpeed||d.max(d.max(d.min(d.abs(o-this.x),1E3),d.min(d.abs(f-this.y),1E3)),300):h;this.currentPage={x:o,y:f,pageX:c,pageY:e};this.scrollTo(o,f,h,i)},next:function(c,e){var h=this.currentPage.pageX,i=this.currentPage.pageY;h++;if(h>=this.pages.length&&this.hasVerticalScroll){h=0;i++}this.goToPage(h,i,c,e)},prev:function(c,e){var h=this.currentPage.pageX,i=this.currentPage.pageY;h--;if(h<0&&this.hasVerticalScroll){h=0;i--}this.goToPage(h,i,c,e)},_initKeys:function(){var c=
{pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},e;if(typeof this.options.keyBindings=="object")for(e in this.options.keyBindings){if(typeof this.options.keyBindings[e]=="string")this.options.keyBindings[e]=this.options.keyBindings[e].toUpperCase().charCodeAt(0)}else this.options.keyBindings={};for(e in c)this.options.keyBindings[e]=this.options.keyBindings[e]||c[e];j.addEvent(a,"keydown",this);this.on("destroy",function(){j.removeEvent(a,"keydown",this)})},_key:function(c){if(this.enabled){var e=
this.options.snap,h=e?this.currentPage.pageX:this.x,i=e?this.currentPage.pageY:this.y,o=j.getTime(),f=this.keyTime||0,l;if(this.options.useTransition&&this.isInTransition){l=this.getComputedPosition();this._translate(d.round(l.x),d.round(l.y));this.isInTransition=false}this.keyAcceleration=o-f<200?d.min(this.keyAcceleration+0.25,50):0;switch(c.keyCode){case this.options.keyBindings.pageUp:if(this.hasHorizontalScroll&&!this.hasVerticalScroll)h+=e?1:this.wrapperWidth;else i+=e?1:this.wrapperHeight;
break;case this.options.keyBindings.pageDown:if(this.hasHorizontalScroll&&!this.hasVerticalScroll)h-=e?1:this.wrapperWidth;else i-=e?1:this.wrapperHeight;break;case this.options.keyBindings.end:h=e?this.pages.length-1:this.maxScrollX;i=e?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:i=h=0;break;case this.options.keyBindings.left:h+=e?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:i+=e?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:h-=
e?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:i-=e?1:5+this.keyAcceleration>>0;break}if(e)this.goToPage(h,i);else{if(h>0)this.keyAcceleration=h=0;else if(h<this.maxScrollX){h=this.maxScrollX;this.keyAcceleration=0}if(i>0)this.keyAcceleration=i=0;else if(i<this.maxScrollY){i=this.maxScrollY;this.keyAcceleration=0}this.scrollTo(h,i,0);this.keyTime=o}}},_animate:function(c,e,h,i){function o(){var n=j.getTime(),r;if(n>=k){f.isAnimating=false;f._translate(c,e);f.resetPosition(f.options.bounceTime)||
f._execEvent("scrollEnd")}else{n=(n-g)/h;r=i(n);n=(c-l)*r+l;f._translate(n,(e-m)*r+m);f.isAnimating&&u(o)}}var f=this,l=this.x,m=this.y,g=j.getTime(),k=g+h;this.isAnimating=true;o()},handleEvent:function(c){switch(c.type){case "touchstart":case "MSPointerDown":case "mousedown":this._start(c);break;case "touchmove":case "MSPointerMove":case "mousemove":this._move(c);break;case "touchend":case "MSPointerUp":case "mouseup":case "touchcancel":case "MSPointerCancel":case "mousecancel":this._end(c);break;
case "orientationchange":case "resize":this._resize();break;case "transitionend":case "webkitTransitionEnd":case "oTransitionEnd":case "MSTransitionEnd":this._transitionEnd(c);break;case "DOMMouseScroll":case "mousewheel":this._wheel(c);break;case "keydown":this._key(c);break}}};t.prototype={handleEvent:function(c){switch(c.type){case "touchstart":case "MSPointerDown":case "mousedown":this._start(c);break;case "touchmove":case "MSPointerMove":case "mousemove":this._move(c);break;case "touchend":case "MSPointerUp":case "mouseup":case "touchcancel":case "MSPointerCancel":case "mousecancel":this._end(c);
break}},destroy:function(){if(this.options.interactive){j.removeEvent(this.indicator,"touchstart",this);j.removeEvent(this.indicator,"MSPointerDown",this);j.removeEvent(this.indicator,"mousedown",this);j.removeEvent(a,"touchmove",this);j.removeEvent(a,"MSPointerMove",this);j.removeEvent(a,"mousemove",this);j.removeEvent(a,"touchend",this);j.removeEvent(a,"MSPointerUp",this);j.removeEvent(a,"mouseup",this)}this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(c){var e=
c.touches?c.touches[0]:c;c.preventDefault?c.preventDefault():(c.returnValue=false);c.stopPropagation();this.transitionTime(0);this.initiated=true;this.moved=false;this.lastPointX=e.pageX;this.lastPointY=e.pageY;this.startTime=j.getTime();j.addEvent(a,"touchmove",this);j.addEvent(a,"MSPointerMove",this);j.addEvent(a,"mousemove",this);this.scroller._execEvent("beforeScrollStart")},_move:function(c){var e=c.touches?c.touches[0]:c,h,i;j.getTime();this.moved||this.scroller._execEvent("scrollStart");this.moved=
true;h=e.pageX-this.lastPointX;this.lastPointX=e.pageX;i=e.pageY-this.lastPointY;this.lastPointY=e.pageY;this._pos(this.x+h,this.y+i);c.preventDefault?c.preventDefault():(c.returnValue=false);c.stopPropagation()},_end:function(c){if(this.initiated){this.initiated=false;c.preventDefault?c.preventDefault():(c.returnValue=false);c.stopPropagation();j.removeEvent(a,"touchmove",this);j.removeEvent(a,"MSPointerMove",this);j.removeEvent(a,"mousemove",this);this.moved&&this.scroller._execEvent("scrollEnd")}},
transitionTime:function(c){c=c||0;this.indicatorStyle[j.style.transitionDuration]=c+"ms"},transitionTimingFunction:function(c){this.indicatorStyle[j.style.transitionTimingFunction]=c},refresh:function(){this.transitionTime(0);this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?
"block":"none";if(this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll){j.addClass(this.wrapper,"iScrollBothScrollbars");j.removeClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle)if(this.options.listenX)this.wrapper.style.right="8px";else this.wrapper.style.bottom="8px"}else{j.removeClass(this.wrapper,"iScrollBothScrollbars");j.addClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle)if(this.options.listenX)this.wrapper.style.right=
"2px";else this.wrapper.style.bottom="2px"}if(this.options.listenX){this.wrapperWidth=this.wrapper.clientWidth;if(this.options.resize){this.indicatorWidth=d.max(d.round(this.wrapperWidth*this.wrapperWidth/this.scroller.scrollerWidth),8);this.indicatorStyle.width=this.indicatorWidth+"px"}else this.indicatorWidth=this.indicator.clientWidth;this.maxPosX=this.wrapperWidth-this.indicatorWidth;this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX}if(this.options.listenY){this.wrapperHeight=
this.wrapper.clientHeight;if(this.options.resize){this.indicatorHeight=d.max(d.round(this.wrapperHeight*this.wrapperHeight/this.scroller.scrollerHeight),8);this.indicatorStyle.height=this.indicatorHeight+"px"}else this.indicatorHeight=this.indicator.clientHeight;this.maxPosY=this.wrapperHeight-this.indicatorHeight;this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY}this.updatePosition()},updatePosition:function(){var c=d.round(this.sizeRatioX*
this.scroller.x)||0,e=d.round(this.sizeRatioY*this.scroller.y)||0;if(!this.options.ignoreBoundaries){if(c<0)c=0;else if(c>this.maxPosX)c=this.maxPosX;if(e<0)e=0;else if(e>this.maxPosY)e=this.maxPosY}this.x=c;this.y=e;if(this.scroller.options.useTransform)this.indicatorStyle[j.style.transform]="translate("+c+"px,"+e+"px)"+this.scroller.translateZ;else{this.indicatorStyle.left=c+"px";this.indicatorStyle.top=e+"px"}},_pos:function(c,e){if(c<0)c=0;else if(c>this.maxPosX)c=this.maxPosX;if(e<0)e=0;else if(e>
this.maxPosY)e=this.maxPosY;c=this.options.listenX?d.round(c/this.sizeRatioX):this.scroller.x;e=this.options.listenY?d.round(e/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(c,e)}};p.ease=j.ease;return p}(window,document,Math);steal.loaded("plugins/iscroll/iscroll.js");
(function(a){a.extend({lockfixed:function(b,d){if(d&&d.offset){d.offset.bottom=parseInt(d.offset.bottom,10);d.offset.top=parseInt(d.offset.top,10)}else d.offset={bottom:100,top:0};if((b=a(b))&&b.offset()){var p=b.css("position"),q=parseInt(b.css("marginTop"),10),t=b.css("top"),u=b.offset().top,j=false;if(d.forcemargin===true||navigator.userAgent.match(/\bMSIE (4|5|6)\./)||navigator.userAgent.match(/\bOS ([0-9])_/)||navigator.userAgent.match(/\bAndroid ([0-9])\./i))j=true;a(window).bind("DOMContentLoaded load scroll resize orientationchange lockfixed:pageupdate",
b,function(){if(!(j&&document.activeElement&&document.activeElement.nodeName==="INPUT")){var c=0;c=b.outerHeight();var e=b.outerWidth(),h=a(document).height()-d.offset.bottom,i=a(window).scrollTop();if(b.css("position")!=="fixed"&&!j){u=b.offset().top;t=b.css("top")}if(i>=u-(q?q:0)-d.offset.top){c=h<i+c+q+d.offset.top?i+c+q+d.offset.top-h:0;j?b.css({marginTop:parseInt(i-u-c,10)+2*d.offset.top+"px"}):b.css({position:"fixed",top:d.offset.top-c+"px",width:e+"px"})}else b.css({position:p,top:t,width:e+
"px",marginTop:(q&&!j?q:0)+"px"})}})}}})})(jQuery);steal.loaded("plugins/lockfixed/lockfixed.js");
(function(a){function b(g){if(g in i.style)return g;var k=["Moz","Webkit","O","ms"],n=g.charAt(0).toUpperCase()+g.substr(1);if(g in i.style)return g;for(g=0;g<k.length;++g){var r=k[g]+n;if(r in i.style)return r}}function d(){i.style[o.transform]="";i.style[o.transform]="rotateY(90deg)";return i.style[o.transform]!==""}function p(g){typeof g==="string"&&this.parse(g);return this}function q(g,k,n){if(k===true)g.queue(n);else k?g.queue(k,n):n()}function t(g){var k=[];a.each(g,function(n){n=a.camelCase(n);
n=a.transit.propertyMap[n]||a.cssProps[n]||n;n=c(n);a.inArray(n,k)===-1&&k.push(n)});return k}function u(g,k,n,r){g=t(g);if(a.cssEase[n])n=a.cssEase[n];var s=""+h(k)+" "+n;if(parseInt(r,10)>0)s+=" "+h(r);var w=[];a.each(g,function(y,z){w.push(z+" "+s)});return w.join(", ")}function j(g,k){k||(a.cssNumber[g]=true);a.transit.propertyMap[g]=o.transform;a.cssHooks[g]={get:function(n){return a(n).css("transit:transform").get(g)},set:function(n,r){var s=a(n).css("transit:transform");s.setFromString(g,r);
a(n).css({"transit:transform":s})}}}function c(g){return g.replace(/([A-Z])/g,function(k){return"-"+k.toLowerCase()})}function e(g,k){return typeof g==="string"&&!g.match(/^[\-0-9\.]+$/)?g:""+g+k}function h(g){g=g;if(a.fx.speeds[g])g=a.fx.speeds[g];return e(g,"ms")}a.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:true,useTransitionEnd:false};
var i=document.createElement("div"),o={},f=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;o.transition=b("transition");o.transitionDelay=b("transitionDelay");o.transform=b("transform");o.transformOrigin=b("transformOrigin");o.transform3d=d();var l=o.transitionEnd={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"}[o.transition]||null;for(var m in o)if(o.hasOwnProperty(m)&&typeof a.support[m]===
"undefined")a.support[m]=o[m];i=null;a.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",
easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",
easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};a.cssHooks["transit:transform"]={get:function(g){return a(g).data("transform")||new p},set:function(g,k){k=k;k instanceof p||(k=new p(k));g.style[o.transform]=o.transform==="WebkitTransform"&&!f?k.toString(true):k.toString();a(g).data("transform",k)}};a.cssHooks.transform={set:a.cssHooks["transit:transform"].set};if(a.fn.jquery<"1.8"){a.cssHooks.transformOrigin={get:function(g){return g.style[o.transformOrigin]},
set:function(g,k){g.style[o.transformOrigin]=k}};a.cssHooks.transition={get:function(g){return g.style[o.transition]},set:function(g,k){g.style[o.transition]=k}}}j("scale");j("translate");j("rotate");j("rotateX");j("rotateY");j("rotate3d");j("perspective");j("skewX");j("skewY");j("x",true);j("y",true);p.prototype={setFromString:function(g,k){k=typeof k==="string"?k.split(","):k.constructor===Array?k:[k];k.unshift(g);p.prototype.set.apply(this,k)},set:function(g){var k=Array.prototype.slice.apply(arguments,
[1]);if(this.setter[g])this.setter[g].apply(this,k);else this[g]=k.join(",")},get:function(g){return this.getter[g]?this.getter[g].apply(this):this[g]||0},setter:{rotate:function(g){this.rotate=e(g,"deg")},rotateX:function(g){this.rotateX=e(g,"deg")},rotateY:function(g){this.rotateY=e(g,"deg")},scale:function(g,k){if(k===undefined)k=g;this.scale=g+","+k},skewX:function(g){this.skewX=e(g,"deg")},skewY:function(g){this.skewY=e(g,"deg")},perspective:function(g){this.perspective=e(g,"px")},x:function(g){this.set("translate",
g,null)},y:function(g){this.set("translate",null,g)},translate:function(g,k){if(this._translateX===undefined)this._translateX=0;if(this._translateY===undefined)this._translateY=0;if(g!==null&&g!==undefined)this._translateX=e(g,"px");if(k!==null&&k!==undefined)this._translateY=e(k,"px");this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var g=(this.scale||"1,1").split(",");if(g[0])g[0]=parseFloat(g[0]);
if(g[1])g[1]=parseFloat(g[1]);return g[0]===g[1]?g[0]:g},rotate3d:function(){for(var g=(this.rotate3d||"0,0,0,0deg").split(","),k=0;k<=3;++k)if(g[k])g[k]=parseFloat(g[k]);if(g[3])g[3]=e(g[3],"deg");return g}},parse:function(g){var k=this;g.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(n,r,s){k.setFromString(r,s)})},toString:function(g){var k=[];for(var n in this)if(this.hasOwnProperty(n))if(!(!o.transform3d&&(n==="rotateX"||n==="rotateY"||n==="perspective"||n==="transformOrigin")))if(n[0]!=="_")if(g&&
n==="scale")k.push(n+"3d("+this[n]+",1)");else g&&n==="translate"?k.push(n+"3d("+this[n]+",0)"):k.push(n+"("+this[n]+")");return k.join(" ")}};a.fn.transition=a.fn.transit=function(g,k,n,r){var s=this,w=0,y=true;if(typeof k==="function"){r=k;k=undefined}if(typeof n==="function"){r=n;n=undefined}if(typeof g.easing!=="undefined"){n=g.easing;delete g.easing}if(typeof g.duration!=="undefined"){k=g.duration;delete g.duration}if(typeof g.complete!=="undefined"){r=g.complete;delete g.complete}if(typeof g.queue!==
"undefined"){y=g.queue;delete g.queue}if(typeof g.delay!=="undefined"){w=g.delay;delete g.delay}if(typeof k==="undefined")k=a.fx.speeds._default;if(typeof n==="undefined")n=a.cssEase._default;k=h(k);var z=u(g,k,n,w),x=a.transit.enabled&&o.transition?parseInt(k,10)+parseInt(w,10):0;if(x===0){q(s,y,function(v){s.css(g);r&&r.apply(s);v&&v()});return s}var C={},D=function(v){var B=false,A=function(){B&&s.unbind(l,A);x>0&&s.each(function(){this.style[o.transition]=C[this]||null});typeof r==="function"&&
r.apply(s);typeof v==="function"&&v()};if(x>0&&l&&a.transit.useTransitionEnd){B=true;s.bind(l,A)}else window.setTimeout(A,x);s.each(function(){if(x>0)this.style[o.transition]=z;a(this).css(g)})};q(s,y,function(v){D(v)});return this};a.transit.getTransitionValue=u})(jQuery);steal.loaded("plugins/transit/transit.js");
$.Controller("Ui.Accordion",{defaults:{selectors:{section:".ui-accordion-section",header:".ui-accordion-header",content:".ui-accordion-content"},selfClose:true,activeClass:"active",animationSpeed:"fast",scrollToActive:true,scrollSpeed:400,onInit:function(){},onTrigger:function(){},onScrollToActive:function(){}}},{init:function(){var a=this,b=a.options,d=a.element.find(b.selectors.section);d.find("."+a.options.activeClass)&&d.filter("."+a.options.activeClass).find(b.selectors.content).show();a.options.onInit(a.element,
a.options)},"{selectors.header} click":function(a,b){var d=this,p=d.options,q=a.parents(p.selectors.section);b.preventDefault();if(q.is("."+p.activeClass))q.removeClass(p.activeClass).find(p.selectors.content).slideUp(p.animationSpeed);else{q.addClass(p.activeClass).siblings().removeClass(p.activeClass);q.find(p.selectors.content).slideDown(p.animationSpeed,function(){p.scrollToActive&&d.scrollToActive(q,p)});d.find(p.selectors.section).not("."+p.activeClass).find(p.selectors.content).slideUp(p.animationSpeed)}p.onTrigger(a,
p)},scrollToActive:function(a,b){$("html:not(animated), body:not(animated)").animate({scrollTop:a.offset().top},b.scrollSpeed,function(){b.onScrollToActive(a,b)})}});steal.loaded("ui/accordion/accordion.js");
steal(function(){$.Controller("Ui.Carousel",{defaults:{selectors:{inner:".ui-carousel-inner",itemList:".ui-carousel-item-list",item:".ui-carousel-item",controls:".ui-carousel-control"},activeClass:"active",width:"auto",height:"auto",pageSize:2,snapScroll:false,momentum:true,slidesOrientation:"horizontal",animationSpeed:800}},{setup:function(a,b){a=$(a);var d=this;b=$.extend(true,this.Class.defaults,b);d.isHorizontal=b.slidesOrientation==="horizontal"?true:false;d.isVertical=!d.isHorizontal;d.viewAreaEl=
a.find(b.selectors.inner);d.itemsContainerEl=a.find(b.selectors.itemList);d.itemsEl=a.find(b.selectors.item);d.controlsEl=a.find(b.selectors.controls);d.controls={prevThreshold:0,prevEnabled:false,nextEnabled:true,currentPage:1};if(d.isHorizontal){d.singleItemWidth=d.itemsEl.eq(0).outerWidth(true);d.itemsCombinedWidth=d.singleItemWidth*d.itemsEl.length;d.viewAreaWidth=d.singleItemWidth*b.pageSize;d.viewAreaEl.width(b.width==="auto"?d.viewAreaWidth:b.width);d.itemsContainerEl.width(d.itemsCombinedWidth);
d.controls.nextThreshold=-(d.itemsCombinedWidth-d.viewAreaWidth)}else{d.singleItemHeight=d.itemsEl.eq(0).outerHeight(true);d.itemsCombinedHeight=d.singleItemHeight*d.itemsEl.length;d.viewAreaHeight=d.singleItemHeight*b.pageSize;d.viewAreaEl.height(b.width==="auto"?d.viewAreaHeight:b.height);d.itemsContainerEl.height(d.itemsCombinedHeight);d.controls.nextThreshold=-(d.itemsCombinedHeight-d.viewAreaHeight)}d.itemsEl.eq(0).addClass(b.activeClass);this._super(a[0],b)},init:function(){this.options.snapScroll||
this.setupPages();this.initIScroll();this.checkState()},setupPages:function(){var a=this,b=0;a.itemsEl.each(function(d){if(d%a.options.pageSize===0){b++;$(this).data("page",b)}});a.controls.totalPages=b},checkState:function(){var a=this,b=a.isHorizontal?a.cScroll.x:a.cScroll.y;delete a.$itemsInViewport;if(b>=a.controls.prevThreshold){a.controlsEl.filter(function(){return $(this).data("control")==="prev"}).addClass("disabled");a.controls.prevEnabled=false}else{a.controlsEl.filter(function(){return $(this).data("control")===
"prev"}).removeClass("disabled");a.controls.prevEnabled=true}if(b<=a.controls.nextThreshold){a.controlsEl.filter(function(){return $(this).data("control")==="next"}).addClass("disabled");a.controls.nextEnabled=false}else{a.controlsEl.filter(function(){return $(this).data("control")==="next"}).removeClass("disabled");a.controls.nextEnabled=true}b=a.firstItemInViewportIndex();a.$itemsInViewport=a.itemsEl.slice(b,b+a.options.pageSize)},initIScroll:function(){var a=this,b=$(a.options.selectors.inner,
a.element);a.cScroll=new IScroll(b[0],{scrollbars:false,scrollY:a.isVertical,scrollX:a.isHorizontal,snap:a.options.snapScroll,momentum:a.options.momentum});a.cScroll.on("scrollEnd",a.proxy("scrollEnd"));a.cScroll.on("scrollStart",a.proxy("scrollStart"))},refresh:function(){var a=this;setTimeout(function(){a.cScroll.refresh()},0)},"{selectors.controls} {env.triggerevent}":function(a,b){b.preventDefault();b=this;a=a.data("control");b.moveByPage(a);$([b.Class]).trigger("controls.click",{direction:a,
instanceClass:b})},"{selectors.item} {env.triggerevent}":function(a){var b=this;b.markItemActive($(a.context));$([b.Class]).trigger("item.click",b)},markItemActive:function(a){var b=this,d=b.itemsEl.filter(function(){return $(this).hasClass(b.options.activeClass)}).removeClass(b.options.activeClass);a.addClass(this.options.activeClass);b.controls.previousIndex=d.index();b.controls.activeIndex=a.index()},moveByPage:function(a){var b=this;if(!b.locked&&b.isDirectionEnabled(a)){b.lock();b.options.snapScroll?
b.moveByPageSnap(a):b.moveByPageFreeScroll(a)}},moveByPageSnap:function(a){var b=this;if(a==="prev")b.cScroll.prev(b.options.animationSpeed,IScroll.ease.quadratic);else a==="next"&&b.cScroll.next(b.options.animationSpeed,IScroll.ease.quadratic)},moveByPageFreeScroll:function(a){var b=this;if(a==="prev")b.controls.currentPage>1&&b.controls.currentPage--;else a==="next"&&b.controls.currentPage<b.controls.totalPages&&b.controls.currentPage++;if(b.controls.currentPage===1)b.scrollToStart();else{a=b.itemsEl.filter(function(){return $(this).data("page")===
b.controls.currentPage});b.scrollToElement(a[0],false)}},scrollToPage:function(a,b){b=b?b:this.options.animationSpeed;this.cScroll.goToPage(this.isHorizontal?a:0,this.isVertical?a:0,b,IScroll.ease.quadratic)},scrollToStart:function(){this.isHorizontal?this.scrollToX(0):this.scrollToY(0)},scrollToX:function(a){this.cScroll.scrollTo(a,0,this.options.animationSpeed,IScroll.ease.quadratic)},scrollToY:function(a){this.cScroll.scrollTo(0,a,this.options.animationSpeed,IScroll.ease.quadratic)},scrollToElementAndCenter:function(a){this.scrollToElement(a,
true,true)},scrollToElement:function(a,b,d){this.cScroll.scrollToElement(a,this.options.animationSpeed,b,d,IScroll.ease.quadratic)},scrollToItemIndex:function(a){a=this.itemsEl.eq(a);if(a.length>0){this.scrollToElementAndCenter(a[0]);this.markItemActive(a)}},scrollStart:function(){var a=this;$([a.Class]).trigger("scroll.start",a)},scrollEnd:function(){var a=this;a.checkState();a.unlock();$([a.Class]).trigger("scroll.end",a)},isDirectionEnabled:function(a){var b=false;if(a==="prev")b=this.controls.prevEnabled;
else if(a==="next")b=this.controls.nextEnabled;return b},lock:function(){this.locked=true;this.element.addClass("locked")},unlock:function(){this.locked=false;this.element.removeClass("locked")},firstItemInViewportIndex:function(){return this.isHorizontal?Math.floor(Math.abs(this.cScroll.x)/this.singleItemWidth):Math.floor(Math.abs(this.cScroll.y)/this.singleItemHeight)},lastItemInViewportIndex:function(){return this.isHorizontal?Math.floor(Math.abs(this.cScroll.x)/this.singleItemWidth)+(this.options.pageSize-
1):Math.floor(Math.abs(this.cScroll.y)/this.singleItemHeight)+(this.options.pageSize-1)},isFirstInViewport:function(a){return a.index()<=this.firstItemInViewportIndex()},isLastInViewport:function(a){return a.index()>=this.lastItemInViewportIndex()}})});steal.loaded("ui/carousel/carousel.js");
$.Controller("Ui.Dropdown",{defaults:{selectors:{trigger:".ui-dropdown-trigger",panel:".ui-dropdown-panel"},activeClass:"active",triggerevent:"hover",speed:"fast",fx:"slide",onInit:function(){},onTrigger:function(){}}},{init:function(){this.options.onInit(this.element,this.options)},"{selectors.trigger} click":function(a,b){if(!this.isLocked&&this.options.triggerevent=="click"){b.preventDefault();this.lock();this.options.onTrigger(a,b,this);this.fx[this.options.fx](a,this.element.find(this.options.selectors.panel),
this)}},"{selectors.trigger} hoverenter":function(a,b){if(!this.isLocked&&this.options.triggerevent=="hover"){this.lock();this.options.onTrigger(a,b,this);this.fx[this.options.fx](a,this.element.find(this.options.selectors.panel),this)}},"{selectors.trigger} hoverleave":function(a){if(!this.isLocked&&this.options.triggerevent=="hover"){this.lock();this.fx[this.options.fx](a,this.element.find(this.options.selectors.panel),this)}},"{document} click":function(a,b){a=$(b.target);this.isLocked||!a.hasClass(this.options.selectors.trigger)&&
!a.closest(this.options.selectors.trigger).length&&!a.closest(this.options.selectors.panel).length&&this.element.find(this.options.selectors.panel).is(":visible")&&this.element.find(this.options.selectors.trigger).trigger("click")},lock:function(){this.isLocked=true;this.element.addClass("locked")},unlock:function(){this.isLocked=false;this.element.removeClass("locked")},fx:{slide:function(a,b,d){b.slideToggle(d.options.speed,function(){d.unlock();a.toggleClass(d.options.activeClass)})},fade:function(a,
b,d){b.fadeToggle(d.options.speed,function(){d.unlock();a.toggleClass(d.options.activeClass)})}}});steal.loaded("ui/dropdown/dropdown.js");
$.Controller("Ui.InputLimiter",{defaults:{limit:0,displayAt:0,counterMsg:"{{char}} characters remaining",onInit:function(){},onDisplay:function(){}}},{setup:function(a,b){b=$.extend({},this.Class.defaults,b);b.counterEl=$("<div />",{"class":"counter"}).text("test").hide();$(a).after(b.counterEl);this._super.apply(this,[a,b])},init:function(){var a=this;a.options.onInit(a.element,a.options);a.update()},update:function(a){var b=this,d=b.element;b._super(a);a=d.val().length;var p=parseInt(b.options.limit-
a);if(b.options.displayAt===0||b.options.displayAt==="")b.options.counterEl.show();else p<=b.options.displayAt?b.options.counterEl.show():b.options.counterEl.hide();if(a>b.options.limit){d.val(d.val().substr(0,b.options.limit));p=parseInt(b.options.limit-d.val().length)}b.options.counterEl.text(b.options.counterMsg.replace("{{char}}",p))},keyup:function(){this.update()}});steal.loaded("ui/input_limiter/input_limiter.js");
$.Controller("Ui.Lightbox",{defaults:{lightboxClass:"ui-lightbox",lightboxDialogClass:"ui-lightbox-dialog",bodyLightboxClass:"ui-lightbox-open",activeClass:"active",autoload:false,overlay:true,overlayClick:true,loading:true,type:"inline",header:null,footer:null,fadeInTime:"slow",fadeOutTime:"fast",onInit:function(){},onShow:function(){},onClose:function(){}}},{setup:function(a,b){b=$.extend({of:$("body")},this.Class.defaults,b);a=$(a);b.target=a.attr("href")?a.attr("href"):b.target?b.target:"";b.type=
a.data("lightbox")?a.data("lightbox"):b.type;b.triggerElement=a;b.overlayElement=b.overlay?$("<div/>",{"class":b.lightboxClass+"-overlay"}):null;b.loadingElement=b.loading?$("<div/>",{"class":b.lightboxClass+"-loading"}):null;a=$("<div/>",{"class":b.lightboxClass});var d=$("<div/>",{"class":b.lightboxDialogClass});a.find("."+b.lightboxClass+"-close").length||d.append($("<div/>",{"class":b.lightboxClass+"-close"}));d.append(b.loadingElement);b.header&&!a.find("."+b.lightboxClass+"-header").length&&
d.append($("<div />",{"class":b.lightboxClass+"-header"}).html(b.header));a.find("."+b.lightboxClass+"-body").length||d.append($("<div />",{"class":b.lightboxClass+"-body"}).html(function(){var p="";if(b.type=="inline")p+=$(b.target).html();else if(b.type=="iframe")p+='<iframe class="'+b.lightboxClass+'-iframe" width="100%" height="100%" src="'+b.target+'"></iframe>';return p}));b.footer&&!a.find("."+b.lightboxClass+"-footer").length&&d.append($("<div />",{"class":b.lightboxClass+"-footer"}).html(b.footer));
a.append(d);this._super.apply(this,[a[0],b])},init:function(){this.hasOverlay=this.options.overlayElement!==null&&this.options.overlayElement.length;this.options.autoload===true&&this.show();this.options.onInit(this.element,this.options)},"{triggerElement} click":function(a,b){b.preventDefault();this.show()},show:function(){$("body").addClass(this.options.bodyLightboxClass);this.element.addClass(this.options.activeClass);this.options.of.find(this.element).length||this.options.of.append(this.element.detach());
this.options.of.find(this.options.overlayElement).length||this.options.of.append(this.options.overlayElement.detach());this.hasOverlay&&this.options.overlayElement.fadeIn(this.options.fadeInTime);this.element.fadeIn(this.options.fadeInTime);var a=this.element.children("."+this.options.lightboxDialogClass);a.css({marginTop:($(window).height()-a.height())/2});this.options.onShow(this.element,this.options)},hide:function(){if(this.hasOverlay){this.options.overlayElement.fadeOut(this.options.fadeOutTime);
this.element.fadeOut(this.options.fadeOutTime);this.options.of.css({overflow:"visible"})}else this.element.fadeOut(this.options.fadeOutTime);$("body").removeClass(this.options.bodyLightboxClass);this.element.removeClass(this.options.activeClass);this.options.onClose(this.element,this.options)},"{document} keyup":function(a,b){this.element.is(":visible")&&b.which==27&&this.hide()},".{lightboxClass}-close click":function(){this.hide()},click:function(a,b){if(this.options.overlayClick){a=$(b.target);
a.closest("."+this.options.lightboxDialogClass).length||this.hide()}}});steal.loaded("ui/lightbox/lightbox.js");
steal(function(a){a.Controller("Ui.Modal",{defaults:{selectors:{wrapper:".ui-modal-dialog",header:".ui-modal-header",body:".ui-modal-body",footer:".ui-modal-footer"},bodyModalClass:"ui-modal-open",activeClass:"active",modalClass:"ui-modal",view:"//ui/modal/views/modal.ejs",overlay:true,overlayOpacity:0.8,header:null,body:null,footer:null}},{setup:function(b,d){d=a.extend({},this.Class.defaults,d);d.triggerEl=a(b);if(d.overlay){d.overlayEl=a("<div/>",{"class":"ui-modal-overlay"});if(env.isIE){b=d.overlayOpacity*
100;if(env.ieVersion<8)d.overlayEl.css("filter","alpha(opacity="+b+")");else env.ieVersion==8&&d.overlayEl.css("-ms-filter","progid:DXImageTransform.Microsoft.Alpha(Opacity="+b+")")}else d.overlayEl.css("opacity",d.overlayOpacity)}b=this.setElementToModalContainer(d);this._super(b[0],d)},setElementToModalContainer:function(b){var d="";d=b.triggerEl.attr("href");return d=a(d).length?a(d):a("<div/>",{id:String(d).replace(/[#\.]/ig,""),"class":b.modalClass})},init:function(){var b=this,d=b.element,p=
{content:d.find(b.options.selectors.header).length?a("<p>").append(d.find(b.options.selectors.header).clone()).html():b.options.header,full:!d.find(b.options.selectors.header).length?true:false},q={content:d.find(b.options.selectors.body).length?a("<p>").append(d.find(b.options.selectors.body).clone()).html():b.options.body,full:!d.find(b.options.selectors.body).length?true:false},t={content:d.find(b.options.selectors.footer).length?a("<p>").append(d.find(b.options.selectors.footer).clone()).html():
b.options.footer,full:!d.find(b.options.selectors.footer).length?true:false};d.html(b.view(b.options.view,{selectors:b.options.selectors,modal:{header:p,body:q,footer:t}}))},"{triggerEl} click":function(b,d){d.preventDefault();b=this;b.element.is(":visible")?b.hide():b.show()},click:function(b,d){b=a(d.target);b.closest(this.options.selectors.wrapper).length||this.hide()},'*[data-dismiss="modal"] click':function(b,d){d.preventDefault();this.hide()},show:function(){var b=this;a("body").addClass(b.options.bodyModalClass).append(b.element).append(b.options.overlayEl.detach().show());
b.element.addClass(b.options.activeClass);b.element.show();b.reposition();a([b.Class]).trigger("show",b)},hide:function(){var b=this;a("body").removeClass(b.options.bodyModalClass);b.element.removeClass(b.options.activeClass);b.element.detach();b.options.overlayEl.detach();a([b.Class]).trigger("hide",b)},reposition:function(){var b=this;b=b.element.find(b.options.selectors.wrapper);b.css({marginTop:(a(window).height()-b.height())/2})}})});steal.loaded("ui/modal/modal.js");
$.Controller("Ui.Navigation",{defaults:{selectors:{item:".menu-item",list:".menu-list",content:".mega-content",subMenu:"ul.sub-nav",toplvl:".top-lvl"},activeClass:"hover",delay:120,distance:10,leave:120,onInit:function(){},onHoverEnter:function(){},onHoverLeave:function(){}}},{init:function(){var a=this;a.options.onInit&&a.options.onInit(a.element,a.options);a.element.find(a.options.selectors.item).each(function(){var b=$(this);b.delegate(b,"hoverinit",function(d,p){p.leave(a.options.leave);p.delay(a.options.delay);
p.distance(a.options.distance)}).delegate(b,"hoverenter",function(d,p){a.hoverEnter(b,d,p)}).delegate(b,"hoverleave",function(d,p){a.hoverLeave(b,d,p)});b.delegate(b,"click",function(d){d.stopImmediatePropagation();if(b.is(a.options.selectors.toplvl))b.find("> "+a.options.selectors.list+", > "+a.options.selectors.content).is(":visible")?b.trigger("hoverleave"):b.trigger("hoverenter");return true})})},hoverEnter:function(a,b,d){b=this;b.options.onHoverEnter&&b.options.onHoverEnter(a,d);a.addClass("hover").siblings().removeClass("hover");
a.parent().removeClass("no-flyout");if(a.find("> "+b.options.selectors.content).length){a.siblings().find("> "+b.options.selectors.content).hide();a.find("> "+b.options.selectors.content).show()}else if(a.find("> "+b.options.selectors.list).length){a.siblings().find("> "+b.options.selectors.list).hide();a.find("> "+b.options.selectors.list).show();a.is(b.options.selectors.toplvl)&&b.hoverEnter(a.find("> "+b.options.selectors.list+" > "+b.options.selectors.item).filter(":first"),d)}else if(a.hasClass("no-flyout")){a.siblings().find("> "+
b.options.selectors.content).hide();a.parent().addClass("no-flyout")}},hoverLeave:function(a,b,d){b=this;b.options.onHoverLeave&&b.options.onHoverLeave(a,d);a.removeClass("hover");if(a.is(b.options.selectors.toplvl))if(a.find("> "+b.options.selectors.content).length)a.find("> "+b.options.selectors.content).hide();else a.find("> "+b.options.selectors.subMenu).length&&a.find("> "+b.options.selectors.subMenu).hide()},displayNavContent:function(a){a.show("fast")}});steal.loaded("ui/navigation/navigation.js");
$.Controller("Ui.Slider",{defaults:{currentSlide:0,selectors:{sliderWrapper:".slider-wrapper",slideContainer:".slide-container",navigationButton:".navigation-button"},slideChangeComplete:function(){},transition:function(a,b,d,p){a.hide(1,function(){a.css("left",-1*b*d);p()})},onMove:function(){}}},{init:function(){var a=this,b=a.element.find(a.options.selectors.slideContainer),d=a.element.find(a.options.selectors.slideContainer).children();a.options.slideWidth=d.filter(":first").width();b.width(a.options.slideWidth*
d.length);a.move(a.options.currentSlide,true)},"{selectors.navigationButton} click":function(a){var b=this,d=parseInt(a.attr("rel"));if(!a.hasClass("disabled")&&!a.hasClass("locked")){a.addClass("locked");b.move(b.options.currentSlide+d)}return false},move:function(a,b){var d=this,p=d.element.find(d.options.selectors.slideContainer),q=d.element.find(d.options.selectors.slideContainer).children().length,t=true;if(a==d.options.currentSlide&&!b||b&&a==0)t=false;if(a>=0&&a<q&&t==true){d.options.currentSlide=
a;d.options.onMove(a);b?p.css("left",-1*d.options.currentSlide*d.options.slideWidth):d.options.transition(p,d.options.currentSlide,d.options.slideWidth,d.options.slideChangeComplete);a==4&&$(document).trigger("RPU:end")}d.element.find(d.options.selectors.navigationButton).removeClass("locked")}});steal.loaded("ui/slider/slider.js");
$.Controller("Ui.Tabs",{defaults:{selectors:{tab:".ui-tab",content:".ui-tab-content"},activeClass:"active",onInit:function(){},onTabClick:function(){},onContentShow:function(){}}},{init:function(){var a=this,b=a.options,d=a.element.find(b.selectors.tab),p=a.element.find(b.selectors.content);if(d.filter("."+b.activeClass).length===0){d.filter(":first").addClass(b.activeClass).siblings().removeClass(b.activeClass);p.filter(":first").addClass(b.activeClass).siblings().removeClass(b.activeClass)}else{d=
d.filter("."+b.activeClass).index();p.eq(d).addClass(b.activeClass).siblings().removeClass(b.activeClass)}b.onInit(a.element,b)},"{selectors.tab} click":function(a,b){var d=this,p=d.options;p.onTabClick(a,b);a.addClass(p.activeClass).siblings().removeClass(p.activeClass);d.element.find(p.selectors.content).eq(a.index()).trigger("show");return false},"{selectors.content} show":function(a){var b=this.options;a.addClass(b.activeClass).siblings().removeClass(b.activeClass);b.onContentShow(a)}});steal.loaded("ui/tabs/tabs.js");
steal(function(a){a.Controller("Ui.Placeholder",{defaults:{attr:"placeholder",cssClass:"placeholder"}},{init:function(){this.options.attr==="placeholder"&&this.isPlaceholderSupported()?this.destroy():this.element.trigger("blur").parents("form").submit(this.callback("submit"))},isPlaceholderSupported:function(){return"placeholder"in document.createElement("input")},focus:function(b){if(b.val()==b.attr(this.options.attr)){b.val("");b.removeClass(this.options.cssClass)}},blur:function(b){if(b.val()==
""||b.val()==b.attr(this.options.attr)){b.addClass(this.options.cssClass);b.val(b.attr(this.options.attr))}},submit:function(){var b=this.element;b.val()==b.attr(this.options.attr)&&b.val("")}})});steal.loaded("ui/placeholder/placeholder.js");
