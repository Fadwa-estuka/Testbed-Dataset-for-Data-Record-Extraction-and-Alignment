function cygnus_report_blanks(targets){if(typeof targets==="undefined"||targets.length<1){console.log("Error: Attempted to report blanks, but no blank targets specified!.");return}var url=window.location.protocol==="https:"?"https://as-sec.casalemedia.com":"http://as.casalemedia.com";url+="/headerstats?type=RT&s="+IndexArgs.siteID+"&u="+encodeURIComponent(location.href)+"&r="+_IndexRequestData.lastRequestID;var targetString="";var i;for(i=0;i<targets.length-1;i++){targetString+=targets[i]+","}targetString+=targets[i];var px_call=new Image;px_call.src=url+"&blank="+targetString}function cygnus_split_parts(str){var regex=/^([OP])_(?:T([0-9])_)?(.+)_([^_]+)$/i;var match=str.match(regex);return match.slice(1)}function cygnus_index_parse_res(response){console.time("cygnus parse");try{if(response){if(typeof _IndexRequestData!=="object"||typeof _IndexRequestData.impIDToSlotID!=="object"||typeof _IndexRequestData.impIDToSlotID[response.id]==="undefined"){return}var targetMode=0;var callbackFn;if(typeof _IndexRequestData.reqOptions==="object"&&typeof _IndexRequestData.reqOptions[response.id]==="object"){if(typeof _IndexRequestData.reqOptions[response.id].callback==="function"){callbackFn=_IndexRequestData.reqOptions[response.id].callback}if(typeof _IndexRequestData.reqOptions[response.id].targetMode==="number"){targetMode=_IndexRequestData.reqOptions[response.id].targetMode}}_IndexRequestData.lastRequestID=response.id;var allBids=[];var seatbidLength=typeof response.seatbid==="undefined"?0:response.seatbid.length;for(var i=0;i<seatbidLength;i++){for(var j=0;j<response.seatbid[i].bid.length;j++){var bid=response.seatbid[i].bid[j];if(typeof bid.ext!=="object"||typeof bid.ext.pricelevel!=="string"){continue}if(typeof _IndexRequestData.impIDToSlotID[response.id][bid.impid]==="undefined"){continue}var slotID=_IndexRequestData.impIDToSlotID[response.id][bid.impid];if(typeof index_slots==="undefined"){index_slots=[]}if(typeof _IndexRequestData.targetIDToBid==="undefined"){_IndexRequestData.targetIDToBid={}}var targetID;var targetPrefix;if(typeof bid.ext.dealid==="string"){if(targetMode===1){targetID=slotID+bid.ext.pricelevel}else{targetID=slotID+"_"+bid.ext.dealid}targetPrefix="P_"}else{targetID=slotID+bid.ext.pricelevel;targetPrefix="O_"}index_slots.push(targetPrefix+targetID);if(_IndexRequestData.targetIDToBid[targetID]===undefined){_IndexRequestData.targetIDToBid[targetID]=[bid.adm]}else{_IndexRequestData.targetIDToBid[targetID].push(bid.adm)}var impBid={};impBid.impressionID=bid.impid;if(typeof bid.ext.dealid!=="undefined"){impBid.dealID=bid.ext.dealid}impBid.bid=bid.price;impBid.slotID=slotID;impBid.priceLevel=bid.ext.pricelevel;impBid.target=targetPrefix+targetID;allBids.push(impBid)}}if(typeof callbackFn==="function"){if(allBids.length===0){callbackFn(response.id)}else{callbackFn(response.id,allBids)}}for(var i=0;i<index_slots.length;i++){var parts=cygnus_split_parts(index_slots[i]);if(parts[0]=="O"){var str="O_"+parts[2]+"_"+parts[3];index_slots_add.push(str);var obj={};obj[str]=index_slots[i];index_slots_render.push(obj)}else{index_slots_add.push(index_slots[i])}}index_slots=index_slots_add;index_slots_sort=[];for(var i=0;i<index_slots.length;i++){var parts=cygnus_split_parts(index_slots[i]);if(parts[0]=="O"){parts[3]=Number(parts[3]);if(typeof parts[3]==="undefined")parts[3]=0}index_slots_sort.push({RTM:parts[0],ID:parts[2],PX:parts[3],TIER:parts[1]})}function compare_px(b,a){if(a["PX"]>b["PX"]){return 1}else if(a["PX"]<b["PX"]){return-1}return 0}index_slots_sort.sort(compare_px);var dedupe={};dedupe["length"]=0;index_slots=[];for(var i=0;i<index_slots_sort.length;i++){if(typeof dedupe[index_slots_sort[i]["ID"]]==="undefined"){index_slots.push(index_slots_sort[i]["RTM"]+"_"+index_slots_sort[i]["ID"]+"_"+index_slots_sort[i]["PX"]);dedupe[index_slots_sort[i]["ID"]]=true;dedupe.length++}}for(var i=0;i<index_slots_sort.length;i++){}}}catch(e){}if(typeof index_slots==="undefined"){index_slots=[]}cygnus_index_ready_state()}function index_render(doc,targetID){console.info("IR test: "+targetID);for(var r=0;r<index_slots_render.length;r++){if(typeof index_slots_render[r]["O_"+targetID]==="string"){targetID=index_slots_render[r]["O_"+targetID];var parts=cygnus_split_parts(targetID);if(typeof parts[1]==="undefined")targetID=parts[2]+"_"+parts[3];else targetID=parts[1]+"_"+parts[2]+"_"+parts[3]}}console.info("index_render: "+targetID);try{var ad=_IndexRequestData.targetIDToBid[targetID].pop();if(ad!=null){doc.write(ad)}else{console.info("BLANK DETECTED: "+targetID);cygnus_report_blanks([targetID])}}catch(e){}}
;cygnus_index_parse_res({"id": "403224807"});