var mboxCurrent=mboxFactories.get('default').get('target-global-mbox',0);mboxCurrent.setEventTime('include.start');document.write('<div style="visibility: hidden; display: none" id="mboxImported-default-target-global-mbox-0">');_AT.applyWhenReady([{"action":"customCode","selector":"HEAD","content":"<style type=\"text/css\">\n    .toasterCENTERItem {\n        display: block;\n        top: 20%;\n        left: 28.6%;\n        width: 700px;\n        margin-left: auto;\n        margin-right: auto;\n        height: auto;\n        position: absolute;\n        border: 1px solid #888;\n        text-align: center;\n        z-index: 10001;\n    }\n\t\n\t.show-overlay{\n\t\n\t    z-index: 1100 !important;\n\t\t    opacity: 0.7;\n    cursor: pointer;\n    height: 5282px;\n    background-color: rgb(102, 102, 102);\n\tdisplay: block ;\n\tposition: fixed;\n\t    top: 0;\n    left: 0;\n    width: 100%;\n\t}\n    \n    .OverlayAnimate {\n        -webkit-animation: toasterCENTERItem 2s ease forwards;\n        -moz-animation: toasterCENTERItem 2s ease forwards;\n        -ms-animation: toasterCENTERItem 2s ease forwards;\n        -o-animation: toasterCENTERItem 2s ease forwards;\n        animation: toasterCENTERItem 2s ease forwards;\n    }\n    /* Animation */\n    \n    @-webkit-keyframes toasterCENTERItem {\n        0% {\n            opacity: 0;\n        }\n        50% {\n            opacity: 1;\n        }\n        100% {\n            top: 25%;\n        }\n    }\n    \n    @-moz-keyframes toasterCENTERItem {\n        0% {\n            opacity: 0;\n        }\n        50% {\n            opacity: 1;\n        }\n        100% {\n            top: 25%;\n        }\n    }\n    \n    @-ms-keyframes toasterCENTERItem {\n        0% {\n            opacity: 0;\n        }\n        50% {\n            opacity: 1;\n        }\n        100% {\n            top: 25%;\n        }\n    }\n    \n    @-o-keyframes toasterCENTERItem {\n        0% {\n            opacity: 0;\n        }\n        50% {\n            opacity: 1;\n        }\n        100% {\n            top: 25%;\n        }\n    }\n    \n    @keyframes toasterCENTERItem {\n        0% {\n            opacity: 0;\n        }\n        50% {\n            opacity: 1;\n        }\n        100% {\n            top: 25%;\n        }\n    }\n    \n    .tnt_md-overlay {\n        visibility: visible !important;\n        opacity: 0.5;\n    }\n    \n    .centered {\n        margin: 0 auto;\n        width: 700px;\n    }\n    \n    .closeIcon {\n        background-image: url(\"http://www.homedepot.com/mcb/static/mcbrowse/images/shared/SmallCloseBtn.png\");\n        background-position: -337px -260px;\n        cursor: pointer;\n        display: inline;\n        height: 26px;\n        width: 26px;\n        position: absolute;\n        right: -11px;\n        top: -12px;\n        z-index: 1103;\n    }\n</style>\n\n<script type=\"text/javascript\">\n    var tAndT = function() {\n        jQuery(document).ready(function($) {\n\n             mboxDefine('mBoxDiv', 'CENTER_TOASTER_CLICKED');\n\t\t\t mboxDefine('mBoxDiv', 'CENTER_TOASTER_LOADED');\n            var toasterCENTERURL = \"http://www.homedepot.com/hdus/en_US/DTCCOMNEW/fetch/Toasters/canadian-shopping-toaster-f1.gif\";\n            var redirectCENTERURL = \"http://www.homedepot.ca\";\n\n            // Change the value to true inorder to support all stores for specific stores change the value to false:\n            var isAllStore_CENTER = true;\n\n            //Change this value to false if redirect is not needed:\n            var isRedirectRequired_CENTER = true;\n\n            // The below storeIDS will be picked up only if the isAllStore_CENTER variable is false:\n            // If there is more than 1 storeIDS please provide in following format var storeIDs_CENTER = [\"121\",\"122\",\"123\",\"124\"];\n            var storeIDs_CENTER = [\"456\"];\n\n            //Setting the below value to true will show the toaster once per Session.\n            var isToasterPerSession_CENTER = true;\n\t\t\t\n\t\t\t//if isToasterPerSession is true they always pass the uniqueID by using the following url \n\t\t\t//https://uniquegeneratorid.herokuapp.com/uniqueID\n\t\t\tvar uniqueToaterID = \"31e3dc00-8bef-11e6-bbfd-57d9bf85c359\";\n\t\t\t\n\t\t\t// The below config will display the toaster based on duration\n\t\t\tvar isCenterTimerRequired = false;\n\t\t\tvar centerTimerDuration = 5000 ; // 5 secs\n\n\n            /*$(document).ajaxComplete(function(event, xhr, settings) {\n\n                if (settings.url.indexOf('findStores') > -1) {\n                    console.log(\"called\");\n                    getCenterToasterContent();\n                }\n            });*/\n\n\n\t\t\tjQuery.fn.center = function () {\n    this.css(\"position\",\"absolute\");\n    this.css(\"top\", Math.max(0, (($(window).height() - $(this).outerHeight()) / 2) + \n                                                $(window).scrollTop()) + \"px\");\n    this.css(\"left\", Math.max(0, (($(window).width() - $(this).outerWidth()) / 2) + \n                                                $(window).scrollLeft()) + \"px\");\n    return this;\n}\n\n            getCenterToasterContent();\n\n            function getCenterToasterContent() {\n               $(\"#toasterCenterContainer\").remove();\n                if (isToasterPerSession_CENTER) {\n\n                    if (window.sessionStorage) {\n                        console.log(\"session storage\");\n                        var persistedvalCenter = sessionStorage.getItem(\"ToasterPerSession_CENTER\"+uniqueToaterID);\n                        if (persistedvalCenter !== \"YES\") {\n                            getCenterbanner();\n                            sessionStorage.setItem(\"ToasterPerSession_CENTER\"+uniqueToaterID, \"YES\");\n                        }\n                    } else {\n                        var toasterCacheCenter = getCookie(\"ToasterPerSession_CENTER\"+uniqueToaterID);\n                        if (toasterCacheCenter !== \"YES\") {\n                            getCenterbanner();\n                            setCookie(\"ToasterPerSession_CENTER\"+uniqueToaterID, \"YES\");\n                        }\n                    }\n                } else {\n                    getCenterbanner();\n                }\n            }\n\n\n\n            function getCenterbanner() {\n\n                var timerCount = 1;\n                var timer = setInterval(function() {\n                    timerCount = timerCount + 1;\n\n                    var storeID = \"\";\n                    if (_hddata && _hddata.localStoreNum) {\n                        storeID = _hddata.localStoreNum;\n                    }\n\n                    if (!storeID && _dD && _dD.user && _dD.user.localization && _dD.user.localization.storeZip) {\n                        storeID = _dD.user.localization.storeNumber;\n                    }\n\n                    if ($(\".headerStore\").find('h2').text()) {\n                        storeID = $(\".headerStore\").find('h2').text().split('#')[1];\n                    }\n                    if (storeID) {\n                        if (isAllStore_CENTER) {\n                            if ($(\"#alert\").length == 0) {\n                                toasterOverlay();\n                            }\n                            $(\"#alert\").show();\n                        } else if (storeID && $.inArray(storeID.toString(), storeIDs_CENTER) > -1) {\n                            if ($(\"#alert\").length == 0) {\n                                toasterOverlay();\n                            }\n                            $(\"#alert\").show();\n                        } else {\n                            $(\"#alert\").hide();\n                        }\n\t\t\t\t\t\t\n\t\t\t\tif(isCenterTimerRequired){\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t$(\"#toasterCenterContainer\").hide();\n                    $(\"#tnt_md-overlay\").remove();\t\t\t\n\t\t\t\t},centerTimerDuration+1000);\n\t\t\t\t\n\t\t\t\t}\n\t\t\t\t$(\"#toasterCenterContainer\").click(function() {\n                         mboxUpdate('CENTER_TOASTER_CLICKED');\t\n\t\t\t\t\t\t });\n\t\t\t\t mboxUpdate('CENTER_TOASTER_LOADED');\n                        clearInterval(timer);\n                    }\n\n                    if (timerCount > 100) {\n                        clearInterval(timer);\n                    }\n\n                }, 100);\n\n            }\n          \n          $( window ).resize(function() {\n$(\"#toasterCenterContainer\").center();\n});\n\n            function toasterOverlay() {\n\t\t\t   \n                var toasterCENTERItem = \"<div id='toasterCenterContainer' class='toasterCENTERItem centered'><a id='redirectCENTER' ><img id='toasterCENTERImage' src='' /></a><i class='closeIcon'></i></div><div id='tnt_md-overlay' class='show-overlay'></div>\";\n                $(\"#container\").prepend(toasterCENTERItem);\n                $(\"#toasterCENTERImage\").attr(\"src\", toasterCENTERURL);\n                $(\".toasterCENTERItem\").addClass(\"toasterCENTERItem OverlayAnimate\");\n\n\t\t\t\t\n\t\t\t\t\t\t\t\n                if (isRedirectRequired_CENTER) {\n                   if (redirectCENTERURL.indexOf(\"homedepot.com/\") === -1) {\n                                $(\"#redirectCENTER\").click(function() {\n                                    window.open(redirectCENTERURL);\n                                });\n                            } else {\n                                $(\"#redirectCENTER\").attr(\"href\", redirectCENTERURL);\n                            }\n                } else {\n                    $(\"#redirectCENTER\").attr('style', \"cursor:default\");\n\n                }\n                $(\".closeIcon\").click(function() {\n                    $(\"#toasterCenterContainer\").remove();\n                    $(\"#tnt_md-overlay\").remove();\n                });\n\t\t\t\t$(\"#toasterCenterContainer\").center();\n            }\n\n        });\n    };\n    if (typeof jQuery !== 'undefined') {\n        tAndT(jQuery);\n    } else {\n        DIGITAL_EMITTER.on('jquery-ready', tAndT);\n    }\n</script>"}]);document.write('<script type=\"text\/javascript\">\r\n\/*T&T to SiteCat v3 ==>Response Plugin*\/\r\nwindow.s_tnt=window.s_tnt||\'\',tntVal=\'80462:0:0,\';\r\nif(window.s_tnt.indexOf(tntVal)==-1){window.s_tnt+=tntVal}\r\n<\/script>\r\n\r\n');document.write('<script type=\"text\/javascript\">\r\n \r\nif(typeof(testversion) == \'undefined\'){\r\n \r\n var testversion = \'Toaster Mid | Canada Redirect | na3780:Center Toaster\';\r\n \r\n  } else {\r\n \r\ntestversion += \'^\' + \'Toaster Mid | Canada Redirect | na3780:Center Toaster\';\r\n  }\r\n \r\n<\/script>');document.write('</div>');mboxCurrent.setEventTime('include.end');mboxFactories.get('default').get('target-global-mbox',0).loaded();