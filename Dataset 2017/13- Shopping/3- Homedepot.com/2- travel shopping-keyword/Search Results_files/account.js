!function(e,t){"function"==typeof define&&define.amd?define("account.device.utility",["jquery"],function(n){return t(e,n)}):t(e,jQuery)}(this,function(e,t){var n=function(){return"undefined"!=typeof window.THD_GLOBAL&&THD_GLOBAL.secureHostName?THD_GLOBAL.secureHostName:THD_TOUCH_GLOBALS.wcsHostSecure.replace("https://","")};return{getHostNameSecure:n}}),function(e,t){"function"==typeof define&&define.amd?define("auth.constants",["jquery","account.device.utility"],function(n,a){return t(e,n,a)}):t(e,jQuery,deviceUtility)}(this,function(e,t,n){var a={EMAIL_EMPTY_ERR:"An email address is required. Please enter a valid email address.",EMAIL_FORMAT_ERR:"Email format is invalid. Please enter a valid email address.",PASSWORD_EMPTY_ERR:"A password is required. Please enter a password.",REGISTER_FIRST_NAME_EMPTY_ERR:"First name is required. Please enter your first name.",REGISTER_FIRST_NAME_INVALID_ERR:"Please enter a first name using only letters A-Z.",REGISTER_LAST_NAME_EMPTY_ERR:"Last name is required. Please enter your last name.",REGISTER_LAST_NAME_INVALID_ERR:"Please enter a last name using only letters A-Z.",REGISTER_ZIPCODE_EMPTY_ERR:"ZIP code is required. Please enter a valid five-digit ZIP code.",REGISTER_ZIPCODE_INVALID_ERR:"Please enter a valid 5-digit ZIP Code.",REGISTER_EMAIL_EXISTS_ERR:'This email address is already registered. <a href="javascript:void(0)" data-myaccountauth="true" onClick="showSignIn(false)" class="u__default-link dual-sign-in-pop-up">Sign in here.</a>',REGISTER_PASSWORD_INVALID_ERR:"Passwords must be a minimum of 8 characters in length and are case sensitive.",REGISTER_PASSWORD_WEAK_ERR:"Weak passwords cannot be saved. Please ensure that your password is more than 8 characters and is not a commonly used password.",REGISTER_CONFIRM_EMPTY_ERR:"Confirming your password is required. Please re-enter your password",REGISTER_CONFIRM_MATCH_ERR:"Your passwords don't match. Please enter the same password in both fields."},i={AUTH_SIGNIN_URL:"https://"+n.getHostNameSecure()+"/webapp/wcs/stores/servlet/THDAPIController",AUTH_REGISTER_URL:"https://"+n.getHostNameSecure()+"/webapp/wcs/stores/servlet/THDAPIUserRegistration",AUTH_REGISTER_LITE_URL:"https://"+n.getHostNameSecure()+"/webapp/wcs/stores/servlet/UserRegistrationLite",GUEST_AUTH_TOKEN_URL:"https://"+n.getHostNameSecure()+"/webapp/wcs/stores/servlet/THDAPIController?client_id=internal_test&channel=INTERNAL_API&client_type=internal&response_type=activity&businessChannelId=-1&requesttype=ajax",EMAIL_VERIFICATION_URL:"https://"+n.getHostNameSecure()+"/webapp/wcs/stores/servlet/THDMemberService?storeId=10051&langId=-1&catalogId=10053&command=isUnique&v=2",RESET_PASSWORD_PATH:"https://"+n.getHostNameSecure()+"/webapp/wcs/stores/servlet/ResetPasswordForm?storeId=10051&langId=-1&catalogId=10053"};return{URLS:i,ERROR:a,COOKIE_NONTLS_THD_AUTHORIZATION_TOKEN:"NONTLS_THD_AUTHORIZATION_TOKEN",COOKIE_THD_USER_AUTH_STATUS:"THD_USER_AUTH_STATUS",COOKIE_THD_AUTHORIZATION_TOKEN:"THD_AUTHORIZATION_TOKEN",COOKIE_MYLIST_THROTTLE:"MYLIST_THROTTLE",COOKIE_EXPIRY_ONE_YEAR:365}}),function(e,t){"function"==typeof define&&define.amd?define("account.utility",["jquery","cookie-utils","auth.constants"],function(n,a,i){return t(e,n,a,i)}):t(e,jQuery,cookieUtils,Constants)}(this,function(e,t,n,a){function i(){return"fast"}function o(){return"http://www.homedepot.com/webapp/catalog/servlet/ContentView?storeId=10051&langId=-1&catalogId=10053&pn=PH_MyAccount"}function r(){return"http://www.homedepot.com/webapp/catalog/servlet/ContentView?storeId=10051&langId=-1&catalogId=10053&pn=Privacy_Security"}var s=function(){return n.getUserIdFromUserActivityCookie()},l=function(){return n.readCookie(a.COOKIE_THD_AUTHORIZATION_TOKEN)&&""!==n.readCookie(a.COOKIE_THD_AUTHORIZATION_TOKEN)},d=function(){return""===n.readCookie(a.COOKIE_MYLIST_THROTTLE)||"true"===n.readCookie(a.COOKIE_MYLIST_THROTTLE)},c=function(){return encodeURIComponent(n.readCookie(a.COOKIE_THD_AUTHORIZATION_TOKEN))},u=function(e){return n.readCookie(e)},p=function(e,n){var a={type:"GET"};return t.extend(!0,a,e),n&&(t.support.cors=!0),t.ajax(a)},f=function(e,t){return new Date(e.lastModifiedDate).getTime()-new Date(t.lastModifiedDate).getTime()},m=function(){return 1===Number(sessionStorage.getItem("RegistrationLiteFeature"))},_=function(){return a.URLS.RESET_PASSWORD_PATH};return{getAnimatePace:i,getAccountTermsView:o,getPrivacyView:r,getThrottleStatus:d,triggerAJAXCall:p,sort:f,verifyAuthorizationToken:l,getCookie:u,getUserId:s,getAuthorizationToken:c,getRegistrationLite:m,getResetPasswordURL:_}}),function(e,t){"function"==typeof define&&define.amd?define("list.model",["jquery"],function(n){return t(e,n)}):t(e,jQuery)}(this,function(e,t){var n="",a="",i=null,o=[],r="",s=!1,l=function(){return n},d=function(e){n=e||""},c=function(){return a},u=function(e){a=e||"body"},p=function(){return i},f=function(e){i=e||t("body")},m=function(){return r},_=function(e){r=e},h=function(){return o},g=function(e){o=e},v=function(){return s},E=function(e){s=e},R=function(e){var t=[],n={};e.item.length?t=e.item:(n={},n.itemId=e.item.itemId||"",n.quantity=e.item.quantity||0,n.price=e.item.price||"",n.imageURL=e.item.imageURL||"",e.item.blindsItemId&&(n.blindsItemId=e.item.blindsItemId),t.push(n)),d(e.source),u(e.selector),f(e.$trigger),E(e.isMobileChannel),g(t)};return{getSource:l,setSource:d,getSelectorInfo:c,setSelectorInfo:u,getTrigger:p,setTrigger:f,getListName:m,setListName:_,getItems:h,setItems:g,setRequestParams:R,getIsMobileChannel:v,setIsMobileChannel:E}}),function(e,t){"function"==typeof define&&define.amd?define("list.constants",["jquery","account.device.utility"],function(n,a){return t(e,n,a)}):t(e,jQuery,deviceUtility)}(this,function factory(root,$,deviceUtility){var URLS={GET_ALL_LIST_URL:function(e){return"https://"+deviceUtility.getHostNameSecure()+"/customer/list/v1/"+e+"/lists"},CREATE_LIST_URL:"https://"+deviceUtility.getHostNameSecure()+"/customer/list/v1/createlist",UPDATE_LIST_URL:"https://"+deviceUtility.getHostNameSecure()+"/customer/list/v1/additems",GET_FEATURE_LIST_URL:"https://"+deviceUtility.getHostNameSecure()+"/TouchWebServices/v2/util/feature?featureId=RegistrationLiteFeature&featureId=MCMListDesktopFeature&featureId=MCMListMobileFeature",LIST_DETAILS_URL:function(e){return"https://"+deviceUtility.getHostNameSecure()+"/account/view/list/details/"+e}},ERR_CD_EXISTING_LIST_NAME="MYLIST_ERR_007",ERR_CD_LIST_NAME_MAX_LENGTH="MYLIST_ERR_131",ERR_CD_LIST_NAME_SPL_CHARS="MYLIST_ERR_006",ERR_CD_MANDATORY_LIST_NAME="MYLIST_ERR_132",ERR_CD_EMPTY_LIST_DETAILS="MYLIST_ERR_105",ERR_CD_EMPTY_LIST_OF_LISTS="MYLIST_ERR_100",ERR_GENERIC="MYLIST_GENERIC",MESSAGE_MAPPING=[];MESSAGE_MAPPING[ERR_CD_EXISTING_LIST_NAME]="You already have a list with that name. Please enter a different name.",MESSAGE_MAPPING[ERR_CD_LIST_NAME_MAX_LENGTH]="You have entered more than 50 characters. Please enter a different name.",MESSAGE_MAPPING[ERR_CD_LIST_NAME_SPL_CHARS]="You have entered an invalid character. Only a-z, 0-9, ! @ # $ % ^ & ( ) - _ + = , . ? \" '  : are allowed. Please try again.",MESSAGE_MAPPING[ERR_CD_MANDATORY_LIST_NAME]="Please enter a name for your list",MESSAGE_MAPPING[ERR_GENERIC]={title:"We're sorry. ",content:"Please try again later."};var getMessageMapping=function(e){return MESSAGE_MAPPING[e]},getErrorCode=function(errorCode){return eval(errorCode)};return{URLS:URLS,getError:getMessageMapping,getCode:getErrorCode}}),function(e,t){"function"==typeof define&&define.amd?define("list.helper",["jquery","list.model","account.utility","list.constants"],function(n,a,i,o){return t(e,n,a,i,o)}):t(e,jQuery,model,accountUtility,Constants)}(this,function(e,t,n,a,i){var o=function(e,o){var r=(t(".listOfLists__create-item"),{}),s=n.getItems(),l=i.URLS.CREATE_LIST_URL,d={ListRequest:{items:[],memberId:a.getUserId(),listName:e}};o&&(d.ListRequest.listId=o,l=i.URLS.UPDATE_LIST_URL),t.each(s,function(e,t){r.catentryId=t.itemId,r.qty=t.quantity,t.blindsItemId&&(r.configurationId=t.blindsItemId),d.ListRequest.items.push(r)});var c={type:"POST",url:l,data:JSON.stringify(d),contentType:"application/json",dataType:"json",xhrFields:{withCredentials:!0},beforeSend:function(e){e.setRequestHeader("Authorization",a.getAuthorizationToken())}};return a.triggerAJAXCall(c,!0)};return{triggerCreateListCall:o}}),function(e,t){"function"==typeof define&&define.amd?define("account.tooltip",["jquery","list.model"],function(n,a){return t(e,n,a)}):t(e,jQuery,model)}(this,function(e,t,n){var a,i,o=function(){var e=a,o=i,r=0;r=n.getIsMobileChannel()?260:345;var s={width:r,$trigger:t("body"),tipLocation:"right"};t.extend(!0,s,o);var l,d,c,u=40,p=40,f=s.tipLocation,m=0,_=s.$trigger,h=[],g="",v=n.getSelectorInfo();0===_.parents("body").length&&v&&(h=n.getItems(),g=h[0].itemId,_=t(v+'[data-itemid="'+g+'"]:first'),0===_.length&&(_=t("body"))),c=_.offset(),e.outerWidth(s.width),m="right"===f?e.outerWidth()-(_.width()/2+p):"left"===f?0:e.outerWidth()/2,l=c.top+_.outerHeight()+u/2,d=c.left-m,0>d&&(d=0),e.css({top:l,left:d}).addClass(f+"-notch")},r=function(e,n){var r=t(".tooltip__content");if(r.length>0)r.find(".content").html(e);else{var s=t("<button />").addClass("tooltip__content__btn--close").html("x").on("click",function(){r.remove()}),l=t("<div />").addClass("content").html(e);r=t("<div />").addClass("tooltip__content u__text-align--left account--global__patch").html(s).append(l),t("body").append(r)}a=r,i=n,o()};t(document).off("accountTooltipPosition").on("accountTooltipPosition",o),t(window).resize(function(){t(".tooltip__content").length>0&&setTimeout(function(){t(document).trigger("accountTooltipPosition")},100)});var s=function(){t(".tooltip__content").remove()};return{showTooltip:r,hideTooltip:s}}),function(e,t){"function"==typeof define&&define.amd?define("account.modal",["jquery","list.model"],function(n,a){return t(e,n,a)}):t(e,jQuery,model)}(this,function(e,t,n){var a=function(e,a,i,o){var r,s,l,d,c,u,p=t(".account-modal__content"),f="",m="",_=t(window).height()-200;n.getIsMobileChannel()?(c="auto",u="20px"):c="765px";var h={width:"97%","max-width":c,height:(_>450?"450":_)+"px",background:"#fff"};if(u&&""!==u&&(h.margin=u),t.extend(!0,h,o),p.length>0)p.find(".content").html(e);else{var r=t("<button />").addClass("account-modal__content__btn--close").on("click",function(){p.remove()});s=t("<div />").addClass("content body__p-all-large").html(e),a&&(m=t("<div />").addClass("account-modal__header").html(a)),i&&(f=t("<div />").addClass("account-modal__footer body__p-all-large u__text-align--right body__border-top--light").html(i)),d=t("<div />").addClass("account--global__patch account-modal__content u__text-align--left").html(m).append(r).append(s).append(f).attr("style","width:"+h.width+" !important;");var g=h.height;h.height="auto",d.css(h),d.find(".content").attr("style","overflow-x: auto; max-height: "+g),l=t("<div />").addClass("account-modal__overlay"),p=t("<div />").addClass("account-modal__container account--global__patch").html(l).append(d),t("body").append(p)}},i=function(){t(".account-modal__container").remove()};return{showModal:a,hideModal:i}}),function(e,t){"function"==typeof define&&define.amd?define("list.message",["jquery","account.utility","account.tooltip","account.modal","list.constants","list.model"],function(n,a,i,o,r,s){return t(e,n,a,i,o,r,s)}):t(e,jQuery,accountUtility,toolTip,dialog,Constants,model)}(this,function(e,t,n,a,i,o,r){var s=function(e){var n=o.getError(o.getCode("ERR_GENERIC")),s=t("<span />",{"class":"alert-inline__title"}).html(n.title),l=t("<span />",{"class":"alert-inline__message u__block"}).html(s).append(n.content),d=t("<div />",{"class":"alert-inline alert-inline--danger"}).html(l),c=t("<h2 />",{"class":""}).html("Error"),u={height:"auto; min-height: 60px;"};"checkavailability"===r.getSource()?i.showModal(d,c,!1,u):a.showTooltip(d,{$trigger:e})},l=function(e,n,l){if(i.hideModal(),e&&e.ListResponse&&!e.ListResponse.errorData){var d=e.ListResponse.listName||l,c="Item has been saved to ",u=t("<span />").addClass("alert-inline__title").html(d),p=t("<span />",{title:d}),f=t("<div />").addClass("alert-inline alert-inline--success").html(p),m=t("<a />",{href:o.URLS.LIST_DETAILS_URL(e.ListResponse.listId)}).addClass("u__default-link").html("View List"),_=t("<div />"),h=t("<h2 />").html("Save to List Confirmation"),g={height:"auto; min-height: 60px;"};p.addClass("alert-inline__message").html(c).append(u),_.addClass("create-list__confirm").html(f).append(m),"checkavailability"===r.getSource()?i.showModal(_,h,!1,g):a.showTooltip(_,{$trigger:n})}else s(n)};return{showSuccessMessage:l,showGenericError:s}}),function(e,t){"function"==typeof define&&define.amd?define("list.analytics",[],function(){return t(e)}):t(e)}(this,function(e){var t=function(e){null!==digitalData&&void 0!==digitalData&&void 0!==digitalData.event&&digitalData.event.push(e)},n=function(){try{var e={category:{primaryCategory:"overlay"},eventInfo:{eventName:"save to your list"}};t(e)}catch(n){console.warn("DDO: Error in pushing the save to list event info")}},a=function(){try{var e={category:{primaryCategory:"overlay"},eventInfo:{eventName:"sign in prompt"}};t(e)}catch(n){console.warn("DDO: Error in pushing the sign-in overlay event info")}},i=function(){try{var e={category:{primaryCategory:"overlay"},eventInfo:{eventName:"create a list"}};t(e)}catch(n){console.warn("DDO: Error in pushing the create list event info")}},o=function(e){return e?(e+"").replace("$",""):"0"},r=function(e,n,a,i,r){try{var s={category:{primaryCategory:e},eventInfo:{eventName:n},item:[{listLocation:a,quantity:i.quantity,price:{basePrice:o(i.price)},productInfo:{sku:i.itemId}}]},l=null;"list add"===n?l="save to your list overlay":"create list"===n&&(l=r?"create a list overlay":"save to your list overlay"),null!==l&&$.extend(!0,s,{myList:{creationLocation:l}}),t(s)}catch(d){console.warn("DDO: Error in pushing the item details event info")}};return{pushSaveToListEventInfo:n,pushSignInEventInfo:a,pushCreateListEventInfo:i,pushItemDetailsEventInfo:r}}),function(e,t){"function"==typeof define&&define.amd?define("list.create",["jquery","list.constants","list.model","list.helper","list.message","account.modal","list.analytics"],function(n,a,i,o,r,s,l){return t(e,n,a,i,o,r,s,l)}):t(e,jQuery,Constants,model,helper,message,dialog,analytics)}(this,function(e,t,n,a,i,o,r,s){var l=function(e,n){var a=e.find(".form-input"),i="form-input--error",o=a.parents("form").find("#createList");e.find(".form-input-error__message").remove(),n?(a.addClass(i).append(t("<span />").addClass("form-input-error__message").html(n)),a.find("input").focus(),o.attr({disabled:"disabled"}).addClass("disabled")):(a.removeClass(i),o.removeAttr("disabled").removeClass("disabled"))},d=function(e){var a,i=t.trim(e.find("#listName").val());return""===i?a=n.getError(n.getCode("ERR_CD_MANDATORY_LIST_NAME")):i.length>50?a=n.getError(n.getCode("ERR_CD_LIST_NAME_MAX_LENGTH")):i.match(/[`<>\/~]+.*$/)&&(a=n.getError(n.getCode("ERR_CD_LIST_NAME_SPL_CHARS"))),l(e.parent(),a),!a},c=function(e){e.preventDefault();var c=t(this),u=t("#createForm").find("#listName").val(),p=t("#listName").data("tooltip")===!0;if(d(c)){a.setListName(u);var f=i.triggerCreateListCall(u);f.done(function(e){a.setListName(""),o.showSuccessMessage(e,a.getTrigger(),u);var t=a.getItems();item={},t&&t.length>0&&(item=a.getItems()[0]),s.pushItemDetailsEventInfo("interaction","create list",a.getSource(),item,p)}).fail(function(e){var i=e&&e.responseText?t.parseJSON(e.responseText):{};i=i&&i.ListResponse&&i.ListResponse.errorData&&i.ListResponse.errorData.errors?i.ListResponse.errorData.errors:{},duplicateErrorCode="ERR_CD_EXISTING_LIST_NAME",duplicateErrorMessage=n.getError(n.getCode(duplicateErrorCode)),i&&i.length>0&&i[0].id===n.getCode(duplicateErrorCode)?l(t(".listOfLists__create-item"),duplicateErrorMessage):(r.hideModal(),o.showGenericError(a.getTrigger()))})}},u=function(e,t,n){d(t)?n.removeAttr("disabled").removeClass("disabled"):n.attr({disabled:"disabled"}).addClass("disabled")},p=function(e,n){e=e||!1;var a=t("<span />").addClass("form-input__label-content").html("Name Your List"),i=t("<label />",{"for":"listName"}).addClass("form-input__label").html(a),o=t("<input />",{type:"text",id:"listName",maxlength:"50",autofocus:"true",autocomplete:"off","data-tooltip":!e}).addClass("form-input__field"),r=t("<div />").addClass("form-input create-list").html(i).append(o),s=t("<form />",{method:"post",name:"createForm",id:"createForm"}),l=t("<span />").addClass("bttn__content").html("CREATE A LIST"),d=t("<button />",{id:"createList",disabled:"disabled"}).addClass("bttn bttn--primary disabled").html(l);return s.html(r).on("input",function(e){e.preventDefault(),n=n||d,u(e,t(this),n)}).on("submit",c),e||s.append(d),s};return{getContentForCreateList:p,displayErrorMessage:l}}),function(e,t){"function"==typeof define&&define.amd?define("list.show",["jquery","account.utility","list.create","account.modal","list.helper","list.model","list.constants","list.message","list.analytics"],function(n,a,i,o,r,s,l,d,c){return t(e,n,a,i,o,r,s,l,d,c)}):t(e,jQuery,accountUtility,createList,dialog,helper,model,Constants,message,analytics)}(this,function(e,t,n,a,i,o,r,s,l,d){var c=function(e){var t=0,a=0,i=e.position().top,o=e.parents(".content"),r=o.outerHeight(),s=e.outerHeight();(0>i||i+s>r)&&(t=i+s>r?s:0,a=o.scrollTop()+(t-(r-i)),o.animate({scrollTop:a},n.getAnimatePace())),e.find("input").focus()},u=function(e,n){var a,i,o="listOfLists__selected",s=e.hasClass(o),l=t("."+o);return s||(t(".listOfLists__create-item").hasClass(o)&&t(".listOflists__input").empty(),l.length>0&&(l.removeClass(o),l=l.find(".listOfLists__thumbspace"),""!==l.data("src")&&("noimage"===l.data("src")?(l.addClass("noimage").find("img").remove(),l.children().show()):l.children().attr("src",l.data("src")),l.removeAttr("data-src"))),e.addClass(o),a=e.find(".listOfLists__thumbspace"),i=r.getItems()[0].imageURL,1!==a.children().length?(a.removeClass("noimage").attr("data-src","noimage"),a.children().hide(),t("<img />",{src:i}).appendTo(a)):(a.attr("data-src",a.children().attr("src")),a.children().attr("src",i)),t(".listOfLists__create-item").hasClass(o)?n.attr({disabled:"disabled"}).addClass("disabled"):n.removeAttr("disabled").removeClass("disabled")),!s},p=function(e,t){u(e,t)&&e.find(".listOflists__input").html(a.getContentForCreateList(!0,t)),c(e)},f=function(){var e=t(".listOfLists__selected");if(e.hasClass("listOfLists__create-item"))e.find("#createForm").submit();else{var n=o.triggerCreateListCall(e.data("list-name"),e.data("list-id"));n.done(function(t){r.setListName(""),l.showSuccessMessage(t,r.getTrigger(),e.data("list-name"));var n=r.getItems();item={},n&&n.length>0&&(item=r.getItems()[0]),d.pushItemDetailsEventInfo("button submission","list add",r.getSource(),item,!1)}).fail(function(e){var n=e&&e.responseJSON&&e.responseJSON.ListResponse&&e.responseJSON.ListResponse.errorData&&e.responseJSON.ListResponse.errorData.errors?e.responseJSON.ListResponse.errorData.errors:{},o="ERR_CD_EXISTING_LIST_NAME";duplicateErrorMessage=s.getError(s.getCode(o)),n&&n.length>0&&n[0].id===s.getCode(o)?a.displayErrorMessage(t(".listOfLists__create-item"),duplicateErrorMessage):(i.hideModal(),l.showGenericError(r.getTrigger()))})}},m=function(e){var n,a,o,s,l=t("<span />").html("&#10133;").addClass("listOfLists__createSign"),d=t("<h4 />").html("CREATE A NEW LIST").addClass("body__p-top-small"),m=t("<div />").addClass("listOfLists__thumbspace noimage").html(l).append(d),_=t("<div />").addClass("listOflists__input body__p-top-small"),h=t("<div />").addClass("listOfLists__item body__m-right-medium body__m-bottom-medium listOfLists__create-item").html(m).append(_),g=t("<div />").addClass("listOfLists"),v=t("<h2 />").html("Save to Your List"),E=t("<span />").addClass("bttn__content").html("SAVE TO LIST"),R=t("<button />",{disabled:"disabled",id:"listSaveControl"}).addClass("bttn bttn--primary bttn--inline disabled").html(E),y=t(window).height()-200,I=y>450?450:y,C={height:I+"px","min-height":I+"px",width:"auto"};if(h.on("click",function(){p(t(this),R)}),t.each(e,function(e,i){n=t("<img />",{src:i.firstOrderItemURL}),m=t("<div />").addClass("listOfLists__thumbspace"),o=t("<strong />").addClass("listOfLists__name").html(i.listName),s=t("<p />").addClass("listOfLists__count").html((i.noOfItems?i.noOfItems:0)+" items"),a=t("<div />",{"data-list-id":i.listId,"data-list-name":i.listName}).addClass("listOfLists__item body__m-right-medium body__m-bottom-medium"),i.firstOrderItemURL?m.html(n):m.addClass("noimage"),a.html(m).append(o).append(s),a.on("click",function(){u(t(this),R),c(t(this))}),g.append(a)}),g.append(h),R.on("click",f),i.showModal(g,v,R,C),r.getIsMobileChannel()){var T=t(".account-modal__content").width()-40+"px";t(".listOfLists__item").attr("style","width:"+T);var w=window.innerHeight-(t(".account-modal__footer").outerHeight()+t(".account-modal__header").outerHeight()+80)+"px";t(".content").attr("style","overflow-y: auto; height:"+w)}};return{showListModal:m}}),function(e,t){"function"==typeof define&&define.amd?define("password.toggle",["jquery"],function(n){return t(e,n)}):t(e,jQuery)}(this,function(e,t){function n(){var e=a();e.length>0&&e.each(function(t){i(e[t])})}function a(){var e=t('[data-pwd-toggle="true"]');return e}function i(e){var n=t(e).parent().find("label#toogleBtn").length>0;if(e&&!n){var a=t(e).data("pwd-toggle-show-text");a&&""!==t.trim(a)||(a="Show");var i=t(e).data("pwd-toggle-lbl-right");i||(i="0");var r=t(e).data("pwd-toggle-lbl-padding");r||(r="12px 8px");var s=t("<label/>").attr({id:"toogleBtn","data-text":"show"}).css({position:"absolute",padding:r,right:i+"px"}).css({color:"#777",cursor:"pointer"}).hide().text(a).on("click",function(n){n.preventDefault(),hasMouseDownHappened||o(t(e),t(this)),hasMouseDownHappened=!1}).on("mousedown",function(n){n.preventDefault(),hasMouseDownHappened=!0,o(t(e),t(this))}).hover(function(){s.css({opacity:"0.6"})},function(){s.css({opacity:"1"})});t(e).before(s),t(e).on("keyup",function(){var e=t(this).val();""!==e?s.show():t(this).trigger("reset-pwd-toggle")}).on("paste",function(n){setTimeout(function(){t(e).trigger("keyup")},1)}),t(e).on("reset-pwd-toggle",function(){var e="show"===s.data("text");e||s.trigger("click"),s.hide()}),t(e).css({"padding-right":16+s.outerWidth()+"px"})}}function o(e,n){var a=n,i="show"===a.data("text");if(i){var o=e.data("pwd-toggle-hide-text");o&&""!==t.trim(o)||(o="Hide"),n.text(o),e.attr("type","text").on("copy",function(e){e.preventDefault()}),a.data("text","hide")}else{var r=e.data("pwd-toggle-show-text");r&&""!==t.trim(r)||(r="Show"),n.text(r),e.attr("type","password").off("copy"),a.data("text","show")}}return function(e){e.fn.getCursorPosition=function(){var e=this.get(0);if(e){if("selectionStart"in e)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange(),n=document.selection.createRange().text.length;return t.moveStart("character",-e.value.length),t.text.length-n}}},e.fn.setCursorPosition=function(e){var t=this.get(0);t&&"selectionStart"in t&&"selectionEnd"in t&&0!==e&&(t.selectionStart=t.selectionEnd=e)}}(jQuery),{initToggle:n}}),function(e,t){"function"==typeof define&&define.amd?define("auth.analytics",[],function(){return t(e)}):t(e)}(this,function(e){var t=function(e){null!==digitalData&&void 0!==digitalData&&void 0!==digitalData.event&&digitalData.event.push(e)},n=function(){try{var e={category:{primaryCategory:"overlay"},eventInfo:{eventName:"signin register overlay-sign in tab"}};t(e)}catch(n){console.warn("DDO: Error in pushing the sign-in tab event info")}},a=function(){try{var e={category:{primaryCategory:"overlay"},eventInfo:{eventName:"signin register overlay-register tab"}};t(e)}catch(n){console.warn("DDO: Error in pushing the register tab event info")}},i=function(){try{var e={category:{primaryCategory:"button submission"},eventInfo:{eventName:"sign in"}};t(e)}catch(n){console.warn("DDO: Error in pushing the successful sign-in event info")}},o=function(){try{var e={category:{primaryCategory:"button submission"},eventInfo:{eventName:"registration"},user:{profile:{action:"register"}}};t(e)}catch(n){console.warn("DDO: Error in pushing the successful register event info")}},r=function(e){try{var n={category:{primaryCategory:"error"},eventInfo:{eventName:"error",errorMessage:e.errorMessage}};t(n)}catch(a){console.warn("DDO: Error in pushing the auth error event info")}};return{pushSignInTabEventInfo:n,pushRegisterTabEventInfo:a,pushSuccessfulSignInEventInfo:i,pushSuccessfulRegisterEventInfo:o,pushAuthErrorEventInfo:r}}),function(e,t){"function"==typeof define&&define.amd?define("auth.modal",["jquery","account.modal","account.utility","password.toggle","list.model","auth.analytics"],function(n,a,i,o,r,s){return t(e,n,a,i,o,r,s)}):t(e,jQuery,modal,accountUtility,passwordToggle,model,analytics)}(this,function(e,t,n,a,i,o,r){var s=function(e){var n=t("<span />").addClass("row-header__text").html(e),a=t("<div />").addClass("row-header__title").html(n);return t("<div />").addClass("row-header").html(a)},l=function(){var e=t("<a />",{href:a.getAccountTermsView(),target:"_blank"}).addClass("u__default-link body__p-right-small body__border-right--light").html("My Account Terms &amp; Conditions"),n=t("<a />",{href:a.getPrivacyView(),target:"_blank"}).addClass("u__default-link body__p-left-small ").html("Privacy &amp; Security Statement"),i=t("<div />").addClass("u__legal body__m-top-large u__text-align--center").html(e).append(n);return i},d=function(){var e=s("My Account Sign In"),n=t("<span />").addClass("u__text--brand").html("* "),i=t("<p />").addClass("u__text-align--right u__bold body__m-top-small").html("Required Fields").prepend(n.clone()),o=t("<input />",{type:"text",id:"email_id",autofocus:"true",autocomplete:"off"}).addClass("form-input__field"),r=t("<span />").html("Email Address:").prepend(n.clone()),d=t("<label />",{"for":"email_id"}).addClass("form-input__label").html(r),c=t("<div />").addClass("form-input body__m-top-small").html(d).append(o),u=t("<input />",{type:"password",id:"password",autocomplete:"off",maxlength:"70","data-pwd-toggle":"true"}).addClass("form-input__field"),p=t("<span />").html("Password:").prepend(n.clone()),f=t("<label />",{"for":"password"}).addClass("form-input__label").html(p),m=t("<div />").addClass("form-input body__m-top-small").html(f).append(u),_=t("<a />",{href:a.getResetPasswordURL()}).addClass("u__default-link").html("Reset your password"),h=t("<div />").addClass("u__text-align--right body__m-top-small").html(_),g=t("<span />").addClass("bttn__content").html("SIGN IN"),v=t("<button />",{id:"accountSignIn"}).addClass("bttn bttn--primary body__m-top-small").html(g),E=t("<div />").addClass("login-popup__model"),R=t("<form />",{method:"post",name:"userLogin",id:"userLogin"}).addClass("login-popup__form");return E.html(i).append(c).append(m).append(h).append(v).append(l()),R.html(e).append(E),R},c=function(){var e=s("My Account Registration"),n=t("<span />").addClass("u__text--brand").html("* "),i=t("<p />").addClass("u__text-align--right u__bold body__m-top-small").html("Required Fields").prepend(n.clone()),o=t("<span />").html("First Name:").prepend(n.clone()),r=t("<label />",{"for":"firstName"}).addClass("form-input__label").html(o),d=t("<input />",{type:"text",id:"firstName",autofocus:"true",autocomplete:"off"}).addClass("form-input__field invalid"),c=t("<div />",{id:"firstnameholder"}).addClass("form-input body__m-top-small").html(r).append(d),u=t("<span />").html("Last Name:").prepend(n.clone()),p=t("<label />",{"for":"lastName"}).addClass("form-input__label").html(u),f=t("<input />",{type:"text",id:"lastName",autocomplete:"off"}).addClass("form-input__field invalid"),m=t("<div />",{id:"lastnameholder"}).addClass("form-input body__m-top-small").html(p).append(f),_=t("<span />").html("Zip Code:").prepend(n.clone()),h=t("<label />",{"for":"zipcode"}).addClass("form-input__label").html(_),g=t("<input />",{type:"text",id:"zipcode",autocomplete:"off",maxlength:"5"}).addClass("form-input__field invalid"),v=t("<div />",{id:"zipholder"}).addClass("form-input body__m-top-small").html(h).append(g),E=t("<span />").html("Email Address:").prepend(n.clone()),R=t("<label />",{"for":"email_id"}).addClass("form-input__label").html(E),y=t("<input />",{type:"text",id:"email_id",autofocus:"true",autocomplete:"off"}).addClass("form-input__field invalid"),I=t("<div />",{id:"emailholder"}).addClass("form-input body__m-top-small").html(R).append(y),C=t("<span />").html("Password:").prepend(n.clone()),T=t("<label />",{"for":"password"}).addClass("form-input__label").html(C),w=t("<input />",{type:"password",id:"registrationPassword",autocomplete:"off","min-length":"8",maxlength:"70","data-pwd-toggle":"true"}).addClass("form-input__field invalid"),S=t("<div />").addClass("form-input body__m-top-small").html(T).append(w),b=t("<div/>").addClass("pwd-meter-required").attr("id","dualSignIn-password-meter");return $confirmPasswordText=t("<span />").html("Confirm Password:").prepend(n.clone()),$confirmPasswordLabel=t("<label />",{"for":"confirmPassword"}).addClass("form-input__label").html($confirmPasswordText),$confirmPasswordInput=t("<input />",{type:"password",id:"confirmPassword",autocomplete:"off",maxlength:"70","data-pwd-toggle":"true"}).addClass("form-input__field invalid"),$confirmPasswordHolder=t("<div />").addClass("form-input body__m-top-small").html($confirmPasswordLabel).append($confirmPasswordInput),$proCustomerCheckbox=t("<input />",{type:"checkbox",id:"proCustomer",autocomplete:"off",name:"contaractorortradesman"}).addClass("checkbox-btn__input"),$checkBoxText=t("<span />").html("I am a professional contractor, tradesman or remodeler. <i>(optional)</i>"),$CheckBoxLabel=t("<label />",{"for":"proCustomer"}).addClass("checkbox-btn__label").html($checkBoxText),$proCustomerHolder=t("<div />").addClass("checkbox-btn body__m-top-small").html($proCustomerCheckbox).append($CheckBoxLabel),$buttonText=t("<span />").addClass("bttn__content").html("REGISTER"),$buttonRegister=t("<button />",{id:"accountRegister",disabled:"disabled"}).addClass("bttn bttn--primary body__m-top-small disabled").html($buttonText),$createAccountModal=t("<div />").addClass("createAccountModalForm"),$content=t("<form />",{method:"post",name:"createAccount",id:"createAccount"}),$createAccountModal.html(i),a.getRegistrationLite()||($createAccountModal.append(c),$createAccountModal.append(m),$createAccountModal.append(v)),$createAccountModal.append(I),$createAccountModal.append(S),$createAccountModal.append(b),a.getRegistrationLite()?$createAccountModal.append(v):$createAccountModal.append($confirmPasswordHolder),$createAccountModal.append($proCustomerHolder),$createAccountModal.append($buttonRegister),$createAccountModal.append(l()),$content.html(e).append($createAccountModal),$content},u=function(e,n){var a=e.data("tab");t("li.tab--title").removeClass("tab--selected"),e.addClass("tab--selected"),"register"===a?(n.html(c()),r.pushRegisterTabEventInfo()):(n.html(d()),r.pushSignInTabEventInfo()),i.initToggle()},p=function(e){var a=t("<div/>",{id:"authenticationDualSignin"}).addClass("authentication--dualsignin"),i=t("<ul/>").addClass("authentication--dualsignin__tabs"),r=t("<li/>").addClass("tabs--signin__title tab--title").attr("data-tab","signin").html("Sign In"),s=t("<li/>").addClass("tabs--register__title tab--title").attr("data-tab","register").html("Register"),l=t("<div/>").addClass("body__p-sides-large body__p-bottom-large body__border-top--light tabs--content"),d=e?s:r;if(i.append(r).append(s),a.append(i).append(l),r.on("click",function(){u(t(this),l)}),s.on("click",function(){u(t(this),l)}),o.getIsMobileChannel())var c="auto",p="20px";else{var c="450px";p=""}if(n.showModal(a,void 0,void 0,{width:c,height:"auto","border-radius":"8px",background:"none",margin:p}),u(d,l),a.parent().attr("style","padding: 0px;"),o.getIsMobileChannel()){var f=window.innerHeight-(t("li.tabs--register__title").height()+60)+"px";
l.addClass("tabs--content-overflow"),l.attr("style","max-height:"+f)}};return{showModal:p}}),function(e,t){"function"==typeof define&&define.amd?define("auth.helper",["jquery"],function(n){return t(e,n)}):t(e,jQuery)}(this,function(e,t){var n=function(e){return!e||""===e},a=function(e){return e.match(/^[\w]+?[ \w]+$/)},i=function(e,t){return e=e?""+e:"",e.length<Number(t)},o=function(e){return e.match(/^\d{5}(-\d{4})?$/)},r=function(e){var n=/^([a-zA-Z0-9_.-])+@((([a-zA-Z0-9-])+\.){1,3})([a-zA-Z0-9]{2,6})$/;return n.test(t.trim(e))};return{validateEmailAddress:r,isValidName:a,validateZipcode:o,validateEmpty:n,validateMinLength:i}}),function(e,t){"function"==typeof define&&define.amd?define("auth.signin.validation",["jquery","auth.constants","auth.helper","auth.analytics"],function(n,a,i,o){return t(e,n,a,i,o)}):t(e,jQuery,Constants,helper,analytics)}(this,function(e,t,n,a,i){var o=function(e){return i.pushAuthErrorEventInfo({errorMessage:e}),t("<span />").addClass("form-input-error__message").html(e)},r=function(e){e.next(".form-input-error__message").remove(),e.parents(".form-input").removeClass("form-input--error")},s=function(e){var n=t("<span />").addClass("alert-inline__tilte").html(e),a=t("<span />").addClass("alert-inline__message").html(n),o=t("<div />").addClass("alert-inline alert-inline--danger").html(a);return i.pushAuthErrorEventInfo({errorMessage:e}),o},l=function(e){e.prev(".alert-inline").remove()},d=function(e,t){var n=!1;return c(e)&&u(t)&&(n=!0),n},c=function(e){r(e);var t="",i=e.val();return a.validateEmpty(i)?t=n.ERROR.EMAIL_EMPTY_ERR:a.validateEmailAddress(i)||(t=n.ERROR.EMAIL_FORMAT_ERR),""!==t&&(e.parents(".form-input").addClass("form-input--error"),o(t).insertAfter(e)),""===t},u=function(e){r(e);var t="",i=e.val();return a.validateEmpty(i)&&(t=n.ERROR.PASSWORD_EMPTY_ERR),""!==t&&(e.parents(".form-input").addClass("form-input--error"),o(t).insertAfter(e)),""===t},p=function(e,t){return l(e),""!==t&&s(t).insertBefore(e),""===t};return{validateSignIn:d,showErrorMessage:p,checkForEmailErrors:c,checkForPasswordErrors:u}}),function(e,t){"function"==typeof define&&define.amd?define("auth.signin",["jquery","account.utility","auth.constants","cookie-utils","auth.signin.validation","auth.analytics"],function(n,a,i,o,r,s){return t(e,n,a,i,o,r,s)}):t(e,jQuery,accountUtility,Constants,cookieUtils,signInValidation,analytics)}(this,function(e,t,n,a,i,o,r){var s=function(e,n){var s=t(document);s.on("blur","form#userLogin input#email_id",function(){o.checkForEmailErrors(t(this))}),s.on("blur","form#userLogin input#password",function(){o.checkForPasswordErrors(t(this))}),s.on("click","form#userLogin button#accountSignIn",function(d){d.preventDefault();var c=t(this),u=s.find("input#email_id"),p=s.find("input#password");if(o.validateSignIn(u,p)){var f=u.val(),m=p.val();l(f,m).done(function(n){if(n.logonId&&n.userId)try{var o=n.nonTlsEncodedActivityToken,s=n.logonId,l=n.encodedActivityToken;i.initializeCookieManager(),i.initializeMasterCookie(),i.createCookie(a.COOKIE_NONTLS_THD_AUTHORIZATION_TOKEN,o,a.COOKIE_EXPIRY_ONE_YEAR),i.createCookie(a.COOKIE_THD_USER_AUTH_STATUS,s,a.COOKIE_EXPIRY_ONE_YEAR),i.createCookie(a.COOKIE_THD_AUTHORIZATION_TOKEN,l,a.COOKIE_EXPIRY_ONE_YEAR)}catch(d){console.error("cookie failed to set",d)}r.pushSuccessfulSignInEventInfo(),t(document).trigger("updateUserStatus"),t.event.trigger("CART_RELOAD_CART_CONTENT"),"function"==typeof e?e():window.location.reload()}).fail(function(e){if("function"==typeof n)n();else{var t="Sorry. Try again";if(e&&e.responseText){var a=JSON.parse(e.responseText);t=a.errorDescription}o.showErrorMessage(c,t)}})}})},l=function(e,t){return n.triggerAJAXCall({url:a.URLS.AUTH_SIGNIN_URL,type:"POST",contentType:"application/x-www-form-urlencoded",data:"action=logon&client_id=internal_test&response_type=activity&client_type=internal&logonId="+encodeURIComponent(e)+"&password="+encodeURIComponent(t)+"&businessChannelId=-1&channel=INTERNAL_API&rememberMe=true",crossDomain:!0,dataType:"json",xhrFields:{withCredentials:!0}})};return{initiateSignIn:s}}),function(e,t){"function"==typeof define&&define.amd?define("auth.reg.validation",["jquery","auth.constants","auth.helper","account.utility","auth.modal","auth.analytics"],function(n,a,i,o,r,s){return t(e,n,a,i,o,r,s)}):t(e,jQuery,Constants,helper,accountUtility,authenticationModal,analytics)}(this,function(e,t,n,a,i,o,r){var s=function(e){return r.pushAuthErrorEventInfo({errorMessage:e}),t("<span />").addClass("form-input-error__message").html(e)},l=function(e){e.removeClass("invalid"),e.next(".form-input-error__message").remove(),e.parents(".form-input").removeClass("form-input--error")},d=function(){var e=t("div#authenticationDualSignin").find("form#createAccount"),n=e.find("#accountRegister");0===e.find(".invalid").length?n.removeClass("disabled").removeAttr("disabled"):n.addClass("disabled").attr("disabled")},c=function(e,t){return""!==t&&(e.addClass("invalid").parents(".form-input").addClass("form-input--error"),s(t).insertAfter(e)),d(),""===t},u=function(e){l(e);var t="",i=e.val();return a.validateEmpty(i)?t=n.ERROR.REGISTER_FIRST_NAME_EMPTY_ERR:a.isValidName(i)||(t=n.ERROR.REGISTER_FIRST_NAME_INVALID_ERR),c(e,t)},p=function(e){l(e);var t="",i=e.val();return a.validateEmpty(i)?t=n.ERROR.REGISTER_LAST_NAME_EMPTY_ERR:a.isValidName(i)||(t=n.ERROR.REGISTER_LAST_NAME_INVALID_ERR),c(e,t)},f=function(e){l(e);var t="",i=e.val();return a.validateEmpty(i)?t=n.ERROR.REGISTER_ZIPCODE_EMPTY_ERR:a.validateZipcode(i)||(t=n.ERROR.REGISTER_ZIPCODE_INVALID_ERR),c(e,t)},m=function(e){return i.triggerAJAXCall({url:n.URLS.EMAIL_VERIFICATION_URL,type:"POST",data:"email="+e,dataType:"jsonp",jsonpCallback:"parseResponse",async:!1})},_=function(e){l(e);var t="",i=e.val();return a.validateEmpty(i)?(t=n.ERROR.EMAIL_EMPTY_ERR,c(e,t)):a.validateEmailAddress(i)?m(i).done(function(a){return a?(a.response.result!==!1||a.response.proCrtAcct?(a.error!==!0||a.response.proCrtAcct)&&a.response.proCrtAcct:(window.showSignIn=o.showModal,t=n.ERROR.REGISTER_EMAIL_EXISTS_ERR),c(e,t),""===t):void 0}).fail(function(e){return!0}):(t=n.ERROR.EMAIL_FORMAT_ERR,c(e,t)),""===t},h=function(e,t){l(e);var i="",o=e.val();return a.validateEmpty(o)?i=n.ERROR.PASSWORD_EMPTY_ERR:a.validateMinLength(o,e.attr("min-length"))?i=n.ERROR.REGISTER_PASSWORD_INVALID_ERR:e.data("strength")<1?i=n.ERROR.REGISTER_PASSWORD_WEAK_ERR:t.length>0&&!a.validateEmpty(t.val())&&g(e,t),c(e,i)},g=function(e,t){l(t);var i="",o=t.val();return a.validateEmpty(o)?i=n.ERROR.REGISTER_CONFIRM_EMPTY_ERR:e.val()!==o&&(i=n.ERROR.REGISTER_CONFIRM_MATCH_ERR),c(t,i)},v=function(){return!0},E=function(e){var t=!1;return i.getRegistrationLite()?f(e.$zipCode)&&_(e.$emailAddress)&&h(e.$password,e.$confirmPassword)&&(t=!0):u(e.$firstName)&&p(e.$lastName)&&f(e.$zipCode)&&_(e.$emailAddress)&&h(e.$password,e.$confirmPassword)&&g(e.$password,e.$confirmPassword)&&(t=!0),t};return{validateRegister:E,showErrorMessage:v,checkForFirstNameErrors:u,checkForLastNameErrors:p,checkForZipCodeErrors:f,checkForEmailErrors:_,validatePassword:h,validateConfirmPassword:g}}),function(e,t){"function"==typeof define&&define.amd?define("password.meter",["jquery"],function(n){return t(e,n)}):t(e,e.jQuery)}(this,function(e,t){function n(e){t.extend(!0,l,e)}function a(){return l}function i(e){var n;(void 0!==l.passwordMeterDivId||null!==l.passwordMeterDivId)&&(n=t("#"+l.passwordMeterDivId),n.find("span[uid=l-pwd-strength-msg]").text(" "),n.find("table[uid=l-pwd-meter]").find("td").css("background-color","transparent"))}function o(e){void 0!==e&&null!==e?t("#"+e).attr("style","display:none !important"):(void 0!==l.passwordMeterDivId||null!==l.passwordMeterDivId)&&t("#"+l.passwordMeterDivId).attr("style","display:none !important")}function r(e){var n,a,i,o,r,s,d,c,u,p,f,m;if(void 0===l.passwordMeterDivId||null===l.passwordMeterDivId||""===t.trim(l.passwordMeterDivId))return!1;if(n=t("#"+l.passwordMeterDivId),a=n.find("div#l-passwordMeter"),0===a.length){for(i=t("<div/>").attr({"class":"l-control-group",id:"l-passwordMeter"}),l.overrideDefaultStyle||i.css({"font-family":'Helvetica Neue",Helvetica,sans-serif',color:"#777","font-size":"12px","font-weight":"bold"}),"no_label"!==l.passwordMeterLabel&&(o=t("<label>"+l.passwordMeterLabel+"</label>"),l.overrideDefaultStyle||o.css({"float":"left","margin-top":"1px"}),o.appendTo(i)),s=t("<div/>"),l.overrideDefaultStyle||s.css({"float":"left","margin-right":"10px","margin-left":"10px"}),s.appendTo(i),c=t("<table/>").attr({cellpadding:"0",cellspacing:"0",uid:"l-pwd-meter"}),l.overrideDefaultStyle||c.css({width:"291px",height:"16px","border-collapse":"collapse !important",border:"1px solid #ccc"}),c.appendTo(s),u=t("<tbody/>").appendTo(c),p=t("<tr/>"),f=t("<td/>"),l.overrideDefaultStyle||f.css({"border-collapse":"collapse !important","border-right":"1px solid #ccc"}),f.appendTo(p),f=t("<td/>"),l.overrideDefaultStyle||f.css({"border-collapse":"collapse !important","border-right":"1px solid #ccc"}),f.appendTo(p),f=t("<td/>"),l.overrideDefaultStyle||f.css({"border-collapse":"collapse !important","border-right":"1px solid #ccc"}),f.appendTo(p),u.append(p),r=t("<span/>").attr("uid","l-pwd-strength-msg"),l.overrideDefaultStyle||r.css({"text-transform":"uppercase",display:"inline-block","font-weight":"bolder"}),r.appendTo(i),c=t("<table/>").addClass("tbl-hints"),c.appendTo(i),u=t("<tbody/>").appendTo(c),p=t("<tr/>"),f=t("<td/>").attr("colspan","3").addClass("hints").appendTo(p),m=t("<ul/>"),d=0;d<l.passwordHints.length;d++)t("<li/>").html(l.passwordHints[d]).appendTo(m);m.appendTo(f),u.append(p),n.append(i),"function"==typeof l.passwordMeterCallback&&l.passwordMeterCallback()}else void 0!==e&&null!==e?t("#"+e).attr("style","display:block !important"):n.attr("style","display:block !important")}function s(e,n){function a(e,n){var a=["12345678","123123123","123456789","987654321","1234567890","1q2w3e4r","1qaz2wsx","abcd1234","alexander","asdfasdf","asdfghjkl","baseball","chocolate","computer","football","homedepot","homedepot123","iloveyou","internet","jennifer","liverpool","michelle","password","password1","princess","qwertyuiop","sunshine","superman","testpassword","trustno1","welcome1","whatever","abcdefghi","abcdefgh","12345678"];if(n=void 0!==n?n:"",e.length<8||t.inArray(e.toLowerCase(),a)>-1||e.toLowerCase().split(e[0].toLowerCase()).length-1==e.length||e.toLowerCase()===t.trim(n.toLowerCase()))return 0;var i=0;return/[a-z]/.test(e)&&i++,/[A-Z]/.test(e)&&i++,/\d/.test(e)&&i++,0==/^[a-zA-Z0-9- ]*$/.test(e)&&i++,i>1&&e.length>12||i>2&&e.length>8?2:1}function o(e,n,i){n=void 0!==n?n:"";var o=a(e,n),r="weak",s="#BE081E";switch(o){case 2:r=i.passwordMeterConfig.strongConfig.text,s=i.passwordMeterConfig.strongConfig.color;break;case 1:r=i.passwordMeterConfig.goodConfig.text,s=i.passwordMeterConfig.goodConfig.color;break;default:r=i.passwordMeterConfig.weakConfig.text,s=i.passwordMeterConfig.weakConfig.color}if(void 0!==i.passwordMeterDivId||null!==i.passwordMeterDivId){var l=t("#"+i.passwordMeterDivId);l.find("span[uid=l-pwd-strength-msg]").text(r),l.find("span[uid=l-pwd-strength-msg]").css("color",s),l.find("table[uid=l-pwd-meter]").find("td").css("background-color","transparent"),l.find("table[uid=l-pwd-meter]").find("td:lt("+(o+1)+")").css("background-color",s)}return o}if(void 0===e||null===e)return 0;var r=e.val();return""===t.trim(r)?(i(),0):o(r,n,l)}var l={overrideDefaultStyle:!1,passwordMeterLabel:"Password&nbsp;Strength:",passwordMeterConfig:{weakConfig:{text:"weak",color:"#ED1C24"},goodConfig:{text:"good",color:"#FFC20E"},strongConfig:{text:"strong",color:"#00AE4D"}},passwordHints:["Minimum of 8 characters","Cannot be a commonly used password","Passwords are case sensitive"]};return{set:n,get:a,reset:i,generate:r,hide:o,validatePassword:s}}),function(e,t){"function"==typeof define&&define.amd?define("auth.registeration",["jquery","account.utility","auth.constants","cookie-utils","auth.reg.validation","password.meter","auth.analytics"],function(n,a,i,o,r,s,l){return t(e,n,a,i,o,r,s,l)}):t(e,jQuery,accountUtility,Constants,cookieUtils,regValidation,passwordMeter,analytics)}(this,function(e,t,n,a,i,o,r,s){r.set({passwordMeterDivId:"dualSignIn-password-meter",passwordMeterLabel:"no_label",overrideDefaultStyle:!0,passwordMeterCallback:function(){}});var l=function(e,a){var i=t(document);i.on("blur","form#createAccount input#email_id",function(e){o.checkForEmailErrors(t(this))}),i.on("keyup","form#createAccount input#registrationPassword",function(e){var n=t("form#createAccount input#email_id").val();t(this).data("strength",r.validatePassword(t(this),n))}),i.on("blur","form#createAccount input#registrationPassword",function(e){var n=t("form#createAccount input#confirmPassword");o.validatePassword(t(this),n),r.hide()}).on("focus","form#createAccount input#registrationPassword",function(e){r.generate()}),i.on("blur","form#createAccount input#zipcode",function(e){o.checkForZipCodeErrors(t(this))}),n.getRegistrationLite()||(i.on("blur","form#createAccount input#firstName",function(e){o.checkForFirstNameErrors(t(this))}),i.on("blur","form#createAccount input#lastName",function(e){o.checkForLastNameErrors(t(this))}),i.on("blur","form#createAccount input#confirmPassword",function(e){var n=t("form#createAccount input#registrationPassword");o.validateConfirmPassword(n,t(this))})),i.on("click","form#createAccount button#accountRegister",function(n){n.preventDefault();var r={};if(r.$firstName=t("form#createAccount input#firstName"),r.$lastName=t("form#createAccount input#lastName"),r.$zipCode=t("form#createAccount input#zipcode"),r.$emailAddress=t("form#createAccount input#email_id"),r.$password=t("form#createAccount input#registrationPassword"),r.$confirmPassword=t("form#createAccount input#confirmPassword"),o.validateRegister(r)){var s=r.$firstName.val()||"Self",l=r.$lastName.val()||"Self",c=r.$zipCode.val(),u=r.$emailAddress.val(),p=r.$password.val(),f=r.$confirmPassword.val()||r.$password.val(),m=i.find("form#createAccount input[name=contaractorortradesman]").is(":checked"),_="firstName="+encodeURIComponent(s)+"&lastName="+encodeURIComponent(l)+"&zipCode="+encodeURIComponent(c)+"&emailId="+encodeURIComponent(u)+"&password="+encodeURIComponent(p)+"&confirmPassword="+encodeURIComponent(f)+"&channel=INTERNAL_API&client_type=internal&response_type=activity&client_id=internal_test&businessChannelId=-1&rememberMe=true&registrationLite=true&isContractorOrTradesman="+m;d(_,e,a)}})},d=function(e,r,l){c(function(d){t.support.cors=!0;var c=n.getRegistrationLite()?a.URLS.AUTH_REGISTER_LITE_URL:a.URLS.AUTH_REGISTER_URL;n.triggerAJAXCall({url:c,type:"POST",contentType:"application/x-www-form-urlencoded",data:e,crossDomain:!0,cache:!1,xhrFields:{withCredentials:!0,Authorization:d}}).done(function(e){if(e.logonId&&e.userId)try{var n=e.nonTlsEncodedActivityToken,o=e.logonId,l=e.encodedActivityToken;i.initializeMasterCookie(),i.createCookie(a.COOKIE_NONTLS_THD_AUTHORIZATION_TOKEN,n,a.COOKIE_EXPIRY_ONE_YEAR),i.createCookie(a.COOKIE_THD_USER_AUTH_STATUS,o,a.COOKIE_EXPIRY_ONE_YEAR),i.createCookie(a.COOKIE_THD_AUTHORIZATION_TOKEN,l,a.COOKIE_EXPIRY_ONE_YEAR)}catch(d){console.error("cookie failed to set",d)}s.pushSuccessfulRegisterEventInfo(),t(document).trigger("updateUserStatus"),"function"==typeof r?r():window.location.reload()}).fail(function(e){if("function"==typeof l)l();else{var t="Sorry. Try again";e&&e.responseJSON&&(t=e.responseJSON.errorDescription),o.showErrorMessage(t)}})})},c=function(e){var t=(new Date).getTime();n.verifyAuthorizationToken()?e(n.getAuthorizationToken()):n.triggerAJAXCall({type:"GET",url:a.URLS.GUEST_AUTH_TOKEN_URL+"&cache="+t,cache:!1,dataType:"json",async:!0},!0).done(function(t){t&&t.hasOwnProperty("encodedActivityToken")&&"guest"==t.logonId&&(authorizationToken=t.encodedActivityToken,e(authorizationToken))}).fail(function(e){console.error("In error block",JSON.stringify(e))})};return{initiateRegisteration:l}}),function(e,t){"function"==typeof define&&define.amd?define("auth.service",["jquery","auth.modal","auth.signin","auth.registeration"],function(n,a,i,o){return t(e,n,a,i,o)}):t(e,jQuery,authenticationModal,signIn,register)}(this,function(e,t,n,a,i){var o=function(e,t,o){n.showModal(e),a.initiateSignIn(t,o),i.initiateRegisteration(t,o)};return{showDualSignInModal:o}}),function(e,t){"function"==typeof define&&define.amd?define("list.service",["jquery","account.utility","list.model","list.create","account.tooltip","list.message","list.show","auth.service","list.constants","account.modal","list.analytics"],function(n,a,i,o,r,s,l,d,c,u,p){return t(e,n,a,i,o,r,s,l,d,c,u,p)}):t(e,jQuery,accountUtility,model,createList,toolTip,message,dialog,authentication,Constants,modal,analytics)}(this,function(e,t,n,a,i,o,r,s,l,d,c,u){var p=!1,f=function(){t(document).trigger({type:"hideHeaderDropdowns"})},m=function(e){a.setRequestParams(e),f(),n.verifyAuthorizationToken()?g():h()},_=function(){var e={type:"GET",url:d.URLS.GET_FEATURE_LIST_URL,contentType:"application/json",accept:"application/json",dataType:"json",xhrFields:{withCredentials:!0}},a=n.triggerAJAXCall(e,!0);a.done(function(e){var n=[];e&&e.FeatureResponse&&e.FeatureResponse.featureSwitch&&(n=e.FeatureResponse.featureSwitch,t.each(n,function(e,t){sessionStorage.setItem(t.featureName,t.intValue)}))})},h=function(){sessionStorage&&!sessionStorage.getItem("RegistrationLiteFeature")&&_();var e=t("<a />").addClass("u__default-link").html("signing in"),i=t("<a />").addClass("u__default-link").html("creating an account"),s=t("<div />",{id:"authenticationOptions"}).addClass("auth-content");s.html("Save to your list by ").append(e).append(" or ").append(i).append(" today.");var d=t("<h2 />").html("Save to List"),p={height:"auto; min-height: 60px;"};"checkavailability"===a.getSource()?c.showModal(s,d,!1,p):o.showTooltip(s,{$trigger:a.getTrigger()}),u.pushSignInEventInfo(),e.on("click",function(e){e.preventDefault(),o.hideTooltip(),c.hideModal(),l.showDualSignInModal(!1,function(){c.hideModal(),n.verifyAuthorizationToken()?g():r.showGenericError(a.getTrigger())})}),i.on("click",function(e){e.preventDefault(),o.hideTooltip(),c.hideModal(),l.showDualSignInModal(!0,function(){c.hideModal(),n.verifyAuthorizationToken()?g():r.showGenericError(a.getTrigger())})})},g=function(){if(!p){var e=n.getUserId(),t=n.getAuthorizationToken();if(e&&Number(e)>1){p=!p;var a={type:"GET",url:d.URLS.GET_ALL_LIST_URL(e),contentType:"application/json",dataType:"json",xhrFields:{withCredentials:!0},beforeSend:function(e){e.setRequestHeader("Authorization",t)}},i=n.triggerAJAXCall(a,!0);i.done(function(e){v(e)}).fail(function(e){E(e)}).always(function(){p=!p})}else h()}},v=function(e){if(e&&e.ListResponse&&e.ListResponse.list){var t=e.ListResponse.list;s.showListModal(t),u.pushSaveToListEventInfo()}},E=function(e){var n=e&&e.responseText&&JSON.parse(e.responseText)?JSON.parse(e.responseText):null;if(n&&n.ListResponse&&n.ListResponse.errorData&&n.ListResponse.errorData.errors&&n.ListResponse.errorData.errors.length>0&&n.ListResponse.errorData.errors[0].id===d.getCode("ERR_CD_EMPTY_LIST_OF_LISTS")){var s=i.getContentForCreateList(!1);if("checkavailability"===a.getSource()){var l=t("<h2 />").html("Create a List"),p={height:"auto; min-height: 60px;"};c.showModal(s,l,!1,p)}else o.showTooltip(s,{$trigger:a.getTrigger()});u.pushCreateListEventInfo()}else 401===e.status?h():r.showGenericError(a.getTrigger())},R=function(){var e=THD.MyAccount.List=THD.MyAccount.List||{};e.saveToList=m},y=n.getThrottleStatus();return{save:m,hasMCMListThrottle:y,createNameSpace:R}}),function(e,t){"function"==typeof define&&define.amd?define("account.mylist",["jquery","list.service"],t):t(jQuery,listService)}(this,function(e,t){return{saveToList:function(e){t.save(e)},isMyListThrottled:t.hasMCMListThrottle}});