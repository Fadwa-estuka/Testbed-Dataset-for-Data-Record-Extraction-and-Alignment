BrightTag.Blab.group('domready').wait(function () {
BrightTag.instance.dbe('top level category name', 'MACYS.brightTag.category.topLevelCategoryName.toLowerCase()', {pageId:11407});
BrightTag.instance.dbe('fob category name', 'category.fobCategoryName.toLowerCase()', {pageId:11407});
BrightTag.instance.dbe('top 6 search results array - for facebook only', '(function() {\r\n    if (MACYS \x26\x26 MACYS.brightTag \x26\x26 MACYS.brightTag.category) {\r\n        var prodArray \x3d [];\r\n        var products \x3d MACYS.brightTag.category.topProducts.split(\x22,\x22);\r\n        for (\r\n            var i \x3d 0, max \x3d products.length; i \x3c max; ++i) {\r\n            prodArray.push({\r\n                productID: products[i]\r\n            });\r\n        }\r\n        return prodArray;\r\n    }\r\n})();', {pageId:11407});
try { BrightTag.instance.appendContent('\x3cscript type\x3d\x27text/javascript\x27\x3e\n        (function() {\n          var items \x3d [],\n            prdArr \x3d [],\n            varsString \x3d (";u11\\x3d"+bt_data(\x27top level category name\x27)+";u14\\x3d"+bt_data(\x27fob category name\x27)).replace(/\\s+/g, \x27%20\x27);\n\n          if (!BrightTag.Types.isArray(items)) {\n            items \x3d [items];\n          };\n\n          var addIfDefined \x3d function(fieldName, keyStr, indexStr) {\n            if (fieldName) {\n              prdArr.push(keyStr + indexStr + \x22:\x22 + fieldName);\n            }\n          }\n\n          BrightTag.Util.each(items, function(prod, index) {\n            var indexStr \x3d (index + 1);\n            addIfDefined(prod[\x22\x22], \x22i\x22, indexStr);\n            addIfDefined(prod[\x22\x22], \x22p\x22, indexStr);\n            addIfDefined(prod[\x220\x22], \x22q\x22, indexStr);\n            addIfDefined(prod[\x22\x22], \x22c\x22, indexStr);\n            addIfDefined(prod[\x22\x22], \x22l\x22, indexStr);\n            addIfDefined(prod[\x22\x22], \x22a\x22, indexStr);\n          });\n\n          BrightTag.Content.iframe(\x22https://3856256.fls.doubleclick.net/activityi;src\x3d3856256;type\x3dmacys001;cat\x3dallpages\x22 + varsString + \x22;ord\x3d'+eval('Math.random()*10000000000000')+';prd\x3d\x22 + prdArr.join(\x22|\x22), {display: \x27none\x27});\n        })();\n      \x3c/script\x3e',{tagId:26927});
} catch(e) { bt_handle_exception(e); }
BrightTag.instance.appendContent('\x3cscript type\x3d\x22text/javascript\x22 src\x3d\x22//admin.brightcove.com/js/BrightcoveExperiences.js\x22\x3e\x3c/script\x3e\n\x3cscript type\x3d\x22text/javascript\x22 src\x3d\x22//admin.brightcove.com/js/APIModules_all.js\x22\x3e\x3c/script\x3e\n',{tagId:1246931});
BrightTag.instance.appendContent('\x3cscript\x3e\nif (window.attachEvent) {\n    window.attachEvent(\x27onload\x27, gaPageView);\n} else if (window.addEventListener) {\n    window.addEventListener(\x27load\x27, gaPageView, false);\n}\nfunction gaPageView(){\n    ga(\x27create\x27, \x27UA-63017854-1\x27, \x27auto\x27);\n    var params \x3d {};\n    if(bt_cookie(\x27SignedIn\x27)) { \n        if( bt_cookie(\x27SignedIn\x27) \x3d\x3d \x271\x27) {\n            params.dimension4\x3d \x27yes\x27; \n            ga(\x27set\x27, \x27userId\x27, bt_cookie(\x27macys_online_uid\x27)); // Set the user ID using macys_online_uid cookie\n        }\n        else if( bt_cookie(\x27SignedIn\x27) \x3d\x3d \x270\x27) \n            params.dimension4\x3d \x27no\x27;\n    }\n    var bt \x3d MACYS.brightTag;\n    if(bt \x26\x26 bt.category \x26\x26 bt.category.categoryName){\n            params.dimension1 \x3d bt.category.categoryName;\n    }\n    if(bt \x26\x26 bt.category ){\n        \n        if(bt.category.categoryName)\n            params.dimension1 \x3d bt.category.categoryName;\n        if(bt.category.topLevelCategoryName)\n            params.dimension5 \x3d bt.category.topLevelCategoryName;\n    }\n     \n    if(bt \x26\x26 bt.navigation \x26\x26 $(\x27#catalogNotFoundContainer\x27).length \x3c\x3d 0){\n        ga(\x27send\x27,\x27pageview\x27,params);    \n    } \n}\n\n\x3c/script\x3e',{tagId:3066527});
BrightTag.instance.appendContent('\x3cscript type\x3d\x22text/javascript\x22\x3e\n        (function (f) {\n          var n \x3d function () {\n            n.callMethod ? n.callMethod.apply(n,arguments) : n.queue.push(arguments);\n          },\n            standardOptions \x3d "PageView",\n            fbObject \x3d {},\n            fbObject0 \x3d {},\n            fbObject1 \x3d {};\n          f.fbq \x3d f.fbq ? f.fbq : n;\n          f._fbq \x3d f._fbq ? f._fbq : n;\n          n.push \x3d n;\n          n.loaded \x3d !0;\n          n.version \x3d \x272.0\x27;\n          n.agent \x3d \x27sig\x27;\n          n.queue \x3d [];\n          f.fbq(\x27init\x27, "1452253051755031");\n          var items \x3d []\n          var contentID \x3d [];\n            BrightTag.each(items, function(item) {\n              BrightTag.each([{key:"content_ids",value:""}], function(prop0) {\n                contentID.push(item[prop0.value]);\n              });\n              fbObject0 \x3d {\x22content_ids\x22:JSON.stringify(contentID)}\n            });\n            BrightTag.each([{key:"value",value:""}], function(prop) {\n              if (prop.value) {\n                fbObject1[prop.key] \x3d prop.value;\n              }\n            });\n            fbObject \x3d BrightTag.Util.extend(fbObject0,fbObject1);\n            f.fbq(\x27track\x27, standardOptions, fbObject);\n        })(window);\n      \x3c/script\x3e\n      \x3cscript async type\x3d\x22text/javascript\x22 src\x3d\x22//connect.facebook.net/en_US/fbevents.js\x22\x3e\x3c/script\x3e',{tagId:3617096});
BrightTag.instance.appendContent('\x3cscript type\x3d\x22text/javascript\x22\x3e\n        (function (f) {\n          var n \x3d function () {\n            n.callMethod ? n.callMethod.apply(n,arguments) : n.queue.push(arguments);\n          },\n            standardOptions \x3d "Search",\n            fbObject \x3d {},\n            fbObject0 \x3d {},\n            fbObject1 \x3d {};\n          f.fbq \x3d f.fbq ? f.fbq : n;\n          f._fbq \x3d f._fbq ? f._fbq : n;\n          n.push \x3d n;\n          n.loaded \x3d !0;\n          n.version \x3d \x272.0\x27;\n          n.agent \x3d \x27sig\x27;\n          n.queue \x3d [];\n          f.fbq(\x27init\x27, "1452253051755031");\n          var items \x3d bt_data(\x27top 6 search results array - for facebook only\x27)\n          var contentID \x3d [];\n            BrightTag.each(items, function(item) {\n              BrightTag.each([{key:"content_ids",value:"productID"}], function(prop0) {\n                contentID.push(item[prop0.value]);\n              });\n              fbObject0 \x3d {\x22content_ids\x22:JSON.stringify(contentID)}\n            });\n            BrightTag.each([{key:"content_type",value:"product"}], function(prop) {\n              if (prop.value) {\n                fbObject1[prop.key] \x3d prop.value;\n              }\n            });\n            fbObject \x3d BrightTag.Util.extend(fbObject0,fbObject1);\n            f.fbq(\x27track\x27, standardOptions, fbObject);\n        })(window);\n      \x3c/script\x3e\n      \x3cscript async type\x3d\x22text/javascript\x22 src\x3d\x22//connect.facebook.net/en_US/fbevents.js\x22\x3e\x3c/script\x3e',{tagId:4007363});
});
