usingNamespace("Biz.Polls")["checkOption"] = function (o, v) {Web.UI.Form.setValue("braFormYouTellUs", "viewPoll", v);if ((v == "0" && o && !String.isNullOrEmpty(o.value)) || v == "1") {Web.UI.Form.submit("braFormYouTellUs");};};usingNamespace("Biz.Common")["NewsletterSingup"] = {sflag: false,verify: function (f) {var msg, errorMsg;var emptyField = "";f = eval("document." + f);if (String.isNullOrEmpty(f.LoginName.value)) {errorMsg = "- " + Web.Lang.emailFieldEmpty;emptyField += "\n" + errorMsg;} else if (!Biz.Common.Validation.isEmail(f.LoginName.value)) {errorMsg = "- " + Web.Lang.emailAddressInvalid;emptyField += "\n" + errorMsg;};if (!emptyField) {    return true; };msg = "______________________________________________________\n\n";msg += Web.Lang.requestErrorDescription + ".\n";msg += Web.Lang.correctErrorDescription + ":\n";msg += "______________________________________________________\n";if (emptyField) {msg += emptyField + "\n\n";};alert(msg);return false;},hiddenframe: function (oid) {var o = $(oid);if (o) {Web.UI.Control.setAttribute(o, { "style.display": "none" });};},showframe: function (oid, f, fn) {var o = $(oid);if (o) {if (Biz.Common.NewsletterSingup.sflag) {Web.UI.Control.setAttribute(o, { "style.display": "" });Web.UI.Form.setValue(f, fn, Web.Lang.enterEmail);Biz.Common.NewsletterSingup.sflag = false;} else {Web.UI.Control.setAttribute(o, { "style.display": "none" });};};},nSubmit: function (f, fn) {Biz.Common.NewsletterSingup.sflag = true;var flag = Biz.Common.NewsletterSingup.verify(f);return flag;},submit: function (f) {if (Biz.Common.NewsletterSingup.verify(f)) {Web.UI.Form.submit(f);};}};usingNamespace("Biz.Common")["TopNavigation"] = {login: function () {var rtv = [];var wces = Web.Config.Environment.SSLPage;var loginName = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "CONTACTWITH");var loginID = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID6");if (!String.isNullOrEmpty(loginID)) {rtv.push("<span class=\"loginName\">" + loginName.encodeHtml() + "</span>");rtv.push("<span>&nbsp;[<a href=\"" + wces.Loginout + "\" rel=\"nofollow\">" + Web.Lang.logOut + "</a>]</span>");} else {rtv.push("<span class=\"loginName\">[<a href=\"" + wces.Login + "\" rel=\"nofollow\">" + Web.Lang.login + "</a>]</span>");};document.write(rtv.join(""));},cart: function () {var rtv = [];var wces = Web.Config.Environment.SSLPage;var crtUrl = wces.Shoppingcart + "?Submit=view";var cartInfo = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CART).encodeHtml();if (!String.isNullOrEmpty(cartInfo)) {var cartList = cartInfo.split("|");if (cartList.length >= 3 && cartList[2].trim() == "1") {cartInfo = cartInfo.substring(0, (cartInfo.indexOf("|")) - 1)}if (cartInfo.indexOf("|") > 0) {rtv.push("<span class=\"item toRight\"><div class=\"toLeft\"><a href=\"" + crtUrl + "\" rel=\"nofollow\">" + cartInfo.replace("0 Item ", "" + Web.Lang.items + " ").replace("Item(s) ", "" + Web.Lang.items1 + " ").replace(" | ", "&nbsp;(") + ")</a></div></span>");}else {rtv.push("<span class=\"item toRight\"><div class=\"toLeft\"><a href=\"" + crtUrl + "\" rel=\"nofollow\">" + cartInfo.replace("0 Item ", "" + Web.Lang.items + " ").replace("Item(s) ", "" + Web.Lang.items1 + " ") + "</a></div></span>");}} else {rtv.push("<span class=\"item toRight\"><div class=\"toLeft\"><a href=\"" + crtUrl + "\" rel=\"nofollow\">" + Web.Lang.items + "&nbsp;(" + Web.Lang.currencyCode + " 0.00)</a></div></span>");};if (!String.isNullOrEmpty(cartInfo) && cartInfo.indexOf("(s)") != -1) {rtv.push("<span class=\"toRight\"><a href=\"" + crtUrl + "\" class=\"noline\"><img src=\"" + Web.UI.ResourceManager.Image.build("topCartFull.gif") + "\" alt=\"" + Web.Lang.shoppingCartwithItems + "\" title=\"" + Web.Lang.shoppingCartwithItems + "\" style=\"border:0;\" id=\"shoppingCart\" /></a></span>");} else {rtv.push("<span class=\"toRight\"><a href=\"" + crtUrl + "\" class=\"noline\"><img src=\"" + Web.UI.ResourceManager.Image.build("n1_topCartEmptyD.gif") + "\" alt=\"" + Web.Lang.emptyShoppingCart + "\" title=\"" + Web.Lang.emptyShoppingCart + "\" style=\"border:0;\" id=\"shoppingCart\" /></a></span>");};document.write(rtv.join(''));},b2bSiteLogoPageHeader2011: function (b2bUrl, isHomepage) {var loginID = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID6");var HolidayHeaderBody = Web.UI.Control.getElementsByClassName("holidayHeader11", null, "body");var isHolidayHeader = HolidayHeaderBody && HolidayHeaderBody.length > 0;if (String.isNullOrEmpty(loginID) && isHomepage) {var html = "<li class=\"top-tab tab-promo plain\" >";html += "<a href='" + b2bUrl + "'><img src='" + Web.UI.ResourceManager.Image.build(isHolidayHeader ? "bnrB2Btop_264x29_holiday11.png" : "bnrB2Btop_103x22.png") + "' alt='Upgrade to Newegg Business! click here'></a>";html += "</li>";document.write(html);} else {jQuery(".top-tab .holiday-13").show();}},loginPageHeader2011: function () {var rtv = [];var wces = Web.Config.Environment.SSLPage;var loginName = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "CONTACTWITH");var loginID = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID6");if (!String.isNullOrEmpty(loginID)) {if (String.isNullOrEmpty(jQuery.trim(loginName))) {loginName = Web.Lang.myAccount;}if (loginName.length > 30) {loginName = loginName.substring(0, 30);};rtv.push(" <button class=\"pseudo-dropdown-button button button-tertiary has-icon-right override\"  >");rtv.push(" <i class=\"pseudo-dropdown-icon-left user button-icon-left\"></i>");rtv.push(" <span>" + loginName.encodeHtml() + "</span>");rtv.push(" <i class=\"pseudo-dropdown-icon-right button-icon-right fa fa-caret-down\"></i>");rtv.push(" </button>");} else {rtv.push("<a href=\"" + wces.Login + "\" rel=\"nofollow\" onclick=\"javascript:void(0)\"  class=\"tab-not-logged-in\">" + Web.Lang.login2011 + "</a>");};document.write(rtv.join(""));},loginPageHeader2015: function () {var rtv = [];var wces = Web.Config.Environment.SSLPage;var loginName = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "CONTACTWITH");var loginID = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID6");if (!String.isNullOrEmpty(loginID)) {var isPremier = false;var tempPremierCookie = jQuery.trim(Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "NVS_CUSTOMERINFO_ISPREMIER"));var premier2016 = jQuery("#switch_premier2016").val() == "True";if (!String.isNullOrEmpty(tempPremierCookie)) {if (tempPremierCookie == "7EqIkr/7ZPEsWgaaEVIetg==") {isPremier = true;}}if (String.isNullOrEmpty(jQuery.trim(loginName))) {loginName = Web.Lang.myAccount;}if (loginName.length > 30) {loginName = loginName.substring(0, 30);};rtv.push(" <a href=\"javascript:void(0)\" class=\"top-nav-tab-name\">");if (isPremier && premier2016) {rtv.push(" <i class=\"icon-premier icon-premier-md\"></i>");}else {rtv.push(" <i class=\"top-nav-tab-icon fa fa-user\"></i>");}rtv.push(" <ins>" + loginName.encodeHtml() + "</ins>");rtv.push(" </a>");} else {rtv.push("<a href=\"" + wces.Login + "\" rel=\"nofollow\" onclick=\"javascript:void(0)\"  class=\"top-nav-tab-name logout\">" + Web.Lang.login2011 + "</a>");if (jQuery('#usaSite').find('.top-nav-menu').length > 0) {jQuery('#usaSite').find('.top-nav-menu').remove();jQuery('#usaSite').removeClass('has-menu');}};document.write(rtv.join(""));},bindHeaderToggleEvent: function () {jQuery(".top-tab > button").click(function () {if (jQuery(this).next(".tab-menu").css("display") == "block") {jQuery(this).next(".tab-menu").fadeToggle(200);} else {jQuery(".tab-menu").hide();jQuery(this).next(".tab-menu").fadeToggle(200);var timer;jQuery(this).parents("ul").hover(function (e) {clearTimeout(timer);}, function () {timer = setTimeout('jQuery(".tab-menu").hide()', 2000);});};});jQuery("body").click(function (e) {var target = e.target;if (target != undefined) target = window.target;if (!jQuery(e.target).parents("ul").hasClass("top-tabs")) {jQuery(".tab-menu").hide();};});},flagPageHeader: function () {var getRegionConfig = function (regionCode) {var regionConfig;if (Web.Config.Environment&& Web.Config.Environment.BizUnitRegion&& Web.Config.Environment.BizUnitRegion.Regions&& Web.Config.Environment.BizUnitRegion.Regions.length) {jQuery.each(Web.Config.Environment.BizUnitRegion.Regions, function (i, r) {if (r.Code == regionCode) {regionConfig = r;}});}return regionConfig;};var cfg = Web.StateManager.Cookies.Name.CFG;var currentRegionCode = Web.StateManager.Cookies.get(cfg, "RegionCode");currentRegionCode = currentRegionCode ? currentRegionCode : "USA";var currentCurrencyCode = Web.StateManager.Cookies.get(cfg, "CurrencyCode");currentCurrencyCode = currentCurrencyCode ? currentCurrencyCode : "USD";var currentRegionConfig = getRegionConfig(currentRegionCode);var getCurrencyConfig = function (regionConfig, filter) {var currency;if (regionConfig&& regionConfig.Currencys&& regionConfig.Currencys.length > 0) {currency = regionConfig.Currencys[0];jQuery.each(regionConfig.Currencys, function (i, c) {if (filter(c)) {currency = c;}});}return currency;};var getDefaultCurrencyConfig = function (regionConfig) {var filter = function (currencyConfig) {return currencyConfig.IsLocalCurrency;};return getCurrencyConfig(regionConfig, filter);};var getCurrencyConfigByCode = function (regionConfig, code) {var filter = function (currencyConfig) {return currencyConfig.Code == code;};return getCurrencyConfig(regionConfig, filter);};var currentCurrencyConfig = getDefaultCurrencyConfig(currentRegionConfig);var countryDropdown = jQuery("#NEGlobal-CountryDropdown select");var currencyDropdown = jQuery("#NEGlobal-CurrencyDropdown select");var targetRegionCode;var targetCurrencyCode;var browserLanguage = navigator.language || navigator.browserLanguage;var browserLanguage = browserLanguage && browserLanguage.toLowerCase();NEG.run(function (require) {var storage = require("Biz.Storage");if (currentRegionCode === "USA") {var cfg = Web.StateManager.Cookies.Name.CFG;var currentIsPopupSelectorInHomePage = storage.getItem("IsPopupSelectorInHomePage") || Web.StateManager.Cookies.get(cfg, "IsPopupSelectorInHomePage");var isPopupSelector = (currentIsPopupSelectorInHomePage != "0") ? true : false;if (isPopupSelector && browserLanguage && browserLanguage.indexOf("en-us") == -1) {jQuery(".flag-dropdown").addClass("is-active");var timeout = 30000;var timerLeave = setTimeout(function () {jQuery(".flag-dropdown").removeClass('is-active');}, timeout);jQuery(".flag-dropdown").mouseenter(function () {if (jQuery(".flag-dropdown").hasClass('is-active')) {if (timerLeave) clearTimeout(timerLeave);}});jQuery('body').bind('click', function (e) {if (typeof e.originalEvent != "undefined"&& (e.originalEvent.pageX > 0 && e.originalEvent.pageY > 0 || e.originalEvent.isTrusted)) {jQuery(".flag-dropdown").removeClass('is-active');if (timerLeave) clearTimeout(timerLeave);jQuery('body').unbind('click');}});}storage.setItem("IsPopupSelectorInHomePage", "0");}if (currentRegionCode != "USA") {storage.setItem("IsPopupSelectorInHomePage", "0");}});var doRedirect = function () {if (currentRegionCode != targetRegionCode) {currentRegionConfig = getRegionConfig(currentRegionCode);var targetRegionConfig = getRegionConfig(targetRegionCode);if (currentRegionConfig && targetRegionConfig) {if (Web.Config.FlashTabConfig && Web.Config.FlashTabConfig.FlashSettings) {for (var i = 0; i < Web.Config.FlashTabConfig.FlashSettings.length; i++) {if (Web.Config.FlashTabConfig.FlashSettings[i].RegionCode == targetRegionCode) {if (Web.Config.FlashTabConfig.FlashSettings[i].RedirectToFlash) {window.location = Web.Config.FlashTabConfig.Domain + "/global/" + targetRegionConfig.DisplayShortCode.toLowerCase();return;}}}}var currentPrefix = currentRegionConfig.IsDefault ? "" : "/global/" + currentRegionConfig.DisplayShortCode.toLowerCase();var targetPrefix = targetRegionConfig.IsDefault ? "" : "/global/" + targetRegionConfig.DisplayShortCode.toLowerCase();var targetPathname = window.location.pathname;if (currentPrefix) {var regex = new RegExp(currentPrefix, "i");targetPathname = targetPathname.replace(regex, targetPrefix);}else {targetPathname = targetPrefix + targetPathname;}var targetQueryString = window.location.search;window.location = window.location.protocol + "//" + window.location.host + targetPathname + targetQueryString + window.location.hash;}}else if (targetCurrencyCode != currentCurrencyCode) {window.location.reload();}};jQuery("#NEGlobal-UpdateButton").click(function () {NEG.run(function (require) {var storage = require("Biz.Storage");storage.setItem("IsPopupSelectorInHomePage", "0");});targetRegionCode = countryDropdown.val();if (!String.isNullOrEmpty(targetRegionCode)) {Web.StateManager.Cookies.save(cfg, { "RegionCode": targetRegionCode });}targetCurrencyCode = currencyDropdown.val();if (!String.isNullOrEmpty(targetCurrencyCode)) {Web.StateManager.Cookies.save(cfg, { "CurrencyCode": targetCurrencyCode });}jQuery.ajax({url: Web.UI.ResourceManager.Url.secure("Common/Ajax/MiniCartUpdate.aspx"),type: "POST",processData: false,cache: false,dataType: 'jsonp',jsonp: "callback",jsonpCallback: 'proxy',beforeSend: function () {setTimeout(function () {doRedirect();}, 5000);}}).done(function (data) {doRedirect();}).fail(function (data) {doRedirect();});});countryDropdown.on("change", function () {var regionTextNode = jQuery("#NEGlobal-CountryDropdown .form-select-name").length ? jQuery("#NEGlobal-CountryDropdown .form-select-name")[0].firstChild : undefined;var currencyTextNode = jQuery("#NEGlobal-CurrencyDropdown .form-select-name").length ? jQuery("#NEGlobal-CurrencyDropdown .form-select-name")[0].firstChild : undefined;var regionCode = jQuery(this).val();currentRegionConfig = getRegionConfig(regionCode);if (regionTextNode&& regionTextNode.nodeType == 3&& currencyTextNode&& currencyTextNode.nodeType == 3&& currentRegionConfig) {regionTextNode.nodeValue = currentRegionConfig.Name;var flagElement = jQuery("#NEGlobal-CountryDropdown .flag");if (flagElement) {jQuery.each(Web.Config.Environment.BizUnitRegion.Regions, function (i, r) {if (flagElement.hasClass(r.TwoLetterCode.toLowerCase())) {flagElement.removeClass(r.TwoLetterCode.toLowerCase());}});flagElement.addClass(currentRegionConfig.TwoLetterCode.toLowerCase());}var currentCurrencyConfig = getDefaultCurrencyConfig(currentRegionConfig);if (currentCurrencyConfig) {currencyTextNode.nodeValue = currentCurrencyConfig.Unit + " " + currentCurrencyConfig.Code;currencyDropdown.empty();jQuery.each(currentRegionConfig.Currencys, function (i, c) {var newOption;if (c.IsLocalCurrency) {newOption = new Option(c.Unit + " " + c.Code, c.Code, 'TRUE');newOption.setAttribute("selected", "selected");}else {newOption = new Option(c.Unit + " " + c.Code, c.Code);}currencyDropdown[0].options.add(newOption);});}}});currencyDropdown.on("change", function () {var textNode = jQuery("#NEGlobal-CurrencyDropdown .form-select-name").length ? jQuery("#NEGlobal-CurrencyDropdown .form-select-name")[0].firstChild : undefined;var currencyCode = jQuery(this).val();var currencyConfig = getCurrencyConfigByCode(currentRegionConfig, currencyCode);if (textNode&& textNode.nodeType == 3&& currencyConfig) {textNode.nodeValue = currencyConfig.Unit + " " + currencyConfig.Code;}});},premierPageHeader: function () {var isPremier = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "NVS_CUSTOMERINFO_ISPREMIER");if (!String.isNullOrEmpty(isPremier)) {var script = $("premierAjaxJS");if (script && script != null) {document.getElementsByTagName('head')[0].removeChild(script);}script = document.createElement("script");script.type = "text/javascript";script.id = 'premierAjaxJS';var paraSource = "&Source=" + location.href;script.src = Web.UI.ResourceManager.Url.www("Common/Ajax/PremierHeader.aspx") + "?Action=Biz.Common.TopNavigation.renderPremierHeader" + paraSource;document.getElementsByTagName('head')[0].appendChild(script);}},renderPremierHeader: function (isPremier, data, enableBackgroud) {if (isPremier) {document.getElementById('membership_bar').innerHTML = data;if (enableBackgroud) {document.getElementsByTagName('body')[0].className = document.getElementsByTagName('body')[0].className + " membership";}}},eduIpPageHeader: function () {NEG.run(function (require) {jQuery.ajax({url: Web.Config.Environment.Url.WWW + "Common/Ajax/CheckEDUByIP.aspx",type: "GET",dataType: "json",async: true,timeout: 3000,success: function (response) {if (response) {var str = response.toString();if (str && str.indexOf("true") > -1) {window.isEDUip = "true";} else {window.isEDUip = "false";}} else {window.isEDUip = "false";}}});});},specialPricePageHeader: function () {NEG.run(function (require) {var cookieUtility = require("Utility.Cookie");var specialPriceType = cookieUtility.get(Web.StateManager.Cookies.Name.SPT);var types = function (theString) {var result = [];if (!String.isNullOrEmpty(theString)) {var tempTypes = theString.split("x");for (var i = 0; i < tempTypes.length; i++) {if (!String.isNullOrEmpty(tempTypes[i])) {var temp = tempTypes[i].split("-");if (temp.length == 3) {result.push({ id: temp[0], type: temp[1], priority: parseInt(temp[2]) });}}}}return result;}(specialPriceType);var typeIsExists = function (array, type) {if (array && array.length) {for (var i = 0; i < array.length; i++) {if (array[i].type == type) {return true;}}}return false;};if (!typeIsExists(types, "0")) {jQuery.ajax({url: Web.Config.Environment.Url.WWW + "Common/Ajax/CheckStateByIP.aspx",type: "GET",dataType: "json",timeout: 3000,async: true,success: function (response) {if (response) {if (!typeIsExists(types, "0") && !response.isError) {var newCookieVal = new Array();jQuery(types).each(function (index, item) {if (item.type == "1") {newCookieVal.push(item);}});jQuery(response).each(function (index, item) {newCookieVal.push({ id: item.priceTypeId, type: item.type, priority: item.priority });});newCookieVal.sort(function (x, y) { return x.priority < y.priority; });var cookieMapping = Web.Config.CookieMapping[Web.StateManager.Cookies.Name.SPT];var option = {};if (null != cookieMapping) {if (cookieMapping[0] && cookieMapping[0].length > 0) {option.domain = cookieMapping[0];}if (String.isNullOrEmpty(cookieMapping[2])) {option.path = "/";} else {option.path = cookieMapping[2];}if (Boolean.parse(cookieMapping[3])) {option.secure = cookieMapping[3];}}cookieUtility.set(Web.StateManager.Cookies.Name.SPT, function (array) {var result = '';if (array && array.length > 0) {result += array[0].id + "-" + array[0].type + "-" + array[0].priority;for (var i = 1; i < array.length; i++) {result += "x" + array[i].id + "-" + array[i].type + "-" + array[i].priority;}}return result;}(newCookieVal), option);}}}});}});},cartPageHeader2011: function () {var rtv = [];var wces = Web.Config.Environment.SSLPage;var crtUrl = wces.Shoppingcart + "?Submit=view";var cartInfo = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CART, "", true).encodeHtml();if (arguments.length == 2) {var a = arguments[1];if (a != "") {cartInfo = a;};}var shoppingCartDescription;if (!String.isNullOrEmpty(cartInfo) && cartInfo.indexOf("(s)") != -1) {shoppingCartDescription = Web.Lang.shoppingCartwithItems;} else {shoppingCartDescription = Web.Lang.emptyShoppingCart;};if (!String.isNullOrEmpty(cartInfo)) {var cartList = cartInfo.split("|");if (cartList.length >= 3 && cartList[2].trim() == "1") {cartInfo = cartInfo.substring(0, (cartInfo.indexOf("|")) - 1)}rtv.push("<a class=\"icon cart\" href=\"" + crtUrl + "\" rel=\"nofollow\" title=\"" + shoppingCartDescription + "\">");if (cartInfo.indexOf("|") > 0 && (cartInfo.indexOf("0 Item") != 0)) {var tempStr = cartInfo.replace("0 Item ", "" + Web.Lang.items + " ").replace("Item(s) ", "" + Web.Lang.items1 + " ");var tempIndex = tempStr.indexOf("|");var tempLength = tempStr.length;rtv.push(tempStr.substring(tempIndex + 2, tempLength).decodeHtml());rtv.push(" (" + tempStr.substring(0, tempIndex - 1).replace("Item(s)", Web.Lang.items2).replace("Items(s)", "" + Web.Lang.items2) + ")");}else if (cartInfo.indexOf("|") > 0) {var tempIndex = cartInfo.indexOf("|");var tempStr = cartInfo.replace("0 Item ", "" + Web.Lang.items + " ").replace("Item(s) ", Web.Lang.items2 + " ");rtv.push(tempStr.substring(0, tempIndex));} else {rtv.push(cartInfo.replace("0 Item ", "" + Web.Lang.items + " ").replace("Item(s) ", Web.Lang.items2 + " "));}rtv.push("</a>");} else {rtv.push("<a class=\"icon cart\" href=\"" + crtUrl + "\" rel=\"nofollow\" title=\"" + shoppingCartDescription + "\">" + Web.Lang.items + "</a>");};if (arguments.length == 2) {var o = arguments[0];if (o) {o.html(rtv.join(''));}else {document.write(rtv.join(''));};}else {document.write(rtv.join(''));};},cartPageHeader2015: function (response) {var rtv = [];var wces = Web.Config.Environment.SSLPage;var crtUrl = wces.Shoppingcart + "?Submit=view";var cartInfo = "";if (response == null) {cartInfo = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CART, "", true).encodeHtml();} else {if (response.ajaxGetDataFail) {cartInfo = "";} else {cartInfo = !response.UseCookie ? response.ItemPrice.decodeCookieURI().encodeHtml() : Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CART, "", true).encodeHtml();}}if (arguments.length == 2) {var a = arguments[1];if (a != "") {cartInfo = a;};}var shoppingCartDescription;if (!String.isNullOrEmpty(cartInfo) && cartInfo.indexOf("(s)") != -1) {shoppingCartDescription = Web.Lang.shoppingCartwithItems;} else {shoppingCartDescription = Web.Lang.emptyShoppingCart;};if (!String.isNullOrEmpty(cartInfo)) {var cartList = cartInfo.split("|");if (cartList.length >= 3 && cartList[2].trim() == "1") {cartInfo = cartInfo.substring(0, (cartInfo.indexOf("|")) - 1)}rtv.push("<a class=\"top-nav-tab-name\" href=\"" + crtUrl + "\" rel=\"nofollow\" title=\"" + shoppingCartDescription + "\"><i class=\"top-nav-tab-icon fa fa-shopping-cart\"></i> <ins>");if (cartInfo.indexOf("|") > 0 && (cartInfo.indexOf("0 Item") != 0)) {var tempStr = cartInfo.replace("0 Item ", "" + Web.Lang.items + " ").replace("Item(s) ", "" + Web.Lang.items1 + " ");var tempIndex = tempStr.indexOf("|");var tempLength = tempStr.length;rtv.push(tempStr.substring(tempIndex + 2, tempLength));rtv.push(" (" + tempStr.substring(0, tempIndex - 1).replace("Item(s)", Web.Lang.items2).replace("Items(s)", "" + Web.Lang.items2) + ")");}else if (cartInfo.indexOf("|") > 0) {var tempIndex = cartInfo.indexOf("|");var tempStr = cartInfo.replace("0 Item ", "" + Web.Lang.items + " ").replace("Item(s) ", Web.Lang.items2 + " ");rtv.push(tempStr.substring(0, tempIndex));} else {rtv.push(cartInfo.replace("0 Item ", "" + Web.Lang.items + " ").replace("Item(s) ", Web.Lang.items2 + " "));}rtv.push("</ins></a>");} else {if (response != null && response.ajaxGetDataFail) {rtv.push("<a class=\"top-nav-tab-name\" href=\"" + crtUrl + "\" rel=\"nofollow\" role=\"button\" aria-label=\"View your shopping cart\" ><i class=\"top-nav-tab-icon fa fa-shopping-cart\"></i> <ins>" + "" + "</ins> </a>");} else {rtv.push("<a class=\"top-nav-tab-name\" href=\"" + crtUrl + "\" rel=\"nofollow\" title=\"" + shoppingCartDescription + "\"><i class=\"top-nav-tab-icon fa fa-shopping-cart\"></i> <ins>" + Web.Lang.items + "</ins> </a>");}};jQuery("#miniCart").append(rtv.join(''));},eggPointPageHeader2011: function (expireDays) {var rtv = [];var loginID = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID6");if (!String.isNullOrEmpty(loginID)) {var wces = Web.Config.Environment.SSLPage;var activePoints = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "NVS_CUSTOMERINFO_ACTIVE_POINTS");if (String.isNullOrEmpty(activePoints)) {activePoints = 0;}rtv.push("<span class=\"separator\">|</span>");rtv.push("<span class=\"eggpoints-header\">");rtv.push("<a class=\"noline\" rel=\"nofollow\" href=\"" + wces.ActivePoint + "\" onclick=\"\">" + activePoints + " EggPoints</a>");if (activePoints > 0 && expireDays >= 0) {var expireSoon = Web.Lang.expiresSoon;rtv.push("<span class=\"expire-popup\">");rtv.push("<span class=\"inner-wrap\">");rtv.push("<span>" + expireSoon + "</span>");rtv.push("<span class=\"arrow\"></span>");rtv.push("</span></span>");}rtv.push("</span>");}document.write(rtv.join(""));},refleshcartPageHeader2011: function () {var o = jQuery("#haInfoBarCart");if (o) {var v = "";if (arguments.length == 1) {v = arguments[0];}Biz.Common.TopNavigation.cartPageHeader2011(o, v);};},shoppingcartnumber: function () {var rtv = [];var wces = Web.Config.Environment.SSLPage;var cartInfo = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CART);if (!String.isNullOrEmpty(cartInfo)) {rtv.push(cartInfo.split(" ")[0]);}else {rtv.push("0");};document.write(rtv.join(''));},b2bTopBarInit: function () {var loginID = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID6");if (String.isNullOrEmpty(loginID)) {$("haInfoBarCenter").style.display = "none";$("haInfoBarCombine").style.display = "none";$("haInfoBarHelp").style.display = "none";}},setLink: function () {var loginID = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID6");if (!String.isNullOrEmpty(loginID)) {jQuery("#headerTrackOrder").attr("href", Web.Config.Environment.Url.Secure + "NewMyAccount/OrderHistory.aspx");jQuery("#findInvoice").attr("href", Web.Config.Environment.Url.Secure + "NewMyAccount/OrderHistory.aspx");jQuery("#headerReturnItem").attr("href", Web.Config.Environment.Url.Secure + "RMA/Returns.aspx");jQuery("#checkReturnStatus").attr("href", Web.Config.Environment.Url.Secure + "RMA/RMAHistory.aspx");jQuery("#emailNotificationFooterUrl").prop("href", Web.Config.Environment.Url.Secure + "NewMyAccount/EmailNotifications.aspx");}else {jQuery("#headerTrackOrder").attr("href", Web.Config.Environment.Url.Secure + "Guest/OrderLogin.aspx?Source=1");jQuery("#findInvoice").attr("href", Web.Config.Environment.Url.Secure + "Guest/OrderLogin.aspx?Source=4");jQuery("#headerReturnItem").attr("href", Web.Config.Environment.Url.Secure + "Guest/OrderLogin.aspx?Source=2");jQuery("#checkReturnStatus").attr("href", Web.Config.Environment.Url.Secure + "Guest/OrderLogin.aspx?Source=3");if (jQuery('.premier-hotline').length > 0) {jQuery('.premier-hotline').remove();}jQuery("#emailNotificationFooterUrl").prop("href", Web.Config.Environment.Url.Secure + "Guest/EmailNotifications.aspx");};}};usingNamespace("Biz.Common")["B2BLogin"] = function () {var recentOrderUrl = Web.UI.ResourceManager.Url.secure("/NewMyAccount/RecentOrder.aspx");var getRecentOrderData = function () {var script = $("b2bloginAjaxJs");if (script && script != null) {document.getElementsByTagName('head')[0].removeChild(script);}script = document.createElement("script");script.type = "text/javascript";script.id = 'b2bloginAjaxJs';script.src = recentOrderUrl;document.getElementsByTagName('head')[0].appendChild(script);};var initLogin = function () {jQuery("#UserName").val(Web.Lang.emailAddress).css("color", "#BABABA");jQuery("#UserPwd1").val(Web.Lang.password).css("color", "#BABABA");jQuery("#UserPwd2").val("");jQuery("#UserName").focus(function () {if (jQuery(this).val() == Web.Lang.emailAddress) {jQuery(this).val("").css("color", "#000").css("border-color", "#BABABA");}}).blur(function () {if (jQuery(this).val() == "") {jQuery(this).val(Web.Lang.emailAddress).css("color", "#BABABA");}});jQuery("#UserPwd1").focus(function () {jQuery(this).hide();jQuery("#UserPwd2").show().focus().css("color", "#000").css("border-color", "#BABABA");});jQuery("#UserPwd2").blur(function () {if (jQuery(this).val() == "") {jQuery(this).hide();jQuery("#UserPwd1").show().css("color", "#BABABA");}});};return {SetInit: function () {var loginID = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID6");if (loginID && loginID.length > 0) {getRecentOrderData();jQuery("#loginBefore").hide();jQuery("#loginAfter").show();} else {initLogin();jQuery("#loginBefore").show();jQuery("#loginAfter").hide();}},SetRecentOrderInit: function (ro) {if (ro && ro.code && ro.code == "0" && ro.t&& ro.id && ro.id.length > 0&& ro.l && ro.l.length > 0) {jQuery("#recentOrderNum").html("<a href=\"" + ro.l + "\">" + ro.id + "  - " + ro.t + "</a>").css("text-decoration", "none");jQuery("#recentOrderStatus").text(ro.s);} else {jQuery("#recentOrderNum").text(Web.Lang.noOrderRecord).css("text-decoration", "none");jQuery("#recentOrderStatus").text("");}},SetSBannerInit: function () {var loginID = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID6");if (loginID && loginID.length > 0) {jQuery("#SBannerBefore").hide();jQuery("#SBannerAfter").show();} else {jQuery("#SBannerBefore").show();jQuery("#SBannerAfter").hide();}},AccountLogin: function () {if (jQuery("#UserName").val() != Web.Lang.emailAddress && jQuery("#UserPwd2").val() != "") {Web.UI.Form.submit("BusinessLogin");}}};}();usingNamespace("Biz.Common")["Pagination"] = {go: function (n, p, e, f, t, fn, searchPanelVersion) {var order = $("Order_top");var ssn = null;try {if (searchPanelVersion) {ssn = Biz.SmartSearchPanel2013.Navigation;} else {ssn = Biz.SmartSearchPanel.Navigation;}} catch (e) {ssn = null;}if ((order != undefined && order.value == "10") || (ssn != null && ssn.preReq.issmart)) {var totalPage = parseInt($("totalPage_1").innerHTML, 10);if (p < 1) {p = 1;}if (p > totalPage) {p = totalPage;}$("currentPage_1").innerHTML = p;ssn.requestData();return;}p = Number.parse(p);var tid = Biz.Store;var cfg = Web.StateManager.Cookies.Name.CFG;if (p > 0) {if (tid && !String.isNullOrEmpty(cfg)) {if (tid.Subcategory) {Web.StateManager.Cookies.save(cfg, { "Tid": tid.Tid });};};if (f) { Biz.Common.Window1.loading(); };var name = String.isNullOrEmpty(e) ? "Page" : e;Web.UI.Form.setValue(n, name, p);fn ? fn.call(this, n) : Web.UI.Form.submit(n);};},goSeoUrl: function (p, f, url, searchPanelVersion) {var order = $("Order_top");var ssn = null;try {if (searchPanelVersion) {ssn = Biz.SmartSearchPanel2013.Navigation;} else {ssn = Biz.SmartSearchPanel.Navigation;}} catch (e) {ssn = null;}if ((order != undefined && order.value == "10") || (ssn != null && ssn.preReq.issmart)) {var totalPage = parseInt($("totalPage_1").innerHTML, 10);if (p < 1) {p = 1;}if (p > totalPage) {p = totalPage;}$("currentPage_1").innerHTML = p;ssn.requestData();return;}p = Number.parse(p);var tid = Biz.Store;var cfg = Web.StateManager.Cookies.Name.CFG;if (p > 0) {if (tid && !String.isNullOrEmpty(cfg)) {if (tid.Subcategory) {Web.StateManager.Cookies.save(cfg, { "Tid": tid.Tid });};};if (f) { Biz.Common.Window1.loading(); };window.location.href = url;};}};usingNamespace("Biz.Common")["initialize"] = function () {var cfgCookie = document.cookie.match(/NV%5FCONFIGURATION=.*?(;|$)/g);if (cfgCookie && cfgCookie.length > 1) {var expires = new Date();expires.setTime(expires.getTime() - 1000 * 60 * 60 * 24);document.cookie = 'NV%5FCONFIGURATION=;path=/;expires=' + expires.toString();}window.attachEvent("onload", (function () {Web.UI.Form.setValue("frmPaginationBottom", "Page", "");Biz.Common.SearchKeywords.saveExternalSearchKeywords();}));}();usingNamespace("Biz.Common")["Validation"] = {isEmail: function (s) {var patrn = /^[0-9a-zA-Z](?=([-.\w\+]*[0-9a-zA-Z_-]))\1*@(?=([0-9a-zA-Z][-.\w]*\.))\2+[a-zA-Z]{2,9}$/;return patrn.test(s);},getRegexString: function (s) {if (String.isNullOrEmpty(s)) { return ""; };return s.replace("\\", "\\\\").replace("?", "\\?").replace("*", "\\*").replace("$", "\\$").replace("^", "\\^").replace("|", "\\|").replace(".", "\\.").replace("(", "\\(").replace(")", "\\)").replace("[", "\\[").replace("]", "\\]").replace("{", "\\{").replace("}", "\\}").replace("+", "\\+").replace("@", "\\@").replace("#", "\\#").replace("%", "\\%").replace("&", "\\&");}};usingNamespace("Biz.Common")["VeriSign"] = {open: function () {var url = Biz.Footer.Config.veriSignUrl;Web.UI.Control.openWindow(url, "_blank", 560, 500, 200, 200, "resizable=yes,status=yes");}};usingNamespace("Biz.Common")["saveDepaCookie"] = function (depaID, isRollOver) {var n = Web.StateManager.Cookies.Name.CFG;if (String.isNullOrEmpty(n) || String.isNullOrEmpty(depaID)) {return;};Web.StateManager.Cookies.save(n, { "DEPA": depaID });if (isRollOver) {Web.StateManager.Cookies.save(n, { "w39": "-999" });};};usingNamespace("Biz.Common")["QuickSearch"] = {submit: function () {var $ = Newegg$;var item = $("haQuickSearchBox");if (item == null) {return false;} else {var description = item.value;if (String.isNullOrEmpty(description.trim())) {item.focus();return false;} else {return true;};}},submitPagehHeader2011: function () {var result = false;var $ = Newegg$;var input = $("haQuickSearchBox");if (input != null) {var inputValue = input.value.trim();if ((!String.isNullOrEmpty(inputValue)) && inputValue != Web.Lang.defaultTextInSearchBox) {var haQuickSearchDropdown = document.getElementById("haQuickSearchDropdown");if (haQuickSearchDropdown != null) {var selectEl = haQuickSearchDropdown.getElementsByTagName("Select")[0];var wi = Web.UI.Items;var selectedValue = selectEl[selectEl.selectedIndex].value;var oldSelectedValue = selectedValue;var isItem = wi.isINItem(inputValue) || wi.isCVFItem(inputValue) || wi.isTSItem(inputValue) || wi.isGCItem(inputValue) || wi.isSellerItem(inputValue) || wi.isStandardItem(inputValue) || wi.isNeweggItem(inputValue) || wi.isParentItem(inputValue) || wi.isSFItem(inputValue) || wi.isDVDorBooksItem(inputValue) || wi.isAutoPartsItem(inputValue);if (isItem) {selectedValue = '-1';}var inputEls = haQuickSearchDropdown.getElementsByTagName("input");for (var i = 0; i < inputEls.length; i++) {if (inputEls[i].name == 'N') {if (inputEls[i].value == "-1") {inputEls[i].value = selectedValue;}break;}}Biz.Common.SearchKeywords.saveInternalSearchKeywords(inputValue);if (oldSelectedValue == "-1") {Web.StateManager.Cookies.save(Web.StateManager.Cookies.Name.PRDLIST, { "SearchScope": "" });} else {Web.StateManager.Cookies.save(Web.StateManager.Cookies.Name.PRDLIST, { "SearchScope": oldSelectedValue });}result = true;}}}return result;},chromeSpeechSearch: function () {if (Web.Environment.Browser.isChrome()) {var $ = Newegg$;var searchInput = document.getElementById("haQuickSearchBox");searchInput.webkitSpeech = true;searchInput.webkitGrammar = "builtin:search";}},inputFocus: function (isFocus) {var $ = Newegg$;var input = $("haQuickSearchBox");var inputValue = input.value.trim();if (isFocus && inputValue == Web.Lang.defaultTextInSearchBox) {input.value = "";} else if ((!isFocus) && inputValue == "") {input.value = Web.Lang.defaultTextInSearchBox;}},brandIgnorear: function (isIgnore) {var $ = Newegg$;var input = $("brandignorearsetting");input.value = isIgnore;}};usingNamespace("Biz.Common")["AccountLogin"] = {login: function (n, f, p) {var account = $(n).value.toUpperCase();var pwd = $(p).value;if (account != Web.Lang.emailAddress.toUpperCase() && !String.isNullOrEmpty(pwd)) {Web.UI.Form.submit(f)};},initInput: function (n, f, w) {if ($(n)) {if (f == "userName") {if (String.isNullOrEmpty($(n).value)) {$(n).value = Web.Lang.emailAddress;};} else {if (String.isNullOrEmpty($(n).value)) {$(n).style.display = "none";$(w).style.display = "inline";$(w).value = Web.Lang.password;};};};},emptyInput: function (n, f, w) {if ($(n)) {$(n).value = "";if (f == "userPwd") {$(n).style.display = "none";$(w).style.display = "inline";$(w).focus();};};},pwdInitInput: function (n) {if ($(n)) {$(n).value = "";};},a: function (n, f, w) {if (window.event.keyCode == 13) {Biz.Common.AccountLogin.login(n, f, w);};},onKeyUp: function (n, f, w) {$(w).attachEvent("onkeyup", (function () { Biz.Common.AccountLogin.a(n, f, w) }))}};usingNamespace("Web.Survey")["Trigger"] = {showNextPollSegment: function (questionID, optionID) {var question = Web.Survey.Config.question;if (questionID > 0 && optionID > 0) {var childs;var checkOption;var isCheck;for (i = 0; i < question.length; i++) {if (question[i].questionID == questionID) {if (question[i].option.status && question[i].option.id != optionID) {isCheck = true;checkOption = question[i].option.id;break;};};};if (isCheck) {Web.Survey.Trigger.hideNextPollSegment(questionID, checkOption);};for (j = 0; j < question.length; j++) {if (question[j].questionID == questionID && question[j].option.id == optionID) {question[j].option.status = true;childs = question[j].option.childOption.split(",");break;};};for (k = 0; k < childs.length; k++) {if (!String.isNullOrEmpty(childs[k])) {$("choice" + childs[k]).style.display = "";};};};Web.Survey.Trigger.displayChoiceAll();return true;},hideNextPollSegment: function (questionID, optionID) {var question = Web.Survey.Config.question;if (questionID > 0 && optionID > 0) {var childs = [];for (i = 0; i < question.length; i++) {if (question[i].questionID == questionID && question[i].option.id == optionID && question[i].option.status) {childs = question[i].option.childOption.split(",");break;};};var allChilds = childs;childs = Web.Survey.Trigger.getAllcheckChilds(allChilds);if (childs.length > allChilds.length) {childs = Web.Survey.Trigger.getAllcheckChilds(allChilds);};if (childs.length > 0) {for (var j = 0; j < childs.length; j++) {if (!String.isNullOrEmpty(childs[j])) {question[j].option.status = false;var boxlist;boxlist = document.getElementsByName("OPTION_" + childs[j]);if (typeof boxlist != "undefined" && boxlist.length > 0) {for (var k = 0; k < boxlist.length; k++) {boxlist[k].checked = false;};};$("choice" + childs[j]).style.display = "none";Web.Survey.Trigger.updateQuestionStatus(childs[j]);};};}else {return true;};};},getAllcheckChilds: function (allChilds) {var childs = [];childs = allChilds;if (allChilds.length > 0) {for (j = 0; j < allChilds.length; j++) {if (Web.Survey.Trigger.getQuestionStatus(allChilds[j])) {var tmpchild = Web.Survey.Trigger.getcheckChilds(allChilds[j]).split(",");if (tmpchild.length > 0) {childs.concat(tmpchild).uniq;};};};};return childs;},updateQuestionStatus: function (questionID) {var question = Web.Survey.Config.question;if (questionID > 0) {for (i = 0; i < question.length; i++) {if (question[i].questionID == questionID && question[i].option.status) {question[i].option.status = false;};};};},getQuestionStatus: function (questionID) {var question = Web.Survey.Config.question;if (questionID > 0) {for (i = 0; i < question.length; i++) {if (question[i].questionID == questionID && question[i].option.status) {return true;};};};return false;},getcheckChilds: function (questionID) {var question = Web.Survey.Config.question;for (i = 0; i < question.length; i++) {if (question[i].questionID == questionID && question[i].option.status) {return question[i].option.childOption;};};return "";},uniq: function () {var temp = {}, len = this.length;for (var i = 0; i < len; i++) {if (typeof temp[this[i]] == "undefined") {temp[this[i]] = 1;};};this.length = 0;len = 0;for (var i in temp) {this[len++] = i;};return this;},ValidateForm: function () {var question = Web.Survey.Config.question;var elname = "";var el;el = document.getElementsByTagName("li");if (typeof el != "undefined" && el.length > 0) {for (var i = 0; i < el.length; i++) {var eltext;var elinputs;var bcheck = false;if (typeof el != "undefined" && typeof el[i] != "undefined" && el[i].style.display != "none") {var id = i + 1;var isCheck = false;for (var k = 0; k < question.length; k++) {if (question[k].questionID == id) {isCheck = question[k].isCheck;break;};};eltext = document.getElementsByTagName("textarea");if (typeof eltext != "undefined" && typeof eltext[i] != "undefined" && isCheck) {if (eltext[i].value.length > 500) {alert(" - You have exceeded the 500 characters limit. - ");eltext[i].focus();return;};};elinputs = document.getElementsByTagName("input");if (typeof elinputs != "undefined" && elinputs.length > 0) {var elinput, qid;for (var j = 0; j < elinputs.length; j++) {if (elinputs[j].id == ("OPTION_" + id)) {elinput = elinputs[j];qid = j;break;};};if (typeof elinput != "undefined" && isCheck) {var optionlist;optionlist = document.getElementsByName("OPTION_" + id);for (var j = 0; j < optionlist.length; j++) {if (optionlist[j].checked) {bcheck = true;break;};};if (!bcheck && isCheck) {alert(" --Please Check-- ");elinputs[qid].focus();return;};};};};};};document.forms["frmPollContent"].submit();},closeSurveyWindow: function () {window.close();},check: function (popUrl, width, height) {var visit = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.DEVICEINFO, "SurveyVisit");visit = String.isNullOrEmpty(visit) ? 1 : parseInt(visit);Web.StateManager.Cookies.save(Web.StateManager.Cookies.Name.DEVICEINFO, { "SurveyVisit": (visit + 1) });var config = Web.Survey.CFG;var isShowSurvey = false;if (config && typeof config.preCondition != "undefined" && config.preCondition.enabled) {var isInclude = false;if (config.preCondition.includePageList.length == 0) {isInclude = true;} else {for (var i = 0; i < config.preCondition.includePageList.length; i++) {var p = config.preCondition.includePageList[i];if (!String.isNullOrEmpty(p)) {p = p.toLowerCase();};if (p == "/index.aspx" && location.href.toLowerCase() == Web.Config.Environment.Url.WWW.toLowerCase()) {isInclude = true;break;};if (location.href.toLowerCase().indexOf(p) != -1) {isInclude = true;break;};};};var isExclude = false;if (config.preCondition.excludePageList.length == 0) {isExclude = false;} else {for (var i = 0; i < config.preCondition.excludePageList.length; i++) {var p = config.preCondition.excludePageList[i];if (!String.isNullOrEmpty(p)) {p = p.toLowerCase();};if (p == "/index.aspx" && location.href.toLowerCase() == Web.Config.Environment.Url.WWW.toLowerCase()) {isExclude = true;break;};if (location.href.toLowerCase().indexOf(p) != -1) {isExclude = true;break;};};};if (isInclude && !isExclude) {var queen = [];for (var i = 0; i < config.preCondition.percentage; i++) {queen.push(i + 1);};var key = parseInt(Math.random() * 100);isShowSurvey = queen.contains(key);};};var surveyFlag = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.GOOGLEANALYTICS, "SurveyFlag");var flag = false;if (!String.isNullOrEmpty(surveyFlag) && surveyFlag.indexOf("Y") != -1) {flag = true;};if (isShowSurvey && parseInt(config.preCondition.minVisit) > 0 && visit >= parseInt(config.preCondition.minVisit) && !flag) {Web.UI.Control.openWindow(popUrl, '_blank', width, height, 200, 280, 'toolbar=0,menubar=0,location=0,resizable=0,scrollbars=1,status=1');};},displayChoiceAll: function () {$("choiceAll").style.display = "";}};usingNamespace("Biz.Common")["SearchKeywords"] = function () {var googleUrl = "google.com";var bingUrl = "bing.com";var queryName = "q";var queryValue = "";var maxKeywords = 10;var maxKeywordsLength = 50;var searchKeywordsArray = [];var searchMaxSplit = "|";var getUrlParameter = function (name) {return decodeURI((RegExp('[?|&]' + name + '=' + '(.+?)(&|$)').exec(document.referrer) || [, ""])[1]);};var removeElementFromArray = function (a, ev) {for (var ci = 0; ci < a.length; ci++) {if (a[ci].toLowerCase() == ev.toLowerCase()) {a.splice(ci, 1);}}return a;};var removeSpace = function (k) {var str = "";if (k.length > 0) {var array = k.split(" ");var s = "";for (var i = 0; i < array.length; i++) {s = array[i];if (s.length > 0) {str += s.trim() + " ";}}}return str.trim();};var addRecentlySearchKeywords = function (keyword, storagekey) {NEG.run(function (require) {var storage = require("Biz.Storage");var spReg = new RegExp("[,|]", "g");keyword = keyword.replace(spReg, " ");keyword = removeSpace(keyword);if (keyword.toUpperCase().substring(0, 4) != 'PPSS') {var cookieValue = storage.getItem(storagekey, "").trim();if (cookieValue.length > 0) {if (cookieValue.indexOf(searchMaxSplit) > 0) {maxKeywords = parseInt(cookieValue.split(searchMaxSplit)[0]);cookieValue = cookieValue.split(searchMaxSplit)[1];if (cookieValue.length > 0) {searchKeywordsArray = cookieValue.split(",");searchKeywordsArray = removeElementFromArray(searchKeywordsArray, keyword);if (searchKeywordsArray.length >= maxKeywords && searchKeywordsArray.length > 0) {searchKeywordsArray.splice(maxKeywords - 1, searchKeywordsArray.length - maxKeywords + 1);}if (searchKeywordsArray.length < maxKeywords) {searchKeywordsArray.unshift(keyword);}cookieValue = maxKeywords.toString() + searchMaxSplit + searchKeywordsArray.toString();storage.setItem(storagekey, cookieValue);}}} else {cookieValue = maxKeywords.toString() + searchMaxSplit + keyword;storage.setItem(storagekey, cookieValue);}}});};return {saveExternalSearchKeywords: function () {var referralUrl = document.referrer;if (referralUrl) {if (referralUrl.indexOf(googleUrl) > 0) {queryValue = getUrlParameter(queryName);} else if (referralUrl.indexOf(bingUrl) > 0) {queryValue = getUrlParameter(queryName);}if (queryValue.length > 0 && queryValue.length <= maxKeywordsLength) {addRecentlySearchKeywords(queryValue, "ItemSearchKeywords");}}},saveInternalSearchKeywords: function (keyword) {if (keyword.length > 0 && keyword.length <= maxKeywordsLength) {addRecentlySearchKeywords(keyword, "ItemSearchKeywords");}},saveInnerSearchKaywords: function (keyword) {if (keyword.length > 0 && keyword.length <= maxKeywordsLength) {addRecentlySearchKeywords(keyword, "ItemInnerSearchKeywords");}}};}();usingNamespace("Biz.Common")["KeyWordsRule"] = {ForReviewCenter: function (key) {var keyArray = new Array();if (!String.isNullOrEmpty(key)) {key = key.replace(" ", "|").replace(",", "|").replace(";", "|");keyArray = key.split("|");var result = "";if (keyArray.length > 1) {for (var i = 0; i < keyArray.length; i++) {result = result + "|" + keyArray[i];};return result.replace(/(^\|*)|(\|*$)/g, "");}};return keyArray;}};usingNamespace("Biz.Common")["SearchManager"] = {setHightLight: function (container, keyWords) {var re = new RegExp(keyWords, "i");for (var i = 0; i < container.childNodes.length; i++) {var childObj = container.childNodes[i];if (childObj.nodeType == 3) {if (childObj.data.search(re) == -1) { continue; };var reResult = new RegExp("(" + keyWords + ")", "gi");var objResult = document.createElement("span");objResult.innerHTML = childObj.data.replace(reResult, "<span class='highlight'>$1</span>");container.replaceChild(objResult, childObj);}else if (childObj.nodeType == 1) {this.setHightLight(childObj, keyWords);};};},setHightLightForElements: function (elements, keyWords) {if (elements) {var l = elements.length;for (var i = 0; i < l; i++) {this.setHightLight(elements[i], keyWords);};};}};usingNamespace("Biz.Common")["CommonPop"] = {init: function () {jQuery("a[rel='CommonPopup']").unbind().click(function () {switch (jQuery(this).attr("name")) {case "a-seller":jQuery('#AlarmPanelNewCommon .title').text(Web.Lang.marketplaceSeller);break;case "ship-free":jQuery('#AlarmPanelNewCommon .title').text(Web.Lang.shippingRestrictions);jQuery('#AlarmPanelNewCommon').attr('class', 'atnIcon icnInfoNew');break;case "ship-by-newegg":jQuery('#AlarmPanelNewCommon .title').text(Web.Lang.shippedByNewegg);break;case "terms-mfrwarranty":jQuery('#AlarmPanelNewCommon .title').text(Web.Lang.warrantyInfo);break;}Biz.Common.CommonPop.popupDiv(this, 400, 200);});jQuery("#overlay").click(function () { Biz.Common.CommonPop.closePopup() });Biz.Common.CommonPop.resetPopup();jQuery(document).keypress(function (e) {if (jQuery("#modalCommon").css("display") == "block" && (e.which == 0 || e.which == 27)) {Biz.Common.CommonPop.closePopup();return false;}return true;});},popupDiv: function (o, w, h) {o.blur();var vp = Biz.Common.Viewport;var wuc = Web.UI.Control;var pos = jQuery(o).offset();var width = jQuery(o).width();var pX = (pos.left + width < vp.right() - w) ? pos.left + width : vp.right() - w;var pY = (pos.top < vp.bottom() - h) ? pos.top : vp.bottom() - h;var body = document.getElementsByTagName("body")[0];jQuery("#modalCommon").css({ "left": pX + "px", "top": pY + "px" });jQuery("#modalCommon").removeClass('objVideo');jQuery("#modalCommon").children(".content").html('');jQuery("#modalCommon").toggleClass('loading');jQuery("#overlay").css("display", "block");if (Web.Environment.Browser.currentVersion() == Web.Enum.Browser.IE_6) {wuc.setAttribute($("overlay"), { "style.height": (body.scrollHeight + 50) + "px" });wuc.setAttribute($("overlay"), { "style.width": (body.scrollWidth) + "px" });$("overlay").innerHTML = "<iframe style='position:absolute;width:100%;height:100%;_filter:alpha(opacity=0);opacity=0;border-style:none;'></iframe>";wuc.setAttribute($("modalCommon"), { "style.height": "6em" });};jQuery("#modalCommon").show("fast");if (o.id && $(o.id + "_Content")) {jQuery("#modalCommon").children(".content").html($(o.id + "_Content").innerHTML);}else if (o.name && $(o.name + "_Content")) {jQuery("#modalCommon").children(".content").html($(o.name + "_Content").innerHTML);}return false;},closePopup: function () {jQuery("#modalCommon").hide("fast");jQuery("#overlay").css("display", "none");Biz.Common.CommonPop.resetPopup();return true;},resetPopup: function () {jQuery('#AlarmPanelNewCommon').attr('class', 'atnIcon icnInfo');jQuery('#AlarmPanelNewCommon .title').text('');jQuery('#AlarmPanelNewCommon').find("img").css("display", "");}};usingNamespace("Biz.Common")["CheckCANIP"] = {getUrlParameter: function (name) {return decodeURI((RegExp('[?|&]' + name + '=' + '(.+?)(&|$)').exec(document.location.search) || [, ""])[1]);},initPopup: function () {var ttc = Biz.Common.CheckCANIP.getUrlParameter("ttc");if (ttc == "0") {Web.StateManager.Cookies.save(Web.StateManager.Cookies.Name.CFG, { 'TransferToCAN': '0' });return;}var cookieISCANIP = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.COUNTRY);var cookieCFG = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CFG, "TransferToCAN");if (cookieISCANIP == "C") {if (cookieCFG == "1") {window.location.href = CANSite + "?cm_sp=CANGEO-_-preference-_-Canada&cm_mmc=CANGEO-_-preference-_-Canada-_-NA&ttc=1";}};if (String.isNullOrEmpty(cookieISCANIP) || String.isNullOrEmpty(cookieCFG)) {jQuery(function () {if (!(typeof (noPopup) == "boolean" && noPopup == true)) {Biz.Common.CheckCANIP.processAction();};});}},showPop: function () {jQuery("#overlay").show();jQuery('#overlay').addClass("dark").click(function () { jQuery(this).hide(); jQuery('#canPopup').fadeOut(); });var popup = jQuery("<div id=\"canPopup\"><div class=\"round\"><div class=\"closeIcon\" onclick=\"Biz.Common.CheckCANIP.closeIcon()\" id=\"closeIcon\"></div>"+ "<div class=\"grpHeader\"><span class=\"q\">Did you <em>know...?</em></span><img src=\""+ Web.UI.ResourceManager.Image.build("nec_logo.png") + "\" class=\"nec_logo\"/>"+ "<span class=\"msg\">Newegg has a site just for our <em>Canadian Shoppers!</em></span></div><ul class=bullet><li>All prices in Canadian currency</li><li>Super-fast shipping & hassle free returns</li>"+ "<li>Thousands of product reviews</li><li>Exceptional Newegg service</li><li>Exactly what you want, guaranteed</li></ul><a href=\"" + CANSite + "?cm_sp=CANGEO-_-popup-_-Canada&cm_mmc=CANGEO-_-popup-_-Canada-_-NA&ttc=1\"  onclick=\"Web.StateManager.Cookies.save(Web.StateManager.Cookies.Name.CFG, {'TransferToCAN':'1'});\" class=\"atnPrimary\">Shop <em>Newegg.ca</em> today!</a>"+ "<div href=\"" + Web.Config.Environment.Url.WWW + "\" class=\"atnSecondary\">No, take me to <a href=\"" + Web.Config.Environment.Url.WWW + "?cm_sp=CANGEO-_-popup-_-USA\" onclick=\"Web.StateManager.Cookies.save(Web.StateManager.Cookies.Name.CFG, {'TransferToCAN':'0'})\"  class=\"link_blue\" >Newegg.com</a>.</div></div></div>");popup.appendTo(document.body);var ileft = (jQuery(window).width() - popup.width()) / 2 + document.documentElement.scrollLeft;var itop = (jQuery(window).height() - popup.height()) / 2 + document.documentElement.scrollTop;popup.css({position: "absolute",top: itop + "px",left: ileft + "px"}).show();},closeIcon: function () {jQuery('#canPopup').fadeOut();jQuery('#overlay').hide();Web.StateManager.Cookies.save(Web.StateManager.Cookies.Name.CFG, { 'TransferToCAN': '0' });cmCreateManualLinkClickTag(Web.Config.Environment.Url.WWW + "?cm_sp=CANGEO-_-popup-_-USA");},processAction: function () {var cookieISCANIP = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.COUNTRY);if (String.isNullOrEmpty(cookieISCANIP)) {jQuery.ajax({url: Web.UI.ResourceManager.Url.www("Common/ajax/CheckIsCANIPHandler.aspx"),type: "GET",async: true,data: { Action: "get" },timeout: 3000,success: function (data) {if (data) {Web.StateManager.Cookies.save(Web.StateManager.Cookies.Name.COUNTRY, data);cookieISCANIP = data;if (cookieISCANIP == "C") {Biz.Common.CheckCANIP.showPop();}}}});}else if (cookieISCANIP == "C") {var cookieCFG = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CFG, "TransferToCAN");if (cookieCFG == "1") {window.location.href = CANSite + "?cm_sp=CANGEO-_-preference-_-Canada&cm_mmc=CANGEO-_-preference-_-Canada-_-NA&ttc=1";}else if (String.isNullOrEmpty(cookieCFG)) {Biz.Common.CheckCANIP.showPop();}}}};usingNamespace("Biz.Common")["NVTC"] = {generateAndUpdate: function () {var utmaRegex = new RegExp(Web.StateManager.Cookies.Name.NVTC + "=([\\d\\.A-Za-z]*)");var utmaMatch = utmaRegex.exec(document.cookie);if (utmaMatch && utmaMatch.length > 1) {var utma = utmaMatch[1];}var match = location.host.match(/\w+\.(\w+[\.\w+]+)/);var domain;if (match && match.length > 1) {domain = match[1];}var siteID = Web.Config.NVTC.SiteID;var expireDate = new Date();expireDate.setFullYear(expireDate.getFullYear() + 2);if (utma) {utma = this.refresh(utma, domain, siteID);}else {utma = this.generate(domain, siteID);}var nvtcTimeStampExpireDate = new Date();nvtcTimeStampExpireDate.setUTCDate(nvtcTimeStampExpireDate.getUTCDate() + 1);document.cookie = "NVTC=" + utma + "; domain=" + domain + "; expires=" + expireDate.toGMTString() + "; path=/";document.cookie = "NV_NVTCTIMESTAMP=" + this.totalSeconds + "; domain=" + domain + "; expires=" + nvtcTimeStampExpireDate.toGMTString() + "; path=/";},generate: function (domain, siteID) {var domainHash = this.getDomainHash(domain);if (domainHash == 0) {return "";}var id = this.random;var ct = this.totalSeconds;var utmaAry = new Array(7);utmaAry[0] = domainHash.toString();utmaAry[1] = siteID;utmaAry[2] = id.toString();utmaAry[3] = ct;utmaAry[4] = ct;utmaAry[5] = ct;utmaAry[6] = "1";return this.getUtma(utmaAry);},refresh: function (utma, domain, siteID) {var utmaAry = utma.split(".");if (utmaAry.length == 1) {return this.generate(domain, siteID);}if (utmaAry.length != 7) {return utma;}var domainHash = this.getDomainHash(domain);if ((domainHash + "." + siteID) != (utmaAry[0] + "." + utmaAry[1])) {return this.generate(domain, siteID);}var currentAccessTime = this.totalSeconds;var lastAccessTime = parseInt(utmaAry[5]);var nvtcTimeStampCookie = Web.StateManager.Cookies.get("NV_NVTCTIMESTAMP");if (nvtcTimeStampCookie) {var nvtcTimeStamp = parseInt(nvtcTimeStampCookie);}if (!nvtcTimeStamp || (currentAccessTime - nvtcTimeStamp > this.getUTMAExpireTime() * 60)) {utmaAry[4] = utmaAry[5];utmaAry[5] = currentAccessTime.toString();utmaAry[6] = parseInt(utmaAry[6]) + 1;utma = this.getUtma(utmaAry);}return utma;},getUtma: function (utmaAry) {return utmaAry.join(".");},getDomainHash: function (a) {var b = 1, c = 0, d = 0, b = 0;if (a) {for (d = a.length - 1; 0 <= d; d--) {c = a.split(/(?=[\w\W])/)[d].charCodeAt();b = (b << 6 & 268435455) + c + (c << 14);c = b & 266338304;b = 0 != c ? b ^ c >> 21 : b;}}return b;},totalSeconds: Date.parse(new Date()) / 1000,random: Math.floor(Math.random() * 1000000000),getUTMAExpireTime: function () {return Web.Config.NVTC.UTMAExpireTime}};usingNamespace("Biz.Common")["IncreaseStrengthNVTC"] = {localNVTC: null,domain: null,expireDate: null,generateAndUpdate: function () {var nvtcRegex = new RegExp(Web.StateManager.Cookies.Name.NVTC + "=([\\d\\.A-Za-z]*)");var nidRegex = new RegExp(Web.StateManager.Cookies.Name.NID + "=([\\dA-Za-z]*)");var nidMatch = nidRegex.exec(document.cookie);var nvtcMatch = nvtcRegex.exec(document.cookie);if (nvtcMatch && nvtcMatch.length > 1) {var nvtc = nvtcMatch[1];this.localNVTC = nvtc;}if (nidMatch && nidMatch.length > 1) {var nid = nidMatch[1];}var match = location.host.match(/\w+\.(\w+[\.\w+]+)/);var domain;if (match && match.length > 1) {domain = match[1];}var expireDate = new Date();expireDate.setFullYear(expireDate.getFullYear() + 2);this.domain = domain;this.expireDate = expireDate;if (nvtc && nid) {nvtc = this.refresh(nvtc);if (nvtc) {document.cookie = "NVTC=" + nvtc + "; domain=" + domain + "; expires=" + expireDate.toGMTString() + "; path=/";}}else {nvtc = this.generate();}},refresh: function (nvtc) {var nvtcAry = nvtc.split(".");if (nvtcAry.length == 1) {return this.generate();}if (nvtcAry.length != 7) {return nvtc;}var currentAccessTime = this.totalSeconds;var lastAccessTime = parseInt(nvtcAry[5]);if ((lastAccessTime + this.getUTMAExpireTime() * 60 <= currentAccessTime)) {nvtcAry[4] = nvtcAry[5];nvtcAry[5] = currentAccessTime.toString();nvtcAry[6] = parseInt(nvtcAry[6]) + 1;nvtc = this.formatNVTC(nvtcAry);}return nvtc;},generate: function () {jQuery.ajax({url: Web.Config.Environment.Url.WWW + "Common/Ajax/IncreaseStrength4NVTC.aspx",cache: false,dataType: "jsonp",jsonp: "action",jsonpCallback: 'Biz.Common.IncreaseStrengthNVTC.JsonpCallBack'});},JsonpCallBack: function (data) {if (data) {var json = JSON.parse(data.trim());if (json.NVTC && json.NVTC != "") {document.cookie = "NVTC=" + json.NVTC + "; domain=" + this.domain + "; expires=" + this.expireDate.toGMTString() + "; path=/";}else {if (this.localNVTC && this.localNVTC.split(".").length > 1) {var nvtc = this.refresh(this.localNVTC);document.cookie = "NVTC=" + nvtc + "; domain=" + this.domain + "; expires=" + this.expireDate.toGMTString() + "; path=/";}}if (json.NID && json.NID != "") {document.cookie = "NV_NID=" + json.NID + "; domain=" + this.domain + "; expires=" + this.expireDate.toGMTString() + "; path=/";}}},formatNVTC: function (nvtcAry) {return nvtcAry.join(".");},totalSeconds: Date.parse(new Date()) / 1000,getUTMAExpireTime: function () {return Web.Config.NVTC.UTMAExpireTime}};usingNamespace("Biz.Common")["Coremetric"] = {send: function (currentID, cmData, isForPersonalization) {if (cmData && cmData.length) {for (var i = 0; i < cmData.length; i++) {var dataList = cmData[i].dataList;if (currentID == cmData[i].position && (!this.sendedCache[currentID]) && cmCreateManualImpressionTag) {for (var j = 0; j < dataList.length; j++) {if (!dataList[j].cMData) { continue; }if (isForPersonalization) {if (Web.Config.CoreMetrics && Web.Config.CoreMetrics.Enable) {cmCreateCustomTag("8888", dataList[j].cMData.replace("#DATE#", new Date().toISOString()));}if (Web.Config.SiteCatalyst && Web.Config.SiteCatalyst.Enable) {Biz.Common.SiteCatalyst.sendToCache({ 'list1': dataList[j].cMData.replace("#DATE#", new Date().toISOString()) });}}else {cmCreateManualImpressionTag(dataList[j].cMData);}}this.sendedCache[cmData[i].position] = 1;}}}},sendedCache: {}};usingNamespace("Biz.Common")["Coremetric2016"] = {send: function (dataList) {for (var j = 0; j < dataList.length; j++) {if (!dataList[j].cMData) { continue; }if (Web.Config.SiteCatalyst && Web.Config.SiteCatalyst.Enable) {Biz.Common.SiteCatalyst.sendToCache({ 'list1': dataList[j].cMData.replace("#DATE#", new Date().toISOString()) });}}}};usingNamespace("Biz.Common")["TopNavBar"] = {objEven: function (o) {var obj = jQuery(o);this.delayHover = function () {if (/AppleWebKit.*Mobile/i.test(navigator.userAgent) || (/MIDP|SymbianOS|NOKIA|SAMSUNG|LG|NEC|TCL|Alcatel|BIRD|DBTEL|Dopod|PHILIPS|HAIER|LENOVO|MOT-|Nokia|SonyEricsson|SIE-|Amoi|ZTE/.test(navigator.userAgent))) {if (window.location.href.indexOf("?mobile") < 0) {try {obj = obj.children('a');obj.click(function () {var self = jQuery(this);if (self.parent().hasClass('nav-x-is-active')) {self.parent().removeClass('nav-x-is-active');} else {self.parent().addClass('nav-x-is-active').siblings().removeClass('nav-x-is-active');}return false;});}catch (e) { }}} else {var timer1, timer2;obj.mouseenter(function (e) {var self = jQuery(this);if (self.hasClass('nav-x-is-active')) {if (timer2) clearTimeout(timer2);} else {timer1 = setTimeout(function () {self.addClass('nav-x-is-active').siblings().removeClass('nav-x-is-active');var title = self.children('.nav-x-title');var menu = self.children('.nav-x-menu');if (menu.width() < (title.width() + 8)) {var leftPosi = (title.offset().left + title.width() - menu.width()) + 20;menu.offset({ left: leftPosi });}}, 350);}}).mouseleave(function (e) {if (timer1) {var self = jQuery(this);clearTimeout(timer1);if (self.hasClass('nav-x-is-active')) {timer2 = setTimeout(function () {self.removeClass('nav-x-is-active');}, 888);}}});}}},objEven2016: function (o) {var obj = jQuery(o);this.delayHover = function () {if (/AppleWebKit.*Mobile/i.test(navigator.userAgent) || (/MIDP|SymbianOS|NOKIA|SAMSUNG|LG|NEC|TCL|Alcatel|BIRD|DBTEL|Dopod|PHILIPS|HAIER|LENOVO|MOT-|Nokia|SonyEricsson|SIE-|Amoi|ZTE/.test(navigator.userAgent))) {if (window.location.href.indexOf("?mobile") < 0) {try {obj = obj.children('a');obj.click(function () {var self = jQuery(this);if (self.parent().hasClass('is-active')) {self.parent().removeClass('is-active');} else {self.parent().addClass('is-active').siblings().removeClass('is-active');}return false;});}catch (e) { }}} else {var timer1, timer2;obj.mouseenter(function (e) {var self = jQuery(this);if (self.hasClass('is-active')) {if (timer2) clearTimeout(timer2);} else {timer1 = setTimeout(function () {self.addClass('is-active').siblings().removeClass('is-active');var title = self.children('.nav-x-title');var menu = self.children('.nav-x-menu');if (menu.width() < (title.width() + 8)) {var leftPosi = (title.offset().left + title.width() - menu.width()) + 20;menu.offset({ left: leftPosi });}}, 350);}}).mouseleave(function (e) {if (timer1) {var self = jQuery(this);clearTimeout(timer1);if (self.hasClass('is-active')) {timer2 = setTimeout(function () {self.removeClass('is-active');}, 888);}}});}}}};usingNamespace("Biz.Common")["SiteCatalyst"] = (function () {var cachingParms = {};var sentToPacketBeat = function (s) {var blacklist = ['vl_l', 'vl_m', 'vl_mr', 'vl_t', 'vl_l2', 'vl_g', 'linkDownloadFileTypes', 'linkInternalFilters', 'seList', 'm_Media_c'];var data = '';for (var ele in s) {if (s.hasOwnProperty(ele) && !!s[ele] && blacklist.indexOf(ele) < 0 && (typeof s[ele] === 'string' || typeof s[ele] === 'number' || typeof s[ele] === 'boolean')) {data += '&' + ele + '=' + encodeURIComponent(s[ele]);}}if (data.length > 0) {data = '?sendTime=' + encodeURIComponent(new Date().toISOString()) + data;}var url = '//pf.newegg.com/p.gif';var img = document.createElement("IMG");img.setAttribute('src', url + data);img.setAttribute('width', '0');img.setAttribute('height', '0');img.setAttribute('alt', 'adobe tracking');img.setAttribute('title', 'adobe tracking');document.body.appendChild(img);};var getParms = function () {var result = {};var nvtcRegex = new RegExp(Web.StateManager.Cookies.Name.NVTC + "=([\\d\\.A-Za-z]*)");var nvtcMatch = nvtcRegex.exec(document.cookie);var nvtc;if (nvtcMatch && nvtcMatch.length > 1) {nvtc = nvtcMatch[1];}result.nvtcValue = nvtc;var utmaRegex = new RegExp(Web.StateManager.Cookies.Name.UTMA + "=([\\d\\.]*)");var utmaMatch = utmaRegex.exec(document.cookie);var utma;if (utmaMatch && utmaMatch.length > 1) {utma = utmaMatch[1];}result.utmaValue = utma;return result;},mergeParms = function (obj1, obj2) {var result = {};for (prop in obj2)result[prop] = obj2[prop];for (prop in obj1)result[prop] ? void (0) : result[prop] = obj1[prop];return result;},sendToAdobe = function (parms) {if (typeof (s) != 'undefined') {var regionCode = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CFG, "RegionCode");var currencyCode = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CFG, "CurrencyCode");if (regionCode) s.prop12 = s.eVar51 = regionCode;if (currencyCode) s.currencyCode = s.prop13 = s.eVar52 = currencyCode.toUpperCase();if (parms.serverName) s.server = parms.serverName;if (parms.customId) s.eVar22 = parms.customId;if (parms.nvtcValue) s.prop19 = parms.nvtcValue;if (parms.utmaValue) s.prop24 = parms.utmaValue;if (parms.cmPageName) s.prop11 = parms.cmPageName;parms.pageName ? s.pageName = parms.pageName : (parms.cmPageName ? s.pageName = parms.cmPageName : void (0));if (parms.brandName) { s.prop25 = parms.brandName; s.eVar47 = parms.brandName; }if (parms.events) s.events = parms.events;if (parms.products) s.products = ";" + parms.products;if (parms.isfreeshipping) s.eVar44 = parms.isfreeshipping;if (parms.sellerName) s.eVar45 = parms.sellerName;if (parms.pageType) {var pageTypes = parms.pageType.split(";");var length = pageTypes.length;if (length > 0) s.prop1 = pageTypes[0];if (length > 1) s.prop23 = pageTypes[0] + ":" + pageTypes[1];}if (parms.searchKeyWord) s.prop4 = parms.searchKeyWord;if (parms.searchResult) s.prop5 = parms.searchResult;if (parms.searchType) s.eVar18 = parms.searchType;if (parms.engine) { s.eVar71 = s.prop71 = parms.engine; }if (parms.refinementType) s.prop16 = s.eVar16 = parms.refinementType;if (parms.refinementValue) s.prop17 = s.eVar17 = parms.refinementValue;var categories;if (parms.tabStore) s.eVar4 = s.channel = parms.tabStore;else { s.eVar4 = s.channel = s.prop1; }if (parms.categoryStore) {categories = parms.categoryStore.split(";");if (categories.length > 1) {s.eVar5 = s.prop2 = s.channel + " : " + categories[0];s.eVar6 = s.prop3 = s.prop2 + " : " + categories[1];}else { s.eVar5 = s.prop2 = s.channel + " : " + parms.categoryStore; }}else if (!parms.categoryStore && parms.subcategoryStore)s.eVar6 = s.prop3 = s.eVar5 = s.prop2 = s.channel + " : " + parms.subcategoryStore;else { s.eVar6 = s.prop3 = s.eVar5 = s.prop2 = s.channel; }if (parms.subcategoryStore && !s.prop3)s.eVar6 = s.prop3 = s.prop2 + " : " + parms.subcategoryStore;else if (!parms.subcategoryStore)s.eVar6 = s.prop3 = s.prop2 ? s.prop2 : s.channel;if (parms.moreThan3level) {if (categories.length > 1) {var length = categories.length;var temp = s.prop3;for (var i = 2; i < length; i++) {temp += " : " + categories[i];}temp += " : " + parms.subcategoryStore;s.eVar46 = s.prop22 = temp;}else { s.eVar46 = s.prop22 = s.prop2 + " : " + parms.subcategoryStore; }}if (scp.shoppingCartStatus) s.events = scp.shoppingCartStatus;if (scp.shoppingProducts) {var products = scp.shoppingProducts.split(",");var temp = products.join(",;");temp = ";" + temp;s.products = temp;}try {var s_code = s.t();sentToPacketBeat(s);if (s_code) { document.write(s_code); }} catch (eee) { }}},cacheParms = function (parms) {if (parms.pageNickName) {cachingParms.pageNickName = parms.pageNickName;delete parms.pageNickName;}if (parms.pageName) cachingParms.pageName = parms.pageName;},sendToCache = function (parms) {for (prop in parms) {if (parms[prop]) {if (!cachingParms[prop]) {cachingParms[prop] = parms[prop];} else {cachingParms[prop] += "|" + parms[prop];}}}};return {send: function (siteCatalystParms) {if (!Web.Config.SiteCatalyst || !Web.Config.SiteCatalyst.Enable) return;cacheParms(siteCatalystParms);var parmsByJs = getParms();var parms = mergeParms(siteCatalystParms, parmsByJs);sendToAdobe(parms);},sendForSellerSwitch: function (parms) {if (!Web.Config.SiteCatalyst || !Web.Config.SiteCatalyst.Enable) return;parms.cmPageName = cachingParms.pageNickName + ":" + parms.cmProductName;delete parms.cmProductName;var index = cachingParms.pageName.lastIndexOf("Item#:");parms.pageName = cachingParms.pageName.substring(0, index + 6) + parms.products;sendToAdobe(parms);},sendForOnClick: function (parms, name) {if (!Web.Config.SiteCatalyst || !Web.Config.SiteCatalyst.Enable) return;if (typeof (s) != 'undefined') {var regionCode = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CFG, "RegionCode");var currencyCode = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CFG, "CurrencyCode");if (regionCode) parms.prop12 = parms.eVar51 = regionCode;if (currencyCode) parms.currencyCode = parms.prop13 = parms.eVar52 = currencyCode.toUpperCase();var trackVars = [];for (prop in parms) {trackVars.push(prop);if (prop == 'events') {s.linkTrackEvents = s.events = parms[prop];}else {if (parms[prop].substring) { parms[prop] = parms[prop].substring(0, 15000); }s[prop] = parms[prop];}}s.linkTrackVars = trackVars.join(',');s.tl(this, 'o', name);sentToPacketBeat(s);}},sendToCache: function (parms) {if (!Web.Config.SiteCatalyst || !Web.Config.SiteCatalyst.Enable) return;sendToCache(parms);},sendCache: function (prop, name) {if (!Web.Config.SiteCatalyst || !Web.Config.SiteCatalyst.Enable) return;if (cachingParms[prop]) {var params = {};params[prop] = cachingParms[prop];Biz.Common.SiteCatalyst.sendForOnClick(params, name);cachingParms[prop] = null;delete cachingParms[prop];}},sentToPacketBeat: function (s) {sentToPacketBeat(s);}};})();usingNamespace("Biz.Common")["ShoppingItem"] = {shippingItemLogic: null,extractFromOrderInfo: function () {if (jQuery("#hiddenOrderInfo").length == 1 && jQuery(jQuery("#hiddenOrderInfo")[0]).attr('is-update') == "1") {return jQuery("#hiddenOrderInfo")[0].value.replace(/=\d+/g, "");}var orderInfo = "";if (Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.NVTC) === "") {return orderInfo.replace(/=\d+/g, "");};jQuery.ajax({url: Web.Config.Environment.Url.WWW + "Common/Ajax/MiniCartService.aspx?is4Config=1&" + new Date().getTime(),cache: false,async: false,dataType: "jsonp",jsonp: "action",jsonpCallback: 'proxy'}).done(function (data) {if (data) {var jsonData = JSON.parse(data.trim());if (jsonData.miniCartEnable && jsonData.miniCartEnable == "1") {Web.Config.Environment.SyncShoppingCart.MinicartServiceEnable = true;}else {Web.Config.Environment.SyncShoppingCart.MinicartServiceEnable = false;}if (jsonData.itemDetailLink && jsonData.itemDetailLink != "") {Web.Config.Environment.SyncShoppingCart.ItemDetailLink = jsonData.itemDetailLink;}if (jsonData.itemPriceLink && jsonData.itemPriceLink != "") {Web.Config.Environment.SyncShoppingCart.ItemPriceLink = jsonData.itemPriceLink;}}}).fail(function () {});if (!Web.Config.Environment.SyncShoppingCart.MinicartServiceEnable) {orderInfo = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.NEGC);return orderInfo.replace(/=\d+/g, "");}var reqUrl = Web.Config.Environment.SyncShoppingCart.ItemDetailLink;var cfg = Web.StateManager.Cookies.Name.CFG;var currentRegionCode = Web.StateManager.Cookies.get(cfg, "RegionCode");currentRegionCode = currentRegionCode ? currentRegionCode : "USA";var postData = {rawDeviceId: Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.NVTC),loginId4: Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID4"),countryCode: Web.Config.SiteCookieInfo.bizUnit,regionCode: currentRegionCode,currencyCode: Web.StateManager.Cookies.get(cfg, "CurrencyCode"),s123: Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "s123"),SPT: Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.SPT)};jQuery.ajax({type: "POST",crossDomain: true,url: reqUrl,data: { MiniCartRequestData: JSON.stringify(postData) },dataType: "json",async: false}).done(function (response) {if (response != null) {if (!response.useCookie) {try {orderInfo = response.formattedOrderItems;} catch (e) {orderInfo = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.NEGC);}} else {orderInfo = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.NEGC);}if (orderInfo == null || orderInfo == undefined) {orderInfo = "";}if (jQuery("#hiddenOrderInfo").length == 1) {jQuery("#hiddenOrderInfo")[0].value = orderInfo;jQuery(jQuery("#hiddenOrderInfo")[0]).attr('is-update', 1);}}}).fail(function () {});return orderInfo.replace(/=\d+/g, "");},getShoppingCartItemsInfo: function (items) {var length = items.length;var cartinfosArray = [];for (var i = 0; i < length; i++) {if (items[i].item != null && items[i].qty != null) {if (items[i].optional == null) {items[i].optional = "";}cartinfosArray.push(items[i].item + "=" + items[i].qty + items[i].optional);}}return cartinfosArray.join('&');}};var cmPageID;function cmCreateManualPageviewTag() { };function cmCreatePageviewTag() { };function cmCreateTechPropsTag() { };function cmCreateProductviewTag() { };function cmCreateShopAction5Tag() { };function cmCreateShopAction9Tag() { };function cmDisplayShop5s() { };function cmDisplayShop9s() { };function cmCreateOrderTag() { };function cmCreateRegistrationTag() { };function cmCreateErrorTag() { };function cmSetupOther() { };function cmCreatePageElementTag() { };function cmCreateConversionEventTag() { };function cmCreateManualImpressionTag() { };function cmCreateCustomTag() { };function cmCreateManualLinkClickTag() { };function cmCreateElementTag() { };function cmCreateDefaultPageviewTag() { };usingNamespace("Biz.Common")["PageFooter"] = {setLink: function () {var loginID = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID6");if (!String.isNullOrEmpty(loginID)) {jQuery("#trackOrder").attr("href", Web.Config.Environment.Url.Secure + "NewMyAccount/OrderHistory.aspx");jQuery("#returnItem").attr("href", Web.Config.Environment.Url.Secure + "RMA/Returns.aspx");} else {jQuery("#trackOrder").attr("href", Web.Config.Environment.Url.Secure + "Guest/OrderLogin.aspx?Source=1");jQuery("#returnItem").attr("href", Web.Config.Environment.Url.Secure + "Guest/OrderLogin.aspx?Source=2");};}};usingNamespace("Biz.Common")["Swiper"] = {init: function (box) {this.setSwiperBoxResponsive(box);},setSwiperBoxResponsive: function (box) {if (jQuery(box).find('.row-side').length == 0) {this.swiperBoxResponsive5(box);} else {jQuery(box).addClass("customers-also");this.swiperBoxResponsive3(box);}},swiperBoxResponsive3: function (box) {var _mDownX;var swiper = new Swiper(box + ' .swiper-container', {pagination: box + ' .swiper-pagination',prevButton: box + ' .swiper-box-arrow-prev',nextButton: box + ' .swiper-box-arrow-next',paginationClickable: true,preventClicks: false,slidesPerGroup: 3,slidesPerView: 3,spaceBetween: 10,breakpoints: {1920: {slidesPerGroup: 3,slidesPerView: 3,onProgress: function (swiper) {Biz.Common.Swiper.setSwiperLoopButton(box, swiper);}},1360: {slidesPerGroup: 2,slidesPerView: 2,onProgress: function (swiper) {Biz.Common.Swiper.setSwiperLoopButton(box, swiper);}},1100: {slidesPerGroup: 1,slidesPerView: 1,onProgress: function (swiper) {Biz.Common.Swiper.setSwiperLoopButton(box, swiper);}}},onInit: function (swiper) {swiper.sentList = [];Biz.Common.Swiper.processCoreMetricInit(box, swiper);},onSlideChangeStart: function () {this.preventClicks = true;},onSlideChangeEnd: function (swiper) {this.preventClicks = false;Biz.Common.Swiper.setSwiperLoopButton(box, swiper);},onTouchStart: function (swiper, e) {this.preventClicks = true;_mDownX = e.pageX;},onTouchEnd: function (swiper, e) {this.preventClicks = false;var _moveX = _mDownX - e.pageX;if (jQuery(box + ' .swiper-box-arrow-prev').hasClass('swiper-button-disabled') && _moveX < 0) {setTimeout(function () { Biz.Common.Swiper.setSwiperLoopDrag(box, 'prev'); }, 100);} else if (jQuery(box + ' .swiper-box-arrow-next').hasClass('swiper-button-disabled') && _moveX > 0) {setTimeout(function () { Biz.Common.Swiper.setSwiperLoopDrag(box, 'next'); }, 100);}}});},swiperBoxResponsive5: function (box) {var _mDownX;var swiper = new Swiper(box + ' .swiper-container', {pagination: box + ' .swiper-pagination',prevButton: box + ' .swiper-box-arrow-prev',nextButton: box + ' .swiper-box-arrow-next',paginationClickable: true,preventClicks: false,slidesPerGroup: 5,slidesPerView: 5,spaceBetween: 10,breakpoints: {1920: {slidesPerGroup: 5,slidesPerView: 5,onProgress: function (swiper) {Biz.Common.Swiper.setSwiperLoopButton(box, swiper);}},1560: {slidesPerGroup: 4,slidesPerView: 4,onProgress: function (swiper) {Biz.Common.Swiper.setSwiperLoopButton(box, swiper);}},1260: {slidesPerGroup: 3,slidesPerView: 3,onProgress: function (swiper) {Biz.Common.Swiper.setSwiperLoopButton(box, swiper);}},1100: {slidesPerGroup: 2,slidesPerView: 2,onProgress: function (swiper) {Biz.Common.Swiper.setSwiperLoopButton(box, swiper);}}},onInit: function (swiper) {swiper.sentList = [];Biz.Common.Swiper.processCoreMetricInit(box, swiper);},onSlideChangeStart: function () {this.preventClicks = true;},onSlideChangeEnd: function (swiper) {this.preventClicks = false;Biz.Common.Swiper.setSwiperLoopButton(box, swiper);},onTouchStart: function (swiper, e) {this.preventClicks = true;_mDownX = e.pageX;},onTouchEnd: function (swiper, e) {this.preventClicks = false;var _moveX = _mDownX - e.pageX;if (jQuery(box + ' .swiper-box-arrow-prev').hasClass('swiper-button-disabled') && _moveX < 0) {setTimeout(function () { Biz.Common.Swiper.setSwiperLoopDrag(box, 'prev'); }, 100);} else if (jQuery(box + ' .swiper-box-arrow-next').hasClass('swiper-button-disabled') && _moveX > 0) {setTimeout(function () { Biz.Common.Swiper.setSwiperLoopDrag(box, 'next'); }, 100);}}});},setSwiperLoopButton: function (box, swiper) {var fixedBullets = 0;if (typeof swiper != 'undefined' && typeof swiper.snapGrid != 'undefined') {fixedBullets = this.fixSwiperSnapGrid(box, swiper);}var $box = jQuery(box);if ($box.find('.swiper-pagination-bullet').length == 1) {$box.find('.swiper-box-arrow-prev').attr('style', 'display:none');$box.find('.swiper-box-arrow-next').attr('style', 'display:none');$box.find('.swiper-pagination').attr('style', 'display:none');} else {$box.find('.swiper-box-arrow-prev').attr('style', 'display:block');$box.find('.swiper-box-arrow-next').attr('style', 'display:block');$box.find('.swiper-pagination').attr('style', 'display:block');}if ($box.find('.swiper-box-arrow-prev').hasClass('swiper-button-disabled')) {var _n = fixedBullets != 0 ? fixedBullets : $box.find('.swiper-pagination-bullet').length;$box.find('.swiper-box-arrow-prev.swiper-button-disabled').one('click', function () {$box.find('.swiper-pagination-bullet').eq(_n - 1).click();});} else {$box.find('.swiper-box-arrow-prev').unbind('click');}if ($box.find('.swiper-box-arrow-next').hasClass('swiper-button-disabled')) {$box.find('.swiper-box-arrow-next.swiper-button-disabled').one('click', function () {$box.find('.swiper-pagination-bullet').eq(0).click();});} else {$box.find('.swiper-box-arrow-next').unbind('click');}if (typeof swiper != 'undefined' && typeof swiper.sentList != 'undefined') {Biz.Common.Swiper.processCoreMetricOnChange(box, swiper);}},setSwiperLoopDrag: function (box, direction) {var $box = jQuery(box);if (direction == 'prev') {var _n = $box.find('.swiper-pagination-bullet').length;$box.find('.swiper-pagination-bullet').eq(_n - 1).click();} else if (direction == 'next') {$box.find('.swiper-pagination-bullet').eq(0).click();}},getCmDataOnInit: function (box, persCmData) {var wrapper = jQuery(box + ' .swiper-wrapper');var item = wrapper.find('.swiper-slide');var pageCount = Math.floor(wrapper.width() / item.width());var curList = [];var hasSeeAllLink = persCmData[0].itemNumber == "SeeAllLink";if (hasSeeAllLink) {pageCount = pageCount + 1;}var temp = persCmData.length >= pageCount ? pageCount : persCmData.length;for (var i = 0; i < temp; i++) {curList.push(persCmData[i]);}return curList;},getCmDataOnChange: function (box, persCmData, swiper) {var curList = [];var hasSeeAllLink = persCmData[0].itemNumber == "SeeAllLink";var pageCount = swiper.params.slidesPerView;var activeIndex = swiper.snapIndex;var dataCount = hasSeeAllLink ? persCmData.length - 1 : persCmData.length;var temp = (activeIndex + 1) * pageCount - dataCount;if (temp > 0) {for (var q = persCmData.length - pageCount; q < persCmData.length ; q++) {if (persCmData[q] && swiper.sentList.indexOf(persCmData[q]) < 0) {curList.push(persCmData[q]);swiper.sentList.push(persCmData[q]);}}} else {var p;for (var k = 0; k < pageCount ; k++) {if (activeIndex > 0) {p = activeIndex * pageCount + k;} else {p = k;}p = hasSeeAllLink ? p + 1 : p;if (persCmData[p] && swiper.sentList.indexOf(persCmData[p]) < 0) {curList.push(persCmData[p]);swiper.sentList.push(persCmData[p]);}}}return curList;},processCoreMetricInit: function (box, swiper) {if (Biz.Personalization2016 && Biz.Personalization2016.CoremetricData) {for (var i = 0; i < Biz.Personalization2016.CoremetricData.length; i++) {var persData = Biz.Personalization2016.CoremetricData[i];if (persData && persData.position && box == persData.position) {swiper.sentList = Biz.Common.Swiper.getCmDataOnInit(persData.position, persData.dataList);Biz.Common.Coremetric2016.send(swiper.sentList);Biz.Common.SiteCatalyst.sendCache("list1", "dynamic recommendation impression");}}}},processCoreMetricOnChange: function (box, swiper) {if (Biz.Personalization2016 && Biz.Personalization2016.CoremetricData) {for (var i = 0; i < Biz.Personalization2016.CoremetricData.length; i++) {var persData = Biz.Personalization2016.CoremetricData[i];if (persData && persData.position && box == persData.position) {swiper.curSendList = Biz.Common.Swiper.getCmDataOnChange(persData.position, persData.dataList, swiper);Biz.Common.Coremetric2016.send(swiper.curSendList);Biz.Common.SiteCatalyst.sendCache("list1", "dynamic recommendation impression");}}}},swiperBoxSingle: function (box) {var swiper = new Swiper(box + ' .swiper-container', {pagination: box + ' .swiper-pagination',prevButton: box + ' .swiper-box-arrow-prev',nextButton: box + ' .swiper-box-arrow-next',paginationClickable: true,preventClicks: false,onInit: function () {Biz.Common.Swiper.setSwiperLoopButton(box, swiper);},onSlideChangeStart: function () {this.preventClicks = true;},onSlideChangeEnd: function () {this.preventClicks = false;Biz.Common.Swiper.setSwiperLoopButton(box, swiper);},onTouchStart: function (swiper, e) {this.preventClicks = true;_mDownX = e.pageX;},onTouchEnd: function (swiper, e) {this.preventClicks = false;var _moveX = _mDownX - e.pageX;if (jQuery(box + ' .swiper-box-arrow-prev').hasClass('swiper-button-disabled') && _moveX < 0) {setTimeout(function () { Biz.Common.Swiper.setSwiperLoopDrag(box, 'prev'); }, 100);} else if (jQuery(box + ' .swiper-box-arrow-next').hasClass('swiper-button-disabled') && _moveX > 0) {setTimeout(function () { Biz.Common.Swiper.setSwiperLoopDrag(box, 'next'); }, 100);}}});},fixSwiperSnapGrid: function (box, swiper) {var $box = jQuery(box);var itemCount = swiper.slides.length;var pageCount = swiper.params.slidesPerView;var fixedBullets = Math.ceil(itemCount / pageCount);var originalBullets = swiper.snapGrid.length;if (originalBullets > fixedBullets) {var arr = $box.find('.swiper-pagination-bullet');jQuery(arr[arr.length - 1]).remove();var len = swiper.snapGrid.length;var lastGrid = Math.ceil(swiper.snapGrid[len - 1]);var realLastGrid = Math.ceil(swiper.snapGrid[len - 1 - 1]);if (realLastGrid == lastGrid) {swiper.snapGrid.length -= 1;}}return swiper.snapGrid.length;}};usingNamespace("Biz.Common")["ReCaptchaManager"] = (function (sitekey) {var captchaManager = {currentId: 0};var captchaMap = {};var has = function (captchaId) {return captchaMap.hasOwnProperty(captchaId);};var add = function (captchaId, onInit, onReset, onResponse) {captchaManager.currentId = captchaId;captchaMap[captchaId] = {};captchaMap[captchaId].onInit = onInit;captchaMap[captchaId].onReset = onReset;captchaMap[captchaId].onResponse = onResponse;};captchaManager.createWidget = function (captchaId) {captchaMap[captchaId].widgetId = grecaptcha.render(captchaId, {'sitekey': sitekey,'callback': captchaMap[captchaId].onResponse,'expired-callback': function () {grecaptcha.reset(captchaMap[captchaId].widgetId);captchaMap[captchaId].onReset();}});if (!!captchaMap[captchaId].onInit) {captchaMap[captchaId].onInit();}};captchaManager.createCaptcha = function (captchaId, onInit, onReset, onResponse) {if (has(captchaId)) {onInit(captchaId);return;}add(captchaId, onInit, onReset, onResponse);if (!!window.grecaptcha) {this.createWidget(captchaId);return;}var grc = document.createElement('script');grc.type = 'text/javascript';grc.src = 'https://www.google.com/recaptcha/api.js?onload=captchaJSCallback&render=explicit';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(grc);};return captchaManager;})(window.Web.Config.recaptchaKey);function captchaJSCallback() {var captchaManager = Biz.Common.ReCaptchaManager;captchaManager.createWidget(captchaManager.currentId);}function AskSellerCaptcha(contentId) {var clear = function () {jQuery('#' + this.id).remove();};var disableSubmit = function () {console.log('disable submit of ' + contentId);var askSellerSubmit = jQuery('#modal1 #ask-seller-submit-' + contentId);askSellerSubmit.css('cursor', 'default');askSellerSubmit.css('color', 'gray');askSellerSubmit.unbind('click');};var callback = function (response) {jQuery('#modal1 #recaptchaResponse' + contentId).val(response);var askSellerSubmit = jQuery('#modal1 #ask-seller-submit-' + contentId);askSellerSubmit.css('cursor', 'pointer');askSellerSubmit.css('color', '#222');askSellerSubmit.bind('click', function () {Biz.Product.AskSeller.Submit('askSellerIdForm_' + contentId);});};this.id = 'g-recaptcha-' + (new Date()).getTime();this.show = function () {clear();jQuery('#modal1 #li-anti-spam-' + contentId).append('<div id="' + this.id + '"></div>');Biz.Common.ReCaptchaManager.createCaptcha(this.id, disableSubmit, disableSubmit, callback);};}function prepareAskSellerCaptcha(contentId) {var captcha = new AskSellerCaptcha(contentId);captcha.show();}NEG.domReady(function () {NEG.run(function (require) {var jQuery = require("NEG.ThirdParty.JQuery");var itemImageClassName = [".item-container .item-img img", ".objImages .mainSlide img"];var bannerImageClassName = ["#heroModule li img", ".img-banners-box img"];var itemImageMark = "ex=2";var bannerImageMark = "@2x";var keepOrigionSize = function (image) {if (image.offsetWidth === 0 && image.offsetHeight) {image.setAttribute("width", image.naturalWidth);image.setAttribute("height", image.naturalHeight);} else {image.setAttribute("width", image.offsetWidth);image.setAttribute("height", image.offsetHeight);}return image;};var loadImage = function (image, src, positionflag) {var isImage = image.nodeName.toLowerCase() === 'img';var hdsrc = getRetinaImageUrl(src, positionflag);var virtualImage = document.createElement("img");virtualImage.addEventListener("load", function () {if (isImage) {keepOrigionSize(image).setAttribute("src", hdsrc);}});virtualImage.setAttribute("src", hdsrc);image.setAttribute("is-retina", true);};var getRetinaImageUrl = function (src, positionflag) {if (positionflag) {var stringArr = src.split(".");stringArr[stringArr.length - 2] = stringArr[stringArr.length - 2] + bannerImageMark;return stringArr.join(".");}return src + (src.indexOf("?") > -1 ? "&" : "?") + itemImageMark;};var insteadImage = function (classNameArray, positionflag) {for (var i = 0; i < classNameArray.length; i++) {var images = jQuery(classNameArray[i]);if (images.length > 0) {for (var j = 0; j < images.length; j++) {if (images[j].src.indexOf("blank.gif") > -1 && images[j].dataset && images[j].dataset.src) { images[j].setAttribute("data-src", getRetinaImageUrl(images[j].dataset.src)); continue; }loadImage(images[j], images[j].src, positionflag);}}}};var hasWindow = window ? true : false;var isRetina = hasWindow ? window.devicePixelRatio > 1 : false;if (isRetina) {insteadImage(itemImageClassName);insteadImage(bannerImageClassName, true);}});});usingNamespace("Biz.Common")["ImageLazyLoadMgr"] = (function () {var loadImage = function (img, src, dist, type) {var img$ = jQuery(img),isImage = img.nodeName.toLowerCase() === 'img',virtualImage = document.createElement('img');if (isImage) {virtualImage.addEventListener('load', function () {img$.hide();img.setAttribute("src", dist);img.setAttribute(type, true);var effect = img.dataset.effect;if (Object.prototype.toString.apply(img$[effect]) === "[object Function]") {img$[effect](200);}img$.show();});virtualImage.addEventListener('error', function () {img.setAttribute("src", dist);img.setAttribute(type, false);});virtualImage.setAttribute("src", dist);}};NEG.domReady(function () {NEG.run(function (require) {var $ = require("NEG.ThirdParty.JQuery"),viewport = require("NEG.Widget.Viewport");var list = $('img.lazy-img').toArray();viewport(list).on('FIRSTIN', function () {loadImage(this, this.src, this.dataset.src, "data-is-lazy-loaded");});window.scrollBy(1, 1);});});})();function prepareMiniCartInfo(isNeweggSite, isUnlockedSite) {var processBizLogic = function (response) {if (isNeweggSite) {Biz.Common.TopNavigation.cartPageHeader2015(response);} else {var getCartCount = function () {var cartInfo = "";if (response != null) {cartInfo = !response.UseCookie ? response.ItemPrice.decodeCookieURI().encodeHtml() : Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CART).encodeHtml();}var temp = /(\d*) \w*/.exec(cartInfo);var count = (temp && temp[1]) || 0;if (count > 0 && isUnlockedSite) {jQuery("#link").css('background-color', '#b8551b');}jQuery("#itemCount").text(count);};getCartCount();}if (response != null && !response.UseCookie && !response.ajaxGetDataFail) {var orderInfo = response.FormattedOrderItems;if (jQuery("#hiddenOrderInfo").length == 1) {jQuery("#hiddenOrderInfo")[0].value = orderInfo;jQuery(jQuery("#hiddenOrderInfo")[0]).attr('is-update', 1);}}};if (Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.NVTC) === "") {var tempResponse = new Object();tempResponse.ajaxGetDataFail = true;processBizLogic(tempResponse);}else {jQuery.ajax({url: Web.Config.Environment.Url.WWW + "Common/Ajax/MiniCartService.aspx?is4Config=1&" + new Date().getTime(),cache: false,async: true,dataType: "jsonp",jsonp: "action",jsonpCallback: 'proxy'}).done(function (data) {if (data) {var jsonData = JSON.parse(data.trim());if (jsonData.miniCartEnable && jsonData.miniCartEnable == "1") {Web.Config.Environment.SyncShoppingCart.MinicartServiceEnable = true;}else {Web.Config.Environment.SyncShoppingCart.MinicartServiceEnable = false;}if (jsonData.itemDetailLink && jsonData.itemDetailLink != "") {Web.Config.Environment.SyncShoppingCart.ItemDetailLink = jsonData.itemDetailLink;}if (jsonData.itemPriceLink && jsonData.itemPriceLink != "") {Web.Config.Environment.SyncShoppingCart.ItemPriceLink = jsonData.itemPriceLink;}}miniCartLogic();}).fail(function () {miniCartLogic();});var miniCartLogic = function () {if (!Web.Config.Environment.SyncShoppingCart.MinicartServiceEnable) {if (isNeweggSite) {Biz.Common.TopNavigation.cartPageHeader2015();} else {var getCartCount = function () {var cartInfo = "";cartInfo = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CART).encodeHtml();var temp = /(\d*) \w*/.exec(cartInfo);var count = (temp && temp[1]) || 0;if (count > 0 && isUnlockedSite) {jQuery("#link").css('background-color', '#b8551b');}jQuery("#itemCount").text(count);};getCartCount();}return;}var reqUrl = Web.Config.Environment.SyncShoppingCart.ItemPriceLink;var cfg = Web.StateManager.Cookies.Name.CFG;var currentRegionCode = Web.StateManager.Cookies.get(cfg, "RegionCode");currentRegionCode = currentRegionCode ? currentRegionCode : "USA";var postData = {rawDeviceId: Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.NVTC),loginId4: Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID4"),countryCode: Web.Config.SiteCookieInfo.bizUnit,regionCode: currentRegionCode,currencyCode: Web.StateManager.Cookies.get(cfg, "CurrencyCode"),s123: Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "s123"),SPT: Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.SPT)};jQuery.ajax({type: "POST",crossDomain: true,url: reqUrl,data: { MiniCartRequestData: JSON.stringify(postData) },dataType: "json",}).done(function (response) {if (response == null) {response = new Object();response.ajaxGetDataFail = true;}processBizLogic(response);}).fail(function () {var tempResponse = new Object();tempResponse.ajaxGetDataFail = true;processBizLogic(tempResponse);});};}}