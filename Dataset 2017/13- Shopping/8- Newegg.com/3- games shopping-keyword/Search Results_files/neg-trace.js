!function(e,t){function n(){var n="-",r=o.encode,i=e.screen,a=e.navigator,s=this._getViewport();this.screen=i?i.width+"x"+i.height:n,this.viewport=s.width+"x"+s.height,this.charset=r(t.characterSet?t.characterSet:t.charset?t.charset:n),this.language=(a&&a.language?a.language:a&&a.browserLanguage?a.browserLanguage:n).toLowerCase(),this.isFirstVisit=!1,this.serverName="undefined"!=typeof nt_serverName?nt_serverName:t.getElementById("nt_serverName")?t.getElementById("nt_serverName").value:"",this.varnish=o.Cookie.get("nt-varnish")}function r(e){this.url=e}function i(e){this._config=o.merge({sampleRate:100,beacon:"//pf2.newegg.com/_.gif"},e||{}),this._client=new n,this._beacon=new r(this._config.beacon),this._queue=[],this._timer=null,this._app=null,this._tags={},this.trackerId=o.getGUID(),this.visitorCode=o.random()}var a=Object.prototype.hasOwnProperty,o={hash:function(e){var t,n=1,r=0;if(e)for(n=0,t=e.length-1;t>=0;t--)r=e.charCodeAt(t),n=(n<<6&268435455)+r+(r<<14),r=266338304&n,n=0!==r?n^r>>21:n;return n},ArrayIndexOf:Array.prototype.indexOf?function(e,t){return e=[].slice.call(e,0),e.indexOf(t)}:function(e,t){for(var n=e.length,r=!1;n--&&!r;)if(r=e[n]===t)return n;return n},keyPaths:function(e,t){function n(e){return i.length>=10?void t(i.concat(),e):e instanceof Object?void r(e).forEach(function(t){i.push(t),n(e[t]),i.pop()}):void t(i.concat(),e)}var r=Object.keys||function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t},i=[];n(e)},whitelistify:function(e,t){var n=[];o.keyPaths(t,function(e){n.push(e.join("."))});var r="|"+n.join("|")+"|",i={};return o.keyPaths(e,function(e,t){if(-1!==r.indexOf("|"+e.join(".")+"|"))for(var n=i,a=0;a<e.length;a++)n[e[a]]||(n[e[a]]={}),a===e.length-1&&(n[e[a]]=t),n=n[e[a]]}),i},random:function(){return Math.round(2147483647*Math.random())},stringify:function(e){if("undefined"!=typeof JSON&&JSON.stringify)return JSON.stringify(e);var t=typeof e;switch(t){case"string":return'"'+e+'"';case"boolean":case"number":return String(e);case"object":if(null===e)return"null";var n=!1,r="";for(var i in e)if(a.call(e,i)){var s=""+i,c=o.stringify(e[i]);c.length&&(n?r+=",":n=!0,r+=e instanceof Array?c:'"'+s+'":'+c)}return e instanceof Array?"["+r+"]":"{"+r+"}";default:return""}},encode:function(e,t){return encodeURIComponent instanceof Function?t?encodeURI(e):encodeURIComponent(e):escape(e)},decode:function(e,t){var n;if(e=e.split("+").join(" "),decodeURIComponent instanceof Function)try{n=t?decodeURI(e):decodeURIComponent(e)}catch(r){n=unescape(e)}else n=unescape(e);return n},merge:function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);return e},buildQueryString:function(e){var t,n=o.encode,r=[];for(t in e)if(a.call(e,t)){var i="object"==typeof e[t]?o.stringify(e[t]):e[t];r.push(n(t)+"="+n(i))}return r.join("&")},addEventListener:function(t,n,r){return e.addEventListener?e.addEventListener(t,n,r):e.attachEvent?e.attachEvent("on"+t,n):void 0},onload:function(e){"complete"===t.readyState?e():o.addEventListener("load",e,!1)},onunload:function(e){o.addEventListener("unload",e)},domready:function(e){"interactive"===t.readyState?e():t.addEventListener?t.addEventListener("DOMContentLoaded",e,!1):t.attachEvent&&t.attachEvent("onreadystatechange",e)},onunload:function(e){o.addEventListener("unload",e,!1),o.addEventListener("beforeunload",e,!1)},now:function(){return(new Date).getTime()},ajax:function(t){if(e.XMLHttpRequest&&"file:"!==e.location.protocol)try{var n=new XMLHttpRequest;if(n){var r=o.merge({method:"GET",async:!0},t);n.open(r.method,r.url,r.async),n.setRequestHeader("Content-type","application/json"),n.send(JSON.stringify(r.data))}}catch(i){}},getGUID:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)}).toUpperCase()},Cookie:{get:function(e){for(var n=t.cookie,r=e+"=",i=r.length,a=n.length,o=0;a>o;){var s=o+i;if(n.substring(o,s)===r)return this._getValue(s);if(o=n.indexOf(" ",o)+1,0===o)break}return""},_getValue:function(e){var n=t.cookie,r=n.indexOf(";",e);return-1===r&&(r=n.length),decodeURIComponent(n.substring(e,r))}}};n.prototype={_getViewport:function(){return null!==e.innerWidth?{width:e.innerWidth,height:e.innerHeight}:"CSS1Compat"===t.compatMode?{width:t.documentElement.clientWidth,height:t.documentElement.clientHeight}:{width:t.body.clientWidth,height:t.body.clientWidth}},getInfo:function(){return{sr:this.screen,vp:this.viewport,cacheServer:this.varnish,serverName:this.serverName}}},r.MAX_URL_LENGTH=4096,r.prototype={config:function(e){this.url=e},send:function(e){e.version=i.VERSION;var t=o.buildQueryString(e);t.length&&(t.length<=r.MAX_URL_LENGTH?this._sendByImage(t):this.post(e))},post:function(e){o.ajax({url:this.url,method:"POST",data:e})},_sendByImage:function(e){var n=t.createElement("IMG");n.src=this.url+"?"+e,n.style.display="none",t.body.insertBefore(n,t.body.lastChild)},_sendByScript:function(e){var n=t.createElement("script");n.type="text/javascript",n.async=!0,n.src=this.url+"?"+e;var r=t.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r)}};var s=300;i.VERSION="0.0.1",i.Plugins={},i.addPlugin=function(e,t){if("function"!=typeof t.data)throw new Error("cannot add plugin: "+e);i.Plugins[e]=t},i.prototype={create:function(e,t){this._app=e;for(var n in t)this.config(n,t[n])},config:function(e,t){if(void 0!==t)switch(e){case"beacon":this._beacon.config(this._config.beacon=t)}},push:function(){for(var e=Array.prototype.slice,t=0,n=0,r=arguments.length;r>n;n++)try{var i=arguments[n];if("function"==typeof i)arguments[n](this);else{i=e.call(i,0);var a=i[0];this[a].apply(this,i.slice(1))}}catch(o){t++}return t},send:function(t,n,r,a){if(t){var o=i.Plugins[t],c=!1;if(o)a=n,n=o.data(r),n&&(c=!0,this._push({category:t,data:n},a));else if("number"==typeof n){var d={};d[t]=n,c=!0,this._push({data:d},a)}else"object"==typeof n&&(c=!0,this._push({category:t,data:n},a));if(c){var u=this;this._timer&&(e.clearTimeout(this._timer),this._timer=null),this._timer=e.setTimeout(function(){u._send.call(u,a)},s)}}},_push:function(t,n){var i=o.merge,a=this._client.getInfo(),s=i({app:this._app,page:e.location.pathname},this._tags);s=i(s,a);var c=i({header:s,traceId:this.trackerId},t);this._queue.push(c),o.buildQueryString(c).length>r.MAX_URL_LENGTH&&this._send(n)},_send:function(e){if(this._app&&this._isSample(e)&&this._queue.length){for(var t=0,n=this._queue.length;n>t;t++)this._beacon.send(this._queue[t]);this._queue=[]}},_isSample:function(e){return e=e>0?e:this._config.sampleRate,this.visitorCode%1e4<100*e}},i.addPlugin("page",{data:function(){var t=e,n=t.performance||t.mozPerformance||t.msPerformance||t.webkitPerformance;if(n&&0===n.navigation.type){var r=n.timing,i=[],a={spanId:"0",ns:r.navigationStart,rds:r.redirectStart,ues:r.unloadEventStart,uee:r.unloadEventEnd,rde:r.redirectEnd,fs:r.fetchStart,dls:r.domainLookupStart,dle:r.domainLookupEnd,cs:r.connectStart,scs:r.secureConnectionStart,ce:r.connectEnd,rqs:r.requestStart,rss:r.responseStart,rse:r.responseEnd,dl:r.domLoading,di:r.domInteractive,dcs:r.domContentLoadedEventStart,dce:r.domContentLoadedEventEnd,dc:r.domComplete,le:r.loadEventEnd,ls:r.loadEventStart,dataType:"page",source:0};if(r.msFirstPaint&&(a.fp=r.msFirstPaint),t.chrome&&t.chrome.loadTimes){var o=t.chrome.loadTimes();a.fp=Math.round(1e3*o.firstPaintTime)}return i.push(a),i}}}),i.addPlugin("resource",{data:function(t){var n=e,r=n.performance||n.mozPerformance||n.msPerformance||n.webkitPerformance;if(r&&0===r.navigation.type){var i=[],a=r.getEntriesByType("resource");if(a&&a.length)for(var s=0,c=a.length;c>s;s++){var d=a[s],u={},h=d.name&&d.name.split("?")[0];u.spanId="0."+(s+1).toString(),u.name=h,u.ns=parseInt(r.timing.navigationStart),u.st=parseInt(d.startTime),u.rds=parseInt(d.redirectStart),u.rde=parseInt(d.redirectEnd),u.fs=parseInt(d.fetchStart),u.dls=parseInt(d.domainLookupStart),u.dle=parseInt(d.domainLookupEnd),u.cs=parseInt(d.connectStart),u.scs=parseInt(d.secureConnectionStart),u.ce=parseInt(d.connectEnd),u.rqs=parseInt(d.requestStart),u.rss=parseInt(d.responseStart),u.rse=parseInt(d.responseEnd),u.dataType="resource",u.source=0,t?o.ArrayIndexOf(t,d.initiatorType)>-1&&i.push(u):i.push(u)}return i}}}),o.onload(function(){if(e.NeweggAnlyticsObject){var t=Object.prototype.toString,n=new i,r=e[e.NeweggAnlyticsObject],a=r?r.q:[];r.q=n,a&&"[object Array]"===t.call(a)&&n.push.apply(n,a)}})}(window,document);