/**
 * easyXDM
 * http://easyxdm.net/
 * Copyright(c) 2009-2011, Øyvind Sean Kinsey, oyvind@kinsey.no.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */

// Copyright(c) 2009-2011, Øyvind Sean Kinsey, oyvind@kinsey.no.

// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell

// The above copyright notice and this permission notice shall be included in

/*!
* jQuery throttle / debounce - v1.1 - 3/7/2010
* http://benalman.com/projects/jquery-throttle-debounce-plugin/
*
* Copyright (c) 2010 "Cowboy" Ben Alman
* Dual licensed under the MIT and GPL licenses.
* http://benalman.com/about/license/
*/

// Script: jQuery throttle / debounce: Sometimes, less is more!
//
// *Version: 1.1, Last updated: 3/7/2010*
//
// Project Home - http://benalman.com/projects/jquery-throttle-debounce-plugin/
// GitHub - http://github.com/cowboy/jquery-throttle-debounce/
// Source - http://github.com/cowboy/jquery-throttle-debounce/raw/master/jquery.ba-throttle-debounce.js
// (Minified) - http://github.com/cowboy/jquery-throttle-debounce/raw/master/jquery.ba-throttle-debounce.min.js (0.7kb)
//
// About: License
//
// Copyright (c) 2010 "Cowboy" Ben Alman,
// Dual licensed under the MIT and GPL licenses.
// http://benalman.com/about/license/
//
// About: Examples
//
// These working examples, complete with fully commented code, illustrate a few
// ways in which this plugin can be used.
//
// Throttle - http://benalman.com/code/projects/jquery-throttle-debounce/examples/throttle/
// Debounce - http://benalman.com/code/projects/jquery-throttle-debounce/examples/debounce/
//
// About: Support and Testing
//
// Information about what version or versions of jQuery this plugin has been
// tested with, what browsers it has been tested in, and where the unit tests
// reside (so you can test it yourself).
//
// jQuery Versions - none, 1.3.2, 1.4.2
// Browsers Tested - Internet Explorer 6-8, Firefox 2-3.6, Safari 3-4, Chrome 4-5, Opera 9.6-10.1.
// Unit Tests - http://benalman.com/code/projects/jquery-throttle-debounce/unit/
//
// About: Release History
//
// 1.1 - (3/7/2010) Fixed a bug in <jQuery.throttle> where trailing callbacks
// executed later than they should. Reworked a fair amount of internal
// logic as well.
// 1.0 - (3/6/2010) Initial release as a stand-alone project. Migrated over
// from jquery-misc repo v0.4 to jquery-throttle repo v1.0, added the
// no_trailing throttle parameter and debounce functionality.
//
// Topic: Note for non-jQuery users
//
// jQuery isn't actually required for this plugin, because nothing internal
// uses any jQuery methods or properties. jQuery is just used as a namespace
// under which these methods can exist.
//
// Since jQuery isn't actually required for this plugin, if jQuery doesn't exist
// when this plugin is loaded, the method described below will be created in
// the `Cowboy` namespace. Usage will be exactly the same, but instead of
// $.method() or jQuery.method(), you'll need to use Cowboy.method().

/*
* jQuery Mobile v1.4.0-alpha.1
* http://jquerymobile.com
*
* Copyright 2010, 2013 jQuery Foundation, Inc. and other contributors
* Released under the MIT license.
* http://jquery.org/license
*
*/

/*
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2013 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.9.3
 *
 */

define("optional",[],{load:function(e,t,n){var o=function(e){var t={};return"object"==typeof console&&"function"==typeof console.log&&console.log("The RequireJS Optional plugin is returning the following default response for the module: "+e,t),t},i=function(e){n(e)},a=function(e){var n=e.requireModules&&e.requireModules[0];"object"==typeof console&&"function"==typeof console.error&&console.error("Failed to load RequireJS module: "+n+"; the Optional plugin is handling the following exception:",e),n&&(requirejs.undef(n),define(n,[],function(){return o(n)}),t([n],i))};t([e],i,a)}}),define("managers/tealium",["jquery","version!fly/managers/debug","managers/page-vars","optional!tealium"],function(e,t,n){var o=t.get("tealium");return{trackLead:function(e){this._trackClickViaUtag("om","trackLeadClick","trackLeadClick",e)},trackExternalLink:function(e){this._trackClickViaUtag("om","trackClick","trackExternalLink",e)},trackSocial:function(e){var t="";t="object"==typeof n.tracking.data.collectionId?n.tracking.data.collectionId[0]:"string"==typeof n.tracking.data.collectionId?n.tracking.data.collectionId:"";var o={wd:"socialbutton",wdloc:"sharebar",ssite:e&&e.socialService?e.socialService:"",brand:n.tracking.data.brand,_collectionPrimaryId:t,_dwLinkTag:e.sharebarSection};this._trackClickViaUtag("om","trackSocialClick","trackSocialClick",e,o)},trackComment:function(t,o,i){var a="";a="object"==typeof n.tracking.data.collectionId?n.tracking.data.collectionId[0]:"string"==typeof n.tracking.data.collectionId?n.tracking.data.collectionId:"";var s={link_text:t,_clickAction:i?i:t,_levtType:"ria",_levtEventType:"log",_riaMapp:"livefyre",_riaObjType:"url",levtType:"social",socialService:"cnet",sc:"es",wdloc:"livefyrecommentbox",brand:n.tracking.data.brand,_collectionPrimaryId:a,_dwLinkTag:o.sharebarSection};this._trackClickViaUtag("utag","link",t,o,e.extend({},this._getUdoStockData(),s))},trackSuggestedSearch:function(e){var t={};this._trackClickViaUtag("om","trackSuggestedSearchClick","trackSuggestedSearchClick",e,t)},trackPodcast:function(e){this._trackClickViaUtag("om","trackPodcast","trackPodcast",e)},trackForum:function(e,t){var n={};this._trackClickViaUtag("om","trackForum",e,t,n)},trackVideo:function(e,t,o){var i=e.charAt(0).toUpperCase()+e.slice(1),a=0===t?"Start":100===t?"Complete":t+"Percent",s="pause"===e?"videoTime":"video"+i+a,r=n.tracking.data,l={_noLinkTrack:"LEVT",_videoAction:s,link_text:s,siteHier:r.siteHier,siteSection:r.siteSection,siteEdition:r.siteEdition,brand:r.brand,siteType:r.siteType,deviceType:r.deviceType,pageType:r.pageType,pageNum:null!=r.pageNum?r.pageNum:1,topicId:r.topicId,pageViewGuid:r.pageViewGuid,articleAuthorId:r.articleAuthorId,articleAuthorName:r.articleAuthorName,articleId:r.articleId,articleTitle:r.articleTitle,articleType:r.articleType,productId:r.productId,productName:r.productName};this._trackClickViaUtag("utag","link",s,o,l)},trackPageLoad:function(e){try{n.tracking.enabled===!0?(e="undefined"==typeof e?{}:e,utag.view(e),o.log("Track view: ",e)):o.log("Event tracking aborted; tracking is not enabled!")}catch(e){o.log("Page load tracking failed:",e)}},trackCustomEvent:function(e,t,n){var o={link_text:e,_clickAction:n?n:e,_noLinkTrack:"LEVT"};this._trackClickViaUtag("utag","link",e,t,o)},_trackClickViaUtag:function(t,i,a,s,r){try{if(n.tracking.enabled===!0){r="object"!=typeof r?{}:r;var l={_test:n.tracking.data.testName?n.tracking.data.testName+"|"+n.tracking.data.testVersion+"|"+n.tracking.data.testGroup:""};s="object"!=typeof s?e.extend({},l,r):e.extend({},l,r,s),e.inArray(t,["om","omnitureMgr","utag"])>=0?(window[t][i](s),"object"==typeof window.s&&(window.s.events=""),o.log(a+" ping: ",s)):o.log("Invalid tracking object",t)}else o.log(a+" aborted; tracking is not enabled!")}catch(e){o.log(a+" failed:",e)}},init:function(t){n.tracking.enabled===!0?(n.tracking.data=t,utag_data=t,o.log("Load tracking data: ",t),e(window).on("unload",function(){try{var e=document.createElement("img");e.setAttribute("src","//dw.cbsi.com/levt/ria/e.gif?event=log&mapp=exiteventtrack&riaevent=exit&v6="+window.location.href+"&v12="+(t.siteEdition||"")+"&v13="+(t.testName||"")+"|"+(t.testVersion||"")+"|"+(t.testGroup||"")+"&v16="+(t.pageViewGuid||"")+"&v17="+(t.topicId&&t.topicId.length>0?t.topicId[0]:"")+"&v18="+(t.articleId||"")+"&v19="+(t.pageType||"")+"&v20="+(t.articleType||"")+"&v21="+(t.siteType||"")+"|||"+(t.deviceType||"")+"&v23="+(t.dwAccount||"")+"&ts="+(new Date).getTime())}catch(e){}})):o.log("Initialization aborted; tracking is not enabled!")},setPageValue:function(e,t){this[e]=t,utag_data[e]=t,n.tracking.data[e]=t},setPageValues:function(t){e.extend(utag_data,t),e.extend(n.tracking.data,t)},getTrackingData:function(){return n.tracking.enabled===!0?n.tracking.data:{}},_getUdoStockData:function(){var e=n.tracking.data;return{siteEdition:e.siteEdition,pageViewGuid:e.pageViewGuid,pageType:e.pageType,siteHier:e.siteHier,siteType:e.siteType,deviceType:e.deviceType,articleId:e.articleId,articleTitle:e.articleTitle,articleType:e.articleType,articlePubDate:e.articlePubDate,articleAuthorId:e.articleAuthorId,articleAuthorName:e.articleAuthorName,topicId:e.topicId,topicName:e.topicName}}}}),define("fly/components/modal-1.0",["jquery","version!fly/components/base"],function(e){var t=e.support.touch?"vclick":"click";e.widget("fly.modal",e.fly.base,{options:{content:null,position:"absolute",classModal:"modal",classBackdrop:"modal-backdrop",classShow:"show",classFixed:"fixed",enableKeyEvents:!0,openOnInit:!1,template:null},$modal:null,$backdrop:null,$body:null,isOpen:!1,eventData:{},_create:function(){var n=this.options,o="fixed"===n.position?" "+n.classFixed:"",i={},a={};this._setup(),this.$modal=this.$element.addClass(n.classModal+o),this.$backdrop=e("<div>").addClass(n.classBackdrop+o),this.$body=e(document.body),this.top=parseInt(this.$modal.css("top"),10),n.content&&this.setContent(n.content),this.eventData={$modal:this.$modal,$backdrop:this.$backdrop},i[t]="_handleClose",a[t+' [data-close="modal"]']="_handleClose",this._on(this.$backdrop,i),this._on(this.$modal,a)},_init:function(){this.options.openOnInit&&this.open()},_handleKeyboard:function(e){27==e.keyCode&&this.close()},_handleClose:function(e){e.preventDefault(),this.close()},open:function(){var e=this.options;this.isOpen||this._trigger("open",null,this.eventData)!==!1&&(this.$backdrop.addClass(e.classShow).appendTo(this.$body),this.$modal.addClass(e.classShow).appendTo(this.$body),this.position(),e.enableKeyEvents&&this._on(this.$document,{keyup:"_handleKeyboard"}),this.isOpen=!0,this._trigger("opened",null,this.eventData))},close:function(){var e=this.options;this.isOpen&&this._trigger("close",null,this.eventData)!==!1&&(this.$backdrop.removeClass(e.classShow),this.$modal.removeClass(e.classShow),this._off(this.$document,"keyup"),this.isOpen=!1,this._trigger("closed",null,this.eventData))},setContent:function(t){var n,o=this.options,i=this,a=e(t);a.hasClass(o.classModal)&&(a.removeClass(o.classModal),n=a.prop("attributes"),e.each(n,function(){"class"===this.name?i.$modal.addClass(this.value):i.$modal.attr(this.name,this.value)}),a=a.children()),this.$modal.empty().append(a),this._trigger("contentSet",null,e.extend({},this.eventData,{$modal:this.$modal,$content:a}))},position:function(){var e=this.options,t=this.$window.height(),n=isNaN(this.top)?(t-this.$modal.outerHeight())/3:this.top;n<20&&(n=20),"absolute"==e.position&&(n+=this.$window.scrollTop(),this.$backdrop.css({height:this.$document.height()})),this.$modal.css({top:n}),this._trigger("positioned",null,{$modal:this.$modal})},_destroy:function(){this.$backdrop.remove()}}),e(document).on(t+".modal-api.data-api",'[data-open="modal"]',function(t){var n=e(this),o=n.data(),i=o.$modal;t.preventDefault(),i||(i=e(o.target||n.attr("href")),n.data("$modal",i)),i.length&&i.modal().modal("open")})}),define("components/global-modal",["jquery","version!fly/components/modal"],function(e){e.widget("cnet.globalModal",e.fly.modal,{options:{modalTemplate:'<a class="close" data-close="modal"></a> {{content}}',container:null,setContentOnInit:!0},_create:function(){var t=this,n=null;this.options.setContentOnInit||(n=this.options.content,this.options.content=null),this._super(),this.options.setContentOnInit||(this.options.content=n,this.$element.on("modalopen",function(){!t.options.setContentOnInit&&t.options.content&&t.setContent(t.options.content)})),this.$body=this.options.container?e(this.options.container):this.$body},setContent:function(t){var n,o=this.options,i=this;"string"==typeof t?this.$modal.html(o.modalTemplate.replace("{{content}}",t)):(t.hasClass(o.classModal)&&(t.removeClass(o.classModal),n=t.prop("attributes"),e.each(n,function(){"class"===this.name?i.$modal.addClass(this.value):i.$modal.attr(this.name,this.value)}),t=o.modalTemplate.replace("{{content}}",t.html())),this.$modal.empty().append(t),this._trigger("contentSet",null,e.extend({},this.eventData,{$modal:this.$modal,$content:t})))},position:function(){var t,n,o,i,a,s,r=this.options,l=this.$body.is(e(document.body));l?(t=this.$window.height(),o=this.$window.scrollTop(),a=this.$document.height(),s=this.$window.width()/2,i=this.$window.scrollLeft()):(t=this.$body.height(),o=this.$body.scrollTop(),a=t,s=this.$body.width()/2,i=this.$body.scrollLeft()),n=isNaN(this.top)?(t-this.$modal.outerHeight())/3:this.top,n<20&&(n=20),"absolute"==r.position&&(n+=o,this.$backdrop.css({height:a})),this.$modal.css({top:n}),this._trigger("positioned",null,{$modal:this.$modal}),this.$element.css("left",s+i-this.$element.outerWidth()/2)}})}),define("translations/user-controller",["managers/edition"],function(e){var t={en:{loginText:"Sign In / Join"},es:{loginText:"Iniciar sesión / Crear cuenta"}};return e.getTranslation(t)}),define("utils/urs-helper",["jquery","version!fly/managers/debug","optional!urs"],function(e,t){t=t.init("ursHelper");var n={16:257,103:259,222:263,225:265,242:266,256:268,295:298,358:359,363:361,364:362,368:365,369:366,370:367,372:371,403:401,404:402,9:269,36:270,74:278,305:304,27:280,374:373,376:375,393:394,395:396,397:398};return{getSocialAppId:function(e){return n[e]},getUrs:function(e,t){var n={};return"object"==typeof window.URS&&"function"==typeof URS.getInstance&&"function"==typeof URS.newInstance&&(n=URS.getInstance(e,"v2.2"),n||(n=URS.newInstance({appId:e,clientToken:"12d6d06e118e4a90",environment:URS.ursEnvironments.LIVE,version:"v2.2"}),t&&t(n))),n}}}),define("fly/utils/string-vars-1.0",["jquery"],function(e){return{compile:function(t,n,o){var i=this;return"string"!=typeof t?"":(o=e.makeArray(o),t=t.replace(/\{([^}]+)\}/g,function(t){var a=o,s="";return t=t.replace(/\|[^\}|]+/g,function(e){return a.push(e.substr(1)),""}),s=n[t.replace(/[{}]+/g,"")]||"",e.each(a,function(e,t){s=i.modify(t,s)}),s}))},modify:function(e,t){switch(e){case"lower":t=t.toLowerCase();break;case"upper":t=t.toUpperCase();break;case"urlencode":t=encodeURIComponent(t)}return t}}}),define("fly/components/loading-1.0",["jquery","version!fly/utils/string-vars","version!fly/components/base"],function(e,t){e.widget("fly.loading",e.fly.base,{options:{disabled:!1,delay:100,timeout:25e3,initState:"",template:'<div class="{baseClass} {stateClass}"><span class="text">{text}</span></div>',classes:{base:"loader",idle:"",loading:"loading",end:"load-end",error:"load-error"},text:{idle:"",loading:"Loading",end:"The End",error:"Error Encountered :("}},_create:function(){this._setup(),this._state=null,this._timeoutId=null},_init:function(){var e=this.options;!e.disabled&&e.initState&&(this._setContent(e.initState),this._state=e.initState)},_setContent:function(n,o){var i,a=this.options;return"remove"===n?void this.$element.empty():(i=t.compile(a.template,e.extend({state:n,baseClass:a.classes.base,stateClass:a.classes[n],text:a.text[n]},o)),void this.$element.html(i))},add:function(){var t=this.options;this._trigger("add")!==!1&&(this.update("loading"),"number"==typeof t.timeout&&t.timeout>0&&(this._timeoutId=setTimeout(e.proxy(this.remove,this),t.timeout)),this._trigger("added"))},remove:function(){this._trigger("remove")!==!1&&(this.update("remove"),this._trigger("removed"))},update:function(e,t){var n=this.options,o={state:e};this._trigger("update",null,o)!==!1&&(this._state=e,n.disabled||(clearTimeout(this._timeoutId),this._setContent(e,t),this._trigger("updated",null,o)))},isLoading:function(){return"loading"===this._state},getState:function(){return this._state},_setOption:function(e,t){var n=this.options;"data"===e?this.$element.data("data",t):"disabled"===e&&(t===!0?this.$element.empty():this._setContent(n.initState)),this._super(e,t)},_destroy:function(){this.$element.remove()}})}),define("fly/components/modal-iframe-1.0",["jquery","version!fly/utils/object-helper","version!fly/utils/url-helper","version!fly/components/modal","version!fly/components/loading"],function(e,t,n){e.support.touch?"vclick":"click";e.widget("fly.modalIframe",e.fly.modal,{options:{url:null,requestData:{},messages:{},loader:{disabled:!1}},messenger:null,_create:function(){this._super(),this._setupLoader()},_setupLoader:function(){var t=this;this.loader=e.fly.loading(e.extend(this.options.loader,{shown:function(){t.$element.addClass(t.loader.options.classes.loading)},hidden:function(){t.$element.removeClass(t.loader.options.classes.loading)}})),this.loader.$element.appendTo(this.$element)},open:function(){this.isOpen||(this.loader.add(),this.loadContent(),this._super())},_getUrl:function(){var t=this.options,n=t.url;return t.requestData&&(n=n+(n.indexOf("?")>0?"&":"?")+e.param(t.requestData)),n},loadContent:function(){var t=this.options,n=this;this.messenger=this.$element.iframeMessenger({remoteUrl:this._getUrl(),receivableMessages:e.extend({},t.messages,{ready:function(){n._trigger("iframeReady"),n.loader.remove()},closeModal:function(){n.close()},scroll:function(t){var o=n.$element.offset().top+t.offset;o-=n.$window.height()/6,e("html, body").animate({scrollTop:o},"fast")}})})}})}),define("translations/loading",["managers/edition"],function(e){var t={en:{loading:"Loading",end:"The End",error:"Error Encountered"},es:{loading:"Cargando",end:"Fin",error:"Error Encontrado"}};return e.getTranslation(t)}),define("components/loading",["jquery","version!fly/managers/debug","translations/loading","version!fly/components/loading"],function(e,t,n){t=t.init("loading"),e.widget("cnet.loading",e.fly.loading,{options:{classes:{base:"loader",idle:"",loading:"loadingCircle",end:"load-end",error:"load-error"},text:n},add:function(){this._super(),this.$element.parent().addClass("loadingArea")},remove:function(){this._super(),this.$element.parent().removeClass("loadingArea")}})}),define("components/modal-iframe",["jquery","version!fly/managers/debug","version!fly/components/modal-iframe","components/loading"],function(e,t){t=t.init("modalIframe"),e.widget("fly.modalIframe",e.fly.modalIframe,{options:{modalTemplate:'<a class="close" data-close="modal"></a> {{content}}',loader:{classes:{loading:"loadingCircle"}}},$body:null,_create:function(){this._super(),this.$body=e(document.body),this.setContent('<a class="close" data-close="modal"></a>'),this._setupLoader()},_setupLoader:function(){var t=this;this.loader=e.cnet.loading(e.extend(this.options.loader,{shown:function(){t.$element.addClass(t.loader.options.classes.loading)},hidden:function(){t.$element.removeClass(t.loader.options.classes.loading)}})),this.loader.$element.appendTo(this.$element)},open:function(){this.isOpen||(this.loader.add(),this.loadContent(),this._super(),this.centerHorizontally())},loadContent:function(){var t=this.options,n=this;this.messenger=this.$element.iframeMessenger({remoteUrl:this._getUrl(),receivableMessages:e.extend({},t.messages,{ready:function(){n._trigger("iframeReady"),n.loader.remove(),setTimeout(n.centerHorizontally.bind(n),250)},closeModal:function(){n.close()}})})},centerHorizontally:function(){this.$element.css("margin-left",-(this.$element.width()/2))},position:function(){var e=this.options,t=this.$window.height(),n=isNaN(this.top)?(t-this.$modal.outerHeight())/3:this.top;n<20&&(n=20),"absolute"==e.position&&(n+=this.$window.scrollTop(),this.$backdrop.css({height:this.$document.height()})),this.$modal.css({top:n}),this._trigger("positioned",null,{$modal:this.$modal})}})}),define("components/user-controller",["jquery","utils/cookie","version!fly/managers/debug","translations/user-controller","managers/edition","managers/page-vars","version!fly/utils/string-helper","managers/tealium","utils/urs-helper","version!fly/components/base","components/modal-iframe","optional!urs","utils/function-natives"],function(e,t,n,o,i,a,s,r,l){n=n.init("userController"),e.widget("cnet.userController",e.fly.base,{options:{urls:{login:"/user/login/",register:"/user/registration/",confirmRegistration:"/user/instructions-confirm-registration/",forgotPassword:"/user/forgotten-password/",passwordSent:"/user/password-sent/",createUsername:"/user/create-username/",sendConfirmation:"/user/send-confirmation/?registered=1",userData:"/user/get-data/",socialAdditionalInformation:"/user/social-additional-information/"},suppressWhileLoggedIn:[],classLinked:"linked",classUnlinked:"unlinked",textLinked:"Linked to ",textUnlinked:"Unlinked to ",cookieUserRecognized:"urs_social_recognized"},events:{showModal:function(t){this.showModal(t.modal,e.extend(!0,t.params,{appId:this.currentAppId}))},submit:function(){this.modal.loader.add()},submitted:function(){this.modal.loader.remove()},logoutSuccess:function(){r.trackCustomEvent("trackLogout",{ursId:"",userState:"not authenticated",userType:"anon"},"logout")},loginSuccess:function(o){if(o.messages.success){var i=!this.suppressReload;if(r.trackCustomEvent("trackLogin",{ursId:o.user.registrationId,userState:"authenticated",userType:"registered"},"login"),t.write("previousLogin",o.user.registrationId,{expires:365}),n.log("making immediate post login call to urs for edition"),e.ajax({dataType:"json",url:this.options.urls.userData,async:!1,success:function(e){if(e.user.edition&&t.write("fly_preferred_edition",e.user.edition,{expires:365}),e.user.downloadUseInstaller&&("true"==e.user.downloadUseInstaller||"false"==e.user.downloadUseInstaller)&&null===t.read("killDlm")){var n="true"==e.user.downloadUseInstaller?"no":"yes";t.write("killDlm",n,{expires:7300})}}}),this.userData.userName=o.user.userName,this.userData.registrationId=o.user.registrationId,this.isLoggedIn=!0,this.modal.close(),"function"==typeof this.nextAction){var a=this.nextAction;this.nextAction=null,i=a(o)}i!==!1?"www.theroadshow.com"===window.location.hostname?window.location="https://www.cnet.com/roadshow/":window.location.reload():this._loadUserData()}},loginFailure:function(e){e.messages&&e.messages.error&&e.messages.error.length>0?e.messages.error.find(function(e){return"This account has reached maximum failed authentication attempts."===e})&&(this.modal.close(),this.showModal("forgotPassword",{appId:this.currentAppId,locked:"1"})):(this.modal.close(),this.showModal("confirmRegistration",{appId:this.currentAppId,email:e.email}))},registerSuccess:function(e){e.messages.success&&(r.trackCustomEvent("trackRegistrationNew",{userRegFormType:"",userRegService:""},"newRegistration"),this.modal.close(),"es"!==a.edition.code&&this.showModal("confirmRegistration",{appId:this.currentAppId,email:e.email,registered:1}))},registerFailure:function(e){},forgotPasswordSuccess:function(e){e.messages.success&&(this.modal.close(),this.showModal("passwordSent",{appId:this.currentAppId,email:e.email}),r.trackCustomEvent("trackForgotPassword",{},"forgotPassword"))},forgotPasswordFailure:function(e){},createUsernameSuccess:function(e){var t=!this.suppressReload;if(e.messages.success){if(this.userData.userName=e.user.userName,"function"==typeof this.nextAction){var n=this.nextAction;this.nextAction=null,t=n()}this.modal.close(),t!==!1?window.location.reload():this._loadUserData()}},createUsernameFailure:function(e){},socialAuthComplete:function(e){this._handleAuthComplete(e.event,e.apiResponse)}},modal:null,isLoggedIn:!1,userData:null,nextAction:null,suppressReload:!1,currentAppId:i.getDefaultAppId(),_create:function(){var t=this;this._setup(),t.options=e.extend(!0,t.options,a.user),e(document).ready(function(){t._cacheBreakLegacy()}),this._setupEvents(),this._loadUserData(),this._initSocialRecognition()},_setupEvents:function(){var t=this;e.each(this.events,function(e,n){t.events[e]=n.bind(t)}),this.setupButtonEvents(),"true"==e('[data-user-action="logout"]').attr("data-user-suppress-refresh")&&this.$document.on("tap",'[data-user-action="logout"]',function(e){e.preventDefault(),t.ajaxLogOut()})},setupButtonEvents:function(t){var n=this;e("[data-user-show]",t).on("tap",function(t){t.preventDefault();var o=e(this).data("userShow");n.suppressReload=o.suppressReload,o.params.appId&&(n.currentAppId=o.params.appId),"desktop"==a.device?n.showModal(o.action,o.params):n._redirect(o.action,o.params)}),this.$document.on("tap","[data-user-access]",function(t){t.preventDefault();var o=e(this).data("userAccess");n.hasAccess(o)}),window.URS&&e("[data-user-social]",t).on("tap",function(t){t.preventDefault();var o=e(this).data("userSocial"),i=l.getUrs(l.getSocialAppId(o.params.appId),n._setupSocialEvents.bind(n));if(n.currentAppId=o.params.appId,"object"==typeof i.social&&"function"==typeof i.social.authenticate)if("login"===o.action)i.social.authenticate(o.socialSite);else if("register"===o.action){var a=e("#user_tos");if(0===a.length||a.prop("checked"))i.social.authenticate(o.socialSite,!0);else{var s=a.closest("form").data("formValidate");s.testField(a)}}})},_setupSocialEvents:function(t){var n=this;t.common.addEventListener(URS.events.AUTH_COMPLETE,this._handleAuthComplete.bind(this)),t.common.addEventListener(URS.events.GET_LINKS_COMPLETE,function(o,i){var a=e.map(i.response.socialLinks,function(e,t){return e.socialSite});e.each(URS.social.sites,function(o,i){var s=e("[data-user-link="+i+"]");s.length>0&&(e.inArray(i,a)>=0?s.removeClass(n.options.classUnlinked).addClass(n.options.classLinked):s.removeClass(n.options.classLinked).addClass(n.options.classUnlinked),s.on("tap",function(o){e(this).hasClass(n.options.classLinked)?t.social.unlink(i):t.social.link(i)}))})}),t.common.addEventListener(URS.events.LINK_COMPLETE,function(t,o){!o.hasErrors()&&o.response.linked&&e("[data-user-link="+o.response.socialSite+"]").removeClass(n.options.classUnlinked).addClass(n.options.classLinked)}),t.common.addEventListener(URS.events.UNLINK_COMPLETE,function(t,o){!o.hasErrors()&&o.response.accountUnlinked&&e("[data-user-link="+o.response.socialSite+"]").removeClass(n.options.classLinked).addClass(n.options.classUnlinked)})},_handleAuthComplete:function(n,o){var i=this,s=!0;if(o.response.status.errors&&o.response.status.errors.length>0){var r=e.map(o.response.status.errors,function(e,t){return e.applicationCode}),l=r.join(",");if(l.indexOf("invalid.noLink")>=0)this.showModal("register",{appId:this.currentAppId});else if(l.match(/required\.|\.required/)){for(var c=[],d=0;d<r.length;d++)r[d].match(/required\.|\.required/)&&c.push(r[d].replace(/required\.|\.required/,"").toLowerCase());this.showModal("socialAdditionalInformation",{appId:this.currentAppId,socialSite:"facebook",fields:c.join(",")})}}else t.write(this.options.cookieUserRecognized,JSON.stringify({username:o.response.receipt.account.displayName,socialSite:o.response.socialSite}),{expires:365}),this.userData=null,e.post("/user/social-login/",{email:o.response.receipt.account.emailAddress},function(t){if("success"===t.status){null!==i.modal&&i.modal.close();var n=e('input[name="redirectUrl"],input[name="path"],input[name="user[path]"]');"desktop"==a.device?("function"==typeof i.nextAction&&(s=i.nextAction(o.response.receipt.account),i.nextAction=null),n.length>0&&n.val().length>0?window.location.href=n.val():s!==!1?window.location.reload():i._loadUserData()):window.location.href=n.length>0&&n.val().length>0?n.val():"/"}},"json")},_loadUserData:function(){var n=this;t.read("purs_1")?e.ajax({dataType:"json",url:this.options.urls.userData}).done(function(t){if(n.isLoggedIn=t.isLoggedIn,n.userData=e.extend(!0,t.user,{isLoggedIn:t.isLoggedIn}),n._updateDisplay(),n.isLoggedIn){var o=l.getUrs(l.getSocialAppId(i.getDefaultAppId()),n._setupSocialEvents.bind(n));"object"==typeof o.social&&"function"==typeof o.social.getLinks&&(o.social.getLinks(),n.$element.trigger("userhasloggedin"))}n.$element.trigger("userdataloaded",[n.userData])}):this.userData={status:"success",isLoggedIn:!1}},_redirect:function(t,n){var o=this.options.urls[t],i=o;n&&(i+=(o.indexOf("?")>0?"&":"?")+e.param(n)),window.location.href=i},_updateDisplay:function(){var t=this,n=e("body");this.isLoggedIn?(e("[data-user-var]").each(function(){var n=e(this),o=n.data("userVar"),i=n.data("userVarAttr"),s=t.userData[o];"userName"===o?(s||(s=t.userData.displayName),s.length>13&&"mobile"==a.device&&(s=s.substr(0,13)+"...")):"profileLink"===o&&(i="href",s=n.attr("data-template").replace("__username__",t.userData.userName?t.userData.userName.replace(/ /g,"+").toLowerCase():t.userData.registrationId)),s&&(i?n.attr(i,s):"avatar"===o?(n.html('<img src="'+s+'" />'),n.addClass("profilePic")):n.text(s))}),n.addClass("is-logged-in").removeClass("not-logged-in")):n.removeClass("is-logged-in").addClass("not-logged-in")},_cacheBreakLegacy:function(){this.getUserData(function(t,n){if(n.isLoggedIn){var o=e('[data-user-action="legacy"]'),i=(new Date).getTime();o.each(function(t,n){var o=e(n);o.attr("href",o.attr("href")+"?t="+i)})}})},ajaxLogOut:function(){var t=this;e.ajax({dataType:"json",url:e('[data-user-action="logout"]').attr("href"),success:function(n){t.isLoggedIn=!1,t.userData={status:"success",isLoggedIn:!1},t._updateDisplay(),e('[data-user-var="userName"]').text(o.loginText),e('[data-user-var="avatar"]').removeClass("profilePic"),e('[data-user-var="avatar"] img').remove(),t.$element.trigger("userhasloggedout")}})},_initSocialRecognition:function(){var n=this,o=JSON.parse(t.read(this.options.cookieUserRecognized)),i=e(".unrecognized"),a=e(".recognized");o?(i.hide(),a.show(),e("[data-user-template]",a).each(function(t,n){var i=e(n);"name"===i.data("userTemplate")&&i.text(o.username)}),e("[data-user-social]",a).each(function(t,n){var i=e(n),a=i.data("userSocial");i.data("userSocial",e.extend(!0,a,{socialSite:o.socialSite})),i.addClass(o.socialSite),e(".logo",i).text(o.socialSite)}),e("[data-user-action]",a).on("tap",function(t){"differentNetwork"===e(this).data("userAction")&&(e.removeCookie(n.options.cookieUserRecognized,{path:"/",domain:".cnet.com"}),a.hide(),i.show())})):(i.show(),a.hide())},showModal:function(e,t){this._redirect(e,t)},hasAccess:function(t){var n=this;t=e.extend(!0,{requireUsername:!1,nextAction:e.noop,eCode:"",forceRegistration:!1,redirectUrl:null},t),t.appId&&(this.currentAppId=t.appId);var o=t.redirectUrl?{redirectUrl:t.redirectUrl}:{};this.getUserData(function(i,s){s&&n.isLoggedIn||!t.forceRegistration?s&&n.isLoggedIn?t.requireUsername&&!s.userName?"desktop"==a.device?(n.nextAction=t.nextAction,n.showModal("createUsername",{appId:t.appId})):n._redirect("createUsername",e.extend({},{appId:t.appId},o)):t.nextAction(s):"desktop"==a.device?(n.nextAction=t.nextAction,n.showModal("login",{appId:t.appId})):n._redirect("login",e.extend({},{appId:t.appId},o)):"desktop"==a.device?(n.nextAction=t.nextAction,n.showModal("register",{appId:t.appId,eCode:t.eCode})):n._redirect("register",e.extend({},{appId:t.appId},o))})},getUserData:function(e){this.userData?e(null,this.userData):this.$element.on("userdataloaded",e)}})}),define("translations/user-form",["managers/edition"],function(e){var t={en:{globalError:"We are having technical difficulties. Please try again."},es:{globalError:"Estamos experimentando fallas técnicas. Por favor intenta de nuevo."}};return e.getTranslation(t)}),function(e,t,n,o,i,a){function s(e,t){var n=typeof e[t];return"function"==n||!("object"!=n||!e[t])||"unknown"==n}function r(e,t){return!("object"!=typeof e[t]||!e[t])}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function c(){var e="Shockwave Flash",t="application/x-shockwave-flash";if(!b(navigator.plugins)&&"object"==typeof navigator.plugins[e]){var n=navigator.plugins[e].description;n&&!b(navigator.mimeTypes)&&navigator.mimeTypes[t]&&navigator.mimeTypes[t].enabledPlugin&&(q=n.match(/\d+/g))}if(!q){var o;try{o=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),q=Array.prototype.slice.call(o.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),o=null}catch(e){}}if(!q)return!1;var i=parseInt(q[0],10),a=parseInt(q[1],10);return E=i>9&&a>0,!0}function d(){if(!B){B=!0;for(var e=0;e<V.length;e++)V[e]();V.length=0}}function u(e,t){return B?void e.call(t):void V.push(function(){e.call(t)})}function p(){var e=parent;if(""!==U)for(var t=0,n=U.split(".");t<n.length;t++)e=e[n[t]];return e.easyXDM}function m(t){return e.easyXDM=H,U=t,U&&(F="easyXDM_"+U.replace(".","_")+"_"),j}function h(e){return e.match(L)[3]}function f(e){return e.match(L)[4]||""}function g(e){var t=e.toLowerCase().match(L),n=t[2],o=t[3],i=t[4]||"";return("http:"==n&&":80"==i||"https:"==n&&":443"==i)&&(i=""),n+"//"+o+i}function v(e){if(e=e.replace(O,"$1/"),!e.match(/^(http||https):\/\//)){var t="/"===e.substring(0,1)?"":n.pathname;"/"!==t.substring(t.length-1)&&(t=t.substring(0,t.lastIndexOf("/")+1)),e=n.protocol+"//"+n.host+t+e}for(;R.test(e);)e=e.replace(R,"");return e}function y(e,t){var n="",o=e.indexOf("#");o!==-1&&(n=e.substring(o),e=e.substring(0,o));var i=[];for(var s in t)t.hasOwnProperty(s)&&i.push(s+"="+a(t[s]));return e+(N?"#":e.indexOf("?")==-1?"?":"&")+i.join("&")+n}function b(e){return"undefined"==typeof e}function k(e,t,n){var o;for(var i in t)t.hasOwnProperty(i)&&(i in e?(o=t[i],"object"==typeof o?k(e[i],o,n):n||(e[i]=t[i])):e[i]=t[i]);return e}function w(){var e=t.body.appendChild(t.createElement("form")),n=e.appendChild(t.createElement("input"));n.name=F+"TEST"+M,$=n!==e.elements[n.name],t.body.removeChild(e)}function _(e){b($)&&w();var n;$?n=t.createElement('<iframe name="'+e.props.name+'"/>'):(n=t.createElement("IFRAME"),n.name=e.props.name),n.id=n.name=e.props.name,delete e.props.name,"string"==typeof e.container&&(e.container=t.getElementById(e.container)),e.container||(k(n.style,{position:"absolute",top:"-2000px",left:"0px"}),e.container=t.body);var o=e.props.src;if(e.props.src="javascript:false",k(n,e.props),n.border=n.frameBorder=0,n.allowTransparency=!0,e.container.appendChild(n),e.onLoad&&A(n,"load",e.onLoad),e.usePost){var i,a=e.container.appendChild(t.createElement("form"));if(a.target=n.name,a.action=o,a.method="POST","object"==typeof e.usePost)for(var s in e.usePost)e.usePost.hasOwnProperty(s)&&($?i=t.createElement('<input name="'+s+'"/>'):(i=t.createElement("INPUT"),i.name=s),i.value=e.usePost[s],a.appendChild(i));a.submit(),a.parentNode.removeChild(a)}else n.src=o;return e.props.src=o,n}function T(e,t){"string"==typeof e&&(e=[e]);for(var n,o=e.length;o--;)if(n=e[o],n=new RegExp("^"==n.substr(0,1)?n:"^"+n.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),n.test(t))return!0;return!1}function C(o){var i,a=o.protocol;if(o.isHost=o.isHost||b(W.xdm_p),N=o.hash||!1,o.props||(o.props={}),o.isHost)o.remote=v(o.remote),o.channel=o.channel||"default"+M++,o.secret=Math.random().toString(16).substring(2),b(a)&&(a=g(n.href)==g(o.remote)?"4":s(e,"postMessage")||s(t,"postMessage")?"1":o.swf&&s(e,"ActiveXObject")&&c()?"6":"Gecko"===navigator.product&&"frameElement"in e&&navigator.userAgent.indexOf("WebKit")==-1?"5":o.remoteHelper?"2":"0");else if(o.channel=W.xdm_c.replace(/["'<>\\]/g,""),o.secret=W.xdm_s,o.remote=W.xdm_e.replace(/["'<>\\]/g,""),a=W.xdm_p,o.acl&&!T(o.acl,o.remote))throw new Error("Access denied for "+o.remote);switch(o.protocol=a,a){case"0":if(k(o,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),o.isHost){if(!o.local){for(var r,l=n.protocol+"//"+n.host,d=t.body.getElementsByTagName("img"),u=d.length;u--;)if(r=d[u],r.src.substring(0,l.length)===l){o.local=r.src;
break}o.local||(o.local=e)}var p={xdm_c:o.channel,xdm_p:0};o.local===e?(o.usePolling=!0,o.useParent=!0,o.local=n.protocol+"//"+n.host+n.pathname+n.search,p.xdm_e=o.local,p.xdm_pa=1):p.xdm_e=v(o.local),o.container&&(o.useResize=!1,p.xdm_po=1),o.remote=y(o.remote,p)}else k(o,{channel:W.xdm_c,remote:W.xdm_e,useParent:!b(W.xdm_pa),usePolling:!b(W.xdm_po),useResize:!o.useParent&&o.useResize});i=[new j.stack.HashTransport(o),new j.stack.ReliableBehavior({}),new j.stack.QueueBehavior({encode:!0,maxLength:4e3-o.remote.length}),new j.stack.VerifyBehavior({initiate:o.isHost})];break;case"1":i=[new j.stack.PostMessageTransport(o)];break;case"2":o.isHost&&(o.remoteHelper=v(o.remoteHelper)),i=[new j.stack.NameTransport(o),new j.stack.QueueBehavior,new j.stack.VerifyBehavior({initiate:o.isHost})];break;case"3":i=[new j.stack.NixTransport(o)];break;case"4":i=[new j.stack.SameOriginTransport(o)];break;case"5":i=[new j.stack.FrameElementTransport(o)];break;case"6":q||c(),i=[new j.stack.FlashTransport(o)]}return i.push(new j.stack.QueueBehavior({lazy:o.lazy,remove:!0})),i}function x(e){for(var t,n={incoming:function(e,t){this.up.incoming(e,t)},outgoing:function(e,t){this.down.outgoing(e,t)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},o=0,i=e.length;o<i;o++)t=e[o],k(t,n,!0),0!==o&&(t.down=e[o-1]),o!==i-1&&(t.up=e[o+1]);return t}function S(e){e.up.down=e.down,e.down.up=e.up,e.up=e.down=null}var $,q,E,A,I,D=this,M=Math.floor(1e4*Math.random()),P=Function.prototype,L=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,R=/[\-\w]+\/\.\.\//,O=/([^:])\/\//g,U="",j={},H=e.easyXDM,F="easyXDM_",N=!1;if(s(e,"addEventListener"))A=function(e,t,n){e.addEventListener(t,n,!1)},I=function(e,t,n){e.removeEventListener(t,n,!1)};else{if(!s(e,"attachEvent"))throw new Error("Browser not supported");A=function(e,t,n){e.attachEvent("on"+t,n)},I=function(e,t,n){e.detachEvent("on"+t,n)}}var z,B=!1,V=[];if("readyState"in t?(z=t.readyState,B="complete"==z||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==z||"interactive"==z)):B=!!t.body,!B){if(s(e,"addEventListener"))A(t,"DOMContentLoaded",d);else if(A(t,"readystatechange",function(){"complete"==t.readyState&&d()}),t.documentElement.doScroll&&e===top){var G=function(){if(!B){try{t.documentElement.doScroll("left")}catch(e){return void o(G,1)}d()}};G()}A(e,"load",d)}var W=function(e){e=e.substring(1).split("&");for(var t,n={},o=e.length;o--;)t=e[o].split("="),n[t[0]]=i(t[1]);return n}(/xdm_e=/.test(n.search)?n.search:n.hash),X=function(){var e={},t={a:[1,2,3]},n='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(t).replace(/\s/g,"")===n?JSON:(Object.toJSON&&Object.toJSON(t).replace(/\s/g,"")===n&&(e.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(t=n.evalJSON(),t.a&&3===t.a.length&&3===t.a[2]&&(e.parse=function(e){return e.evalJSON()})),e.stringify&&e.parse?(X=function(){return e},e):null)};k(j,{version:"2.4.19.3",query:W,stack:{},apply:k,getJSONObject:X,whenReady:u,noConflict:m}),j.DomHelper={on:A,un:I,requiresJSON:function(n){r(e,"JSON")||t.write('<script type="text/javascript" src="'+n+'"></script>')}},function(){var e={};j.Fn={set:function(t,n){e[t]=n},get:function(t,n){if(e.hasOwnProperty(t)){var o=e[t];return n&&delete e[t],o}}}}(),j.Socket=function(e){var t=x(C(e).concat([{incoming:function(t,n){e.onMessage(t,n)},callback:function(t){e.onReady&&e.onReady(t)}}])),n=g(e.remote);this.origin=g(e.remote),this.destroy=function(){t.destroy()},this.postMessage=function(e){t.outgoing(e,n)},t.init()},j.Rpc=function(e,t){if(t.local)for(var n in t.local)if(t.local.hasOwnProperty(n)){var o=t.local[n];"function"==typeof o&&(t.local[n]={method:o})}var i=x(C(e).concat([new j.stack.RpcBehavior(this,t),{callback:function(t){e.onReady&&e.onReady(t)}}]));this.origin=g(e.remote),this.destroy=function(){i.destroy()},i.init()},j.stack.SameOriginTransport=function(e){var t,i,a,s;return t={outgoing:function(e,t,n){a(e),n&&n()},destroy:function(){i&&(i.parentNode.removeChild(i),i=null)},onDOMReady:function(){s=g(e.remote),e.isHost?(k(e.props,{src:y(e.remote,{xdm_e:n.protocol+"//"+n.host+n.pathname,xdm_c:e.channel,xdm_p:4}),name:F+e.channel+"_provider"}),i=_(e),j.Fn.set(e.channel,function(e){return a=e,o(function(){t.up.callback(!0)},0),function(e){t.up.incoming(e,s)}})):(a=p().Fn.get(e.channel,!1)(function(e){t.up.incoming(e,s)}),o(function(){t.up.callback(!0)},0))},init:function(){u(t.onDOMReady,t)}}},j.stack.FlashTransport=function(e){function i(e,t){o(function(){r.up.incoming(e,c)},0)}function s(n){var o=e.swf+"?host="+e.isHost,i="easyXDM_swf_"+Math.floor(1e4*Math.random());j.Fn.set("flash_loaded"+n.replace(/[\-.]/g,"_"),function(){j.stack.FlashTransport[n].swf=d=p.firstChild;for(var e=j.stack.FlashTransport[n].queue,t=0;t<e.length;t++)e[t]();e.length=0}),e.swfContainer?p="string"==typeof e.swfContainer?t.getElementById(e.swfContainer):e.swfContainer:(p=t.createElement("div"),k(p.style,E&&e.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),t.body.appendChild(p));var s="callback=flash_loaded"+a(n.replace(/[\-.]/g,"_"))+"&proto="+D.location.protocol+"&domain="+a(h(D.location.href))+"&port="+a(f(D.location.href))+"&ns="+a(U);p.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+i+"' data='"+o+"'><param name='allowScriptAccess' value='sameDomain'></param><param name='wmode' value='transparent'><param name='movie' value='"+o+"'></param><param name='flashvars' value='"+s+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+s+"' allowScriptAccess='sameDomain' wmode='transparent' src='"+o+"' height='1' width='1'></embed></object>"}var r,l,c,d,p;return r={outgoing:function(t,n,o){d.postMessage(e.channel,t.toString()),o&&o()},destroy:function(){try{d.destroyChannel(e.channel)}catch(e){}d=null,l&&(l.parentNode.removeChild(l),l=null)},onDOMReady:function(){c=e.remote,j.Fn.set("flash_"+e.channel+"_init",function(){o(function(){r.up.callback(!0)})}),j.Fn.set("flash_"+e.channel+"_onMessage",i),e.swf=v(e.swf);var t=h(e.swf),a=function(){j.stack.FlashTransport[t].init=!0,d=j.stack.FlashTransport[t].swf,d.createChannel(e.channel,e.secret,g(e.remote),e.isHost),e.isHost&&(E&&e.swfNoThrottle&&k(e.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),k(e.props,{src:y(e.remote,{xdm_e:g(n.href),xdm_c:e.channel,xdm_p:6,xdm_s:e.secret}),name:F+e.channel+"_provider"}),l=_(e))};j.stack.FlashTransport[t]&&j.stack.FlashTransport[t].init?a():j.stack.FlashTransport[t]?j.stack.FlashTransport[t].queue.push(a):(j.stack.FlashTransport[t]={queue:[a]},s(t))},init:function(){u(r.onDOMReady,r)}}},j.stack.PostMessageTransport=function(t){function i(e){if(e.origin)return g(e.origin);if(e.uri)return g(e.uri);if(e.domain)return n.protocol+"//"+e.domain;throw"Unable to retrieve the origin of the event"}function a(e){var n=i(e);n==c&&e.data.substring(0,t.channel.length+1)==t.channel+" "&&s.up.incoming(e.data.substring(t.channel.length+1),n)}var s,r,l,c;return s={outgoing:function(e,n,o){l.postMessage(t.channel+" "+e,n||c),o&&o()},destroy:function(){I(e,"message",a),r&&(l=null,r.parentNode.removeChild(r),r=null)},onDOMReady:function(){if(c=g(t.remote),t.isHost){var i=function(n){n.data==t.channel+"-ready"&&(l="postMessage"in r.contentWindow?r.contentWindow:r.contentWindow.document,I(e,"message",i),A(e,"message",a),o(function(){s.up.callback(!0)},0))};A(e,"message",i),k(t.props,{src:y(t.remote,{xdm_e:g(n.href),xdm_c:t.channel,xdm_p:1}),name:F+t.channel+"_provider"}),r=_(t)}else A(e,"message",a),l="postMessage"in e.parent?e.parent:e.parent.document,l.postMessage(t.channel+"-ready",c),o(function(){s.up.callback(!0)},0)},init:function(){u(s.onDOMReady,s)}}},j.stack.FrameElementTransport=function(i){var a,s,r,l;return a={outgoing:function(e,t,n){r.call(this,e),n&&n()},destroy:function(){s&&(s.parentNode.removeChild(s),s=null)},onDOMReady:function(){l=g(i.remote),i.isHost?(k(i.props,{src:y(i.remote,{xdm_e:g(n.href),xdm_c:i.channel,xdm_p:5}),name:F+i.channel+"_provider"}),s=_(i),s.fn=function(e){return delete s.fn,r=e,o(function(){a.up.callback(!0)},0),function(e){a.up.incoming(e,l)}}):(t.referrer&&g(t.referrer)!=W.xdm_e&&(e.top.location=W.xdm_e),r=e.frameElement.fn(function(e){a.up.incoming(e,l)}),a.up.callback(!0))},init:function(){u(a.onDOMReady,a)}}},j.stack.NameTransport=function(e){function t(t){var n=e.remoteHelper+(r?"#_3":"#_2")+e.channel;l.contentWindow.sendMessage(t,n)}function n(){r?2!==++d&&r||s.up.callback(!0):(t("ready"),s.up.callback(!0))}function i(e){s.up.incoming(e,m)}function a(){p&&o(function(){p(!0)},0)}var s,r,l,c,d,p,m,h;return s={outgoing:function(e,n,o){p=o,t(e)},destroy:function(){l.parentNode.removeChild(l),l=null,r&&(c.parentNode.removeChild(c),c=null)},onDOMReady:function(){r=e.isHost,d=0,m=g(e.remote),e.local=v(e.local),r?(j.Fn.set(e.channel,function(t){r&&"ready"===t&&(j.Fn.set(e.channel,i),n())}),h=y(e.remote,{xdm_e:e.local,xdm_c:e.channel,xdm_p:2}),k(e.props,{src:h+"#"+e.channel,name:F+e.channel+"_provider"}),c=_(e)):(e.remoteHelper=e.remote,j.Fn.set(e.channel,i));var t=function(){var i=l||this;I(i,"load",t),j.Fn.set(e.channel+"_load",a),function e(){"function"==typeof i.contentWindow.sendMessage?n():o(e,50)}()};l=_({props:{src:e.local+"#_4"+e.channel},onLoad:t})},init:function(){u(s.onDOMReady,s)}}},j.stack.HashTransport=function(t){function n(e){if(f){var n=t.remote+"#"+m++ +"_"+e;(l||!v?f.contentWindow:f).location=n}}function i(e){p=e,r.up.incoming(p.substring(p.indexOf("_")+1),y)}function a(){if(h){var e=h.location.href,t="",n=e.indexOf("#");n!=-1&&(t=e.substring(n)),t&&t!=p&&i(t)}}function s(){c=setInterval(a,d)}var r,l,c,d,p,m,h,f,v,y;return r={outgoing:function(e,t){n(e)},destroy:function(){e.clearInterval(c),!l&&v||f.parentNode.removeChild(f),f=null},onDOMReady:function(){if(l=t.isHost,d=t.interval,p="#"+t.channel,m=0,v=t.useParent,y=g(t.remote),l){if(k(t.props,{src:t.remote,name:F+t.channel+"_provider"}),v)t.onLoad=function(){h=e,s(),r.up.callback(!0)};else{var n=0,i=t.delay/50;!function e(){if(++n>i)throw new Error("Unable to reference listenerwindow");try{h=f.contentWindow.frames[F+t.channel+"_consumer"]}catch(e){}h?(s(),r.up.callback(!0)):o(e,50)}()}f=_(t)}else h=e,s(),v?(f=parent,r.up.callback(!0)):(k(t,{props:{src:t.remote+"#"+t.channel+new Date,name:F+t.channel+"_consumer"},onLoad:function(){r.up.callback(!0)}}),f=_(t))},init:function(){u(r.onDOMReady,r)}}},j.stack.ReliableBehavior=function(e){var t,n,o=0,i=0,a="";return t={incoming:function(e,s){var r=e.indexOf("_"),l=e.substring(0,r).split(",");e=e.substring(r+1),l[0]==o&&(a="",n&&n(!0)),e.length>0&&(t.down.outgoing(l[1]+","+o+"_"+a,s),i!=l[1]&&(i=l[1],t.up.incoming(e,s)))},outgoing:function(e,s,r){a=e,n=r,t.down.outgoing(i+","+ ++o+"_"+e,s)}}},j.stack.QueueBehavior=function(e){function t(){if(e.remove&&0===r.length)return void S(n);if(!l&&0!==r.length&&!s){l=!0;var i=r.shift();n.down.outgoing(i.data,i.origin,function(e){l=!1,i.callback&&o(function(){i.callback(e)},0),t()})}}var n,s,r=[],l=!0,c="",d=0,u=!1,p=!1;return n={init:function(){b(e)&&(e={}),e.maxLength&&(d=e.maxLength,p=!0),e.lazy?u=!0:n.down.init()},callback:function(e){l=!1;var o=n.up;t(),o.callback(e)},incoming:function(t,o){if(p){var a=t.indexOf("_"),s=parseInt(t.substring(0,a),10);c+=t.substring(a+1),0===s&&(e.encode&&(c=i(c)),n.up.incoming(c,o),c="")}else n.up.incoming(t,o)},outgoing:function(o,i,s){e.encode&&(o=a(o));var l,c=[];if(p){for(;0!==o.length;)l=o.substring(0,d),o=o.substring(l.length),c.push(l);for(;l=c.shift();)r.push({data:c.length+"_"+l,origin:i,callback:0===c.length?s:null})}else r.push({data:o,origin:i,callback:s});u?n.down.init():t()},destroy:function(){s=!0,n.down.destroy()}}},j.stack.VerifyBehavior=function(e){function t(){o=Math.random().toString(16).substring(2),n.down.outgoing(o)}var n,o,i;return n={incoming:function(a,s){var r=a.indexOf("_");r===-1?a===o?n.up.callback(!0):i||(i=a,e.initiate||t(),n.down.outgoing(a)):a.substring(0,r)===i&&n.up.incoming(a.substring(r+1),s)},outgoing:function(e,t,i){n.down.outgoing(o+"_"+e,t,i)},callback:function(n){e.initiate&&t()}}},j.stack.RpcBehavior=function(e,t){function n(e){e.jsonrpc="2.0",a.down.outgoing(s.stringify(e))}function o(e,t){var o=Array.prototype.slice;return function(){var i,a=arguments.length,s={method:t};a>0&&"function"==typeof arguments[a-1]?(a>1&&"function"==typeof arguments[a-2]?(i={success:arguments[a-2],error:arguments[a-1]},s.params=o.call(arguments,0,a-2)):(i={success:arguments[a-1]},s.params=o.call(arguments,0,a-1)),c[""+ ++r]=i,s.id=r):s.params=o.call(arguments,0),e.namedParams&&1===s.params.length&&(s.params=s.params[0]),n(s)}}function i(e,t,o,i){if(!o)return void(t&&n({id:t,error:{code:-32601,message:"Procedure not found."}}));var a,s;t?(a=function(e){a=P,n({id:t,result:e})},s=function(e,o){s=P;var i={id:t,error:{code:-32099,message:e}};o&&(i.error.data=o),n(i)}):a=s=P,l(i)||(i=[i]);try{var r=o.method.apply(o.scope,i.concat([a,s]));b(r)||a(r)}catch(e){s(e.message)}}var a,s=t.serializer||X(),r=0,c={};return a={incoming:function(e,o){var a=s.parse(e);if(a.method)t.handle?t.handle(a,n):i(a.method,a.id,t.local[a.method],a.params);else{var r=c[a.id];a.error?r.error&&r.error(a.error):r.success&&r.success(a.result),delete c[a.id]}},init:function(){if(t.remote)for(var n in t.remote)t.remote.hasOwnProperty(n)&&(e[n]=o(t.remote[n],n));a.down.init()},destroy:function(){for(var n in t.remote)t.remote.hasOwnProperty(n)&&e.hasOwnProperty(n)&&delete e[n];a.down.destroy()}}},D.easyXDM=j}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent),define("fly/libs/easy-xdm-cbsi-2.4.19.3",function(){}),define("fly/libs/jquery.throttle-debounce-1.1",["jquery"],function(e){"$:nomunge";var t;e.throttle=t=function(t,n,o,i){function a(){function e(){r=+new Date,o.apply(l,d)}function a(){s=void 0}var l=this,c=+new Date-r,d=arguments;i&&!s&&e(),s&&clearTimeout(s),void 0===i&&c>t?e():n!==!0&&(s=setTimeout(i?a:e,void 0===i?t-c:t))}var s,r=0;return"boolean"!=typeof n&&(i=o,o=n,n=void 0),e.guid&&(a.guid=o.guid=o.guid||e.guid++),a},e.debounce=function(e,n,o){return void 0===o?t(e,n,!1):t(e,o,n!==!1)}}),define("fly/components/iframe-messenger-1.1",["jquery","version!fly/utils/url-helper","version!fly/managers/debug","version!fly/components/base","version!fly/libs/easy-xdm-cbsi","version!fly/libs/jquery.throttle-debounce"],function(e,t,n){window.fly=window.fly||{},window.fly.easyXDM=easyXDM.noConflict("fly");var o=n.get("iframeMessenger");e.widget("fly.iframeMessenger",e.fly.base,{options:{remoteUrl:null,resizeOnReady:!0,receivableMessages:{}},isProvider:null,_create:function(){var n=this,o=this.options;this._setup(),this.isProvider=!!t.getParam("xdm_e"),o.remoteUrl?this.socket=new window.fly.easyXDM.Socket({remote:o.remoteUrl,container:this.$element[0],onMessage:e.proxy(this._onMessage,this)}):this.isProvider&&(this.socket=new window.fly.easyXDM.Socket({isHost:!1,onReady:e.proxy(this._onReady,this),onMessage:e.proxy(this._onMessage,this)}),this.$document.on("displayChange",function(){n.postMessage("resize")}))},_initWindowResize:function(){var t=this,n=e(window);this.width=n.width(),n.resize(e.throttle(150,function(){var n=e(window).width();t.width!==n&&(t.postMessage("resize"),t.width=n)}))},_onReady:function(){this.postMessage("ready",null,!0),this._initWindowResize()},_onMessage:function(e,t){var n,i=this.options;e=JSON.parse(e)||{},!this.isProvider&&e.size&&e.size.height&&(n=this.$element.find("iframe"),"ready"===e.name?(n.animate({height:e.size.height},"fast"),this.$element.height(e.size.height)):(this.$element.height(e.size.height),n.height(e.size.height))),o.log("messageRecieved: ",e,"handler: ",i.receivableMessages[e.name]),i.receivableMessages[e.name]&&i.receivableMessages[e.name](e.data,t)},postMessage:function(t,n,i){i=i||!1;var a,s=this,r=!(!i&&"resize"!==t||!this.isProvider),l={name:t,data:n};s.socket&&(r&&e.extend(!0,l,{size:{height:e(document.body).height()}}),a=JSON.stringify(l),o.log("postMessage: ",a),s.socket.postMessage(a))}})}),define("translations/form-validate",["managers/edition"],function(e){var t={en:{required:{field:"This field is required",radio:"One of these fields is required"},availableEmail:"Este email esta en uso.  Elige otro.",availableUsername:"This user name is already in use. Please choose another.",validPassword:"Password must be a minimum of 6 characters, including at least 1 special character or number (no spaces).",minlength:"This field must be at least {minlength} characters",maxlength:"This field must be no more than {maxlength} characters",email:"E-mail format invalid.",noUrl:"A url is not allowed in this field",noSpecialCharacters:"The special characters @, &, and % are not allowed in this field",equalTo:"Fields do not match",usernameSpecialCharacters:'Please use only alphanumeric characters, underscores "_", and dashes "-"',usernameCharacterLength:"Your username must be at least 3 and no more than 25 characters.",atLeastOneAlphanumeric:"You must include at least one alphanumeric character"},es:{required:{field:"Campo requerido",radio:"One of these fields is required"},availableEmail:"This e-mail address is already in use. Please choose another.",availableUsername:"Este nombre de usuario ya esta en uso.",validPassword:"Tu contraseña debe de tener por lo menos 6 caracteres, incluyendo por lo menos un carácter alfanumérico (sin espacios).",minlength:"Este campo debe tener al menos {minlength} caracteres",maxlength:"This field must be no more than {maxlength} characters",email:"Por favor escribe un email válido.  Ejemplo:  johndoe@mail.com",noUrl:"A url is not allowed in this field",noSpecialCharacters:"The special characters @, &, and % are not allowed in this field",equalTo:"Fields do not match",usernameSpecialCharacters:'Por favor, usa solamente caracteres alfanuméricos, guiones bajos "_", y guiones "-"',usernameCharacterLength:"Tu nombre de usuario debe tener un mínimo de 3 caracteres y un máximo de 25.",atLeastOneAlphanumeric:"You must include at least one alphanumeric character"}};return e.getTranslation(t)}),define("fly/components/form-validate-1.0",["jquery","version!fly/utils/string-helper","version!fly/utils/string-vars","version!fly/managers/debug","version!fly/components/base"],function(e,t,n,o){var i=e.support.touch?"vclick":"click",a=o.init("formValidate");e.widget("fly.formValidate",e.fly.base,{options:{inlineErrorTemplate:'<label for="{id}" class="validate-{type}">{message}</label>',globalErrorTemplate:'<div class="alert alert-{type}">{message}</div>',classFieldStatus:"validate-{type}",animation:"slide",fieldSelector:'[data-item="field"]',ignoreHidden:!0,ignoreSelector:null,validateOnChange:!0,scrollToErrors:!1,attributes:["required","maxlength","minlength"],rules:{},success:function(e,t){t.$form.submit()},failure:function(e,t){},placeError:function(e,t){t.is(":checkbox, :radio")&&t.parent("label").length?e.insertAfter(t.parent("label")):e.insertAfter(t)}},rules:{required:{message:function(e){return e.is(":radio")?"One of these fields is required":"This field is required"},test:function(e){var t,n;return e.is(":radio")?(t=e.closest("form").find(':radio[name="'+e.attr("name")+'"]'),t.is(":checked")):(n=e.is(":checkbox")?e.is(":checked"):e.val(),!!n)}},mailcheck:{type:"warning",message:null,test:function(e,t){var n=this,o=e.closest("form");return require(["fly/libs/mailcheck-1.1"],function(){e.mailcheck({suggested:function(a,s){n.message='Did you mean <a class="mailcheck" data-_insert="mailcheck">'+s.domain+"</a>?",o.on(i+".mailcheck",'[data-_insert="mailcheck"]',function(){e.val(s.full).trigger("change")}),t.reject("mailcheck")},empty:function(e){o.off(".mailcheck"),t.resolve()}})}),t.promise()}},availableEmail:{remote:!0,message:"Email is already in use"},availableUsername:{remote:!0,message:"User Name is already in use"},minlength:{message:function(e){return"This field must be at least "+e.attr("minlength")+" characters"},test:function(e){return e.val().length>=e.attr("minlength")}},maxlength:{message:function(e){return"This field must be no more than "+e.attr("maxlength")+" characters"},test:function(e){return e.val().length<=e.attr("maxlength")}},email:{message:"Please enter a valid email",test:function(e){return/^[A-Z0-9._%+\-]+@[A-Z0-9.\-]+\.[A-Z]{2,4}$/i.test(e.val())}},noUrl:{message:"A url is not allowed in this field",test:function(e){return!/http:\/\//i.test(e.val())}},noSpecialCharacters:{message:"The special characters @, &, and % are not allowed in this field",test:function(e){return/^[^@&%]+$/i.test(e.val())}},equalTo:{message:"Fields do not match",test:function(t){var n=e('input[name="'+t.data("validate-equal-to")+'"]');return n.length&&t.val()===n.val()}}},wasSubmitted:!1,isWorking:!1,isFormValid:!1,_create:function(){var e=this.options,t={};this._setup(),this.$form=this.$element,this.$form.attr("novalidate","novalidate"),this.globalErrors=[],this.ignoreSelector=":submit, :reset, :image, [disabled]",e.ignoreHidden&&(this.ignoreSelector+=", :hidden"),e.ignoreSelector&&(this.ignoreSelector+=", "+e.ignoreSelector),this.addRules(e.rules),this._on(this.$form,{submit:"_handleSubmit"}),e.validateOnChange&&(t["focusout :input:not("+this.ignoreSelector+", [data-_enabled])"]="_handleFocusOut",t["keyup :input:not("+this.ignoreSelector+", [readonly])"]="_handleChange",t["change :input:not("+this.ignoreSelector+")"]="_handleChange",this._on(this.$form,t))},_handleSubmit:function(e){this._off(this.$form,"focusout"),this.wasSubmitted=!0,this.isFormValid||(e.preventDefault(),e.stopImmediatePropagation(),this.validate())},_handleFocusOut:function(t){var n=e(t.target);n.attr("data-_enabled","true"),this._handleChange(t)},_handleChange:function(t){var n=e(t.target);this.isFormValid=!1,(this.wasSubmitted||n.data("_enabled"))&&(n.data("_passed",!1),this.testField(n))},getRule:function(e){return"undefined"!=typeof this.rules[e]&&this.rules[e]},getRulesToValidate:function(t){var n=this,o=t.data("validate")||[],i=e.isArray(o)?o:o.split(" ");return e.each(this.options.attributes,function(e,n){t.attr(n)&&i.unshift(n)}),e.grep(i,function(e,t){return n.getRule(e)})},addRules:function(t){e.isPlainObject(t)&&e.extend(this.rules,t)},removeRule:function(e){this.getRule(e)!==!1&&delete this.rules[e]},setFieldDelegate:function(e){var t=null;return e.is(":radio")&&(t=this.$form.find(':radio[name="'+e.attr("name")+'"]').first()),e.data("_field_delegate",t),e},testField:function(t){var n,o=this,i=[],s=t.data()||{},r=s.error||{},l=e.Deferred();return s._passed?(l.resolve(),l.promise()):(this.setFieldDelegate(t),s.remoteRequest&&s.remoteRequest.abort(),n=this.getRulesToValidate(t),a.log("test field: ",t," w/ rules:",n),e.each(n,function(n,s){var l,c=o.getRule(s),d=!0,u=!!c.remote,p=null;if(u&&(p=c.remoteUrl||t.data("remoteUrl"),o.removeError(t)),l=function(){var n=e.Deferred(),i=null;return i=u?o.requestRemote(p,t,s,n):c.test(t,n),i===!1?(d=!1,n.reject(s)):i===!0&&n.resolve(s),n.promise()},l=l(),i.push(l),e.when(l).fail(function(){a.log("rule failed: ",s,t)}).then(function(){r.name===s&&o.removeError(t),a.log("rule passed: ",s,t)}),!d)return!1}),e.when.apply(null,i).fail(function(e){var n=o.getRule(e),i=n.type?n.type:"error",s=t.data(),r=s.error||{};s.remoteTimeout&&clearTimeout(s.remoteTimeout),s.remoteRequest&&s.remoteRequest.abort(),r.message!=o.getMessage(e,t)&&(o.removeError(t),o.addInlineError(t,e)),"error"!==i?(l.resolve(),a.log("field passed: ",t," type: ",i)):(l.reject(),a.log("field failed: ",t))}).then(function(){t.data("_passed",!0),o.removeError(t),l.resolve(),a.log("field passed: ",t)}),l.promise())},requestRemote:function(t,n,o,i){var a={},s=null,r=null,l=n.data()||{};l.remoteTimeout&&(clearTimeout(l.remoteTimeout),l.remoteQueue.resolve(o)),a[n.attr("name")]=n.val(),r=setTimeout(function(){s=e.ajax({type:"POST",dataType:"json",url:t,data:a,timeout:5e3,success:function(t){switch(t){case!0:i.resolve(o);break;case!1:i.reject(o);break;default:e.isPlainObject(t)&&t.status?"success"===t.status?i.resolve(o):i.reject(o):i.resolve(o)}},complete:function(){n.data("remoteRequest",null)},error:function(e,t){i.resolve(o),n.data("_passed",!1)}}),n.data({remoteRequest:s,remoteQueue:null,remoteTimeout:null})},300),n.data({remoteQueue:i,remoteTimeout:r})},validate:function(){var t=this.options,n=this,o=[];this.isWorking||this._trigger("validate")!==!1&&(this.isWorking=!0,this.removeGlobalErrors(),this.$form.find(":input").not(this.ignoreSelector).each(function(){var t=e(this);o.push(n.testField(t))}),e.when.apply(null,o).fail(function(){a.log("validate failed"),n._trigger("failure",null,{$form:n.$form}),t.scrollToErrors&&n.scrollToErrors()}).then(function(){a.log("validate success"),n.isFormValid=!0,n._trigger("success",null,{$form:n.$form}),n.isFormValid=!1}).always(function(){n._trigger("validated"),n.isWorking=!1}))},scrollToErrors:function(){var t=this.options,n=this.$form.find("[data-validate-error]").first(),o=n.closest(t.fieldSelector),i=(o.length?o:n).offset().top;this._trigger("scroll",null,{offset:i})!==!1&&(i-=this.$window.height()/6,e("html, body").animate({scrollTop:i},"fast"))},removeError:function(t){t=t.data("_field_delegate")||t;var n=this,o=this.options,i=t.data("error");i&&("slide"===o.animation?i.$error.slideUp("fast",function(){e(this).remove(),n._completeRemoveError(i,t)}):(t.remove(),this._completeRemoveError(i,t)),t.removeClass(i.fieldClass).removeData("error"))},getMessage:function(t,n){var o=this.getRule(t),i=n.data("validate-message-"+t)||n.data("validate-message-"+t.toLowerCase());return i||i===!1||(i=e.isFunction(o.message)?o.message(n):o.message),i},addInlineError:function(t,o){t=t.data("_field_delegate")||t;var i,a,s,r,l=this,c=this.options,d=t.data("error")||{},u={name:o,position:"inline"};"error"!==d.type&&(s=this.getMessage(o,t),i=this.getRule(o),a=i.type||"error",r=n.compile(c.inlineErrorTemplate,{type:a,id:t.attr("id"),message:s}),e.extend(u,{type:a,message:s,$error:e(r).attr("data-validate-error",!0),fieldClass:n.compile(this.options.classFieldStatus,{type:a})}),t.addClass(u.fieldClass).data("error",u),s!==!1&&("slide"===c.animation?(u.$error=e("<div />").wrapInner(u.$error),u.$error.hide(),c.placeError.call(this,u.$error,t),u.$error.slideDown("fast",function(){l._completeAddError(u,t)})):(c.placeError.call(this,u.$error,t),this._completeAddError(u,t))))},addGlobalError:function(t,o){o=o||"error";var i,a=this,s=this.options,r={position:"global",type:o,message:t};i=n.compile(s.globalErrorTemplate,{type:o,message:t}),e.extend(r,{$error:e(i).attr("data-validate-error",!0)}),"slide"===s.animation?(r.$error=e("<div />").wrapInner(r.$error),r.$error.hide().prependTo(this.$form).slideDown("fast",function(){a._completeAddError(r)})):(this.$form.prepend(r.$error),this._completeAddError(r)),this.globalErrors.push(r)},removeGlobalErrors:function(){var t=this;e.each(this.globalErrors,function(e,n){n.$error.remove(),t._completeRemoveError(n)})},removeInlineErrors:function(){var t=this;this.$form.find("[data-validate-error]").each(function(){var n=e(this),o=n.data();o.error&&t.removeError(n),o.remoteRequest&&o.remoteRequest.abort()})},_completeAddError:function(t,n){this._trigger("errorAdded",null,e.extend(t,{$field:n})),this.$document.trigger("displayChange",{type:"errorAdded"})},_completeRemoveError:function(t,n){this._trigger("errorRemoved",null,e.extend(t,{$field:n})),this.$document.trigger("displayChange",{type:"errorRemoved"})},_disable:function(){this.removeGlobalErrors(),this.removeInlineErrors()},_destroy:function(){this._disable()}})}),define("components/form-validate",["jquery","version!fly/managers/debug","translations/form-validate","version!fly/utils/string-vars","version!fly/components/form-validate"],function(e,t,n,o){t.init("formValidate"),e.widget("cnet.formValidate",e.fly.formValidate,{rules:{required:{message:function(e){return e.is(":radio")?n.required.radio:n.required.field}},mailcheck:{message:null},availableEmail:{message:n.availableEmail},availableUsername:{message:n.availableUsername},validPassword:{message:n.validPassword,test:function(e){return/[0-9\(\)\.@`!#\$%\^&*+=\-\[\]\\';,/\{\}\|":<>\?~_]+/.test(e.val())&&e.val().length>5&&e.val().indexOf(" ")==-1}},minlength:{message:function(e){return o.compile(n.minlength,{minlength:e.attr("minlength")})}},maxlength:{message:function(e){return o.compile(n.maxlength,{maxlength:e.attr("maxlength")})}},email:{message:n.email,test:function(e){return/^[A-Z0-9._%+\-]+@[A-Z0-9.\-]+\.[A-Z]{2,}$/i.test(e.val())}},noUrl:{message:n.noUrl},noSpecialCharacters:{message:n.noSpecialCharacters},equalTo:{message:n.equalTo},usernameSpecialCharacters:{message:n.usernameSpecialCharacters,test:function(e){return/^[a-z0-9\-_]*$/i.test(e.val())}},usernameCharacterLength:{message:n.usernameCharacterLength,test:function(e){var t=e.val().length;return t>=3&&t<=25}},atLeastOneAlphanumeric:{message:n.atLeastOneAlphanumeric,test:function(e){return/.*[a-z0-9]+.*/i.test(e.val())}}},addInlineError:function(t,n){t=t.data("_field_delegate")||t;var i,a,s,r,l=this.options,c=t.data("error")||{},d={name:n,position:"inline"};"error"!==c.type&&(s=this.getMessage(n,t),i=this.getRule(n),a=i.type||"error",r=o.compile(l.inlineErrorTemplate,{type:a,id:t.attr("id"),message:s}),e.extend(d,{type:a,message:s,$error:e(r).attr("data-validate-error",!0),fieldClass:o.compile(this.options.classFieldStatus,{type:a})}),t.addClass(d.fieldClass).data("error",d),s!==!1&&("slide"===l.animation?(d.$error=e("<div />").wrapInner(d.$error),l.placeError.call(this,d.$error,t),this._completeAddError(d,t)):(l.placeError.call(this,d.$error,t),this._completeAddError(d,t))))},removeError:function(e){e=e.data("_field_delegate")||e;var t=this.options,n=e.data("error");n&&("slide"===t.animation?n.$error.remove():(e.remove(),this._completeRemoveError(n,e)),e.removeClass(n.fieldClass).removeData("error"),this._completeRemoveError(n,e))}})}),define("components/user-form",["jquery","utils/cookie","version!fly/managers/debug","translations/user-form","utils/urs-helper","version!fly/components/base","version!fly/components/iframe-messenger","components/form-validate","optional!urs"],function(e,t,n,o,i){n=n.init("userForm"),e.widget("cnet.userForm",e.fly.base,{options:{cookieUserRecognized:"urs_social_recognized"},messenger:e.fly.iframeMessenger(),_create:function(){var t=this;this._setup(),this._initSocialRecognition(),e(document).ready(function(){t._setupEvents(),t._initForm()})},_setupEvents:function(){var t=this;e("[data-user-show]").on("click",function(n){n.preventDefault();var o=e(this).data("userShow");t.messenger.postMessage("showModal",{modal:o.action,params:o.params},!0)}),e("[data-user-social]").on("click",function(n){n.preventDefault();var o=e(this).data("userSocial"),a=i.getUrs(i.getSocialAppId(o.params.appId),t._setupSocialEvents.bind(t));if("object"==typeof a.social&&"function"==typeof a.social.authenticate)if("login"===o.action)a.social.authenticate(o.socialSite);else if("register"===o.action){var s=e("#user_tos");if(0===s.length||s.prop("checked"))a.social.authenticate(o.socialSite,!0);else{var r=e("form").data("formValidate");r.testField(s)}}})},_setupSocialEvents:function(e){var t=this;"object"==typeof window.URS&&e.common.addEventListener(URS.events.AUTH_COMPLETE,function(e,n){delete e.target,t.messenger.postMessage("socialAuthComplete",{event:e,apiResponse:n})})},_initForm:function(){var t=this,n=e("form").first(),a=n.data("user-submit");n.formValidate({validateOnChange:!0,success:function(s){s.preventDefault();var r=n.data("formValidate"),l=n.serializeArray();if(t.messenger.postMessage("submit",{action:a}),"social-additional-information"===n.attr("id")){for(var c=null,d=null,u={},p=0;p<l.length;p++)"appId"===l[p].name?c=l[p].value:"redirectUrl"===l[p].name||("socialSite"===l[p].name?d=l[p].value:u[l[p].name]=l[p].value);if(c&&d){var m=i.getUrs(i.getSocialAppId(c),t._setupSocialEvents.bind(t));"object"==typeof m.social&&"function"==typeof m.social.authenticate&&m.social.authenticate(d,!0,u);
}}else l.push({name:"viewType",value:"json"}),e.ajax({dataType:"json",url:n.attr("action"),data:e.param(l),type:"POST"}).done(function(n){n=n||{},"success"===n.status?t.messenger.postMessage(a+"Success",n):"failure"===n.status&&(n.messages&&n.messages.error&&e.each(n.messages.error.reverse(),function(e,t){r.addGlobalError(t,"error")}),t.messenger.postMessage(a+"Failure",n))}).fail(function(e,n){r.addGlobalError(o.globalError,"error"),t.messenger.postMessage(a+"LoadFailure",e)}).always(function(){t.messenger.postMessage("submitted",{action:a}),t.messenger.postMessage(a+"Submitted")})},failure:function(e){t.messenger.postMessage("validation_failed",{},!0)},errorAdded:function(e){t.messenger.postMessage("validation_failed",{},!0)},errorRemoved:function(e){t.messenger.postMessage("validation_passed",{},!0)}})},_initSocialRecognition:function(){var n=this,o=JSON.parse(t.read(this.options.cookieUserRecognized)),i=e(".unrecognized"),a=e(".recognized");o?(i.hide(),a.show(),e("[data-user-template]",a).each(function(t,n){var i=e(n);"name"===i.data("userTemplate")&&i.text(o.username)}),e("[data-user-social]",a).each(function(t,n){var i=e(n),a=i.data("userSocial");i.data("userSocial",e.extend(!0,a,{socialSite:o.socialSite})),i.addClass(o.socialSite),e(".logo",i).text(o.socialSite)}),e("[data-user-action]",a).on("click",function(t){"differentNetwork"===e(this).data("userAction")&&(e.removeCookie(n.options.cookieUserRecognized,{path:"/",domain:".cnet.com"}),a.hide(),i.show())})):(i.show(),a.hide())}})}),define("managers/user",["jquery","version!fly/utils/url-helper","components/user-controller","components/user-form"],function(e,t){var n=null;return n=t.getParam("xdm_e")?e.cnet.userForm():e.cnet.userController()}),define("translations/modal-email",["managers/edition"],function(e){var t={en:{confirmation:"Your e-mail was sent successfully!",incorrectCaptcha:"The response you entered was incorrect.  Please try again.",notice:"Keep your friends up to date on your wish list.",messageA:"Click the",messageB:"to share the products you want with your friends.",ok:"OK, Got it"},es:{confirmation:"Tu email fue enviado exitosamente!",incorrectCaptcha:"La Captcha no es correcta. Por favor, inténtalo otra vez.",notice:"Mantén a tus amigos informados sobre tu lista.",messageA:"Haz clic en el",messageB:"para que tus amigos vean los productos que quieres.",ok:"De acuerdo"}};return e.getTranslation(t)}),define("components/modal-email",["jquery","version!fly/managers/debug","version!fly/managers/components","managers/edition","managers/user","translations/modal-email","components/global-modal","components/loading","version!fly/components/form-validate"],function(e,t,n,o,i,a){t=t.init("modalEmail"),e.widget("cnet.modalEmail",e.cnet.globalModal,{options:{emailType:"friend",pageTitle:function(){return document.title},pageUrl:function(){return window.location.href},recipientId:null,recipientName:"",messageThankYou:a.confirmation},emailTypes:{friend:{url:{us:"/email/friend/",uk:"/uk/email/friend/",au:"/au/email/friend/",es:"/es/email/friend/"},requireUsername:!1},friendRoadshow:{url:{us:"/email/friend/roadshow",uk:"/uk/email/friend/roadshow",au:"/au/email/friend/roadshow",es:"/es/email/friend/roadshow"},requireUsername:!1},member:{url:{us:"/email/member/",uk:"/uk/email/member/",au:"/au/email/member/",es:"/es/email/member/"},requireUsername:!0},editor:{url:{us:"/email/editor/",uk:"/uk/email/editor/",au:"/au/email/editor/",es:"/es/email/editor/"},requireUsername:!1},flag:{url:{us:"/email/flag/",uk:"/uk/email/flag/",au:"/au/email/flag/",es:"/es/email/flag/"},requireUsername:!0},video:{url:{us:"/email/video-feedback/",uk:"/uk/email/video-feedback/",au:"/au/email/video-feedback/",es:"/es/email/video-feedback/"},requireUsername:!1}},errorMessages:{"cnet.notsent":"There was an error attempting to send your e-mail.  Please try again.","cnet.nousername":"You must have a valid username to send an e-mail.","cnet.notloggedin":"You must be logged in to send an e-mail.","cnet_recaptcha.incorrect-captcha-sol":a.incorrectCaptcha,"cnet_recaptcha.missing-input-response":a.incorrectCaptcha},_create:function(){this._super(),this.setContent('<a class="close" data-close="modal"></a>'),this._setupLoader()},_setupLoader:function(){this.loader=e.cnet.loading(),this.loader.$element.addClass("modal-content")},open:function(){var e=this,t=this.emailTypes[this.options.emailType];this.isOpen||(t.requireUsername?(i._loadUserData(),i.isLoggedIn?(i.hasAccess({requireUsername:!0,nextAction:function(n){e._openEmailType(t)}}),e._super()):i.showModal("login",{appId:this.options.appId})):(this._openEmailType(t),e._super()))},_openEmailType:function(t){var i=this;this.setContent(""),this.loader.$element.appendTo(this.$element),this.loader.add(),e.ajax({url:t.url[o.getEdition()],data:this.options.recipientId?{regId:this.options.recipientId}:null,dataType:"text"}).done(function(t){i.loader.remove(),i.setContent(t),i.position(),i._setupEvents(),e("[data-email-var]",i.$element).each(function(t,n){var o=e(n),a=o.data("emailVar");"pageTitle"===a?o.text(i.options.pageTitle):"recipientName"===a&&o.text(i.options.recipientName)}),e('input[name="emailFriend[pageTitle]"]',i.$element).val(i.options.pageTitle);var o="string"==typeof i.options.pageUrl?i.options.pageUrl:i.options.pageUrl();if(e('input[name="emailFriend[pageUrl]"]',i.$element).val(o.replace(/^https?:\/\//i,"")),"video"===i.options.emailType){var a=e('[data-component="cnetVideo"]'),s=a.length>0?a[a.data("component")]("getVideoInfo"):'{"debug": "Not available"}';e('input[name="videoFeedback[debugInfo]"]',i.$element).val(e.param(JSON.parse(s))),e('input[name="videoFeedback[pageTitle]"]',i.$element).val(i.options.pageTitle),e('input[name="videoFeedback[pageUrl]"]',i.$element).val(i.options.pageUrl)}n.process(i.$element)}).always(function(){i.loader.remove()})},_setupEvents:function(){var t=this,n=e("form",this.$element),o=e('[data-component="recaptcha"], .g-recaptcha',t.$element),i=e('[data-email-var="error"]',n);n.formValidate({success:function(a){a.preventDefault(),e.ajax({dataType:"json",type:"POST",url:n.attr("action"),data:n.serialize()}).done(function(e){"success"===e.status?(n.html(t.options.messageThankYou),t.position()):(e.errors?i.text(e.errors[0]):i.text(t.errorMessages[e.message]),o.recaptcha("reload"))})}})}}),e(document).on("click.modalEmail-api.data-api",'[data-open="modalEmail"]',function(t){var n,o=e(this),i=o.data(),a=i.$modal;t.preventDefault(),a?a.open():(n=o.data("modalEmailOptions")||o.dataPrefix("modalEmail"),o.data("$modal",e.cnet.modalEmail(e.extend(n,{openOnInit:!0,destroy:function(){o.data("$modal",null)}}))))})}),define("components/mobile-footer-link",["jquery","version!fly/managers/debug","managers/client-storage","utils/cookie","version!fly/components/base"],function(e,t,n,o){t=t.init("mobileFooterLink"),e.widget("cnet.mobileFooterLink",e.fly.base,{options:{},_create:function(){this._setup();var e=this;n.read("mobileRedirect")&&(e.$element.append('<li><a class="view">Switch to mobile</a></li>'),this._setEvent())},_setEvent:function(){this.$element.find("a.view").on("click",function(){o.write("fly_device","mobile"),n.erase("mobileRedirect"),window.location.reload(!0)})}})}),window.Modernizr=function(e,t,n){function o(e){m.cssText=e}function i(e,t){return typeof e===t}var a,s,r,l="2.6.2",c={},d=t.documentElement,u="modernizr",p=t.createElement(u),m=p.style,h=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),f={},g=[],v=g.slice,y=function(e,n,o,i){var a,s,r,l,c=t.createElement("div"),p=t.body,m=p||t.createElement("body");if(parseInt(o,10))for(;o--;)r=t.createElement("div"),r.id=i?i[o]:u+(o+1),c.appendChild(r);return a=["&#173;",'<style id="s',u,'">',e,"</style>"].join(""),c.id=u,(p?c:m).innerHTML+=a,m.appendChild(c),p||(m.style.background="",m.style.overflow="hidden",l=d.style.overflow,d.style.overflow="hidden",d.appendChild(m)),s=n(c,e),p?c.parentNode.removeChild(c):(m.parentNode.removeChild(m),d.style.overflow=l),!!s},b={}.hasOwnProperty;r=i(b,"undefined")||i(b.call,"undefined")?function(e,t){return t in e&&i(e.constructor.prototype[t],"undefined")}:function(e,t){return b.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=v.call(arguments,1),o=function(){if(this instanceof o){var i=function(){};i.prototype=t.prototype;var a=new i,s=t.apply(a,n.concat(v.call(arguments)));return Object(s)===s?s:a}return t.apply(e,n.concat(v.call(arguments)))};return o}),f.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:y(["@media (",h.join("touch-enabled),("),u,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n};for(var k in f)r(f,k)&&(s=k.toLowerCase(),c[s]=f[k](),g.push((c[s]?"":"no-")+s));return c.addTest=function(e,t){if("object"==typeof e)for(var o in e)r(e,o)&&c.addTest(o,e[o]);else{if(e=e.toLowerCase(),c[e]!==n)return c;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(d.className+=" "+(t?"":"no-")+e),c[e]=t}return c},o(""),p=a=null,c._version=l,c._prefixes=h,c.testStyles=y,c}(this,this.document),define("libs/modernizr.custom-2.6.2",function(){}),define("managers/device",["jquery","version!fly/managers/debug","version!libs/modernizr.custom"],function(e,t){t=t.init("device");var n={desktop:"desktop",mobile:"mobile"},o={type:"desktop"},i={init:function(t){o.type=t;var n=e("body");Modernizr.touch?n.addClass("touch-enabled"):n.addClass("touch-disabled")},getType:function(){return o.type},isDesktop:function(){return o.type===n.desktop},isMobile:function(){return o.type===n.mobile},isAndroid:function(){return navigator.userAgent.match(/Android/i)},isKindle:function(){return navigator.userAgent.match(/Kindle/i)||navigator.userAgent.match(/Silk/i)},isBlackBerry:function(){return navigator.userAgent.match(/BB10/i)&&navigator.userAgent.match(/Mobile/i)},isWinPhone:function(){return navigator.userAgent.match(/Windows Phone/i)},isIPhone:function(){return navigator.userAgent.match(/iPhone/i)},isIPad:function(){return navigator.userAgent.match(/iPad/i)},isDesktopUserAgent:function(){return!(this.isAndroid()||this.isKindle()||this.isBlackBerry()||this.isWinPhone()||this.isIPhone()||this.isIPad())},isMobileUserAgent:function(){return this.isAndroid()||this.isKindle()||this.isBlackBerry()||this.isWinPhone()},getClickType:function(){return Modernizr.touch?"tap":"click"},getImmediateClickType:function(){return Modernizr.touch?"touchstart":"click"}};return i}),define("components/site-header",["jquery","version!fly/managers/debug","managers/tealium","managers/device","version!fly/components/base"],function(e,t,n,o){t=t.init("siteHeader"),e.widget("cnet.siteHeader",e.fly.base,{options:{offset:200,classHidden:"hide",classFixed:"fixed",isTrackTab:!1},lastScrollTop:0,$tabContainer:null,$headerContainer:null,headerHeight:0,$nav:null,navAdSelector:null,$contentContainer:null,_create:function(){this._setup(),this.$headerContainer=e("#rbHeader"),this.$contentContainer=e("#rbWrapper"),this.options.isTrackTab&&(this.$tabContainer=this.$headerContainer.find(".tab"),this.headerHeight=this.$headerContainer.height()+60),o.isMobile()?this.navAdSelector=".ad-mobile-nav-ad":this.navAdSelector=".ad-nav-ad",this.$nav=this.$element.find("nav"),this._setupEvents()},_setupEvents:function(){var t=this;this._on(this.$document,{scroll:e.throttle(100,t._checkScroll)});var n=e("#searchMenu");n.click(function(){n.find("input").focus()});var o=this.$element.find(".menu");o.on("focusout",function(n){e.contains(n.currentTarget,n.relatedTarget)||(o.not(e(n.currentTarget)).removeClass("hover"),t.$element.removeClass("menuHovering intentionalHover"))}),o.on("keydown",function(n){switch(n.which){case 38:n.preventDefault(),o.removeClass("hover"),t.$element.removeClass("menuHovering intentionalHover");break;case 32:case 40:n.preventDefault(),"searchMenu"===n.currentTarget.id?e(n.currentTarget).trigger("click"):(o.removeClass("hover"),t.$element.addClass("menuHovering intentionalHover"),e(this).addClass("hover"))}})},_checkScroll:function(){var t=this,n=e(window).scrollTop(),o=this.$contentContainer.position().top;if(!e("body").hasClass("mobile-nav-open")){if(n>t.lastScrollTop)n>o&&(t.$element.hasClass("intentionalHover")||t.$element.hasClass("modalopen"))&&t.$element.addClass("intentionalFixed"),n>t.options.offset+o?t.$element.hasClass("intentionalHover")||t.$element.hasClass("modalopen")||t.$element.addClass(t.options.classHidden):t.options.isTrackTab&&t.$tabContainer.css("top",t.headerHeight-n+o);else{var i;t.$element.removeClass(t.options.classHidden),n<5+o?(t.$element.removeClass(t.options.classFixed),t.$element.removeClass("intentionalFixed"),t.$nav.length>0&&(i=t.$nav.attr("section").replace("popup","top"),t.$nav.attr("section",i),t._trigger("sectionChange"))):(n>t.options.offset+o||n<t.options.offset+o&&t.$element.hasClass(t.options.classFixed))&&(t.$element.hasClass("intentionalFixed")||t.$element.addClass(t.options.classFixed),t.$nav.length>0&&(i=t.$nav.attr("section").replace("top","popup"),t.$nav.attr("section",i),t._trigger("sectionChange"))),t.options.isTrackTab&&t.$tabContainer.css("top",t.headerHeight+o)}t.lastScrollTop=n}}})}),define("components/auto-suggest",["jquery","version!fly/managers/debug","managers/tealium","managers/page-vars","version!fly/components/base"],function(e,t,n,o){t=t.init("autoSuggest"),e.widget("cnet.autoSuggest",e.fly.base,{options:{limit:null,classMenuShow:"active",classOpen:"open",classReady:"ready",classSelected:"selected",selectorMenu:".menuWrapper",selectorSuggestions:"li:not(.hed)",url:"/autosuggest/xhr/",dwTag:"search|suggestedSearch|",showLimit:10,clickable:!1},suggestXhr:null,$searchBox:null,$submitButton:null,_didTrackEnterSubmit:!1,_baseTrackingData:{_pageTitle:o.tracking.data._pageTitle,siteSection:o.tracking.data.siteSection,pageType:o.tracking.data.pageType,siteEdition:o.tracking.data.siteEdition,siteType:o.tracking.data.siteType,siteHier:o.tracking.data.siteHier,brand:o.tracking.data.brand,_pageChannelType:o.tracking.data._pageChannelType},_create:function(){this._setup(),this.$searchBox=this.$element.find("input"),this.$submitButton=this.$element.find('[type="submit"]'),this.$siteHeader=e("#rbHeader"),this._setupEvents(),this._setupTracking()},_setupEvents:function(){var t=this;this.$element.on("submit",function(n){var o=e(t.options.selectorSuggestions,t.$element).filter("."+t.options.classSelected),i=o.text(),a=o.attr("href");a?(n.preventDefault(),window.location.href=a):i&&t.$searchBox.val(i)}),this.$element.on("mousedown",this.options.selectorSuggestions,function(n){var o=e(this).attr("href");if(o)window.location=o;else{var i=e(t.options.selectorSuggestions,t.$element).filter("."+t.options.classSelected);""!==i.text()&&i.removeClass(t.options.classSelected),t._submitAutoSuggest(n)}}),this.$searchBox.on("focusout",function(n){0==e(n.relatedTarget).closest(".menuWrapper").length&&t._hideAutoSuggest()}),this.$searchBox.on("keyup",function(e){e.which>=37&&e.which<=40||t._doAutoSuggest()}),this.$searchBox.on("keydown",function(e){e.which>=37&&e.which<=40&&t._doArrowKey(e)}),e('[data-component="siteHeader"]').on("siteheadersectionchange",function(){t._updateSmartSearchTracking()}),e("#searchMenu [data-searchoverlay]").on("click",function(){t.$siteHeader.hasClass("showSearch")?t.$siteHeader.removeClass("showSearch"):null})},_doAutoSuggest:function(){var n=this,o=n.options;if(n.suggestXhr&&4!=n.suggestXhr.readyState&&0!==n.suggestXhr.readyState&&n.suggestXhr.abort(),""!==n.$searchBox.val()){var i=o.url+"?query="+n.$searchBox.val();o.limit&&(i=i+"&limit="+o.limit),o.showLimit&&(i=i+"&showLimit="+o.showLimit),t.log("AutoSuggestXHR: ",i),this.$submitButton.addClass(this.options.classReady),this.$searchBox.addClass(this.options.classReady),this.options.clickable===!1&&(this.$siteHeader.hasClass("showSearch")?null:this.$siteHeader.addClass("showSearch")),n.suggestXhr=e.ajax({url:i,dataType:"json",context:document.body}).done(function(t){n.$element.addClass(o.classMenuShow);var i=e(e.parseHTML(e.trim(t.html)));e(o.selectorSuggestions,i).length>0?(0===e(o.selectorMenu,n.$element).length?i.appendTo(n.$element):e(o.selectorMenu,n.$element).replaceWith(i),n._setupAdditionalResults()):(n._hideAutoSuggest(),e(o.selectorMenu,n.$element).html(""))}).fail(function(){n._hideAutoSuggest()})}else n._hideAutoSuggest(),e(o.selectorMenu,n.$element).html(""),this.$siteHeader.hasClass("showSearch")?this.$siteHeader.removeClass("showSearch"):null,this.$submitButton.removeClass(this.options.classReady),this.$searchBox.removeClass(this.options.classReady)},_doArrowKey:function(t){var n=e(this.options.selectorSuggestions,this.$element),o=n.filter("."+this.options.classSelected),i=n.index(o);if(38===t.which)o.removeClass(this.options.classSelected),i<=0?n.last().addClass(this.options.classSelected):n.eq(i-1).addClass(this.options.classSelected);else if(40===t.which)o.removeClass(this.options.classSelected),i<0||i===n.length-1?n.first().addClass(this.options.classSelected):n.eq(i+1).addClass(this.options.classSelected);else if(37===t.which||39===t.which){var a=o.closest("[data-additional-results]");a.length>0&&this._toggleAdditionalResults(this.$element.find("[data-additional-results]"),a,39===t.which)}},_hideAutoSuggest:function(){var e=this,t=e.options;e.$element.removeClass(t.classMenuShow)},_updateSmartSearchTracking:function(){var t=e("#searchTab [data-searchtracking]");if(t.length>0){var n=e("#rbHeader > nav[section]").attr("section")?e("#rbHeader > nav[section]").attr("section"):"";t.attr("section",n)}},_submitAutoSuggest:function(t){var o=e(t.target),i=o.text();n.trackSuggestedSearch({searchTerm:i,dwLinkTag:"search|suggestedSearch|"+o.prevAll().length}),this.$searchBox.val(i),this.$element.submit()},_setupAdditionalResults:function(){var t=this,n=this.$element.find("[data-additional-results]");n.each(function(o,i){var a=e(i);a.find('[data-auto-suggest-item="trigger"]').on("click",function(){t._toggleAdditionalResults(n,a)})})},_toggleAdditionalResults:function(t,n,o){var i=this,a=n.find('[data-auto-suggest-item="container"]');a.html()?n.toggleClass(function(e,t,n){return n||a.find("."+i.options.classSelected).removeClass(i.options.classSelected),i.options.classOpen},o):o!==!1&&e.ajax({dataType:"json",type:"GET",url:n.data("additionalResults")}).done(function(e){e.html&&(a.html(e.html),n.addClass(i.options.classOpen))}),t.not(n).removeClass(this.options.classOpen)},_setupTracking:function(){t.log("Setting up Smart Search tracking");var n=this,o=n.$element,i=o.find('input[type="search"]'),a=o.find(".submit");e('[data-target="#search"]'),i.on("keydown.smartSearchTracking",function(e){13===e.keyCode&&(n._trackSubmit("enter"),n._didTrackEnterSubmit=!0)}),a.on("click.smartSearchTracking",function(){n._didTrackEnterSubmit||n._trackSubmit("button")}),o.on("click",'[data-smartsearch="seeall"]',function(){n._didTrackEnterSubmit||n._trackSubmit("seeall")}),o.on("click.smartSearchTrackingMakeAndModel",".makesAndModels a",function(t){n._trackMakeModelClick(e(this))}),o.on("click.smartSearchTrackingContent",".results a",function(t){n._trackContentLinkClick(e(this))})},_trackSubmit:function(o){t.log("Track submit with "+o);var i=this.$element.find('input[type="search"]').val();t.log("Typed text: "+i);var a="search|submit|"+o;if(this.$element.find("button[data-smartsearch]").attr("data-smartsearch"))var s=this.$siteHeader.hasClass("fixed")?"popup":"top",a="brand_nav|"+s+"|search|typed|"+o;n.trackCustomEvent("searchSubmit",e.extend(this._baseTrackingData,{_searchTerm:i.toLowerCase(),clickGenericText:a}),"trackClick")},_trackMakeModelClick:function(o){t.log("Track make and model click");var i=o.text(),a=(e('.autoHeader input[type="search"]').val(),o.attr("data-category")),s=o.parent().index()+1,r="search|suggested"+a+"|"+s,l=e.extend(this._baseTrackingData,{searchTerm:i.toLowerCase(),clickGenericText:r});n.trackCustomEvent("searchResultClick",l,"trackClick")},_trackContentLinkClick:function(o){t.log("Track content link click");var i=e('.autoHeader input[type="search"]').val(),a=o.parent().index()+1,s="search|suggestedContent|"+a;n.trackCustomEvent("searchResultClick",e.extend(this._baseTrackingData,{searchTerm:i,clickGenericText:s}),"trackClick")}})}),define("components/lazyload-component",["jquery","version!fly/managers/debug","version!fly/managers/components","version!fly/components/base"],function(e,t,n){t=t.init("lazyloadComponent"),e.widget("cnet.lazyloadComponent",e.fly.base,{options:{endpoint:"",slug:"",view:"",familyName:"",typeName:"",limit:""},_create:function(){this._setup();var n=this.options.endpoint+"?endpoint=%2Fapi%2Fcomponent%2Fcomponent%2F"+this.options.slug+"&view="+this.options.view+"&familyName="+this.options.familyName+"&typeName="+this.options.typeName;""!==this.options.limit&&(n+="&limit="+this.options.limit),t.log("URL: ",n),e.ajax({url:n,dataType:"json",context:{context:this}}).done(this._onSuccess).fail(this._onError)},_onSuccess:function(t){"use strict";var o=this.context.$element,i=e(e.parseHTML(e.trim(t.component.html)));o.append(i),o.removeClass("hide"),o.addClass("show"),n.process(o)},_onError:function(){}})}),define("components/taboola",["jquery","version!fly/managers/debug","managers/page-vars","managers/tealium","version!fly/utils/url-helper","managers/client-storage","managers/edition","version!fly/components/base"],function(e,t,n,o,i,a,s){t=t.init("taboola"),e.widget("cnet.taboola",e.fly.base,{options:{mode:null,container:null,placement:null,targetType:"mix",canonicalUrl:null,pushPlacement:null,isXhr:!1,assetSelector:"[data-item-id]"},_baseTrackingData:{_pageTitle:n.tracking.data._pageTitle,siteSection:n.tracking.data.siteSection,pageType:n.tracking.data.pageType,siteEdition:n.tracking.data.siteEdition,siteType:n.tracking.data.siteType,siteHier:n.tracking.data.siteHier,brand:n.tracking.data.brand,_pageChannelType:n.tracking.data._pageChannelType},initOptions:null,isLoaded:!1,_create:function(){var o=this;if(this._super(),this.initOptions={},!this.isLoaded){var i=n.ads.data.gpt.targeting.test;"ad_priority|2|total"===i||"ad_priority|2|partial"===i?n.video&&n.video.performance&&(n.video.performance.adstart||n.video.performance.contentstart)?(t.log("Load Taboola; video content already started"),o._loadTaboola()):e(window).on("cnet_video.adstart cnet_video.contentstart",function(){o.isLoaded||(t.log("Load Taboola on cnet_video.adstart / cnet_video.contentstart"),o._loadTaboola())}):(t.log("Load Taboola regardless of cnet_video"),this._loadTaboola())}},_loadTaboola:function(){this.isLoaded=!0;var e=this;require([s.isEspanol()?"taboola-es":"taboola"],function(o){if(n.ads.enabled===!0){o=window._taboola||[],t.log("Taboola widget created");var i=e.options;pageType=e._getPageType(),t.log("Taboola Page Type: "+pageType),e.initOptions[pageType]="auto",e.initOptions.visibile=!!i.mode,i.canonicalUrl&&(e.initOptions.url=i.canonicalUrl),i.pushPlacement=n.tracking.data.pageType+" "+n.device+" "+i.placement,e._pushTaboola(o)}else t.log("Ads disabled")})},_getPageType:function(){var e={front_door:"home",article:"article",video_page:"video",image_gallery:"photo",section_door:"category",image_gallery_list:"category",search:"search",search_null:"search"},t="other";return e[n.pageType]&&(t=e[n.pageType]),t},_pushTaboola:function(e){var t=this.options;t.mode&&e.push({mode:t.mode,container:t.container,placement:t.pushPlacement,target_type:t.targetType}),e.push(this.initOptions),e.push({listenTo:"click",handler:this._clickTracking.bind(this)}),e.push({listenTo:"render",handler:this._setupImpressionTracking.bind(this)})},_setupDwTag:function(e){t.log("Finding dwTag");for(var n="",o=e.closest("[section],[id]"),i=0;i<3;i++)o.attr("section")?n=o.attr("section")+"|"+n:o.attr("id")&&(n=o.attr("id")+"|"+n),o=o.parent().closest("[section],[id]");return n=n.slice(0,n.length-1),window.dwTag=n,t.log("Found dwTag"),n},_clickTracking:function(n){var i=(this.options,this);t.log("Taboola Element Clicked, Tracking Now");var a=n.detail.type;"sponsored"==a?a="paid":"organic"==a&&(a="recirc");var s=this._setupDwTag(this.$element)+"|"+a+"["+(n.detail.slot+1)+"]",r=e.extend({},i._baseTrackingData,{_dwLinkTag:s,contentWidget:i.options.container});window.dwTag=s,o.trackCustomEvent("TaboolaClick",r),t.log("Taboola Click Tracked"),window.dwTag=null},_setupImpressionTracking:function(t){var n=this;new Waypoint.Inview({element:this.$element,entered:function(){var t=n._setupDwTag(n.$element),i=e.extend({},n._baseTrackingData,{_dwLinkTag:t,contentWidget:n.options.container});window.dwTag=t,o.trackCustomEvent("trackTaboolaWidgetView",i,"trackTaboolaWidgetView"),this.destroy(),window.dwTag=null},exit:function(){this.destroy()}})}})}),define("managers/components.desktop",["jquery","version!fly/managers/components","version!fly/managers/debug","managers/tealium","managers/page-vars","components/global-modal","components/modal-email","components/modal-iframe","components/mobile-footer-link","components/site-header","components/auto-suggest","components/lazyload-component","components/taboola"],function(e,t,n,o,i){return n=n.init("componentManager"),t.register({globalModal:{},modalEmail:{},modalIframe:{},mobileFooterLink:{},siteHeader:{},autoSuggest:{},lazyloadComponent:{},accordion:{require:"version!fly/components/accordion"},addthisevent:{require:"components/add-this-event"},alert:{require:"version!fly/components/alert"},article:{require:"components/article"},audioPlayer:{require:"components/audio-player"},autoplayControls:{require:"components/autoplay-controls"},backgroundVideo:{require:"components/background-video"},bestFitVideoPromo:{require:"components/best-fit-video-promo"},bestList:{require:"components/best-list"},bestListing:{require:"components/best-listing"},breakingNews:{require:"components/breaking-news"},carFinder:{require:"components/car-finder"},carousel:{require:"version!fly/components/carousel",options:{slidechanged:function(t){e(window).trigger("scroll")}}},carouselDesktop:{require:"components/carousel.desktop"},carouselFull:{require:"components/carousel-full"},cesCategoryListing:{require:"components/ces-category-listing"},clipboard:{require:"components/clipboard"},cnet100:{require:"components/cnet100"},cnetVideo:{require:"components/cnet-video"},connectComponent:{require:"components/connect-es-component"},contactUs:{require:"components/contact-us"},couponsDesktop:{require:"components/coupons-page.desktop"},dropdown:{require:"components/dropdown"},dfllActivator:{require:"components/dfll-activator.desktop"},dfllActivatorV2:{require:"components/dfll-activator-v2.desktop"},dfllUpdater:{require:"components/dfll-updater.desktop"},dfllUpdaterV2:{require:"components/dfll-updater-v2.desktop"},dealerQuote:{require:"components/dealer-quote"},dealsListing:{require:"components/deals-listing"},editionToggler:{require:"components/edition-toggler"},editorsChoiceToggle:{require:"components/editors-choice-toggle"},ellipsis:{require:"components/ellipsis"},expando:{require:"components/expando"},HGGFD:{require:"components/hgg-door"},holidayNav:{require:"components/holiday-nav"},inlineProductCarousel:{require:"components/inline-product-carousel"},topStories:{require:"components/top-stories"},errorModal:{require:"components/error-modal"},expiredDealModal:{require:"components/expired-deal-modal.desktop"},externalLink:{require:"components/external-link"},autoCalcIframe:{require:"components/auto-calc-iframe"},fixate:{require:"components/fixate"},formAjax:{require:"components/form-ajax"},formTrim:{require:"components/form-trim"},formValidate:{require:"components/form-validate"},forumsBestAnswer:{require:"components/forums-best-answer"},forumsMarkAsRead:{require:"components/forums-mark-as-read"},forumsRealtime:{require:"components/forums-realtime"},forumsPostToggle:{require:"components/forums-post-toggle"},forumsPostPreview:{require:"components/forums-post-preview"},forumsPostFlag:{require:"components/forums-post-flag"},forumsPermalink:{require:"components/forums-permalink"},forumsLoadForm:{require:"components/forums-load-form"},forumsSearchUpdater:{require:"components/forums-search-updater"},forumsTools:{require:"components/forums-tools"},forumsTrack:{require:"components/forums-track"},forumsVote:{require:"components/forums-vote"},fullScreenSlides:{require:"components/full-screen-slides"},googleCsa:{require:"components/google-csa"},iframeAdTracker:{require:"components/iframe-ad-tracker"},iframeHoverFix:{require:"components/iframe-hover-fix"},imageGallery:{require:"components/image-gallery"},imageGalleryAuto:{require:"components/image-gallery-auto"},imageGalleryModal:{require:"components/image-gallery-modal"},indepthReview:{require:"components/indepth-review"},instagramFetcher:{require:"components/instagram-fetcher"},interactiveFloorPlans:{require:"components/interactive-floor-plans"},interactiveVideoPlayer:{require:"components/interactive-video-player"},interactiveVideoPollTimer:{require:"components/interactive-video-poll-timer"},joinCnet:{require:"components/join-cnet"},lazyloadImages:{require:"components/lazyload-images"},lazyloadElement:{require:"components/lazyload-element"},leadsTracker:{require:"components/leads-tracker"},linkTracker:{require:"components/link-tracker"},livefyreCommentcount:{require:"components/livefyre-commentcount-cnet"},livefyreConversation:{require:"components/livefyre-conversation"},livefyreConversationAsync:{require:"components/livefyre-conversation-async"},livefyreReviews:{require:"components/livefyre-reviews"},loadMore:{require:"components/load-more",options:{load:function(e){e._clickAction="trackClick",e.clickGenericText="load-more",e.siteSection=i.tracking.data.siteSection,e.pageType=i.tracking.data.pageType,e.siteEdition=i.tracking.data.siteEdition,e.siteType=i.tracking.data.siteType,e.deviceType=i.tracking.data.deviceType,e._pageChannelType=i.tracking.data._pageChannelType,e.brand=i.tracking.data.brand,o.trackCustomEvent("loadMore",e)}}},loadMoreMasonry:{require:"components/load-more-masonry-river",options:{load:function(e){e._clickAction="trackClick",e.clickGenericText="load-more",e.siteSection=i.tracking.data.siteSection,e.pageType=i.tracking.data.pageType,e.siteEdition=i.tracking.data.siteEdition,e.siteType=i.tracking.data.siteType,e.deviceType=i.tracking.data.deviceType,e._pageChannelType=i.tracking.data._pageChannelType,e.brand=i.tracking.data.brand,o.trackCustomEvent("loadMore",e)}}},loadNewest:{require:"components/load-newest",options:{load:function(e){e._clickAction="trackClick",e.clickGenericText="refresh-river",e.siteSection=i.tracking.data.siteSection,e.pageType=i.tracking.data.pageType,e.siteEdition=i.tracking.data.siteEdition,e.siteType=i.tracking.data.siteType,e.deviceType=i.tracking.data.deviceType,e._pageChannelType=i.tracking.data._pageChannelType,e.brand=i.tracking.data.brand,o.trackCustomEvent("loadMore",e)}}},magnet:{require:"components/magnet"},modal:{require:"version!fly/components/modal"},modalEnlargeImage:{require:"components/modal-enlarge-image"},moduleAssetTracker:{require:"components/module-asset-tracker"},mostPopularDeal:{require:"components/most-popular-deal.desktop"},mostPopularDealListing:{require:"components/most-popular-deal-listing.desktop",options:{contentSet:function(e){t.process(e.$content)}}},myLists:{require:"components/mylists"},myListsButton:{require:"components/mylists-button"},myListsCount:{require:"components/mylists-count"},myListsEmail:{require:"components/mylists-email"},newsletterSubscription:{require:"components/newsletter-subscription"},newsCarousel:{require:"components/news-carousel"},page:{require:"components/page"},pageHeader:{require:"components/page-header"},parallaxReveal:{require:"components/parallax-reveal"},poll:{require:"components/poll"},preLoadImageVideo:{require:"components/pre-load-image-video"},productMediaCarousel:{require:"components/product-media-carousel"},productSeriesModal:{require:"components/product-series",options:{contentSet:function(e,n){t.process(n.$content);
}}},productSpecs:{require:"components/product-specs"},productReviewVideo:{require:"components/product-review-video"},profileReauth:{require:"components/profile-reauth"},progressiveAd:{require:"components/progressive-ad"},scrollTracking:{require:"components/scroll-tracking"},popOnScroll:{require:"components/pop-on-scroll"},profileSubscriptions:{require:"components/profile-subscriptions",options:{contentSet:function(e){t.process(e.$content)}}},profileModal:{require:"components/profile-modal",options:{contentSet:function(e){t.process(e.$content)}}},profileUpdate:{require:"components/profile-update",options:{contentSet:function(e){t.process(e.$content)}}},profileUgc:{require:"components/profile-ugc",options:{contentSet:function(e){t.process(e.$content)}}},profileDiscussions:{require:"components/profile-discussions"},radio:{require:"components/radio"},readMore:{require:"components/read-more"},realtimeData:{require:"components/realtime-data"},realtimeDrawer:{require:"components/realtime-drawer"},realtimeTicker:{require:"components/realtime-ticker"},recaptcha:{require:"components/recaptcha"},scrollbarArea:{require:"components/scrollbar-area"},searchBar:{require:"components/search-bar"},searchPagination:{require:"components/search-paginator",options:{contentSet:function(e){t.process(e.$content)}}},searchSort:{require:"components/search-sort"},selfishScroll:{require:"components/selfish-scroll"},sharebar:{require:"components/sharebar"},shortcodeGallery:{require:"components/shortcode-gallery"},shortcodeGalleryController:{require:"components/shortcode-gallery-controller"},showcaseHeroTabs:{require:"components/showcase-hero-tabs"},showcaseRailBody:{require:"components/showcase-rail-body"},showcaseVideos:{require:"components/showcase-videos"},sideNav:{require:"components/side-nav"},similarCars:{require:"components/similar-cars"},slider:{require:"components/slider"},slidingElement:{require:"components/sliding-element"},snappyCarousel:{require:"quantum/snappyCarousel"},stacklaEvents:{require:"components/stackla-events"},uiSlider:{require:"version!libs/jquery/ui/jquery.ui.slider"},socialButton:{require:"version!fly/components/social-button"},socialCounts:{require:"components/social-counts"},socialMenu:{require:"components/social-menu"},socialTracking:{require:"components/social-tracking"},spotIM:{require:"components/spot-im"},spotIMCommentCount:{require:"components/spot-im-comment-count"},stickyColumn:{require:"components/sticky-column"},stickyElement:{require:"components/sticky-element"},stickyLeader:{require:"components/sticky-leader"},subratingModalToggle:{require:"components/subrating-modal-toggle"},tableSorter:{require:"components/table-sorter"},taboola:{require:"components/taboola"},taboolaNewsroom:{require:"components/taboola-newsroom"},tabs:{require:"version!fly/components/tabs"},tabsAsync:{require:"components/tabs-async",options:{contentSet:function(e){t.process(e.$content)}}},tabsModal:{require:"components/tabs-modal"},tabsRefresh:{require:"components/tabs-refresh"},tagLetterSorter:{require:"components/tag-letter-sorter"},textCounter:{require:"components/text-counter"},tileSpecialNav:{require:"components/tile-special-nav"},tocNav:{require:"components/toc-nav"},toggle:{require:"components/toggle"},tooltip:{require:"components/tooltip"},touchMenuHover:{require:"components/touch-menu-hover"},trackDownload:{require:"components/track-download"},tvFeature:{require:"components/tv-feature"},twitterFetcher:{require:"components/twitter-fetcher"},videoControls:{require:"components/video-controls"},videoHook:{require:"components/video-hook"},videoModal:{require:"components/video-modal"},videoOnPage:{require:"components/video-on-page"},videoScroller:{require:"components/video-scroller"},videoListing:{require:"components/video-listing"},videoPlaylistConnector:{require:"components/video-playlist-connector"},videoShowGallery:{require:"components/video-show-gallery"},waypointPromo:{require:"component/waypoint-promo"},zipCode:{require:"components/zip-code"},zoom:{require:"quantum/zoom"},profileNewsletterSubscription:{require:"components/profile-newsletter-subscription"},bandwidthMeterBar:{require:"components/bandwidth-meter-bar"}}),t}),define("managers/edition-notifications",["jquery","version!fly/managers/debug","managers/device","components/global-modal"],function(e,t,n,o){t=t.init("editionNotifications");var i={init:function(){if(n.isDesktop()){var t=e("body").data("edition-redirect-alert");t&&t.length>0&&e.cnet.globalModal({content:t,openOnInit:!0})}}};return i}),define("managers/promotionals.desktop",["jquery","version!fly/managers/debug","managers/client-storage","utils/cookie","managers/edition","managers/page-vars","managers/user","version!libs/modernizr.custom"],function(e,t,n,o,i,a,s){t=t.init("promotionals");var r=null,l={cookiesNotification:{limit:3,isActive:function(){return i.isUnitedKingdom()&&!n.read("suppressCookiesNotification",!0)&&r.cookiesNotification<l.cookiesNotification.limit},init:function(){require(["components/cookies-notification.desktop"],function(){e.cnet.cookiesNotification(),r.cookiesNotification++,n.write("promotionalSettings",r),n.write("suppressCookiesNotification",!0,!0)})}},espanolPromo:{limit:2,isActive:function(){var e=(window.navigator.userLanguage||window.navigator.language).indexOf("es")>=0;return e||(e="es"===o.read("fly_default_edition")),!i.isEspanol()&&e&&!n.read("suppressEspanolPromo",!0)&&r.espanolPromo<l.espanolPromo.limit},init:function(){require(["components/espanol-promo.desktop"],function(){e.cnet.espanolPromo(),r.espanolPromo++,n.write("promotionalSettings",r),n.write("suppressEspanolPromo",!0,!0)})}},flyoutPromo:{limit:3,isActive:function(){var e=a.tracking.data.pageType||"",t=["expando","hgg_2015"].indexOf(e)==-1&&0!==e.indexOf("user_");if(a.tracking.data.collectionSlug)var i=a.tracking.data.collectionSlug[0];var s=["holiday-gift-guide-2015","holiday-gift-guide-2016","ces-2017","must-see-ces-2017","guia-de-compras-navidenas-2015","guia-de-compras-navidenas-2016","black-friday-cyber-monday-2015","viernes-negro","ces-2016","must-see-ces-2016","detroit-auto-show"].indexOf(i)==-1,c=a.tracking.data.articleType,d=["hgg_2016","hgg_2015","my_list","ces_2016","ces_2017","detroit_2016"].indexOf(c)==-1,u=a.tracking.data.slug||"",p=!("content_review_indepth"===c&&(0===u.indexOf("lg-")||0===u.indexOf("dyson-")||0===u.indexOf("samsung-")||0===u.indexOf("lenovo-"))),m=r.flyoutPromo<l.flyoutPromo.limit,h=!o.read("previousLogin")&&!o.read("urs_social_recognized"),f=document.cookie.indexOf("QSI_SI_")<0,g=r.flyoutPromo>1;return g||(r.flyoutPromo++,n.write("promotionalSettings",r)),t&&s&&d&&p&&m&&h&&f&&g},init:function(){s.getUserData(function(t,o){o.isLoggedIn||require(["components/flyout-promo.desktop"],function(){e.cnet.flyoutPromo(a.promotionals.flyoutPromo),r.flyoutPromo++,n.write("promotionalSettings",r)})})}},autoSocialPromo:{limit:4,isActive:function(){var e="front_door"==a.tracking.data._pageType&&"auto"==a.tracking.data.slug,t=r.autoSocialPromo<l.autoSocialPromo.limit;return e&&t},init:function(){require(["components/waypoint-promo"],function(){e.cnet.waypointPromo()})}}},c={init:function(){var t=function(){e.cnet.breakingNewsActive===!1&&(l.cookiesNotification.isActive()?l.cookiesNotification.init():l.espanolPromo.isActive()&&l.espanolPromo.init())};r=n.read("promotionalSettings")||{};for(var o in l)l.hasOwnProperty(o)&&(r[o]=r[o]||0);setTimeout(function(){l.flyoutPromo.isActive()&&l.flyoutPromo.init()},4e3),l.autoSocialPromo.isActive()&&l.autoSocialPromo.init(),"undefined"==typeof e.cnet.breakingNewsActive?e(window).on("breakingNewsComplete",function(){t()}):t()},suppress:function(e){r[e]=l[e].limit,n.write("promotionalSettings",r)},increment:function(e){r[e]++,n.write("promotionalSettings",r)}};return c}),define("managers/third-party/social",["version!fly/managers/debug"],function(e){function t(e){"string"==typeof n[e]&&require([n[e]],function(t){n[e]=t,t.init()})}e=e.init("social");var n={linkedIn:"managers/third-party/linked-in",pinterest:"managers/third-party/pinterest",twitter:"managers/third-party/twitter"};return{init:function(){$('[data-social="linkedIn"]').length>0&&t("linkedIn"),$('[data-social="pinterest"]').length>0&&t("pinterest"),$('[data-social="twitter"]').length>0&&t("twitter")},parse:function(e){e=e||null,$('[data-social="linkedIn"]',e).length>0&&("string"==typeof n.linkedIn?t("linkedIn"):n.linkedIn.parse(e)),$('[data-social="pinterest"]',e).length>0&&"string"==typeof n.pinterest&&t("pinterest"),$('[data-social="twitter"]',e).length>0&&("string"==typeof n.twitter?t("twitter"):n.twitter.parse())}}}),!function(e,t,n){"function"==typeof define&&define.amd?define("libs/jquery/mobile-1.4.0a1",["jquery"],function(o){return n(o,e,t),o.mobile}):n(e.jQuery,e,t)}(this,document,function(e,t,n,o){!function(e,t,n,o){function i(e){for(;e&&"undefined"!=typeof e.originalEvent;)e=e.originalEvent;return e}function a(t,n){var a,s,r,l,c,d,u,p,m,h=t.type;if(t=e.Event(t),t.type=n,a=t.originalEvent,s=e.event.props,h.search(/^(mouse|click)/)>-1&&(s=A),a)for(u=s.length,l;u;)l=s[--u],t[l]=a[l];if(h.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),h.search(/^touch/)!==-1&&(r=i(a),h=r.touches,c=r.changedTouches,d=h&&h.length?h[0]:c&&c.length?c[0]:o))for(p=0,m=q.length;p<m;p++)l=q[p],t[l]=d[l];return t}function s(t){for(var n,o,i={};t;){n=e.data(t,x);for(o in n)n[o]&&(i[o]=i.hasVirtualBinding=!0);t=t.parentNode}return i}function r(t,n){for(var o;t;){if(o=e.data(t,x),o&&(!n||o[n]))return t;t=t.parentNode}return null}function l(){U=!1}function c(){U=!0}function d(){N=0,R.length=0,O=!1,c()}function u(){l()}function p(){m(),D=setTimeout(function(){D=0,d()},e.vmouse.resetTimerDuration)}function m(){D&&(clearTimeout(D),D=0)}function h(t,n,o){var i;return(o&&o[t]||!o&&r(n.target,t))&&(i=a(n,t),e(n.target).trigger(i)),i}function f(t){var n,o=e.data(t.target,S);O||N&&N===o||(n=h("v"+t.type,t),n&&(n.isDefaultPrevented()&&t.preventDefault(),n.isPropagationStopped()&&t.stopPropagation(),n.isImmediatePropagationStopped()&&t.stopImmediatePropagation()))}function g(t){var n,o,a,r=i(t).touches;r&&1===r.length&&(n=t.target,o=s(n),o.hasVirtualBinding&&(N=F++,e.data(n,S,N),m(),u(),L=!1,a=i(t).touches[0],M=a.pageX,P=a.pageY,h("vmouseover",t,o),h("vmousedown",t,o)))}function v(e){U||(L||h("vmousecancel",e,s(e.target)),L=!0,p())}function y(t){if(!U){var n=i(t).touches[0],o=L,a=e.vmouse.moveDistanceThreshold,r=s(t.target);L=L||Math.abs(n.pageX-M)>a||Math.abs(n.pageY-P)>a,L&&!o&&h("vmousecancel",t,r),h("vmousemove",t,r),p()}}function b(e){if(!U){c();var t,n,o=s(e.target);h("vmouseup",e,o),L||(t=h("vclick",e,o),t&&t.isDefaultPrevented()&&(n=i(e).changedTouches[0],R.push({touchID:N,x:n.clientX,y:n.clientY}),O=!0)),h("vmouseout",e,o),L=!1,p()}}function k(t){var n,o=e.data(t,x);if(o)for(n in o)if(o[n])return!0;return!1}function w(){}function _(t){var n=t.substr(1);return{setup:function(){k(this)||e.data(this,x,{});var o=e.data(this,x);o[t]=!0,I[t]=(I[t]||0)+1,1===I[t]&&H.bind(n,f),e(this).bind(n,w),j&&(I.touchstart=(I.touchstart||0)+1,1===I.touchstart&&H.bind("touchstart",g).bind("touchend",b).bind("touchmove",y).bind("scroll",v))},teardown:function(){--I[t],I[t]||H.unbind(n,f),j&&(--I.touchstart,I.touchstart||H.unbind("touchstart",g).unbind("touchmove",y).unbind("touchend",b).unbind("scroll",v));var o=e(this),i=e.data(this,x);i&&(i[t]=!1),o.unbind(n,w),k(this)||o.removeData(x)}}}var T,C,x="virtualMouseBindings",S="virtualTouchID",$="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),q="clientX clientY pageX pageY screenX screenY".split(" "),E=e.event.mouseHooks?e.event.mouseHooks.props:[],A=e.event.props.concat(E),I={},D=0,M=0,P=0,L=!1,R=[],O=!1,U=!1,j="addEventListener"in n,H=e(n),F=1,N=0;for(e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},C=0;C<$.length;C++)e.event.special[$[C]]=_($[C]);j&&n.addEventListener("click",function(t){var n,o,i,a,s,r,l=R.length,c=t.target;if(l)for(n=t.clientX,o=t.clientY,T=e.vmouse.clickDistanceThreshold,i=c;i;){for(a=0;a<l;a++)if(s=R[a],r=0,i===c&&Math.abs(s.x-n)<T&&Math.abs(s.y-o)<T||e.data(i,S)===s.touchID)return t.preventDefault(),void t.stopPropagation();i=i.parentNode}},!0)}(e,t,n),function(e){e.mobile={}}(e),function(e,t){var o={touch:"ontouchend"in n};e.mobile.support=e.mobile.support||{},e.extend(e.support,o),e.extend(e.mobile.support,o)}(e),function(e,t,o){function i(t,n,o){var i=o.type;o.type=n,e.event.dispatch.call(t,o),o.type=i}var a=e(n),s=e.mobile.support.touch,r="touchmove scroll",l=s?"touchstart":"mousedown",c=s?"touchend":"mouseup",d=s?"touchmove":"mousemove";e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn&&(e.attrFn[n]=!0)}),e.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){n=t,i(a,n?"scrollstart":"scrollstop",e)}var n,o,a=this,s=e(a);s.bind(r,function(i){e.event.special.scrollstart.enabled&&(n||t(i,!0),clearTimeout(o),o=setTimeout(function(){t(i,!1)},50))})},teardown:function(){e(this).unbind(r)}},e.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var t=this,n=e(t),o=!1;n.bind("vmousedown",function(s){function r(){clearTimeout(d)}function l(){r(),n.unbind("vclick",c).unbind("vmouseup",r),a.unbind("vmousecancel",l)}function c(e){l(),o||u!==e.target?o&&e.stopPropagation():i(t,"tap",e)}if(o=!1,s.which&&1!==s.which)return!1;var d,u=s.target;n.bind("vmouseup",r).bind("vclick",c),a.bind("vmousecancel",l),d=setTimeout(function(){e.event.special.tap.emitTapOnTaphold&&(o=!0),i(t,"taphold",e.Event("taphold",{target:u}))},e.event.special.tap.tapholdThreshold)})},teardown:function(){e(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),a.unbind("vmousecancel")}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:10,verticalDistanceThreshold:75,start:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[n.pageX,n.pageY],origin:e(t.target)}},stop:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;return{time:(new Date).getTime(),coords:[t.pageX,t.pageY]}},handleSwipe:function(t,n,o,a){if(n.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-n.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-n.coords[1])<e.event.special.swipe.verticalDistanceThreshold){var s=t.coords[0]>n.coords[0]?"swipeleft":"swiperight";return i(o,"swipe",e.Event("swipe",{target:a,swipestart:t,swipestop:n})),i(o,s,e.Event(s,{target:a,swipestart:t,swipestop:n})),!0}return!1},setup:function(){var t=this,n=e(t);n.bind(l,function(o){function i(n){s&&(a=e.event.special.swipe.stop(n),l||(l=e.event.special.swipe.handleSwipe(s,a,t,r)),Math.abs(s.coords[0]-a.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&n.preventDefault())}var a,s=e.event.special.swipe.start(o),r=o.target,l=!1;n.bind(d,i).one(c,function(){l=!0})})},teardown:function(){e(this).unbind(l).unbind(d).unbind(c)}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)},teardown:function(){e(this).unbind(n)}}})}(e,this)}),define("main.desktop",["jquery","managers/client-storage","managers/components.desktop","managers/device","managers/edition-notifications","managers/page-vars","managers/promotionals.desktop","managers/third-party/social","managers/tealium","version!fly/utils/data-prefix","utils/function-natives","version!libs/jquery/mobile","version!libs/modernizr.custom","managers/user"],function(e,t,n,o,i,a,s,r,l){e(document).ready(function(){l.init(a.tracking.data),o.init(a.device),t.init(),n.process(e("body")),s.init(),i.init(),r.init()})}),define("components/edition-toggler",["jquery","version!fly/managers/debug","managers/user","utils/cookie","version!fly/components/base"],function(e,t,n,o){t=t.init("editionToggler"),e.widget("cnet.editionToggler",e.fly.base,{options:{preferredEditionCookie:"fly_preferred_edition"},_create:function(){this._setup(),this._setupEvents()},_setupEvents:function(){var i=this;e("[data-edition]",this.$element).on("click",function(a){a.preventDefault();var s=e(this),r=s.attr("href"),l=s.data("edition");t.log("setting preferred edition cookie from menu value: "+l),o.write(i.options.preferredEditionCookie,l,{expires:365}),r?n.getUserData(function(n,o){o.isLoggedIn?(t.log("setting urs preferred edition from menu value: "+l),e.ajax({dataType:"json",url:"/edition/update/",data:{preferredEdition:l}}).done(function(e){r?window.location.href=r:t.log("failed to set window.location.href to:"+r)}).fail(function(e){t.log("failed to set urs edition value: "+l)})):window.location.href=r}):t.log("failed to set window.location.href to:"+r)})}})}),define("fly/components/fixate-1.0",["jquery","version!fly/components/base"],function(e){e.widget("fly.fixate",e.fly.base,{options:{classFixed:"fixed",classUnfixed:"unfixed",primaryEdge:"top",offset:{top:20,bottom:20},stickToLeft:!1,stickToRight:!1,guideTop:null,guideBottom:null,guideLeft:null,guideRight:null},hasEvents:!1,isFixed:!1,boundary:{top:-1,bottom:-1,left:-1,right:-1},$element:null,$window:e(window),$document:e(document),_create:function(){this._super("_create"),this._setBoundaries(),this._addEvents(),this.checkPosition()},_addEvents:function(){this.options;this.hasEvents||this.disabled||(this.hasEvents=!0,this.$window.on("scroll.fixate",e.proxy(this.checkPosition,this)),this.$window.on("resize.fixate",e.proxy(this.checkPosition,this)))},_removeEvents:function(){this.hasEvents=!1},_setBoundaries:function(){var t=this.options,n=null,o=null,i=null,a=null,s=null;this.boundary={top:-1,bottom:-1,left:-1,right:-1},t.guideTop&&(o=e(t.guideTop),n=o.offset(),this.boundary.top=n.top+o.outerHeight()),t.guideBottom&&(i=e(t.guideBottom),n=i.offset(),this.boundary.bottom=n.top),t.guideLeft&&(a=e(t.guideLeft),n=a.offset(),t.stickToLeft&&((this.boundary.top<0||n.top>this.boundary.top)&&(this.boundary.top=n.top),(this.boundary.bottom<0||n.top+a.outerHeight()<this.boundary.bottom)&&(this.boundary.bottom=n.top+a.outerHeight()))),t.guideRight&&(s=e(t.guideRight),n=s.offset(),t.stickToRight&&((this.boundary.top<0||n.top>this.boundary.top)&&(this.boundary.top=n.top),(this.boundary.bottom<0||n.top+s.outerHeight()<this.boundary.bottom)&&(this.boundary.bottom=n.top+s.outerHeight())))},_fix:function(){var e=this.options;this.isFixed=!0,this.$element.addClass(e.classFixed).removeClass(e.classUnfixed),"top"===e.primaryEdge?this.$element.css("top",e.offset.top):this.$element.css("top",this.$window.height()-e.offset.bottom-this.$element.height()),this._placeHorizontally()},_unfix:function(e){var t=this.options;this.isFixed=!1,this.$element.addClass(t.classUnfixed).removeClass(t.classFixed),"top"===e?this.$element.css("top",this.boundary.top+t.offset.top-this.$window.scrollTop()):this.$element.css("top",this.boundary.bottom-t.offset.bottom-this.$element.height()-this.$window.scrollTop()),this._placeHorizontally()},_placeHorizontally:function(){var t=this.options,n=this.$window.scrollLeft(),o=null,i=null;t.guideLeft?(o=e(t.guideLeft),this.$element.css("left",o.offset().left+o.outerWidth()-n)):t.guideRight&&(i=e(t.guideRight),this.$element.css("left",i.offset().left-this.$element.width()-n))},checkPosition:function(){var e=this.options,t=this.$window.scrollTop(),n=t+this.$window.height(),o=this.$element.height();this._setBoundaries(),"top"===e.primaryEdge?t<this.boundary.top?this._unfix("top"):this.boundary.bottom>=0&&t+e.offset.top+o+e.offset.bottom>this.boundary.bottom?this._unfix("bottom"):this._fix():n>this.boundary.bottom?this._unfix("bottom"):n-e.offset.bottom-o-e.offset.top<this.boundary.top?this._unfix("top"):this._fix()},destroy:function(){this._removeEvents(),this._super("destroy")}})}),define("components/fixate",["jquery","version!fly/managers/debug","version!fly/components/fixate"],function(e,t){t=t.init("fixate"),e.widget("fly.fixate",e.fly.fixate,{options:{classFixedParent:"fixed-parent",guideContainer:null,guideTopPlus:null,classTop:"top",classBottom:"bottom",offset:{topPlus:0,omnibar:50}},_setBoundaries:function(){this._super();var t=this.options,n=null;this.options.guideContainer&&(this.options.guideContainer=e(this.options.guideContainer),n=this.options.guideContainer.offset(),(this.boundary.top<0||n.top>this.boundary.top)&&(this.boundary.top=n.top),(this.boundary.bottom<0||n.top+this.options.guideContainer.outerHeight()<this.boundary.bottom)&&(this.boundary.bottom=n.top+this.options.guideContainer.outerHeight())),t.guideTopPlus&&(t.guideTopPlus=e(t.guideTopPlus),n=t.guideTopPlus.offset(),this.boundary.top=n.top+t.guideTopPlus.outerHeight()-t.offset.topPlus)},_fix:function(){var t=this.options;this.isFixed=!0,this.$element.addClass(t.classFixed).removeClass(t.classUnfixed).removeClass(t.classBottom).removeClass(t.classTop),"top"===t.primaryEdge?e("body").hasClass("omnibar")?this.$element.css("top",t.offset.top+t.offset.omnibar):this.$element.css("top",t.offset.top):this.$element.css("top",this.$window.height()-t.offset.bottom-this.$element.height()),this._placeHorizontally(),this.$element.parent().addClass(this.options.classFixedParent)},_unfix:function(e){var t=this.options;this.isFixed=!1,this.$element.addClass(t.classUnfixed).removeClass(t.classFixed),"top"===e?(this.$element.css("top",this.boundary.top-this.$window.scrollTop()),this.$element.addClass(t.classTop).removeClass(t.classBottom)):(this.$element.css("top",this.boundary.bottom-this.$element.height()-this.$window.scrollTop()),this.$element.addClass(t.classBottom).removeClass(t.classTop)),this._placeHorizontally(),this.$element.parent().removeClass(this.options.classFixedParent)}})}),define("components/google-csa",["jquery","version!fly/managers/debug","version!fly/components/base"],function(e,t){t=t.init("googleCsa");var n=!1;e.widget("cnet.googleCsa",e.fly.base,{options:{edition:"us",elements:[],afsBackfill:!1,adType:"search",pageOptions:{query:"*",linkTarget:"_blank",adPage:1},pageOptionsEdition:{search:{us:{pubId:"cnet-cnet-search"},uk:{pubId:"cnet-cnet-uk-search",channel:"cnet-uk-search"},es:{pubId:"cnet-cnet-espanol-search",hl:"es"},mobile:{pubId:"mobile-cnet-search",channel:"mobile-cnet-search"}},browse:{us:{pubId:"cnet-cnet-reviews-browse-search",channel:"cnet-reviews-browse-search"},uk:{pubId:"cnet-cnet-reviews-uk-browse-search"}},shopping:{us:{pubId:"partner-vert-pla-review-cbs-cnet-pdp"},es:{pubId:"partner-vert-pla-review-cbs-cnet-pdp",hl:"es"}},"shopping-topic":{us:{pubId:"partner-vert-pla-review-cbs-cnet-cat"},es:{pubId:"partner-vert-pla-review-cbs-cnet-cat",hl:"es"}},"shopping-search":{us:{pubId:"partner-vert-pla-review-cbs-cnet-srp"},es:{pubId:"partner-vert-pla-review-cbs-cnet-srp",hl:"es"}}},adBlocksProps:{search:{common:{lineHeightTitle:18,noTitleUnderline:!0,rolloverLinkColor:"#ff8b00",titleBold:!0,fontSizeDescription:16,colorText:"#000000",lineHeightDescription:18,fontSizeDomainLink:13,colorDomainLink:"#768696",attributionText:"Ads",fontSizeAttribution:12,longerHeadlines:!0,sellerRatings:!0,plusOnes:!0,location:!0,siteLinks:!0,clickToCall:!0},"gcsa-top":{container:"gcsa",maxTop:1,attributionSpacingBelow:0,fontSizeAttribution:12,fontSizeDescription:16,fontSizeTitle:20,colorTitleLink:"#39434c"},"gafscsa-middle":{container:"gcsa",number:3,attributionSpacingBelow:0,fontSizeAttribution:12,fontSizeDescription:16,fontSizeTitle:20,colorTitleLink:"#39434c"},"gafscsa-bottom":{container:"gcsa",number:3,attributionSpacingBelow:0,fontSizeAttribution:12,fontSizeDescription:16,fontSizeTitle:20,colorTitleLink:"#39434c"},"gafscsa-mobile":{container:"gafscsa-mobile",number:2,fontSizeTitle:14,colorTitleLink:"#000000",fontSizeDescription:13,fontSizeAttribution:10,colorAttribution:"#888888",attributionSpacingBelow:6}},browse:{common:{number:2,fontSizeTitle:20,noTitleUnderline:!0,colorTitleLink:"#39434c",rolloverLinkColor:"#ff8b00",titleBold:!0,fontSizeDescription:16,lineHeightDescription:18,colorText:"#39434C",fontSizeDomainLink:13,domainLinkAboveDescription:!1,colorDomainLink:"#768696",attributionText:"Ads",colorAttribution:"#BAC2CA",fontSizeAttribution:12,attributionSpacingBelow:0,longerHeadlines:!0,sellerRatings:!0,plusOnes:!0,location:!0,siteLinks:!0,clickToCall:!0},"gafscsa-bottom":{container:"gafscsa-bottom"},"gafscsa-right":{container:"gafscsa-right"}},shopping:{common:{},afshcontainer:{container:"afshcontainer",width:1130,height:160},"afshcontainer-mobile":{container:"afshcontainer-mobile",width:e(window).width(),height:265}},"shopping-search":{common:{},"gcsa-top":{container:"afshcontainer",width:700,height:160},"afshcontainer-mobile":{container:"afshcontainer-mobile",width:e(window).width(),height:265}},"shopping-topic":{common:{},afshcontainer:{container:"afshcontainer",width:1130,height:160},"afshcontainer-mobile":{container:"afshcontainer-mobile",width:e(window).width(),height:265}}}},_create:function(){var o=this.options,i=this;i._setup();var a=i._setupBlocks(o.adType,o.elements),s=e.extend(!0,{},o.pageOptions,o.pageOptionsEdition[o.adType][o.edition]);n?e.proxy(this._adCall,this,o.adType,s,a)():require(["google-csa"],function(){n=!0,t.log("Initialized"),e.proxy(i._adCall,i,o.adType,s,a)()})},_setupBlocks:function(t,n){var o=this.options,i=[];if("mobile"===o.edition&&"search"===t){var a=e.extend(!0,{},o.adBlocksProps[t].common,o.adBlocksProps[t]["gafscsa-mobile"]);n.length>0&&(a.container=n[0],i[i.length]=a)}else for(var s=0;s<n.length;s++){var r=e.extend(!0,{},o.adBlocksProps[t].common,o.adBlocksProps[t][n[s]]);if(r.container=n[s],0===s&&"shopping-search"===t&&o.afsBackfill===!0){r.adLoadedCallback=this.AFSBackfillCallback.bind(this),i[i.length]=r;break}i[i.length]=r}return i},_adCall:function(n,o,i){var a="ads";if("undefined"==typeof google)return setTimeout(e.proxy(arguments.callee,this),100),void t.log("timeout/wait!");"shopping"!==n&&"shopping-topic"!==n&&"shopping-search"!==n||(a="plas");try{_googCsa(a,o,i)}catch(e){}},AFSBackfillCallback:function(t,n){var o=this.options,i=e.extend(!0,{},o.pageOptions,o.pageOptionsEdition.search[o.edition]),a=[];if(n){for(var s=o.elements,r=0;r<s.length;r++)s[r]===t&&s.splice(r,1);a=this._setupBlocks("search",s)}else a=this._setupBlocks("search",o.elements);e.proxy(this._adCall,this,"search",i,a)()}})}),define("components/iframe-hover-fix",["jquery","version!fly/managers/debug","version!fly/components/base"],function(e,t){t=t.init("iframeHoverFix"),e.widget("cnet.iframeHoverFix",e.fly.base,{options:{},_create:function(){var t=this;this._setup(),e.browser.msie&&(this.$element.live("mouseenter",function(){t.$element.addClass("hover")}),this.$element.find("iframe").live("hover",function(){t.$element.addClass("hover")}),this.$element.live("mouseleave",function(){t.$element.removeClass("hover")}))}})}),!function(e,t,n,o){var i=e(t);e.fn.lazyload=function(a){function s(){var t=0;l.each(function(){var n=e(this);if(!c.skip_invisible||n.is(":visible"))if(e.abovethetop(this,c)||e.leftofbegin(this,c));else if(e.belowthefold(this,c)||e.rightoffold(this,c)){if(++t>c.failure_limit)return!1}else n.trigger("appear"),t=0})}var r,l=this,c={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return a&&(o!==a.failurelimit&&(a.failure_limit=a.failurelimit,delete a.failurelimit),o!==a.effectspeed&&(a.effect_speed=a.effectspeed,delete a.effectspeed),e.extend(c,a)),r=c.container===o||c.container===t?i:e(c.container),0===c.event.indexOf("scroll")&&r.bind(c.event,function(){return s()}),this.each(function(){var t=this,n=e(t);t.loaded=!1,n.attr("src")!==o&&n.attr("src")!==!1||n.is("img")&&n.attr("src",c.placeholder),n.one("appear",function(){if(!this.loaded){if(c.appear){var o=l.length;c.appear.call(t,o,c)}e("<img />").bind("load",function(){var o=n.attr("data-"+c.data_attribute);n.hide(),n.is("img")?n.attr("src",o):n.css("background-image","url('"+o+"')"),n[c.effect](c.effect_speed),t.loaded=!0;var i=e.grep(l,function(e){return!e.loaded});if(l=e(i),c.load){var a=l.length;c.load.call(t,a,c)}}).attr("src",n.attr("data-"+c.data_attribute))}}),0!==c.event.indexOf("scroll")&&n.bind(c.event,function(){t.loaded||n.trigger("appear")})}),i.bind("resize",function(){s()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&i.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&l.each(function(){e(this).trigger("appear")})}),e(n).ready(function(){s()}),this},e.belowthefold=function(n,a){var s;return s=a.container===o||a.container===t?(t.innerHeight?t.innerHeight:i.height())+i.scrollTop():e(a.container).offset().top+e(a.container).height(),s<=e(n).offset().top-a.threshold},e.rightoffold=function(n,a){var s;return s=a.container===o||a.container===t?i.width()+i.scrollLeft():e(a.container).offset().left+e(a.container).width(),s<=e(n).offset().left-a.threshold},e.abovethetop=function(n,a){var s;return s=a.container===o||a.container===t?i.scrollTop():e(a.container).offset().top,s>=e(n).offset().top+a.threshold+e(n).height()},e.leftofbegin=function(n,a){var s;return s=a.container===o||a.container===t?i.scrollLeft():e(a.container).offset().left,s>=e(n).offset().left+a.threshold+e(n).width()},e.inviewport=function(t,n){return!(e.rightoffold(t,n)||e.leftofbegin(t,n)||e.belowthefold(t,n)||e.abovethetop(t,n))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document),define("libs/jquery/lazyload-1.9.3",function(){}),define("components/lazyload-images",["jquery","version!fly/components/base","version!libs/jquery/lazyload"],function(e){e.widget("cnet.lazyloadImages",e.fly.base,{options:{threshold:200,skip_invisible:!1},_create:function(){this._super(),this._setupEvents(),this._lazyLoadImages()},_setupEvents:function(){this._on(this.$element,{ajaxStop:this._lazyLoadImages})},_lazyLoadImages:function(){this.$element.find("img.lazy").lazyload(this.options).removeClass("lazy")}})}),define("components/leads-tracker",["jquery","version!fly/managers/debug","managers/tealium","managers/page-vars","version!fly/components/base"],function(e,t,n,o){t=t.init("leadsTracker"),e.widget("cnet.leadsTracker",e.fly.base,{options:{},viewguid:null,_create:function(){this._setup(),this.viewguid=o.guid,this.viewguid&&(this.$element.attr("href",this.$element.attr("href")+"&viewguid="+this.viewguid),this.$element.attr("href",this.$element.attr("href").replace("___VIEW_GUID___",this.viewguid))),this._setupEvents()},_setupEvents:function(){this.$element.on("click",function(o){try{var i=this.href.split("?")[1].split("&"),a={};e.each(i,function(e,t){var n=t.split("=");a[n[0]]=n[1]});for(var s="",r=e(o.target).closest("[section],[id]"),l=0;l<3;l++)r.attr("section")?s=r.attr("section")+"|"+s:r.attr("id")&&(s=r.attr("id")+"|"+s),r=r.parent().closest("[section],[id]");s=s.slice(0,s.length-1),window.dwTag=s,a._dwLinkTag=s,n.trackLead(a),delete window.dwTag}catch(e){t.log("Unable to parse tracking url",e)}})}})}),define("components/search-paginator",["jquery","version!fly/managers/debug","version!fly/managers/gpt","managers/page-vars","managers/tealium","managers/guid","managers/ad","version!fly/components/base","components/loading"],function(e,t,n,o,i,a,s){var r=t.init("search");
e.widget("cnet.searchPagination",e.fly.base,{options:{},fq:null,done:!1,_create:function(){this._setup(),this._setupEvents()},_setupEvents:function(){this._setupAjax(!0)},_setupAjax:function(t){var n=this;e("section.items").on("click","section.searchItem.product .itemInfo a, section.searchItem.product a, section.searchItem.product .itemPricing .priceRange",function(){var t=e("section.searchItem.product").index(e(this).closest("section.searchItem.product"))+1,n="searchResult"+t,a=e("#searchResultsdiv .page.disabled").first().text(),s=e(this).closest(".searchItem.product").find(".itemInfo .type").text();t>5&&(n="1"==a?"searchPage1OtherResult":"2"==a?"searchPage2OtherResult":"searchPage3OtherResult"),i.trackCustomEvent("trackSearchResultClick",{searchDim:s,_siteSection:o.tracking.data.siteSection,brand:o.tracking.data.brand,siteEdition:o.tracking.data.siteEdition,_pageType:o.tracking.data.pageType,_pageViewGuid:o.guid},n)}),n.done||(e(".sort").hover(function(t){e(".dropDownContent",this).show()},function(t){e(".dropDownContent",this).hide()}),e(".sort").click(function(t){t.preventDefault(),t.stopPropagation(),e(".dropDownContent",this).show()}),e(".sort_items").click(function(t){t.preventDefault(),t.stopPropagation(),e(".dropDownContent").hide();var o=e(this);e("#searchSort").text(o.attr("data"));var i=n.searchUrl(0,!1);null!==n.fq&&(i=i+"&"+n.fq),n.doAjax(n,i,!1)}),e(".results").hover(function(t){e(".dropDownContent",this).show()},function(t){e(".dropDownContent",this).hide()}),e(".results").click(function(t){t.preventDefault(),t.stopPropagation(),e(".dropDownContent",this).attr("display","block")}),e(".page_items").click(function(t){t.preventDefault(),t.stopPropagation(),e(".dropDownContent").hide();var o=e(this);e("#searchNpp").text(o.text());var i=n.searchUrl(0,!1);null!==n.fq&&(i=i+"&"+n.fq),n.doAjax(n,i,!1)}),e(".content_type").click(function(t){r.log("content_type link"),t.preventDefault();var o=e(this);r.log("content_type: data attr = "+o.attr("data")),e(".content_type").attr("class","content_type"),o.attr("class","content_type selected"),e("#searchType").text(o.attr("data")),r.log("searchType = "+e("#searchType")),n.fq=null;var i=n.searchUrl(0,!1);r.log("content_type: url = "+i),r.log("content_type link: url ="+i),n.doAjax(n,i,!0)}),n.done=!0),t&&(e(".topic-link").click(function(t){r.log("topic link"),t.preventDefault();var o=e(this);e(".topic-link.selected").attr("class","topic-link"),o.attr("class","topic-link selected"),n.fq="htp="+o.attr("data-fq");var i=n.searchUrl(0,!1);i=i+"&"+n.fq,r.log("data-dfll="+o.attr("data-dfll")),r.log("content type = "+e("#searchType").text()),"true"!=o.attr("data-dfll")||"content_product"!=e("#searchType").text()&&"content_review"!=e("#searchType").text()?(n.doAjax(n,i,!1),r.log("hiding dfll"),e("#searchDfll").hide()):(r.log("going DFLL!"),$dfllUrl=o.attr("data-dfll-url")+"?searchPage=true&includeMenu=true&includeActivator=true",$dfllUrl+="&query="+e("#searchQuery").text(),r.log("exposing dfll: "+$dfllUrl),n.updateDfll(n,$dfllUrl))}),e(".toggle").click(function(t){t.preventDefault();var n=e(this),o=n.attr("class");"toggle expand"===o?(n.attr("class","toggle collapse"),list=n.closest("li").children("ul"),list.attr("class","expanded"),list.show()):(n.attr("class","toggle expand"),list=n.closest("li").children("ul"),list.attr("class","collapsed"),list.hide(),e(".selected",list).length>0&&e(".topic-link",n.closest("div")).click())})),e("a.prev").click(function(e){e.preventDefault();var t=n.searchUrl(-1,!1);null!==n.fq&&(t=t+"&"+n.fq),n.doAjax(n,t,!1)}),e("a.next").click(function(e){e.preventDefault();var t=n.searchUrl(1,!1);null!==n.fq&&(t=t+"&"+n.fq),n.doAjax(n,t,!1)}),e("a.pageno").click(function(t){t.preventDefault(),e("#searchPage").text(e(t.target).attr("data-pageno"));var o=n.searchUrl(e(t.target).attr("data-pageno"),!0);null!==n.fq&&(o=o+"&"+n.fq),n.doAjax(n,o,!1)}),e(".pagination:eq(1) .pageNav a").click(function(){e("html, body").animate({scrollTop:e("#rbContent").offset().top},750)})},updateView:function(e,t){null!==e&&t.html(e),t.hide(),t.fadeTo("fast",1),t.fadeIn(2e3)},refreshAds:function(t){try{r.log("refresh ads",t),s.setupTargeting(),n.init(o.ads.data.gpt),n.setTargeting("cid",t.slug),n.setTargeting("vguid",o.guid),e("#searchResultsdiv .ad-mpu-top").attr("id","mpu-top-"+o.ads.data.gpt.containerId),s.refresh(o.guid,["leader_top"])}catch(e){r.log("Ad call failed.")}},searchUrl:function(t,n){var o=window.location.pathname+"xhr/";o+="?query="+encodeURIComponent(e("#searchQuery").text()),o+="&rpp="+e("#searchNpp").text(),o+="&sort="+e("#searchSort").text(),o+="&typeName="+e("#searchType").text();var i=parseInt(e("#searchPage").text(),10);if(n)i=t;else switch(t){case-1:i--;break;case 0:i=1;break;case 1:i++}return o+="&p="+i,e("#searchPage").text(i),o+="&ri="+e("#reviewIndex").text(),o="//"+window.document.location.host+o},doAjax:function(t,n,s){r.log("doAjax: url ="+n),t.loader=e.cnet.loading({disabled:!1}),t.loader.$element.appendTo(e("#searchLoaderDiv")),t.loader.add(),e.ajax({url:n,dataType:"json",cache:!1}).done(function(n){r.log("back from ajax"),r.log("Track as new pageview"),a.resetViewGuid();var l=n.result.params.search_params,c=l.content_type.value,d=e(".sortMenu .sort_items.selected").text(),u=l.page.value,p="",m=l.query.value;void 0!==l.htp&&(p="|"+l.htp.value),i.trackPageLoad({searchTerm:m,searchDim:c+p,_pageNumber:u,sortValue:d,_pageViewGuid:o.guid}),t.updateView(n.result.html,e("#searchResultsdiv")),t._trigger("contentSet",null,{$content:n.result.html}),n.result.params.results.length>0&&t.refreshAds(n.result.params.results[0]),s&&(r.log("updating topicNav"),t.updateView(n.result.html2,e("#topicNav"))),t.loader.remove(),t._setupAjax(s),history.pushState&&window.history.pushState(null,null,window.location.pathname+"?query="+m+"&page="+u)})},updateDfll:function(t,n){r.log("updateDfll"),t.loader=e.cnet.loading({disabled:!1}),t.loader.$element.appendTo(e("#searchLoaderDiv")),t.loader.add(),e.ajax({url:n,dataType:"json",cache:!1}).done(function(n){r.log("back from initial DFLL ajax"),r.log(n.view),e("#searchDfll").html(n.pageElements.menu.html),t._trigger("contentSet",null,e.extend({},this.eventData,{$content:e("#searchDfll").html})),e("#searchResultsdiv").html('<div class="pagination" data-item="pagination"></div><section id="dfllResults" data-item="dfllResults"></div><div class="pagination" data-item="pagination"></div>'),t.updateView(n.pageElements.results.html,e("[data-item=dfllResults]")),t._trigger("contentSet",null,e.extend({},this.eventData,{$content:e("#searchResultsdiv").html})),html=n.pageElements.pagination.html,null==html?r.log("Pagination content missing from AJAX response."):""!==html.trim()?e("[data-item=pagination]").each(function(t,n){e(n).replaceWith(html)}.bind(this)):e("[data-item=pagination]").each(function(t,n){e(n).empty()}),t.loader.remove(),e("#searchDfll").show()})}})}),define("components/search-sort",["jquery","version!fly/managers/debug","version!fly/components/base"],function(e,t){t=t.init("searchSort"),e.widget("cnet.searchSort",e.fly.base,{options:{},_create:function(){this._super(),this._setupEvents()},_setupEvents:function(){var t=this;t.$element.find("[data-item=option]").on("click",function(){var n=this;e('[data-item="current"]',t.$element).text(e(n).text()),e('[data-item="option"]',t.$element).each(function(t,n){e(n).hasClass("selected")&&e(n).removeClass("selected")}),e(n).addClass("selected")})}})}),define("components/touch-menu-hover",["jquery","version!fly/managers/debug","managers/device","managers/page-vars","version!fly/components/base"],function(e,t,n,o){t=t.init("touchMenuHover"),e.widget("cnet.touchMenuHover",e.fly.base,{options:{hoverClass:"hover",moreButton:"moreButton",header:!1},_create:function(){if(this._setup(),"mobile"!=o.tracking.data.deviceType){var t=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g);t&&e(".social-login").css("display","none")}Modernizr.touch&&this._setupEvents()},_setupEvents:function(){var o=this,i=o.$element,a=e('[data-trigger="menu"]',i);0===a.length&&(a=i),a.on(n.getImmediateClickType(),function(a){e(":cnet-touchMenuHover").not(i).removeClass(o.options.hoverClass),o.options.header&&(e("#rbHeader").removeClass("hovering menuHovering intentionalHover"),e("#rbHeader").addClass("fadeOut")),i.hasClass(o.options.hoverClass)?i.hasClass(o.options.moreButton)?(t.log("Link click on active more share menu : leaving hover class"),e(document).on(n.getImmediateClickType(),null,{self:o},o._handleClickOutsideMenu)):(i.removeClass(o.options.hoverClass),t.log("Link click on active : removing hover class"),o.options.header&&(e("#rbHeader").removeClass("hovering menuHovering intentionalHover"),e("#rbHeader").addClass("fadeOut")),e(document).off(n.getImmediateClickType(),null,o._handleClickOutsideMenu)):(a.preventDefault(),i.addClass(o.options.hoverClass),o.options.header&&(e("#rbHeader").removeClass("fadeOut"),e("#rbHeader").addClass("hovering menuHovering intentionalHover")),t.log("Link click on non-active : preventing link and adding hover class"),e(document).on(n.getImmediateClickType(),null,{self:o},o._handleClickOutsideMenu))})},_handleClickOutsideMenu:function(o){var i=o.data.self,a=e(o.target).parents(":cnet-touchMenuHover");0===a.length&&(t.log("Body click : removing hover class"),i.$element.removeClass(i.options.hoverClass),i.options.header&&(e("#rbHeader").removeClass("hovering menuHovering intentionalHover"),e("#rbHeader").addClass("fadeOut")),e(document).off(n.getImmediateClickType(),null,i._handleClickOutsideMenu))}})}),define("fly/utils/data-selector-1.0",["jquery"],function(e){e.extend(e.expr[":"],{data:e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}})})}),define("components/tabs-modal",["jquery","managers/tealium","managers/page-vars","version!fly/components/base","version!fly/utils/data-selector"],function(e,t,n){var o="click";e.widget("cnet.tabsModal",e.fly.base,{options:{tabSelector:'[data-item="trigger"]',classSelected:"selected",enableDeselect:!1,bodyOverlay:"bodyWrapper",selectorFocus:'[data-item="focus"]',closeModalSelector:'[data-item="close"]',notAuto:!1,enableEsc:!1},$currentTab:null,_baseTrackingData:{_pageTitle:n.tracking.data._pageTitle,siteSection:n.tracking.data.siteSection,pageType:n.tracking.data.pageType,siteEdition:n.tracking.data.siteEdition,siteType:n.tracking.data.siteType,siteHier:n.tracking.data.siteHier,brand:n.tracking.data.brand,_pageChannelType:n.tracking.data._pageChannelType},_create:function(){var e=this.options,t={},n=this;this._setup(),t[o+" "+e.tabSelector]="_handleClick",this._on(this.$element,t),this.$element.on("click",this.options.closeModalSelector,function(){n._hide(n.$currentTab)}),this.options.enableEsc&&this.$element.on("keydown",function(e){27===e.keyCode&&(e.preventDefault(),n._hide(n.$currentTab))})},_handleClick:function(t){var n=this.options,o=e(t.target).closest(n.tabSelector);t.preventDefault(),this.change(o)},_getContent:function(t){var n,o=t.data()||{},i=o.$content||[];return i.length?i:(n=o.target||t.attr("href"),i=e(n),t.data("$content",i),i)},_show:function(n){var o,i=this.options,a=this;if(this._trigger("show",null,{$tab:n})!==!1){this.$currentTab=n,o=this._getContent(n),e("html").addClass("scrollDisabled"),n.addClass(i.classSelected),o.addClass(i.classSelected),this._trigger("shown",null,{$tab:n,$content:o});var s="false"===n.attr("aria-expanded");n.attr("aria-expanded",s),o.attr("aria-hidden",!s),this.showOverlay();var r=e.extend(a._baseTrackingData,{clickGenericText:a.$currentTab.data("clicktracking")+"|open"});t.trackCustomEvent(a.$currentTab.data("eventName"),r,"trackClick"),setTimeout(function(){o.find(a.options.selectorFocus).focus()},300)}},_hide:function(n){var o,i=this.options,a=this;if(this._trigger("hide",null,{$tab:n})!==!1){o=this._getContent(n),n.removeClass(i.classSelected),o.removeClass(i.classSelected),e("html").removeClass("scrollDisabled"),this._trigger("hidden",null,{$tab:n,$content:o});var s="false"===n.attr("aria-expanded");if(n.attr("aria-expanded",s),o.attr("aria-hidden",!s),this.hideOverlay(),a.$currentTab){var r=e.extend(a._baseTrackingData,{clickGenericText:a.$currentTab.data("clicktracking")+"|close"});t.trackCustomEvent(a.$currentTab.data("eventName"),r,"trackClick")}this.$currentTab=null}},change:function(e){var t,n,o=this.options;return t=this.$element.find(o.tabSelector+"."+o.classSelected),n=e.data(),e.hasClass(o.classSelected)?void(o.enableDeselect&&this._hide(t)):(this._hide(t),void this._show(e))},showOverlay:function(){var t=e("<div>",{id:this.options.bodyOverlay,class:"loadingArea"});this.options.notAuto?(e("#rbHeader").addClass("modalopen"),e("#headernav").append(t)):(e(".autoHeader").addClass("modalopen"),e("body").append(t));var n=this;t.on("click",function(){n.change(e(n.options.tabSelector+"."+n.options.classSelected,n.$element))})},hideOverlay:function(){e(".autoHeader").removeClass("modalopen"),e("#rbHeader").removeClass("modalopen"),e("#rbHeader").removeClass("intentionalFixed"),e("#"+this.options.bodyOverlay).remove()}})}),define("components/form-trim",["jquery","version!fly/managers/debug","version!fly/components/base"],function(e,t){t=t.init("formTrim"),e.widget("cnet.formTrim",e.fly.base,{options:{},_create:function(){var t=this;t._setup(),t.$element.on("submit",e.proxy(function(n){e("input[type=text]",t.$element).each(function(){e(this).val(e(this).val().replace(/\s+/g," ").trim())})},this))}})}),define("managers/third-party/social-flags",[],function(){return{enabled:{facebook:!0,google:!0,linkedIn:!0,pinterest:!0,twitter:!0}}}),define("managers/third-party/twitter",["jquery","version!fly/managers/debug","managers/third-party/social-flags","managers/tealium"],function(e,t,n,o){t=t.init("twitter");var i=!1,a={onInit:null};return{init:function(o){var s=this;n.enabled.twitter&&(e.extend(!0,a,o),i?a.onInit&&a.onInit():(window.twttr=e.extend(!0,{_e:[],ready:function(e){window.twttr._e.push(e)}},window.twttr),twttr.ready(function(){i=!0,s.setupEvents(),a.onInit&&a.onInit(),t.log("Initialized")}),require(["twitter"])))},parse:function(){i?twttr.widgets.load():t.log("Parse failed -- not initialized yet")},isInitialized:function(){return i},setupEvents:function(){var e=this;twttr.events.bind("follow",function(n){t.log("Followed");var o={};e.trackFollow(o)}),twttr.events.bind("tweet",function(n){t.log("Tweeted");var o={};e.trackTweet(o)})},trackFollow:function(t){o.trackSocial(e.extend({socialService:"twitter",event:"connect",levtEventType:"share",eventt:"followcnet",socialId:9},t))},trackTweet:function(t){o.trackSocial(e.extend({socialService:"twitter",event:"share",levtEventType:"share",eventt:"socialsite",socialId:8},t))}}}),define("pages/desktop/search",["main.desktop","components/edition-toggler","components/fixate","components/form-validate","components/global-modal","components/google-csa","components/iframe-hover-fix","components/lazyload-images","components/leads-tracker","components/mobile-footer-link","components/modal-email","components/search-paginator","components/search-sort","components/touch-menu-hover","components/tabs-modal","components/form-trim","managers/edition-notifications","managers/third-party/social-flags","managers/third-party/social","managers/third-party/twitter","utils/function-natives","version!fly/utils/data-selector"],function(){});