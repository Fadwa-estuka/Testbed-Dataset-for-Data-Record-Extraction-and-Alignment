/* LEGAL NOTICE: Thunderdome  1.1.77 (THE 'CODE'). COPYRIGHT 2017 IAC PUBLISHING LLC. ALL RIGHTS RESERVED. THIS CODE CONTAINS TRADE SECRETS OR OTHERWISE CONFIDENTIAL AND/OR PROPRIETARY INFORMATION THAT IS THE EXCLUSIVE INTELLECTUAL PROPERTY OF IAC PUBLISHING LLC AND IS PROTECTED BY COPYRIGHT, TRADE SECRET AND/OR OTHER STATE AND FEDERAL LAW.UNAUTHORIZED USE OF THIS CODE IS STRICTLY PROHIBITED.SEE http://bit.ly/1Y4XZ3X FOR FULL TERMS AND CONDITIONS. */
!function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){function n(){R.info("callingExternalScript");var e=S.peripheralScripts||[];try{x._callScripts(e)}catch(t){R.error("callExternalScripts",t)}}function r(){R.info("processQue","processing",{"iacjs.que":v._clone(_.que)});for(var e=0;e<_.que.length;e++)typeof _.que[e].called===T&&(R.debug("processQue","iacjs.que",{"iacjs.que[i]":_.que[e]}),_.que[e].call(),_.que[e].called=!0)}function o(){if(!window.googletag||!v.isFn(window.googletag.pubads)||!v.isFn(window.googletag.pubads().setTargeting))return void R.error("window.googletag is not defined on the page");var e=_.pageTargeting||{};if(typeof _.pageTargeting===P&&typeof S.pageTargeting===P){v._each(S.pageTargeting,function(t,i,n){t?e[i]=t:R.warn("pageTargeting value not set for key",key)}),R.info({enhancedPageTargeting:e});for(var t in e)e.hasOwnProperty(t)&&!function(e,t){try{googletag.pubads().setTargeting(e,t)}catch(i){R.error(i)}}(t,e[t])}}function a(){try{for(var e in U){var t=U[e];if(typeof t.sizeMapping===y.objectType_function)if(0===t.sizeMapping.length)R.warn("current implementation sizeMapping in ad_config is deprecated: Please switch to newer implementation of sizeMapping");else{var i=C.defineSizeMapping(t.sizeMapping(C),t.sizes);v.isArray(i)&&i.length>0?(R.info("new size assigned :",JSON.stringify(i),"instead of ",JSON.stringify(t.sizes)),t.sizes=i):v.isArray(i)&&0===i.length&&(t.sizes=i,t.disabled=!0)}}}catch(n){R.error(n)}}function d(e,t){R.info("init","called",{timeout:e,adUnitCodeArr:t});var i=typeof e===T||null===e?_.bidderTimeout:e;if(!s())return void R.error("No adUnits configured. No bids requested.");if(setTimeout(w.executeCallback,i),R.info("init","parsing settings into internal vars"),t&&v.isArray(t))for(var n=0;n<t.length;n++){for(var r=0;r<_.adUnits.length;r++)_.adUnits[r].placement===t[n]&&(U=[_.adUnits[r]]);a(),k(),l(),c()}else U=_.adUnits,a(),k(),l(),c()}function s(){return!(!_.adUnits||0===_.adUnits.length)}function c(e){R.info("sortAndCallBids","called with",{sortFunc:e,pb_bidderMap:v._clone(O)});var t=Object.keys(O).map(function(e){return O[e]});typeof e===D&&t.sort(e),R.debug("sortAndCallBids","calling adapters with bids",{bidArray:t}),B.callBids(t)}function l(){R.info("prebid.js : "," loadPreBidders :: ","calling functions with pb_placements",{pb_placements:v._clone(U)});for(var e=0;e<U.length;e++){var t=U[e][y.JSON_MAPPING.PL_BIDS],i=U[e][y.JSON_MAPPING.PL_CODE],n=U[e][y.JSON_MAPPING.AD_CODE],r=U[e][y.JSON_MAPPING.PL_SIZE],o=U[e][y.JSON_MAPPING.AD_TARGETING],a=U[e][y.JSON_MAPPING.AD_UUID];u(i,n,r,o,t,a),w.addBidResponse(i)}for(e=0;e<L.length;e++)L[e].loadPreBid();w.setBidderMap(O)}function u(e,t,i,n,r,o){R.debug("storeBidRequestByBidder","called with",v._clone({placement:e,code:t,sizes:i,targeting:n,bids:r}));for(var a=0;a<r.length;a++){R.info("storeBidRequestByBidder",r[a]);var d=r[a];d.placement=e,d.code=t,d.sizes=i,d.targeting=n,d.pagetargeting=_.pageTargeting,d.ad_uuid=o,w.incrementBidCount();var s=r[a][y.JSON_MAPPING.BD_BIDDER],c=O[s];if(typeof c===T){var l={bidderCode:s,bids:[]};l.bids.push(d),O[s]=l}else c.bids.push(d)}R.debug("prebid.js : "," storeBidRequestByBidder :: "," current partnerBidsMap",{pb_bidderMap:v._clone(O)})}function p(e){var t={};return e&&0!==e.length&&(e.sort(function(e,t){return t.cpm-e.cpm}),t=e[0]),t.bid}function g(e,t,i){R.info("setGPTAsyncTargeting","called with",{code:e,slot:t,adUnitBids:i});var n=[];if(0!==i.bids.length)for(var r=0;r<i.bids.length;r++){var o=i.bids[r];if(o.alwaysUseBid){var a=o.adserverTargeting;for(var d in a)if(a.hasOwnProperty(d))try{R.info("Attempting to set key value for placement code: ",e," slot: ",{slot:t}," key: ",d," value: ",encodeURIComponent(a[d])),googletag.pubads().clearTargeting(d),t.setTargeting(d,encodeURIComponent(a[d]))}catch(s){R.error("Problem setting key value pairs in slot: ",s)}}else n.push({cpm:o.cpm,bid:o})}else v.logMessage("No bids eligble for adUnit code : "+e);if(0!==n.length){try{E.predict(e,i)}catch(s){R.error("Unable to run prediction: ",s)}var c=p(n),l=c.adserverTargeting;try{if(typeof l===y.objectType_object){var u={};typeof S.pageTargeting===P&&(u=S.pageTargeting),l[y.DEFAULT_BIDDER_META_DATA_KEY]=v.exportBidMeta(i,u)}}catch(s){R.error("Unable to create meta marker: ",s)}for(var d in l)if(l.hasOwnProperty(d))try{R.info("Attempting to set key value for placement code: ",e," slot: ",{slot:t}," key: ",d," value: ",encodeURIComponent(l[d])),t.setTargeting(d,encodeURIComponent(l[d]))}catch(s){R.error("Problem setting key value pairs in slot: ",s)}}}function f(e){var t={};return e?(t=w.pbBidResponseByPlacement[e],t?t:w.createEmptyBidResponseObj()):w.pbBidResponseByPlacement}function h(e){var t=[],i="",n=[],r={};if(e&&e.length>0){i=e[0]&&e[0].placement,j[i]=[];for(var o=0;o<e.length;o++){var a=e[o];r=b(a),a.alwaysUseBid&&r.adserverTargeting?j[r.adUnitCode].push(r.adserverTargeting):a.cpm&&a.cpm>0&&n.push({cpm:a.cpm,bid:a});try{var d=A.getLogger(y.SPL_LOGGER);typeof r.cpm!==y.objectType_undefined&&d.getLevel()>=3&&delete r.cpm}catch(s){R.error(s)}t.push(r)}}if(i&&0!==n.length){var c=p(n),l=c.adserverTargeting;j[i].push(l)}return t}function b(e){var t={};return e&&(t=v._clone(e),delete t.pbLg,delete t.pbMg,delete t.pbHg),t}function m(){R.info("prebid.js : ","resetBids called and bids are now reset"),w.clearAllBidResponses(),E.expungeCache(),O={}}window.iacjs=window.iacjs||{},window.iacjs.que=window.iacjs.que||[],window.iacjs.events=window.iacjs.events||{};var _=window.iacjs,y=i(1),v=i(2),w=i(3),B=i(8),I=i(11),x=i(19),S=i(7),A=i(4),E=i(6),C=i(21),R=A.getLogger("core"),D="function",T="undefined",P="object",N="string",L=[],U=[],O={},j={};_.bidderTimeout=_.bidderTimeout||3e3,R.info("iacjs.bidderTimeout",_.bidderTimeout),_.logging=_.logging||!1,_.logger=A,_.libLoaded=!0,_.adUnits=_.adUnits||[],_.cons=S,_.pageTargeting=_.pageTargeting||{},_.que.push=function(e){if(typeof e===D){R.debug("iacjs.que.push","cmd pushed into iacjs.que.push after iacjs load",{cmd:e});try{e.call()}catch(t){R.error("iacjs.que.push","Error processing command :",t)}}else R.error("iacjs.que.push","Commands written into iacjs.que.push must wrapped in a function")},_.getAdserverTargetingForAdUnitCodeStr=function(e){var t=_.getAdserverTargetingForAdUnitCode(e);return v.transformAdServerTargetingObj(t)},_.getAdserverTargetingForAdUnitCode=function(e){return _.getBidResponses(e),e?j[e]:j},_.getAdserverTargeting=function(){return _.getAdserverTargetingForAdUnitCode()},_.getBidResponses=function(e){var t={},i=[],n={};if(e)t=f(e),i=[],t&&t.bids&&(i=h(t.bids)),n={bids:i};else{t=f();for(var r in t)t.hasOwnProperty(r)&&(t&&t[r]&&t[r].bids&&(i=h(t[r].bids)),n[r]={bids:i})}return n},_.setTargetingForAdUnitsGPTAsync=function(e){if(!window.googletag||!v.isFn(window.googletag.pubads)||!v.isFn(window.googletag.pubads().getSlots))return void R.error("cannot setSlots because either googletag is missing from the window context or pubads.setSlots is not yet defined");var t=e;typeof e===N?t=[e]:typeof e===P&&(t=e);var i={},n=0;if(t)for(n=0;n<t.length;n++)for(var r=t[n],a=window.googletag.pubads().getSlots(),d=0;d<a.length;d++)a[d].getSlotElementId()===r&&(i=f(r),g(r,a[d],i));else{var a=window.googletag.pubads().getSlots();for(n=0;n<a.length;n++){var s=a[n].getSlotElementId();s&&(i=f(s),g(s,a[n],i))}}o()},_.setTargetingForGPTAsync=function(e){if(e){var t=e.adUnitCodes;t?_.setTargetingForAdUnitsGPTAsync(t):R.error("No AdUnitCodes defined for refresh")}else _.setTargetingForAdUnitsGPTAsync()},_.allBidsAvailable=function(){return w.allBidsBack()},_.getBidsByBidderCode=function(e){var t=A.getLogger(y.SPL_LOGGER),i=[];return t.getLevel()<3&&(i=w.pbBidResponseByBidders[e]||[]),i},_.requestBidsForAdUnit=function(e){m(),d(BIDDER_TIMEOUT,e)},_.requestBidsForAdUnits=function(e){if(!e||e.constructor!==Array)return void v.logError("prebid.js : ","requestBidsForAdUnits ::: must pass an array of adUnits");m();var t=_.adUnits.slice(0);_.adUnits=e,d(),_.adUnits=t},_.removeAdUnit=function(e){if(e)for(var t=0;t<_.adUnits.length;t++)_.adUnits[t].code===e&&(_.adUnits=_.adUnits.splice(t,1))},_.requestBids=function(e){if(R.info("prebid.js : ","requestBids ::: called with ",{requestObj:e}),e){var t=e.adUnitCodes,i=e.adUnits,n=e.timeout,r=e.bidsBackHandler,o=_.adUnits.slice(0);R.debug("prebid.js : ","requestBids ::: variables in space ",{adUnitCodes:t,adUnits:i,timeout:n,bidsBackHandler:r,adUnitBackup:o}),typeof r===D&&(R.info("prebid.js :","iacjs.requestBids :::","registering a addOneTimeCallback",{bidsBackHandler:r}),w.addOneTimeCallback(r)),t&&v.isArray(t)?(R.info("prebid.js :","iacjs.requestBids :::","bids are being called with adUnitCodes",t),m(),d(n,t)):i&&v.isArray(i)?(R.info("prebid.js :","iacjs.requestBids :::","bids are being called with adUnits",i),m(),_.adUnits=i,d(n)):(R.info("prebid.js :","iacjs.requestBids :::","bids are being called all adUnits",_.adUnits),m(),d(n)),_.adUnits=o}else R.info("requesting all bids"),m(),d()};var k=function(){R.info("prebid.js : "," bidderConfiguration ::: Adding ad units");var e=window.bidder_config_override||S.placement_config||{},t=U;for(var i in t){var n=t[i][y.JSON_MAPPING.AD_UUID];if(R.info("prebid.js : "," bidderConfiguration loop:::",{ad_uuid:n,placement_ad_uuid:e[n],placement_config:v._clone(e)}),t[i][y.JSON_MAPPING.PL_BIDS]=[],"boolean"==typeof t[i].disabled&&t[i].disabled)R.info("Bidders disabled for placement",t[i]);else{if(typeof n===T){var r="ad_uuid must be defined on every placement";R.error(r),console.log(r)}else typeof n===N&&typeof e[n]===P&&(t[i][y.JSON_MAPPING.PL_BIDS]=e[n]);t[i][y.JSON_MAPPING.PL_BIDS].push({bidder:y.DEFAULT_BIDDER}),R.info(JSON.stringify(t[i].placement),JSON.stringify(t[i][y.JSON_MAPPING.PL_BIDS]))}}};_.addAdUnits=function(e){R.info("prebid.js : ","iacjs.addAdUnits ::: Adding ad units"),R.debug("prebid.js : ","iacjs.addAdUnits ::: Adding ad units of type",typeof e,e),v.isArray(e)?_.adUnits.push.apply(_.adUnits,e):typeof e===P?_.adUnits.push(e):R.error("prebid.js : ","iacjs.adUnits ::: Unknown adUnitArr format"),R.debug("prebid.js : ","iacjs.addAdUnits :::",_.adUnits)},_.addOutOfPageAdUnits=function(e){},_.addCallback=function(e,t){R.info("prebid.js : ","addCallback ::: ",{eventStr:e,func:t});var i=null;return e&&t&&typeof t===D?(i=v.getUniqueIdentifierStr,w.addCallback(i,t,e),i):(R.error("prebid.js : ","addCallback ::: ","error registering callback. Check method signature"),i)},_.registerBidAdapter=function(e,t){try{B.registerBidAdapter(e(),t)}catch(i){v.logError("Error registering bidder adapter : "+i.message)}},_.createBid=function(e){return I.createBid(e)},_.addBidResponse=function(e,t){w.addBidResponse(e,t)},n(),r()},function(e,t){e.exports={JSON_MAPPING:{PL_CODE:"placement",AD_CODE:"code",AD_TARGETING:"targeting",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard",AD_UUID:"ad_uuid"},DEBUG_MODE:"img_debug",STATUS:{GOOD:"good",TIMEOUT:"timed out"},CB:{TYPE:{ALL_BIDS_BACK:"allRequestedBidsBack",AD_UNIT_BIDS_BACK:"adUnitBidsBack",SLOT_RENDER_ENDED:"slotRenderEnded"}},DEFAULT_BIDDER:"in",DEFAULT_PRICE_PREDICTOR_KEY:"hv",DEFAULT_BIDDER_META_DATA_KEY:"hm",SPL_LOGGER:"spc",objectType_function:"function",objectType_undefined:"undefined",objectType_object:"object",objectType_string:"string",objectType_number:"number",objectType_boolean:"boolean",ENC:{EC:"4ba17b5",EF:"1d",EB:23},L:{I:"INITIALIZED",A:"ADDING BID TO BID MANAGER",C:"CALLBACK",B:"CALLING FOR BIDS",U:"UNKNOWN BID VALUE",RC:"RESPONSE COMPLETE",R:"RESETTING BIDS",E:"EXPANDING BIDS"},BD_CONFIG:{A:{S:"b0di41",E:"b0di28"}},SLOT_SIZES:["728x90","300x250","320x50","160x600"],UNKNOWN:"un",SIZE_MAPPER:{"160x600":1,"300x100":2,"300x250":3,"300x600":4,"320x50":5,"320x100":6,"320x250":7,"320x480":8,"450x50":9,"468x60":10,"480x320":11,"500x600":12,"533x355":13,"560x560":14,"728x90":15,"728x91":16,"768x1024":17,"800x600":18,"970x66":19,"970x90":20,"970x167":21,"970x250":22,"300x50":23}}},function(e,t,i){function n(){return y()+Math.random().toString(16).substr(2)}function r(){return window.console&&window.console.log}var o=i(1),a="object",d="string",s="number",c=!1,l=5,u=20,p=30,g="Array",f="String",h="Function",b="number",m=Object.prototype.toString,_=Object.prototype.hasOwnProperty;Array.prototype.slice;t.replaceTokenInString=function(e,t,i){return this._each(t,function(t,n){t=void 0===t?"":t;var r=i+n.toUpperCase()+i,o=new RegExp(r,"g");e=e.replace(o,t)}),e};var y=function(){var e=0;return function(){return e++,e}}();t.getUniqueIdentifierStr=n,t.getBidIdParamater=function(e,t){return t&&t[e]?t[e]:""},t.tryAppendQueryString=function(e,t,i){return i?e+=t+"="+encodeURIComponent(i)+"&":e},t.parseQueryStringParameters=function(e){var t="";for(var i in e)e.hasOwnProperty(i)&&(t+=i+"="+encodeURIComponent(e[i])+"&");return t},t.transformAdServerTargetingObj=function(e){var t="";if(!e)return"";for(var i in e)e.hasOwnProperty(i)&&(t+=i+"="+encodeURIComponent(e[i])+"&");return t},t.parseSizesInput=function(e){var t=[];if(typeof e===d){var i=e.split(","),n=/^(\d)+x(\d)+$/i;if(i)for(var r in i)i.hasOwnProperty(r)&&i[r].match(n)&&t.push(i[r])}else if(typeof e===a){var o=e.length;if(o>0)if(2===o&&typeof e[0]===s&&typeof e[1]===s)t.push(this.parseGPTSingleSizeArray(e));else for(var c=0;c<o;c++)t.push(this.parseGPTSingleSizeArray(e[c]))}return t},t.parseSizesInputAppNexus=function(e){var t,i=this.parseSizeInput.call(e),n=i.length;if(n>0&&(t="size="+i[0],n>1)){t+="&promo_sizes=";for(var r=1;r<n;r++)t+=i[r]+=",";t&&","===t.charAt(t.length-1)&&(t=t.slice(0,t.length-1))}return t},t.parseGPTSingleSizeArray=function(e){if(this.isArray(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1]))return e[0]+"x"+e[1]},t.getTopWindowUrl=function(){try{return window.top.location.href}catch(e){return window.location.href}},t.logMessage=function(e){w()&&r()&&console.log("MESSAGE: "+e)},t.hasConsoleLogger=r;var v=function(e){return e?window.console.error?"error":"log":""}(r()),w=function(){return iacjs.logging===!1&&c===!1&&(iacjs.logging="TRUE"===B(o.DEBUG_MODE).toUpperCase(),c=!0),!!iacjs.logging};t.debugTurnedOn=w,t.logError=function(e,t,i){var n=t||"ERROR";w()&&r()&&console[v].call(console,n+": "+e,i||"")},t.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.id=n(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:self",e.style="display:none",e};var B=function(e){var t="[\\?&]"+e+"=([^&#]*)",i=new RegExp(t),n=i.exec(window.location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))};t.getPriceBucketString=function(e){var t=e.cpm,i="",n="",r="",o="",a=this.enc(0),d=0,s={low:i,med:n,high:r,act:o,enc:a};try{d=parseFloat(t),d&&(d>l?s.low=l.toFixed(2):s.low=(Math.floor(2*t)/2).toFixed(2),d>u?s.med=u.toFixed(2):s.med=(Math.floor(10*t)/10).toFixed(2),d>p?s.high=p.toFixed(2):s.high=(Math.floor(100*t)/100).toFixed(2),s.act=(Math.floor(100*t)/100).toFixed(2),s.enc=this.enc(s.high))}catch(c){this.logError("Exception parsing CPM :"+c.message)}return s},t.hasValidBidRequest=function(e,t,i){for(var n=0;n<t.length;n++){var r=!1;if(this._each(e,function(e,i){i===t[n]&&(r=!0)}),!r)return this.logError("Params are missing for bid request. One of these required paramaters are missing: "+t,i),!1}return!0},t.addEventHandler=function(e,t,i){e.addEventListener?e.addEventListener(t,i,!0):e.attachEvent&&e.attachEvent("on"+t,i)},t.isA=function(e,t){return m.call(e)==="[object "+t+"]"},t.isFn=function(e){return this.isA(e,h)},t.isStr=function(e){return this.isA(e,f)},t.isArray=function(e){return this.isA(e,g)},t.isNumber=function(e){return typeof e===b},t.isEmpty=function(e){if(!e)return!0;if(this.isArray(e)||this.isStr(e))return!(e.length>0);for(var t in e)if(_.call(e,t))return!1;return!0},t._indexOf=function(e,t){return this.isEmpty(e)?-1:this.isFn(e.indexOf)?e.indexOf(t):(e.prototype.indexOf=function(e,t){var t=t||0;if(t>this.length)return-1;for(var i=0;i<this.length;i++){if(this[i]==e&&t<=i)return i;if(this[i]==e&&t>i)return-1}return-1},e.indexOf(t))},t._each=function(e,t){if(!this.isEmpty(e)){if(this.isFn(e.forEach))return e.forEach(t);var i=0,n=e.length;if(n>0)for(;i<n;i++)t(e[i],i,e);else for(i in e)_.call(e,i)&&t(e[i],i,e)}},t._filter=function(e,t){if(!this.isEmpty(e)){if(this.isFn(e.filter))return e.filter(t);var i=[];for(k in e)_.call(e,k)&&t(e[k])&&i.push(e[k]);return i}},t._clone=function(e){return JSON.parse(JSON.stringify(e))},t.dyc=function(e,t,i){var n=10,r=parseInt(o.ENC.EC,o.ENC.EB),a=parseInt(o.ENC.EF,o.ENC.EB);return(parseInt(t,a)-r)/n-(e-1)*((parseInt(i,a)-r)/n)},t.enc=function(e,t){var i=e/1*100,n=parseInt(o.ENC.EC,o.ENC.EB)+i,r=n.toString(o.ENC.EB);return t&&(r=n.toString(parseInt(o.ENC.EF,o.ENC.EB))),r},t.dec=function(e){return parseInt(e,o.ENC.EB)-parseInt(o.ENC.EC,o.ENC.EB)},t.ecpm=function(e,t){return(100*e.high+parseInt(t.adId,16)).toString(36)},t.exportBidMeta=function(e,t){if(typeof e!==o.objectType_object||typeof e.bids!==o.objectType_object||typeof e.allBidsAvailable!==o.objectType_boolean||typeof e.bidsReceivedCount!==o.objectType_number)return"Error";var i={},n={},r=e.allBidsAvailable,a=e.bidsReceivedCount,d=e.bids;i.a=r,i.c=a;var s="";this._each(d,function(e,t,i){var r=e.getPerf(),o=e.getRepr();s+=o+"^",n[r.n]=r.t}),i.b=s;var c=[];return this._each(n,function(e,t,i){c+=t+"|"+e+"^"}),t.perf=c,JSON.stringify(i)},t.inferSlotSize=function(e){var i=o.SLOT_SIZES,n=this.parseSizesInput(e);if(n.length>1){var r=this._filter(n,function(e){return t._indexOf(i,e)!=-1})||[];return 0===r.length?o.UNKNOWN:r.slice(0,1).toString()}return 1===n.length?n.slice(0,1).toString():o.UNKNOWN}},function(e,t,i){function n(e,t){g.debug("bidmanager : "," getKeyValueTargetingPairs  ::: called withs ",{bidderCode:e,custBidObj:t});var i={},n=iacjs.bidderSettings||{};return e&&t&&n&&n[e]?(r(i,n[e],t),t.alwaysUseBid=n[e].alwaysUseBid):D[e]?(r(i,D[e],t),t.alwaysUseBid=D[e].alwaysUseBid):t&&n&&(n[c.JSON_MAPPING.BD_SETTING_STANDARD]||(n[c.JSON_MAPPING.BD_SETTING_STANDARD]={adserverTargeting:[{key:"hn",val:function(e){return e.bidderCode}},{key:"hr",val:function(e){return e.enc}},{key:"ht",val:function(e){return l.replaceTokenInString(e.targeting,e,"%%")}},{key:"hz",val:function(e){return e.getSizeCode()}}]}),r(i,n[c.JSON_MAPPING.BD_SETTING_STANDARD],t)),i}function r(e,t,i){g.debug("bidmanager : "," setKeys ::: called with parameters",{keyValues:l._clone(e),bidderSettings:l._clone(t),custBidObj:l._clone(i)});var n=t[c.JSON_MAPPING.ADSERVER_TARGETING];return i.size=i.getSize(),l._each(n,function(t){var n=t.key,r=t.val;if(l.isFn(r))try{e[n]=r(i)}catch(o){l.logError("bidmanager","ERROR",o)}else e[n]=r}),e}function o(e){var t=[e];a(b,t)}function a(e,t){var i;if(l.isArray(e))for(i=0;i<e.length;i++){var n=e[i];d(n,t)}else d(e,t)}function d(e,t){if("function"==typeof e)try{e.apply(iacjs,t)}catch(i){g.error("Error executing callback function: "+i.message)}}function s(e){g.info("checkBidsBackByAdUnit",{placement:e});for(var t=0;t<iacjs.adUnits.length;t++){var i=iacjs.adUnits[t];if(i.placement===e){var n=S[e].bidsReceivedCount;n===i.bids.length&&(o(e),g.info("calling Prediction function",{placement:e,pbBidResponseByPlacement:w[e]}),p.predict(e,w[e]))}}}var c=i(1),l=i(2),u=i(4),p=i(6),g=u.getLogger("bidmanager"),f="function",h="undefined",b=[],m=[],_=null,y={},v={};t.pbCallbackMap=v;var w={};t.pbBidResponseByPlacement=w;var B={};t._adResponsesByBidderId=B;var I=0;t.bidRequestCount=I;var x=0;t.bidResponseRecievedCount=x;var S={};t.bidResponseCountByPlacement=S;var A={};t.bidRequestCountByPlacement=A;var E={};t.pbBidResponseByBidders=E;var C=!1,R=!1,D={},T={};t.bidResponseComplete=function(e,t){g.info("bidmanager : "," bidResponseComplete  ::: for bidder ",t," and placement ",e);try{var i;S[e]?(i=S[e],i.bidsReceivedCount++,i.bids.push(t)):(i=this.createEmptyBidResponseObj(),i.bids.push(t),i.bidsReceivedCount++,S[e]=i),x++,g.info("bidmanager : "," bidResponseComplete  ::: bids request count :",I," and response count : ",x),g.info("bidmanager : "," bidResponseComplete  ::: checking if all bids are in as well as check if bids are in for",e),this.checkIfAllBidsAreIn(e)}catch(n){g.error("bidmanager",n)}},t.getPlacementIdByCBIdentifer=function(e){return v[e]},t.incrementBidCount=function(){g.debug("bidmanager : "," incrementBidCount ::: count before increment",I),I++},t.getBidResponseByAdUnit=function(e){return g.debug("bidmanager : "," getBidResponseByAdUnit ::: getResponse",{adUnitCode:e,pbBidResponseByPlacement:w}),w},t.clearAllBidResponses=function(e){g.info("bidmanager : "," clearAllBidResponses  ::: clearing bid response and callback flags"),C=!1,R=!1,I=0,x=0,m.called=!1;for(var t in this.pbBidResponseByPlacement)delete this.pbBidResponseByPlacement[t];for(var t in this.bidResponseCountByPlacement)delete this.bidResponseCountByPlacement[t]},t.addBidResponse=function(e,t){var i=t?"placement & bid :"+t.bidderCode:"placement";g.debug("bidmanager : "," addBidResponse  ::: called withs ",i,{placement:e,bid:t});var r={};if(t){t.requestTimestamp=T[t.bidderCode],t.responseTimestamp=(new Date).getTime(),t.timeToRespond=t.responseTimestamp-t.requestTimestamp,2===t.getStatusCode()&&(t.cpm=0);var o=l.getPriceBucketString(t);try{var a=u.getLogger(c.SPL_LOGGER);a.getLevel()<3&&(t.pbLg=o.low,t.pbMg=o.med,t.pbHg=o.high)}catch(d){g.error(d)}t.enc=o.enc,t.placement=e,t.bidder=t.bidderCode,E[t.bidderCode]=E[t.bidderCode]||[],E[t.bidderCode].push(t);var s={};t.bidderCode&&0!==t.cpm&&(s=n(t.bidderCode,t),t.adserverTargeting=s),t.adId&&(B[t.adId]=t),e&&w[e]?(r=w[e],typeof r.bids!==h&&(r.bids.push(t),r.bidsReceivedCount++)):l.logError("Internal error in bidmanager.addBidResponse. Params: "+e+" & "+t)}else r=this.createEmptyBidResponseObj();g.debug("bidmanager : "," addBidResponse  ::: pbBidResponseByPlacement",{pbBidResponseByPlacement:l._clone(w)}),w[e]=r},t.createEmptyBidResponseObj=function(){return{bids:[],allBidsAvailable:!1,bidsReceivedCount:0}},t.registerDefaultBidderSetting=function(e,t){D[e]=t},t.registerBidRequestTime=function(e,t){T[e]=t},t.executeCallback=function(){if(typeof iacjs.registerBidCallbackHandler===f&&!R)try{iacjs.registerBidCallbackHandler(),R=!0}catch(e){R=!0,l.logError("Exception trying to execute callback handler registered : "+e.message)}if(m.called!==!0){var t=[];a(m,t),m.called=!0}if(_){var t=[],i=iacjs.getBidResponses();t.push(i),a(_,t),_=null}},t.allBidsBack=function(){return C},t.setBidderMap=function(e){y=e},t.checkIfAllBidsAreIn=function(e){g.info("bidmanager : "," checkIfAllBidsAreIn  ::: ",e),0!==I&&I===x&&(C=!0),s(e),C&&(g.info("bidmanager : "," checkIfAllBidsAreIn  ::: _allBidsAvailable",C),this.executeCallback())},t.addOneTimeCallback=function(e){_=e},t.addCallback=function(e,t,i){t.id=e,c.CB.TYPE.ALL_BIDS_BACK===i?m.push(t):c.CB.TYPE.AD_UNIT_BIDS_BACK===i?b.push(t):c.CB.TYPE.SLOT_RENDER_ENDED==i&&(window.iacjs.events[c.CB.TYPE.SLOT_RENDER_ENDED]=t)}},function(e,t,i){var n=i(5),r=i(1),o={};t.getLogger=function(e){var t;return typeof o[e]===r.objectType_undefined?(t=n.getLogger(e),o[e]=t):t=o[e],t}},function(e,t,i){var n,r;!function(o,a){"use strict";n=a,r="function"==typeof n?n.call(t,i,t,e):n,!(void 0!==r&&(e.exports=r))}(this,function(){"use strict";function e(e){return typeof console!==d&&(void 0!==console[e]?t(console,e):void 0!==console.log?t(console,"log"):a)}function t(e,t){var i=e[t];if("function"==typeof i.bind)return i.bind(e);try{return Function.prototype.bind.call(i,e)}catch(n){return function(){return Function.prototype.apply.apply(i,[e,arguments])}}}function i(e,t,i){return function(){typeof console!==d&&(n.call(this,t,i),this[e].apply(this,arguments))}}function n(e,t){for(var i=0;i<s.length;i++){var n=s[i];this[n]=i<e?a:this.methodFactory(n,e,t)}}function r(t,n,r){return e(t)||i.apply(this,arguments)}function o(e,t,i){function o(e){var t=(s[e]||"silent").toUpperCase();try{return void(window.localStorage[u]=t)}catch(i){}try{window.document.cookie=encodeURIComponent(u)+"="+t+";"}catch(i){}}function a(){var e;try{e=window.localStorage[u]}catch(t){}if(typeof e===d)try{var i=window.document.cookie,n=i.indexOf(encodeURIComponent(u)+"=");n&&(e=/^([^;]+)/.exec(i.slice(n))[1])}catch(t){}return void 0===l.levels[e]&&(e=void 0),e}var c,l=this,u="loglevel";e&&(u+=":"+e),l.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},l.methodFactory=i||r,l.getLevel=function(){return c},l.setLevel=function(t,i){if("string"==typeof t&&void 0!==l.levels[t.toUpperCase()]&&(t=l.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=l.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(c=t,i!==!1&&o(t),n.call(l,t,e),typeof console===d&&t<l.levels.SILENT)return"No console available for logging"},l.setDefaultLevel=function(e){a()||l.setLevel(e,!1)},l.enableAll=function(e){l.setLevel(l.levels.TRACE,e)},l.disableAll=function(e){l.setLevel(l.levels.SILENT,e)};var p=a();null==p&&(p=null==t?"WARN":t),l.setLevel(p,!1)}var a=function(){},d="undefined",s=["trace","debug","info","warn","error"],c=new o,l={};c.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=l[e];return t||(t=l[e]=new o(e,c.getLevel(),c.methodFactory)),t};var u=typeof window!==d?window.log:void 0;return c.noConflict=function(){return typeof window!==d&&window.log===c&&(window.log=u),c},c})},function(e,t,i){function n(e,t){var i=e%t;return e-i+t}function r(e){var t=0,i=0,r={enc:0};return e&&(t=parseFloat(e),i=t>u?u.toFixed(2):t>p?(n(100*e,100)/100).toFixed(2):(n(100*e,50)/100).toFixed(2)),r.enc=d.enc(i,!0),r.enc}function o(e){var t={};return e&&0!==e.length&&(e.sort(function(e,t){return t.cpm-e.cpm}),t=e[0]),t}var a=i(1),d=i(2),s=i(4),c=s.getLogger("model"),l=i(7).yieldConfig,u=30,p=15,g={};e.exports={predict:function(e,t){c.info({bidResponseObject:t,predictFunction:!0});var i=t.bids,n=o(i);return c.info({winningBid:n}),typeof g[e]===a.objectType_string&&typeof n[a.JSON_MAPPING.ADSERVER_TARGETING]==a.objectType_object?void(typeof n[a.JSON_MAPPING.ADSERVER_TARGETING][a.DEFAULT_PRICE_PREDICTOR_KEY]===a.objectType_undefined&&(c.info("running fallback predictions"),n[a.JSON_MAPPING.ADSERVER_TARGETING][a.DEFAULT_PRICE_PREDICTOR_KEY]=g[e])):void(typeof n===a.objectType_object&&(c.info("running predictions"),g[e]=r(n.cpm*l.adx_markup),typeof n[a.JSON_MAPPING.ADSERVER_TARGETING]==a.objectType_object&&(n[a.JSON_MAPPING.ADSERVER_TARGETING][a.DEFAULT_PRICE_PREDICTOR_KEY]=g[e])))},expungeCache:function(){c.info("beginning cache expunging",g),g={},c.info("completed cache expunging",g)}}},function(e,t){t.placement_config={"300x250_1":[{bidder:"ix",params:{placementSiteId:169330}},{bidder:"em"},{bidder:"zm"}],"300x250_mid":[{bidder:"ix",params:{placementSiteId:169335}},{bidder:"em"},{bidder:"zm"}],"300x250_bot":[{bidder:"ix",params:{placementSiteId:169334}},{bidder:"em"},{bidder:"zm"}]},t.pageTargeting={evince:"ad"},t.peripheralScripts=[{code:"lotame",config:{LOTAMEID:"4736"}}],t.yieldConfig={inhouse_bid_floor:.5,adx_markup:1.15}},function(e,t,i){var n=i(9),r=i(1),o=i(10),a=i(13),d=i(14),s=i(15),c=i(16),l=i(17),u=i(5),p=(u.getLogger("adaptermanager"),{});t.callBids=function(e){n.callBids(e,p)},t.registerBidAdapter=function(e,t){n.registerBidAdapter(e,t,p)},t.getBidRegistry=function(){return p};var g={scriptUrl:"//ask-d.openx.net/w/1.0/jstag?nc=%%OXIDENTIFIER%%",adUnits:{"default":"23219321-ask"}},f={scriptUrl:"//c.amazon-adsystem.com/aax2/amzn_ads.js",propertyId:"3067",timeout:2e3},h={scriptUrl:"//ads.rubiconproject.com/header/%%ACCOUNTID%%.js",accountID:"10952"},b={scriptUrl:"//ads.pubmatic.com/AdServer/js/gshowad.js",accountID:"103207"},m={siteID:169330,embedMode:0,timeout:300};this.registerBidAdapter(o(f),"zm"),this.registerBidAdapter(a(h),"em"),this.registerBidAdapter(d(g),"ox"),this.registerBidAdapter(s(b),"pm"),this.registerBidAdapter(c(m),"ix"),this.registerBidAdapter(l(),r.DEFAULT_BIDDER)},function(e,t,i){var n=i(3),r=i(2),o=i(1),a=i(4),d=a.getLogger("adaptermanagerhelper");t.callBids=function(e,t){d.info("adaptermanagerhelper : "," callBids :: ","calling functions with",{bidderArr:r._clone(e),_bidderRegistry:r._clone(t)});for(var i=0;i<e.length;i++){var o=e[i];if(o.bidderCode&&t[o.bidderCode]){d.info("adaptermanagerhelper : ","callBids :: ","CALLING BIDDER ",o.bidderCode);var a=t[o.bidderCode];a.defaultBidderSettings&&(d.info("adaptermanagerhelper : ","callBids :: "," registering default Bidder Settings ",o.bidderCode,{bidderCode:o.bidderCode,defaultBidderSettings:a.defaultBidderSettings}),n.registerDefaultBidderSetting(o.bidderCode,a.defaultBidderSettings));var s=(new Date).getTime();n.registerBidRequestTime(o.bidderCode,s),a.resetBids(),a.callBids(o),d.debug("adaptermanagerhelper : ","callBids :: ","current bidder object",{bidderCode:o.bidderCode,currentBidder:a})}}},t.registerBidAdapter=function(e,t,i){d.debug("adaptermanagerhelper : "," registerBidAdapter  :: registering bidder ",{bidderCode:t,bidAdaptor:e}),e&&t?typeof e.callBids===o.objectType_function&&typeof e.resetBids===o.objectType_function?i[t]=e:d.error("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() & resetBids()  function"):d.error("bidAdaptor or bidderCode not specified"),d.debug("adaptermanagerhelper : "," registerBidAdapter  ::: _bidderRegistry ",{_bidderRegistry:r._clone(i)})}},function(e,t,i){var n=i(1),r=i(2),o=i(11),a=i(3),d=i(12),s=i(4),c=s.getLogger("amazon"),l="object",u=function(e){function t(e){y=e.bids||[],c.info(n.L.B,{bids:y}),b=e.bidderCode,g=v.scriptUrl,f=v.propertyId,m=n.BD_CONFIG.A.S,_=n.BD_CONFIG.A.E,h=v.timeout,window.amznads?s():u()}function i(e){r._each(y,function(t){var i=t.placement;r._each(r.parseSizesInput(t.sizes),function(d){var s,u=I[d]||"";if(typeof u===l){var p=r._filter(e,function(e){return u.exec(e)})||[];if(1==p.length){var g=p.join("");s=o.createBid(1),s.bidderCode=b,s.code=t.code;try{var f=w.exec(g).pop();s.pid=f,s.cpm=r.dyc(f,m,_)}catch(h){s.cpm=0,s.pid=0,c.error(n.L.U,h)}s.width=d.split("x")[0],s.height=d.split("x")[1],s.targeting=B,a.addBidResponse(i,s),e.splice(e.indexOf(g),1),c.debug(n.L.C,n.L.A,s.getStatusCode(),{bid:s})}else 0==p.length?(s=o.createBid(2),s.bidderCode=b,s.code=t.code,s.width=d.split("x")[0],s.height=d.split("x")[1],s.targeting=B,a.addBidResponse(i,s),c.debug(n.L.C,n.L.A,s.getStatusCode(),{bid:s})):c.warn(n.L.C,"too many bids to work with")}}),c.info(n.L.RC,i),a.bidResponseComplete(i,b)})}function s(){try{amznads.getDisplayAdsCallback(f,function(){var e=amznads.getTokens()||[];c.info(n.L.C,{amznads:e}),i(e)},h)}catch(e){}}function u(){c.info(n.L.C,{scriptUrl:g}),g&&d.loadAsyncScript({src:g,onload:s})}function p(){c.info(n.L.R),y=[]}c.info(n.L.I);var g,f,h,b,m,_,y,v=e||{},w=RegExp(/[am][^p]*p(.*)/),B="%%SIZE%%|%%PID%%",I={"300x600":/a3x.*/g,"300x250":/a300x.*/g,"970x250":/a9x.*/g,"728x90":/a7.*/g,"320x50":/m3.*/g};return{callBids:t,resetBids:p}};e.exports=u},function(e,t,i){function n(e){function t(){switch(n){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}var i=r.getUniqueIdentifierStr(),n=e||0;this.bidderCode="",this.code="",this.width=0,this.height=0,this.statusMessage=t(),this.adId=i,this.targeting="",this.timeToRespond=0,this.enc=r.enc(0),this.getStatusCode=function(){return n},this.getSize=function(){return this.width+"x"+this.height},this.getSizeCode=function(){return a.SIZE_MAPPER[this.getSize()]||0},this.getRepr=function(){var e=this.enc;return e!==r.enc(0)&&1===n?this.bidderCode+"|"+this.getSizeCode()+"|"+e:this.bidderCode+"|"+this.getSizeCode()},this.getPerf=function(){return{n:this.bidderCode,t:this.timeToRespond}}}var r=i(2),o=i(5),a=i(1),d=o.getLogger("bidfactory");t.createBid=function(e){return d.debug("bidfactory : "," createBid :: ","creating empty bid with status code ",e),
new n(e)}},function(e,t){t.loadScript=function(e,t){var i=document.createElement("script");i.type="text/javascript",i.async=!0,t&&"function"==typeof t&&(i.readyState?i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onreadystatechange=null,t())}:i.onload=function(){t()}),i.src=e;var n=document.getElementsByTagName("head");n=n.length?n:document.getElementsByTagName("body"),n.length&&(n=n[0],n.insertBefore(i,n.firstChild))},t.trackPixel=function(e){var t,i;if(e&&"string"==typeof e)return t=e.indexOf("?")>0?"&":"?",i=e+t+"rnd="+Math.floor(1e7*Math.random()),(new Image).src=i,i},t.loadAsyncScript=function(e){var t,i,n=document.createElement("script"),r=document.getElementsByTagName("script")[0];n.async=!0;for(t in e)e.hasOwnProperty(t)&&("onload"==t?i=e[t]:n[t]=e[t]);i&&"function"==typeof i&&(n.readyState?n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=n.readyState||(n.onreadystatechange=null,i())}:n.onload=function(){i()}),r.parentNode.insertBefore(n,r)}},function(e,t,i){var n=i(1),r=i(2),o=i(11),a=i(3),d=i(12),s=i(4),c=s.getLogger("rubicon"),l="object",u="string",p=function(e){function t(){function e(e,t,i){var d=e.getElementId(),s=e.getSlotName(),u=e.getAdServerTargeting()||[];2==u.length&&typeof u==l?r._each(u,function(e,t,i){e.key==v.tiers&&r._each(e.values,function(e,t,i){var r=y.exec(e);r&&3===r.length?(a.addBidResponse(d,function(){var e=w[r[1]]||"0x0",t=o.createBid(1);t.bidderCode=h,t.code=s;try{t.cpm=parseFloat(parseInt(b.exec(r[2]).pop())/100)}catch(i){t.cpm=0,c.error(n.L.U,r[2])}return t.width=e.split("x")[0],t.height=e.split("x")[1],t.placement=d,t.sizeID=r[1],t.targeting=B,t}()),c.info(n.L.A)):(a.addBidResponse(d,function(){var e=o.createBid(2);return e.bidderCode=h,e.code=s,e.width=0,e.height=0,e.placement=d,e.targeting=B,e}()),c.info(n.L.A))})}):typeof u==l&&(a.addBidResponse(d,function(){var e=o.createBid(2);return e.bidderCode=h,e.code=s,e.width=0,e.height=0,e.placement=d,e.targeting=B,e}()),c.info(n.L.A)),a.bidResponseComplete(d,h)}rubicontag.cmd.push(function(){rubicontag.run(function(){c.info(n.L.C,{slots:window.rubicontag.getAllSlots()}),r._each(window.rubicontag.getAllSlots(),e)},{slots:window.rb_s||[]})})}function i(e){c.info(n.L.B,{bids:e.bids||[]});var i=e.bids;g=r.replaceTokenInString(_.scriptUrl,_,"%%"),f=_.accountID,v.tiers=r.replaceTokenInString(v.tiers,_,"%%"),h=e.bidderCode,r._each(i,function(e,t,i){!function(e){rubicontag.cmd.push(function(){c.info("rubicontag.cmd.push",{bid:e,index:t,rp_ad_slots:x});var i=rubicontag.defineSlot(e.code,e.sizes,e.placement);e.targeting&&typeof e.targeting===l&&r._each(e.targeting,function(e,t,n){var r=typeof e===u?[e]:e;i.setFPI(t,[r]),t===m.POS&&i.setPosition(r),t===m.KW&&i.addKW(e),c.debug("rubicontag.cmd.push ::: setting Position and FPI  ",{targeting:e,index:t,rp_ad_slots:x})}),i.setFPI("API",m.API),window.rb_s.push(i)})}(e)}),t(),g.indexOf("%")===-1&&(c.info(n.L.B,{bidderCode:h,scriptUrl:g}),d.loadAsyncScript({src:g,onload:function(){I=!0}}))}function s(){c.info(n.L.R),window.rb_s=[]}function p(e){c.info("rubicon : "," _setFirstPartySegments :::",e),rubicontag.cmd.push(function(){r._each(e,function(e,t,i){e=typeof e===u?[e]:e,c.debug("rubicon : "," _setFirstPartySegments ::: setting FPV value",{key:t,value:e}),rubicontag.setFPV(t,e)})})}c.info(n.L.I);var g,f,h,b=new RegExp(/tier(.*)/),m={POS:"pos",KW:"kw",API:"FASTLANE"},_=e||{},y=/([^_]*)_(.*)/,v={tiers:"rpfl_%%ACCOUNTID%%",element:"rpfl_elemid"},w={1:"468x60",2:"728x90",3:"234x60",4:"88x31",5:"120x90",6:"120x60",7:"125x125",8:"120x600",9:"160x600",10:"300x600",11:"180x150",12:"120x240",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",18:"180x150",19:"300x100",20:"0x0",21:"468x728",22:"120x160",23:"120x90",24:"160x90",25:"180x90",26:"200x90",27:"468x15",28:"728x15",29:"300x850",30:"0x0",31:"980x120",32:"250x360",33:"180x500",34:"580x400",35:"980x150",36:"140x350",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",45:"480x75",46:"480x60",47:"240x37",48:"300x300",49:"336x260",50:"1024x90"},B="%%SIZE%%|%%SIZEID%%|%%PLACEMENT%%",I=!1,x={};return window.rubicontag=window.rubicontag||{},window.rubicontag.cmd=window.rubicontag.cmd||[],window.rb_s=window.rb_s||[],{callBids:i,resetBids:s,setFirstPartySegments:p}};e.exports=p},function(e,t,i){var n=(i(1),i(2)),r=i(11),o=i(3),a=i(12),d=i(4),s=d.getLogger("openx"),c=function(e){function t(e){s.info("openx : "," _callBids ::: called ",{bids:e.bids||[]}),l=e.bids||[],u=e.bidderCode,p=g.adUnits["default"];for(var t=0;t<l.length;t++){var r=l[t],o=[];if(r.code){for(var a in g.adUnits)g.adUnits.hasOwnProperty(a)&&r.code.indexOf(a)!=-1&&(g.oxIdentifier=g.adUnits[a]);g.oxIdentifier||(g.oxIdentifier=p)}s.info("chooseing script oxIdentifer as ",g.oxIdentifier),o.push(r.code),o.push(n.parseSizesInput(r.sizes)),o.push(r.placement),o.push(r.targeting),f.push(o),h[r.placement]=r.code}i()}function i(){window.OX_dfp_ads=f,window.OX_dfp_options={callback:_},c=n.replaceTokenInString(g.scriptUrl,g,"%%"),s.info("openx : "," _callBids :::"," calling ",u," using url",c,"using parameters",{OX_dfp_ads:window.OX_dfp_ads,OX_dfp_options:window.OX_dfp_options}),a.loadAsyncScript({src:c,onload:function(){b=!0}})}function d(){s.info("openx : "," _resetBids ::: called "),f=[],window.OX=void 0}s.info("openx : "," OpenxAdapter Initialized");var c,l,u,p,g=e||{},f=[],h={},b=!1,m="%%SIZE%%",_=function(){var e=OX.dfp_bidder.getPriceMap()||{};s.info("openx : "," callback ::: called ",{getPriceMap:e,ox_mapper:h});for(var t in e){var i=e[t];if(i.price&&!isNaN(parseFloat(i.price))&&parseFloat(i.price)>0){var n=r.createBid(1);n.code=h[t],n.bidderCode=u,n.cpm=i.price/100,n.width=i.size.split("x")[0],n.height=i.size.split("x")[1],n.targeting=m,o.addBidResponse(t,n)}else{var n=r.createBid(2);n.code=h[t],n.bidderCode=u,n.width=i.size.split("x")[0],n.height=i.size.split("x")[1],n.targeting=m,o.addBidResponse(t,n)}o.bidResponseComplete(t,u)}};return{callBids:t,resetBids:d}};e.exports=c},function(e,t,i){var n=(i(1),i(2)),r=i(11),o=i(3),a=i(12),d=i(4),s=d.getLogger("pubmatic"),c="undefined",l="string",u="object",p=function(e){function t(e){s.info("pubmatic : "," _callBids ::: called "),d=e.bids||[],p=e.bidderCode,f=e.params&&e.params.publisherId||h.accountID,g=h.scriptUrl,s.debug("pubmatic : "," _callBids ::: ",{bids:d,bidderCode:p,_pm_pub_id:f}),n._each(d,function(e,t,i){_[e.placement]=[],n._each(n.parseSizesInput(e.sizes),function(i,n,r){e.mcode=e.code.split("/").slice(0,3).join("/"),typeof e.targeting===u&&typeof e.targeting.pos===l?e.pub_id=e.mcode+"-"+i+"-"+e.targeting.pos+"@"+i:e.pub_id=e.mcode+"-"+i+"-"+t+"@"+i,e.pub_size=i;var o=JSON.parse(JSON.stringify(e));_[e.placement].push(o),m.push(o.pub_id),s.debug("pubmatic : ","_callBids ::: "," expanding slots by singularizing the size",{slot:e,_pm_optimize_adslots:m,_expanded_slots_map:_})})}),window.pm_pub_id=f||window.pm_pub_id,window.pm_async_callback_fn="iacjs.handlePubmaticCallback",iacjs.handlePubmaticCallback=function(){function e(e){var t=["bidstatus","bid","bidid","wdeal"];try{return n._each(t,function(t,i,n){if(e&&!e.hasOwnProperty(t))return!1}),!0}catch(i){return s.warn("pubmatic : "," hasValidBid ::: "," errored out",i),!1}}var t=function(e){var t,i={};if(e){var r=!1;if(t=e.split(";"),n._each(t,function(e,n,o){var a=e.split("=");2==a.length?i[a[0]]=a[1]:(s.warn("unknown format of bid",t),s.info("Initiating fallback processing",t),r=!0)}),r)for(;t.length>0;){var o=t.splice(0,2);i[o[0]]=o[1]}}return s.debug("pubmatic : "," handlePubmaticCallback._processPubMaticProgMap ::: "," processing bid ",{request:e,response:i}),i};s.info("pubmatic : "," callback ::: called ",{progKeyValueMap:progKeyValueMap,bidDetailsMap:bidDetailsMap});var i=window.progKeyValueMap;n._each(_,function(a,d,c){s.debug("pubmatic : "," handlePubmaticCallback ::: "," finishing slots",{slotArr:a,slot_id:d}),n._each(a,function(n,a,d){var c,l=t(i[n.pub_id]),u=e(l);e(l)||s.warn("pubmatic : "," handlePubmaticCallback ::: "," Pubmatic not returning valid bids",{pubmaticBidMap:l}),u&&1==l.bidstatus&&!isNaN(parseInt(l.bid))&&parseInt(l.bid)>0?(c=r.createBid(1),c.bidderCode=p,c.cpm=parseFloat(l.bid)*b,c.code=n.code,c.bidid=l.bidid,c.width=n.pub_size.split("x")[0],c.height=n.pub_size.split("x")[1],c.targeting=y,s.debug("pubmatic : "," handlePubmaticCallback ::: "," adding bid to bid manager",c),o.addBidResponse(n.placement,c)):u?(c=r.createBid(2),c.bidderCode=p,c.cpm=parseFloat(l.bid),c.code=n.code,c.bidid=l.bidid,c.width=n.pub_size.split("x")[0],c.height=n.pub_size.split("x")[1],c.targeting=y,s.debug("pubmatic : "," handlePubmaticCallback ::: "," adding bid to bid manager",c),o.addBidResponse(n.placement,c)):(c=r.createBid(2),c.bidderCode=p,c.code=n.code,c.width=n.pub_size.split("x")[0],c.height=n.pub_size.split("x")[1],c.targeting=y,s.debug("pubmatic : "," handlePubmaticCallback ::: "," adding bid to bid manager",c),o.addBidResponse(n.placement,c))}),o.bidResponseComplete(d,p)})},s.info("pubmatic : "," _callBids :::"," calling ",p," using url",g,"using parameters",{pm_optimize_adslots:window.pm_optimize_adslots,pm_pub_id:window.pm_pub_id,pm_async_callback_fn:window.pm_async_callback_fn}),a.loadAsyncScript({src:g})}function i(){s.info("pubmatic : "," _resetBids ::: called "),m=[],_={},window.pm_optimize_adslots=m}s.info("pubmatic : "," PubmaticAdapter Initialized");var d,p,g,f,h=e||{},b=.83,m=[],_={},y="%%SIZE%%|%%BIDID%%";return window.pm_optimize_adslots=m,window.pm_pub_id=c,window.pm_async_callback_fn=c,{callBids:t,resetBids:i}};e.exports=p},function(e,t,i){var n=i(1),r=i(2),o=i(11),a=i(3),d=i(12),s=i(4),c=s.getLogger("index"),l="function",u="undefined",p="object",g="string",f=function(e){function t(){r._each(b,function(e,t,i){w[e.placement]={},r._each(r.parseSizesInput(e.sizes),function(i,r,o){var a,d=t+""+r,l=new s(d);typeof e.params===p&&typeof e.params.placementSiteId!==u&&(a=e.params.placementSiteId,c.debug("siteIDSlotLevel",{siteIDSlotLevel:a,slot:e})),l.setSize(i),l.code=e.code,l.slot_index=r,v[d]={placement:e.placement,index_slot:l},w[e.placement][d]=l,cygnus_index_args.slots.push(l.getCygnusRepr(a)),c.debug("index_slot",JSON.stringify(v[d]),JSON.stringify(w[e.placement][d])),c.debug(n.L.E,l)})}),c.info(n.L.E,{_expanded_slots_map:v,_expanded_placement_map:w}),d.loadAsyncScript({src:f()})}function i(e){c.info(n.L.B,e),b=e.bids||[],m=e.bidderCode,cygnus_index_args.siteID=_=y.siteID,cygnus_index_args.embedMode=y.embedMode,cygnus_index_args.timeout=y.timeout,window.cygnus_index_primary_request=!0,cygnus_index_args.callback=function(e,t){var i={};r._each(t,function(e,t,r){var o=e.slotID,a=v[o];if(typeof o===g&&typeof a===p){i[o]=i[o]||[];var d=e.priceLevel&&0===e.priceLevel.indexOf("_")?e.priceLevel:"_0";try{d=d.split("_").pop(),e.cpm=parseFloat(parseInt(d)/100)}catch(s){c.error(n.L.U,"priceLevel error setting price to 0",{bid:e}),e.cpm=0}e.placement=a.placement,e.code=a.index_slot.code,e.height=a.index_slot.height,e.width=a.index_slot.width,i[o].push(e)}else c.error("error processing bid",e,"missing or un configured slotID")}),c.info("cygnus_index_args.callback",{node_id:e,names:t,names_slot_map:i,_expanded_slots_map:v,_expanded_placement_map:w}),r._each(w,function(e,t,d){r._each(e,function(e,d,s){var l=i[e.id];c.debug("index","normalizing bids",{slot:e,names_slot:l}),r._each(l,function(e,i,r){var d;typeof l===p?(d=o.createBid(1),d.bidderCode=m,d.cpm=e.cpm,d.impressionID=e.impressionID,d.priceLevel=e.priceLevel,d.slotID=e.slotID,d.code=e.code,d.width=e.width,d.height=e.height,d.target=e.target,c.debug("index","adding bid to bid manager",{placement:t,bid_response:d,names_slot:l}),d.targeting=B,a.addBidResponse(t,d),c.info(n.L.A,d)):(d=o.createBid(2),d.bidderCode=m,d.cpm=0,d.code=e.code,d.width=e.width,d.height=e.height,c.debug("index","bid not found",{placement:t,bid_response:d,names_slot:l}),d.targeting=B,a.addBidResponse(t,d),c.info(n.L.A,d))})}),c.info(n.L.RC,t,m),a.bidResponseComplete(t,m)})},t()}function s(e){this.id=e,this.width=0,this.height=0,this.slot_index=void 0,this.code=void 0,this.siteID=_,this.setSize=function(e){var t=e.split("x");this.width=parseInt(t[0]),this.height=parseInt(t[1])},this.getCygnusRepr=function(e){return{id:this.id,width:this.width,height:this.height,siteID:e||this.siteID}}}function f(){function e(e){var t=r[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}function t(t){return n.lastIndex=0,n.test(t)?t.replace(n,e):t}function i(e,t,i){if(this.initialized=!1,"number"!=typeof e||e%1!==0||e<0)throw"Invalid Site ID";if("number"==typeof i&&i%1==0&&i>=0&&(this.timeoutDelay=i),this.siteID=e,this.impressions=[],this._parseFnName=void 0,top===self?(this.sitePage=location.href,this.topframe=1):(this.sitePage=document.referrer,this.topframe=0),"undefined"!=typeof t){if("function"!=typeof t)throw"Invalid jsonp target function";this._parseFnName="cygnus_index_args.parseFn"}"undefined"==typeof _IndexRequestData.requestCounter?_IndexRequestData.requestCounter=Math.floor(256*Math.random()):_IndexRequestData.requestCounter=(_IndexRequestData.requestCounter+1)%256,this.requestID=String((new Date).getTime()%2592e3*256+_IndexRequestData.requestCounter+256),this.initialized=!0}var n=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};i.prototype.serialize=function(){var e='{"id":'+this.requestID+',"site":{"page":"'+t(this.sitePage)+'"';"string"==typeof document.referrer&&(e+=',"ref":"'+t(document.referrer)+'"'),e+='},"imp":[';for(var i=0;i<this.impressions.length;i++){var n=this.impressions[i],r=[];e+='{"id":"'+n.id+'", "banner":{"w":'+n.w+',"h":'+n.h+',"topframe":'+String(this.topframe)+"}","number"==typeof n.bidfloor&&(e+=',"bidfloor":'+n.bidfloor,"string"==typeof n.bidfloorcur&&(e+=',"bidfloorcur":"'+t(n.bidfloorcur)+'"')),"string"!=typeof n.slotID||n.slotID.match(/^\s*$/)||r.push('"sid":"'+t(n.slotID)+'"'),"number"==typeof n.siteID&&r.push('"siteID":'+n.siteID),r.length>0&&(e+=',"ext": {'+r.join()+"}"),e+=i+1==this.impressions.length?"}":"},"}return e+="]}"},i.prototype.setPageOverride=function(e){return"string"==typeof e&&!e.match(/^\s*$/)&&(this.sitePage=e,!0)},i.prototype.addImpression=function(e,t,i,n,r,o){var a={id:String(this.impressions.length+1)};if("number"!=typeof e||e<=1)return null;if("number"!=typeof t||t<=1)return null;if(("string"==typeof r||"number"==typeof r)&&String(r).length<=50&&(a.slotID=String(r)),a.w=e,a.h=t,void 0!=i&&"number"!=typeof i)return null;if("number"==typeof i){if(i<0)return null;if(a.bidfloor=i,void 0!=n&&"string"!=typeof n)return null;a.bidfloorcur=n}if("undefined"!=typeof o){if(!("number"==typeof o&&o%1===0&&o>=0))return null;a.siteID=o}return this.impressions.push(a),a.id},i.prototype.buildRequest=function(){if(0!=this.impressions.length&&this.initialized===!0){var e=encodeURIComponent(this.serialize()),t="https:"===window.location.protocol?"https://as-sec.casalemedia.com":"http://as.casalemedia.com";return t+="/headertag?v=9&fn=iacjs.handleIndexCallback&s="+this.siteID+"&r="+e,"number"==typeof this.timeoutDelay&&this.timeoutDelay%1==0&&this.timeoutDelay>=0&&(t+="&t="+this.timeoutDelay),t}};try{if("undefined"==typeof cygnus_index_args||"undefined"==typeof cygnus_index_args.siteID||"undefined"==typeof cygnus_index_args.slots)return;"undefined"==typeof _IndexRequestData&&(_IndexRequestData={},_IndexRequestData.impIDToSlotID={},_IndexRequestData.reqOptions={});var o=new i(cygnus_index_args.siteID,cygnus_index_args.parseFn,cygnus_index_args.timeout);cygnus_index_args.url&&"string"==typeof cygnus_index_args.url&&o.setPageOverride(cygnus_index_args.url),_IndexRequestData.impIDToSlotID[o.requestID]={},_IndexRequestData.reqOptions[o.requestID]={};for(var a,d,s=0;s<cygnus_index_args.slots.length;s++)a=cygnus_index_args.slots[s],d=o.addImpression(a.width,a.height,a.bidfloor,a.bidfloorcur,a.id,a.siteID),d&&(_IndexRequestData.impIDToSlotID[o.requestID][d]=String(a.id));return"number"==typeof cygnus_index_args.targetMode&&(_IndexRequestData.reqOptions[o.requestID].targetMode=cygnus_index_args.targetMode),"function"==typeof cygnus_index_args.callback&&(_IndexRequestData.reqOptions[o.requestID].callback=cygnus_index_args.callback),o.buildRequest()}catch(l){c.error("index : "," cygnus_index_start ",l)}}function h(){v={},w={},window.cygnus_index_args.slots=[]}c.info(n.L.I);var b,m,_,y=e||{},v={},w={},B="%%SIZE%%|%%SLOTID%%|%%SLOTID%%%%PRICELEVEL%%";return window.cygnus_index_args=window.cygnus_index_args||{},window.cygnus_index_args.slots=window.cygnus_index_args.slots||[],iacjs.handleIndexCallback=function(e){c.debug("index : "," iacjs.handleIndexCallback ::: ",e,r._clone(_IndexRequestData)),e&&typeof cygnus_index_parse_res===l&&cygnus_index_parse_res(e)},{callBids:i,resetBids:h}};e.exports=f},function(e,t,i){var n=(i(1),i(2)),r=i(11),o=i(3),a=(i(12),i(4)),d=i(18),s=a.getLogger("inhouse"),c=function(e){function t(e){c=e.bids||[],a=e.bidderCode,s.info({bids:c}),n._each(c,function(e,t,i){l[e.placement]=[],n._each(n.parseSizesInput(e.sizes),function(i,n,r){e.pub_id=e.code+"@"+i+":"+t,e.pub_size=i;var o=JSON.parse(JSON.stringify(e));l[e.placement].push(o)})}),n._each(l,function(e,t,i){s.debug({slotArr:e,slot_id:t}),n._each(e,function(e,t,i){var n;n=r.createBid(1),n.bidderCode=a,n.cpm=d.getPrice(e),n.code=e.code,n.width=e.pub_size.split("x")[0],n.height=e.pub_size.split("x")[1],n.targeting=u,o.addBidResponse(e.placement,n)}),o.bidResponseComplete(t,a)})}function i(){l={},s.info("_resetBids ::: called ")}s.info("InHouseAdapter : "," InHouseAdapter Initialized");var a,c,l={},u="%%SIZE%%";return{callBids:t,resetBids:i}};e.exports=c},function(e,t,i){var n=i(4),r=n.getLogger("pricer"),o=i(7),a=function(e){return r.info(e),o.yieldConfig.inhouse_bid_floor};t.getPrice=a},function(e,t,i){var n=i(20),r=i(5),o=(i(2),r.getLogger("peripheralscriptmanager")),a="function",d="string",s={};t._callScripts=function(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.code&&s[i.code]){var n=s[i.code];try{n._loadScript(i)}catch(r){o.error(r)}}else o.error("script code not defined",{peripheralScriptArr:e,_scriptRegistry:s,code:i.code})}},t.getExternalScriptsById=function(e){return e?s[e]||[]:s},t.registerExternalScript=function(e,t){try{if(!e||!t)throw"peripheralscriptmanager ::: registerExternalScript :: script of script code missing";if(typeof e._loadScript!=a||typeof t!==d)throw"peripheralscriptmanager ::: registerExternalScript :: script of script code missing";o.info("peripheralscriptmanager ::: registerExternalScript :: registering",{scriptCode:t,script:e}),s[t]=e}catch(i){o.error(i)}};var c={url:"//ad.crwdcntrl.net/5/c=%%LOTAMEID%%/pe=y/var=ccauds"};this.registerExternalScript(n(c),"lotame")},function(e,t,i){var n=i(12),r=i(2),o=i(5),a=i(8),d="function",s=o.getLogger("lotame"),c=function(e){function t(e){var t=e&&e.config||[];if(i=r.replaceTokenInString(o.url,t,"%%"),s.info("Lotame : _callAdapter : calling with opts",{url:i}),i.indexOf("%%")!==-1)throw"Lotame ID replacement error :: Check configuration";n.loadAsyncScript({src:i,onload:function(){var e;if(window.lotame=window.lotame||{},window.lotame.segments=window.lotame.segments||[],"undefined"!=typeof ccauds&&ccauds.Profile){window.lotame.lpid="undefined"!=typeof ccauds.Profile.pid?ccauds.Profile.pid:"",window.lotame.ltpid="undefined"!=typeof ccauds.Profile.tpid?ccauds.Profile.tpid:"";var t,i=(ccauds.Profile.Audiences||{}).Audience||[];for(t=0;t<i.length;t++)window.lotame.segments.push(i[t].abbr);s.info("Lotame : _callAdapter.loadAsyncScript : loading Lotame script",lotame)}e=a.getBidRegistry()||{},r._each(e,function(e,t,i){typeof e.setFirstPartySegments===d&&(s.info("Lotame : bidder.setLotameSegments : for bidder",t,lotame),e.setFirstPartySegments.call(this,lotame))}),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){s.info("Lotame : window.googletag.cmd.push : setting lotame Segments",lotame),googletag.pubads().setTargeting("lpid",lotame.lpid).setTargeting("ltpid",lotame.ltpid).setTargeting("lseg",lotame.segments)})}})}s.info("Lotame : LotameAdapter Initialized");var i,o=e||{};return{_loadScript:t}};e.exports=c},function(e,t,i){var n=i(2),r=i(4),o=r.getLogger("reshelper"),a=function(e,t){if(n.isStr(e))return n.isStr(t)&&1==t.length?e.indexOf(t,0):-1;for(var i=0;i<e.length;i++)if(i in e&&e[i]===t)return i;return-1},d=function(e,t){return 0<=a(e,t)},s=function(e,t){return e>t?1:e<t?-1:0},c=function(e,t){var i;e:{i=t[0];for(var n=e[0],r=s,o=Math.min(i.length,n.length),a=0;a<o;a++){var d=r(i[a],n[a]);if(0!=d){i=d;break e}}i=s(i.length,n.length)}return i},l=function(e,t){e.sort(t||s)},u=function(e){for(var t=c,i=0;i<e.length;i++)e[i]={index:i,value:e[i]};var n=t||s;for(l(e,function(e,t){return n(e.value,t.value)||e.index-t.index}),i=0;i<e.length;i++)e[i]=e[i].value},p=function(e){var t=n.isArray(e)&&2==e.length&&n.isNumber(e[0])&&n.isNumber(e[1]);return e=n.isStr(e)&&"fluid"==e,t||e},g=function(){this.j=[],this.m=!1};g.prototype.addSize=function(e,t){try{var i;if(!(i=!p(e)||"fluid"==e)){var r;if(!(r=p(t))){var a;if(!n.isArray(t)||n.isArray(t)&&d(t,"fluid"))a=!1;else e:{for(var s=t.length,c=n.isStr(t)?t.split(""):t,l=0;l<s;l++)if(l in c&&!p.call(void 0,c[l])){a=!1;break e}a=!0}r=a}i=!r}return i?(this.m=!0,this):(this.j.push([e,t]),this)}catch(u){o.error(u)}},g.prototype.build=function(){try{return u(this.j),this.j}catch(e){o.error(e)}};var f=function(e,t){this.height=t,this.width=e},h=f.prototype;h.clone=function(){return new f(this.width,this.height)},h.wa=function(){return this.width*this.height},h.isEmpty=function(){return!this.wa()},h.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},h.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},h.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var b=function(e,t){this.vec=e,this.sizes=t};b.prototype.clone=function(){return new b(this.vec,this.sizes)};var m=function(e){return e},_=function(e){if(!n.isArray(e)||2!=e.length)throw Error("Each mapping entry has to be an array of size 2");var t;if(t=e[0],!p(t)||"fluid"==t)throw Error("Size has to be an array of two non-negative integers");t=new f(t[0],t[1]);var i;if(n.isArray(e[1])&&0==e[1].length)i=[];else{if(i=m(e[1]),n.isArray(e[1])&&1<e[1].length&&d(e[1],"fluid"))throw Error("Fluid sizing cannot be applied to multisize slots");if(0==i.length)throw Error("At least one slot size must be present")}return new b(t,i)},y=function(e,t,i){for(var r=e.length,o=Array(r),a=n.isStr(e)?e.split(""):e,d=0;d<r;d++)d in a&&(o[d]=t.call(i,a[d],d,e));return o},v=function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return new f(e,t)},w=function(e){var t=v();for(var i in e){var n=e[i],r=n.vec;if(o.info(t,r,r.height<=t.height,r.width<=t.width),r.height<=t.height&&r.width<=t.width)return n.sizes}},B={sizeMapping:function(){return new g},defineSizeMapping:function(e,t){var i,r=t;try{if(!n.isArray(e))throw Error("Size mapping has to be an array");var a=y(e,_);i=w(a)}catch(d){o.error(d)}return i||r},getBoundingBox:v()};e.exports=B}]);