        try {
window.advBidxc = window.advBidxc || {};
window.advBidxc.isLoaded = true;
var configSettings = {"defaultBidderSetting":{"cid":"8CUF1VN4G","pid":"8POOUZP8I","hdhome":"","isAmp":false,"bjson":1},"hbInfo":{"timeout":300,"frlen":1,"ovGptFun":true,"version":"3.3"},"cbInfo":{"prefTime":1000},"linfo":{"ld":"aplog, gptlog, explog, slotLog, prflog, cslog, amzlog, errorBidLog, adlog, awlog,prlog,gptrlog","slogFreq":10,"noCode":true,"prBc":35},"bidder":[{"code":"div_gpt_mpu","mnet_id":"573636868","sizes":[[300,250]],"bids":[{"bidder":"testbidder","test":1,"params":{"cid":"8CUF1VN4G","pid":"8POOUZP8I","hdhome":"","isAmp":false,"bjson":1,"size":"300x250","cpm":"15.00","code":"div_gpt_mpu","sizes":[[300,250]],"mnet_id":"573636868"}}],"timeout":0}],"log":{"providerRequestPath":"http:\/\/qsearch.media.net\/log?logid=prlog","auctionParticipantPath":"http:\/\/qsearch.media.net\/log?logid=aplog","auctionDecisionPath":"http:\/\/qsearch.media.net\/log?logid=adlog","providerFetchRequestPath":"http:\/\/qsearch.media.net\/log?logid=prflog","auctionWinnerPath":"http:\/\/qsearch.media.net\/log?logid=awlog","gptRequestPath":"http:\/\/qsearch.media.net\/log?logid=gptrlog","casaleDebugUrl":"http:\/\/qsearch.media.net\/log?logid=kfk&evtid=cslog","amazonDebugUrl":"http:\/\/qsearch.media.net\/log?logid=kfk&evtid=amzlog","gptSlotPath":"http:\/\/qsearch.media.net\/log?logid=kfk&evtid=gptslog","errorLogUrl":"http:\/\/qsearch.media.net\/log?logid=kfk&evtid=errorBidLog","tpUrl":"http:\/\/qsearch.media.net\/log?logid=kfk&evtid=rtbstl","casaleLoggingPixel":"http:\/\/as.casalemedia.com\/headerstats","slotLoggingPixel":"http:\/\/qsearch.media.net\/log?logid=kfk&evtid=slotlog","expiredBidsPath":"http:\/\/qsearch.media.net\/log?logid=kfk&evtid=explog"},"hmInfo":{"masterScriptSrc":"http:\/\/contextual.media.net\/hmmaster.js?v=7"},"_mNVsid":"1292579907171962000V10","_dataCk":"||||||||","_apnCk":"0","viewid":"1486273260","_mNVisitIdData":"142.244.63.135","_ip2c":"CA"};
var _mNRequire,_mNDefine;!function(){"use strict";function n(n){return"[object Array]"===Object.prototype.toString.call(n)}function e(n){return void 0!==n&&""!==n&&null!==n}function t(n){return"function"==typeof n}function r(r,i,o){return t(i)&&(o=i,i=[]),e(r)&&n(i)&&t(o)?void(u[r]={deps:i,callback:o}):!1}function i(n,e){var r,c=[];for(var f in n)if(n.hasOwnProperty(f)){if(r=n[f],"object"==typeof r||"undefined"==typeof r){c.push(r);continue}void 0!==o[r]?c.push(o[r]):(o[r]=i(u[r].deps,u[r].callback),c.push(o[r]))}return t(e)?e.apply(this,c):c}var o={},u={};_mNRequire=i,_mNDefine=r}();_mNDefine("_mNRP",[window,document,{}],function(e,t){"use strict";function r(t,r,n){return n=n||e,function(){arguments.length>0&&Array.prototype.push.apply(r,Array.prototype.slice.call(arguments)),t.apply(n,r)}}var n={},o="";if("function"!=typeof n.pushError){var i;for(n.noOfLogLevels=3,n.useragent=encodeURIComponent(navigator.userAgent),n.errQ=[],i=0;i<n.noOfLogLevels;i++)n.errQ[i]=[];n.setType=function(e){o=e},n.pushError=function(e){"undefined"==typeof e.logLevel&&(e={logLevel:3,errorVal:e}),e.logLevel>=3&&n.errQ[e.logLevel-1].push(e)},n.printErrors=function(){var r,i=0;for(r=0;r<n.noOfLogLevels;r++)i+=n.errQ[r].length;if(0!==i){var s,a,l,c,f=new Image,u="https:"===t.location.protocol?"https://qsearch-a.akamaihd.net/nerrping.php":"http://qsearch.media.net/nerrping.php",p="",g=0;for(r=n.noOfLogLevels-1;r>=0;r--){for(i=n.errQ[r].length,s=0;i>s;){if(c=1===r?n.errQ[r][s]:{logLevel:n.errQ[r][s].logLevel,errorVal:{name:n.errQ[r][s].errorVal.name,type:o,message:n.errQ[r][s].errorVal.message,line:n.errQ[r][s].errorVal.lineNumber,description:n.errQ[r][s].errorVal.description,stack:n.errQ[r][s].errorVal.stack}},l=n.stringify(c),!(l.length+p.length<=1200)&&p.length){g=1;break}0!==p.length&&(p+=","),p+=l,n.errQ[r].shift(),i--}if(g)break}p=encodeURIComponent("["+p+"]"),a=u+"?d="+p+"&userAgent="+n.useragent+"&requrl="+encodeURIComponent(e.location.href)+"&img=logo.gif",f.src=a}},n.tostring=function(e){return null===e?"null":e.toString()},n.quote=function(e){var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t.lastIndex=0,t.test(e)?'"'+e.replace(t,function(e){var t=r[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'},n.stringify=function(e){return"object"==typeof JSON&&"undefined"!=typeof JSON.stringify?JSON.stringify(e):n.altStringify(e)},n.altStringify=function(e){var t,r,o=typeof e,i=e&&e.constructor===Array,s=[];switch(o){case"string":return n.quote(e);case"number":return isFinite(e)?n.tostring(e):"null";case"boolean":case"null":return n.tostring(e);case"object":for(t in e)"undefined"!=typeof e[t]&&(r=e[t],"string"==typeof r?r=n.quote(r):"object"==typeof r&&null!==r&&(r=n.altStringify(r)),s.push((i?"":'"'+t+'":')+n.tostring(r)));return(i?"[":"{")+n.tostring(s)+(i?"]":"}")}},n.errorObject=function(e,t,r){this.name=e,this.message=t,this.logLevel=r},n.execSafe=function(){var e,t,r=Array.prototype.slice.call(arguments),o=[],i=r.length,s=null,a=null;"object"==typeof r[i-1]&&r[i-1].constructor===n.errorObject&&(e=r[i-1],i--),"function"==typeof r[0]?(t=r.shift(),i--):(s=r.shift(),t=r.shift(),i-=2),o=r.slice(0,i);try{return t.apply(s,o)}catch(l){return e&&(l.name=e.name+" ("+l.name+")",l.message=e.message+" ("+l.message+")",a=e.logLevel),n.pushError({logLevel:a||3,errorVal:l}),new n.errorObject}},n.execSafeHandler=function(){var t,r,o=Array.prototype.slice.call(arguments),i=e,s=o.length-1,a=null;"object"==typeof o[s]&&o[s].constructor===n.errorObject&&(t=o[s]),"function"==typeof o[0]?r=o.shift():(i=o.shift(),r=o.shift());try{return r.apply(i)}catch(l){t&&(l.name=t.name+" ("+l.name+")",l.message=t.message+" ("+l.message+")",a=t.logLevel),n.pushError({logLevel:a||3,errorVal:l})}},n.setInterval=function(){var e,t=Array.prototype.slice.call(arguments);e=4===t.length?n.execSafeHandler(t[0],t[1],t[3]):n.execSafeHandler(t[0],t[1]),e!==!1&&setTimeout(r(n.setInterval,t),t[2])},n.setTimeout=function(){var t,r=Array.prototype.slice.call(arguments);t=4===r.length?function(){n.execSafeHandler(r[0],r[1],r[3])}:function(){n.execSafeHandler(r[0],r[1])},e.setTimeout(t,r[2])},n.eventObject=function(){var e=Array.prototype.slice.call(arguments);this.elem=e[0],this.type=e[1],this.listener=4===e.length?function(){n.execSafe(e[0],e[2],e[3])}:function(){n.execSafe(e[0],e[2])}},n.eventObject.prototype.addEvent=function(){var e=function(){this.elem.addEventListener?this.elem.addEventListener(this.type,this.listener,!1):this.elem.attachEvent&&this.elem.attachEvent("on"+this.type,this.listener)};n.execSafe(this,e)},n.eventObject.prototype.removeEvent=function(){var e=function(){this.elem.removeEventListener?this.elem.removeEventListener(this.type,this.listener):this.elem.detachEvent&&this.elem.detachEvent("on"+this.type,this.listener)};n.execSafe(this,e)};var s=function(){n.setInterval(e,n.printErrors,2500)},a=new n.eventObject(e,"load",s);return a.addEvent(),{execSafe:n.execSafe,pushError:n.pushError,setType:n.setType}}});_mNDefine("util",["_mNRP",window,document,{}],function(e,t,n){"use strict";function r(){var e,t,n={},r=!1;this.start=function(){e=(new Date).getTime(),r=!0},this.stop=function(){t=(new Date).getTime(),r=!1},this.diff=function(){return(new Date).getTime()-e},this.tick=function(e){n[e]={},n[e].startTime=r?this.diff():-1},this.tock=function(e){n.hasOwnProperty(e)&&(n[e].endTime=-1===n[e].startTime?-1:this.diff())},this.time=function(e){return n.hasOwnProperty(e)?(n[e].endTime||this.tock(e),n[e].endTime-n[e].startTime):-1},this.getTime=function(e){return n.hasOwnProperty(e)?this.diff()-n[e].startTime:-1},this.getAllTime=function(){return n}}function o(e,t,n){var r="evt_"+(t||"gbl");Ie[r]=Ie[r]||{},Ie[r][e]=Ie[r][e]||[],Ie[r][e].push(n)}function i(e,t){var n="evt_"+(t||"gbl");Ie[n]&&Ie[n][e]&&Ie[n][e].length>0&&(Ie[n][e]=[])}function a(){for(var e in Ie)Ie.hasOwnProperty(e)&&-1!==e.indexOf("evt_")&&-1===e.indexOf("command")&&(Ie[e]={})}function u(t,n,r,o){o=o||("object"==typeof r?r:{}),r="boolean"==typeof r?r:!1;var i="evt_"+(n||"gbl");if(void 0!==Ie[i]){var a,u,c=Ie[i][t]||[],s={src:n};for(Ie.evt_gbl&&Ie.evt_gbl.gblEvt&&e.execSafe(Ie.evt_gbl.gblEvt[0],s,o),u=0,a=c.length;a>u;u++)m(c[u])&&e.execSafe(c[u],s,o);!r&&c.length>0&&(Ie[i][t]=[])}}function c(e,t,n,r){u("before:"+e,t,n),u(e,t,n,r),u("after:"+e,t,n)}function s(e,t){return h(e)?h(t)&&-1!==e.indexOf(t):!1}function l(e,t){return v(e)?de(e,function(e){return e===t?!0:void 0})||!1:!1}function f(e,t,n){var r=!1;v(e)&&p(t)&&p(n)&&(le(e,function(o,i,a){new RegExp(t).test(o)===!0&&(r=!0,e[i]=n)}),r===!1&&e.push(n))}function d(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function p(e){switch(typeof e){case"string":return void 0!==e&&""!==e&&null!==e;case"object":return null!==e;case"number":case"boolean":return!0;default:return!1}}function h(e){return p(e)}function m(e){return"function"==typeof e}function v(e){return"[object Array]"===Object.prototype.toString.call(e)}function g(e){return b(e)!==e}function y(e){return h(e)?encodeURIComponent(e):""}function b(e){if(!h(e))return"";try{return decodeURIComponent(e)}catch(t){return e}}function w(e){return h(e)?-1!==e.search("^(http(s)?%253A%252F%252F)")?b(e):-1!==e.search("^(http(s)?://)")?y(e):e:""}function E(e){if(!h(e))return{};var t,n,r,o,i={};if(t=e.indexOf("?"),-1===t)return i;for(n=e.substring(t+1).split("&"),r=n.length;r--;)o=n[r].split("="),i[o[0]]=o[1];return i}function S(e){this.url=e,this.map=E(this.url)}function O(){var e=!1;try{"object"==typeof t.top&&"object"==typeof t&&(e=t.top!=t)}catch(n){e=!0}return e}function x(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function I(e,t,n){return n=n||null,t=t||[],function(){var r=t.slice(0);arguments.length>0&&Array.prototype.push.apply(r,Array.prototype.slice.call(arguments)),e.apply(n,r)}}function C(){return p(t.location.href)?t.location.href:""}function T(e){e=b(e);var t=new RegExp("^http(?:s)?://([^/]+)","im"),n=e.match(t);return n?n[1].toString():""}function N(e){try{var t=e.contentWindow||e.contentDocument,n=t&&(t.document||t)||!1;return[n,t,null]}catch(r){return[!1,null,"Access Denied"]}}function P(e){var t;if(e=e.match(/^([1-9]\d*|0[0-7]*|0x[\da-f]+)(?:\.([1-9]\d*|0[0-7]*|0x[\da-f]+))?(?:\.([1-9]\d*|0[0-7]*|0x[\da-f]+))?(?:\.([1-9]\d*|0[0-7]*|0x[\da-f]+))?$/i),!e)return!1;for(e[0]=0,t=1;5>t;t+=1)e[0]+=!!(e[t]||"").length,e[t]=parseInt(e[t],10)||0;return e.push(256,256,256,256),e[4+e[0]]*=Math.pow(256,4-e[0]),e[1]>=e[5]||e[2]>=e[6]||e[3]>=e[7]||e[4]>=e[8]?!1:e[1]*(1===e[0]||16777216)+e[2]*(e[0]<=2||65536)+e[3]*(e[0]<=3||256)+1*e[4]}function B(){return""+x(0,254)+"."+x(0,254)+"."+x(0,254)+"."+x(0,254)}function D(e){v(e)||(e=[e]);var n=t._mNRequire(["entitymanager"])[0];n&&m(n.isAmpRequest)&&n.isAmpRequest()?L(e):k(e)}function R(e,t,n,r,o){var i;if(n=n||Y("@body:0"),!n)return K("@body:0",100,I(R,[e,t,null,r,o]),!1),null;if(i=(new G).set("marginWidth",0).set("marginHeight",0).set("scrolling","no").set("frameBorder",0).set("height",0).set("width",0).set("id",e).overrideStyle("display:none !important;").done(),r)for(var a in r)i[a]=r[a];return n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),t&&_(i,t),m(o)&&(i.onload=o),i}function M(e,t){return e.length>t?e.substr(0,t):e}function j(e){var t=e.contentWindow||e.contentDocument;t.logBeacons()}function L(e){le(e,function(e){e=M(e,8e3),(new Image).src=e})}function k(e){void 0===Ie.beaconsQueue&&(Ie.beaconsQueue=[]);var t="_advBidxc_beacons",n=Y(t),r='<!DOCTYPE html><html><head><script type="text/javascript">function logBeacons(){if(window.parent&&window.parent._mNRequire){window.parent._mNRequire(["util"],function(util){var beaconsQueue=util.getBeaconUrlList();if(beaconsQueue.length>0){var i,j;for(i=0,j=beaconsQueue.length;i<j;i++){(new Image()).src=beaconsQueue.shift();}}});}};<\/script></head><body></body></html>',o=0===Ie.beaconsQueue.length&&null===n;if(v(e)){var i,a;for(i=0,a=e.length;a>i;i++)Ie.beaconsQueue.push(M(e[i],8e3))}else h(e)&&Ie.beaconsQueue.push(M(e,8e3));if(o){var u=R(t,r);K(t,100,I(j,[u]),!0)}else if(null!==n){var c=n.contentWindow||n.contentDocument;try{Pe.getInstance().onDOMLoad(c.logBeacons)}catch(s){}}}function A(){return void 0===Ie.beaconsQueue&&(Ie.beaconsQueue=[]),Ie.beaconsQueue}function _(t,r){if(t){var o,i=N(t);try{if(null!==i[2])throw i[2];o=i[0],o&&(o.open(),o.write(r),o.close())}catch(a){var u="javascript:var d=document.open();d.domain='"+n.domain+"';";t.src=u+"void(0);";try{var c=t.contentWindow.document;c.write(r),c.close()}catch(s){t.src=u+'d.write("'+r.replace(/"/g,'\\"')+'");d.close();',e.pushError(s)}}}}function Q(e,t){return h(e)?"&"+e+"="+t:""}function q(e){if(m(Object.keys))return Object.keys(e);var t=[];return le(e,function(e,n){t.push(n)}),t}function F(e,t){function n(e){return"object"!=typeof e||e.isUrlEntity!==!1}var r,o,i="",a=!!t,u=a?t:e;for(r in u)if(u.hasOwnProperty(r)&&(a&&(r=t[r]),h(e[r])&&n(e[r]))){if(v(e[r])){for(var c in e[r])i+=Q(r+"[]",e[r][c]);continue}o="object"==typeof e[r]?e[r].value:e[r],i+=Q(r,o)}return i}function U(e,t){t=60*t*1e3;var n=be();return n-e>t?!1:!0}function W(){return/msie|rv:11\.0/.test(Ce.toLowerCase())}function V(e){var t="";return le(e,function(e,n){t+=Q(n+"[]",e)}),t}function J(e,t){var n,r,o,i,a=[],u=[],c=e.length;if(0===c)return[""];for(n in e[0])e[0].hasOwnProperty(n)&&a.push(n);var s="",l=W();for(n=0,r=e.length;r>n;n++){var f="";for(o=0,i=a.length;i>o;o++)f+=Q(a[o]+"[]",e[n][a[o]]);l&&p(t)?f.length>t?u.push(f):(s+f).length>t?(u.push(s),s=f):s+=f:s+=f}return u.push(s),u}function H(e){switch(typeof e){case"string":return h(e)&&("1"===e||"true"===e);case"number":return 0!==e;case"boolean":return e;default:return!1}}function X(e,t){return void 0===e||void 0===t||void 0===e[t]?void 0:e[t]}function $(e,r){if(/complete|loaded/.test(n.readyState))return void e();if(r||Ne.addEvent(t,"load",e),!r&&n.addEventListener)return void Ne.addEvent(n,"DOMContentLoaded",e);var o=n.documentElement;if(o&&o.doScroll)try{o.doScroll("left"),e()}catch(i){setTimeout(I($,[e,!0]),50)}}function G(e){return e?void(this.frame=e.document.createElement("iframe")):void(this.frame=n.createElement("iframe"))}function Y(e){try{var t,r=e.charAt(0),o=e.substr(1).split(":"),i=o[0],a=h(o[1])&&parseInt(o[1],10);switch(r){case"@":t=n.getElementsByTagName(i);break;case"#":t=n.getElementById(i);break;case"$":t=n.getElementsByName(i);break;case".":t=Z(n,i);break;default:t=n.getElementById(e)}return a===!1?t:t[a]}catch(u){return null}}function K(e,t,n,r){try{var o=Y(e),i=Pe.getInstance().hasDOMLoaded();if(o||!r&&i)return void n.call(null,o||!1);setTimeout(I(K,[e,t,n,r]),t)}catch(a){setTimeout(I(K,[e,t,n,r]),t)}}function Z(e,t,r){if(m(n.getElementsByClassName))return e.getElementsByClassName(t);r=r||"*";var o,i,a=new RegExp("(^|\\s)"+t+"(\\s|$)"),u=e||n,c="*"===r&&u.all?u.all:u.getElementsByTagName(r),s=[],l=c.length;for(i=0;l>i;i++)o=c[i],a.test(o.className)&&s.push(o);return s}function z(){return h(Ce)&&/ip(hone|od|ad)|android|blackberry|kindle|symbian|wap|windows (ce|phone)|palm( os)|iemobile|nokia|mobile/i.test(Ce)}function ee(){var e;return!s(Ce,"Gecko")||s(Ce,"Trident")||s(Ce,"MSIE")?s(Ce,"webkit")?!0:(s(Ce,"Trident")||s(Ce,"MSIE"))&&(e=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ce),p(e)&&parseFloat(e[1])>=11)?!0:!1:!0}function te(){var e;return(s(Ce,"Trident")||s(Ce,"MSIE"))&&(e=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ce),p(e)&&p(e[1]))?parseFloat(e[1]):-1}function ne(t,r,o,i){if(h(t)){if("http"!==t.substr(0,4)&&o===!0){var a="https:"===n.location.protocol;t=(a?"https:":"http:")+t}var u=n.createElement("script"),c=n.getElementsByTagName("script")[0],s=!1;u.type="text/javascript",u.async=!0,i&&i.crossOrigin&&(u.crossOrigin="anonymous"),r&&"function"==typeof r&&(u.onload=u.onreadystatechange=function(){s||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(s=!0,e.execSafe(r))}),u.src=t,c.parentNode.insertBefore(u,c)}}function re(e){if(h(e)){var t=n.createElement("script"),r=n.getElementsByTagName("script")[0];t.type="text/javascript",t.appendChild(n.createTextNode(e)),r.parentNode.insertBefore(t,r)}}function oe(){try{return/loaded|complete/.test(n.readyState)}catch(e){return!1}}function ie(e,t,r){var i;if(h(e)){if("http"!==e.substr(0,4)){var a="https:"===n.location.protocol;e=(a?"https:":"http:")+e}i="_mN_advBid_"+r,o("prvReq",r,t);var u='<!DOCTYPE html><html><head><script type="text/javascript">function makeCall(){var scriptElement = document.createElement(\'script\'), tag = document.getElementsByTagName("script")[0], status = false; scriptElement.type = \'text/javascript\'; scriptElement.async = true; scriptElement.onload = scriptElement.onreadystatechange = function () { if (!status && (!this.readyState || this.readyState === "loaded" || this.readyState === "complete")) { status = true; window.parent._mNRequire([\'util\'], function(util){util.triggerEvent("prvReq", "'+r+'", false, window);});}};scriptElement.src = "'+e+'"; tag.parentNode.insertBefore(scriptElement, tag);}<\/script></head><body onload="makeCall()"></body></html>',c=R(i,u);return N(c)[1]}}function ae(e){var t=e.toString(),n=t.indexOf(".");return-1!==n?parseFloat(t.substr(0,Math.min(n+3,t.length))).toFixed(2):parseFloat(e).toFixed(2)}function ue(){Te&&t.console&&t.console.log(Array.prototype.slice.call(arguments))}function ce(e,t){e.super_=t;for(var n in t.prototype)e.prototype[n]=t.prototype[n];e.prototype.constructor=e}function se(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function le(e,t){if(p(e)){var n=0,r=e.length;if(v(e))for(;r>n;n++)t.call(e[n],e[n],n,r);else for(n in e)e.hasOwnProperty(n)&&t.call(e[n],e[n],n,0)}}function fe(e,t){if(!p(e))return[];var n;m(t)||(t=function(e,t){return!!e});var r=0,o=e.length;if(v(e))for(n=[];o>r;r++)t.call(e[r],e[r],r)&&n.push(e[r]);else{n={};for(r in e)e.hasOwnProperty(r)&&t.call(e[r],e[r],r)&&(n[r]=e[r])}return n}function de(e,t){if(p(e)){m(t)||(t=function(e,t){return!!e});var n,r=0,o=e.length;if(v(e)){for(;o>r;r++)if(n=t.call(e[r],e[r],r),p(n))return n}else for(r in e)if(e.hasOwnProperty(r)&&(n=t.call(e[r],e[r],r),p(n)))return n}}function pe(e,t){if(!p(e))return[];var n;m(t)||(t=function(e,t){return!!e});var r=0,o=e.length;if(v(e))for(n=[];o>r;r++)n.push(t.call(e[r],e[r],r));else{n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=t.call(e[r],e[r],r))}return n}function he(e,t,n){if(m(t)){var r,o,i;if(v(e)){if(o=0,i=e.length,"undefined"!=typeof n)r=n;else{for(;i>o&&!(o in e);)o++;if(o>=i)return;r=e[o++]}for(;i>o;o++)o in e&&(r=t(r,e[o],o,e));return r}n=n||"",r=n;for(o in e)e.hasOwnProperty(o)&&(r=t(r,e[o],o,e));return r}}function me(e){return"CSS1Compat"==e.compatMode?e.documentElement:e.body}function ve(e){var t,r,o=e.document,i=void 0,a=void 0,u="_mNTemp";try{t=me(o),t||(o.write('<div id="'+u+'" style="display:none;"></div>'),t=me(e.document),r=n.getElementById(u),r.parentNode.removeChild(r)),t&&(i=t.clientWidth||void 0,a=t.clientHeight||void 0)}catch(c){}return{width:i,height:a}}function ge(e,t){e=e||20,t=t||"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var n="",r=e;r>0;--r)n+=t[Math.round(Math.random()*(t.length-1))];return n}function ye(){return!!(t.JSON&&t.JSON.parse&&"function"==typeof JSON.parse&&t.JSON.stringify&&"function"==typeof JSON.stringify)}function be(){return(new Date).getTime()}function we(e,t){if("object"!=typeof e||"string"!=typeof t)return!1;if("string"==typeof e.className){var n=new RegExp("(^|\\s)"+t+"(\\s|$)");return n.test(e.className)}}function Ee(e,t){if(e.style[t])return e.style[t];if(e.currentStyle)return e.currentStyle[t];if(n.defaultView&&n.defaultView.getComputedStyle){t=t.replace(/([A-Z])/g,"-$1"),t=t.toLowerCase();var r=n.defaultView.getComputedStyle(e,"");return r&&r.getPropertyValue(t)}return null}function Se(e,t){if(!p(e)&&p(t))return null;var n=new RegExp("[?&]"+t+"=([^&#]*)","i"),r=n.exec(e);return r?r[1]:null}function Oe(n,r,o,i){if(!t.XMLHttpRequest)return null;var a=new XMLHttpRequest,u=!1,c=function(){},s=function(){var e=o.onload||c;e(a.response||a.responseText)},l=function(){var e=o.onerror||c;e()};if("withCredentials"in a)a.open(n,r,!0),a.withCredentials=!0;else{if(!t.XDomainRequest)return null;a=new XDomainRequest;try{a.open(n,r)}catch(f){return null}}return a.onload=a.onreadystatechange=function(){u||4==a.readyState&&(200==a.status?e.execSafe(s):l(),u=!0)},a.onerror=l,a.onabort=l,a.send(i),!0}function xe(e){var t;try{e&&e.data&&"string"==typeof e.data&&ye()&&(t=JSON.parse(e.data))}catch(n){}return t}var Ie={},Ce=navigator.userAgent,Te=-1!==t.location.href.indexOf("mnet_test="),Ne={addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),e=null},removeEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on"+t,n),e=null}};S.prototype.getParam=function(e){return this.map[e]||""},S.prototype.getDecodedParam=function(e){var t=this.map[e];return t&&b(t)||""};var Pe=function(){function e(){function e(){var e;for(r=!0;t.length>0;)e=t.shift(),e.call(null);t=[]}var t=[];this.onDOMLoad=function(n){return t.push(n),1!==t.length||r?void(r&&e()):void $(e)},this.hasDOMLoaded=function(){return r},this.isDOMInteractive=function(){return r||/interactive/.test(n.readyState)}}var t=null,r=!1;return{getInstance:function(){return null===t&&(t=new e),t}}}();return G.prototype.set=function(e,t){return this.frame[e]=t,this},G.prototype.setStyle=function(e){var t;for(t in e)e.hasOwnProperty(t)&&(this.frame.style[t]=e[t]);return this},G.prototype.overrideStyle=function(e){return this.frame.style.cssText=e,this},G.prototype.done=function(){return this.frame},{encodeParam:y,decodeParam:b,isEncoded:g,generateRandomString:ge,getQueryStringParameterValue:Se,getHostname:T,getPublisherUrl:C,isStringSet:h,inIframe:O(),isInIFrameCall:O,getRandom:x,getParamValueFromUrlAsArray:E,GetParamValueFromUrl:S,checkUrlDecodingEncoding:w,eventLib:Ne,isFunction:m,isArray:v,ua:t.navigator.userAgent.toLowerCase(),isDocumentWritable:ee(),buildUrlParameters:F,getQueryParamString:Q,logBeacons:D,getBeaconUrlList:A,isOptionSet:H,checkItemExistsInArray:l,getIframeDoc:N,getProxy:I,CreateFrame:G,callWhenAvailable:K,getChildElemByClass:Z,ip2long:P,checkItemExists:s,queryDOM:Y,writeContentInIframe:_,safeReturn:X,DOMLoadObserver:Pe,isMobile:z,createNonBlockingFrame:R,loadScript:ne,insertScript:re,loadScriptInIframe:ie,triggerEvent:u,triggerEventWithBeforeAfter:c,addToEventQueue:o,insertOrReplaceIntoArray:f,decimalLimit:ae,consoleLog:ue,getRandomIp:B,buildUrlCollectionParams:J,buildCollectionUrlItem:V,inherits:ce,isTimestampValid:U,clock:new r,extend:se,hasWindowLoaded:oe,detachEvents:i,resetEvents:a,isSet:p,isEmptyObject:d,map:pe,reduce:he,filter:fe,any:de,each:le,fromIE:W,getWindowDimension:ve,isJSONSupported:ye,getCurrentTime:be,getObjectKeys:q,nodeHasClass:we,getElementStyle:Ee,createCORSRequest:Oe,getIEVersion:te,getPostmessageData:xe}});_mNDefine("uadetector",[],function(){"use strict";function e(){return g.detectDeviceType().getId()}function t(){return g.detectDeviceType().getName()}var d=function(e,t,d){this.id=e,this.name=t,this.regexp=d};d.prototype.getName=function(){return this.name},d.prototype.getId=function(){return this.id},d.prototype.getRegexp=function(){return this.regexp};var s="spreadtrum[ ;]|oppo( |)[a-z][\\d]|neozenrevo|trend\\smicro\\swtp|dorado\\swap-browser|huawei(\\shg520v|(/|_|)[a-z][\\d][\\d][\\d][\\d])|(alcatel[-_](ot-|ot|one_touch_|)[\\d][\\d][\\d])|deweb60|gionee|(gt-[a-z][\\d][\\d][\\d][\\d])|(huawei-u[\\d][\\d][\\d][\\d])|(htc_touch|htc_smart|htc[_-][a-z]+[\\d][\\d][\\d][\\d])|(karbonn\\swap-browser\\sk[\\d][\\d]|karbonn(/|[ _|]k[\\d][\\d]))|(kddi-[a-z][a-z][\\d][a-z0-9])|kkt50|lava.discover|lava.kkt|lava.spar|(lemon[ _]((s|t|gc)[\\d][\\d][\\d]|duo))|(samsung-([a-z]|sgh-[a-z])([\\d]|v)[\\d][\\d])|(lg[-/]([a-z]+|)[\\d][\\d][\\d](([a-z]|)/v|[ -]))|(micromax([ |]|)[a-z]+[\\d][\\d])|(mot-ex[\\d]|mot-v[\\d]|mot-razrv3|mot-l9/)|(nexian( |)nx(-|)[a-z][\\d])|pantechp|s8500|(sagetel[\\d]+([a-z]|)_)|softbank/|sonyd2105|(spice\\s(m([ -]|)([\\d]|i-)[\\d]|qt(-|))[\\d][\\d])|tianyu-ktouch|zen\\sp8|(zte[ -/][a-z](|[- ][a-z])[\\d][\\d][\\d])|videocon-A45",o="200pleasebot|alexabot|adsbot-google|appengine-google;|ask\\sjeeves/teoma|baiduspider|bingbot|caliperbot/|ccbot/[\\d]|commons-httpclient|crawler|facebookexternalhit|linkedinbot/|twitterbot/|google[.]com/[+]/web/snippet|feedfetcher-google|googlebot|ia_archiver|kishimobot|luasocket|magpierss|moodlebot|msnbot|nuhk|openbot|pingdom[.]com_bot_version|simplepie|site\\sscanner\\sbot|slurp|smtbot/[\\d]|spbot/[\\d]|spinn3r|startmebot/|statdom[.]ru/bot|uptimerobot|web\\sspider|spider/|webspider|wget/|yammybot|yodaobot|yandexmetrika/|yandexbot|yacybot|google-http-java-client/|musobot/|yabrowser/",i=new d(0,"UNKNOWN_DEVICE",new RegExp("")),a=new d(1,"SMART_TV",new RegExp("smart-tv|smarttv|googletv|appletv|hbbtv|pov_tv|netcast.tv?|espial/[\\d]+|hbbtv/|tv\\store|sonydtv|pov_tv-hdmi|nettv/|kylo/|viera;|vap430")),n=new d(2,"TABLET",new RegExp("hudl ht7s3 build|kindle( |/)|ipad|tablet|playbook|smart\\stab|gt-n8000|gt-n8013|gt-p[\\d][\\d][\\d][\\d]|me371mg|nexus\\s(7|8|9|[\\d][\\d])\\sbuild/|sm-t[\\d][\\d][\\d]|\\ssgp[\\d][\\d][\\d] build/|touchpad build|venue7\\s[\\d][\\d][\\d][\\d]\\s|gt-n5100 build|lenovoa3300[-]hv|kfjwi\\sbuild/|shw-m\\d\\d\\d[a-z]\\sbuild/|smarttab10-|sony\\stablet\\s(s|p)\\s|huawei\\smediapad\\sbuild|thinkpad\\stablet\\s|vodafone\\ssmarttab|(kfapwa|kfapwi|kfarwi|kfaswi|kfjwa|kfjwi|kfot|kfsawa|kfsawi|kfsowi|kfthwa|kfthwi|kftt)\\sbuild|ideatab\\s|mediapad\\s[\\d]+\\slite\\sbuild|mid\\d\\d\\d\\d\\sbuild/")),r=new d(3,"MOBILE",new RegExp("fennec/|mobile|phone|iphone|ipod|blackberry|playbook|bb10|android|palm|windows\\s+ce|s60;\\ssymbos|series\\s60|series40|samsung-gt-|sonyericsson|nokia|samsung\\sgt|nokia|maui\\sruntime|j2me/midp|brew|docomo/[\\d]+.[\\d]+|mi\\s3w\\smiui|maui\\swap\\sbrowser|(\\d|)\\d\\d\\d[*]\\d\\d\\d(\\d|)(|;)[)]|"+s)),p=new d(4,"DESKTOP",new RegExp("windows|win([\\d][\\d]|nt)(\\s|;|[)])|windows\\snt\\s\\d[.]\\d|cros;|cros\\s|linux|os\\s+[x9]|solaris|bsd|x11|mac_powerpc|macintosh|"+o)),b=new d(5,"GAME_CONSOLE",new RegExp("playstation\\s[\\d]|playstation\\sportable|nintendo")),c=function(e){this.deviceType=i,e&&(this.userAgent=e.toLowerCase(),this.deviceType=this.detectDeviceType(),this.deviceType.getId()===n.getId()&&this.userAgent.indexOf("tablet pc")>-1&&(this.deviceType=p),this.userAgent.indexOf("android")>-1&&this.userAgent.indexOf("mobile")>-1&&this.deviceType.getId()!==n.getId()&&(this.deviceType=r))};c.deviceListPriority=[a,n,r,p,b,i],c.prototype.detectDeviceType=function(){for(var e=c.deviceListPriority,t=0;t<e.length;t++)if(e[t].getRegexp().test(this.userAgent))return e[t];return i},c.prototype.getDeviceType=function(){return this.deviceType};var g=new c(navigator.userAgent);return{getClientDeviceId:e,getClientDeviceName:t}});_mNDefine("cookieutil",[document],function(e){"use strict";function i(i){var n=e.cookie.indexOf(i+"="),t=n+i.length+1;if(!n&&i!==e.cookie.substring(0,i.length))return null;if(-1===n)return null;var o=e.cookie.indexOf(";",t);return-1===o&&(o=e.cookie.length),unescape(e.cookie.substring(t,o))}function n(i,n,t,o,r,u,c){var s=new Date;s.setTime(s.getTime()),t&&(t=1e3*t*60*60*24),c&&(t=1e3*c*60);var a=new Date(s.getTime()+t);e.cookie=i+"="+escape(n)+(t?";expires="+a.toGMTString():"")+(o?";path="+o:"")+(r?";domain="+r:"")+(u?";secure":"")}return{getCookie:i,setCookie:n}});_mNDefine("entitymanager",["util","config","_mNRP","uadetector","cookieutil","bid"],function(e,t,n,r,i,o){"use strict";function u(){var n=e.getRandom(1e8,999999999),r=t.viewid||Math.round((new Date).getTime()/1e3),i=r.concat(n);return i}function d(){var n;if(!Le.VISITOR_ID)if(n=t._mNVsid,e.isStringSet(n)&&-1===n.indexOf("VID")&&n.length>10){var r=-1===n.indexOf("V")?3:6;Le.VISITOR_ID=n.substr(0,n.length-r)}else Le.VISITOR_ID="";return Le.VISITOR_ID}function a(){return t._mNVisitIdData}function s(){if(!Le.COUNTRY_CODE){var e=t._ip2c||"";Le.COUNTRY_CODE=e}return Le.COUNTRY_CODE}function f(){var n,r;return Le.VISIT_ID||(r=t._mNVisitIdData,e.isStringSet(r)||(r=e.getRandomIp()),n=(new Date).getTime(),Le.VISIT_ID=("000000"+n+("00"+e.ip2long(r)).slice(-11)+e.getRandom(1e3,9999)).slice(-32)),Le.VISIT_ID}function c(){return Le.VIEW_ID||(Le.VIEW_ID=u()),Le.VIEW_ID}function g(t,n){return Le.AUCTIONID=Le.AUCTIONID||{},Le.AUCTIONID[t]=Le.AUCTIONID[t]||{},Le.AUCTIONID[t][n]||(Le.AUCTIONID[t][n]=e.ip2long(e.getRandomIp())+""+e.getRandom(1e6,9999999)+(new Date).getTime().toString()),Le.AUCTIONID[t][n]}function I(t,n,r){var i=t+"-"+n+"-"+r;return Le.PROVIDER_REQUESTID=Le.PROVIDER_REQUESTID||{},Le.PROVIDER_REQUESTID[i]||(Le.PROVIDER_REQUESTID[i]=e.ip2long(e.getRandomIp())+""+e.getRandom(1e6,9999999)+(new Date).getTime().toString()),Le.PROVIDER_REQUESTID[i]}function S(n,r){return e.isSet(t.defaultBidderSetting[n])?t.defaultBidderSetting[n]:r}function l(e){return-1!==S("hbdl","").toLowerCase().indexOf(e.toLowerCase())}function E(e){return-1!==S("cbdl","").toLowerCase().indexOf(e.toLowerCase())}function D(){return"https"===Re()?!0:!1}function m(e){var n;for(n=0;n<t.bidder.length;n++)if(t.bidder[n].code===e)return t.bidder[n];return{}}function R(e){var n;for(n=0;n<t.bidder.length;n++)if(t.bidder[n].mnet_id===e)return t.bidder[n];return{}}function _(n){return e.any(t.bidder,function(e){return e.mnet_id===n?e.code:void 0})||""}function p(){return t.bidder||[]}function b(n,r){return e.isSet(t.hbaInfo)?t.hbaInfo[n]:r}function T(){return b("actTime",Ke)}function h(){return 1===b("bidReq","")}function v(){return b("mNCallback","")}function P(){return parseFloat(b("version",1))}function B(e){var t=R(e);return t.sizes[0].join("x")}function O(e){return ze.hasOwnProperty(e)&&1===ze[e]?"100":e.toString()}function C(t,n){if(e.isSet(qe[t]))return qe[t];if(e.isSet(n.mnAdx.revExp)){if(!(e.getRandom(1,100)<=n.mnAdx.revExp))return qe[t]=!1,!1;qe[t]=!0,e.consoleLog(t)}return M(t,"adx=1"),!0}function U(t,n){var r=m(t).mnAdx;return je[t]=je[t]||{},e.isSet(je[t][n])?je[t][n]:e.isSet(r.extProviderMap)&&e.isSet(r.extProviderMap[n])&&e.getRandom(1,100)<=r.extProviderMap[n]?(je[t][n]=!0,!0):(je[t][n]=!1,!1)}function x(e,t){return w(e)?U(e,t):!1}function A(e,t){return x(e,t)&&L(e)}function F(){var t=$(),n=["@","%40","%2540","phone","zip","email","mobile="];return e.any(n,function(e){return-1!==t.indexOf(e)})||!1}function w(e){var t=m(e);return!F()&&t.mnAdx&&C(e,t)?!0:!1}function H(t){var n=m(t);return e.isSet(n)&&e.isSet(n.art)?n.art:null}function V(t){e.isArray(t)&&t.length>0&&(Ge=t)}function N(){var t=[];return e.each(Ge,function(n){var r=m(n);e.isEmptyObject(r)||t.push(r)}),t}function L(e){return w(e)&&ye[e]!==!0?(ye[e]=!0,!0):!1}function M(e,t){We[e]=We[e]||"",-1===We[e].indexOf(t)&&(We[e]+=t+"|")}function y(e){return We[e]||""}function k(){return 3===de()||1==t.hbInfo.sandbox}function Y(){return"1"===S("hdhome","")}function q(){return S("prfDisHome",!1)}function W(){return e.isSet(t.hmInfo)&&e.isSet(t.hmInfo.enable)&&t.hmInfo.enable===!0?!0:!1}function G(n,r){var i,o=3;return e.isStringSet(r)&&t.prvTimeout[r]&&(o=t.prvTimeout[r]||o),e.isSet(n)?(i=60*o*1e3,e.getCurrentTime()-n>i):!0}function Q(){return e.isSet(t.cbInfo.prefWLoad)&&t.cbInfo.prefWLoad===!0}function j(n){return e.checkItemExists(t.cbInfo.disCk,n+",")}function z(){return Le.CID||(Le.CID=S("cid","")),Le.CID}function K(){return Le.HOSTNAME||(Le.HOSTNAME=e.getHostname($())),Le.HOSTNAME}function Z(){return Le.REFERRER||(Le.REFERRER=J(),e.isEncoded(Le.REFERRER)===!0&&(Le.REFERRER=e.decodeParam(Le.REFERRER)),$()===Le.REFERRER&&(Le.REFERRER="")),Le.REFERRER}function J(){var t,n=e.isStringSet(document.referrer)?document.referrer:"",r=e.inIframe;if(!r)return n;try{return t=window.parent.document.referrer,e.isStringSet(t)?t:""}catch(i){}}function X(){var e=$();return e.split("?")[0]}function $(){return Le.PUBLISHER||(Le.PUBLISHER=ue(oe())),Le.PUBLISHER}function ee(){return Le.PUBLISHER_FD||(Le.PUBLISHER_FD=$(),e.isSet(t.hbInfo.fd)&&(Le.PUBLISHER_FD=Re()+"://"+t.hbInfo.fd)),Le.PUBLISHER_FD}function te(){var e="";return e=ve()?window.context&&window.context.location&&window.context.location.href:$(),-1!==e.indexOf("force_hbtest=1")||-1!==e.indexOf("force_inimagetest=1")}function ne(){return-1!==$().indexOf("force_atest=1")}function re(){return-1!==$().indexOf("force_oxtest=1")}function ie(){return-1!==$().indexOf("force_fbtest=1")}function oe(){var e="";if(window.advBidxc_requrl)e=window.advBidxc_requrl;else{e=window.location.href;try{window.top.location.href&&(e=window.top.location.href)}catch(t){}}return e}function ue(t){if(!e.isStringSet(t))return"";var n,r=/fb_|utm_|bcmt|action_object_map|action_type_map|action_ref_map|action_action_map/;t=e.decodeParam(e.checkUrlDecodingEncoding(t)),n=t.indexOf("?");var i=t.indexOf("#");if(i>0&&(t=t.substring(0,i)),n>0&&r.test(t)){var o=t.substring(n+1).split("&"),u=-1,d=o.length;for(t=t.substring(0,n+1);++u<d;)""!==o[u]&&"action_object_map="!==o[u].substring(0,18)&&"action_type_map="!==o[u].substring(0,16)&&"action_ref_map="!==o[u].substring(0,15)&&"action_action_map="!==o[u].substring(0,18)&&"fb_"!==o[u].substring(0,3)&&"utm_"!==o[u].substring(0,4)&&"code="!==o[u].substring(0,5)&&"bcmt"!==o[u].substring(0,4)&&(t+="&"+o[u]);"?"===t.substr(-1,1)&&(t=t.substr(0,t.length-1))}if(-1!==t.indexOf("mnet_rand=r")){var a=(new Date).getTime();t=t.replace("mnet_rand=r","mnet_rand="+a)}return t}function de(){return Le.DEVICE_TYPE||(Le.DEVICE_TYPE=r.getClientDeviceId()),Le.DEVICE_TYPE}function ae(){var e=$().split("/");return e[0]+"//"+e[2]}function se(){var e=ee().split("/");return e[0]+"//"+e[2]}function fe(){return ce("customutil")}function ce(e){if(void 0!==Qe[e])return Qe[e];try{Qe[e]=window._mNRequire([e])[0]}catch(t){Qe[e]=null}return Qe[e]}function ge(t){var n=fe();return e.isSet(n)&&e.isFunction(n.getUrlForPrefetch)&&e.isSet(t)?n.getUrlForPrefetch(t):ae()}function Ie(n){return e.any(t.bidderExTargetParams,function(e){return n===e?!0:void 0})}function Se(t){var n=fe();return e.isSet(n)&&e.isFunction(n.getUrlForHeaderBidding)&&e.isSet(t)?n.getUrlForHeaderBidding(t):ae()}function le(){var t;return Le.SESSION_DEPTH||(t=i.getCookie(ke),Le.SESSION_DEPTH=e.isStringSet(t)&&parseInt(t.split("|")[0])||-1),Le.SESSION_DEPTH}function Ee(){var t,n,r,o;n=i.getCookie(ke),r=e.isStringSet(n)&&parseInt(n.split("|")[1]),e.isSet(r)&&e.isTimestampValid(r,Ye)?t=n.split("|")[0]:(t="0",r=e.getCurrentTime()),o=parseInt(t)+1,o=o+"|"+r,i.setCookie(ke,o,null,"/")}function De(){return e.getHostname($())}function me(t){return e.isStringSet(t)&&(Le.AB_TESTS=t.toString()),Le.AB_TESTS||""}function Re(){var e="https:"==document.location.protocol;return 1===S("isHttps",0)&&(e=!0),e?"https":"http"}function _e(){var e="https"==Re();return e?"https=1":""}function pe(){var e=de();return 2!==e&&3!==e||!t.hbInfo.mdeDp&&!t.hbInfo.mdegpt?t.hbInfo.deDp||t.hbInfo.degpt||0:t.hbInfo.mdeDp||t.hbInfo.mdegpt}function be(){return t.hbInfo.deRf}function Te(){return t.hbInfo.timeout||0}function he(t){return e.isSet(t)&&(Le.AD_BLOCK_DETECTED=t),Le.AD_BLOCK_DETECTED||0}function ve(){return t.defaultBidderSetting.isAmp?1:0}function Pe(){return e.isStringSet(t.hbInfo.version)?t.hbInfo.version:"1"}function Be(t,n){var r=/%%([A-Za-z_]+)%%/g;return t.replace(r,function(t,r){var i,o;return i=Me[r],i?(o=i(),n&&(o=e.encodeParam(o)),o):""})}function Oe(t,n){return e.isStringSet(t)?t=e.isArray(t)?e.map(t,function(e){return Oe(e,n)}):Be(t,n):void 0}function Ce(t,n,r){return Le.SUB_BIDDER_ID=Le.SUB_BIDDER_ID||{},Le.SUB_BIDDER_ID[t]=Le.SUB_BIDDER_ID[t]||{},e.isSet(r)&&(Le.SUB_BIDDER_ID[t][n]=r),Le.SUB_BIDDER_ID[t][n]||""}function Ue(t,n){var r=n&&n.placements;Le={},e.isArray(r)&&r.length>0&&e.each(r,function(e){ye[e]=!1,We[e]=""})}function xe(){return t.defaultBidderSetting.cid}function Ae(){return t.defaultBidderSetting.fp}function Fe(n){return e.isSet(t.defaultBidderSetting[n])?t.defaultBidderSetting[n].fp:void 0}function we(n){return e.isSet(t.defaultBidderSetting[n])?t.defaultBidderSetting[n].dsSh:void 0}function He(n){return e.isSet(t.defaultBidderSetting[n])?t.defaultBidderSetting[n].rvSh:void 0}function Ve(){try{if(e.isSet(t.hbInfo)&&e.isArray(t.hbInfo.hbUrlBlockRegex))return e.any(t.hbInfo.hbUrlBlockRegex,function(e){return new RegExp(e).test($())?!0:void 0})||!1}catch(r){n.pushError("Error while parsing url regex, to disable url for header bidding: "+r.message)}return!1}function Ne(){return"1"==t.hbInfo.errTrack}var Le={},Me={},ye={},ke="mnet_session_depth",Ye=15,qe={},We={},Ge=[],Qe={},je={},ze={11:1,2:1,12:1,28:1,33:1,38:1,41:1,43:1,51:1,52:1,53:1,55:1,99:1,9:1,4:1,22:1},Ke=2e3;return Me={PUBLISHER:$,PUBLISHER_HOST:De,REFERRER:Z,DOMAIN:ae,CID:z,HOSTNAME:K,VIEW_ID:c,VISIT_ID:f,VISITOR_ID:d,DEVICE_TYPE:de,SESSION_DEPTH:le,COUNTRY_CODE:s,AB_TESTS:me,PROTOCOL:Re,GPT_TAG_DELAY:Te,GPT_FUNCTION_DELAY:pe,HTTPS_FLAG:_e,AD_BLOCK_DETECTED:he,IS_AMP_REQUEST:ve,VERSION:Pe},e.addToEventQueue("all:reset","command",Ue),t.defaultBidderSetting.pageURL=$(),t.defaultBidderSetting.referrerURL=Z(),{resolveMacros:Oe,getPublisherUrl:$,getPublisherUrlFD:ee,getReferrerUrl:Z,getPublisherUrlWithoutParameters:X,getDomainForPrefetch:ae,getDomainForPrefetchFD:se,getHeaderBiddingUrl:Se,getPrefetchUrl:ge,getVisitorId:d,getProviderRequestID:I,getAuctionTimeForMnetBidderRequest:T,getAuctionId:g,getSlotNameForCrid:_,setPlacementsForMnetAdapterRefresh:V,getConfigForAllPlacements:p,isMnetBidderRequest:h,getSizeForPlacementId:B,getMnetBidderCallback:v,getMnetAdapterVersion:P,getProviderIdForMnetHbAdapter:O,getUserIP:a,isCBDisabled:E,needsHttpsSupport:D,getDeviceType:de,getCountryCode:s,getFromConfig:S,getGoogleRefreshDelay:be,getAutoRefreshTimeout:H,isHBDisabled:l,getVisitId:f,isDefaultTarget:Ie,isCookieSyncDisabled:j,incrementSessionDepth:Ee,getSessionDepth:le,enabledABTests:me,refresh:Ue,isHdHome:Y,isPrefetchDisabledForHomePage:q,isHeatmapEnabled:W,doPrefetchOnWindowLoad:Q,isTimeStampExpired:G,isMnetAdxEnabled:w,isAdxPostBidToBeDone:L,isSandboxEnabled:k,getDomainFromPublisherURL:ae,getConfigSettingsForPlacementId:m,getConfigsForPlacementsForMnetAdapterRefresh:N,setGetSubBidderId:Ce,getTestDataForPlacement:y,setTestDataForPlacement:M,getViewId:c,getRequireModule:ce,setGetIsAdBlockDetected:he,getCustomerId:xe,isTestMode:te,getCustomUtilityWrapper:fe,isMnetAdxEnabledForExternalBidder:x,isAdxPostBidToBeDoneForExternalProvider:A,isTestModeForApnnexusPrivate:ne,isTestModeForOpenxPrivate:re,isFacebookTestMode:ie,getDefaultFloorPrice:Ae,getFloorPriceByProvider:Fe,getRevenueShareForProvider:He,getDiscrepancyShareForProvider:we,isDisableUrlRegex:Ve,isAmpRequest:ve,isErrorTrackEnabled:Ne,getHostname:K}});_mNDefine("config",[window,document,window.configSettings,"util","uadetector"],function(e,i,t,d,n){"use strict";function r(){function e(){return 3===t||2===t?c.hbInfo.mtimeout||c.hbInfo.timeout:c.hbInfo.timeout}function i(e){d.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)if(d.isStringSet(e[i])&&-1!==d.getPublisherUrl().indexOf(e[i]))return!0;return!1}c.bidderExTargetParams={CREATIVE_ID:"mnetCrid",BIDDER_ID:"mnetbidID",BIDDER_TYPE:"mnetbidderID",DFP_BID:"mnetbidPrice",PLACEMENT_ID:"mnet_placement",CUSTOMER_ID:"mnetCID",AUCTION_TYPE:"mnetAct",SECOND_PROVIDER_ID:"mnetScpvid",TEST_DATA:"mnetTd",DFP_SIZE:"mnetSize"},c.defaultExTargetParams={PAGE_ID:"mnetPageID",NO_BID:"mnetDNB",WINNER:"mnetDW",CC:"mnetCC",UGD:"mnetUGD",DOMAIN_NAME:"mnet_dn"},c.mnetAdxTargetParams={CREATIVE_ID:"crid",CPM:"mnet_segment",VARIANT:"mnet_variant"},c.amznTargetingParams=c.amznTargetingParams||{},c.amznTargetingParams.AMZNSLOTS=c.amznTargetingParams.AMZNSLOTS||"mnet_amznslots",c.defaultBidderSetting.rtbsbidder&&(c.defaultBidderSetting.rtbsbidder.useAppData=1),c.defaultBidderSetting.rtbsdefaultbidder=c.defaultBidderSetting.rtbsdefaultbidder||{},d.each(c.defaultBidderSetting.rtbsbidder,function(e,i){d.isSet(c.defaultBidderSetting.rtbsdefaultbidder[i])||(c.defaultBidderSetting.rtbsdefaultbidder[i]=c.defaultBidderSetting.rtbsbidder[i])}),"undefined"==typeof c.defaultBidderSetting.rvCode&&(c.defaultBidderSetting.rvCode=1),void 0===c.linfo&&(c.linfo={ld:"",noCode:!1,clper:0}),c.hbInfo=c.hbInfo||{},c.cbInfo=c.cbInfo||{},c.linfo.ld=c.linfo.ld||"",c.cbInfo.disCk=c.cbInfo.disCk||"",c.prvTimeout=c.prvTimeout||{},c.prvTimeout.OPENX=c.prvTimeout.OPENX||5,c.prvTimeout.APPNEXUS=c.prvTimeout.APPNEXUS||4,c.prvTimeout.CASALE=c.prvTimeout.CASALE||2,c.defaultBidderSetting&&"1"===c.defaultBidderSetting.hdhome&&(c.hbInfo.cDFP=!1,c.cbInfo.prefTime=0);var t=n.getClientDeviceId();c.headerBidder={timeout:e()||1e3,cDFP:c.hbInfo.cDFP!==!1,disable:1===c.hbInfo.disable||c.hbInfo.disable&&i(c.hbInfo.disable),frlen:1===c.hbInfo.frlen,status:{NOOP:0,INIT:1,BIDDING:2,DONE:3,FAILED:4}}}function a(e,i){return i>e?1:e>i?-1:0}function o(e,i){var t=a(e[0][0],i[0][0]);return 0!==t?t:a(e[0][1],i[0][1])}function f(e,i){var t,d,n=i.width||-1,r=i.height||-1;for(t=0;t<e.length;t++)if(d=e[t],a(d[0][0],n)>=0&&a(d[0][1],r)>=0)return d[1];return[]}function s(){for(var i,t,r,a,s,u,b=d.getWindowDimension(e),m=c.bidder.length-1,l=n.getClientDeviceId(),I=3===l,g=2===l;m>=0;m--)if(i=c.bidder[m],i.deviceType&&-1===i.deviceType.indexOf("default")&&(I?-1===i.deviceType.indexOf("mobile")&&c.bidder.splice(m,1):g?-1===i.deviceType.indexOf("tablet")&&c.bidder.splice(m,1):-1===i.deviceType.indexOf("desktop")&&c.bidder.splice(m,1)),t=i.viewportSizeMap,t&&d.isArray(t))if(t.sort(o),r=f(t,b),0!==r.length)for(d.isArray(r[0])||(r=[r]),i.sizes=r,u=r[0][0]+"x"+r[0][1],a=0,s=i.bids.length;s>a;a++)i.bids[a].params.sizes=r,d.isSet(i.bids[a].params.size)||(i.bids[a].params.size=u);else c.bidder.splice(m,1)}function u(){var e=(n.getClientDeviceName()||"").toLowerCase();return e}function b(){var e=c.inImageProd;if(d.isSet(e)){var i,t=u();for(i in e)e.hasOwnProperty(i)&&e[i].deviceType&&-1===e[i].deviceType.indexOf(t)&&delete e[i]}}function m(e){var i,t,d;for(i=0;i<c.bidder.length;i++)for(t=c.bidder[i].bids,d=t.length-1;d>=0;d--)t[d].bidder===e&&t.splice(d,1)}function l(){var e=["KP","KR","PH","TW","VN","IN","AU","SG","JP","MY","PK","NZ"];d.each(e,function(e){return e===c._ip2c?void m("openxbidder"):void 0})}var c=t||{};return r(),s(),l(),b(),c});_mNDefine("bid",function(){"use strict";function t(){var e={},E={};this.get=function(t){return e[t]},this.set=function(t,E){return e[t]=E,this},this.getCustom=function(t){return E[t]},this.getAny=function(_){return t.Properties[_]?e[t.Properties[_]]:E[t.CustomProperties[_]]},this.setCustom=function(t,e){return E[t]=e,this},this.status=function(_){return void 0!==_?(e[t.Properties.STATUS]=_,E[t.CustomProperties.STATUS_NAME]=t.StatusNames[_],this):e[t.Properties.STATUS]},this.id=function(E){return void 0!==E?(e[t.Properties.BIDDER_ID]=E,this):e[t.Properties.BIDDER_ID]},this.name=function(E){return void 0!==E?(e[t.Properties.BIDDER_NAME]=E,this):e[t.Properties.BIDDER_NAME]},this.provider=function(e){return void 0!==e?(E[t.CustomProperties.PROVIDER_NAME]=e,this):E[t.CustomProperties.PROVIDER_NAME]},this.serialize=function(){var t,_={};for(t in e)e.hasOwnProperty(t)&&(_[t]=e[t]);for(t in E)E.hasOwnProperty(t)&&(_[t]=E[t]);return _},this.deserialize=function(e){var E;for(E in t.Properties)t.Properties.hasOwnProperty(E)&&this.set(t.Properties[E],e[t.Properties[E]]);for(E in t.CustomProperties)t.CustomProperties.hasOwnProperty(E)&&this.setCustom(t.CustomProperties[E],e[t.CustomProperties[E]]);return this}}return t.Properties={BIDDER_ID:"bidderId",BIDDER_NAME:"bidderName",ADCODE:"adcode",SIZE:"size",CPM:"cpm",BIDDER_PRICE:"bdp",CUSTOMER_BID_PRICE:"cbdp",DFP_BID:"dfpBd",CLOSING_PRICE:"clsPrc",PLACEMENT_ID:"placementId",STATUS:"status",CREATIVE_ID:"creative_id",THIRD_PARTY_TARGETS:"third_party_targets",THIRD_PARTY_TARGETS_GLOBAL:"third_party_targets_global",DOMINANT_BID_FLAG:"dominant_bid_flag",NUMBER_MULTI_SIZES:"number_multi_sizes"},t.CustomProperties={PROVIDER_REQUEST_ID:"prvReqId",PAGE_ID:"pageId",DFP_SIZE:"dfpSize",DFP_DIV_ID:"dfpDivId",DFP_DIV_POSITION:"dfpPos",AUCTION_ID:"acid",ORIGINAL_CPM:"ogCPM",ZERO_ADJUSTMENT:"adj0",FIRST_ADJUSTMENT:"adj1",SECOND_ADJUSTMENT:"adj2",NETWORK_FETCH_TIME:"nft",TIMESTAMP:"ts",COOKIE_ID:"ckid",NOBID_REASON:"nbr",TEST_DATA:"td",LOGGING_PIXELS:"loggingPixels",TIMELINE_PIXEL:"timelinePixel",LOAD_TIME:"loadTime",CUSTOM_RENDERING_PARAM:"crp",ENCRYPTED_BID_FLAG:"ebf",AUCTION_TYPE:"actType",BID_REUSED_FLAG:"brf",REFERRING_VISIT_ID:"visitID",STATUS_NAME:"sname",PROVIDER_NAME:"providerName",FINAL_BID:"fb",EXTERNAL_UID:"uid",RENDER_STATUS:"render",RENDER_TRY_STATUS:"tryRender",RENDER_START_STATUS:"startRender",BID_LOG_STATUS:"bigLog",MNET_CRID:"mnet_crid",EXTERNAL_BIDDER_TYPE:"extBidType",EXTERNAL_TOKEN:"extToken",RESPONSE_TIME:"rtime",DATA_CENTER:"dtc",BIDDER_INFO_BIDDER_ID:"binfobid",CATEGORY:"cat",BUYER_ID:"bId",CAMPAIGN_ID:"cmpid",ADVERTISER_ID:"advId",ADVERTISER_NAME:"advNm",ADVERTISER_URL:"advUrl",PROVIDER_ACCOUNT_ID:"paId",PROVIDER_API_ID:"pApiId",EXTERNAL_PLACEMENT_CODE:"epc",DEAL_ID:"di",DEAL_TYPE:"dt",GOOGLE_BID:"gbid",BASE_BIDDER_ID:"bbdrid",COOKIE_FLAG:"ckfl",PROVIDER_COOKIE_ID:"pcId",WEB_SERVER_IP:"wsip"},t.AuctionType={CACHE:"cache",HEADER_BID:"headerBid"},t.Status={PENDING:0,SUCCESS:1,NOBID:2,TIMEOUT:3,CANCELLED_NOT_IN_CACHE:4,RESPONSE_AFTER_AUCTION:5,NOBID_AFTER_AUCTION:6,ERROR:7},t.StatusNames=["pending","success","nobid","timeout","bid_not_in_cache","response_after_auction","nobid_after_auction","error"],t});_mNDefine("bidder",[window,"util","entitymanager","storagemanager","bid","logmanager","config","bidmanager","_mNRP","abtestmanager","mnetHbConsole"],function(e,t,r,o,s,i,n,a,u,C,c){"use strict";function P(){function e(e){a.storeBidsForReuse(P(),e)}function n(e,t){return e.setCustom(s.CustomProperties.PAGE_ID,t.pageId)}function u(t,r){0!==l.length&&(r.cache||i.hbRequests.addArray(A),e(A),i.auctionParticipants.addArray(A),A=[])}function C(e,t){0!==_.length&&(t.cache||i.hbRequests.addArray(f),i.auctionParticipants.addArray(f),f=[])}function c(e){return e.status()===s.Status.SUCCESS&&t.isStringSet(e.get(s.Properties.CPM))&&"0"!==e.get(s.Properties.CPM)}function P(){return r.getPrefetchUrl(d.bidderName)}function m(){0!==h.length&&(o.setInStorage(P(),h),i.cacheRequests.addArray(h),h=[])}var d,p,g,I={},E=null,_=[],h=[],l=[],f=[],A=[],R=this;this.config=function(e){return"object"==typeof e?(d=e,this):d[e]},this.getValidBidsStatusPerPlacement=function(e){g=e||[],E=E||{},t.each(e,function(e){E[e]=!1});var i=r.getHeaderBiddingUrl(d.bidderName);return t.clock.tick("prefetchTime"),p=o.getBids(i,d.name,e),t.clock.tock("prefetchTime"),I.prefetchTime=t.clock.time("prefetchTime"),p&&t.each(p,function(e){E[e.get(s.Properties.PLACEMENT_ID)]=c(e)}),E},this.stats=function(e){return I[e]},this.useBidsFromCache=function(e,r,o,i){var a=i.length;t.each(i,function(o){if(r.hasOwnProperty(o)){a--;var i={};E[o]&&t.isSet(p)&&t.isSet(p[o])?(i=p[o],e(n(i,r[o].params),o,0===a)):e((new s).status(s.Status.CANCELLED_NOT_IN_CACHE).set(s.Properties.PLACEMENT_ID,o).set(s.Properties.BIDDER_NAME,d.bidderName).set(s.Properties.BIDDER_ID,d.id).setCustom(s.CustomProperties.PROVIDER_NAME,d.name).set(s.Properties.CREATIVE_ID,r[o].params.mnet_id).set(s.Properties.CPM,0).setCustom(s.CustomProperties.PAGE_ID,r[o].params.pageId).setCustom(s.CustomProperties.ORIGINAL_CPM,0).setCustom(s.CustomProperties.AUCTION_TYPE,s.AuctionType.CACHE),o,0===a)}})},this.addForwardedResponse=function(e,r,o){0!==_.length||r||t.addToEventQueue("endOfResponse",R.config("name"),C),f.push(e),_.push(e),r&&C("forced",o)},this.addLateResponse=function(e,r,o){0!==l.length||r||t.addToEventQueue("endOfResponse",R.config("name"),u),A.push(e),l.push(e),r&&u("forced",o)},this.addToCache=function(e,r){0!==h.length||r||t.addToEventQueue("pushToCache",R.config("name"),m),h.push(e),r&&m()}}return P.prototype.handlePostAuctionClose=function(e,r){if(r&&r.winner&&r.winner.provider()===this.config("name")){var o=this.getTimeLinePixel(r.winner);r.winner.setCustom(s.CustomProperties.TIMELINE_PIXEL,o.replace(P.ORIGINAL_PRICE_MACRO,r.winner.getCustom(s.CustomProperties.ORIGINAL_CPM))),c.log(r.winner,"winningBid"),t.addToEventQueue("afterRender",r.winner.get(s.Properties.PLACEMENT_ID),t.getProxy(this.handlePostRendering,[],this))}t.consoleLog("Auction Closed for",e.src)},P.prototype.makeLoggingCalls=function(e){var o=e.getCustom(s.CustomProperties.LOGGING_PIXELS)||[];e.getCustom(s.CustomProperties.TIMELINE_PIXEL)&&o.push(e.getCustom(s.CustomProperties.TIMELINE_PIXEL)),o=r.resolveMacros(o,!0),t.logBeacons(o),e.setCustom(s.CustomProperties.BID_LOG_STATUS,!0)},P.prototype.handlePostRendering=function(e,t){c.log(t,"finalWinner");var r=t.getCustom(s.CustomProperties.RENDER_STATUS);return!t||t.provider()!==this.config("name")||r!==!0&&void 0!==r||t.getCustom(s.CustomProperties.BID_LOG_STATUS)===!0?void 0:this.makeLoggingCalls(t)},P.prototype.getTimeLinePixel=function(e){for(var o=a.getAllBidsByAdUnit(e.get(s.Properties.PLACEMENT_ID),e.getCustom(s.CustomProperties.PAGE_ID)),i="",u=0,C=o.length;C>u;u++)i+=["&b",o[u].get(s.Properties.BIDDER_ID),"b","=",o[u].getCustom(s.CustomProperties.ORIGINAL_CPM)].join("");return(n.log.tpUrl+t.buildUrlParameters({url:"%%PUBLISHER%%",domain:"%%PUBLISHER_HOST%%",apid:2,size:e.get(s.Properties.SIZE),at:e.getCustom(s.CustomProperties.AUCTION_TYPE),auction_id:e.getCustom(s.CustomProperties.AUCTION_ID),ip:r.getUserIP(),crid:e.get(s.Properties.CREATIVE_ID),cid:"%%CID%%",dt:P.DEVICE_TYPE_MACRO,bc:P.ORIGINAL_PRICE_MACRO,cc:r.getCountryCode(),ext_user_id:e.getCustom(s.CustomProperties.EXTERNAL_UID),bname:"<cm_win_macro>"})+i).replace("<cm_win_macro>",t.buildUrlParameters({cmw:e.get(s.Properties.BIDDER_ID)}))},P.ORIGINAL_PRICE_MACRO="%%BID_PRICE%%",P.ADJUSTED_PRICE_MACRO="%%ADJUST_PRICE%%",P.DEVICE_TYPE_MACRO="%%DEVICE_TYPE%%",P});_mNDefine("thirdpartymanager",["bid","util","entitymanager","logmanager"],function(e,t,r,n){"use strict";function i(e,t){return p[e]&&p[e][t]?p[e][t]:null}function o(e,r,o){null===i(r,e)&&t.addToEventQueue("afterRenderExternal",e,n.auctionWinner.dispatchExternalWinner),p[r]=p[r]||{},p[r][e]=p[r][e]||[],p[r][e].push(o)}function a(e,t,r){var n,o,a=i(t,e);if(a)for(n=0;n<a.length;n++)if(o=a[n],o.getAny("BIDDER_NAME")===r)return o;return void 0}function u(e,r){if(!t.isSet(T))try{T=window._mNRequire(["dfpmanager"])[0]}catch(n){}T.clearCustomTargeting(e,r)}function s(n){var o,a,s,f,c,m;if(!p.hasOwnProperty(n))return{};for(o in p[n])if(p[n].hasOwnProperty(o)&&(s=i(n,o),null!==s))for(a=0;a<s.length;a++)if(f=s[a],c=f.getAny("THIRD_PARTY_TARGETS_GLOBAL"),t.isSet(c)){r.isTimeStampExpired(f.getCustom(e.CustomProperties.TIMESTAMP),f.getCustom(e.CustomProperties.PROVIDER_NAME))&&u(n,t.getObjectKeys(c));for(m in c)c.hasOwnProperty(m)&&(P[m]=c[m])}return P}function f(t,n){var o,a,u,s,f,c=i(n,t),m=[];if(c)for(o=0;o<c.length;o++)if(a=c[o],u=a.get(e.Properties.THIRD_PARTY_TARGETS),!r.isTimeStampExpired(a.getCustom(e.CustomProperties.TIMESTAMP),a.getCustom(e.CustomProperties.PROVIDER_NAME))){if(s={},u)for(f in u)u.hasOwnProperty(f)&&(s[f]=u[f]||"");m.push(s)}return m}function c(){var n={};return t.each(p,function(i){t.each(i,function(i){t.each(i,function(i){i.get(e.Properties.THIRD_PARTY_TARGETS)&&(r.isTimeStampExpired(i.getCustom(e.CustomProperties.TIMESTAMP),i.getCustom(e.CustomProperties.PROVIDER_NAME))||t.each(i.get(e.Properties.THIRD_PARTY_TARGETS),function(e,t){n[t]=1}))})})}),n}function m(e){var r=c();t.each(r,function(t,r){e[r]=e[r]||""})}function g(e,r){var n=r&&r.pageId,i=r&&r.placements;P={},t.isSet(n)&&t.isArray(i)&&i.length>0&&void 0!==p[n]&&t.each(i,function(e){p[n][e]=[]})}var T,p={},P={};return t.addToEventQueue("all:reset","command",g),{getPlacementMap:i,addBidResponse:o,getTargetingParamsForCode:f,getBidForPlacementIdAndBidder:a,refresh:g,getGlobalTargetingParams:s,fillAllUniqueParams:m}});_mNDefine("logmanager",["util","entitymanager","config","bid","mnetHbConsole"],function(e,t,E,I,_){"use strict";function s(t){return e.isStringSet(t.cc)&&-1!==t.cc.indexOf(E._ip2c)?!0:!1}function r(t){return e.isSet(t.freq)&&1!==e.getRandom(1,parseInt(t.freq,10))?!0:!1}function D(t){var I=E.linfo;return"string"==typeof I.ld&&-1!==I.ld.indexOf(t)?!0:e.isStringSet(t)&&I.hasOwnProperty(t)&&(s(I[t])||r(I[t]))?!0:!1}function i(E){return e.encodeParam((E[I.CustomProperties.TEST_DATA]||"")+"|"+t.getTestDataForPlacement(E[I.Properties.PLACEMENT_ID]))}function o(){function E(E){var I=t.resolveMacros(e.buildUrlParameters(b.start),!0),_=t.resolveMacros(e.buildUrlParameters(b.end),!0);return r.path+I+E+_}function I(){r.reset()}var s="",r=this,D=0;this.path="",this.model=function(){},this.fire=function(){if(0!==s.length){var t=E(s);_.log(t,"logUrl"),e.logBeacons(t),s="",D=0}},this.addNew=function(e,t,E){},this.addArray=function(t){return e.each(t,this.addNew)},this.append=function(t){var I=e.buildCollectionUrlItem(t.getAll()),r=I.length;if(D+r>Y){var i=E(s);_.log(i,"logUrl"),e.logBeacons(i),s=I,D=r}else s+=I,D+=r},this.reset=function(){r.fire()},e.addToEventQueue("all:reset","command",I)}function R(){var e={};this.set=function(t,E){return e[t]=E,this},this.getAll=function(){return e}}function P(){R.call(this)}function T(){function t(e){e.getCustom(I.CustomProperties.AUCTION_TYPE)===I.AuctionType.CACHE?w.record(1):e.getCustom(I.CustomProperties.AUCTION_TYPE)===I.AuctionType.HEADER_BID&&q.record(1)}function _(){r=!0,A.fire()}function s(){e.addToEventQueue("apiCallsSent","global",_),e.addToEventQueue("after:prefetch","global",_)}o.call(this);var r=!0,D="prflog",R=E.linfo[D]&&E.linfo[D].freq||1,T=!0,A=this;this.path=E.log.providerFetchRequestPath,this.model=P;var C=this.model.props;this.addNew=function(E,_,D){if(t(E),!T){r===!0&&(r=!1,s());var o=new A.model;E=E.serialize(),o.set(C.PROVIDER_ID,E[I.Properties.BIDDER_ID]||"").set(C.PROVIDER_NAME,E[I.CustomProperties.PROVIDER_NAME]||"").set(C.PROVIDER_REQUEST_ID,E[I.CustomProperties.PROVIDER_REQUEST_ID]||"").set(C.CRID,E[I.Properties.CREATIVE_ID]||"").set(C.COOKIE_ID,e.encodeParam(E[I.CustomProperties.COOKIE_ID]||"")).set(C.BATCH_COUNT,D).set(C.LOGGING_PERCENTAGE,R).set(C.AUCTION_TYPE,E[I.CustomProperties.AUCTION_TYPE]||"").set(C.SIZE,E[I.Properties.SIZE]||"").set(C.TEST_DATA,i(E)).set(C.NUMBER_MULTI_SIZES,E[I.Properties.NUMBER_MULTI_SIZES]||"1").set(C.DOMINANT_BID_FLAG,E[I.Properties.DOMINANT_BID_FLAG]||"1"),A.append(o)}}}function A(){R.call(this)}function C(){function t(){T-=1}function _(){return 0===T}o.call(this);var s=this,r="prlog",R=D(r),P=E.linfo[r]&&E.linfo[r].freq||1,T=0;this.path=E.log.providerRequestPath,this.model=A;var C=this.model.props;this.addNew=function(r,D,o){if(!R){var T=new s.model;r=r.serialize();var A=r[I.Properties.ADCODE]||"",n=r[I.CustomProperties.NOBID_REASON],O=r[I.CustomProperties.AUCTION_TYPE];A=e.isStringSet(A)?A.substring(0,99):"",e.isSet(n)||(n=""),A=A.replace(/(\n|\r|\t)/gm,""),T.set(C.PROVIDER_ID,r[I.Properties.BIDDER_ID]||"").set(C.PROVIDER_NAME,r[I.CustomProperties.PROVIDER_NAME]||"").set(C.PROVIDER_REQUEST_ID,r[I.CustomProperties.PROVIDER_REQUEST_ID]||"").set(C.PROVIDER_ACCOUNT_ID,r[I.CustomProperties.PROVIDER_ACCOUNT_ID]||"").set(C.PROVIDER_API_ID,r[I.CustomProperties.PROVIDER_API_ID]||"").set(C.CRID,r[I.Properties.CREATIVE_ID]||"").set(C.COOKIE_ID,e.encodeParam(r[I.CustomProperties.COOKIE_ID]||"")).set(C.LOAD_TIME,r[I.CustomProperties.LOAD_TIME]||"").set(C.BID_PRICE,r[I.Properties.BIDDER_PRICE]||r[I.Properties.CPM]||"0").set(C.ORIGINAL_BID_PRICE,r[I.CustomProperties.ORIGINAL_CPM]||"0").set(C.CUSTOMER_BID_PRICE,r[I.Properties.CUSTOMER_BID_PRICE]||"0").set(C.DEAL_ID,g(r[I.CustomProperties.DEAL_TYPE])?r[I.CustomProperties.DEAL_ID]:"").set(C.DEAL_TYPE,r[I.CustomProperties.DEAL_TYPE]||"").set(C.STATUS,r[I.Properties.STATUS]||"").set(C.STATUS_NAME,r[I.CustomProperties.STATUS_NAME]||"").set(C.TEST_DATA,i(r)).set(C.BATCH_COUNT,o).set(C.LOGGING_PERCENTAGE,P).set(C.AUCTION_TYPE,O||"").set(C.RESPONSE_TIME,r[I.CustomProperties.RESPONSE_TIME]||"").set(C.DATA_CENTER,e.encodeParam(r[I.CustomProperties.DATA_CENTER]||"")).set(C.WEB_SERVER_IP,e.encodeParam(r[I.CustomProperties.WEB_SERVER_IP]||"")).set(C.BIDDER_INFO_BIDDER_ID,e.encodeParam(r[I.CustomProperties.BIDDER_INFO_BIDDER_ID]||"")).set(C.CATEGORY,e.encodeParam(r[I.CustomProperties.CATEGORY]||"")).set(C.BUYER_ID,r[I.CustomProperties.BUYER_ID]||"").set(C.CAMPAIGN_ID,r[I.CustomProperties.CAMPAIGN_ID]||"").set(C.NOBID_REASON,n).set(C.ADVERTISER_ID,e.encodeParam(r[I.CustomProperties.ADVERTISER_ID]||"")).set(C.ADVERTISER_NAME,e.encodeParam(r[I.CustomProperties.ADVERTISER_NAME]||"")).set(C.ADVERTISER_URL,e.encodeParam(r[I.CustomProperties.ADVERTISER_URL]||"")).set(C.SIZE,r[I.Properties.SIZE]||"").set(C.PROVIDER_COOKIE_ID,e.encodeParam(r[I.CustomProperties.PROVIDER_COOKIE_ID]||"")).set(C.COOKIE_FLAG,r[I.CustomProperties.COOKIE_FLAG]||"").set(C.NUMBER_MULTI_SIZES,r[I.Properties.NUMBER_MULTI_SIZES]||"1").set(C.DOMINANT_BID_FLAG,r[I.Properties.DOMINANT_BID_FLAG]||"1"),E.linfo.noCode||T.set(C.RAW_ADTAG,e.encodeParam(A)),s.append(T),t(),_()&&s.fire()}},this.record=function(e){T+=e},e.addToEventQueue("log:trigger","command",s.fire)}function n(){R.call(this)}function O(){o.call(this);var t=this,_="aplog",s=E.linfo[_]&&E.linfo[_].freq||1,r=D(_);this.model=n,this.path=E.log.auctionParticipantPath;var i=this.model.props;this.addNew=function(_,D,o){if(!r){var R=new t.model;_=_.serialize();var P=_[I.Properties.ADCODE]||"",T=void 0!==E.bidderGrp&&-1!==E.bidderGrp.indexOf("|"+_[I.Properties.BIDDER_ID]+"|");P=e.isStringSet(P)?P.substring(0,99):"",P=P.replace(/(\n|\r|\t)/gm,""),R.set(i.PROVIDER_ID,_[I.Properties.BIDDER_ID]||"").set(i.PROVIDER_NAME,_[I.CustomProperties.PROVIDER_NAME]||"").set(i.PROVIDER_REQUEST_ID,_[I.CustomProperties.PROVIDER_REQUEST_ID]||"").set(i.IS_AUCTION_PARTICIPANT,T?1:0).set(i.REFERRING_VISIT_ID,_[I.CustomProperties.REFERRING_VISIT_ID]||"").set(i.CRID,_[I.Properties.CREATIVE_ID]||"").set(i.BID_PRICE,_[I.Properties.BIDDER_PRICE]||_[I.Properties.CPM]||"0").set(i.CUSTOMER_BID_PRICE,_[I.Properties.CUSTOMER_BID_PRICE]||"0").set(i.ORIGINAL_BID_PRICE,_[I.CustomProperties.ORIGINAL_CPM]||"0").set(i.CLOSING_PRICE,_[I.Properties.CLOSING_PRICE]||_[I.Properties.CPM]||"0").set(i.DFP_BID,_[I.Properties.DFP_BID]||"0").set(i.STATUS,_[I.Properties.STATUS]||"").set(i.STATUS_NAME,_[I.CustomProperties.STATUS_NAME]||"").set(i.COOKIE_ID,e.encodeParam(_[I.CustomProperties.COOKIE_ID]||"")).set(i.AUCTION_TYPE,_[I.CustomProperties.AUCTION_TYPE]||"").set(i.AUCTION_ID,_[I.CustomProperties.AUCTION_ID]||"").set(i.BUYER_ID,_[I.CustomProperties.BUYER_ID]||"").set(i.CAMPAIGN_ID,_[I.CustomProperties.CAMPAIGN_ID]||"").set(i.LOGGING_PERCENTAGE,s).set(i.ADVERTISER_ID,e.encodeParam(_[I.CustomProperties.ADVERTISER_ID]||"")).set(i.ADVERTISER_NAME,e.encodeParam(_[I.CustomProperties.ADVERTISER_NAME]||"")).set(i.ADVERTISER_URL,e.encodeParam(_[I.CustomProperties.ADVERTISER_URL]||"")).set(i.RAW_ADTAG,e.encodeParam(P)).set(i.LOAD_TIME,_[I.CustomProperties.LOAD_TIME]).set(i.BID_REUSED_FLAG,_[I.CustomProperties.BID_REUSED_FLAG]||0).set(i.NUMBER_MULTI_SIZES,_[I.Properties.NUMBER_MULTI_SIZES]||"1").set(i.DOMINANT_BID_FLAG,_[I.Properties.DOMINANT_BID_FLAG]||"1"),t.append(R)}},e.addToEventQueue("log:trigger","command",t.fire)}function S(){R.call(this)}function N(){o.call(this);var t=this,_="explog",s=E.linfo[_]&&E.linfo[_].freq||1,r=D(_);this.model=S,this.path=E.log.expiredBidsPath;var i=this.model.props;this.addNew=function(E,_,D){if(!r){var o=new t.model,R=0;E=E.serialize(),e.isSet(E[I.CustomProperties.TIMESTAMP])&&(R=e.getCurrentTime()-E[I.CustomProperties.TIMESTAMP]),o.set(i.PROVIDER_ID,E[I.Properties.BIDDER_ID]||"").set(i.PROVIDER_NAME,E[I.CustomProperties.PROVIDER_NAME]||"").set(i.PROVIDER_REQUEST_ID,E[I.CustomProperties.PROVIDER_REQUEST_ID]||"").set(i.REFERRING_VISIT_ID,E[I.CustomProperties.REFERRING_VISIT_ID]||"").set(i.CRID,E[I.Properties.CREATIVE_ID]||"").set(i.BID_PRICE,E[I.Properties.BIDDER_PRICE]||E[I.Properties.CPM]||"0").set(i.CUSTOMER_BID_PRICE,E[I.Properties.CUSTOMER_BID_PRICE]||"0").set(i.ORIGINAL_BID_PRICE,E[I.CustomProperties.ORIGINAL_CPM]||"0").set(i.CLOSING_PRICE,E[I.Properties.CLOSING_PRICE]||E[I.Properties.CPM]||"0").set(i.STATUS,E[I.Properties.STATUS]||"").set(i.STATUS_NAME,E[I.CustomProperties.STATUS_NAME]||"").set(i.AUCTION_TYPE,E[I.CustomProperties.AUCTION_TYPE]||"").set(i.AUCTION_ID,E[I.CustomProperties.AUCTION_ID]||"").set(i.LOGGING_PERCENTAGE,s).set(i.LOAD_TIME,E[I.CustomProperties.LOAD_TIME]).set(i.BID_REUSED_FLAG,E[I.CustomProperties.BID_REUSED_FLAG]||0).set(i.TIME_DIFFERENCE,R),t.append(o)}},e.addToEventQueue("log:trigger","command",t.fire)}function p(){R.call(this)}function a(e){return-1!==e.indexOf("P")}function d(){function t(t){return D(I)?!1:a(t)||e.isSet(E.linfo.cslogFreq)&&1===e.getRandom(1,parseInt(E.linfo.cslogFreq,10))}o.call(this);var I="cslog",_=this,s=E.linfo[I]&&E.linfo[I].freq||E.linfo.cslogFreq||1;this.path=E.log.casaleDebugUrl,this.model=p;var r=this.model.props;this.addNew=function(e,E,I){if(t(e)){var D=new this.model;D.set(r.LOAD_TIME,E).set(r.INDEX_SLOTS_LIST,e).set(r.LOGGING_PERCENTAGE,s).set(r.PROVIDER_REQUEST_ID,I),_.append(D),_.fire()}}}function u(){R.call(this)}function M(){function t(){return D(I)?!1:e.isSet(E.linfo.amzlogFreq)&&1===e.getRandom(1,parseInt(E.linfo.amzlogFreq,10))}o.call(this);var I="amzlog",_=this,s=E.linfo[I]&&E.linfo[I].freq||E.linfo.amzlogFreq||1,r=t();this.path=E.log.amazonDebugUrl,this.model=u;var i=this.model.props;this.addNew=function(t,E,I){if(r){var D=new this.model;D.set(i.LOAD_TIME,E).set(i.AMAZON_SLOTS_LIST,e.encodeParam(t)).set(i.LOGGING_PERCENTAGE,s).set(i.PROVIDER_REQUEST_ID,I),_.append(D),_.fire()}}}function m(){R.call(this)}function l(){function t(e){if(!e||!e[E.bidderExTargetParams.DFP_BID])return!1;if(i)return!0;var t=parseFloat(e[E.bidderExTargetParams.DFP_BID][0]);return s&&isFinite(t)?t>=s:!1}o.call(this);var I=this,_="slotLog",s=E.linfo[_]&&E.linfo[_].ceCPM&&parseFloat(E.linfo[_].ceCPM)||null,r=E.linfo[_]&&E.linfo[_].freq||1,i=!D(_);this.path=E.log.slotLoggingPixel,this.model=m;var R=this.model.props,P=new I.model;this.addDFPSlotData=function(e){t(e)&&(P.set(R.ADVERTISER_ID,e.advertiserId).set(R.CAMPAIGN_ID,e.campaignId).set(R.CREATIVE_ID,e.creativeId).set(R.LINE_ITEM_ID,e.lineItemId).set(R.SLOT_ELEMENT_ID,e.slotElementId).set(R.DFP_DIV_SIZE,e.dfpDivSize).set(R.LOGGING_PERCENTAGE,r).set(R.CPM,e[E.bidderExTargetParams.DFP_BID][0]).set(R.LABEL_ID,e.labelIds.join("|")).set(R.BIDDER_ID,e[E.bidderExTargetParams.BIDDER_ID]||"").set(R.ORIGINAL_BID_PRICE,e.originalBidPrice),this.append(P))},e.addToEventQueue("log:trigger","command",I.fire)}function c(){R.call(this)}function U(){o.call(this);var e=this,t="gptlog";this.path=E.log.gptRequestPath,this.model=c;var I=this.model.props;this.addNew=function(_,s,r,i){if(!D(t)){var o=new e.model;o.set(I.CUSTOMER_ID,_).set(I.LOAD_TIME,s).set(I.LOGGING_PERCENTAGE,E.linfo[t]&&E.linfo[t].freq||1).set(I.WAIT_TIME,r).set(I.TOTAL_WAIT_TIME,i),e.append(o),e.fire()}}}function L(){R.call(this)}function f(){function t(){return D(I)?!1:e.isSet(E.linfo.slogFreq)&&1===e.getRandom(1,parseInt(E.linfo.slogFreq,10))}o.call(this);var I="gptslog",_=this,s=E.linfo[I]&&E.linfo[I].freq||E.linfo.slogFreq||1,r=t();this.path=E.log.gptSlotPath,this.model=L;var i=this.model.props;this.addSlotLogData=function(t){if(r){var I=new _.model;I.set(i.SLOT_ELEMENT_ID,e.encodeParam(t.elementId||"")).set(i.SLOT_SIZES,e.encodeParam(t.sizes||"")).set(i.SLOT_TARGETING_PARAMS,e.encodeParam(t.customCriteria||"")).set(i.LOGGING_PERCENTAGE,s).set(i.FREQUENCY_MULTIPLIER,E.linfo.slogFreq||"").set(i.SLOT_RENDER_TIME,e.encodeParam(t.slotRenderTime||"")),_.append(I)}},this.addNew=function(){if(r){var t;try{t=window._mNRequire(["dfpmanager"])[0]}catch(E){return}var I=t.getAllDFPSlotsInfo();e.each(I,_.addSlotLogData)}},e.addToEventQueue("log:trigger","command",_.fire)}function G(){R.call(this)}function B(){function t(t){var I,_,s=E.log.casaleLoggingPixel;I=e.buildUrlParameters(t,["type","s","u","r"]),_=s+"?"+I.substr(1),(new Image).src=_}o.call(this);var I="errorBidLog";this.model=G;var _=this,s=E.linfo[I]&&E.linfo[I].freq||1,r=this.model.props;this.path=E.log.errorLogUrl,this.addNew=function(e){if(!D(I)){var E=new _.model;E.set(r.PROVIDER_REQUEST_ID,e[r.PROVIDER_REQUEST_ID]).set(r.LOGGING_PERCENTAGE,s).set(r.HEADER_TAG_URL,e[r.HEADER_TAG_URL]),_.append(E),_.fire(),t(e)}}}function V(){R.call(this)}function h(){function _(t,E){return e.each(E,function(e,E){t.set(E,e)}),t}function s(e,t){return"99"===t[I.Properties.BIDDER_ID]&&e.set(p.MAX_BID_PRICE,"0").set(p.MAX_NETTED_BID_PRICE,"0").set(p.MAX_NETTED_CUSTOMER_BID_PRICE,"0").set(p.DFP_BID,"0"),e}function r(E,r,D,o,R){return E.set(p.AUCTION_ID,r[I.CustomProperties.AUCTION_ID]||"").set(p.CRID,r[I.Properties.CREATIVE_ID]||"").set(p.DFP_DIV_ID,r[I.CustomProperties.DFP_DIV_ID]||"").set(p.AUCTION_TIME,o||0).set(p.DFP_POSITION_NAME,r[I.CustomProperties.DFP_DIV_POSITION]||"").set(p.MAX_PROVIDER_ID,r[I.Properties.BIDDER_ID]||"").set(p.MAX_PROVIDER_NAME,r[I.CustomProperties.PROVIDER_NAME]||"").set(p.MAX_PROVIDER_RESPONSE_TYPE,r[I.CustomProperties.AUCTION_TYPE]||"").set(p.MAX_PROVIDER_REQUEST_ID,r[I.CustomProperties.PROVIDER_REQUEST_ID]||"").set(p.MAX_PROVIDER_ACCOUNT_ID,r[I.CustomProperties.PROVIDER_ACCOUNT_ID]||"").set(p.MAX_PROVIDER_API_ID,r[I.CustomProperties.PROVIDER_API_ID]||"").set(p.MAX_BID_PRICE,r[I.CustomProperties.ORIGINAL_CPM]||"0").set(p.MAX_ZERO_ADJUSTMENT,r[I.CustomProperties.ZERO_ADJUSTMENT]||0).set(p.MAX_FIRST_ADJUSTMENT,r[I.CustomProperties.FIRST_ADJUSTMENT]||0).set(p.MAX_SECOND_ADJUSTMENT,r[I.CustomProperties.SECOND_ADJUSTMENT]||0).set(p.MAX_NETTED_BID_PRICE,r[I.Properties.BIDDER_PRICE]||r[I.Properties.CPM]||"0").set(p.MAX_NETTED_CUSTOMER_BID_PRICE,r[I.Properties.CUSTOMER_BID_PRICE]||"0").set(p.MAX_BUYER_ID,r[I.CustomProperties.BUYER_ID]||"").set(p.MAX_CAMPAIGN_ID,r[I.CustomProperties.CAMPAIGN_ID]||"").set(p.MAX_ADVERTISER_ID,e.encodeParam(r[I.CustomProperties.ADVERTISER_ID]||"")).set(p.MAX_ADVERTISER_NAME,e.encodeParam(r[I.CustomProperties.ADVERTISER_NAME]||"")).set(p.MAX_ADVERTISER_URL,e.encodeParam(r[I.CustomProperties.ADVERTISER_URL]||"")).set(p.MAX_AUCTION_TYPE,r[I.CustomProperties.AUCTION_TYPE]||"").set(p.SECOND_PROVIDER_ID,D[I.Properties.BIDDER_ID]||"").set(p.SECOND_PROVIDER_NAME,D[I.CustomProperties.PROVIDER_NAME]||"").set(p.SECOND_BID_PRICE,D[I.CustomProperties.ORIGINAL_CPM]||"0").set(p.SECOND_ZERO_ADJUSTMENT,D[I.CustomProperties.ZERO_ADJUSTMENT]||0).set(p.SECOND_FIRST_ADJUSTMENT,D[I.CustomProperties.FIRST_ADJUSTMENT]||0).set(p.SECOND_SECOND_ADJUSTMENT,D[I.CustomProperties.SECOND_ADJUSTMENT]||0).set(p.SECOND_AUCTION_TYPE,D[I.CustomProperties.AUCTION_TYPE]||"").set(p.SECOND_NETTED_BID_PRICE,D[I.Properties.BIDDER_PRICE]||D[I.Properties.CPM]||"0").set(p.SECOND_NETTED_CUSTOMER_BID_PRICE,D[I.Properties.CUSTOMER_BID_PRICE]||"0").set(p.SECOND_BUYER_ID,D[I.CustomProperties.BUYER_ID]||"").set(p.SECOND_CAMPAIGN_ID,D[I.CustomProperties.CAMPAIGN_ID]||"").set(p.SECOND_ADVERTISER_ID,e.encodeParam(D[I.CustomProperties.ADVERTISER_ID]||"")).set(p.SECOND_ADVERTISER_NAME,e.encodeParam(D[I.CustomProperties.ADVERTISER_NAME]||"")).set(p.SECOND_ADVERTISER_URL,e.encodeParam(D[I.CustomProperties.ADVERTISER_URL]||"")).set(p.SECOND_CLOSING_PRICE,D[I.Properties.CLOSING_PRICE]||D[I.Properties.DFP_BID]||"0").set(p.CLOSING_PRICE,r[I.Properties.CLOSING_PRICE]||r[I.Properties.DFP_BID]||"0").set(p.DFP_BID,r[I.Properties.DFP_BID]||"0").set(p.LOGGING_PERCENTAGE,S).set(p.BID_REUSED_FLAG,r[I.CustomProperties.BID_REUSED_FLAG]||0).set(p.LOAD_TIME,r[I.CustomProperties.LOAD_TIME]||"").set(p.COOKIE_FLAG,r[I.CustomProperties.COOKIE_FLAG]||"").set(p.PROVIDER_COOKIE_ID,e.encodeParam(r[I.CustomProperties.PROVIDER_COOKIE_ID]||"")).set(p.TEST_DATA,i(r)).set(p.SUB_BIDDER_ID,t.setGetSubBidderId(r[I.CustomProperties.PAGE_ID],r[I.Properties.CREATIVE_ID])||"").set(p.NUMBER_MULTI_SIZES,r[I.Properties.NUMBER_MULTI_SIZES]||"1"),_(E,R),s(E,r)}function R(t,E,s,r){return t.set(p.AUCTION_ID,E[I.CustomProperties.AUCTION_ID]||"").set(p.CRID,E[I.Properties.CREATIVE_ID]).set(p.DFP_DIV_ID,E[I.CustomProperties.DFP_DIV_ID]||"").set(p.COOKIE_FLAG,E[I.CustomProperties.COOKIE_FLAG]||"").set(p.PROVIDER_COOKIE_ID,e.encodeParam(E[I.CustomProperties.PROVIDER_COOKIE_ID]||"")).set(p.AUCTION_TIME,s||0).set(p.DFP_POSITION_NAME,E[I.CustomProperties.DFP_DIV_POSITION]||"").set(p.MAX_PROVIDER_ID,"0").set(p.MAX_PROVIDER_NAME,"NO_BID").set(p.MAX_PROVIDER_RESPONSE_TYPE,"").set(p.MAX_PROVIDER_REQUEST_ID,"").set(p.MAX_PROVIDER_ACCOUNT_ID,"").set(p.MAX_PROVIDER_API_ID,"").set(p.MAX_BID_PRICE,"0").set(p.MAX_ZERO_ADJUSTMENT,0).set(p.MAX_FIRST_ADJUSTMENT,0).set(p.MAX_SECOND_ADJUSTMENT,0).set(p.MAX_NETTED_BID_PRICE,"0").set(p.MAX_NETTED_CUSTOMER_BID_PRICE,"0").set(p.SECOND_PROVIDER_ID,"").set(p.SECOND_PROVIDER_NAME,"").set(p.SECOND_BID_PRICE,"0").set(p.SECOND_ZERO_ADJUSTMENT,0).set(p.SECOND_FIRST_ADJUSTMENT,0).set(p.SECOND_SECOND_ADJUSTMENT,0).set(p.SECOND_NETTED_BID_PRICE,"0").set(p.SECOND_NETTED_CUSTOMER_BID_PRICE,"0").set(p.SECOND_CLOSING_PRICE,"0").set(p.CLOSING_PRICE,"0").set(p.DFP_BID,"0").set(p.LOGGING_PERCENTAGE,S).set(p.TEST_DATA,i(E)).set(p.LOAD_TIME,"").set(p.SUB_BIDDER_ID,"").set(p.NUMBER_MULTI_SIZES,"1"),_(t,r)}function P(){C.fire(),e.isSet(A)&&(clearTimeout(A),A=void 0)}function T(){var t;(t=e.isSet(E.linfo[n])&&e.isSet(E.linfo[n].bt)?function(){e.isSet(A)||(A=setTimeout(P,E.linfo[n].bt))}:P)()}o.call(this);var A,C=this,n="adlog",O=D(n),S=E.linfo[n]&&E.linfo[n].freq||1,N={};this.path=E.log.auctionDecisionPath,this.model=V;var p=this.model.props;this.buildLog=r,this.addNew=function(e){var t,E=e.winningBid.serialize(),_=E[I.CustomProperties.PAGE_ID],s=e.auctionTime,D=E[I.Properties.PLACEMENT_ID];if(N[_]=N[_]||{},!O&&!N[_][D]){var i=new C.model;if(e.minimal)t=R(i,E,s,e.tp);else{var o=e.secondWinner?e.secondWinner.serialize():{};t=r(i,E,o,s,e.tp),K.addToAuctionWinnerMap(E[I.Properties.PLACEMENT_ID],t)}N[_][D]=!0,C.append(t)}},this.reset=function(){C.fire(),N={}},E.linfo.adlogSt!==!0||t.isMnetBidderRequest()?e.addToEventQueue("log:trigger","command",C.fire):e.addToEventQueue("adlog:trigger","command",T)}function g(e){return"P"===e}function v(){o.call(this);var _=this,s={},r={};this.model=V;var D=this.model.props;this.path=E.log.auctionWinnerPath,this.addToAuctionWinnerMap=function(t,E){r[t]=E,e.addToEventQueue("afterRender",t,K.dispatchWinner)},this.dispatchDirectWinner=function(e){e=e.serialize();var t=new _.model;J.buildLog(t,e,{},"",{}),t.set(D.SIZE,e[I.Properties.SIZE]||"").set(D.STATUS,e[I.Properties.STATUS]||"").set(D.AUCTION_TYPE,e[I.CustomProperties.AUCTION_TYPE]||"").set(D.TEST_DATA,i(e)),_.append(t),_.fire()},this.dispatchWinner=function(t,E){E=E.serialize();var o=E[I.Properties.PLACEMENT_ID];void 0===s[o]&&(r[o].set(D.SIZE,e.encodeParam(E[I.Properties.SIZE]||"")),r[o].set(D.STATUS,E[I.Properties.STATUS]||""),r[o].set(D.AUCTION_TYPE,E[I.CustomProperties.AUCTION_TYPE]||""),r[o].set(D.TEST_DATA,i(E)),_.append(r[o]),_.fire(),s[o]=!0)},this.setNewWinnerForPlacement=function(e,t){var E=new _.model,I=t?t.serialize():{},s=J.buildLog(E,I,{},"",I.tp);r[e]=s},this.dispatchExternalWinner=function(E,s){var r=s.winningBid,o=s.secondBid,R=r.serialize(),P=new _.model,T=R[I.Properties.PLACEMENT_ID];P.set(D.AUCTION_ID,R[I.CustomProperties.AUCTION_ID]||"").set(D.CRID,R[I.Properties.CREATIVE_ID]||"").set(D.DFP_DIV_ID,R[I.CustomProperties.DFP_DIV_ID]||"").set(D.DFP_POSITION_NAME,R[I.CustomProperties.DFP_DIV_POSITION]||"").set(D.MAX_PROVIDER_ID,R[I.Properties.BIDDER_ID]||"").set(D.MAX_PROVIDER_NAME,R[I.CustomProperties.PROVIDER_NAME]||"").set(D.MAX_PROVIDER_RESPONSE_TYPE,R[I.CustomProperties.AUCTION_TYPE]||"").set(D.MAX_PROVIDER_REQUEST_ID,R[I.CustomProperties.PROVIDER_REQUEST_ID]||"").set(D.MAX_PROVIDER_ACCOUNT_ID,R[I.CustomProperties.PROVIDER_ACCOUNT_ID]||"").set(D.MAX_PROVIDER_API_ID,R[I.CustomProperties.PROVIDER_API_ID]||"").set(D.MAX_BID_PRICE,R[I.CustomProperties.ORIGINAL_CPM]||"0").set(D.MAX_FIRST_ADJUSTMENT,R[I.CustomProperties.FIRST_ADJUSTMENT]||0).set(D.MAX_SECOND_ADJUSTMENT,R[I.CustomProperties.SECOND_ADJUSTMENT]||0).set(D.MAX_NETTED_BID_PRICE,R[I.Properties.CPM]||"0").set(D.MAX_NETTED_CUSTOMER_BID_PRICE,R[I.Properties.CUSTOMER_BID_PRICE]||"0").set(D.CLOSING_PRICE,R[I.Properties.CPM]||"0").set(D.DFP_BID,R[I.Properties.CPM]||"0").set(D.MAX_ADVERTISER_ID,e.encodeParam(R[I.CustomProperties.ADVERTISER_ID]||"")).set(D.MAX_ADVERTISER_NAME,e.encodeParam(R[I.CustomProperties.ADVERTISER_NAME]||"")).set(D.MAX_ADVERTISER_URL,e.encodeParam(R[I.CustomProperties.ADVERTISER_URL]||"")).set(D.SIZE,R[I.Properties.SIZE]||"").set(D.STATUS,R[I.Properties.STATUS]||"").set(D.AUCTION_TYPE,R[I.CustomProperties.AUCTION_TYPE]||"").set(D.DEAL_ID,g(R[I.CustomProperties.DEAL_TYPE])?R[I.CustomProperties.DEAL_ID]:"").set(D.DEAL_TYPE,R[I.CustomProperties.DEAL_TYPE]||"").set(D.EXTERNAL_PLACEMENT_CODE,R[I.CustomProperties.EXTERNAL_PLACEMENT_CODE]||"").set(D.LOAD_TIME,R[I.CustomProperties.LOAD_TIME]||"").set(D.PROVIDER_COOKIE_ID,e.encodeParam(R[I.CustomProperties.PROVIDER_COOKIE_ID]||"")).set(D.COOKIE_FLAG,R[I.CustomProperties.COOKIE_FLAG]||"").set(D.TEST_DATA,i(R)).set(D.NUMBER_MULTI_SIZES,R[I.Properties.NUMBER_MULTI_SIZES]||"1"),e.isSet(o)&&(o=o.serialize(),P.set(D.SECOND_PROVIDER_ID,o[I.Properties.BIDDER_ID]||"").set(D.SECOND_PROVIDER_NAME,o[I.CustomProperties.PROVIDER_NAME]||"").set(D.SECOND_BID_PRICE,o[I.CustomProperties.ORIGINAL_CPM]||"0").set(D.SECOND_FIRST_ADJUSTMENT,o[I.CustomProperties.FIRST_ADJUSTMENT]||0).set(D.SECOND_SECOND_ADJUSTMENT,o[I.CustomProperties.SECOND_ADJUSTMENT]||0).set(D.SECOND_AUCTION_TYPE,o[I.CustomProperties.AUCTION_TYPE]||"").set(D.SECOND_NETTED_BID_PRICE,o[I.Properties.CPM]||"0").set(D.SECOND_NETTED_CUSTOMER_BID_PRICE,o[I.Properties.CUSTOMER_BID_PRICE]||"0").set(D.SECOND_BUYER_ID,o[I.CustomProperties.BUYER_ID]||"").set(D.SECOND_CAMPAIGN_ID,o[I.CustomProperties.CAMPAIGN_ID]||"").set(D.SECOND_ADVERTISER_ID,e.encodeParam(o[I.CustomProperties.ADVERTISER_ID]||"")).set(D.SECOND_ADVERTISER_NAME,e.encodeParam(o[I.CustomProperties.ADVERTISER_NAME]||"")).set(D.SECOND_ADVERTISER_URL,e.encodeParam(o[I.CustomProperties.ADVERTISER_URL]||""))),3===R[I.Properties.BIDDER_ID]&&P.set(D.SUB_BIDDER_ID,t.setGetSubBidderId(R[I.CustomProperties.PAGE_ID],T)).set(D.BASE_BIDDER_ID,R[I.CustomProperties.BASE_BIDDER_ID]),_.append(P),_.fire()},this.reset=function(){s={}}}function F(){e.triggerEvent("log:trigger","command",!0),setTimeout(F,E.linfo.reqTm||2e3)}function X(){t.isAmpRequest()||e.eventLib.addEvent(window,"load",function(){(new f).addNew()}),e.eventLib.addEvent(window,"load",F),e.addToEventQueue("resetAw","command",K.reset)}var b={start:{dn:"%%PUBLISHER_HOST%%",cid:"%%CID%%",ugd:"%%DEVICE_TYPE%%",vid:"%%VISIT_ID%%",vsid:"%%VISITOR_ID%%",sd:"%%SESSION_DEPTH%%",gtd:"%%GPT_TAG_DELAY%%",gfd:"%%GPT_FUNCTION_DELAY%%",cc:"%%COUNTRY_CODE%%",abte:"%%AB_TESTS%%",adbd:"%%AD_BLOCK_DETECTED%%",amp:"%%IS_AMP_REQUEST%%",version:"%%VERSION%%"},end:{requrl:"%%PUBLISHER%%",kwrf:"%%REFERRER%%"}},Y=e.fromIE()?1600:7e3;e.inherits(P,R),P.props={BATCH_COUNT:"bc",PROVIDER_ID:"pvid",PROVIDER_NAME:"pvnm",PROVIDER_REQUEST_ID:"prvReqId",CRID:"crid",COOKIE_ID:"ckid",AUCTION_TYPE:"act",LOGGING_PERCENTAGE:"lper",SIZE:"size",TEST_DATA:"td",NUMBER_MULTI_SIZES:"nms",DOMINANT_BID_FLAG:"dbf"},e.inherits(T,o),e.inherits(A,R),A.props={PROVIDER_ID:"pvid",PROVIDER_NAME:"pvnm",PROVIDER_REQUEST_ID:"prvReqId",PROVIDER_ACCOUNT_ID:"prvAccId",PROVIDER_API_ID:"prvApiId",BATCH_COUNT:"bc",CRID:"crid",LOAD_TIME:"ltime",ORIGINAL_BID_PRICE:"ogbdp",BID_PRICE:"bdp",NOBID_REASON:"nbr",CUSTOMER_BID_PRICE:"cbdp",TEST_DATA:"td",STATUS:"s",STATUS_NAME:"snm",COOKIE_ID:"ckid",AUCTION_TYPE:"act",LOGGING_PERCENTAGE:"lper",RAW_ADTAG:"rawtag",RESPONSE_TIME:"rtime",DATA_CENTER:"dtc",BIDDER_INFO_BIDDER_ID:"binfobid",CATEGORY:"cat",BUYER_ID:"bId",CAMPAIGN_ID:"cmpid",ADVERTISER_ID:"advId",DEAL_ID:"di",DEAL_TYPE:"dt",ADVERTISER_NAME:"advNm",ADVERTISER_URL:"advUrl",SIZE:"size",PROVIDER_COOKIE_ID:"pcId",COOKIE_FLAG:"ckfl",NUMBER_MULTI_SIZES:"nms",DOMINANT_BID_FLAG:"dbf",WEB_SERVER_IP:"wsip"},e.inherits(C,o);var w=new C,q=new C;e.inherits(n,R),n.props={PROVIDER_ID:"pvid",PROVIDER_NAME:"pvnm",PROVIDER_REQUEST_ID:"prvReqId",IS_AUCTION_PARTICIPANT:"isAuct",REFERRING_VISIT_ID:"refVisId",CRID:"crid",BID_PRICE:"bdp",CUSTOMER_BID_PRICE:"cbdp",ORIGINAL_BID_PRICE:"obdp",CLOSING_PRICE:"clsprc",DFP_BID:"dfpBd",STATUS:"s",STATUS_NAME:"snm",COOKIE_ID:"ckid",AUCTION_TYPE:"act",AUCTION_ID:"acid",RAW_ADTAG:"rawtag",LOGGING_PERCENTAGE:"lper",LOAD_TIME:"ltime",BID_REUSED_FLAG:"brf",BUYER_ID:"bId",CAMPAIGN_ID:"cmpid",ADVERTISER_ID:"advId",ADVERTISER_NAME:"advNm",ADVERTISER_URL:"advUrl",NUMBER_MULTI_SIZES:"nms",DOMINANT_BID_FLAG:"dbf"},e.inherits(O,o);var Z=new O;e.inherits(S,R),S.props={PROVIDER_ID:"pvid",PROVIDER_NAME:"pvnm",PROVIDER_REQUEST_ID:"prvReqId",REFERRING_VISIT_ID:"refVisId",CRID:"crid",BID_PRICE:"bdp",CUSTOMER_BID_PRICE:"cbdp",ORIGINAL_BID_PRICE:"obdp",CLOSING_PRICE:"clsprc",STATUS:"s",STATUS_NAME:"snm",AUCTION_TYPE:"act",AUCTION_ID:"acid",LOGGING_PERCENTAGE:"lper",LOAD_TIME:"ltime",BID_REUSED_FLAG:"brf",TIME_DIFFERENCE:"timd"},e.inherits(N,o);var Q=new N;e.inherits(p,R),p.props={INDEX_SLOTS_LIST:"isl",LOAD_TIME:"lt",LOGGING_PERCENTAGE:"lper",PROVIDER_REQUEST_ID:"prvReqId"},e.inherits(d,o),e.inherits(u,R),u.props={AMAZON_SLOTS_LIST:"asl",LOAD_TIME:"lt",LOGGING_PERCENTAGE:"lper",PROVIDER_REQUEST_ID:"prvReqId"},e.inherits(M,o),e.inherits(m,R),m.props={ADVERTISER_ID:"adid",CAMPAIGN_ID:"cmpid",CREATIVE_ID:"crid",LABEL_ID:"lbid",LINE_ITEM_ID:"lid",SLOT_ELEMENT_ID:"sid",LOGGING_PERCENTAGE:"lper",DFP_DIV_SIZE:"sz",BIDDER_ID:"pvid",CPM:"dfpBd",ORIGINAL_BID_PRICE:"obdp"},e.inherits(c,R),c.props={CUSTOMER_ID:"cid",LOAD_TIME:"lt",LOGGING_PERCENTAGE:"lper",WAIT_TIME:"wt",TOTAL_WAIT_TIME:"twt"},e.inherits(U,o),e.inherits(L,R),L.props={SLOT_ELEMENT_ID:"sid",SLOT_SIZES:"szs",SLOT_TARGETING_PARAMS:"tp",LOGGING_PERCENTAGE:"lper",FREQUENCY_MULTIPLIER:"fm",SLOT_RENDER_TIME:"srt"},e.inherits(f,o),e.inherits(G,R),G.props={PROVIDER_REQUEST_ID:"prvreqid",LOGGING_PERCENTAGE:"lper",HEADER_TAG_URL:"hurl"},e.inherits(B,o),e.inherits(V,R),V.props={AUCTION_ID:"acid",MAX_PROVIDER_ID:"pvid",MAX_PROVIDER_NAME:"pvnm",MAX_PROVIDER_RESPONSE_TYPE:"prspt",MAX_PROVIDER_REQUEST_ID:"prvReqId",MAX_PROVIDER_ACCOUNT_ID:"prvAccId",MAX_PROVIDER_API_ID:"prvApiId",MAX_BID_PRICE:"ogbdp",MAX_ZERO_ADJUSTMENT:"adj0",MAX_FIRST_ADJUSTMENT:"adj1",MAX_SECOND_ADJUSTMENT:"adj2",MAX_NETTED_BID_PRICE:"bdp",MAX_NETTED_CUSTOMER_BID_PRICE:"cbdp",MAX_BUYER_ID:"bId",MAX_CAMPAIGN_ID:"cmpid",MAX_ADVERTISER_ID:"advId",MAX_ADVERTISER_NAME:"advNm",MAX_ADVERTISER_URL:"advUrl",MAX_AUCTION_TYPE:"fact",SECOND_PROVIDER_ID:"sc_pvid",SECOND_PROVIDER_NAME:"sc_pvnm",SECOND_BID_PRICE:"sc_ogbdp",SECOND_ZERO_ADJUSTMENT:"sc_adj0",SECOND_FIRST_ADJUSTMENT:"sc_adj1",SECOND_SECOND_ADJUSTMENT:"sc_adj2",SECOND_NETTED_BID_PRICE:"sc_bdp",SECOND_AUCTION_TYPE:"sact",SECOND_NETTED_CUSTOMER_BID_PRICE:"sc_cbdp",SECOND_BUYER_ID:"sc_bId",SECOND_CAMPAIGN_ID:"sc_cmpid",SECOND_ADVERTISER_ID:"sc_advId",SECOND_ADVERTISER_NAME:"sc_advNm",SECOND_ADVERTISER_URL:"sc_advUrl",SECOND_CLOSING_PRICE:"sc_clsprc",CLOSING_PRICE:"clsPrc",DFP_BID:"dfpBd",CRID:"crid",AUCTION_TIME:"actltime",DFP_DIV_ID:"dfpDiv",DFP_POSITION_NAME:"dfpPos",BID_REUSED_FLAG:"brf",SIZE:"size",STATUS:"s",AUCTION_TYPE:"act",LOGGING_PERCENTAGE:"lper",DEAL_ID:"di",DEAL_TYPE:"dt",EXTERNAL_PLACEMENT_CODE:"epc",TEST_DATA:"td",LOAD_TIME:"ltime",SUB_BIDDER_ID:"sbdrid",BASE_BIDDER_ID:"bbdrid",PROVIDER_COOKIE_ID:"pcId",COOKIE_FLAG:"ckfl",NUMBER_MULTI_SIZES:"nms"},e.inherits(h,o);var J=new h;e.inherits(v,o);var K=new v;return X(),{fetchRequests:new T,cacheRequests:w,hbRequests:q,auctionParticipants:Z,auctionDecisions:J,auctionWinner:K,expiredBids:Q,CasaleDebug:new d,AmazonDebug:new M,gptSlots:new f,gptRequest:new U,casalenytErrorLog:new B,dfpAdDataLog:new l}});_mNDefine("dfpmanager",[window,"_mNRP","bidmanager","config","util","bid","logmanager","thirdpartymanager","abtestmanager","entitymanager","mnetHbConsole"],function(e,t,r,i,n,a,o,g,s,d,l){"use strict";function u(e,t){q[e]=t}function c(e){return n.isSet(e)?q[e]||"":""}function f(){e.googletag&&e.googletag._loadStarted_||e.advBidxc.isAdServerLoaded||(n.clock.tock("init"),n.clock.tick("gptLoad"),l.event("GPT loaded"),n.loadScript("//www.googletagservices.com/tag/js/gpt.js",m),W=e.advBidxc.startTime?n.getCurrentTime()-e.advBidxc.startTime:-1,e.advBidxc.isAdServerLoaded=!0)}function m(){n.clock.tock("gptLoad")}function p(){return e.googletag&&"function"==typeof e.googletag.pubads&&e.googletag.pubads()&&"function"==typeof e.googletag.pubads().getSlots&&e.googletag.pubads().getSlots()?!0:!1}function T(t){var r,i,a=e;return a.top==a&&(r=n.getWindowDimension(a),i=t.getSizes(r.width,r.height),n.isSet(i))?i:t.getSizes()||[]}function P(){var t,r,i,n=[];if(!p())return n;for(t=e.googletag.pubads().getSlots(),r=0,i=t.length;i>r;r++){var a,o,g=T(t[r]),s=t[r].getTargetingMap(),d=[],l=[],u={};for(a=0;a<g.length;a++)"object"==typeof g[a]&&d.push(g[a].getWidth()+"x"+g[a].getHeight());for(o in s)s.hasOwnProperty(o)&&l.push(o+"="+s[o][0]);u.elementId=t[r].getSlotElementId(),u.sizes=d.join("|"),u.customCriteria=l.join("|"),u.slotRenderTime=c(u.elementId),n.push(u)}return n}function S(t,r){for(var i,n=e.googletag.pubads().getSlots(),a=n.length-1,o=0;a>=o;a--)if(i=n[a]&&n[a].getSlotId()&&n[a].getSlotId().getId(),i===t||w(n[a],t,r))return n[a]}function v(){return n.isSet(z)&&n.isFunction(z.parseSlotID)&&parseInt(r.getCurrentPage())>0}function h(a){if(1!==e.advBidxc.noTarget){var s=void 0!==a;a=!!a;var d,l,u;if(U||(o.gptRequest.addNew(i.defaultBidderSetting.cid,n.clock.time("gptLoad"),n.clock.time("init"),W),U=!0),p()){var c=r.getAllAdUnitCodesArray();if(n.isArray(c)){var f,m,T,P,h="0";for(f=0,m=c.length;m>f;f++)T=c[f],P=S(T,v()||s&&!a),P&&(P&&v()&&(h=z.parseSlotID(P.getSlotElementId())),V[h]=V[h]||{},V[h]&&V[h][T]===!0||I(P,T)&&(r.shutDown(h,T),V[h][T]=!0,t.execSafe(L,T,P,h,a)));n.triggerEvent("adlog:trigger","command",!0),j[h]=j[h]||{},d=g.getGlobalTargetingParams(h),u=e.googletag.pubads();for(l in d)d.hasOwnProperty(l)&&!j[h][l]&&(u.setTargeting(l,d[l]),j[h][l]=!0)}}}}function I(e,t){var r=B(t);if(r.length>0){var i=r[0];if(b(e,i.w,i.h))return!0}return!1}function D(e,t){n.isSet(e)&&n.isSet(t)&&V[e]&&V[e][t]!==!1&&(V[e][t]=!1)}function E(t,r){var a=S(t,!1);if(void 0!==a){var o=a.getTargetingMap(),s=o[i.bidderExTargetParams.BIDDER_ID];delete o[i.defaultExTargetParams.NO_BID],void 0!==s&&(o[i.defaultExTargetParams.WINNER]=s);var d=i.bidderExTargetParams;for(var l in d)d.hasOwnProperty(l)&&o.hasOwnProperty(d[l])&&delete o[d[l]];var u,c,f=g.getTargetingParamsForCode(t,r);for(l=0;l<f.length;l++){u=f[l];for(c in u)u.hasOwnProperty(c)&&o.hasOwnProperty(c)&&delete o[c]}a.clearTargeting();for(c in o)o.hasOwnProperty(c)&&a.setTargeting(c,o[c]);var m=g.getGlobalTargetingParams(r);for(c in m)m.hasOwnProperty(c)&&(e.googletag.pubads().clearTargeting(c),n.isSet(j[r][c])&&delete j[r][c])}}function C(t,r){for(var i=0,a=r.length;a>i;i++)e.googletag.pubads().clearTargeting(r[i]),n.isSet(j[t][r[i]])&&delete j[t][r[i]]}function y(e,t){return{w:e,h:t}}function b(e,t,r){for(var i=T(e),n=0;n<i.length;n++)if("object"==typeof i[n]&&i[n].getWidth()===t&&i[n].getHeight()===r)return!0;return!1}function _(e,t,r){if(e.code===r)return!0;var i=!1;try{n.isSet(z)&&n.isFunction(z.isValidSlotCodeCheckByBidder)&&(i=!0)}catch(a){}return i?z.isValidSlotCodeCheckByBidder(A,e,t,r):n.isSet(e.slotsLike)&&new RegExp(e.slotsLike).test(r)===!0?!0:n.isSet(e.dfpDivIds)&&n.checkItemExists(e.dfpDivIds,r+",")?!0:n.isSet(e.custTargs)&&A(t,e.custTargs)?!0:!1}function w(t,r,a){var o,g=i.bidder,s=!1;if(!n.isFunction(t.getSlotElementId))return!1;o=t.getSlotElementId();for(var d=0,l=g.length;s!==!0&&l>d;d++)s=r===g[d].code&&_(g[d],t,o);if(a===!1)return s;var u=e._mNRequire(["gptmanager"])[0];return s&&!u.isSlotRendered(o)}function A(e,t){var r,i,a,o,g=e.getTargetingMap();for(r in t)if(t.hasOwnProperty(r))for(i=t[r]+"",a=i.split("|"),o=0;o<a.length;o++)if(g[r]&&n.isSet(a[o])&&g[r][0]===a[o])return!0;return!1}function B(e){for(var t=[],r=0;r<i.bidder.length;r++)if(i.bidder[r].code===e&&i.bidder[r].sizes&&i.bidder[r].sizes.length>0)for(var n=0;n<i.bidder[r].sizes.length;n++)t.push(y(i.bidder[r].sizes[n][0],i.bidder[r].sizes[n][1]));return t}function x(e,t,r,o){var g,s=i.bidderExTargetParams,l=t.getTargetingMap(),u=d.resolveMacros("%%CID%%");for(g in s)if(s.hasOwnProperty(g)&&!(l&&s[g]in l)){var c;c=s[g]===s.BIDDER_TYPE?e[0].getCustom(a.CustomProperties.EXTERNAL_BIDDER_TYPE)||"mnet":s[g]===s.CUSTOMER_ID?u:s[g]===s.DFP_SIZE||s[g]===s.AUCTION_TYPE?e[0].getCustom(a.CustomProperties[g]):s[g]===s.SECOND_PROVIDER_ID?n.isSet(e[1])?e[1].get(a.Properties.BIDDER_ID):"":s[g]===s.TEST_DATA?(e[0].getCustom(a.CustomProperties[g])||"")+"|"+d.getTestDataForPlacement(e[0].get(a.Properties.PLACEMENT_ID)):e[0].get(a.Properties[g]),t.setTargeting(s[g],n.encodeParam(c))}O(e,t)}function O(e,t){"testbidder"===e[0].name()&&t.setTargeting("mnTest","1")}function N(e){return n.any(i.bidderExTargetParams,function(t){return e===t?!0:void 0})}function R(e,t,r,i,n){for(var a,o,g=t.getTargetingMap(),s=!1,d=0;d<e.length;d++){a=e[d];for(o in a)!a.hasOwnProperty(o)||g&&o in g||(N(o)||(s=!0,n.tp[o]=a[o]),t.setTargeting(o,a[o]))}return s}function F(e,t){e.setTargeting(i.defaultExTargetParams.PAGE_ID,t.toString()),e.setTargeting(i.defaultExTargetParams.CC,d.getCountryCode()),e.setTargeting(i.defaultExTargetParams.UGD,d.getDeviceType()),"1"==i.hbInfo.targetDn&&e.setTargeting(i.defaultExTargetParams.DOMAIN_NAME,d.getHostname())}function k(e,t,n){r.isAnyBidReceivedForAdUnit(t,n)?e.setTargeting(i.defaultExTargetParams.NO_BID,"1"):e.setTargeting(i.defaultExTargetParams.NO_BID,"2")}function L(e,t,i,a){var s=r.getWinningBidByCode(e,i,!0),d=!0,l={auctionTime:r.getAuctionTime(e,i),tp:{}};null!==s[0]?(d=!1,x(s,t,e,i),M(s[0],t),n.extend(l,{winningBid:s[0],secondWinner:s[1]})):(s=r.getAnyBid(i,e),M(s,t),n.extend(l,{winningBid:s,minimal:!0})),d=!R(g.getTargetingParamsForCode(e,i),t,e,i,l)&&d,g.fillAllUniqueParams(l.tp),o.auctionDecisions.addNew(l),d&&k(t,e,i),F(t,i),M(g.getPlacementMap(i,e),t)}function M(e,t){if(n.isStringSet(e)){var r,i=t.getSlotElementId(),o=t.getTargetingMap();n.isSet(o)&&o.pos&&n.isStringSet(o.pos[0])&&(r=o.pos[0]),n.isArray(e)||(e=[e]);for(var g=0;g<e.length;g++){var s,d=e[g];if(d.setCustom(a.CustomProperties.DFP_DIV_ID,i),n.isStringSet(r)&&d.setCustom(a.CustomProperties.DFP_DIV_POSITION,r),s=d.getCustom(a.CustomProperties.LOGGING_PIXELS),n.isArray(s)&&0!==s.length){for(var l=0;l<s.length;l++)-1!==s[l].indexOf("/rtblog")&&(s[l]=s[l]+"&chnm="+n.encodeParam(i));d.setCustom(a.CustomProperties.LOGGING_PIXELS,s)}}}}function G(){j={}}var z,U=!1,j={},V={},W=-2,q={};try{z=e._mNRequire(["customutil"])[0]}catch(H){}return n.addToEventQueue("all:reset","command",G),{triggerDFP:f,setTargetingForAdUnitsGPTAsync:h,clearTargeting:E,clearCustomTargeting:C,clearSlotsTargetedMap:D,refresh:G,findSlot:S,matchCustomAdunitTargets:A,getAllDFPSlotsInfo:P,hasDFPLoaded:p,needsInfiniteScroll:v,validateDFPSizes:I,setSlotRenderTime:u,isValidSlotCodeCheckByBidder:_}});_mNDefine("bidpricemanager",["util","config","bid"],function(t,r,i){"use strict";function e(t){return!isFinite(t)||isNaN(t)?0:t}function s(r,i){return t.isSet(i)&&(r-=r*i/100),r}function d(r,i,e){t.isSet(i[r])&&(e[r]=i[r])}function n(t,r){for(var i in t)t.hasOwnProperty(i)&&r.hasOwnProperty(i)&&d(i,t,r)}function o(){return r.defaultBidderSetting.rvCode}function p(t,r){r.pvSh=t.pvSh||t.adUnitParam.pvSh||0,r.dsSh=t.dsSh||t.adUnitParam.dsSh||0,r.rvSh=t.rvSh||t.adUnitParam.rvSh||0,r.rvShPreDFP=1===o()?r.rvSh||0:0}function a(t,r){r.ogbdp=e(t.ogbdp),r.bdp=s(s(r.ogbdp,r.pvSh),r.dsSh),r.dfpbd=s(r.bdp,r.rvShPreDFP),r.clsprc=r.dfpbd,r.cbdp=s(r.bdp,r.rvSh)}function c(r,e){r.set(i.Properties.CPM,t.decimalLimit(e.clsprc)).set(i.Properties.BIDDER_PRICE,t.decimalLimit(e.bdp)).set(i.Properties.DFP_BID,t.decimalLimit(e.dfpbd)).set(i.Properties.CUSTOMER_BID_PRICE,t.decimalLimit(e.cbdp)).set(i.Properties.CLOSING_PRICE,t.decimalLimit(e.clsprc)).setCustom(i.CustomProperties.ORIGINAL_CPM,t.decimalLimit(e.ogbdp)).setCustom(i.CustomProperties.ZERO_ADJUSTMENT,e.pvSh).setCustom(i.CustomProperties.FIRST_ADJUSTMENT,e.dsSh).setCustom(i.CustomProperties.SECOND_ADJUSTMENT,e.rvSh)}function P(t,r){var i={};return r=r||{},r.adUnitParam=r.adUnitParam||{},p(r,i),a(r,i),n(r,i),c(t,i),t}return{setPriceProperties:P}});_mNDefine("mnetHbConsole",[window,"util","config","entitymanager"],function(e,a,r,n){"use strict";function t(e,a){L&&L.hasIframeLoaded()?L.renderDataLoadUrlsAfterIframeLoad(a,e):T[a]=e}function o(e,a){L&&L.hasIframeLoaded()?L.renderAuctionTimeAfterIframeLoad(e,a):B[a]=e}function d(e,a,r){var n=e.serialize();L&&L.hasIframeLoaded()?L.renderBidsAfterIframeLoad(n):(A[r]=A[r]||{},A[r][a]=n)}function i(e){L&&L.hasIframeLoaded()?L.renderPrefetchBidsAfterIframeLoad(e):v.push(e)}function s(e){var a=e.serialize();L&&L.hasIframeLoaded()?L.renderWinnerAfterIframeLoad(a):k.push(a)}function f(e){for(h=0,g=y.length;g>h;h++)-1!==e.indexOf(y[h])&&(L&&L.hasIframeLoaded()?L.renderLogUrlsAfterIframeLoad(e,y[h]):I.push(e))}function c(e){if(e){var a=e.serialize();L&&L.hasIframeLoaded()?L.renderFinalWinnerAfterIframeLoad(a):b.push(a)}}function l(e,a,r,n){switch(a){case"dataLoadUrl":t(e,r);break;case"auctionTime":o(e,n);break;case"bid":d(e,r,n);break;case"prefetchBid":i(e);break;case"winningBid":s(e);break;case"logUrl":f(e);break;case"finalWinner":c(e)}}function m(e){e&&(e=e+" after "+a.clock.diff()+" ms",L&&L.hasIframeLoaded()?L.renderTimelineAfterIframeLoad(e):p.push(e))}function u(){var a=-1!==n.getPublisherUrl().indexOf("hb_console=1");if(a){var t=document.getElementsByTagName("script")[0],o=document.createElement("script"),d=n.resolveMacros("%%PROTOCOL%%://contextual.media.net/hbConsoleController.php?consoleRequest=1&%%HTTPS_FLAG%%"),i=!1;o.type="text/javascript",o.src=d,o.onload=o.onreadystatechange=function(){i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(i=!0,e._mNRequire(["mnetHbConsoleRenderer"],function(e){L=e.renderer,L.handleTakeOver(r,T,B,v,I,A,k,b,p)}))},t.parentNode.insertBefore(o,t)}}var h,g,L,p=[],I=[],b=[],v=[],A={},k=[],T={},y=["prlog","adlog","awlog","aplog","prflog","gptrlog","gptslog","cslog"],B={};return{log:l,event:m,bootstrap:u}});_mNDefine("testbidder-adapter",[window,"util","bidmanager","bid","entitymanager","bidder","mnetHbConsole","logmanager"],function(e,t,s,o,r,i,n,a){"use strict";function d(e,i,a){if(null!==e){n.event("Bid rcv for '"+i+"' from "+e.provider());var d=e.getCustom(o.CustomProperties.PAGE_ID);t.addToEventQueue("auctionEnd",i,t.getProxy(I.handlePostAuctionClose,[],I)),t.addToEventQueue("secondWinner",i,t.getProxy(I.handlePostAuctionClose,[],I)),e.setCustom(o.CustomProperties.AUCTION_ID,r.getAuctionId(d,i)),e.setCustom(o.CustomProperties.AUCTION_TYPE,o.AuctionType.HEADER_BID),e.setCustom(o.CustomProperties.PROVIDER_REQUEST_ID,r.getProviderRequestID(e.provider(),o.AuctionType.HEADER_BID)),s.isAuctionClosedForAdUnitCode(i,d)?(e.status(e.status()===o.Status.SUCCESS?o.Status.RESPONSE_AFTER_AUCTION:o.Status.NOBID_AFTER_AUCTION),I.addLateResponse(e)):(s.addBidResponse(i,d,e),I.addForwardedResponse(e)),n.log(e,"bid",e.provider(),i),a&&t.triggerEvent("endOfResponse",e.provider(),!0)}}function u(e){var t=e.split("x");return'<!DOCTYPE html><html><head></head><body><style type="text/css">body { text-size-adjust:none; -webkit-text-size-adjust: none; }*{margin:0;padding:0}a{text-decoration:none;outline:none}a:hover{cursor:pointer; text-indent: 0}img{border:none}ul li{list-style:none}.clearfix:after{visibility: hidden;display:block;font-size: 0;content: " ";clear: both;height:0}* html .clearfix{zoom:1} *:first-child+html .clearfix{zoom:1} h1, h2, h3, h4, h5, h6 {font-weight: normal}body{background:#f4f4f4}h3{ font-family: arial; color: #000; font-size: 35px; text-align: center; height: '+t[1]+"px; line-height: "+t[1]+"px;}</style><h3>Media.net Creative</h3></body></html>"}function m(e,s){for(var i=0,n=e.length;n>i;i++){var a=e[i].params.cpm||"5.00";a=t.decimalLimit(a),s((new o).status(o.Status.SUCCESS).set(o.Properties.BIDDER_ID,I.config("id")).set(o.Properties.BIDDER_NAME,D).set(o.Properties.ADCODE,u(e[i].params.size)).set(o.Properties.SIZE,e[i].params.size).set(o.Properties.CPM,a).set(o.Properties.DFP_BID,a).set(o.Properties.CUSTOMER_BID_PRICE,"0").set(o.Properties.PLACEMENT_ID,e[i].params.code).set(o.Properties.CREATIVE_ID,e[i].params.mnet_id).setCustom(o.CustomProperties.PAGE_ID,e[i].params.pageId).setCustom(o.CustomProperties.DFP_SIZE,e[i].params.sizes[0].join("x")).setCustom(o.CustomProperties.PROVIDER_NAME,I.config("name")).setCustom(o.CustomProperties.ORIGINAL_CPM,a).setCustom(o.CustomProperties.FIRST_ADJUSTMENT,0).setCustom(o.CustomProperties.SECOND_ADJUSTMENT,0).setCustom(o.CustomProperties.LOGGING_PIXELS,[]).setCustom(o.CustomProperties.PROVIDER_REQUEST_ID,r.getProviderRequestID(e[i].params.pageId,D,o.AuctionType.HEADER_BID)).setCustom(o.CustomProperties.TIMESTAMP,t.getCurrentTime()).setCustom(o.CustomProperties.LOAD_TIME,0),e[i].params.code,n-i===1)}}function p(e){for(var t=[],s=0,i=e.length;i>s;s++){var n=e[s].params,d=r.getAuctionId(n.pageId,n.code);t.push((new o).set(o.Properties.PLACEMENT_ID,n.code).set(o.Properties.BIDDER_NAME,D).set(o.Properties.BIDDER_ID,l).set(o.Properties.size,n.size).set(o.Properties.CREATIVE_ID,n.mnet_id).setCustom(o.CustomProperties.PAGE_ID,n.pageId).setCustom(o.CustomProperties.AUCTION_ID,d).setCustom(o.CustomProperties.PROVIDER_NAME,c).setCustom(o.CustomProperties.AUCTION_TYPE,o.AuctionType.HEADER_BID).setCustom(o.CustomProperties.PROVIDER_REQUEST_ID,r.getProviderRequestID(n.pageId,D,o.AuctionType.HEADER_BID)))}a.fetchRequests.addArray(t)}function C(e){var t=e.bids;p(t),m(t,d)}function E(e,s){var o={};o.bidderCode=_,o.bids=[],t.each(e,function(e){A[e]&&o.bids.push(A[e])}),C(o)}function P(e){var s=e.bids,o=[];if(0!==s.length)return I=(new i).config(g),_=e.bidderCode,t.each(s,function(e){var t=e.params.code;o.push(t),A[t]=e}),t.addToEventQueue("getDefaultBiddersFromApi","global",t.getProxy(E,[o])),null}var I,D="testbidder",c="testbidder",l="99",_="",A={},g={name:c,id:l,bidderName:D};return{getBidsStatus:P}});_mNDefine("adaptermanager",["util","config","_mNRP","bid","mnetHbConsole","storagemanager","bidmanager","thirdpartymanager","entitymanager","abtestmanager"],function(e,t,r,o,i,n,a,s,d,l){"use strict";function m(e){var t;if(D[e])return D[e];try{t=window._mNRequire([e+"-adapter"])[0],D[e]=t}catch(r){return null}return t}function c(t,r){e.isStringSet(t)&&"object"==typeof r&&(D[t]=r)}function u(o,i){var n,s=t&&t.cbInfo&&t.cbInfo.cacheDisabled||!1,l=t&&t.hbInfo&&t.hbInfo.hbDisabled||i||!1,c={},u=[],p=[],g=!1,E=!1;i&&(g=!0),d.isHdHome()&&(s=!0,l=!0,g=!0,E=!0),e.each(o,function(t){var o;n=m(t.bidderCode),n&&e.isFunction(n.getBidsStatus)&&(o=r.execSafe(n.getBidsStatus,t,s)),e.isSet(o)&&e.each(o,function(t,r){e.each(t,function(e,t){c[t]=c[t]||e})})}),g||e.triggerEvent("getThirdPartyBiddersFromApi","global"),E||e.triggerEvent("getDefaultBiddersFromApi","global"),e.each(c,function(e,t){return s||!e&&!l?void(l||u.push(t)):p.push(t)}),!s&&p.length>0&&e.triggerEvent("getBidsFromCache","global",!1,p),!l&&u.length>0?e.triggerEvent("getBidsFromApi","global",!1,u):a.shutDown(),e.triggerEventWithBeforeAfter("apiCallsSent","global")}function p(){var e="<!DOCTYPE html><html><head></head><body><div></div></body></html>";return e}function g(e){var t=p();try{e.document.open(),e.document.write(t),e.document.close()}catch(r){}}function E(t,r){var n;if(r){n=r.get(o.Properties.ADCODE);try{if(n)return i.event("Ad rendered for "+r.get(o.Properties.PLACEMENT_ID)),!d.isSandboxEnabled()||e.isDocumentWritable?d.isAmpRequest()&&!window.advBidxc.isCalledFromAMP?(window.advBidxc.isCalledFromAMP=!1,t.document.write(n)):(t.document.open(),t.document.write(n),t.document.close()):(t.hbContent="<!DOCTYPE html><html><head></head><body>"+n+"</body></html>",t.location.replace('javascript:window["hbContent"];')),!0}catch(a){return!1}}return!1}function f(e){var t=e.provider(),r=m(t);return null!==r?r:m(e.name())}function h(e,t,r){var o,i,n;o=window._mNRequire(["dfpmanager"])[0],o.clearTargeting(e,t),r||(i=o.findSlot(e,!1),n=window._mNRequire(["gptmanager"])[0],n.refreshAd(i))}function b(t,n,l,c,u){try{u=e.isSet(u)?u:"0","facebookbidder"===n&&null===m(n)&&(n="facebookv2bidder");var p,f,A=!1,D=s.getBidForPlacementIdAndBidder(l,u,n);if(void 0===D)return d.isMnetBidderRequest()&&g(t),void r.pushError({message:"bidderName - "+n+", placementId - "+l+", pageId - "+u+", customParams = "+c,name:"NO_WINNING_BID_ERROR"});if(d.isAdxPostBidToBeDoneForExternalProvider(l,n)){if(e.isSet(D.get(o.Properties.SIZE))){var P=d.getRequireModule("mnetadxcontroller");return P.postBid(t,D,b,Array.prototype.slice.call(arguments)),void d.setTestDataForPlacement(l,"thirdParty=1")}r.pushError({message:"placementId - "+l+", pageId - "+u+"bidderID - "+D.get(o.Properties.BIDDER_ID)+"cpm"+D.get(o.Properties.CPM),name:"EXTERNAL_WINNING_BID_NOT_VALID_ERROR"})}if(D.setCustom(o.CustomProperties.RENDER_TRY_STATUS,!0),i.log(D,"finalWinner"),d.isSandboxEnabled()&&"facebookbidder"!==D.get(o.Properties.BIDDER_NAME)&&"facebookv2bidder"!==D.get(o.Properties.BIDDER_NAME)&&(t.frameElement.sandbox="allow-same-origin allow-forms allow-popups allow-scripts allow-pointer-lock allow-popups-to-escape-sandbox"),p=m(n),A=p&&p.renderExternal?p.renderExternal.apply(null,Array.prototype.slice.call(arguments)):E(t,D),D){"amazonbidder"===D.name()&&(D.set(o.Properties.CPM,c),D.set(o.Properties.CUSTOMER_BID_PRICE,c));try{var v=t.frameElement.height||0,C=t.frameElement.width||0;D.set(o.Properties.SIZE,C+"x"+v)}catch(T){}try{f=window._mNRequire(["customutil"])[0],e.isSet(f)&&e.isFunction(f.setData)&&D.setCustom(o.CustomProperties.TEST_DATA,f.setData(t))}catch(T){}}e.isSet(D)&&e.isFunction(D.provider)&&"AMAZON"!==D.provider()&&e.triggerEvent("afterRenderExternal",l,{winningBid:D,secondBid:a.getWinningBidByCode(l,u)});try{h(D.get(o.Properties.PLACEMENT_ID),u,!0)}catch(T){}}catch(_){r.pushError(_)}}function A(t,i,a,s){e.consoleLog(i);var m,c,u=i.name(),p=i.provider(),g=i.get(o.Properties.PLACEMENT_ID),b=i.getCustom(o.CustomProperties.PROVIDER_REQUEST_ID),A=!1;i.getCustom(o.CustomProperties.BID_LOG_STATUS)===!0&&r.pushError({message:["provider: ",i.provider()," name: ",i.name()," code: ",g].join(""),name:"LogError"}),e.consoleLog(u),e.consoleLog(i.id()),e.consoleLog(i.get(o.Properties.PLACEMENT_ID));var D;if(u){i.setCustom(o.CustomProperties.RENDER_TRY_STATUS,!0),m=f(i),d.isSandboxEnabled()&&(t.frameElement.sandbox="allow-same-origin allow-forms allow-popups allow-scripts allow-pointer-lock allow-popups-to-escape-sandbox"),A=e.isSet(m)&&e.isFunction(m.renderAd)?m.renderAd(t,i):r.execSafe(E,t,i),"boolean"==typeof A&&i.setCustom(o.CustomProperties.RENDER_STATUS,A);try{c=window._mNRequire(["customutil"])[0],e.isSet(c)&&e.isFunction(c.setData)&&(D=i.getCustom(o.CustomProperties.TEST_DATA)||"",i.setCustom(o.CustomProperties.TEST_DATA,D+"|"+c.setData(t)))}catch(P){}try{var v=t.frameElement.height||0,C=t.frameElement.width||0;i.set(o.Properties.SIZE,C+"x"+v)}catch(P){}e.isSet(s)&&e.isSet(s.td)&&(D=i.getCustom(o.CustomProperties.TEST_DATA)||"",i.setCustom(o.CustomProperties.TEST_DATA,D+"|"+s.td)),"videoadsbidder"!==i.get(o.Properties.BIDDER_NAME)&&e.triggerEvent("afterRender",g,i);try{h(g,a,!1)}catch(P){}l.isABTestEnabled("BID_NOT_WON")&&n.removeWonBid(p,g,b,d.getHeaderBiddingUrl(u))}}var D={};return{renderAd:A,registerAdapter:c,renderExternal:b,getBidsRevamped:u,renderEmptyAd:g,getAdapterFromCode:m}});_mNDefine("storagemanager",["util","config","_mNRP","bid","entitymanager","logmanager"],function(e,r,t,n,i,o){"use strict";function a(e,r,t,i){var o,a;for(e[j]=L,e[r]=e[r]||{},e[r][t]=e[r][t]||[],o=e[r][t],a=0;a<o.length;a++)for(var u in o[a])if(o[a].hasOwnProperty(u)&&o[a][u][n.CustomProperties.REFERRING_VISIT_ID]===i)return o[a];var s={};return o.push(s),s}function u(r,t){var i,o=n.CustomProperties.TIMESTAMP;for(var a in t)if(t.hasOwnProperty(a)){var u=t[a].serialize(),s=u[n.Properties.PLACEMENT_ID];e.isStringSet(s)&&(r[s]=u,i=u[o])}r[o]=e.getCurrentTime()}function s(e,r,t){var i;for(var o in r)if(r.hasOwnProperty(o)){i=r[o].getCustom(n.CustomProperties.REFERRING_VISIT_ID);break}var s=a(x,e,t,i);u(s,r)}function f(r,t){var i={};x=N()||{},S(r),e.each(t,function(r){if(e.isSet(r.get(n.Properties.CPM))&&parseFloat(r.get(n.Properties.CPM))>0){var t=r.getCustom(n.CustomProperties.PROVIDER_NAME);if(!e.isStringSet(t))return;i[t]=i[t]||[],i[t].push(r)}}),e.each(i,function(e,t){s(r,e,t)}),h(x)}function c(e){return k&&void 0!==J&&J.getItem(e)}function p(e){return k&&void 0!==J&&J.removeItem(e)}function v(e,r){return k&&void 0!==J&&J.setItem(e,r)}function P(){try{z=z||window._mNRequire(["lzstring"])[0],V=V||window._mNRequire(["abtestmanager"])[0]}catch(r){}return e.isSet(V)&&V.isABTestEnabled("LZ_COMPRESS")&&e.isSet(z)}function l(){return e.isSet(c(G))}function d(){if(l()){if(P())return z.decompressFromUTF16(c(G));setTimeout(e.getProxy(p,[G]),0)}return c(q)}function g(){var e=d();try{var r=JSON.parse(e);return r}catch(t){h({})}return{}}function S(e){U=e}function m(){q=G}function h(e){var r=JSON.stringify(e);P()&&(m(),r=z.compressToUTF16(r)),t.execSafe(v,q,r)}function I(e){return e&&e.get(n.Properties.STATUS)===n.Status.SUCCESS&&e.get(n.Properties.CPM)?!0:!1}function C(e){return e===j}function w(){var e=i.getDeviceType();return 2===e||3===e?r.cbInfo.bidCapM||3:r.cbInfo.bidCap||5}function M(r,t){var a=r[t],u={},s=w();if(a&&e.isArray(a)&&a.length>0){e.each(a,function(r,t){e.each(r,function(e,a){if("ts"!==a){if(i.isTimeStampExpired(e[n.CustomProperties.TIMESTAMP],e[n.CustomProperties.PROVIDER_NAME])){var s=(new n).deserialize(e);return I(s)&&o.expiredBids.addNew(s),void delete r[a]}u[a]=u[a]||[],u[a].push([t,e])}})}),e.each(u,function(r,t){var i=r.sort(function(e,r){var t=parseFloat(e[1][n.Properties.CPM]),i=parseFloat(r[1][n.Properties.CPM]);return t===i?r[1][n.CustomProperties.TIMESTAMP]-e[1][n.CustomProperties.TIMESTAMP]:i-t}).splice(s);0!==i.length&&e.each(i,function(e,r){delete a[e[0]][t]})});for(var f=0;f<a.length;)y(a[f])?a.splice(f,1):f++;0===a.length&&delete r[t]}else delete r[t]}function T(r,t){var n=!0,i=r[t];for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];a&&e.isArray(a)&&a.length>0&&(n=!1)}n&&delete r[t]}function E(){var e=N();if(e){for(var r in e)if(!C(r)&&e.hasOwnProperty(r)){var t=e[r];for(var n in t)t.hasOwnProperty(n)&&M(t,n);T(e,r)}h(e)}}function y(e){for(var r in e)if(e.hasOwnProperty(r)&&"ts"!==r)return!1;return!0}function R(e,r,t){return e&&e[r]&&e[r][t]&&e[r][t].length>0}function _(r){var t,n,o=N();return e.isEmptyObject(o)?!1:(n=i.getPrefetchUrl(),t=e.any(o[n],function(t,n){var i;return e.isArray(t)&&t.length>0&&(i=e.any(t,function(e){return r in e?!0:void 0}),i===!0)?!0:void 0}))}function O(r,t,a){if(!B())return null;E();var u=N();if(R(u,r,t)){var s={},f=[],c=!1,p={},v={};return e.each(u[r][t],function(r,u){var s=r[n.CustomProperties.TIMESTAMP]||0;return i.isTimeStampExpired(s,t)?void e.each(r,function(e){var r=(new n).deserialize(e);I(r)&&o.expiredBids.addNew(r)}):void e.each(a,function(t){var i;t in r&&(i=(new n).deserialize(r[t])),I(i)&&i.get(n.Properties.CPM)>0&&(!e.isSet(p[t])||i.get(n.Properties.CPM)>p[t].get(n.Properties.CPM))&&(p[t]=i,v[t]=u)})}),e.each(a,function(n){if(e.isSet(p[n])){var i=v[n];c=!0,delete u[r][t][i][n],s[n]=p[n],y(u[r][t][i])&&f.unshift(i)}}),f.sort(function(e,r){return r-e}),e.each(f,function(e){u[r][t].splice(e,1)}),h(u),s||null}}function A(r,t,i,o){if(B()){var a=N();R(a,o,r)&&(e.each(a[o][r],function(e,r){e[t]&&e[t][n.CustomProperties.PROVIDER_REQUEST_ID]===i&&delete e[t]}),h(a))}}function N(){var e=g();return e}function D(){var e="mntest";try{if("localStorage"in window&&null!==window.localStorage)return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(r){return!1}return!1}function B(){return t.execSafe(D)===!0&&e.isJSONSupported()===!0}function b(e){return c(e)||""}function F(e,r){return k&&v(e,r)}var x,U,z,V,J,q="BIDS_MAP",G="COM_BIDS_MAP",L="1",j="v",k=B();return k&&(J=window.localStorage),{setPageUrl:S,setBid:h,isBidPresentForPlacement:_,getBid:N,getBids:O,getInfo:b,setInfo:F,removeWonBid:A,setInStorage:f,supportStorage:B}});_mNDefine("abtestmanager",["util","config","storagemanager","entitymanager"],function(n,t,e,r){"use strict";function a(t,e){n.isArray(t)||(t=[t]),e=e||"";var r=n.any(t,function(t){return"object"==typeof S[t]&&n.isSet(S[t])?S[t][e]||null:S[t]||null});return r||!1}function i(t){var r,a=I[t];n.isSet(a)&&(r=JSON.stringify({val:a,ts:(new Date).getTime()}),e.setInfo(g,r),f(t,a))}function o(){var t,r=e.getInfo(g);if(!n.isStringSet(r))return null;try{t=JSON.parse(r)}catch(a){return null}return n.isStringSet(t.val)&&n.isStringSet(t.ts)?t:null}function u(){var r,a,i=o();return null===i?!1:(a=parseInt(i.val,10),a===l?(new Date).getTime()-i.ts<v?(f("DISABLE_AB",a),!0):(e.setInfo(g,"{}"),!1):(r=n.any(I,function(n,t){return n===a?t:void 0}),n.isStringSet(r)?t.abInfo&&t.abInfo[r]&&t.abInfo[r].abTimeout&&(new Date).getTime()-i.ts<60*t.abInfo[r].abTimeout*1e3?(f(r,a),!0):(e.setInfo(g,"{}"),!1):!1))}function f(e,a){return r.enabledABTests(a),t.abInfo&&t.abInfo[e]&&t.abInfo[e].code&&!n.isEmptyObject(t.abInfo[e].code)?void(S[e]=t.abInfo[e].code):void(S[e]=!0)}function s(){var e,r,a=[],o=[],u=0;return n.each(I,function(e,r){if(t.abInfo&&t.abInfo[r]&&n.isStringSet(t.abInfo[r].abFreq)){var i=u+1/parseFloat(t.abInfo[r].abFreq);a.push(i),u=i,o.push(r)}}),0!==a.length?(e=Math.random(),r=n.any(a,function(n,t){return n>=e?t:void 0}),n.isSet(r)?void i(o[r]):void i("DISABLE_AB")):void 0}function c(){var t=n.getParamValueFromUrlAsArray(r.getPublisherUrl()),e=t.force_abtest;return n.isStringSet(e)&&e in I?(f(e,I[e]),!0):!1}function b(){n.each(I,function(n,t){S[t]=!1}),!e.supportStorage()||c()||u()||s()}var S={},l=0,I={DISABLE_AB:l,BID_NOT_WON:3,LZ_COMPRESS:4,DISABLE_DUPLICATE:8,STREAM:9,GPT_DELAY:10},g="abtest",v=864e5;return b(),{isABTestEnabled:a}});_mNDefine("mnetcookiesyncmanager",["config","util","entitymanager","storagemanager"],function(e,n,i,r){"use strict";function c(){r.setInfo(b.OPENX.cookieLsKey,(new Date).getTime()/1e3)}function o(){var e=r.getInfo(b.OPENX.cookieLsKey);return n.isSet(i.getVisitorId())&&n.isSet(e)?e:""}function t(){var e=r.getInfo(b.OPENX.cookieLsKey);return n.isSet(e)&&(new Date).getTime()/1e3-e<=b.OPENX.cookieExpiry}function s(){u(x.ox.iframeId,null,x.ox.iframeBody,c)}function y(e){if(e.length>0){var i=x.mnsync.iframeSrc+n.encodeParam(e.join(","))+"&rtime="+n.clock.diff();u(x.mnsync.iframeId,i,null)}}function d(e){return n.filter(e,function(e){return"OPENX"===e?!t():!i.isCookieSyncDisabled(e)&&b.hasOwnProperty(e)})}function a(){var i=[];return n.each(e.bidder,function(e){n.isArray(e.bids)&&0!==e.bids.length&&n.each(e.bids,function(e){var r=e.bidder;if(P.hasOwnProperty(r))if("rtbsbidder"===r||"rtbsdefaultbidder"===r){if(!n.isArray(e.cbidders)||0===e.cbidders.length)return;n.each(e.cbidders,function(e){b.hasOwnProperty(e)&&!n.checkItemExistsInArray(i,e)&&i.push(e)})}else n.checkItemExistsInArray(i,P[r])||i.push(P[r])})}),i}function p(){var e=a();return d(e)}function I(e){var i=[];if(0!==e.length){var r;n.each(e,function(e){switch(r=b[e].syncType){case"ox":s();break;case"mnsync":i.push(e)}}),y(i)}}function f(){var e=p();I(e)}function u(e,i,r,c){var o={};n.isStringSet(i)&&(o.src=i),n.createNonBlockingFrame(e,r,document.body,o,c)}function T(e){return b.hasOwnProperty(e)?"OPENX"===e?o():E(S,b[e].cookieIndex):""}function m(i,r){return 0===r?"1"===e._apnCk:!n.isSet(r)||n.isStringSet(i.split("|")[r])}function E(e,i){if(!n.isSet(i))return"";var r=m(e,i)?e.split("|")[i]:"";return n.isStringSet(r)?r.split("*")[0]:""}var P={openxbidder:"OPENX",openxprivatebidder:"OPENXS2S",pulsepointprivatebidder:"PULSEPOINT",rtbsbidder:"",rtbsdefaultbidder:"",rubiconprivatebidder:"RUBICON_PRIVATE",tripleliftprivatebidder:"TRIPLELIFT_PRIVATE",sonobiprivatebidder:"SONOBI",appnexusprivatebidder:"APPNEXUS"},S=e._dataCk,O=e.linfo.clper||0,k=e.hbInfo.fcsync||"0",x={ox:{iframeId:"_oX_cksync_0",iframeBody:i.resolveMacros('<!DOCTYPE html><html><head></head><body><script type="text/javascript">if (!window.OX_ads) { OX_ads = []; }OX_ads.push({ "auid" : "1234567" });<\/script><script type="text/javascript" src = "%%PROTOCOL%%://us-ads.openx.net/w/1.0/jstag"><\/script></body></html>')},mnsync:{iframeId:"_mN_cksync_0",iframeSrc:i.resolveMacros(["%%PROTOCOL%%","://contextual.media.net/checksync.php?","&cv=30","&cid=","%%CID%%","&vsSync=","1","&force=",k,"&%%HTTPS_FLAG%%","&vid=","%%VISIT_ID%%","&vsid=","%%VISITOR_ID%%","&sd=","%%SESSION_DEPTH%%","&cc=","%%COUNTRY_CODE%%","&ugd=","%%DEVICE_TYPE%%","&dn=","%%PUBLISHER_HOST%%","&lper=",O,"&prv="].join(""))}},b={OPENX:{syncType:"ox",cookieLsKey:"oxcsync",cookieExpiry:604800,cookieIndex:6,priority:6},APPNEXUS:{syncType:"mnsync",cookieIndex:0,priority:1},CASALE:{syncType:"mnsync",cookieIndex:2,priority:2},PULSEPOINT:{syncType:"mnsync",cookieIndex:4,priority:3},RUBICON_PRIVATE:{syncType:"mnsync",cookieIndex:3,priority:4},SONOBI:{syncType:"mnsync",cookieIndex:5,priority:5},SONOBI_PRIVATE:{syncType:"mnsync",cookieIndex:5,priority:5},CPXI:{syncType:"mnsync",cookieIndex:0,priority:1},DISTRICTM_DIRECT:{syncType:"mnsync",cookieIndex:0,priority:1},DISTRICTM_MNET:{syncType:"mnsync",cookieIndex:0,priority:1},APPNEXUS_PRIVATE:{syncType:"mnsync",cookieIndex:0,priority:1},ADREADY:{syncType:"mnsync",cookieIndex:0,priority:1},OPENXS2S:{syncType:"mnsync",cookieIndex:6,priority:6},OPENXS2S_MNET:{syncType:"mnsync",cookieIndex:6,priority:6},TRIPLELIFT_PRIVATE:{syncType:"mnsync",cookieIndex:7,priority:7},MEDIAMATH:{syncType:"mnsync",cookieIndex:8,priority:8}};return{initiateCookieSync:f,getCookieData:T}});_mNDefine("gptmanager",[window,"_mNRP","config","util","bidmanager","dfpmanager","abtestmanager","entitymanager","logmanager","storagemanager","bid"],function(e,t,n,o,i,r,a,g,s,d,l){"use strict";function u(){function e(){var e=n.abInfo.GPT_DELAY.lo,t=n.abInfo.GPT_DELAY.hi,i=n.abInfo.GPT_DELAY.incr,r=(t-e)/i;return e+o.getRandom(0,r)*i}a.isABTestEnabled("GPT_DELAY")&&(J=n.hbInfo.degpt=n.hbInfo.mdegpt=n.hbInfo.gdTime=n.hbInfo.deDp=n.hbInfo.mdeDp=e())}function c(e){e=e||1;var t=g.getDeviceType();return 1===e?2===t||3===t?n.hbInfo.mdeDp||n.hbInfo.deDp:n.hbInfo.deDp:2===t||3===t?n.hbInfo.mdegpt||n.hbInfo.degpt:n.hbInfo.degpt}function f(e){var t=n.bidder,i=e.getSlotElementId();return o.any(t,function(t){return t.ng===!0&&r.isValidSlotCodeCheckByBidder(t,e,i)?t:void 0})}function m(e){return 1===K[e]}function p(e){var t=n.bidder,i=e.getSlotElementId();return o.any(t,function(t){return r.isValidSlotCodeCheckByBidder(t,e,i)?t:void 0})}function v(e){var t=p(e);return t?t.code:""}function h(e){var t=f(e),n=e.getSlotElementId();return o.isSet(t)&&!o.isSet($[n])?t:null}function I(e){var t=[];if(o.isArray(e)&&e.length>0)return o.each(e,function(e){var n=h(e);null!==n&&t.push(n.code)}),t}function y(e,t){o.isArray(e)&&e.length>0&&o.each(e,function(e){$[e]=t})}function S(e){o.isArray(X[e])&&X[e].length>0&&(t.execSafe(r.setTargetingForAdUnitsGPTAsync),Z[e]=!0,o.each(X[e],function(e){e()}))}function b(t){return o.any(e.googletag.pubads().getSlots(),function(e){return e.getSlotElementId()===t?e:void 0})}function T(t){Q=void 0,e.advBidxc.getBidsForSlots(q[t])}function A(e){e?T(V):Q=setTimeout(o.getProxy(T,[V]),H),setTimeout(o.getProxy(S,[V]),J)}function E(n,i,a){var g,s,d=[],l=!a&&ne===!0;if(l?(g=e.googletag.pubads().getSlots(),g=o.filter(g,function(e){var t=e.getSlotElementId();return 1!==K[t]?(d.push(t),!0):void 0})):g=[b(i)],s=I(g),o.isArray(s)&&0===s.length)if(o.isSet($[i])&&Z[$[i]]===!1){var u=$[i];X[u]=X[u]||[],X[u].push(n)}else t.execSafe(r.setTargetingForAdUnitsGPTAsync),n();else(l||void 0===Q)&&(V++,Z[V]=!1),X[V]=X[V]||[],X[V].push(n),q[V]=q[V]||[],Array.prototype.push.apply(q[V],s),(l||void 0===Q)&&A(l),l?y(d,V):y(s,V)}function P(e,n){o.isSet(oe[n.getSlotElementId()])||(oe[n.getSlotElementId()]=1,t.execSafe(r.setTargetingForAdUnitsGPTAsync),e())}function x(e,n,a){var g=!1,s=!1,d=!1;return o.each(n,function(t){var n=p(t);if(o.isSet(n)&&n.ng!==!0&&1!==K[t.getSlotElementId()]&&(g=!0),!d&&o.isSet(n)&&n.ng!==!0&&o.isSet(c(2))&&!i.isAuctionClosedForAdUnitCode(n.code,"0")){var r=o.getProxy(P,[e,t]);setTimeout(r,c(2)),o.addToEventQueue("auctionEnd","global",r),d=!0}o.isSet(n)&&n.ng&&(s=!0)}),d!==!0?g===!0&&d===!1?(t.execSafe(r.setTargetingForAdUnitsGPTAsync),void e()):void(s?E(e,n[0].getSlotElementId(),a):e()):void 0}function D(){j||(clearTimeout(O),O=void 0,j=!0,o.each(W,function(e){e()}))}function B(){var t,n=e.googletag.display,r=function(){try{var e=Array.prototype.slice.call(arguments),t=e[0],i=o.getProxy(n,e,this);if(!o.isArray(e)||!o.isStringSet(e[0]))return;if(te===!0)return void i();E(i,t)}catch(r){}};return o.isSet(c(1))?(t=function(){var e=Array.prototype.slice.call(arguments);return i.checkAllAuctionsDone("0")||j?r.apply(this,e):(o.isSet(O)||(O=setTimeout(D,c(1)),o.addToEventQueue("auctionEnd","global",D)),void W.push(o.getProxy(r,e,this)))},void(e.googletag.display=t)):void(e.googletag.display=r)}function G(t,n){if(0===n.length){try{e.advBidxc.refresh()}catch(i){}return!0}var r,a=[],g=n[0];if(o.each(g,function(e){if(o.isSet(e)){var t=v(e);r=e.getSlotElementId(),o.isSet(t)&&1===K[r]&&a.push(t)}}),a.length>0){try{e.advBidxc.refresh(a)}catch(i){}return!0}return te===!0?(o.isSet(c(2))?x(t,g,!0):E(t,r,!0),!1):!0}function _(e){t.execSafe(r.setTargetingForAdUnitsGPTAsync,!0),e()}function C(){var t=e.googletag.pubads().refresh;e.googletag.pubads().refresh=function(){var e=Array.prototype.slice.call(arguments);o.isArray(e[0])&&(e[0]=o.filter(e[0],function(e){return o.isSet(e)}));var n=o.getProxy(t,e,this),i=G(n,e);if(i){var r=g.getGoogleRefreshDelay();return o.isSet(r)?void setTimeout(o.getProxy(_,[n]),r):_(n)}}}function L(){var t=e.googletag.pubads().enableSingleRequest;e.googletag.pubads().enableSingleRequest=function(){return te===!1&&(ne=!0),t.apply(this,Array.prototype.slice.call(arguments))}}function R(){if(e.google_DisableInitialLoad===!0)return te=!0,void(ne=!1);var t=e.googletag.pubads().disableInitialLoad;e.googletag.pubads().disableInitialLoad=function(){return te=!0,ne=!1,t.apply(this,Array.prototype.slice.call(arguments))}}function F(){if(e.googletag&&e.googletag.cmd||(e.googletag=e.googletag||{},e.googletag.cmd=e.googletag.cmd||[]),n.hbInfo&&n.hbInfo.ovGptFun){var t=function(){e.googletag.pubads().addEventListener("slotRenderEnded",function(e){var t=e.slot.getSlotElementId();o.isSet(v(e.slot))&&o.isSet(t)&&(K[t]=1)}),R(),L(),B(),C(),e.advBidxc.setTargetingForAdUnitsGPTAsync=function(){}};o.isArray(e.googletag.cmd)?e.googletag.cmd.unshift(t):(ee=!0,e.googletag.cmd.push(t))}}function N(t,n){d.isBidPresentForPlacement(n)===!0&&e.googletag.pubads().refresh([t])}function M(e){var t=v(e);if(o.isSet(t)){var n=g.getAutoRefreshTimeout(t);null!==n&&setTimeout(o.getProxy(N,[e,t]),n)}}function U(e){var t=e.slot,r=t.getTargetingMap()||{},a=v(t),g=t.getResponseInformation()||{},d=r[n.bidderExTargetParams.PLACEMENT_ID]&&r[n.bidderExTargetParams.PLACEMENT_ID][0]||a,u=r[n.defaultExTargetParams.PAGE_ID]&&r[n.defaultExTargetParams.PAGE_ID][0]||i.getCurrentPage(),c=i.getWinningBidByCode(d,u,!1)||{};r.advertiserId=g.advertiserId||"",r.campaignId=g.campaignId||"",r.creativeId=g.creativeId||"",r.labelIds=g.labelIds||[],r.lineItemId=g.lineItemId||"",r.slotElementId=t.getSlotElementId(),r.dfpDivSize=o.isArray(e.size)?e.size.join("x"):"",r.originalBidPrice=c&&c.getCustom&&c.getCustom(l.CustomProperties.ORIGINAL_CPM)||"",s.dfpAdDataLog.addDFPSlotData(r)}function k(e){var r=function(){var t=e.slot.getTargetingMap(),r=t[n.bidderExTargetParams.PLACEMENT_ID],a=t[n.defaultExTargetParams.PAGE_ID];o.isArray(a)&&o.isArray(r)&&o.isStringSet(a[0])&&o.isStringSet(r[0])&&i.storeBidIfNotRendered(r[0],a[0])};setTimeout(function(){setTimeout(function(){t.execSafe(r)},500)},500)}function Y(){e.googletag.cmd.push(function(){e.googletag.pubads&&e.googletag.pubads().addEventListener("slotRenderEnded",function(e){e&&e.slot&&o.isFunction(e.slot.getTargetingMap)&&(U(e),a.isABTestEnabled("BID_NOT_WON")&&k(e),r.setSlotRenderTime(e.slot.getSlotElementId(),o.clock.getTime("init")))})})}function w(){$={}}function z(){u(),F(),Y(),o.addToEventQueue("resetAw","command",w)}var O,Q,q={},V=0,W=[],j=!1,H=n.hbInfo.gbTime||30,J=n.hbInfo.gdTime||300,K={},X={},Z={},$={},ee=!1,te=!1,ne=!1,oe={};return{isSlotRendered:m,refreshAd:M,init:z}});_mNDefine("bidmanager",["util","config","bid","entitymanager","thirdpartymanager","storagemanager","abtestmanager","mnetHbConsole","logmanager"],function(e,t,n,i,r,o,u,s,c){"use strict";function d(e,t){return ee[e]&&ee[e][t]?ee[e][t]:null}function a(t,n){e.clock.tick(t+n+"auctionTime")}function l(t,n){var i;if(i=d(n,t),null!==i){k(i);var r=i.bids.slice(1,2);S(t,n,r)}e.clock.time(t+n+"auctionTime")||e.clock.tock(t+n+"auctionTime")}function g(t,n){return e.clock.time(t+n+"auctionTime")||0}function f(t,n){return e.clock.getTime(t+n+"auctionTime")}function m(e,t){var n=i.getAuctionTimeForMnetBidderRequest(),r=f(e,t);return-1!==r&&r>n}function C(e){oe.status=e}function p(){return oe.status}function A(n){var i=e.any(t.bidder,function(e){return e.code===n?e.mnet_id:void 0});return i||0}function P(){var t=[],n={};return e.each(ee,function(i,r){e.each(i,function(e,i){n[i]!==!0&&(t.push(i),n[i]=!0)})}),t}function v(t,r){var o,u,s;o=d(r,t),u=k(o),null===u||e.isSet(ne[t])||(s=u.getCustom(n.CustomProperties.RENDER_START_STATUS),s!==!0&&T(i.getPrefetchUrl(),[u]),ne[t]=s||!1)}function T(e,t){for(var r,u,s=[],c=0;c<t.length;c++)u=t[c].serialize(),u[n.CustomProperties.TIMESTAMP]=u[n.CustomProperties.TIMESTAMP]||(new Date).getTime(),u[n.CustomProperties.BID_REUSED_FLAG]=1,u[n.Properties.STATUS]=n.Status.SUCCESS,u[n.CustomProperties.REFERRING_VISIT_ID]=i.resolveMacros("%%VISIT_ID%%"),r=(new n).deserialize(u),s.push(r);o.setInStorage(e,s)}function S(t,n,r){te[t]=te[t]||{},te[t][n]=te[t][n]||!1,te[t][n]===!1&&r&&e.isArray(r)&&(te[t][n]=!0,T(i.getPrefetchUrl(),r))}function I(){if(i.isMnetBidderRequest()){var t=i.getRequireModule("mnethbadaptercontroller");e.isSet(t)&&e.isFunction(t.callMnetBidderCallback)&&t.callMnetBidderCallback()}}function E(t){var i;for(e.isArray(t)||(t=[t]),t.sort(G),i=0;i<t.length;i++)t[i]&&t[i].set(n.Properties.DOMINANT_BID_FLAG,0===i?"1":"0");e.each(t,function(e){e.set(n.Properties.NUMBER_MULTI_SIZES,t.length+"")})}function R(t,i,o){i=e.isSet(i)?i:"0",e.consoleLog("adding response ",o.serialize());var u=d(i,t);null!==u&&u.auctionClosed||t!==o.get(n.Properties.PLACEMENT_ID)||(e.isSet(o.get(n.Properties.DOMINANT_BID_FLAG))||o.set(n.Properties.DOMINANT_BID_FLAG,"1"),u.bidsReceivedCount++,oe.received++,o.getAny("THIRD_PARTY_TARGETS")||o.getAny("THIRD_PARTY_TARGETS_GLOBAL")?r.addBidResponse(t,i,o):(u.bids.push(o),h(o)),_(t,i)&&(u.auctionClosed=!0,l(t,i),s.event("Auc end for "+t),s.log(e.clock.time(t+i+"auctionTime"),"auctionTime","",t),e.triggerEvent("auctionEnd",t,{winner:k(u)}),b(i)&&(e.triggerEvent("auctionEnd","global"),I())))}function M(t,n){var i={},r=g(t,"0"),o=y(t,"0",!0);e.extend(i,{auctionTime:r,winningBid:null===o[0]?H("0",t):o[0],secondWinner:o[1],minimal:null===o[0],tp:n||{}}),c.auctionDecisions.addNew(i)}function b(e){if(ee.hasOwnProperty(e))for(var t in ee[e])if(ee[e].hasOwnProperty(t)&&ee[e][t].auctionClosed===!1)return!1;return!0}function _(e,t){var n=d(t,e);return null!==n&&(q(n)||i.isMnetBidderRequest()&&m(e,t))}function B(e){return{bidsReceivedCount:0,auctionClosed:!1,bids:[],bidsExpected:e.expectedBids||0,startTime:0,endTime:0,bidders:e.bidders,pageId:e.pageId}}function h(){}function D(){return{bids:[],allBidsAvailable:!1,bidsReceivedCount:0}}function N(t,n){if(!e.isStringSet(n)||!e.isStringSet(t))return[];var i=d(n,t);return null!==i?i.bids:D()}function y(e,t,n,r){var o,u=d(t,e);return o=null!==u&&u.auctionClosed?k(u,n,r):n?[null,null]:null,i.isMnetAdxEnabled(e)&&J()&&(o=$.manipulateWinningBid(o,e,t)),o}function w(t,i){var r=y(t,i,!0);return null===r[1]||0===r[1].getCustom(n.CustomProperties.ORIGINAL_CPM)?-1:r[0].getCustom(n.CustomProperties.ORIGINAL_CPM)===r[1].getCustom(n.CustomProperties.ORIGINAL_CPM)?r[0].getCustom(n.CustomProperties.ORIGINAL_CPM):e.decimalLimit(r[1].getCustom(n.CustomProperties.ORIGINAL_CPM)+ie)}function L(e){return!!(e&&e.get(n.Properties.CPM)&&e.get(n.Properties.CPM)>0&&e.get(n.Properties.BIDDER_NAME))}function F(e,t){var n=[];return L(e[0])?L(e[1])?n.push(e[0],e[1]):n.push(e[0],null):n.push(null,null),t?n:n[0]}function G(e,t){var i=0,r=0;if(t.get(n.Properties.CPM))try{i=parseFloat(t.get(n.Properties.CPM))}catch(o){}if(e.get(n.Properties.CPM))try{r=parseFloat(e.get(n.Properties.CPM))}catch(o){}return i-r}function O(e){e&&e.bids&&!e.winnerDecided&&(e.winnerDecided=!0,e.bids.sort(G))}function U(t){if(t&&t.length>0)for(var r=0,o=t.length;o>r&&t[r];)if(L(t[r])&&e.isSet(t[r].getCustom(n.CustomProperties.TIMESTAMP))&&!i.isTimeStampExpired(t[r].getCustom(n.CustomProperties.TIMESTAMP),t[r].getCustom(n.CustomProperties.PROVIDER_NAME)))r++;else{var u=t.splice(r,1);L(u[0])&&e.isSet(u[0].getCustom(n.CustomProperties.TIMESTAMP))&&c.expiredBids.addNew(u[0])}}function k(e,t,n){var i=e.bids;return n!==!0&&U(e.bids),0===i.length?(e.winnerDecided=!0,t?[null,null]:null):e.winnerDecided?F(i,t):(O(e),F(i,t))}function x(e,t){var n=d(t,e);return null!==n&&n.auctionClosed?!0:!1}function q(e){return e.bidsReceivedCount===e.bidsExpected}function V(t){var n=t.pageId;e.consoleLog(t),s.event("Auc for "+t.adunitCode+" regd"),ee[n]=ee[n]||{},ee[n][t.adunitCode]=B(t),a(t.adunitCode,n),oe.count+=t.expectedBids}function W(t,n){var i=d(n,t);null===i||i.auctionClosed||(i.auctionClosed=!0,l(t,n),s.event("Auc end for "+t),s.log(e.clock.time(t+n+"auctionTime"),"auctionTime","",t),e.triggerEvent("auctionEnd",t,{winner:k(i)}))}function z(t,n){if(e.isStringSet(t)){if(e.isStringSet(n))W(n,t);else for(var i in ee[t])ee[t].hasOwnProperty(i)&&W(i,t);b(t)&&e.triggerEvent("auctionEnd","global")}}function H(t,i){var r=d(t,i);if(e.isSet(r)&&e.isArray(r.bids)&&r.bids.length>0)return r.bids[0];var o=A(i);return(new n).setCustom(n.CustomProperties.PAGE_ID,t).set(n.Properties.PLACEMENT_ID,i).set(n.Properties.CREATIVE_ID,o)}function Y(){re+=1;var t;try{t=window._mNRequire(["customutil"])[0]}catch(n){}if(e.isSet(t)&&e.isFunction(t.updatePageNo)){var i=parseInt(t.updatePageNo(re),10);i>0&&!ee[i]&&Q(i)}}function Q(e){re=e}function Z(){return re.toString()}function j(){oe={count:0,status:0,received:0}}function J(){try{$=$||window._mNRequire(["mnetadxcontroller"])[0]}catch(e){}return $}function K(t,n){var i=d(n,t);return e.isSet(i)&&e.isSet(i.bidsReceivedCount)?i.bidsReceivedCount>0:!1}function X(t,n){var i=d(n,t);if(e.isSet(i)&&e.isSet(i.bids))for(var r=0;r<i.bids.length;r++)if(L(i.bids[r]))return!0;return!1}var $,ee={},te={},ne={},ie=.01,re=0,oe={count:0,status:0,received:0};return e.addToEventQueue("all:reset","command",j),{setStatus:C,getStatus:p,addBidResponse:R,registerAuction:V,getAllAdUnitCodesArray:P,createEmptyResponseForAdunit:D,auctionStatus:_,getAllBidsByAdUnit:N,getWinningBid:k,getAnyBid:H,shutDown:z,getWinningBidByCode:y,isAuctionClosedForAdUnitCode:x,getAuctionTime:g,getSecondPriceByCode:w,newAuction:Y,refresh:j,checkAllAuctionsDone:b,getCurrentPage:Z,storeBidsForReuse:T,storeBidIfNotRendered:v,isAnyBidReceivedForAdUnit:K,isAnyBidInForAdUnit:X,getAuctionTimeFromStart:f,callAuctionDecision:M,setDominantBid:E}});_mNDefine("init",["util","_mNRP","config","entitymanager","bidmanager","adaptermanager","dfpmanager","storagemanager","thirdpartymanager","gptmanager","bid","mnetcookiesyncmanager"],function(e,i,t,n,r,d,o,a,s,c,u,g){"use strict";function l(i){var t,n;for(t=0,n=i.length;n>t;t++)e.isFunction(i[t])&&i[t].call(null)}function f(){void 0!==window.advBidxc&&window.advBidxc.exec?(e.isArray(window.advBidxc.exec)&&l(window.advBidxc.exec),window.advBidxc.exec=ne):(window.advBidxc=window.advBidxc||{},window.advBidxc.exec=ne)}function m(i){if(void 0===i)return!0;var t="";return t=n.isAmpRequest()?"ampproject.net":e.getHostname(n.getPublisherUrl()),e.checkItemExistsInArray(i,t)}function p(){for(var e=t.bidder.length;e--;)m(t.bidder[e].dn)||t.bidder.splice(e,1)}function v(){var i=[];return e.each(t.bidder,function(e){e.ng!==!0&&i.push(e.code)}),i}function b(i){var t={};return e.each(i,function(e){t[e]=!0}),t}function A(t,o,a,s){a=e.isSet(a)?a:"0",i.execSafe(function(t,o){e.consoleLog("rendering");var c;if(t&&o){if(c=r.getWinningBidByCode(o,a,!1,!0)){if(c.setCustom(u.CustomProperties.RENDER_START_STATUS,!0),e.consoleLog(c.name()),n.isAdxPostBidToBeDone(o)){if(e.isSet(c.get(u.Properties.SIZE))){var g=J();return void g.postBid(t,c,A,Array.prototype.slice.call(arguments))}i.pushError({message:"placementId - "+o+", pageId - "+a+"bidderID - "+c.get(u.Properties.BIDDER_ID)+"cpm"+c.get(u.Properties.CPM),name:"WINNING_BID_NOT_VALID_ERROR"})}return d.renderAd(t,c,a,s)}i.pushError({message:"placementId - "+o+", pageId - "+a,name:"NO_WINNING_BID_ERROR"}),n.isMnetBidderRequest()&&d.renderEmptyAd(t),e.consoleLog("no winning bid found")}},t,o)}function w(e){i.execSafe(o.setTargetingForAdUnitsGPTAsync,!!e)}function B(i,t){for(var d,o,a,s=i.bids,c=i.code,u=i.sizes,g=n.isTestMode(),l={},f=0,m=0,p=s.length;p>m;m++)d=s[m],("undefined"==typeof d.test||1===d.test&&g)&&(d.code=c,d.sizes=u,d.params.pageId=r.getCurrentPage(),i.ng===!0&&(d.params.ng=i.ng),t===!0&&n.setTestDataForPlacement(c,"m=ref"),o=te[d.bidder],l[d.bidder]=1,void 0===o&&(o={bidderCode:d.bidder,bids:[]},te[o.bidderCode]=o),o.bids.push(d),"ybncabidder"===d.bidder?(e.isArray(d.cbidders)||(d.cbidders=[]),e.isSet(d.params.auto)&&e.getRandom(0,100)<d.params.auto&&e.isSet(d.params["YBNCA-AUTO"])?(a="YBNCA-AUTO",delete d.params.YBNCA):void 0!==d.params.YBNCA&&(a="YBNCA",delete d.params["YBNCA-AUTO"]),e.insertOrReplaceIntoArray(d.cbidders,"YBNCA",a)):"rtbsbidder"===d.bidder&&(e.isArray(d.cbidders)||(d.cbidders=["APPNEXUS","CASALE"],d.params.APPNEXUS={cid:d.params.cid,size:d.params.size},d.params.CASALE={cid:d.params.cid,size:d.params.size})),f+=I(d));return[l,f]}function E(e){return e.params.mulSiz===!0?e.params.sizes.length:1}function h(i){var t=0;return e.each(i.cbidders,function(n){var r=i.params[n]&&i.params[n].size;return e.isArray(r)?void(t+=r.length):void t++}),t}function I(i){return e.isSet(i.cbidders)?h(i):E(i)}function P(i,t){var n=[];for(var r in te)te.hasOwnProperty(r)&&n.push(te[r]);e.isFunction(i)&&n.sort(i),d.getBidsRevamped(n,t)}function R(i,n){var d,o;te={};for(var a=0,s=t.bidder.length;s>a;a++)d=t.bidder[a],i[d.code]===!0&&(o=B(d,n),r.registerAuction({adunitCode:d.code,expectedBids:o[1],timeout:d.timeout,pageId:r.getCurrentPage(),bidders:o[0]}),e.addToEventQueue("auctionEnd",d.code,S));P(t.sort,n)}function x(e){for(var i=!0,n=0,d=t.bidder.length;d>n;n++){var o=t.bidder[n].code;if(i=r.isAuctionClosedForAdUnitCode(e,o),!i)break}return i}function S(i,t){if(n.isAmpRequest())return void $.triggerAMPDFP(i.src);var d=x(r.getCurrentPage());e.consoleLog("Auction Ends for ",i.src,t),e.consoleLog("All Auction closed :"+d),d&&y()}function C(i){return e.isArray(i)&&0!==i.length}function T(){o.triggerDFP()}function y(){if(ie.cDFP&&!n.isMnetBidderRequest())T();else{var i;try{i=window._mNRequire(["customutil"])[0]}catch(t){}e.isSet(i)&&e.isFunction(i.triggerDFP)&&i.triggerDFP()}}function D(){e.addToEventQueue("auctionEnd","global",y),ie.timeout&&(e.isFunction(window.advBidxc.loadGPT)||clearTimeout(window.advBidxc.loadGPT),setTimeout(y,ie.timeout))}function N(){return n.isDisableUrlRegex()||-1!==n.getPublisherUrl().indexOf("force_hbnobid=1")}function F(){return e.fromIE()&&parseInt(e.ua.split("msie")[1],10)<=9}function _(){var i=n.getRequireModule("customutil");return e.isSet(i)&&e.isFunction(i.isCompletelyDisabled)?i.isCompletelyDisabled():!1}function M(){return ie.disable===!0||N()||e.isMobile()&&!a.supportStorage()||ie.frlen===!0&&F()||_()}function L(){if(t&&t.antiAdBlock){var i=n.getRequireModule("antiadblock");e.isSet(i)&&i.init()}}function q(){if(t&&t.inImageProd){var i=n.getRequireModule("inimagemanager");e.isSet(i)&&i.init()}}function O(){n.doPrefetchOnWindowLoad()?e.eventLib.addEvent(window,"load",function(){Z()}):e.DOMLoadObserver.getInstance().onDOMLoad(function(){Z()})}function U(){if($=n.getRequireModule("ampdfpmanager"),M()||!C(t.bidder))return void r.setStatus(ie.status.FAILED);p();var i=v(),d=b(i);e.addToEventQueue("idleTime","global",e.getProxy(g.initiateCookieSync,[])),R(d),O()}function k(){if(M()||!C(t.bidder))return y(),void r.setStatus(ie.status.FAILED);n.isMnetBidderRequest()||c.init(),p();var i=v(),d=b(i);e.addToEventQueue("idleTime","global",e.getProxy(g.initiateCookieSync,[])),D(),R(d),O(),q(),L(),e.eventLib.addEvent(window,"message",z)}function z(t){var r=e.getPostmessageData(t);if(r&&1==r.isMnetHB&&!n.isAmpRequest()){var d=r.placement||"",o=r.pageID||"";i.pushError({message:"Could not access window.parent at placement: "+d+", pageId: "+o+", customerId: "+n.getCustomerId(),name:"HB_CREATIVE_RENDERED_IN_SOURCEFUL_IFRAME"})}}function H(){if(n.isHeatmapEnabled()){var i=n.getRequireModule("hmManager");e.isSet(i)&&i.init()}}function G(){n.incrementSessionDepth(),e.clock.tick("init"),n.isAmpRequest()?U():k(),f(),H()}function Y(){if(r.newAuction(),e.resetEvents(),e.triggerEvent("resetAw","command",!0),!M()&&C(t.bidder)){var i=v(),n=b(i);R(n),j(!0)}}function W(i){var t=r.getCurrentPage(),d=!0;e.resetEvents(),e.isSet(n.getGoogleRefreshDelay())&&(d=!1),i=i||v(),e.each(i,function(e){o.clearSlotsTargetedMap(t,e),o.clearTargeting(e,t,!0)}),e.triggerEvent("all:reset","command",!0,{placements:i,pageId:t});var a=b(i);R(a,d),j(!1,!0)}function Q(i){e.isArray(i)&&i.length>0&&R(b(i))}function V(i){var t=[];e.isArray(i)&&0!==i.length||(t=v()),e.each(i,function(i){var r=n.getSlotNameForCrid(i);e.isSet(r)&&t.push(r)}),n.setPlacementsForMnetAdapterRefresh(t),e.triggerEvent("all:reset","command",!0,{placements:t,pageId:r.getCurrentPage()}),R(b(t)),j(!1,!0)}function X(e){return t&&t.cbInfo?parseInt(e&&(t.cbInfo.refPrefTime||100)||t.cbInfo.prefTime||0):0}function j(i,n){var r,d=!!(t&&t.cbInfo&&t.cbInfo.cacheDisabled);if(a.supportStorage()&&!d){if(r=X(n),!i&&r>0)return void setTimeout(function(){j(!0)},r);e.triggerEventWithBeforeAfter("prefetch","global"),e.triggerEvent("afterAuction","global")}}function Z(){e.triggerEvent("idleTime","global"),n.isHdHome()&&n.isPrefetchDisabledForHomePage()||j()}function J(){try{ee=ee||window._mNRequire(["mnetadxcontroller"])[0]}catch(e){}return ee}function K(i,t,r,o){var a=n.getSlotNameForCrid(t);if(e.isSet(a))return e.isSet(r)?d.renderExternal(i,r,a,o,"0"):void A(i,a,"0")}var $,ee,ie=t.headerBidder,te={},ne={};return ne.push=function(i){e.isFunction(i)&&i.call(null)},window.advBidxc.renderExternal=d.renderExternal,window.advBidxc.renderAd=A,window.advBidxc.setTargetingForAdUnitsGPTAsync=w,window.advBidxc.next=Y,window.advBidxc.refresh=W,window.advBidxc.getBidsForSlots=Q,window.advBidxc.refreshMnetBids=V,window.advBidxc.renderAdUnit=K,{init:G}}),window._mNRequire(["init","util","mnetHbConsole","_mNRP"],function(e,i,t,n){"use strict";n.setType("HB"),i.clock.start(),e.init(),t.bootstrap()});} catch (err) {
    var errObj = {};
    var errStacktrace = '';
    var userAgent = encodeURIComponent(window.navigator.userAgent);
    if (err.stack) {errStacktrace = err.stack;}
    else if (err.s) {errStacktrace = err.s;}
    else if (err.stacktrace) {errStacktrace = err.stacktrace;}
    else errStacktrace = 'No StackTrace';
    var objTrace = '';
    for ( var x in err) {
        if (err.hasOwnProperty && err.hasOwnProperty(x)) {
            objTrace += x + " : '" + err[x] + "',";
        }
    }
    errObj.logLevel = 3;
    errObj.errorVal = {};
    errObj.errorVal.name = "bidExchange";
    errObj.errorVal.type = "HB";
    errObj.errorVal.message = "bidExchange encountered an error";
    errObj.errorVal.stack = errStacktrace;
    errObj.errorVal.objTrace = objTrace;
    var errorString = '';
    if (typeof JSON === "object" && typeof JSON.stringify !== "undefined") {
            errorString = JSON.stringify(errObj);
    } else {
        errorString = errObj.errorVal.name + '@#@' + errObj.errorVal.type + '@#@' + errStacktrace + '@#@' + objTrace;
    }
    errorString = encodeURIComponent("[" + errorString + "]");
    var urlSrc = 'http://qsearch.media.net/nerrping.php?userAgent=' + userAgent + '&requrl=' + encodeURIComponent(window.location.href) + '&cid=8CUF1VN4G&img=logo.gif&d=' + errorString;
    var imgx  = new Image();
    imgx.src = urlSrc;
};