var SI_OLHUB=SI_OLHUB||{};(function(h){SI_OLHUB.is_mobile=(/iphone|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase()));var g=window.location.host=="sportz2:8079"||window.location.host=="192.168.100.150:8079";SI_OLHUB.monthArr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"];SI_OLHUB.currAssetIndex=0;SI_OLHUB.intervalAssetIndex=7;SI_OLHUB.adCount=55;SI_OLHUB.adCount_br=1055;SI_OLHUB.slots=[];SI_OLHUB.current_slots=[];SI_OLHUB.getURLParameter=function(o){var q={};var p=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(r,s,t){q[s]=t});return q};SI_OLHUB.init=function(q){SI_OLHUB.urlVars=SI_OLHUB.getURLParameter();SI_OLHUB.lang=SI_OLHUB.urlVars.lang||q.language||"en";SI_OLHUB.cc=q.client||"demo";SI_OLHUB.clientId=q.clientId||"0mmSFC41lhI7OgxuRQXoVA==";SI_OLHUB.client=q.client;var o=q.basepath||"http://olympicshub.stats.com";if(g){o="http://"+window.location.host+"/olympics_2016"}SI_OLHUB.basepath=o;SI_OLHUB.seriesId=q.seriesId||"28";SI_OLHUB.totalGolds=306;SI_OLHUB.pointColor="#f4aa26";SI_OLHUB.pointBorderColor="#fff";SI_OLHUB.interval=20*1000;SI_OLHUB.data={};loadjscssfile(SI_OLHUB.basepath+"/trans/trans_"+SI_OLHUB.lang+".js","js",SI_OLHUB.loadTranslations);var p=function(w){if(!w||w.length==0){return false}var s=s||"visible";var u=h(window).height(),r=h(window).scrollTop(),v=h(w).offset().top,t=h(w).height();if(s==="visible"){return((v<(u+r))&&(v>(r-t)))}if(s==="above"){return((v<(u+r)))}};h(window).scroll(function(){if(SI_OLHUB.is_mobile){var r=p(h(".wap-radio-btn"));if(r){if(h(".sish-newStories").is(":visible")){h(".sish-newStories").removeClass("netra-Scroll")}}else{if(h(".sish-newStories").is(":visible")){h(".sish-newStories").addClass("netra-Scroll")}}}else{var r=p(h(".sish-filter-container"));if(r){if(h(".sish-newStories").is(":visible")){h(".sish-newStories").removeClass("netra-Scroll")}}else{if(h(".sish-newStories").is(":visible")){h(".sish-newStories").addClass("netra-Scroll")}}}var s=p(h(".hub-social-asset:last-child"));if(s){h(".sish-hubview-more").click()}else{}})};SI_OLHUB.loadTranslations=function(o){SI_OLHUB.trans=window.TRANSOBJ||{};SI_OLHUB.initComplete()};SI_OLHUB.initComplete=function(){SI_OLHUB.registerHelpers();var o=[];h(".si-widgets").each(function(){SI_OLHUB.addLoader(this);var p=h(this).attr("data-reqfeed");if(p){p=p.split(",");p.forEach(function(q){q=q.trim();if(q&&o.indexOf(q)<0){o.push(q)}})}});SI_OLHUB.loadReqFeeds(o,function(){h(".si-widgets").each(function(){var q=h(this).attr("data-type");var p=SI_OLHUB[q];if(p){var r=q+"Inst";SI_OLHUB[r]=new p(h(this))}});SI_OLHUB.timeout=setInterval(SI_OLHUB.update,SI_OLHUB.interval)});SI_OLHUB.bindDoc()};SI_OLHUB.noData=function(q,o){if(!q){return}var s=o||"Data will be available shortly!";var r=q;var p='<div class="sits-no-data"><span>'+s+"</span></div>";r.html(p)};SI_OLHUB.medalWinners=function(q){this.update=function(){var t=h(".si-head .si-country-toggle",q);if(SI_OLHUB.is_mobile){t=h(".si-wap-head .si-country-toggle",q)}var s=t.get(0).checked?"ind":"intl";var r=0;if(SI_OLHUB.medalWinnerSwiper){r=SI_OLHUB.medalWinnerSwiper.activeIndex}SI_OLHUB.loadMedalWinners(s,q,r)};var o={};SI_OLHUB.handle(o,SI_MKP.medalWinnersSkel,q);SI_OLHUB.addLoader(h(".swiper-wrapper",q));h(".si-country-toggle",q).change(function(){var r=this.checked?"ind":"intl";h(".radio-txt",q).removeClass("radioChecked");h('.radio-txt[data-name="'+r+'"]',q).addClass("radioChecked");SI_OLHUB.loadMedalWinners(r,q)});var p=h(".si-head .si-country-toggle",q);if(SI_OLHUB.is_mobile){p=h(".si-wap-head .si-country-toggle",q)}p.click()};SI_OLHUB.loadMedalWinners=function(u,t,x){var o=SI_OLHUB.seriesId+"_latestEventsTally";var A=SI_OLHUB.data[o];var s=A&&A.events,r=[];if(!(s&&s.length)){warn("no Events available!");SI_OLHUB.noData(h(".swiper-wrapper",t),SI_OLHUB.trans.results_no_data);return}var p=0;var z=[],w=s.length;var q=[];s.forEach(function(F){F.golds=[];F.silvers=[];F.bronzes=[];var D=[],C=[],B=[];var E=F.medals;E.forEach(function(G){var H=false;if(u=="intl"){H=true}else{if(u=="ind"&&G.team_id=="4"){H=true}}if(H){p++;switch(G.medal_id){case 1:D.push(G);break;case 2:C.push(G);break;case 3:B.push(G);break;default:break}}});if(D.length||C.length||B.length){if(D.length){F.golds=D}if(C.length){F.silvers=C}if(B.length){F.bronzes=B}q.push(F)}});if(p){var v=u=="intl"?SI_MKP.medalEventIntl:SI_MKP.medalEventIndia;var y={eventList:q};SI_OLHUB.handle(y,v,h(".swiper-wrapper",t));SI_OLHUB.onImgError(t);if(t.attr("data-cnttype")=="latestResults"){t.removeClass("right-block").addClass("right-block");return}if(!SI_OLHUB.is_mobile){if(SI_OLHUB.medalWinnerSwiper){SI_OLHUB.medalWinnerSwiper.onResize()}else{SI_OLHUB.medalWinnerSwiper=new Swiper('.si-widgets[data-type="medalWinners"] .swiper-container',{slidesPerView:"auto",autoplay:5000,nextButton:t.find(".si-nav-right"),prevButton:t.find(".si-nav-left")});h('.si-widgets[data-type="medalWinners"] .swiper-container').hover(function(){if(SI_OLHUB.medalWinnerSwiper.stopAutoplay){SI_OLHUB.medalWinnerSwiper.stopAutoplay()}},function(){if(SI_OLHUB.medalWinnerSwiper.startAutoplay){SI_OLHUB.medalWinnerSwiper.startAutoplay()}})}}else{t.removeClass("right-block").addClass("right-block")}}else{warn("no medals");SI_OLHUB.noData(h(".swiper-wrapper",t),SI_OLHUB.trans.results_no_data)}};SI_OLHUB.totalMedals=function(q){SI_OLHUB.addLoader(q);this.update=function(){var s=h(".si-dropdown select",q);var r=null;if(s.length){r=h("option:selected",s)}else{r=h(".si-option.active",q)}var t=r.attr("data-sportid");SI_OLHUB.sportChanged(t,q)};var p=SI_OLHUB.getSportsList();var o={sports:p};SI_OLHUB.handle(o,SI_MKP.totalMedalsSkel,q);SI_OLHUB.printAndBindTotalMedals(q)};SI_OLHUB.printAndBindTotalMedals=function(p){h(".si-selected",p).off("click").on("click",function(r){r.stopPropagation();r.stopImmediatePropagation();var t=h(this);var s=t.closest(".si-dropdown");s.toggleClass("active");if(s.hasClass("active")){SI_OLHUB.addScroll(h(".si-dd-container",p))}else{SI_OLHUB.addScroll(p.find(".si-scroll"))}});var o=h(".si-dropdown select",p);if(o.length){o.off("change").on("change",function(){var r=h("option:selected",this);q(r)});o.find("option:first").click()}h(".si-dropdown .si-option",p).off("click").on("click",function(r){r.stopPropagation();r.stopImmediatePropagation();var s=h(this);q(s)});function q(w){w.removeClass("active").addClass("active").siblings().removeClass("active");var r=w.attr("data-sportid");var u="";var v=w.find(".si-name");if(v.length){u=v.text()}else{u=w.text()}var s=w.closest(".si-dropdown");s.removeClass("active");var t=s.find(".si-selected");t.text(u);SI_OLHUB.sportChanged(r,p)}SI_OLHUB.bindViewMore();h(".si-dropdown .si-option:first",p).click()};SI_OLHUB.sportChanged=function(p,q){h('.si-option[data-sportid="'+p+'"]').hide().siblings().show();var t=h("#totalMedalListCnt",q);SI_OLHUB.removeScroll(t.find(".si-scroll"));if(p=="all"){var r=SI_OLHUB.seriesId+"_overAllMedals";var o=SI_OLHUB.data[r];s(o)}else{SI_OLHUB.loadFeeds("sportWiseMedals",{sportId:p},s)}function s(D){if(!(D&&D.medals_tally&&D.medals_tally.length)){warn("nodata!");SI_OLHUB.noData(t);return}var A=D.medals_tally;var x={};if(SI_OLHUB.cc=="ndtv"){var u=[],B=false,z={};for(var v=0,y=A.length;v<y;v++){var C=A[v];if(u.length<10){u.push(C)}if(C.team_id==4){if(v<10){B=true}else{z=C}}}x={list:u};if(!B&&z.team_id){x.india=z}}else{var w=h.grep(A,function(E){return E.team_id=="4"});var z={team_name:"India",short_team_name:"IND",team_id:4,rank:"0",gold_count:"-",silver_count:"-",bronze_count:"-",medals_count:"-"};if(w.length){z=w[0]}x={list:A,india:z}}SI_OLHUB.handle(x,SI_MKP.totalMedalsList,t);SI_OLHUB.addScroll(t.find(".si-scroll"))}};SI_OLHUB.bindViewMore=function(){var o=h("#siViewMore");if(o.length){h("#siViewMore").off("click").on("click",function(){log("view more clicked");if(SI_OLHUB.cc=="gulfnews"){var p="http://gulfnews.com/sport/olympics/scorecard";window.open(p,"_blank")}})}};SI_OLHUB.overAllMedals=function(p){var o=this;this.update=function(){o.init()};this.init=function(){var r=p.attr("data-sportid");if(!r||r=="all"){var t=SI_OLHUB.seriesId+"_overAllMedals";var s=SI_OLHUB.data[t];q(s)}else{SI_OLHUB.loadFeeds("sportWiseMedals",{sportId:r},q)}function q(E){var A=E&&E.medals_tally;if(!A){warn("no Data");SI_OLHUB.noData(p);return}var x=h.grep(A,function(F){return F.team_id=="4"});var z={team_name:"India",short_team_name:"IND",team_id:4,rank:"-",gold_count:"-",silver_count:"-",bronze_count:"-",medals_count:"-"};if(x.length){z=x[0]}var B=p.attr("data-title")||"";if(SI_OLHUB.cc=="ndtv"){var v=[],C=false,z={};for(var w=0,y=A.length;w<y;w++){var D=A[w];if(v.length<10){v.push(D)}if(D.team_id==4){if(w<10){C=true}else{z=D}}}rowsCtx={list:v,title:B};if(!C&&z.team_id){rowsCtx.india=z}}else{if(SI_OLHUB.cc=="gulfnews"){var u=[];for(var w=0,y=A.length;w<y;w++){var D=A[w];if(w<5){u.push(D)}}rowsCtx={list:u}}else{var x=h.grep(A,function(F){return F.team_id=="4"});var z={};if(x.length){z=x[0]}rowsCtx={list:A,india:z}}}rowsCtx.titles={medal_tally:SI_OLHUB.trans.medal_tally,total:SI_OLHUB.trans.total,b:SI_OLHUB.trans.b,s:SI_OLHUB.trans.s,g:SI_OLHUB.trans.g};SI_OLHUB.handle(rowsCtx,SI_MKP.overAllMedalsList,p);SI_OLHUB.onImgError(p);SI_OLHUB.addScroll(p.find(".si-scroll"))}if(!(s&&s.medals_tally&&s.medals_tally.length)){warn("nodata!");SI_OLHUB.noData(p);return}SI_OLHUB.bindViewMore()};SI_OLHUB.addLoader(p);o.init()};SI_OLHUB.medalEvents=function(q){var p=this;p.update=function(){var v=SI_OLHUB.seriesId+"_overAllMedals";var u=SI_OLHUB.data[v];var t=u&&u.medals_tally;if(t&&t.length){p.print(t)}};p.print=function(){var v=0;o.forEach(function(y){if(y.gold_count){v+=parseInt(y.gold_count)}});v=v-1;var x=(SI_OLHUB.totalGolds-v),w=SI_OLHUB.totalGolds;var t=parseInt((v/w)*100);var u={title:"medal events",completed:"completed",pending:"pending",compStats:v,pendStats:x,perc:t};SI_OLHUB.handle(u,SI_MKP.medalEvtsSkel,q)};SI_OLHUB.addLoader(q);var s=SI_OLHUB.seriesId+"_overAllMedals";var r=SI_OLHUB.data[s];var o=r&&r.medals_tally;if(!(o&&o.length)){warn("no medalEvents data");SI_OLHUB.noData(q);return}p.print(o)};SI_OLHUB.medalChart=function(o){o.hide();return;Chart.defaults.global.responsive=true;Chart.defaults.global.animation.duration=0;var p=SI_OLHUB.getTeamsArrayForChart();var q={teams:p};SI_OLHUB.handle(q,SI_MKP.medalChartSkel,o);h("#siChartTeamList [data-teamid]").off("click").on("click",function(){var s=h(this);if(s.hasClass("active")){return}s.addClass("active").siblings().removeClass("active");var r=s.attr("data-teamid");SI_OLHUB.drawChartByTeamId(r)});h("#siChartTeamList [data-teamid]:first").click();this.update=function(){var r=SI_OLHUB.getTeamsArrayForChart();var s=h("#siChartTeamList [data-teamid].active").attr("data-teamid");SI_OLHUB.drawChartByTeamId(s)}};SI_OLHUB.getTeamsArrayForChart=function(){var x=SI_OLHUB.seriesId+"_medalsTallyDaily";var z=SI_OLHUB.data[x];if(!(z&&z.dates&&z.dates.length)){warn("no chart data");return}var p=z.dates;var u=[];p.forEach(function(C){var D=C.medal_tally;if(D&&D.length){D.forEach(function(E){var F=SI_OLHUB.isExistInArr("team_id",E,u);if(!F){var G={team_id:E.team_id,team_name:E.team_name,short_team_name:E.short_team_name,rank:E.rank};u.push(G)}})}});u.sort(function(D,C){return D.rank-C.rank});var t=[];var s={};var o=["#de0029","#0039c6","#e88800","#cc00ff","#00e842"];var r=0;u.forEach(function(C){C.gold_count=[];C.silver_count=[];C.bronze_count=[];C.medals_count=[];if(t.length<5&&[0,4].indexOf(C.team_id)==-1){C.color=o[r];r++;t.push(C)}if(C.team_id==4){C.color="#009eff";s=C}});if(s.team_id){t.push(s)}var y=t;var A=[];function w(E,C){var D=0;if(E[C].length){D=E[C][E[C].length-1]}return D}function q(C){y.forEach(function(I){var H=w(I,"gold_count"),G=w(I,"silver_count"),F=w(I,"bronze_count"),K=w(I,"medals_count");for(var E=0,D=C.length;E<D;E++){var J=C[E];if(J.team_id==I.team_id){H+=J.gold_count;G+=J.silver_count;F+=J.bronze_count;K+=J.medals_count}}I.gold_count.push(H);I.silver_count.push(G);I.bronze_count.push(F);I.medals_count.push(K)})}function B(C){if(C>20||C<10){switch(C%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}}return"th"}function v(D){if(!D){return}var E=D.split("/");var C=parseInt(E[0]);var F=parseInt(E[1]);var H=B(C);var G=SI_OLHUB.monthArr[F-1];return(C+H+" "+G)}p.forEach(function(C){var D=v(C.date);A.push(D);var E=C.medal_tally;if(E&&E.length){q(E)}});SI_OLHUB.xLabels=A;SI_OLHUB.chartTeamsArr=y;return y};SI_OLHUB.drawChartByTeamId=function(t){var p=SI_OLHUB.chartTeamsArr;if(!p||!p.length){SI_OLHUB.noData(h("#siCanvasContainer"));return}h("#siCanvasContainer").html('<canvas id="siMedalChart" width="100%" height="75%" style="width:100%;height:75%;"></canvas><div class="sish-grapgPoint" id="chartjs-tooltip" style="opacity:0;"><div class="graph-point-data"> <div class="point-data-item grapgPoint-gold"><span>g</span><span class="si-gold-stats"></span> </div> <div class="point-data-item grapgPoint-silver"><span>s</span><span class="si-silver-stats"></span> </div> <div class="point-data-item grapgPoint-bronze"><span>b</span><span class="si-bronze-stats"></span> </div></div> </div>');var q=[];p.forEach(function(v){var u=SI_OLHUB.hexToRgb(v.color);var w=SI_OLHUB.hexToRgb(SI_OLHUB.pointColor);u="rgba("+u.r+","+u.g+","+u.b+",0.4)";w="rgba("+w.r+","+w.g+","+w.b+",0.4)";var x={data:v.medals_count,lineTension:0,borderColor:u,pointBackgroundColor:w,pointBorderColor:w,pointRadius:0,pointHoverRadius:0,hoverBorderWidth:0,borderWidth:2,showTooltip:false};if(v.team_id==t){x.borderColor=v.color;x.pointBackgroundColor=SI_OLHUB.pointColor;x.pointBorderColor=SI_OLHUB.pointColor;x.borderWidth="3";x.pointRadius="4";x.pointHoverRadius="5";x.hoverBorderWidth="1";x.showTooltip=true;SI_OLHUB.activeChartTeam=v}q.push(x)});var s={labels:["6th Aug","","","9th Aug","","","","13th Aug","","","","17th Aug","","","","21st Aug"],datasets:q};var o=document.getElementById("siMedalChart").getContext("2d");var r=new Chart(o,{type:"line",data:s,options:{legend:{display:false},hover:{mode:"single"},tooltips:{enabled:false,custom:SI_OLHUB.customTooltip},scales:{yAxes:[{ticks:{max:20,min:0,stepSize:2}}]}}})};SI_OLHUB.customTooltip=function(x){var t=h("#chartjs-tooltip");if(!x.opacity){t.css({opacity:0});h("#siMedalChart").css("cursor","default");return}h(this._chart.canvas).css("cursor","pointer");t.removeClass("above below no-transform");if(x.yAlign){t.addClass(x.yAlign)}else{t.addClass("no-transform")}if(x.body&&x.body.length){var q=parseInt(x.title);var u="";var y=x.body[0].lines;var o=x.body[0].references;if(y&&y.length){var u=parseInt(y[0].replace(/[^0-9.]/g,""))}var w=SI_OLHUB.activeChartTeam.gold_count[o.index]||0;var s=SI_OLHUB.activeChartTeam.silver_count[o.index]||0;var p=SI_OLHUB.activeChartTeam.bronze_count[o.index]||0;h(".si-gold-stats",t).text(w);h(".si-silver-stats",t).text(s);h(".si-bronze-stats",t).text(p)}var v=0;if(x.yAlign){if(x.yAlign=="above"){v=x.y-x.caretHeight-x.caretPadding}else{v=x.y+x.caretHeight+x.caretPadding}}var r=h(this._chart.canvas)[0].getBoundingClientRect();t.css({opacity:1,width:x.width?(x.width+"px"):"auto",left:x.x+"px",top:x.y+"px"})};SI_OLHUB.loadFeeds=function(q,p,o){SI_OLHUB.seriesId;var s="http://feeds.cassse.stats.com/live/GetMedalTayllFeeds.aspx?seriesid="+SI_OLHUB.seriesId+"&";switch(q){case"sportWiseMedals":s+="sportId="+p.sportId;break;case"dayWiseEvents":s+="name=daywise";break;case"overAllMedals":s+="name=medal_tally";break;case"latestEventsTally":s+="name=latest";break;case"medalsTallyDaily":s+="name=daily";break;default:s="";break}if(!s){o();return}if(SI_OLHUB.lang!="en"){s+="&lang="+SI_OLHUB.lang}var r={url:s,jsonpad:true};SI_OLHUB.loadJSON(r,o)};SI_OLHUB.getSportsList=function(){var r=SI_OLHUB.seriesId+"_dayWiseEvents";var t=SI_OLHUB.data[r];var s=[{sport_id:"all",sport:"All Sports"}];var p=[];if(!(t&&t.dates&&t.dates.length)){warn("no sportslist data");return s}t=t.dates;SI_OLHUB.dayWiseData=t;var q="";t.forEach(function(u){var v=u.sports;if(v&&v.length){o(v)}});function o(u){u.forEach(function(w){var v=SI_OLHUB.isExistInArr("sport_id",w,p);if(!v){p.push(w);q+='"'+w.sport+'",'}})}p.sort(function(w,v){var u=w.sport;var x=v.sport;if(u<x){return -1}if(u>x){return +1}return 0});return s.concat(p)};SI_OLHUB.mixedRhsWidget=function(q){this.update=function(){var u=h("[data-tabname].active",q).attr("data-tabname");h(".nicescroll-rails").remove();if(u=="medalsTally"){var t=h(".si-dropdown select",q);var w=h("option:selected",t);var s=w.attr("data-sportid");SI_OLHUB.sportChanged(s,q)}else{var t=h(".si-results-dropdown select",q);var w=h("option:selected",t);var v=w.attr("data-filterid");var x=h('div[data-cnttype="'+u+'"]');SI_OLHUB.loadMedalWinners(v,x);SI_OLHUB.addScroll(x)}};var r=SI_OLHUB.getSportsList();var o={sports:r};var p=q.attr("data-tab");SI_OLHUB.handle(o,SI_MKP.rhsMixWgtSkel,q);h(".si-tab li[data-tabname]",q).off("click").on("click",function(){var v=h(this);if(v.hasClass("active")){return}v.addClass("active").siblings().removeClass("active");var t=v.attr("data-tabname");var w=h('div[data-cnttype="'+t+'"]',q);w.show().siblings().hide();h(".nicescroll-rails").remove();if(t=="medalsTally"){h(".si-dropdown",q).show();h(".si-results-dropdown",q).hide();SI_OLHUB.printAndBindTotalMedals(q);var u=(SI_OLHUB.is_mobile)?"http://m.sports.ndtv.com/olympics-2016/medals-tally":"http://sports.ndtv.com/olympics-2016/medals-tally";h("#siViewMore",q).find("a").attr("href",u).html("view more Medals Tally")}else{h(".si-dropdown",q).hide();h(".si-results-dropdown",q).show();var u=(SI_OLHUB.is_mobile)?"http://m.sports.ndtv.com/olympics-2016/results":"http://sports.ndtv.com/olympics-2016/results";h("#siViewMore",q).find("a").attr("href",u).html("view more Results");h(".si-results-dropdown .si-option",q).off("click").on("click",function(x){x.stopPropagation();x.stopImmediatePropagation();var z=h(this);var y=z.attr("data-filterid");SI_OLHUB.loadMedalWinners(y,w);SI_OLHUB.addScroll(w)});var s=h(".si-results-dropdown select",q);if(s.length){s.off("change").on("change",function(){var y=h("option:selected",this);var x=y.attr("data-filterid");SI_OLHUB.loadMedalWinners(x,w);SI_OLHUB.addScroll(w)});s.find("option:first").click()}}});if(p){h(".si-tab",q).hide();if(p=="latestResults"){h(".si-dropdown",q).hide();h(".result-title span",q).html("Results")}else{h(".result-title span",q).html("Medals tally")}h('.si-tab li[data-tabname="'+p+'"]',q).click()}else{h(".si-tab li[data-tabname]:last",q).click()}};SI_OLHUB.update=function(){var o=[];h(".si-widgets").each(function(){var p=h(this).attr("data-reqfeed");if(p){p=p.split(",");p.forEach(function(q){q=q.trim();if(q&&o.indexOf(q)<0&&q!="dayWiseEvents"){o.push(q)}})}});SI_OLHUB.loadReqFeeds(o,function(){h(".si-widgets").each(function(){var p=h(this).attr("data-type");var q=SI_OLHUB[p+"Inst"];if(q&&q.update){q.update(h(this))}})})};SI_OLHUB.addScroll=function(o){if(!o){return}var q=h(o);if(q.getNiceScroll().length>0){q.niceScroll().remove();var p=q.attr("tabindex")}h(".nicescroll-rails").remove();q.niceScroll({horizrailenabled:false,cursorwidth:"5px",cursorcolor:"#b1b1b1",autohidemode:false,start:"top"})};SI_OLHUB.removeScroll=function(o){if(!o){return}var p=h(o);if(p.getNiceScroll().length>0){p.niceScroll().remove()}h(".nicescroll-rails").remove()};SI_OLHUB.loadJSON=function(p,o){if(p.jsonpad){var q=h.jsonp({url:p.url,callbackParameter:"callback",callback:"cb",cache:true,success:function(r){o(r)},error:function(s,r,t){window.console&&console.log(s,r,t);o()}})}else{var q=h.ajax({url:p.url,dataType:"JSON",success:function(r){o(r)},error:function(s,r){window.console&&console.log("onerror");o()}})}};SI_OLHUB.loadReqFeeds=function(r,p){if(!r.length){p();return}var q=0;function o(){var t=r[q];var s={};SI_OLHUB.loadFeeds(t,s,function(u){var v=SI_OLHUB.seriesId+"_"+t;SI_OLHUB.data[v]=u;if(q==r.length-1){p();return}else{q++;o()}})}o(0)};SI_OLHUB.handle=function(q,s,r){var o=Handlebars.compile(s);var p=o(q);r.html(p)};SI_OLHUB.registerHelpers=function(){Handlebars.registerHelper("getMatchDay",function(o){if(o<10){return("0"+o)}else{return(o)}});Handlebars.registerHelper("equal",function(o,q,p){if(arguments.length<3){throw new Error("Handlebars Helper equal needs 2 parameters")}if(o!=q){return p.inverse(this)}else{return p.fn(this)}});Handlebars.registerHelper("getFlagPath",function(o){var p=SI_OLHUB.basepath+"/flags/48x48/"+o+".png";return p});Handlebars.registerHelper("getTweetHead",function(o,p){return""});Handlebars.registerHelper("if_eq",function(p,o,q){if(p==o){return q.fn(this)}else{return q.inverse(this)}});Handlebars.registerHelper("if_record",function(o,p){if(o.indexOf("Record")!=-1){return p.fn(this)}else{return p.inverse(this)}});Handlebars.registerHelper("if_both",function(p,q){var o=p.indexOf("Video");var r=p.indexOf("Photo");if(o!=-1&&r!=-1){return q.fn(this)}else{return q.inverse(this)}});Handlebars.registerHelper("if_onlyPhoto",function(p,q){var o=p.indexOf("Video");var r=p.indexOf("Photo");if(o==-1&&r!=-1){return q.fn(this)}else{return q.inverse(this)}});Handlebars.registerHelper("if_onlyVideo",function(p,q){var o=p.indexOf("Video");var r=p.indexOf("Photo");if(o!=-1&&r==-1){return q.fn(this)}else{return q.inverse(this)}});Handlebars.registerHelper("isSource",function(o){if(o=="youtube"){return"sish-social-youtube"}else{if(o=="twitter"){return"sish-social-twt"}else{if(o=="instagram"){return"sish-social-insta"}}}});Handlebars.registerHelper("isSport",function(o){if(o.sport&&o.sport.discipline){var p=((o.sport.discipline).toLowerCase()).replace(" ","_");return"sish-sportName-"+p}return""});Handlebars.registerHelper("ismedal",function(o){if(o==1){return"sioh-gold"}else{if(o==2){return"sioh-silver"}else{if(o==3){return"sioh-bronze"}}}});Handlebars.registerHelper("isVideo",function(o){if(o.indexOf("Video")!=-1){return"hub-video"}});Handlebars.registerHelper("isRecord",function(o){var p=o.indexOf("Record");if(p!=-1){return"hub-record"}});Handlebars.registerHelper("isPhoto",function(o){if(o.indexOf("Photo")!=-1){return"hub-photo"}});Handlebars.registerHelper("getInstHtml",function(o){if(o.asset){var p=JSON.parse(o.asset);if(p&&p.html){window.instgrm.Embeds.process();return p.html}else{return""}}else{return""}});window.addCount=0;Handlebars.registerHelper("if_ad",function(o){if(SI_OLHUB.client=="ndtv"){addCount++;if((addCount+1)%5==0){addCount=0;return new Handlebars.SafeString('<div class="hub-ndtv-adv"></div>')}}});Handlebars.registerHelper("if_sport",function(o){if(o.sport&&o.sport.discipline){var p=((o.sport.discipline).toLowerCase());cSport=p.replace(/\s+/g,"_");return'<div class="sish-sports-item si-team-icon sish-sportName-'+cSport+'"><span></span></div>'}else{return'<div class="sish-sports-item si-team-icon sish-sportName-allSports"><span></span></div>'}})};SI_OLHUB.bindDoc=function(){h(document).off("click").on("click",function(){var q=h('.si-widgets[data-type="totalMedals"]');if(q.find(".si-dropdown").hasClass("active")){q.find(".si-dropdown").removeClass("active");SI_OLHUB.addScroll(h(".si-scroll",q))}});if(!SI_OLHUB.is_mobile){return}h(".sish-tab-name[data-name]").off("click").on("click",function(){if(h(this).hasClass("active")){return}h(this).addClass("active").siblings().removeClass("active");var q=h(this).attr("data-name");h(".si-widgets").hide();if(q=="hub-media"){h(".sish-sportschedule").show()}else{if(q=="hub-tally"){h(".sish-totalMedal").show();h(".sish-metalEvent").show();h(".sish-medalChart").show();h('.si-widgets[data-type="mixedRhsWidget"]').show()}else{if(q=="hub-results"){h(".sish-medalWinner-container").show()}}}h('.si-widgets[data-type="medalChart"]').hide()});var o=SI_OLHUB.urlVars.page||"media";var p=h('.sish-tab-name[data-name="hub-'+o+'"]');if(p.length==0){p=h(".sish-tab-name:first")}p.click()};SI_OLHUB.onImgError=function(o){if(!o||!o.length){return}h("img",o).off("error").on("error",function(){var p=h(this);if(p.attr("data-loaded")){return}var q=SI_OLHUB.basepath+"/flags/48x48/0.png";p.attr("src",q).attr("data-loaded",true)})};SI_OLHUB.addLoader=function(o){if(!o){return}var q=SI_OLHUB.basepath+"/clients/"+SI_OLHUB.cc+"/images/";var p='<div class="si-loader"><div class="si-loaderimg"><img src="'+q+'loader.gif"></div></div>';if(["firstpost","ndtv","demo"].indexOf(SI_OLHUB.cc)>-1){p='<div class="si-loader"><div class="wave"><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div></div></div>'}h(o).html(p)};SI_OLHUB.hexToRgb=function(p){var o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(p);return o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:null};SI_OLHUB.isExistInArr=function(q,s,u){var r=false;for(var p=0;p<u.length;p++){var t=u[p];if(t[q]==s[q]){r=true;break}}return r};var n=16,l;SI_OLHUB.currFilters={country:["intl"],tab:"All",sports:[],date:"",day:"",sids:[],isAllSport:false};SI_OLHUB.tabs={},SI_OLHUB.cGroups=["India"];SI_OLHUB.sportSchedule=function(p){p.html('<div class="sish-filter-container"></div><div class="sidh-socialFeed-container"></div>');SI_OLHUB.sfcnt=h(".sidh-socialFeed-container");var q=h(".sish-filter-container");h(".sish-hubview-more").hide();SI_OLHUB.addLoader(SI_OLHUB.sfcnt);SI_OLHUB.addLoader(q);var o=SI_OLHUB.seriesId+"_dayWiseEvents";var r=SI_OLHUB.data[o];if(!(r&&r.dates&&r.dates.length)){warn("no sportslist data");SI_OLHUB.noData(q);SI_OLHUB.noData(SI_OLHUB.sfcnt);return}SI_OLHUB.dayEventFeed=r;SI_OLHUB.currDayFeed=(r.event_details&&r.event_details.current_day)?r.event_details.current_day:0;SI_OLHUB.currFilters.day=SI_OLHUB.currDayFeed;SI_OLHUB.socialFeeds(SI_OLHUB.sfcnt);SI_OLHUB.sportFilters(h(".sish-filter-container"))};SI_OLHUB.sportFilters=function(p){SI_OLHUB.tabs={all_txt:SI_OLHUB.trans.all_txt,records:SI_OLHUB.trans.records,photos:SI_OLHUB.trans.photos,videos:SI_OLHUB.trans.videos};var o=m();var q={date_opts:o,all_txt:SI_OLHUB.trans.all_txt,records:SI_OLHUB.trans.records,photos:SI_OLHUB.trans.photos,videos:SI_OLHUB.trans.videos,intl:SI_OLHUB.trans.intl,filter_name:SI_OLHUB.trans.filter_name,tabs:SI_OLHUB.tabs,latest:SI_OLHUB.trans.latest};SI_OLHUB.handle(q,SI_MKP.filter_markup,p);h(".hub-date",p).each(function(){var r=h(this).attr("data-day");if((r!=20)&&(SI_OLHUB.currDayFeed+1)<(r)){h(this).addClass("disable")}});h(".sish-sports-item").removeClass("active");h(".sish-sports-item").removeClass("disable");e(p)};function m(){var r=SI_OLHUB.dayEventFeed.dates?SI_OLHUB.dayEventFeed.dates:[],t=r.length,q=0,o=[];for(q;q<t;q++){var p=r[q].date?r[q].date:"",u=p.split("-")?p.split("/")[0]:"",s={dt:u,fDate:r[q].date,day:r[q].day};o.push(s)}return o}function j(q){SI_OLHUB.currFilters.sports=[];var p=[];h.grep(SI_OLHUB.dayEventFeed.dates,function(s){if(s.date==q){p=s.sports;return}});h(".date-sport").removeClass("date-sport");if(!SI_OLHUB.is_mobile){h(".sish-sports-item").addClass("disable")}else{h(".wap-sport-filters li>div").addClass("disable")}for(var r in p){var o=((p[r].sport).toLowerCase()).replace(" ","_");if(!SI_OLHUB.is_mobile){h(".sish-sportName-"+o,h(".hub-sports-items")).addClass("date-sport").removeClass("disable");h(".sish-sportName-"+o,h(".hub-sports-items")).attr({"data-sid":p[r].sport_id});h(".sish-sportName-"+o,h(".hub-sports-items")).attr({"data-sportName":p[r].sport})}else{h(h(".wap-sport-filters li").find("div.sish-sportName-"+o)).addClass("date-sport").removeClass("disable");h(h(".wap-sport-filters li").find("div.sish-sportName-"+o)).attr({"data-sid":p[r].sport_id});h(h(".wap-sport-filters li").find("div.sish-sportName-"+o)).attr({"data-sportName":p[r].sport})}SI_OLHUB.currFilters.sports.push({sport:p[r].sport,id:p[r].sport_id})}return p}function e(p){h(".hub-allSprt").off("click").on("click",function(q){q.stopPropagation();q.stopImmediatePropagation();var r=h(this);if(!(r.hasClass("active"))){r.addClass("active");SI_OLHUB.currFilters.isAllSport=true;h(".sish-sports-item").removeClass("active");j(SI_OLHUB.currFilters.date);a(true)}});h(".hub-date").off("click").on("click",function(q){if(h(this).hasClass("disable")){return}q.stopPropagation();q.stopImmediatePropagation();var s=h(this);h(".hub-date").removeClass("active");s.addClass("active");var r=s.attr("data-name");SI_OLHUB.currFilters.date=s.attr("data-date");SI_OLHUB.currFilters.day=s.attr("data-day");h(".sish-sports-item").addClass("disable");h(".hub-allSprt").removeClass("active");SI_OLHUB.currFilters.isAllSport=false;if(SI_OLHUB.currFilters.day==20){a(true);h(".sish-sports-item").removeClass("active");h(".hub-allSprt").addClass("active");SI_OLHUB.currFilters.isAllSport=true}else{h(".hub-allSprt").click()}});if(!SI_OLHUB.is_mobile){var o=h('.sish-date-item[data-day="'+SI_OLHUB.currDayFeed+'"]');if(o.length){if(o.length==2){h(h(o)[0]).click()}else{h(".hub-date:first").click()}}else{h(".hub-date:first").click()}}h(".sish-sports-list").find(".sish-sports-item").off("click").on("click",function(s){s.stopPropagation();s.stopImmediatePropagation();var w=h(this);var v=w.attr("class"),r=w.attr("data-sid"),q=v?v.split("sportName-"):"",x=q[1]?(q[1]).split(" ")[0]:"";if((w.hasClass("active"))){w.removeClass("active");for(var t in SI_OLHUB.currFilters.sports){if(SI_OLHUB.currFilters.sports[t].id==r){(SI_OLHUB.currFilters.sports).splice(t,1)}}}else{if((w.hasClass("date-sport"))){w.addClass("active");if(h(".hub-allSprt").hasClass("active")){SI_OLHUB.currFilters.sports=[];h(".hub-allSprt").removeClass("active");SI_OLHUB.currFilters.isAllSport=false}var u=w.attr("data-sportName");SI_OLHUB.currFilters.sports.push({id:r,sport:u})}}if(!(h(".hub-sports-items .active").length)){h(".hub-allSprt").click()}a(false)});h(".sish-bottom-item",h(".sish-bottom-listWrap")).off("click").on("click",function(q){q.stopPropagation();q.stopImmediatePropagation();var r=h(this);h(".sish-bottom-item").removeClass("active");r.addClass("active");var s=r.attr("data-type");switch(s){case"hub-all":SI_OLHUB.currFilters.tab="All";break;case"hub-record":SI_OLHUB.currFilters.tab="Record";break;case"hub-photo":SI_OLHUB.currFilters.tab="Photo";break;case"hub-video":SI_OLHUB.currFilters.tab="Video";break;default:break}a(false)});h(".siweb-countrySocial-toggle",p).change(function(){var q=this.checked?"india":"intl";h(".radio-txt",p).removeClass("radioChecked");h('.radio-txt[data-name="'+q+'"]',p).addClass("radioChecked");if(q=="india"){SI_OLHUB.currFilters.country=SI_OLHUB.cGroups}else{SI_OLHUB.currFilters.country=["intl"]}a(false)})}SI_OLHUB.socialFeeds=function(p){SI_OLHUB.addLoader(p);var o=m();var q={date_opts:o,all_txt:SI_OLHUB.trans.all_txt,records:SI_OLHUB.trans.records,photos:SI_OLHUB.trans.photos,videos:SI_OLHUB.trans.videos,intl:SI_OLHUB.trans.intl,filter_name:SI_OLHUB.trans.filter_name,latest:SI_OLHUB.trans.latest};SI_OLHUB.handle(q,SI_MKP.socialFeed_markup+SI_MKP.sFilters_markup+SI_MKP.sNewStories+SI_MKP.sViewMore,p);h(".sish-newStories").hide();if(SI_OLHUB.is_mobile){h(".sish-wapFilter",p).hide();var r=h(".si-wapdates");SI_OLHUB.sSwiper=new Swiper(r,{setWrapperSize:true,slidesPerView:"auto",direction:"horizontal"})}h(".hub-wap-date",p).each(function(){var s=h(this).attr("data-day");if((s!=20)&&(SI_OLHUB.currDayFeed+1)<(s)){h(this).addClass("disable")}});f(p)};function a(q){var p=[];for(var r in SI_OLHUB.currFilters.sports){p.push(SI_OLHUB.currFilters.sports[r].id)}var o=m();if(q){SI_OLHUB.loadSocialFeeds({sportId:n,matchId:SI_OLHUB.currFilters.day},b)}else{console.log("SI_OLHUB.currAssetIndex : ",SI_OLHUB.currAssetIndex);SI_OLHUB.currAssetIndex=0;b(SI_OLHUB.socialFeed)}if(SI_OLHUB.mainInterval){clearInterval(SI_OLHUB.mainInterval)}SI_OLHUB.mainInterval=setInterval(function(){SI_OLHUB.loadSocialFeeds({sportId:n,matchId:SI_OLHUB.currFilters.day},k)},SI_OLHUB.interval)}function k(q){if(q&&q.assets){var o=SI_OLHUB.socialFeed.assets.length,p=q.assets.length;if(o!=p){h(".sish-newStories").show()}h(".sish-newStories").off("click").on("click",function(r){h("body").get(0).scrollTop=h(".sish-filter-container").offset().top;b(q)})}else{SI_OLHUB.noData(h(".sidh-socialFeed-mainContent"),"No information for this selection as yet");return}h("img.lazy").lazyload()}function c(v){if(v&&v.assets){var o="";var p=[];for(var q in v.assets){var x=v.assets[q];var B=x.id;var r={assets:[x]};var w=h("div[data-socialid='"+B+"']");if(w.length){if((x.type).toLowerCase()=="story"||(x.type).toLowerCase()=="commentary"){var u=Handlebars.compile(SI_MKP.media_markup);var A=u(r);h((w)[0]).replaceWith(A);h("div[data-socialid='"+B+"']").attr("data-update","1");h("div[data-socialid='"+B+"']").attr("data-index",q)}else{h((w)[0]).attr("data-update","1");h((w)[0]).attr("data-index",q)}}else{if((x.type).toLowerCase()=="post"&&(x.source).toLowerCase()=="twitter"){var z=x.custom_metadata.asset?x.custom_metadata.asset:"";if(z){var s=JSON.parse(z);x.twtId=s.id_str;p.push(x)}else{x.twtId=""}}var u=Handlebars.compile(SI_MKP.media_markup);var A=u(r);h(".sidh-socialFeed-mainContent").prepend(A);h("div[data-socialid='"+B+"']").attr("data-update","1");h("div[data-socialid='"+B+"']").attr("data-index",q)}}SI_OLHUB.socialFeed=v;for(var t in p){var y=p[t].twtId;if(y&&y!=""){d(y)}}h("div[data-update='0']").remove();h("div[data-update='1']").attr("data-update","0")}else{SI_OLHUB.noData(h(".sidh-socialFeed-mainContent"),"No information for this selection as yet");return}h("img.lazy").lazyload()}function b(s){h(".sish-newStories").hide();SI_OLHUB.socialFeed=s;console.log(SI_OLHUB.socialFeed,s);if(s){console.log("insde : ",SI_OLHUB.socialFeed,s);for(var p in s.assets){if(s.assets[p].source=="Twitter"){var u=s.assets[p].custom_metadata.asset?s.assets[p].custom_metadata.asset:"";if(u){var r=JSON.parse(u);s.assets[p].twtId=r.id_str}else{s.assets[p].twtId=""}}}SI_OLHUB.socialFeed=s;var v={assets:SI_OLHUB.getSlDataFiltered()};if(v.assets.length-1>SI_OLHUB.intervalAssetIndex){}SI_OLHUB.filtered_data=v;var o=v.assets.length;var t=[];for(var q=0;q<SI_OLHUB.intervalAssetIndex;q++){if(SI_OLHUB.filtered_data.assets[q]){t.push(SI_OLHUB.filtered_data.assets[q]);SI_OLHUB.currAssetIndex=q}}var w={assets:t};i(w,true)}else{if(!s||(s.assets.length)==0){SI_OLHUB.noData(h(".sidh-socialFeed-mainContent"),"No information for this selection as yet");h(".sish-hubview-more").hide();return}}h(".sish-hubview-more").off("click").on("click",function(){var y=[];var A=SI_OLHUB.currAssetIndex+SI_OLHUB.intervalAssetIndex;if(SI_OLHUB.filtered_data.assets.length-1==SI_OLHUB.currAssetIndex){h(".sish-hubview-more").hide();return}for(var x=SI_OLHUB.currAssetIndex+1;x<A;x++){if(SI_OLHUB.filtered_data.assets[x]){y.push(SI_OLHUB.filtered_data.assets[x]);SI_OLHUB.currAssetIndex=x}}var z={assets:y};i(z,false)})}function i(s,q){if(SI_OLHUB.filtered_data.assets.length-1==SI_OLHUB.currAssetIndex){h(".sish-hubview-more").hide()}h(".hub-new-asset").removeClass("hub-new-asset");var o=Handlebars.compile(SI_MKP.media_markup);var p=o(s);if(q){h(".sidh-socialFeed-mainContent").html(p)}else{h(".sidh-socialFeed-mainContent").append(p)}for(var r in s.assets){var u=s.assets[r];var v=u.id;h("div[data-socialid='"+v+"']").addClass("hub-new-asset")}h("img.lazy").lazyload();h(".sish-insta-icon.hub-new-asset").each(function(){window.instgrm.Embeds.process()});h(".hub-twitter",h(".hub-new-asset")).each(function(){var w=h(this).attr("id");if(w&&w!=""){d(w)}});if(!s.assets.length){SI_OLHUB.noData(h(".sidh-socialFeed-mainContent"),"No information for this selection as yet");return}if(SI_OLHUB.client=="ndtv"){var t=[];googletag.cmd.push(function(){var w=googletag.pubads().enableSingleRequest();googletag.pubads().disableInitialLoad();googletag.enableServices()});h(".sish-breaking-news").each(function(w){if(!h(this).hasClass("ndtv-ad")){if(SI_OLHUB.is_mobile){h(".sish-news-add",h(this)).html('<iframe id="logo'+SI_OLHUB.adCount+'" src="http://ads.ndtv1.com/Creatives/Olympics_OmegaLogo_148x63_Mobile_1.html" width="148" height="63" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>');h(this).addClass("ndtv-ad");SI_OLHUB.adCount++}else{h(".sish-news-add",h(this)).html("<div id='div-gpt-ad-1470573896955-"+SI_OLHUB.adCount+"' style='height:76px; width:182px;'></div>");googletag.cmd.push(function(){t[SI_OLHUB.adCount]=googletag.defineSlot("/1068322/Olympics_OmegaLogo_182x76_Desktop",[182,76],"div-gpt-ad-1470573896955-"+SI_OLHUB.adCount).addService(googletag.pubads());googletag.display("div-gpt-ad-1470573896955-"+SI_OLHUB.adCount);googletag.pubads().refresh([t[SI_OLHUB.adCount]])});SI_OLHUB.adCount++}h(this).addClass("ndtv-ad")}});h(".hub-ndtv-adv").each(function(){if(!h(this).hasClass("ndtv-ad")){if(SI_OLHUB.is_mobile){h(this).html('<iframe id="logo'+SI_OLHUB.adCount+'" src="http://ads.ndtv1.com/Creatives/Olympics_Omega_300x50_WAP_BreakingNews_1.html"  width="300" height="50" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>');h(this).addClass("ndtv-ad");SI_OLHUB.adCount++}else{h(this).html('<iframe id="logo'+SI_OLHUB.adCount+'" src="http://static.sports.ndtv.com/ads/Olympics_Omega_728x90_Top.html"  width="728" height="90" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>');h(this).addClass("ndtv-ad");SI_OLHUB.adCount++}}})}h(".hub-story-asset").off("click").on("click",function(){var x=h(this),w=(x).attr("data-url");if(w){window.open(w,"_blank")}})}function d(o){if(!window.twttr){h("body").append('<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?"http":"https";if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");<\/script>')}else{twttr.widgets.load()}if(o&&h("#"+o)){twttr.widgets.createTweet(o,h("#"+o).get(0)).then(function(p){})}}SI_OLHUB.loadSocialFeeds=function(p,o){var r="http://feeds.cassse.stats.com/v2/GetWallFeeds.aspx?sport_id="+n+"&match_id="+p.matchId+"&client_id="+SI_OLHUB.clientId;var q={url:r,jsonpad:true};SI_OLHUB.loadJSON(q,o)};function f(o){h(".sish-wap-filter",o).off("click").on("click",function(r){r.stopPropagation();r.stopImmediatePropagation();var u=h(this);if(h(".sish-wapFilter").is(":visible")){h(".sish-wapFilter").hide()}else{h(".sish-wapFilter").show();if(h(".hub-wap-tagFilter").is(":visible")){h(".hub-wap-tagFilter").hide();h(".sish-wap-mediaFilter").removeClass("active")}if(h(".mediaFilter-body",q).is(":visible")){h(".mediaFilter-body",q).show();h(".sish-wap-spotrsFilter").addClass("active")}if(SI_OLHUB.sSwiper){SI_OLHUB.sSwiper.detachEvents();SI_OLHUB.sSwiper.destroy(true,true);SI_OLHUB.sSwiper=null}var t=h(".si-wapdates");SI_OLHUB.sSwiper=new Swiper(t,{slidesPerView:"auto",direction:"horizontal"});var s=h(h(".hub-wap-date.active")).attr("data-day")?parseInt(h(h(".hub-wap-date.active")).attr("data-day")):0;SI_OLHUB.sSwiper.slideTo(s)}});var q=h(".sish-wap-mediaFilter");h(".mediaFilter-head",q).off("click").on("click",function(r){r.stopPropagation();r.stopImmediatePropagation();var s=h(this);if(h(".hub-wap-tagFilter").is(":visible")){h(".hub-wap-tagFilter").hide();h(".sish-wap-mediaFilter").removeClass("active")}else{h(".hub-wap-tagFilter").show();h(".sish-wap-mediaFilter").addClass("active")}});h(".mediaFilter-head",q).click();h(".hub-wap-allSprt").off("click").on("click",function(r){var s=h(this);r.stopPropagation();r.stopImmediatePropagation();j(SI_OLHUB.currFilters.date);if(!(s.hasClass("active"))){h(".sish-sportsFilterList").removeClass("active");s.addClass("active");SI_OLHUB.currFilters.isAllSport=true;j(SI_OLHUB.currFilters.date);a(true)}});h(".hub-wap-date",o).off("click").on("click",function(r){if(h(this).hasClass("disable")){return}h(".sish-date-item").removeClass("active");h(this).addClass("active");$this=h(this);SI_OLHUB.currFilters.date=$this.attr("data-date");SI_OLHUB.currFilters.day=$this.attr("data-day");if(SI_OLHUB.currFilters.day==20){h(".sish-sports-filter").addClass("disable");h(".sish-date-item").removeClass("active")}if(SI_OLHUB.currFilters.day==20){SI_OLHUB.sSwiper.slideTo(0)}else{SI_OLHUB.sSwiper.slideTo(SI_OLHUB.currFilters.day)}h(".hub-wap-allSprt").removeClass("active");SI_OLHUB.currFilters.isAllSport=false;h(".hub-wap-allSprt").click();if(SI_OLHUB.currFilters.day==20){a(true)}});if(SI_OLHUB.is_mobile){var p=h('.hub-wap-date[data-day="'+SI_OLHUB.currDayFeed+'"]');if(p.length){if(p.length){h(h(p)[0]).click()}else{h(".hub-wap-date:first").click()}}else{h(".hub-wap-date:first").click()}}h(".siwap-countrySocial-toggle",o).change(function(){var r=this.checked?"india":"intl";h(".radio-txt",o).removeClass("radioChecked");h('.radio-txt[data-name="'+r+'"]').addClass("radioChecked");if(r=="india"){SI_OLHUB.currFilters.country=SI_OLHUB.cGroups}else{SI_OLHUB.currFilters.country=["intl"]}a(false)});h(".sish-filter-item ",q).off("click").on("click",function(r){r.stopPropagation();r.stopImmediatePropagation();var s=h(this);h(".sish-filter-item").removeClass("active");s.addClass("active");var t=s.attr("data-type");switch(t){case"hub-all":SI_OLHUB.currFilters.tab="All";break;case"hub-record":SI_OLHUB.currFilters.tab="Record";break;case"hub-photo":SI_OLHUB.currFilters.tab="Photo";break;case"hub-video":SI_OLHUB.currFilters.tab="Video";break;default:break}a(false)});var q=h(".sish-wap-spotrsFilter");h(".mediaFilter-head",q).off("click").on("click",function(r){r.stopPropagation();r.stopImmediatePropagation();var s=h(this);if(h(".mediaFilter-body",q).is(":visible")){h(".mediaFilter-body",q).hide();h(".sish-wap-spotrsFilter").removeClass("active")}else{h(".mediaFilter-body",q).show();h(".sish-wap-spotrsFilter").addClass("active")}});h(".mediaFilter-head",q).click();h(".wap-sport-filters").find("div.sish-sportsFilterList").off("click").on("click",function(t){t.stopPropagation();t.stopImmediatePropagation();var x=h(this);if(x.hasClass("hub-wap-allSprt")){if(x.hasClass("active")){SI_OLHUB.currFilters.sports=[];SI_OLHUB.currFilters.isAllSport=true}else{h(".sish-sportsFilterList").removeClass("active");h(".hub-wap-allSprt").addClass("active");SI_OLHUB.currFilters.isAllSport=true;j(SI_OLHUB.currFilters.date)}}else{var x=h(this);var w=x.attr("class"),s=x.attr("data-sid"),r=w?w.split("sportName-"):"",y=r[1]?(r[1]).split(" ")[0]:"";if((x.hasClass("active"))){x.removeClass("active");for(var u in SI_OLHUB.currFilters.sports){if(SI_OLHUB.currFilters.sports[u].id==s){(SI_OLHUB.currFilters.sports).splice(u,1)}}}else{if(!(x.hasClass("disable"))){x.addClass("active");if(h(".hub-wap-allSprt").hasClass("active")){SI_OLHUB.currFilters.sports=[];h(".hub-wap-allSprt").removeClass("active");SI_OLHUB.currFilters.isAllSport=false}var v=x.attr("data-sportName");SI_OLHUB.currFilters.sports.push({id:s,sport:v})}}}a(true)})}SI_OLHUB.getSlDataFiltered=function(){var q=(SI_OLHUB.currFilters.country).indexOf("intl")!=-1?true:false,t=(SI_OLHUB.currFilters.country),x=SI_OLHUB.socialFeed.assets,u=SI_OLHUB.currFilters.sports,p=SI_OLHUB.currFilters.tab,s=SI_OLHUB.currFilters.day,v=SI_OLHUB.currFilters.isAllSport,y=[];if(s==20){for(var r in x){if(q){if(p=="All"){y.push(x[r])}else{if(((x[r].tags).indexOf(p))!=-1){y.push(x[r])}}}else{for(var w in t){if(((x[r].tags).indexOf(t[w]))!=-1){if(p=="All"){y.push(x[r])}else{if(((x[r].tags).indexOf(p))!=-1){y.push(x[r])}}}}}}}else{for(var r in x){if(SI_OLHUB.currFilters.isAllSport){if(q){if(p=="All"){y.push(x[r])}else{if(((x[r].tags).indexOf(p))!=-1){y.push(x[r])}}}else{for(var w in t){if(((x[r].tags).indexOf(t[w]))!=-1){if(p=="All"){y.push(x[r])}else{if(((x[r].tags).indexOf(p))!=-1){y.push(x[r])}}}}}}else{for(var o in u){if(x[r].tags&&((x[r].tags).indexOf(u[o].sport))!=-1){if(q){if(p=="All"){y.push(x[r])}else{if(((x[r].tags).indexOf(p))!=-1){y.push(x[r])}}}else{for(var w in t){if(((x[r].tags).indexOf(t[w]))!=-1){if(p=="All"){y.push(x[r])}else{if(((x[r].tags).indexOf(p))!=-1){y.push(x[r])}}}}}}}}}}return y};SI_OLHUB.getMonthName=function(o){var p=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];return(p[o]).toLowerCase()};SI_OLHUB.getRealDate=function(){var s=new Date(),o=s.getDate(),u=o<10?"0"+o:o,r=parseInt(s.getMonth()+1),q=r<10?"0"+r:r,p=s.getFullYear(),t=u+"/"+q+"/"+p;return t}})($);function loadjscssfile(a,b,d){if("js"==b){var g=document.createElement("script");g.onload=d,g.src=a,document.getElementsByTagName("head")[0].appendChild(g)}if("css"==b){var f=document.createElement("link");f.setAttribute("rel","stylesheet"),f.setAttribute("type","text/css"),f.setAttribute("href",a),document.getElementsByTagName("head")[0].appendChild(f),d()}}var log=function(a){return;window.console&&console.log(a)};var warn=function(a){window.console&&console.warn(a)};