window.ADTECH=window.ADTECH||{debugMode:!1},window.ADTECH.config=window.ADTECH.config||{placements:{},placementsdyn:{}},window.DAC=window.DAC||{};try{!function(){"use strict";function e(e,n,t){function i(){var e=t&&t.navigator&&t.navigator.userAgent;if(e){var n=e.match(/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)/);n&&(n[1]||n[2])&&(d=o(n[1]||n[2]),l=d&&(9>d||t.document.documentMode&&t.document.documentMode<10));var i=e.match(/AppleWebKit\/([^\s]*)/);i&&i[1]&&(g=o(i[1]));var r=e.match(/(Chrome|CrMo|CriOS)\/([^\s]*)/);r&&r[1]&&r[2]&&(f=o(r[2]),g=0)}}function o(e){return parseFloat(e)}function r(){return d}function a(){return l}function u(){return!!f}function s(){return!!g}var c="Environment",d=0,l=!1,f=0,g=0;return i(),e[c]={isOldIEMode:a,getIEVersion:r,isChrome:u,isSafari:s},e[c]}function n(e,n,t){function i(e,n,t){var i,o=e&&e.length||0;for(i=0;o>i;i++)n.call(t,e[i],i)}function o(e,n,t){if(e){var i;for(i in e)e.hasOwnProperty(i)&&n.call(t,i,e[i])}}function r(e){return"object"==typeof e}function a(e){return"string"==typeof e}function u(e){return"function"==typeof e}function s(e){return"number"==typeof e&&isFinite(e)}function c(e){return"object"==typeof e&&e.constructor===Array}function d(e){return"boolean"==typeof e}function l(e){return/^\d*$/.test(e)}function f(e){var n;if(!t.JSON)throw new Error("JSON not found. Could not transform the string into an object");return n=t.JSON.parse(e)}function g(e,n,t,r){var a,u={};t?(i(t,function(e){n.hasOwnProperty(e)&&(u[e]=!0)}),a=r?function(n,t){u[n]||(e[n]=t)}:function(t){u[t]&&(e[t]=n[t])}):a=function(n,t){e[n]=t},o(n,a)}function p(e){var n=T.getElementById(e.adContainerId);return null!==n&&r(n)&&n}function h(n){var t=n.config,i=e.Environment.getIEVersion;if(!p(t)){if(t.ajax&&t.ajax.useajax)return void n.logger.log(L,"createAdContainer","<div> element with ID "+t.adContainerId+" not found, creation skiped (Ajax call)");if(!e.ResourceManager.isSync(n.config.legacyDACLoadType,i))throw L+"#createAdContainer Ad Container cannot be created";T.write('<div id="'+t.adContainerId+'" style="padding:0;margin:0;border:0;"></div>'),t.adContainer=T.getElementById(t.adContainerId),n.logger.log(L,"createAdContainer","Created <div> element with ID "+t.adContainerId)}}function m(e){var n=T.getElementById(e.adContainerId);if(null===n||!r(n))throw new Error(L+"#resolveContainer Ad Container not found");e.adContainer=n,e.skipContainerClean||(e.adContainer.innerHTML="")}function v(e){var n=e.queueId?' adtechQueueId="'+e.queueId+'"':"";return'<script type="text/javascript" src="'+e.config.adcallUrl+'"'+n+"></script>"}function b(e,n){return function(){try{e.apply(null,arguments)}catch(t){if(n&&(n.log("Exception raised: "+t.message),n.isEnabled()))throw t}}}function y(e){return Math.round(Math.random()*e)}function A(e,n,t,i){return void 0===e||void 0===n?!1:(t&&(t=w([e,n],t)),I(e,n,t,i)&&I(n,e,t,i))}function C(e,n){var t=[],r={};return i(e,function(e){o(e,function(e){!r[e]&&n.test(e)&&(t.push(e),r[e]=!0)})}),t}function w(e,n){var t=[];return i(n,function(n){if(n instanceof RegExp){var i=C(e,n);i.length>0&&Array.prototype.push.apply(t,i)}else t.push(n)}),t}function I(e,n,t,i){function o(o){var r=!(e.hasOwnProperty(o)||n.hasOwnProperty(o));return r?!0:i&&R(t,o)?!0:e.hasOwnProperty(o)&&n.hasOwnProperty(o)&&("object"==typeof e[o]?objectEquals(e[o],n[o]):e[o]===n[o])}var r;if(t&&t.constructor===Array&&!i){for(r=0;r<t.length;r++)if(!o(t[r]))return!1;return!0}for(r in e)if(e.hasOwnProperty(r)&&!o(r))return!1;return!0}function R(e,n){var t=!1;return i(e,function(e){e===n&&(t=!0)}),t}function S(e){var n=[];return i(e,function(e,t){n[t]=e}),n}function E(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent?e.attachEvent("on"+n,t):e["on"+n]=t}function M(){var e=T.documentElement.clientWidth,n="CSS1Compat"===T.compatMode&&e||T.body&&T.body.clientWidth||e;return T.body||0!==n||(n=T.documentElement.scrollWidth),n}function P(){var e=T.documentElement.clientHeight;return"CSS1Compat"!==T.compatMode&&(e=t.innerHeight||e),e}function x(e,n,t,i){e[t]&&!n[i]&&(n[i]=e[t])}function j(e){var n={};return o(e,function(e,t){r(t)?(n[e]={},g(n[e],t)):n[e]=t}),n}function D(e){if(a(e)){for(var n,i=e.split("."),o=t,r=0;o&&r<i.length;r++)o=o[i[r]],n=o;return n}}var L="Utils",T=t.document;return e[L]={each:i,eachKey:o,isString:a,isObject:r,isFunc:u,isBoolean:d,isNumber:s,isArray:c,isStringANumber:l,copyObject:g,resolveContainer:m,findAdContainer:p,generateScriptHTML:v,stringToObject:f,createClosure:b,createAdContainer:h,rnd:y,objectsEquals:A,buildObjectsProperties:w,cloneArray:S,addEventListener:E,getViewportWidth:M,getViewportHeight:P,copyMissingProperty:x,resolveHostPageVariable:D,cloneObject:j},e[L]}function t(e,n,t){function i(){if(m=t,m!=t.top)try{t.top.location.href;m=t.top}catch(e){}}function o(e,n){var t={};u(n);var i=a(n.urlPart);return i?(f(n,t),r(n,t,i),e.logger.logObject(v,"extractURLConfig",t),t):(e.logger.log(v,"extractURLConfig#No URL section found"),t)}function r(e,n,t){var i=c(t),o=s(t);e.useBlackList&&(o=p(o,e.blackList));var r=d(t,e.urlSeparator);if(e.sendQueryKeyValue)l(n,o),e.combinePath&&e.keyName&&r.length>0&&(n[e.keyName]=r.join(":"));else{var a=r.join(":");o.length>0&&e.combinePath?a+=":"+g(o).join(":"):o.length>0&&!e.combinePath&&(a+="?"+i),n[e.keyName]=a}}function a(e){return e?m.location[e]:m.location.pathname+m.location.search}function u(e){m||i(),e.sendQueryKeyValue=e.sendQueryKeyValue!==!1,e.combinePath=e.combinePath!==!1,e.sendProtocol=e.sendProtocol!==!1,e.sendDomain=e.sendDomain!==!1,e.keyName=e.keyName||A,e.urlSeparator=e.urlSeparator||y,e.blackList=e.blackList||[],b.isBoolean(e.useBlackList)||(e.useBlackList=e.blackList.length>0)}function s(e){var n=e.indexOf("?"),t=[];if(-1===n)return t;var i=e.substring(n+1).split("&");return b.each(i,function(e){var n=e.split("=");t.push({key:n[0],value:n[1]})}),t}function c(e){var n=e.indexOf("?"),t="";return-1!==n&&(t=e.substring(n+1)),t}function d(e,n){var t=e.indexOf("?"),i=[],o=e;return-1!==t&&(o=e.substring(0,t)),o.length>0&&(o.charAt(0)===y&&(o=o.substring(1)),i=o.split(n)),i}function l(e,n){b.each(n,function(n){e[n.key]=n.value})}function f(e,n){e.sendProtocol===!0&&(n.protocol=m.location.protocol.substring(0,m.location.protocol.length-1)),e.sendDomain===!0&&(n.domain=m.location.host)}function g(e){var n=[];return b.each(e,function(e){n.push(e.value)}),n}function p(e,n){var t=[];return b.each(e,function(e){var i=h(n,e.key);-1===i&&t.push(e)}),t}function h(e,n){if(Array.prototype.indexOf)return e.indexOf(n);for(var t=0;t<e.length;t++)if(e[t]==n)return t;return-1}var m,v="URLTargeting",b=e.Utils,y="/",A="url";return e[v]={extractURLConfig:o},e[v]}function i(e,n,t){function i(e){var n,t=e.config,i=t.ajax.method,u=t.adcallUrl;return"undefined"!=typeof XMLHttpRequest&&(n=new XMLHttpRequest),"withCredentials"in n?(t.ajax.xhr.withCredentials===!0&&(n.withCredentials=!0),n.open(i,u,!0)):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest,n.open(i,u)):(n=null,e.logger.log(g,"getXMLHttpRequest#CORS not supported")),n&&(o(n,t),r(n,t.ajax.headers),a(n,e)),n}function o(e,n){n.ajax.dataType===h&&r(e,{Accept:"application/json, text/javascript, */*; q=0.01"})}function r(e,n){e.setRequestHeader&&p.eachKey(n,function(n,t){e.setRequestHeader(n,t)})}function a(e,n){e.onload=function(){u(e,n)},e.onerror=function(){c(e,n)}}function u(e,n){l(n);var t,i=n.config,o=e.responseText,r=e.status||200;if(r>=200&&400>r)try{o=d(o,i.ajax.dataType)}catch(a){t=a,n.logger.log(g,"processOKResponse#"+a.message)}else t=new Error("CORS call failed status: "+r);var u=s(n);i.complete&&!t?i.complete(o,u):t&&i.error&&i.error(t,u)}function s(e){var n={};return e.config.placement&&(n.placement=e.config.placement),e.config.alias&&(n.alias=e.config.alias),n}function c(e,n){l(n);var t=new Error("CORS call failed status: "+e.status);n.config.error&&n.config.error(t)}function d(e,n){return n===h&&e&&JSON&&(e=JSON.parse(e)),e}function l(e){e.queueId&&!e.partOfMultiAd&&n.queueCallback(e.queueId)}function f(e){var n=i(e);n&&n.send()}var g="Ajax",p=e.Utils,h="json";e[g]={doCall:f,getXMLHttpRequest:i}}function o(e,n,t){function i(){h&&(clearTimeout(m),m=setTimeout(o,h))}function o(){p=b.getViewportWidth(),b.eachKey(y,function(n,t){s(t)&&e.BannerInjector.doAsync(t)}),r()}function r(){b.eachKey(A,function(e,n){a(n)})}function a(n){if(clearTimeout(n.reloadTimeout),n.running)n.reloadTimeout=setTimeout(function(){a(n)},h);else{var t=[],i=n.getResponsiveRequests();b.each(i,function(e){s(e)&&t.push(e.id)}),t.length>0&&e.AdQueue.reloadQueue(n,t)}}function u(e){if(e.hasResponsiveConfig()){h=e.config.responsiveCheckTimeout,y[e.id]=e;var n=s(e);!n&&e.config.responsive.allowGaps&&(e.disableAdInjection=!0),i()}}function s(e){var n,t,i,o=e.config.responsive.bounds;for(n=0;n<o.length;n++)if(t=o[n],c(t)){delete e.disableAdInjection,n!==e.currentBoundIndex&&(i=!0,e.currentBoundIndex=n,e.responsiveId=t.id,delete e.config.adcallUrl);break}return i||delete e.responsiveId,i}function c(n){return p||(p=e.Utils.getViewportWidth()),p>=n.min&&p<=n.max}function d(e){var n=!1,t=[];b.each(e.storage,function(e,i){if(e.hasResponsiveConfig()){h=e.config.responsiveCheckTimeout,n=!0,t.push(i);var o=s(e);!o&&e.config.responsive.allowGaps&&(e.disableAdInjection=!0)}}),n&&(e.responsiveIndexes=t,A[e.id]=e)}function l(){return y}function f(){return A}function g(e){var n={params:{}},t=e.config.responsive.bounds[e.currentBoundIndex];return b.copyObject(n,e.config,["params","placement","alias","responsive"],!0),b.copyObject(n.params,t.params,["alias"],!0),n.placement=e.config.placement,b.isNumber(e.responsiveId)?n.placement=e.responsiveId:b.isString(e.responsiveId)&&(n.params.alias=e.responsiveId),n}var p,h,m,v="ResponsiveAdManager",b=e.Utils,y={},A={};e.Utils.addEventListener(t,"resize",i),e[v]={register:u,registerQueue:d,currentViewportWidth:p,checkTimeout:m,getResponsiveAdsRegistry:l,getResponsiveQueuesRegistry:f,makeResponsiveConfigClone:g}}function r(e,n,t){function i(t,i){if(d.resolveContainer(t.config),t.shown=!0,t.config.fif.usefif)o("injectBannerAsyncMode","Fif",t),e.FifRenderer.setupFif(t);else{o("injectBannerAsyncMode","postscribe",t);var r=e.ResourceLoader.buildUrl(t.config,"postscribe.js"),a=i.bannerCode||d.generateScriptHTML(t);e.ResourceLoader.loadScript(r,"postscribe",!0,function(e){if(!e)throw new Error("BannerInjector# injectBannerAsyncMode.  Postscribe lib failed to load");t.logger.log(c,"injectBannerAsyncMode","Postscribe loaded. Performing ad injection for request id "+(t.id||"<?>")),n.postscribe(t.config.adContainer,a,{done:t.config.complete,error:function(e){if(n.debugMode)throw e}})},t.logger)}}function o(e,n,t){var i=t.config;t.logger.log(c,e,"Inject banner in async mode using "+n+" for request id "+t.id+(i.adcallUrl?" using URL "+i.adcallUrl:""))}function r(n){var t=e.Detections;t.detectScreenSize(n),t.detectUTCOffset(n),t.detectFlashVersion(n),t.detectRichMediaSupport(n)}function a(n){n.disableAdInjection||(s(n),n.config.ajax.useajax?e.Ajax.doCall(n):i(n,{}))}function u(n){n.disableAdInjection||(n.shown=!0,s(n),n.logger.log(c,"doSync","Performing sync ad call using document.write"+(n.config.placement?" for placement "+n.config.placement:"")+" using URL "+n.config.adcallUrl),t.document.write(e.Utils.generateScriptHTML(n)))}function s(n){var t=n.config;n.responsiveId&&(t=e.ResponsiveAdManager.makeResponsiveConfigClone(n)),E.AdcallBuilder.buildUrl(t),n.config.adcallUrl=t.adcallUrl}var c="BannerInjector",d=e.Utils;e[c]={injectBannerAsyncMode:i,performSyncDetections:r,doAsync:a,doSync:u}}function a(e,n,t){function i(e,t,i,a){n.resourceRegistry=n.resourceRegistry||{};var u=n.resourceRegistry;u[e]&&u[e].loaded&&(!i||i&&h)?t(u[e].status):(u[e]||(u[e]={queue:[],needPageDOM:i},a(o(e),r(e))),u[e].queue.push(t))}function o(e){return function(){a(e,!0)}}function r(e){return function(){a(e,!1)}}function a(e,t){var i=n.resourceRegistry;i[e].loaded=!0,i[e].status=t,u(i[e])}function u(e){if((!e.needPageDOM||h)&&e.loaded){for(var n=e.queue,t=0;t<n.length;t++)n[t](e.status);e.queue=[]}}function s(){if(!g){h=!0,g=!0;var e=n.resourceRegistry;for(var t in e)u(e[t])}}function c(){if("complete"===m.readyState)return setTimeout(s,1);if(m.addEventListener)m.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1);else if(m.attachEvent){m.attachEvent("onreadystatechange",s),t.attachEvent("onload",s);var e=!1;try{e=null===t.frameElement}catch(n){}m.documentElement.doScroll&&e&&d()}}function d(){if(!g){try{m.documentElement.doScroll("left")}catch(e){return void setTimeout(d,1)}s()}}function l(e,n){var i="loading"===m.readyState;if(!i&&"interactive"===m.readyState&&t==t.top&&n)try{m.documentElement.doScroll&&m.documentElement.doScroll("left")}catch(o){i=!0}else!i&&"interactive"===m.readyState&&t!=t.top&&n&&(m.addEventListener?h||(i=!0):e&&(i=!0));return i}function f(){return h}var g,p="ResourceManager",h=!1,m=t.document;c(),e[p]={schedule:i,isSync:l,isDOMReady:f}}function u(e,n,t){function i(n,t,i,o,u){e.ResourceManager.schedule(t,e.Utils.createClosure(o,u),i,function(t,i){a(),r(n,c,{onSuccess:e.Utils.createClosure(t,u),onError:e.Utils.createClosure(i,u)},!1)})}function o(n,t,i){a(),r(n,c,{onSuccess:e.Utils.createClosure(function(){t(!0)},i),onError:e.Utils.createClosure(function(){t(!1)},i)},!0)}function r(n,i,o,r){var a=t.document.createElement("script"),u=e.Environment.getIEVersion();a.setAttribute("type","text/javascript"),a.setAttribute("src",n),u&&(9>u||t.document.documentMode&&t.document.documentMode<9)?a.onreadystatechange=function(){/loaded|complete/.test(a.readyState)&&(a.onreadystatechange=null,o.onSuccess&&o.onSuccess())}:u>=10&&!r?(a.onerror=function(){setTimeout(o.onError,0)},a.onload=function(){setTimeout(o.onSuccess,0)}):(a.onerror=o.onError,a.onload=o.onSuccess),i.appendChild(a)}function a(){if(!c){var e=t.document.head;if(!e){var n=t.document.getElementsByTagName("head");e=n&&n.length>0?n[0]:t.document.body||t.document.getElementsByTagName("body")[0]}c=e}}function u(e,n){return"https"===e.protocol?l+n:d+n}function s(e){var n=t.location.protocol.substring(0,t.location.protocol.length-1);return e===g?"http://qa-ge-iqservice001.us-ec.adtech.com:8080/dac_pubapi/plugin/"+g+".js":u({protocol:n},e+".js")}var c,d="http://aka-cdn-ns.adtechus.com/dt/common/",l="https://aka-cdn.adtechus.com/dt/common/",f="DACMultiAdPlugin",g="DACPubApiPlugin",p="ResourceLoader";e[p]={loadScript:i,loadTransientScript:o,buildUrl:u,buildPluginUrl:s,MULTI_AD_PLUGIN_NAME:f,PUB_API_PLUGIN_NAME:g}}function s(e){function n(n){if(!e.Utils.isString(n.adcallUrl)){n.serviceType||(n.serviceType="addyn"),n.serviceVersion||(n.serviceVersion="3.0");var o=n.protocol+"://"+n.server+i+n.serviceType+i+n.serviceVersion+i+n.network+i+(n.placement?n.placement:0)+i+n.pageid.toString()+i+n.sizeid.toString()+i+n.normaltarget;o=t(o,n,";"),n.adcallUrl=o}}function t(n,t,i,r,a,u){var s=!0,c="";return u=u||{},e.Utils.isObject(t.params)&&(s=void 0===t.params.misc,e.Utils.eachKey(t.params,function(e,t){a&&a[e]||(u[e]&&(t=u[e],delete u[e]),o[e]?c+=i+e+"="+t:n+=i+e+"="+t)}),e.Utils.eachKey(u,function(e,t){n+=i+e+"="+t})),s&&!r&&(n+=i+"misc="+(new Date).getTime()),n+=c}var i="/",o={rdclick:!0,rdview:!0,link:!0},r="AdcallBuilder";e[r]={buildUrl:n,addUrlParams:t}}function c(e,n,t){function i(e,t){function i(){D||(C.log(u,"adcallComplete","#"+e.id),t.queueId&&!t.partOfMultiAd&&n.queueCallback(t.queueId),D=!0)}function a(e){r()?e.onload=i:e.onreadystatechange=function(){/loaded|complete/.test(e.readyState)&&(e.onreadystatechange=null,i())}}function s(){C.log(u,"done","#"+e.id),i(),w.complete&&w.complete()}function l(n,t){C.log(u,"resize","#"+e.id+" resizing to "+n+"x"+t),e.width=n,e.height=t}function f(){if(j){g(),w.fif.preResize(t.id);var e=p();l(e.width,e.height)}else l(P,x);s()}function g(){var e,n,i,o="img",r="a";if(!t.config.fif.contentStyle){if(i=O.children,c.isOldIEMode()){var a=O.nextSibling;a&&a.nodeName.toLowerCase()===r?e=a:a&&a.nodeName.toLowerCase()===o&&(n=a)}else if(2===i.length){var u=i[1].nodeName.toLowerCase();u===r?e=i[1]:u===o&&(n=i[1])}e&&1===e.children.length&&e.children[0].nodeName.toLowerCase()===o&&(n=e.children[0]),n&&(n.style.display="block")}}function p(){var e=O.scrollWidth,n=O.scrollHeight;return 0!==e&&0!==n||1!==O.children.length||!c.isOldIEMode()||"script"===O.children[0].nodeName.toLowerCase()&&(e=m("Width"),n=m("Height")),window.opera&&(2>e||2>n)&&(e=h("Width"),n=h("Height")),{width:e,height:n}}function h(e){var n=Math.max(M.documentElement["client"+e],M.body["scroll"+e],M.documentElement["scroll"+e],M.body["offset"+e],M.documentElement["offset"+e]);return n}function m(e){var n=Math.max(M.body["scroll"+e],M.body["offset"+e]);return n}function v(){var e=0,n=setInterval(function(){if(50>e&&"complete"!=M.readyState){var t=p();t.width>1&&t.height>1&&(clearInterval(n),l(t.width,t.height)),e++}else clearInterval(n)},100)}function b(){j?(L=0,y()):A()}function y(){var n=p();(n.width<=1||n.height<=1)&&T>L?(L+=d,C.log("#"+e.id+" recheck content size"),setTimeout(y,d)):A()}function A(){C.log("#"+e.id+" loaded"),f()}var C=t.logger,w=t.config,I="<script>var inFIF=inDapIF=true;</script>";w.fif.disableFriendlyFlag&&(I="");var R='<script id="adscript" src="'+w.adcallUrl+'"></script>';t.adLoadScript&&(R=t.adLoadScript);var S="<style>body {margin:0;padding:0;overflow:hidden;} html {margin:0;padding:0;} ";S+=t.config.fif.contentStyle,S+="</style>";var E="<!DOCTYPE html><html><head>"+S+"</head><body>"+I+'<div id="afd">'+R+"</div></body></html>",M=e.contentDocument||e.contentWindow.document,P=w.fif.width,x=w.fif.height,j=1>=P||1>=x,D=!1,L=0,T=t.config.fif.onloadResizeCheckTimeLimit;M.open("text/html","replace"),M.write(E),a(M.getElementById("adscript")),o()?setTimeout(function(){M.close()},500):M.close();var O=M.getElementById("afd");"complete"==M.readyState?j?b():(l(P,x),s()):(M.addEventListener?e.contentWindow.addEventListener("load",b,!1):M.body.onload=b,j&&!w.fif.disableLoadingResize&&v())}function o(){return!!t.opera||c.isOldIEMode()}function r(){var e=c.getIEVersion();return e&&(9>e||t.document.documentMode&&t.document.documentMode<9)?!1:!0}function a(e){var n=t.document.createElement("iframe"),o=e.config,r=o.placement+"_frame";r=o.alias?o.alias+"_frame":o.placement?o.placement+"_frame":o.adContainerId?o.adContainerId+"_frame":"rnd_frame"+s.rnd(1e6),n.seamless="seamless",n.id=r,n.name=r,n.style.border="0px",n.scrolling="no",n.frameBorder=0,n.width=1,n.height=1,n.allowtransparency=!0,n.setAttribute("allowFullScreen","true"),n.setAttribute("mozallowFullScreen","true"),n.setAttribute("webkitAllowFullScreen","true"),n.src="about:blank",o.adContainer.appendChild(n),e.logger.log(u,"setupFif","#"+r+" created"),i(n,e)}var u="FifRenderer",s=e.Utils,c=e.Environment,d=50;e[u]={setupFif:a}}function d(e,n,t){function i(e,n,t,i){t[e]=!!i[e+n]}function o(e,n,t,i){i[e+n]&&(t[e]=i[e+n])}function r(e,n){var r;if(t.Adtech!==b){var a=t.Adtech;r={network:a["networkSubnetwork"+e],protocol:a["protocol"+e],server:a["adURLHostName"+e],alias:a["placementAlias"+e],kv:a["KV"+e],fif:a["fif"+e],params:{}},i("performScreenDetection",e,r,a),i("performTimezoneDetection",e,r,a),i("performFlashDetection",e,r,a),i("performRichMediaDetection",e,r,a),i("performGeoDetection",e,r,a),i("syncIfPossible",e,r,a),i("legacyDACLoadType",e,r,a),o("loc",e,r.params,a),o("grp",e,r.params,a),n.logObject(y,"AdtechConfig",r)}return r}function a(e,n,t,i,o){if(C(e)){var r=t&&e[t]?t:n;i.log(y,"getPlacementConfig","Placement look up for level "+o+" done using "+(r===t?"alias: "+t:"placement id: "+n));var a=e[r];return a||(a=v(e,n,t,i)),a&&i.logObject(y,"getPlacementConfig",a),a}return b}function u(e){return C(e)?e.important:b}function s(n,t,i,o,r){var a=o||{},u={ajax:!0},c=!0,d=r!==b?r:!0;e.Utils.eachKey(t,function(e,o){"important"===e||d&&a[e]||d===!1&&!a[e]||(u[e]===!0&&(c=!1),i||"params"!==e||o.alias===b||t.alias!==b||(n.alias=o.alias),C(n[e])&&C(o)&&!i?s(n[e],o,c):n[e]===b&&C(o)&&!i?(n[e]={},s(n[e],o,c)):null===o?delete n[e]:o!==b&&(n[e]=o))})}function c(n){var t=n.logger,i=n.config,o=i.placement,r=i.alias;if(!e.Utils.isNumber(o)&&!e.Utils.isString(r))throw y+": Invalid ad identifier";t.log(y,"buildConfiguration","Resolving configuration for alias: "+r+" and placement: "+o);var a,u={},c=l(i,t),g="",p=f(c);for(p.urlTargeting&&p.urlTargeting.doTargeting===!0&&(c[w]={config:{kv:e.URLTargeting.extractURLConfig(n,p.urlTargeting)}}),a=0;a<c.length;a++)c[a]&&C(c[a].config)&&(g+=" "+a,c[a].resolvedConfig=h(c[a].config,t),s(u,c[a].resolvedConfig,!1,c[a].ignore));var m=u.responsive;if(m&&m.bounds&&m.bounds.length>0&&m.useresponsive!==!1)for(var v=0;v<m.bounds.length;v++)d(m.bounds[v],c);return t.log(y,"buildConfiguration","Found configuration at priorities"+g),u}function d(e,n){var t={};n[95]={resolvedConfig:e},n[205]={resolvedConfig:e.important};for(var i=0;i<n.length;i++)n[i]&&C(n[i].resolvedConfig)&&s(t,n[i].resolvedConfig,!1);A.copyObject(e,t,["kv","params"])}function l(e,t){var i=[],o=n.config,s=e.placement,c=e.alias,d={enableMultiAd:!0,responsiveCheckTimeout:!0};return i[10]={config:o.network},i[20]={config:o.website},i[30]={config:o.page},i[40]={config:a(o.placements,s,c,t,40),ignore:d},i[50]={config:o.networkdyn},i[60]={config:o.websitedyn},i[70]={config:o.pagedyn},i[80]={config:r(e.placement,t)},i[90]={config:a(o.placementsdyn,s,c,t,90),ignore:d},i[110]={config:u(o.network)},i[120]={config:u(o.website)},i[130]={config:u(o.page)},i[140]={config:g(i[40].config,s,c,t,140),ignore:d},i[150]={config:u(o.networkdyn)},i[160]={config:u(o.websitedyn)},i[170]={config:u(o.pagedyn)},i[180]={config:g(i[90].config,s,c,t,180),ignore:d},i[200]={config:e,ignore:d},i}function f(e){for(var n={},t=0;t<e.length;t++)e[t]&&C(e[t].config)&&s(n,e[t].config,!1,{urlTargeting:!0},!1);return n}function g(e,n,t,i,o){return i.log(y,"getPlacementImportantConfig","Placement look up for level "+o+" done using alias: "+t+", placement id: "+n),u(e)}function p(e){return!!n.config.placements&&!!n.config.placements[e]||!!n.config.placementsdyn&&!!n.config.placementsdyn[e]}function h(e,n){if(!e.dynamicBind)return e;var t=A.cloneObject(e);return n.logObject(y,"resolveDynamicBindings",e.dynamicBind),m(t,e.dynamicBind,n),delete t.dynamicBind,t}function m(e,n,t,i){A.eachKey(n,function(n,o){if(C(o))A.isArray(e)&&(n=e.length,"bounds"==i&&void 0!==o.index&&(n=o.index,delete o.index)),e[n]||(e[n]=A.isArray(o)?[]:{}),m(e[n],o,t,n);else{var r=A.resolveHostPageVariable(o);void 0!==r?e[n]=r:t&&t.log(y,"resolveDynamicBindingsValues","Could not find a value for "+o)}})}function v(e,n,t,i){var o,r=n?"placement":"alias",a=n?n:t;return A.eachKey(e,function(e,n){var t=n[r];!t&&"alias"===r&&n.params&&(t=n.params.alias),t===a&&(o=n)}),o&&i.logObject(y,"resolveLinkedIdConfig","Found config on a linked id placement id:"+n+", alias: "+t),o}var b,y="ConfigResolver",A=e.Utils,C=A.isObject,w=25;e[y]={buildConfiguration:c,isPlacementConfigDefined:p}}function l(e,n,t){function i(e,n){return m(e)&&""!==e?e:n}function o(e,n){return v(e)?e:n}function r(e){return e?"https":"http"}function a(e,n){var a,d={};if(!v(e.placement)&&!m(e.alias))throw"config.placement must be a Number or the config.alias has to be a string";if(h.each(["network"],function(n){if(!m(e[n]))throw f+"#process config."+n+" must be a String"}),d.placement=e.placement,d.alias=e.alias,d.network=e.network,d.server=i(e.server,A),d.protocol=i(e.protocol,r(e.secure===!0)),d.pageid=o(e.pageid,0),d.sizeid=o(e.sizeid,-1),d.normaltarget=i(e.normaltarget,"ADTECH"),d.serviceType=i(e.serviceType,"addyn"),d.serviceVersion=i(e.serviceVersion,"3.0"),a=e.placement?e.placement:e.alias,d.adContainerId=i(e.adContainerId,a.toString()),d.adContainerPrefix=i(e.adContainerPrefix,""),d.adContainerId!=e.placement||!e.alias&&!e.adContainerPrefix||h.findAdContainer(d)?d.adContainerId==e.alias&&e.adContainerPrefix&&!h.findAdContainer(d)&&(d.adContainerId=d.adContainerPrefix+""+e.alias):(d.adContainerId=e.alias,h.findAdContainer(d)||(d.adContainerId=d.adContainerPrefix+""+e.placement)),c(d,e,"enableMultiAd",!1),s(d,e,"responsiveCheckTimeout",g),b(e.fif)?(d.fif={usefif:e.fif.usefif!==!1,width:o(e.fif.width,0),height:o(e.fif.height,0)},u(d.fif,e.fif,"disableFriendlyFlag"),u(d.fif,e.fif,"disableLoadingResize"),s(d.fif,e.fif,"shareWithAddOns",!0),d.fif.contentStyle=h.isString(e.fif.contentStyle)?e.fif.contentStyle:"",d.fif.preResize=h.isFunc(e.fif.preResize)?e.fif.preResize:y,d.fif.onloadResizeCheckTimeLimit=v(e.fif.onloadResizeCheckTimeLimit)&&e.fif.onloadResizeCheckTimeLimit>0?e.fif.onloadResizeCheckTimeLimit:p):d.fif={usefif:!1,width:0,height:0,disableFriendlyFlag:!1,disableLoadingResize:!1},h.isFunc(e.complete)&&(d.complete=e.complete),d.error=h.isFunc(e.error)?e.error:y,d.params={},b(e.params)&&h.eachKey(e.params,function(n,t){m(e.params[n])&&e.params[n].length>0&&(d.params[n]=e.params[n])}),d.alias&&(d.params.alias=d.alias),b(e.kv)&&l(d,e),h.isObject(e.responsive)?(d.responsive={useresponsive:e.responsive.useresponsive!==!1,allowGaps:e.responsive.allowGaps===!0,bounds:[]},h.isArray(e.responsive.bounds)&&h.each(e.responsive.bounds,function(e){e.id&&v(e.min)&&v(e.max)&&e.min<=e.max&&(d.responsive.bounds.push(e),e.params||(e.params={}),b(e.kv)&&(l(e,e),delete e.kv))}),0===d.responsive.bounds.length&&(d.responsive.useresponsive=!1)):d.responsive={useresponsive:!1,bounds:[]},"pubapi"===d.serviceType){if(d.params.callback||d.params.cors&&"yes"===d.params.cors||(d.params.callback="ADTECH.pubApiHandler"),"yes"===d.params.cors&&(b(e.ajax)||(e.ajax={}),h.isFunc(d.complete)||(d.complete=ADTECH.pubApiHandler)),!h.isObject(e.pubApiConfig))throw"pubApiConfig#is missing in configuration.";e.pubApiConfig.pubApiER&&!h.isFunc(d.error)&&(d.error=e.pubApiConfig.pubApiER),d.pubApiConfig=e.pubApiConfig,d.pubApiConfig.protocol=d.protocol}return b(e.ajax)?(d.ajax={useajax:e.ajax.useajax!==!1},d.ajax.method=i(e.ajax.method,"GET"),d.ajax.headers=b(e.ajax.headers)?e.ajax.headers:{},d.ajax.xhr=b(e.ajax.xhr)?e.ajax.xhr:{},d.ajax.dataType=i(e.ajax.dataType,"json"),c(d.ajax.xhr,d.ajax.xhr,"withCredentials",!0)):d.ajax={useajax:!1,headers:{},xhr:{}},u(d,e,"syncIfPossible"),u(d,e,"legacyDACLoadType"),u(d,e,"performGeoDetection"),c(d,e,"performScreenDetection",!0),u(d,e,"performTimezoneDetection"),u(d,e,"performFlashDetection"),u(d,e,"performRichMediaDetection"),d.params.grp=d.params.grp||t.adgroupid,h.each(d.responsive.bounds,function(e){e.params.grp=e.params.grp||t.adgroupid}),n.logObject(f,"finalConfig",d),d}function u(e,n,t){e[t]=n[t]===!0}function s(e,n,t,i){e[t]=void 0!==n[t]?n[t]:i}function c(e,n,t,i){e[t]=h.isBoolean(n[t])?n[t]:i}function d(e){return e=e||{},e.multiAd=e.multiAd||{},e.multiAd.skipDefault=e.multiAd.skipDefault||!1,e.multiAd.disableAdInjection=e.multiAd.disableAdInjection||!1,s(e.multiAd,e.multiAd,"autoInjectShownResponsive",!0),e}function l(e,n){h.eachKey(n.kv,function(n,t){var i=[];h.isArray(t)?(h.each(t,function(e){(m(e)||v(e))&&i.push(e.toString())}),e.params["kv"+n]=i.join(":")):m(t)&&t.length>0?e.params["kv"+n]=t.toString():v(t)&&(e.params["kv"+n]=t.toString())})}var f="ConfigFinalizer",g=150,p=500,h=e.Utils,m=h.isString,v=h.isNumber,b=h.isObject,y=function(){},A="adserver.adtechus.com";e[f]={process:a,processQueueConfig:d,defaultFunc:y}}function f(e){function n(e,n,r){var a;return n===g&&r===g?a=t(e):h.isString(e)&&h.isString(n)?a=i(e,n,r):o(),a}function t(e){var n={legacyApi:!1};if(h.isNumber(e))n.config=r(e);else if(h.isString(e))n.config=a(e);else if(h.isObject(e)){if(n.config=f(e),l(n.config),!n.config.placement&&!n.config.alias)throw p+"#handleNewApi no placement id or alias found"}else o();return n}function i(e,n,t){var i={legacyApi:!0};return h.isObject(t)?i.config=u(e,n,t):t===g?i.config=u(e,n,{}):o(),i}function o(){throw p+"#handleParameters Invalid parameters combination"}function r(e){return{placement:e}}function a(e){if(!e)throw p+"#handleAliasString empty alias not allowed";return{alias:e}}function u(e,n,t){var i={};return s(e,n,i),t.fif?(i.fif={},i.fif.usefif=!0,i.fif.width=d(t.width,0),i.fif.height=d(t.height,0),i.fif.preResize=h.isFunc(t.preResize)?t.preResize:function(){}):i.fif={usefif:!1,width:0,height:0},i.ajax={useajax:!1},i.complete=c(t.complete),i.debugMode=!!t.debugMode,i}function s(e,n,t){t.adContainerId=e,t.adcallUrl=n}function c(e){return h.isFunc(e)?e:g}function d(e,n){return h.isNumber(e)?e:n}function l(e){!e.adContainerId&&e.injectElementId&&(e.adContainerId=e.injectElementId),!e.alias&&e.params&&e.params.alias&&(e.alias=e.params.alias)}function f(e){var n=e;return e.placement&&!h.isNumber(e.placement)&&(n={},h.copyObject(n,e,["placement"],!0)),n}var g,p="LoadAdParametersHandler",h=e.Utils;e[p]={handleParameters:n}}function g(e,n,t){function i(e){if(e.performScreenDetection){t.screen&&t.screen.width&&t.screen.height&&(e.params.screenheight=t.screen.height.toString(),e.params.screenwidth=t.screen.width.toString(),t.devicePixelRatio&&(e.params.screendensity=t.devicePixelRatio.toString()),v.copyMissingProperty(e.params,e.params,y,w),v.copyMissingProperty(e.params,e.params,A,I),v.copyMissingProperty(e.params,e.params,C,R));var n={width:v.getViewportWidth().toString(),height:v.getViewportHeight().toString()};v.copyMissingProperty(n,e.params,"width",S),v.copyMissingProperty(n,e.params,"height",E),p(e,M)}}function o(e){if(e.performTimezoneDetection){var n=-(new Date).getTimezoneOffset();n>0&&(n="+"+n),e.params.aduho=encodeURIComponent(n),p(e,["aduho"])}}function r(){return!(t.navigator.mimeTypes!==h&&t.navigator.mimeTypes[b]!==h&&!navigator.mimeTypes[b].enabledPlugin)}function a(e){if(e.performFlashDetection){var n,i,o;if(t.navigator.plugins!==h&&t.navigator.plugins["Shockwave Flash"]!==h){var a=t.navigator.plugins["Shockwave Flash"].description;a&&r()&&(a=a.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),n=parseInt(a.replace(/^(.*)\..*$/,"$1"),10),i=parseInt(a.replace(/^.*\.(.*)\s.*$/,"$1"),10),o=/[a-zA-Z]/.test(a)?parseInt(a.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0)}else if(t.ActiveXObject!==h)try{var u=new t.ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(u){var s=u.GetVariable("$version");s&&(s=s.split(" ")[1].split(","),n=parseInt(s[0],10),i=parseInt(s[1],10),o=parseInt(s[2],10))}}catch(c){}n!==h&&(e.params.flashver=n+"."+i+"."+o,p(e,["flashver"]))}}function u(e){if(t.mraid!==h){var n=t.mraid.getVersion();/1\.\d/.test(n)?e="3":/2\.\d/.test(n)&&(e="5")}return e}function s(e){var n=""!==e?":":"";return t.ormma!==h?e+n+"4":e}function c(e){if(e.performRichMediaDetection){var n="";n=u(n),n=s(n),""!==n&&(e.params.apifw=n,p(e,["apifw"]))}}function d(i){return function(o,r){function a(e){n.geoCoords=e.coords,o()}function u(e){i.logger.log(m,"myErr","GeoLocation failed: "+e.toString()),r()}t.navigator.geolocation.getCurrentPosition(e.Utils.createClosure(a,i.logger),e.Utils.createClosure(u,i.logger),{timeout:1e3})}}function l(t,i){var o=t.config;return e.Utils.createClosure(function(t){t&&n.geoCoords&&e.Utils.isNumber(n.geoCoords.latitude)&&e.Utils.isNumber(n.geoCoords.longitude)&&(o.params.lat=n.geoCoords.latitude.toString(),o.params["long"]=n.geoCoords.longitude.toString(),p(o,["lat","long"])),i()},t.logger)}function f(e){return!!(e.performGeoDetection&&t.navigator&&t.navigator.geolocation&&t.navigator.geolocation.getCurrentPosition)}function g(n,t){e.ResourceManager.schedule("geo",l(n,t),!1,d(n))}function p(e,n){e.responsive&&e.responsive.useresponsive&&v.each(e.responsive.bounds,function(t){v.each(n,function(n){v.copyMissingProperty(e.params,t.params,n,n)})})}var h,m="Detections",v=e.Utils,b="application/x-shockwave-flash",y="screenheight",A="screenwidth",C="screendensity",w="kvscreenheight",I="kvscreenwidth",R="kvscreendensity",S="kvviewportwidth",E="kvviewportheight",M=[y,A,C,w,I,R,S,E];return e[m]={detectScreenSize:i,detectUTCOffset:o,detectFlashVersion:a,detectRichMediaSupport:c,detectGeoLocation:g,isGeo:f},e[m]}function p(e,n,t){function i(i,o){var r;return r=new S(e,n,t,i),r.allowGrouping=o,n.adqueues=n.adqueues||{},n.adqueues[i]=r,n.adQueuesIdList=n.adQueuesIdList||[],n.currentAdQueue=r,n.adQueuesIdList.push(i),r}function o(e){var t=n.currentAdQueue||i(e.queueId||m.rnd(1e5).toString(),e.config.enableMultiAd);
t.addRequest(e),e.queueId=t.id}function r(e){var t=n.currentAdQueue,i=t.id;if(!m.isObject(t))throw new Error(h+"#execute No AdQueue to execute was found");return n.currentAdQueue=void 0,t.allowGrouping?v.loadScript(v.buildPluginUrl(v.MULTI_AD_PLUGIN_NAME),v.MULTI_AD_PLUGIN_NAME,!1,function(n){if(!n)throw new Error(h+"#execute MultiAd plugin failed to load");t=u(t),a(t,e)},null):a(t,e),i}function a(n,t){n.executeConfig=t,e.ResponsiveAdManager.registerQueue(n),n.allowGrouping?(l(n,t.multiAd),e.MultiAdManager.load(n,[])):n.start()}function u(i){var o=new e.pluginClasses.MultiAdGroupQueue(e,n,t,i.id);return n.adqueues[i.id]=o,e.Utils.each(i.storage,function(e){o.addRequest(e,i.requests[e.id])}),o}function s(n,t){d(n,function(){try{e.BannerInjector.doAsync(n)}catch(i){n.logger.log(h,"processAdRequest","Exception caught: "+i),t.advance()}})}function c(n,t,i){n.logger.log(h,"processMultiAdRequest","Start processing group from queue:"+t+" with index "+i),d(n,function(){e.MultiAdManager.loadGroup(n,t,i)})}function d(n,t){var i=n.config;e.BannerInjector.performSyncDetections(i),e.Detections.isGeo(i)?e.Detections.detectGeoLocation(n,function(){t()}):t()}function l(e,n){for(var t=n?n.skipDefault:!1,i=0;i<e.storage.length;i++){var o=e.storage[i];e.requests[o.id].multiAdSkipDefault=t}}function f(e,t){return t?n.adqueues[t].requests[e]:void 0}function g(e){if(0!==n.adQueuesIdList.length)for(var t=n.adQueuesIdList.length-1;t>=0;t--){var i=n.adQueuesIdList[t],o=n.adqueues[i],r=o.requests[e];if(r)return i}}function p(n,t){n.allowGrouping?(0===n.virtualSubGroupCounter&&(n.virtualSubGroupCounter=n.groupList.length),e.MultiAdManager.load(n,t)):(n.createVirtualSubQueue(t),n.start())}var h="AdQueue",m=e.Utils,v=e.ResourceLoader;e[h]={enqueue:o,execute:r,processAdRequest:s,processMultiAdRequest:c,getRequest:f,getRequestQueue:g,reloadQueue:p,promoteQueueToMultiAdQueue:u}}function h(e,n,t){function i(){var e=[];if(h.querySelectorAll)return h.querySelectorAll("["+v+"]");for(var n=h.getElementsByTagName("*"),t=0;t<n.length;t++){var i=n[t];i.getAttribute(v)&&e.push(i)}return e}function o(){var e;m||(m=!0,e=i(),e.length>0?(l(e),ADTECH.executeQueue()):b.logger.log(p,"domContentLoaded","No elements with attribute data-adtech found"))}function r(){return"complete"===h.readyState?setTimeout(o,1):void(h.addEventListener?(h.addEventListener("DOMContentLoaded",o,!1),t.addEventListener("load",o,!1)):h.attachEvent&&(h.attachEvent("onreadystatechange",o),t.attachEvent("onload",o)))}function a(e,n){for(var t,i=0;i<n.length;i++)if(t=new RegExp(n[i].urlPattern,"ig"),e.match(t))return b.logger.logObject(p,"getPageMap",n[i].attributesMapping),n[i].attributesMapping;return b.logger.log(p,"getPageMap","No attributes map found"),null}function u(){return e.Utils.rnd(1e7)}function s(e){var n=e.getAttribute("id");return n||(n="adtech"+u(),e.setAttribute("id",n)),n}function c(n,t){var i,o,r=s(n),a=t;i=e.Utils.isStringANumber(t),i&&(a=parseInt(t,10)),o=i?{placement:a,adContainerId:r}:{alias:t,adContainerId:r},b.logger.logObject(p,"processNodeWithAdTechAttribute",o),window.ADTECH.enqueueAd(o)}function d(e){var n=e.getAttribute(v);c(e,n)}function l(e){var n=a(t.location.href,ADTECH.config.pageMap);if(n)f(e,n);else for(var i=0;i<e.length;i++)d(e[i])}function f(e,n){var t,i;for(t=0;t<e.length;t++)i=n[e[t].getAttribute(v)],i!==!1&&(i?c(e[t],i):d(e[t]))}function g(){t.ADTECH.autoLoad&&!t.ADTECH.domScanDone&&(t.ADTECH.domScanDone=!0,r())}var p="DomScanning",h=document,m=!1,v="data-adtech";t.ADTECH.autoLoad=t.ADTECH.autoLoad||!1,t.ADTECH.domScanDone=t.ADTECH.domScanDone||!1,t.ADTECH.config.pageMap=t.ADTECH.config.pageMap||[];var b=new R(E,n,t);return e[p]={doDomScan:g},e[p]}function m(e){if(e.pubApiConfig)try{var n=E.ResourceLoader;n.loadScript(n.buildPluginUrl(n.PUB_API_PLUGIN_NAME),n.PUB_API_PLUGIN_NAME,!1,function(n){if(!n)throw new Error("Core#registerPubApiConfig PubApi plugin failed to load.");E.PubApi.setConfig(e.pubApiConfig)},null)}catch(t){if(w.debugMode)throw t}}function v(e){E.BannerInjector.doAsync(e)}function b(e){y(e);var n=e.config;E.ResponsiveAdManager.register(e),E.BannerInjector.performSyncDetections(n),m(n),T.isGeo(n)?(L.createAdContainer(e),T.detectGeoLocation(e,function(){E.BannerInjector.doAsync(e)})):n.syncIfPossible&&E.ResourceManager.isSync(e.config.legacyDACLoadType,E.Environment.getIEVersion())?E.BannerInjector.doSync(e):(L.createAdContainer(e),E.BannerInjector.doAsync(e))}function y(e){var n=E.ConfigResolver.buildConfiguration(e);e.config=E.ConfigFinalizer.process(n,e.logger)}function A(e,n,t){var i,o=w.adqueues[n];if(o){var r=o.requests[e];i=r?r.context.logger:void 0}if(w.debugMode||i&&i.isEnabled())throw t}function b(e){y(e);var n=e.config;E.ResponsiveAdManager.register(e),E.BannerInjector.performSyncDetections(n),E.PubApi?E.PubApi.setConfig(n.pubApiConfig):m(n),T.isGeo(n)?(L.createAdContainer(e),T.detectGeoLocation(e,function(){E.BannerInjector.doAsync(e)})):n.syncIfPossible&&E.ResourceManager.isSync(e.config.legacyDACLoadType,E.Environment.getIEVersion())?E.BannerInjector.doSync(e):(L.createAdContainer(e),E.BannerInjector.doAsync(e))}var C=window,w=C.ADTECH;if(!w.loadAd||w.allowDACRedefine){var I=function(e,n,t){this.enabled=!!n.debugMode,this.output=t.console,this.modules=e,this.global=n,this.win=t};I.prototype.debug=function(e){this.enabled&&this.output&&this.output.log(e)},I.prototype.setEnabled=function(e){this.enabled=!!e||this.global.debugMode},I.prototype.isEnabled=function(){return this.enabled},I.prototype.logObject=function(e,n,t){var i=e+":"+n+" ";this.modules.Utils.isObject(C.JSON)?i+=C.JSON.stringify(t):(i+="{ ",this.modules.Utils.eachKey(t,function(e,n){i+=e+":"+n+" "}),i+="}"),this.debug(i)},I.prototype.log=function(e,n,t){void 0===n&&void 0===t?this.debug(e):this.debug(e+"#"+n+" "+t)};var R=function(e,n,t){this.modules=e,this.global=n,this.win=t,this.logger=new I(e,n,t)};R.prototype.setConfig=function(e){this.config=e,this.id=e.alias?e.alias:e.placement},R.prototype.hasResponsiveConfig=function(){return this.config.responsive.useresponsive},R.prototype.getConfigParams=function(){return this.responsiveId?this.config.responsive.bounds[this.currentBoundIndex].params:this.config.params};var S=function(e,n,t,i){this.storage=[],this.requests={},this.allowGrouping=!1,this.doAutoAdInjection=!0,this.namespace=e,this.global=n,this.win=t,this.curPointer=-1,this.id=i,this.responsiveIndexes=[],this.virtualSubQueueIndexes=[],this.running=!1};S.prototype.advance=function(){var e=this.getNextRequest();this.namespace.Utils.isObject(e)?e.disableAdInjection?this.advance():this.namespace.AdQueue.processAdRequest(e,this):this.close()},S.prototype.start=function(){this.curPointer=-1,this.running=!0,this.advance()},S.prototype.close=function(){this.running=!1,this.virtualSubQueueIndexes=[]},S.prototype.inVirtualMode=function(){return this.virtualSubQueueIndexes.length>0},S.prototype.getNextRequest=function(){var e;if(this.curPointer+=1,this.inVirtualMode()){var n=this.virtualSubQueueIndexes[this.curPointer];e=this.storage[n]}else e=this.storage[this.curPointer];return e},S.prototype.addRequest=function(e){this.storage.push(e)},S.prototype.getResponsiveRequests=function(){var e=[],n=this;return this.namespace.Utils.each(this.responsiveIndexes,function(t){e.push(n.storage[t])}),e},S.prototype.createVirtualSubQueue=function(e){var n=this;this.virtualSubQueueIndexes=[],this.namespace.Utils.each(e,function(e){n.namespace.Utils.each(n.storage,function(t,i){t.id===e&&n.virtualSubQueueIndexes.push(i)})})};var E={pluginClasses:{}},M=w.dacAsyncLoad?"loadAdImpl":"loadAd",P=w.dacAsyncLoad?"enqueueAdImpl":"enqueueAd",x=w.dacAsyncLoad?"executeQueueImpl":"executeQueue",j=w.dacAsyncLoad?"removeQueueImpl":"removeQueue",D=w.dacAsyncLoad?"showAdImpl":"showAd";e(E,w,C),a(E,w,C);var L=n(E,w,C);t(E,w,C),d(E,w,C),l(E,w,C),o(E,w,C);var T=g(E,w,C);i(E,w,C),u(E,w,C),r(E,w,C),s(E),f(E,w),c(E,w,C),p(E,w,C),h(E,w,C);void 0===C.adgroupid&&(C.adgroupid=L.rnd(1e3)),w.dacRequestAd=function(e,n){C.Adtech=C.Adtech||{};var t=parseInt(e,10),i=C.Adtech;L.isString(n)?i["KV"+e]=L.stringToObject(n):L.isObject(n)&&(i["KV"+e]=n),i["fif"+e]=i["fif"+e]||{},i["syncIfPossible"+e]=i["syncIfPossible"+e]||!0,i["legacyDACLoadType"+e]=!0,w.loadAd({placement:t})},w.pubApiHandler=function(e,n){E.PubApi.handleResponse(e,n)},w[M]=function(e,n,t){var i=w.debugMode;try{var o=new R(E,w,C),r=E.LoadAdParametersHandler.handleParameters(e,n,t);o.logger.setEnabled(r.config.debugMode),i=i||r.config.debugMode,o.setConfig(r.config),r.legacyApi?v(o):b(o)}catch(a){if(i)throw a}},w.queueCallback=function(e){try{L.isObject(w.adqueues[e])&&w.adqueues[e].advance()}catch(n){if(w.debugMode)throw n}},w.registerPlugin=function(e){e({modules:E,coreClasses:{Queue:S,Logger:I,RequestContext:R}})},w[P]=function(e,n){var t=w.debugMode;try{var i=new R(E,w,C),o=E.LoadAdParametersHandler.handleParameters(e);i.logger.setEnabled(o.config.debugMode),t=t||o.config.debugMode,i.setConfig(o.config),y(i),n&&L.isString(n)&&(i.queueId=n),E.AdQueue.enqueue(i)}catch(r){if(t)throw r}},w[x]=function(e){try{return E.AdQueue.execute(E.ConfigFinalizer.processQueueConfig(e))}catch(n){if(w.debugMode)throw n}},w[j]=function(e){var n=!1;if(!w.adqueues[e])return n;try{var t=E.ResponsiveAdManager.getResponsiveQueuesRegistry();delete t[e],delete w.adqueues[e];var i=w.adQueuesIdList.indexOf(e);w.adQueuesIdList.splice(i,1),n=!0}catch(o){if(n=!1,w.debugMode)throw o}return n},w[D]=function(e,n){try{var t=E.ResourceLoader;t.loadScript(t.buildPluginUrl(t.MULTI_AD_PLUGIN_NAME),t.MULTI_AD_PLUGIN_NAME,!1,function(t){if(!t)throw new Error("Core#execute MultiAd plugin failed to load");E.MultiAdManager.showAd(e,n)},null)}catch(i){A(e,n,i)}},w.writeAd=function(e,n,t,i){try{E.MultiAdManager.writeAd(e,n,t,i)}catch(o){A(e,i,o)}},w.doDomScan=function(){E.DomScanning.doDomScan()},C.ADTECH.autoLoad&&C.ADTECH.doDomScan(),w.pubApiHandler=function(e,n){E.PubApi.handleResponse(e,n)}}}(),function(){"use strict";var e=window,n=e.DAC;if(!n.requestAd||n.allowDACRedefine){var t=n.asyncLoad?"requestAdImpl":"requestAd";n[t]=function(n,t){e.ADTECH.dacRequestAd(n,t)}}}()}catch(e){if(window.ADTECH.debugMode)throw e}try{!function(){"use strict";function e(e){n(e.modules)}function n(e){function n(e){return 100*Math.round(e/100)}function t(e){return 100*Math.ceil(e/100)}function o(e){return 100*Math.floor(e/100)}function r(e){return v(e,50)}function a(e){return b(e,50)}function u(e){return y(e,50)}function s(e){return v(e,25)}function c(e){return b(e,25)}function d(e){return y(e,25)}function l(e){return 10*Math.floor(e/10)}function f(e){return 10*Math.ceil(e/10)}function g(e){return 10*Math.round(e/10)}function p(e){return v(e,5)}function h(e){return b(e,5)}function m(e){return y(e,5)}function v(e,n){var t=e%n;return t>=n/2?e+(n-t):e-t}function b(e,n){return e-e%n}function y(e,n){var t=e%n;return e+(t?n-t:0)}function A(e,n){return R(e)&&""!==e?e:n}function C(e){var n="aolbid",t=function(){},i={from:-1,to:-1,roundFunction:P},o={};if(!E(e))throw new Error("Invalid Pub Api Plugin configuration. No config object available!");if(o={defaultKey:A(e.defaultKey,n),roundingConfig:[]},I.isArray(e.roundingConfig)&&I.each(e.roundingConfig,function(e){if(!(S(e.from)&&S(e.to)&&(R(e.roundFunction)||M(e.roundFunction))&&!e.hasOwnProperty("roundValue")||S(e.roundValue)&&!e.hasOwnProperty("roundFunction")))throw new Error("Pub Api Plugin config.roundingConfig is invalid.");o.roundingConfig.push(e)}),0===o.roundingConfig.length&&o.roundingConfig.push(i),!e.pubApiOK||!I.isFunc(e.pubApiOK))throw new Error("Invalid Pub Api Plugin configuration. No callback function available (pubApiOK) available!");return o.pubApiOK=e.pubApiOK,o.pubApiER=I.isFunc(e.pubApiER)?e.pubApiER:t,(I.isFunc(e.defaultRound)||R(e.defaultRound))&&(o.defaultRound=e.defaultRound),S(e.padLeftZeros)&&e.padLeftZeros>0&&(o.padLeftZeros=e.padLeftZeros),o.protocol=e.protocol,e.hasOwnProperty("pixelsDivId")&&e.pixelsDivId&&(o.pixelsDivId=e.pixelsDivId),o}var w="PubApi",I=e.Utils,R=I.isString,S=I.isNumber,E=I.isObject,M=I.isFunc,P="getCPMInCents",x=function(e){this.config=C(e)},j=function(){return this.data.seatbid[0]?this.data.seatbid[0].bid[0]:void 0},D=function(){return this.data.id},L=function(){return this.data.nbr},T=function(){var e=Number.NaN;return this.data.seatbid.length>0&&(e=this.data.seatbid[0].bid[0].w),e},O=function(){var e=Number.NaN;return this.data.seatbid.length>0&&(e=this.data.seatbid[0].bid[0].h),e},k=function(){var e=Number.NaN;return this.data.seatbid.length>0&&(e=this.data.seatbid[0].bid[0].crid),e},U=function(){var e;return this.data.seatbid.length>0&&(e=this.data.seatbid[0].bid[0].impid),e},q=function(){return this.data.cur},N=function(){var e=this.getRoundedCPM(),n=0,t=isNaN(e)?"":""+e;if(this.config.padLeftZeros&&t)for(n=t.length;n<this.config.padLeftZeros;n++)t="0"+t;return t},F=function(){var e;return this.data.seatbid.length>0&&(e=this.data.seatbid[0].bid[0].adm),e},B=function(){var e=Number.NaN;return this.data.seatbid.length>0&&(e=this.data.seatbid[0].bid[0].price),e},H=function(){return Math.round(100*this.getCPM())},Q=function(){var e,n=this.data.seatbid[0];return n&&n.bid[0]&&(e=n.bid[0].ext),e},V=function(){var n,t,i=this.getCPMInCents(),o=0,r=-1;if(this.config.roundingConfig&&!isNaN(i))for(o=0;o<this.config.roundingConfig.length;o++)if(n=this.config.roundingConfig[o],-1==n.from&&(i<=n.to||-1==n.to)||-1==n.to&&i>=n.from||i>=n.from&&i<=n.to){t=n;break}return t&&("roundValue"in t?r=t.roundValue:t.roundFunction&&(r=e.Utils.isString(t.roundFunction)&&this[t.roundFunction]?this[t.roundFunction].call(this,i):t.roundFunction.call(this,i)),this.currentRoundingRange=t),-1==r&&(r=i,this.config.defaultRound&&(e.Utils.isString(this.config.defaultRound)?this[this.config.defaultRound]&&(r=this[this.config.defaultRound].call(this,i)):r=this.config.defaultRound.call(this,i),this.currentRoundingRange={})),r},K=function(){var e,n=this.getFormattedCPM();return n&&(e=(this.currentRoundingRange&&this.currentRoundingRange.key?this.currentRoundingRange.key:this.config.defaultKey)+"="+n),e},G=function(){var e=this.getFormattedCPM(),n={},t=this.currentRoundingRange&&this.currentRoundingRange.key?this.currentRoundingRange.key:this.config.defaultKey;return e&&(n[t]=e),n},z=function(){return this.data&&this.data.ext&&this.data.ext.pixels?this.data.ext.pixels:void 0},_=function(){var e;return this.data&&this.data.ext&&(e=this.data.ext),e},W=function(){return this.data},$=function(v,b){if(!this.config||!this.config.pubApiOK)throw new Error("No configuration or callback function available to Pub Api Plugin. Check the configuration object.");var y=this.config,A={data:v,config:this.config,getId:D,getBidObj:j,getAdWidth:T,getAdHeight:O,getCurrency:q,getCPM:B,getCPMInCents:H,getRoundedCPM:V,getFormattedCPM:N,getBidKeyValue:K,getBidKeyValueObj:G,getExt:_,getBidExt:Q,getPixels:z,getCreative:F,getCreativeId:k,getResponse:W,getNbr:L,getImpId:U,hundredRound:n,hundredFloor:o,hundredCeil:t,fiftyRound:r,fiftyFloor:a,fiftyCeil:u,tenCentsFloor:l,tenCentsCeil:f,tenCentsRound:g,fiveCentsCeil:m,fiveCentsRound:p,fiveCentsFloor:h,twentyFiveCeil:d,twentyFiveRound:s,twentyFiveFloor:c};if(A.getPixels()&&document.getElementById(y.pixelsDivId)){var C=e.ResourceLoader.buildUrl(this.config,"postscribe.js");e.ResourceLoader.loadScript(C,"postscribe",!0,function(e){if(!e)throw new Error("DACPubApiPlugin# renderPixels.  Postscribe lib failed to load");i.postscribe(document.getElementById(y.pixelsDivId),A.getPixels())})}this.config.pubApiOK(A,b),i.debugMode&&console&&console.log("Pub API JSON response: "+JSON.stringify(v,null,2))};e[w]={setConfig:x,handleResponse:$}}var t=window,i=t.ADTECH;i.registerPlugin(e)}()}catch(e){if(window.ADTECH&&window.ADTECH.debugMode)throw e}window.ADTECH.registerDacBidReqConfigs=function(e,n){"use strict";function t(){for(var e=0;e<n.length;e++)n[e].serviceType="pubapi",n[e].server=w.server,n[e].network=w.network,n[e].bidKey=w.bidKey,n[e].mpAliasKey="mpalias",n[e].pubApiConfig=R,n[e].params={cmd:"bid",cors:"yes",bidfloor:n[e].bidfloor||""}}function i(e,n){var t=b.getDacBidReqConfig(e);return t.cpm?t.cpm.toFixed(n||2):null}function o(e){var n=b.getDacBidReqConfig(e),t=n.api,i=t.getBidObj(),o=i&&i.adm?s(i.adm):"",a=w.returnGross&&u(o,y)?0:w.adjustment||0,c=t.getCPMInCents();if(!isNaN(c)){var d=c+c*(a/100),l=r(d,t);return w.formatCpmToDecimal?l/100:l}return console.log("cpm is null for: ",e),null}function r(e,n){var t,i,o=e,r=0,a=-1,u=function(e){return"string"==typeof e};if(w.roundingConfig&&!isNaN(o))for(r=0;r<w.roundingConfig.length;r++)if(t=w.roundingConfig[r],-1==t.from&&(o<=t.to||-1==t.to)||-1==t.to&&o>=t.from||o>=t.from&&o<=t.to){i=t;break}return i&&("roundValue"in i?a=i.roundValue:i.roundFunction&&(a=u(i.roundFunction)&&n[i.roundFunction]?n[i.roundFunction].call(this,o):i.roundFunction.call(this,o)),I=i),-1==a&&(a=o,w.defaultRound&&(u(w.defaultRound)?this[w.defaultRound]&&(a=this[w.defaultRound].call(this,o)):a=w.defaultRound.call(this,o),I={})),a}function a(e){return"[object Array]"===toString.call(e)}function u(e,n){if(a(n)){for(var t=0;t<n.length;t++)if(n[t]===e)return!0}else for(var i in n)if(n.hasOwnProperty(i)&&n[i]===e)return!0;return!1}function s(e){var n=/pubadn=(.*?);/g,t=n.exec(e);return a(t)&&t.length>0?t[1]:""}function c(e){clearTimeout(e.alias),E[e.alias]=setTimeout(function(){f(e)},w.bidResponseTimeout)}function d(e){E[e]&&(clearTimeout(E[e]),delete E[e])}function l(e){e.api=null,e.cpm=null}function f(e){e&&(e.success=!1),g(e||{success:!1})}function g(e){if(w.onBidResponse(e),!C){for(var t=0;t<n.length;t++)if(!n[t].hasOwnProperty("success"))return;C=!0,"function"==typeof w.onAllBidsResponses&&w.onAllBidsResponses()}}function p(e,n,t){var i=document.createElement("iframe");i.seamless="seamless",i.id="adtpub-frame-"+e,i.name=i.id,i.style.border="0px",i.scrolling="no",i.frameborder=0,i.width=1,i.height=1,i.allowtransparency=!0,i.setAttribute("allowFullScreen","true"),i.setAttribute("mozallowFullScreen","true"),i.setAttribute("webkitAllowFullScreen","true");var o=document.getElementById(e);o.appendChild(i);var r="<head></head><body><style>body,html{margin:0;padding:0;}</style><script>var inFiF=inDapIF=true;</script>"+n+"</body>";i.contentWindow.document.open(),i.contentWindow.document.write(r),i.contentWindow.document.close(),h(i,t,o)}function h(e,n,t){function i(i,o){t&&(t.style.width=i+"px",t.style.height=o+"px"),e.width=i,e.height=o,n&&n.complete&&n.complete()}var o=n&&n.width?n.width:1,r=n&&n.height?n.height:1;1>=o||1>=r?e.contentWindow.document.body.onload=function(){var n=e.contentWindow.document.getElementById("ath");i(n.offsetWidth,n.offsetHeight)}:i(o,r)}function m(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent?e.attachEvent("on"+n,t):e["on"+n]=t}function v(e){var n=e.data;if(n.match&&n.match(A)){var t=n.split(A)[1],i=b.getDacBidReqConfig(t);if(i){var o=i.api,r=i.adContainerId,a=0,u=0,s=document.getElementById(r);s?(s.innerHTML="",o&&(a=o.getAdWidth(),u=o.getAdHeight(),o.getCreative()?p(r,o.getCreative(),{width:a,height:u}):(console.log("No creative for alias: ",t),l(i)))):(console.log("Ad Container not found in DOM for alias: ",t),l(i))}}}var b=window.ADTECH,y=["9003.1"],A="adtech_pub_page::",C=!1,w=e||{};w.onBidResponse=w.onBidResponse||function(){console.log("onBidResponse not defined.")},w.formatCpmToDecimal=w.formatCpmToDecimal===!1?!1:!0,w.bidResponseTimeout=w.bidResponseTimeout||800;var I,R={roundingConfig:w.roundingConfig||[],defaultKey:w.bidKey||"",pubApiOK:function(e,n){var t=n.alias?n.alias:n.placement;d(t);var r=b.getDacBidReqConfig(t);r.api=e,r.cpm=o(t),r.fixedCpm=i(t),r.cpm?(r.success=!0,g(r)):f(r)},pubApiER:function(e,n){console.log("PubApi config Err handler: "+e);var t=n.alias?n.alias:n.placement;d(t),E[t]&&(clearTimeout(E[t]),delete E[t]);var i=b.getDacBidReqConfig(t);i.api=pubApiHelper,i.cpm=o(t),f(i)}},S=[],E={},M=function(e){for(var n=0;n<S.length;n++)if(S[n].alias==e)return!0};b.loadPubAd=function(e){var n=b.getDacBidReqConfig(e);n&&(n.adContainerId=n.adContainerId||"adt-div-"+(new Date).getTime(),l(n),n.refreshed=!1,M(e)||S.push(n),c(n),b.loadAd(n))},b.refreshPubAd=function(e){if(M(e)){var n=b.getDacBidReqConfig(e);n&&(l(n),n.refreshed=!0,c(n),b.loadAd(n))}},b.refreshPubAds=function(){for(var e=0;e<S.length;e++)l(S[e]),S[e].refreshed=!0,c(S[e]),b.loadAd(S[e])},b.getDacBidReqConfig=function(e){for(var t=0;t<n.length;t++)if(n[t].alias==e)return n[t]},function(){t(),"function"==typeof window.postMessage?m(window,"message",v):f()}()};