/*! Revision: 0495ab8 */
/*! webmd.dctm */
define([],function(){var a;a={url:"/api/repository/RepositoryService.svc",timeout:15000,get:function(d){var c,e,b,f;b=new $.Deferred();f=b.promise();d=$.extend({timeout:this.timeout},d);c=this.url;e={};if(d.id){c+="/GetAssetXml";e={chronicleID:d.id}}else{if(d.url){c+="/GetFriendlyUrlAssetXml";e={friendlyUrl:d.url}}else{if(d.module){c+="/GetModuleXml";e={chronicleID:d.module}}else{throw"Missing id, url, or module"}}}$.ajax({type:"GET",url:c,contentType:"application/json",dataType:"json",data:e,timeout:d.timeout,success:function(h,i,g){if(webmd.object.get("WebMDWebServices.ErrorCode",h)){b.reject(g,"error",webmd.object.get("WebMDWebServices.ErrorDetail",h)||"")}else{b.resolve(h,i,g)}},error:function(g,i,h){b.reject(g,i,h)},complete:d.complete});if(d.error){f.fail(function(g,i,h){d.error(g,i,h)})}if(d.success){f.done(function(h,i,g){d.success(h,i,g)})}return f},getErrorCode:function(b){return this._getResponseParam(b,"WebMDWebServices.ErrorCode")||""},getErrorText:function(b){return this._getResponseParam(b,"WebMDWebServices.ErrorDetail")||""},_getResponseParam:function(c,b){var d;try{d=webmd.object.get(b,JSON.parse(c.responseText))}catch(f){}return d}};return a});