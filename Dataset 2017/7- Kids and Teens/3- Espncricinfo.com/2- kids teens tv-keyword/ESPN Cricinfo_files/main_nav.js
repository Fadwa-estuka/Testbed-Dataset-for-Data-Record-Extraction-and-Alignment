function debounce(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)func.apply(context,args)};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)func.apply(context,args)}}window.espni=window.espni||{};window.espni.mainNav=function(win,$,undefined){var VERSION="1.2.2";var conf,cache,devicePrevWidth=window.innerWidth||document.documentElement.clientWidth||document.body&&document.body.clientWidth;function init(){conf={bp:1024,navWrap:"#mainnav_wrap",navLarge:"#nav_inner",navBtn:"#nav_btn",nav:"#main_nav",navItms:".nav_items",navItm:".nav_item",ddWrap:".dd_wrap",subNavGrp:".subnav_grp",navSmall:"#mainnav_wrap_small",navMask:"#nav_mask",navGrp:"#nav_grp",navGrpItm:".nav_grpitm",navGrpIco:".nav_grpico",activeClass:"active",navSlide:"nav_slide",disneyid:"disney_oneid"};cache={bodyContent:$("body >").not("#mainnav_wrap_small, #secnav_wrap_small"),$navWrap:$(conf.navWrap),$navSmall:$(conf.navSmall)};cache.$navLarge=cache.$navWrap.find(conf.navLarge);cache.$navBtn=cache.$navWrap.find(conf.navBtn);cache.$nav=cache.$navWrap.find(conf.nav);cache.$navItms=cache.$navWrap.find(conf.navItms);cache.$navGrp=cache.$navWrap.find(conf.navGrp);cache.$navGrpItm=cache.$navWrap.find(conf.navGrpItm);$("#mainnav_wrap_small").prependTo("body");cache.$nav.find(conf.subNavGrp).each(function(){var _this=$(this);if(_this.find(".subnav_title").size()){_this.addClass("hastoggle")}});swapNav();bindEvents()}function bindEvents(){cache.$navWrap.on("mouseenter",'.nav_item, .nav_grpitm:not(".nav_grp_usr, .nav_grp_srch")',function(){$(this).addClass("hover")});cache.$navWrap.on("mouseleave",".nav_item, .nav_grpitm",function(){$(this).removeClass("hover");$(this).parent("ul").addClass("xyz").removeClass("xyz")});cache.$navWrap.on("click",conf.navGrpIco,function(e){var navGroupClicked=$(this).parents(conf.navGrpItm);if($(this).attr("id")!==conf.disneyid){if(navGroupClicked.hasClass(conf.activeClass)){navGroupClicked.removeClass(conf.activeClass)}else{cache.$navGrpItm.removeClass(conf.activeClass);navGroupClicked.addClass(conf.activeClass)}}});cache.$navSmall.on("touchmove",conf.ddWrap,function(e){e.stopPropagation()});cache.$navWrap.on("click","#nav_btn",function(e){$("html, body").toggleClass(conf.navSlide);tweakHeight();if(!$("#viewport").size()){$("body").append('<div id="viewport"></div>');$("#viewport").append(cache.bodyContent)}resetViewport();cache.$navGrpItm.eq(0).find(conf.navGrpIco).trigger("click");e.stopPropagation()});cache.$navSmall.on("click",conf.navMask,function(e){e.stopPropagation();closeNav()});cache.$navSmall.on("click",".subnav_title",function(e){$(this).parents(".subnav_grpitm").toggleClass("active");e.stopPropagation()});cache.$navSmall.on("click",".acc_nav_ttl",function(e){$(this).parents(".acc_navitm").toggleClass("active");e.stopPropagation()});cache.$navSmall.on("click",conf.navGrpIco,function(e){var navGroupClicked=$(this).parents(conf.navGrpItm);cache.$navGrpItm.removeClass(conf.activeClass);navGroupClicked.addClass(conf.activeClass)});$(document).on("click",function(e){if(!isSmall()&&!$(e.target).parents(conf.nav).size()){cache.$navGrpItm.removeClass(conf.activeClass);cache.$navItms.find(cache.navItm).removeClass("hover")}});cache.$navGrpItm.eq(0).trigger("click");$(window).on("resize",debounce(resetNav,500))}function isSmall(){return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<conf.bp}function tweakHeight(){cache.$navGrp.height(cache.$nav.height()-60)}function isDeviceChanged(){var deviceCurrWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,deviceChange=false;if(devicePrevWidth<conf.bp&&deviceCurrWidth<conf.bp||devicePrevWidth>=conf.bp&&deviceCurrWidth>=conf.bp){deviceChange=false}else{deviceChange=true}devicePrevWidth=deviceCurrWidth;return deviceChange}function swapNav(){if(isSmall()){cache.$nav.appendTo(cache.$navSmall)}else{cache.$nav.appendTo(cache.$navLarge);closeNav()}resetViewport()}function isNavOpen(){return $("html").hasClass("nav_slide")||$("html").hasClass("secnav_slide")}function resetViewport(){if(isSmall()&&isNavOpen()){$("#viewport").css({height:$(win).height(),width:$(win).width()})}else{$("#viewport").css({height:"auto",width:"auto"})}}function resetNav(){isDeviceChanged()&&swapNav();tweakHeight()}function closeNav(){$("html, body").removeClass(conf.navSlide);$("#viewport").css({height:"auto",width:"auto"});cache.$navGrpItm.removeClass(conf.activeClass)}function initAPI(){init()}return{init:initAPI,VERSION:VERSION}}(window,jQuery);window.espni.secNav=function(win,$,undefined){var VERSION="1.1.0";var conf,cache;function init(){conf={mainNavWrap:"#mainnav_wrap",secNav:"#subnav_tier1",secNavSmallWrap:"#secnav_wrap_small",secNavBtn:"#secnav_btn",ddWrap:".dd_wrap",navMask:"#secnav_mask",activeClass:"active",navSlide:"secnav_slide",viewport:"#viewport"};cache={bodyContent:$("body >").not("#mainnav_wrap_small, #secnav_wrap_small"),$mainNavWrap:$(conf.mainNavWrap),$secNav:$(conf.secNav),$secNavSmallWrap:$(conf.secNavSmallWrap)};cache.$secNavBtn=cache.$secNavSmallWrap.find(conf.secNavBtn);cache.$navMask=cache.$secNavSmallWrap.find(conf.navMask);cache.$secNavSmallWrap.appendTo("body");cache.$secNav.clone().appendTo(cache.$secNavSmallWrap);cache.$secNavBtn.appendTo(cache.$mainNavWrap);bindEvents()}function bindEvents(){cache.$mainNavWrap.on("click","#secnav_btn",function(e){e.stopPropagation();$("html").toggleClass(conf.navSlide);if(!$("#viewport").size()){$("body").append('<div id="viewport"></div>');$("#viewport").append(cache.bodyContent)}$("#viewport").height($(win).height())});cache.$secNavSmallWrap.on("click",conf.navMask,function(e){e.stopPropagation();$("html").removeClass(conf.navSlide);$("#viewport").height("auto").width("auto")});cache.$secNavSmallWrap.find("li").each(function(){var _item=$(this);if(_item.find("ul").size()){_item.addClass("hasSub")}});cache.$secNavSmallWrap.on("click","li.hasSub > a",function(e){e.preventDefault();$(this).parent("li").toggleClass(conf.activeClass)})}function initMoreDD(){var $ciSecNav=$(".sub-nav"),maxItem,itemTotalWidth=100;if($ciSecNav.size()){var secNavWidth=cache.$secNav.css({overflow:"hidden"}).innerWidth(),$subnavTop=cache.$secNav.find("> li"),$moreNavWrap=$('<li class="more_navwrap"></li>'),$moreBtn=$('<span class="more_navbtn" id="more_navbtn">More<i class="sp sp_arr"></i></span>'),$moreDD=$('<ul class="more_nav"></ul>');cache.$secNav.css("overflow","visible");cache.$secNav.find(">li").each(function(i){var _li=$(this);itemTotalWidth+=_li.outerWidth();if(itemTotalWidth<secNavWidth){maxItem=i+1}});if(maxItem<$subnavTop.size()){$moreDD.append($subnavTop.slice(maxItem,$subnavTop.size())).appendTo($moreNavWrap);$moreNavWrap.prepend($moreBtn).appendTo(cache.$secNav);$moreBtn.on("click",function(e){e.stopPropagation();$moreNavWrap.toggleClass("open");!$ciSecNav.hasClass("loaded")&&$ciSecNav.addClass("loaded")});$moreNavWrap.on("mouseleave",function(e){$moreNavWrap.removeClass("open")})}}$(window).on("orientationchange",function(){if(!$ciSecNav.hasClass("rotation-load")&&window.innerWidth>=768){initMoreDD();$ciSecNav.addClass("rotation-load")}})}function initAPI(){if($("#secnav_wrap_small").size()){init();initMoreDD()}}return{init:initAPI,VERSION:VERSION}}(window,jQuery);window.espni.homeEdition=function(win,$,undefined){var VERSION="1.1.0";var conf,domain_name=window.location.hostname;function init(){conf={dropdown:".edition_dd",dropdownLable:".edition_ddt",dropdownList:".edition_ddl",editionMob:"#edition_mob",editionDdDesk:"#edition_desk"};createMobEdition();bindEvents()}function createMobEdition(){var mobEdition=$(conf.editionMob);if(mobEdition.size()){$(conf.dropdown).clone().appendTo(mobEdition)}}function bindEvents(){$(conf.editionDdDesk).find(conf.dropdown).on("click",function(e){e.stopPropagation();$(this).toggleClass("open")});$("html").on("click",function(e){$(conf.editionDdDesk).find(conf.dropdown).removeClass("open")});$(conf.dropdownList).on("click",".item",function(e){e.preventDefault();var editionValue=$(this).data("edition-value");var track_txt="edition_"+$(this).text().toLowerCase();if(editionValue==""){$.removeCookie("Q_cricinfo_edition")}else{$.cookie("Q_cricinfo_edition",escape(editionValue),{domain:domain_name,expires:365,path:"/"});var expire=new Date;expire.setTime(expire.getTime()+20*1e3);$.cookie("s_omni_lid",escape(track_txt),{domain:domain_name,expires:expire,path:"/"})}window.location.reload(true)})}function initAPI(){init()}return{init:initAPI,VERSION:VERSION}}(window,jQuery);window.espni.navSearch=function(){var VERSION="1.0.0";function init(){$.fn.searchNavigation=function(){var host="";if(location.host.match(/m.kilimanjaro.espncricinfo.com|dev-m.hq.cricinfo.org|dev-m.espncricinfo.com|m.hq.cricinfo.org|m.espncricinfo.com/i)){host="http://search.espncricinfo.com"}var searchUrl=host+"/ci/content/site/search.html";$(this).submit(function(c){c.preventDefault();var keyword=$(this).find(".srch_txt").val();if(keyword!==""){document.location.href=searchUrl+"?search="+keyword}else{alert("Please enter keyword")}})};$(".srch_form").searchNavigation()}return{init:init,VERSION:VERSION}}();$(function(){window.espni.mainNav.init();window.espni.secNav.init();window.espni.homeEdition.init();window.espni.navSearch.init();window.openS=function(URL,WindowName){window.open(URL,WindowName,"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=no,resizable=no,copyhistory=no,titlebar=0,width=550,height=505");if(openS.opener==null)openS.opener=window;openS.opener.name="opener"}});