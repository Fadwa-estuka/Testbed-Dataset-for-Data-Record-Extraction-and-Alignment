/*! Generated On 28-09-2016 13:09:31 */
window.espni=window.espni||{},espni.ESPNiVodPlayer=function(a){var b={};var c=b.video={};var d=!1;b.classNames={wrapper:"espni-vid-wrapper",loader:"espni-vid-loader",playbutton:"video-play-button",placeholder:"espni-vid-placeholder",videoLength:"video-length",videoStarted:"video-started"},b.ajaxLoader="http://i.imgci.com/espncricinfo/gfx/loading.gif",b.ajaxLoaderWidth=16,b.ajaxLoaderHeight=11,b.videoPlayerId="video-player";try{isMobile.phone===!1&&isMobile.tablet===!1&&(d=!0)}catch(e){}b.init=function(){var b;"undefinded"!=typeof videojs&&(b=a(".vod_autoplay"),a(document).on("click",".espni-vid-wrapper .video-play-button,.espni-vid-wrapper .espni-vid-thumb",f),d&&b.size()>0&&b.eq(0).trigger("click"))};function f(d){d.preventDefault();var e=a(this),f=e.closest("."+b.classNames.wrapper),g=f.find("."+b.classNames.placeholder).attr("data-mezzaninepathimage"),h=f.find("."+b.classNames.placeholder).attr("data-id"),i=f.find("."+b.classNames.placeholder).data("preroll");"undefined"==typeof i&&(i=!0),c.play(e,{id:h,thumbnail:g,autostart:!0,preroll:i})}return c.playerContainer=null,c.isPlaying=!1,c.pause=function(){espn.video.pause()},c.unmount=function(){try{espn.video.remove(),c.playerContainer=null,c.isPlaying=!1,a("."+b.classNames.videoStarted).removeClass(b.classNames.videoStarted)}catch(d){}},c.play=function(d,e){var f=e.id;var g='<div id="'+b.videoPlayerId+'"></div>';if("undefinded"!=typeof videojs&&"undefinded"!=typeof f){c.unmount();var h=d.closest("."+b.classNames.wrapper);var i;var j=a('<img class="'+b.classNames.loader+'" src="'+b.ajaxLoader+'"/>').css({position:"absolute",left:h.width()/2-b.ajaxLoaderWidth/2,bottom:h.height()/2-b.ajaxLoaderHeight/2});var k=e.autostart||!1;var l=e.siteSection||"espn:cricinfo:frontpage";var m=e.thumbnailURL||"";var n=e.endCard||!1;var o=e.preroll||!1;var p=e.postroll||!1;var q=e.omnitureSuiteId||window.s_omni&&s_omni.account||window.s_account;var r={cerebroId:f,cms:"cric",targetReplaceId:b.videoPlayerId,siteSection:l,advertising:{siteSectionId:l},analytics:{adobeDCR:{APP_MEASUREMENT:{RSID:q}}},autoplay:k,preroll:o,postroll:p,api:{getRelated:function(a,b,c){var d,e,f;return e="http://api.espncricinfo.com/2/multimedia/related",f={guid:a,format:"xml",key:"aca425ab-8dd1-4170-a453-27a1b015e67e"},d=[],this.request.get(e).query(f).accept("xml").end(function(a,b){var e,f,g,h,i;if(a)return console.error(a),c(a,null);for(h=b.xhr.responseXML.getElementsByTagName("item"),e=0,i=h.length;i>e;e++)f=h[e],g=f.querySelector("asseturl").textContent||":",d.push({caption:f.querySelector("caption").textContent,duration:f.getAttribute("duration"),headline:f.querySelector("headline").textContent,id:g.split(":")[1],poster:f.querySelector("thumbnailurl").textContent,source:g.split(":")[0],web:f.querySelector("hostedAtURL").textContent,mediaId:g});return c(null,d)})}}};c.playerContainer=h,c.isPlaying=!0,h.addClass(b.classNames.videoStarted),h.append(g),espn.video.embed(r)}},b}(jQuery),jQuery(function(){espni.ESPNiVodPlayer.init()});