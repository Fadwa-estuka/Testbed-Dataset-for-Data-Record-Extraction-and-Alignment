/*! Copyright © 2015, 2016, Oracle and/or its affiliates. All rights reserved. */
/*! mmpackage v1.8 */
/*! jQuery v1.11.2 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
/*v1.8.19.6047*/
'use strict';(function(){function da(p,Z,aa){da=void 0;eval(p)}var p=window.console||{log:function(){},error:function(){}};(function(){function X(a,f,h){var l=[],z;for(z in a)a.hasOwnProperty(z)&&(h?l=l.concat(f(a[z])):l.push(f(a[z])));return l}function Z(a,f){var h=[],l;for(l in a)a.hasOwnProperty(l)&&f(a[l])&&h.push(a[l]);return h}function aa(a,f){var h=void 0,l;for(l in a)if(a.hasOwnProperty(l)&&!0===f(a[l])){h=a[l];break}return h}function ea(a,f){if(N(f))return!!aa(a,f);for(var h=a.length;h--;)if(a[h]===f)return!0;
return!1}function Y(a,f,h){h=h||0;for(var l=a.length;h<l;h++)if(a[h]===f||N(f)&&f(a[h]))return h;return-1}function N(a){return"function"===typeof a}function S(a){return Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)}function G(a){return"string"===typeof a}function K(a){return"undefined"===typeof a}function U(a){return"number"===typeof a}function ba(a){if(null===a||"object"!==typeof a)return a;var f=a.constructor(),h;for(h in a)a.hasOwnProperty(h)&&(f[h]=ba(a[h]));
return f}function V(a,f){a=K(a)?{}:a;f=K(f)?{}:f;if(null===f||"object"!==typeof f)return f;var h={},l;if("object"===typeof a)for(l in a)a.hasOwnProperty(l)&&(h[l]=a[l]);for(l in f)f.hasOwnProperty(l)&&(h[l]?S(h[l])&&S(f[l])?h[l]=h[l].concat(f[l]):h[l]=V(h[l],f[l]):h[l]=f[l]);return h}function C(a){return K(a)||null==a?!0:1>a.replace(/\s/g,"").length}function ha(a){return a="mm_style"+(a?"_"+a:"")+("_"+ia++)}function I(a){return a.replace(/^\s+|\s+$/gm,"")}function B(){var a=arguments,f={},h=1;G(a[1])||
(f=a[1],h=2);for(var l=a[0],a=S(a[2])?a[2]:J(a,h),h=0;h<a.length;h++)f[a[h]]=function(a){return function(){return a.apply(f,arguments)}}(l[a[h]]);return f}function ca(){function a(a){var h,l="";for(h=0;h<a;h++)l+=(16*Math.random()%16|0).toString(16);return l}return a(8)+"-"+a(4)+"-4"+a(3)+"-"+a(4)+"-"+a(12)}function P(a,f){for(var h in a)a.hasOwnProperty(h)&&f(a[h],h)}function ja(a){return function(){try{a()}catch(f){p.log(f.message||f)}}}function fa(a){var f=a.getAttribute("href");return{hrefHasJS:/(^| )javascript:/i.test(f),
sameSite:a.hostname===window.location.hostname,notRequiresReload:"_blank"===a.target||/^#|(^| )javascript: ?void/i.test(f)}}function ga(a){for(;a&&"a"!==a.tagName.toLowerCase();)a=a.parentElement;return a}function J(a,f,h){h=K(h)?a.length:h;f=f||0;if(S(a))return Array.prototype.slice.call(a,f,h);var l=[],z=(h||0)-f;if(0<z)for(l=Array(z),h=0;h<z;h++)l[h]=a[f+h];return l}function ka(){return function(){}}function O(a){a=a||{};var f="";K(a.opacity)||(a.filter="alpha(opacity="+100*a.opacity+")");P(a,
function(a,l){f+=l+": "+a+" !important; "});return I(f)}function la(a,f,h){function l(b){if(!m[b]){var d=f[b],c={};try{d(c,z.requireClass,z.require),c.exports=z.options.isDlpEnabled?c.dlp||c.exports:c.basic||c.exports}catch(a){p.log("ERROR: "+a.message+" in module "+b)}e[b]&&(c.exports=c.exports.extend(e[b]));m[b]=c}return m[b]}var z=this,m,k,e;z.options=h||{};e=z.options.moduleExtensions||{};this.reset=function(b){m={};k=b||{}};z.reset(a);this.require=function(b,d){l(b);var c=m[b];return c&&c.config&&
c.config.singleton?(k[b]||(k[b]=new c.exports(z.options)),k[b]):new c.exports(d)};this.requireClass=function(b){l(b);return m[b].exports};this.addModule=function(b,d){f[b]=d}}var ma=da,ia=1,na={CGApi:function(a,f,h){a.config={singleton:!0};a.exports=function(){function a(b,d,c,k){var g=e.getParam("uv",k)||{};b=I(b);g[b]=g[b]||[];if(void 0===d)d=1;else if(""===d||isNaN(d))d=0,c="NaN";g[b].push(d+(c?","+encodeURIComponent(c):""));e.setParam("uv",g,k)}function f(b,d,c,a){var g=e.getParam("uat",c)||{};
g[I(b)]=I(d+"");e.setParam("uat",g,c,a)}function m(b,d){var c=e.getParam("rul",d)||[],a=X(b,function(b){return encodeURIComponent(b||"")}).join(",")+";";c.push(a);e.setParam("rul",c,d)}function k(b,d,c,a){var g=e.getParam("ids",c)||{};g[b+""]=d+"";e.setParam("ids",g,c,a)}var e=h("Engine");this.setAction=function(b,d,c){a(b,d,c,e.storeStrategy.request)};this.postAction=function(b,d,c){a(b,d,c,e.storeStrategy.deferredRequest)};this.setAttr=function(b,d){f(b,d,e.storeStrategy.request)};this.storeAttr=
function(b,d,c){f(b,d,e.storeStrategy.persistent,c)};this.getAttr=function(b){return(e.getParam("uat",e.storeStrategy.persistent)||{})[I(b)]};this.removeAttr=function(b){var d=e.getParam("uat",e.storeStrategy.persistent)||{};delete d[I(b)];e.setParam("uat",d,e.storeStrategy.persistent,365)};this.setId=function(b,d){k(b,d,e.storeStrategy.request)};this.storeId=function(b,d,c){k(b,d,e.storeStrategy.persistent,c)};this.removeId=function(b){var d=e.getParam("ids",e.storeStrategy.persistent)||{};delete d[b+
""];e.setParam("ids",d,e.storeStrategy.persistent,365)};this.hasActions=function(){var b=e.getParam("uv",e.storeStrategy.request)||{},d=e.getParam("uv",e.storeStrategy.deferredRequest)||{};return b&&"{}"!==JSON.stringify(b)||d&&"{}"!==JSON.stringify(d)};this.request=function(b,d){e.setParam("pageid",b,e.storeStrategy.request);e.CGRequest(d)};this.setData=function(b,d,c){e.setData(b,d,c)};this.getData=function(b){return e.getData(b)};this.clearData=function(b){e.clearData(b)};this.getServerAttrs=function(){return e.getServerAttrs()};
this.setCategoryFilter=function(b,d,c){m({categoryId:b,categoryName:d,including:c?1:0},e.storeStrategy.request)};this.setProductFilter=function(b,d,c){m({categoryId:b,productId:d,including:c?1:0,id:1,isProduct:1},e.storeStrategy.request)}}},Class:function(a,f,h){f=function(){};f.extend=function(a){var f=function(){f.superclass.constructor.apply(this,arguments);var k={};P(this,function(e,b){k[b]=e});this.base=k;return a.apply(this,arguments)},m=function(){};m.prototype=this.prototype;f.prototype=new m;
f.prototype.constructor=f;f.superclass=this.prototype;f.implementation=a;f.extend=this.extend;f.inherit=this.inherit;return f};f.inherit=function(a){(a.implementation||a).call(this.prototype)};a.exports=f},Cookies:function(a,f,h){a.config={singleton:!0};a.exports=function(a){var f=this,m=a.cookieDomain,k=encodeURIComponent,e=decodeURIComponent;this.set=function(b,d,c){if(!b||!G(b))return p.error("You can't use cookies.set without specifying cookie name."),this;var e=";domain="+(c&&c.domain?c.domain:
m),a=";path="+(c&&c.path?c.path:"/"),f;if(c&&c.expires){f=c.expires;var l=new Date;l.setTime(l.getTime()+864E5*f);f=";expires="+l.toGMTString()}else f="";c=c&&c.secure?";secure":"";d=k(d);document.cookie=k(b)+"="+d+e+a+f+c;return this};this.remove=function(b,d){if(!b||!G(b))return p.error("You can't use cookies.remove without specifying cookie name."),this;d||(d={});d.expires=-1;"undefined"!=typeof this.get(b)&&this.set(b,"",d);return this};this.get=function(b){if(!b||!G(b))return p.error("You can't use cookies.get without specifying cookie name."),
this;b=new RegExp("(?:^|; )"+k(b).replace(/([.$?*|{}()\[\]\\\/+^])/g,"\\$1")+"=([^;]+)");return(b=(document.cookie.match(b)||[,""])[1])?e(b):void 0};this.getWrapper=function(){return B(f,"get","set","remove")}}},Events:function(a,f,h){a.config={singleton:!1};var l=f("Class").extend(function(){function a(b,c){var e=b.split("."),g;if(1===e.length)g=e[0];else if(2===e.length){g=e[0];if(0===g.length||-1!==g.indexOf("*"))return!1;g=e[1]}else return!1;if(!g.length)return!1;if(-1!==g.indexOf("*"))if(c){if("*"!==
g)return!1}else return!1;return e}function m(d,c,a,g){b[d]={event_data:c,callback:!0===g?a:void 0};if(e[d]){d=e[d];for(g=0;g<d.length;g++)d[g].call(k,c);N(a)&&a()}}var k=this,e={},b={};this.on=function(d,c,m){if(!G(d))return p.log("eventName is incorrect"),this;if(!a(d,!0))return p.error("'"+d+"' is incorrect for On"),this;if(m&&(m=b[d])){try{c.apply(k,m.event_data)}catch(g){}m.callback&&m.callback()}e[d]=e[d]||[];e[d].push(c);return this};this.off=function(b,c){if(!G(b))return p.log("eventName is incorrect"),
this;e[b]=e[b]||[];for(var a=e[b].length;a--;)c==e[b][a]&&e[b].splice(a,1);return this};this.trigger=function(b,c,e,g){if(!G(b))return p.log("eventName is incorrect"),this;var k=a(b,!1);if(!k)return p.error("'"+b+"' is incorrect for Trigger"),this;m(b,c,e,g);2==k.length&&m(k[0]+".*",c,e,g);return this};this.getWrapper=function(){return B(k,{},"on","off","trigger")}});f=l.extend(function(){var a=this;this.domReady=function(){var a=!1,k=[],e=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",
b,!1),window.removeEventListener("load",b,!1)):(document.detachEvent("onreadystatechange",b),window.detachEvent("onload",b))},b=function(){if(document.addEventListener||"load"===event.type||"complete"===document.readyState)e(),d()},d=function(){if(!a){if(!document.body)return setTimeout(d);a=!0;for(var b=0;b<k.length;b++)try{(0,k[b])()}catch(c){p.log(c)}}};if("complete"===document.readyState)d();else if(document.addEventListener)document.addEventListener("DOMContentLoaded",b,!1),window.addEventListener("load",
b,!1);else{document.attachEvent("onreadystatechange",b);window.attachEvent("onload",b);var c=!1;try{c=null==window.frameElement&&document.documentElement}catch(f){}c&&c.doScroll&&function v(){if(!a){try{c.doScroll("left")}catch(b){return setTimeout(v,50)}e();d()}}()}return function(b){b=b||function(){};if(a){try{b()}catch(d){p.log(d)}return!0}k.push(b);return!1}}();this.getWrapper=function(){return B(a,a.base.getWrapper(),"domReady")}});l=l.extend(function(){var a=this,m=h("Dlp");this.domReady=function(a){return m.parentReady(a)};
this.getWrapper=function(){return B(a,a.base.getWrapper(),"domReady")}});a.basic=f;a.dlp=l},Deferred:function(a,f,h){function l(a,k){a=a||{};for(var e in k)k.hasOwnProperty(e)&&(a[e]="object"===typeof k[e]?l(a[e],k[e]):k[e]);return a}function z(a){for(var k=[["resolve","done",[],"resolved"],["reject","fail",[],"rejected"],["notify","progress",[]]],e="pending",b={state:function(){return e},always:function(){d.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return z(function(c){for(var e=
0;e<k.length;e++)(function(a,e){d[k[a][1]](function(){var u=N(e[a])&&e[a].apply(this,arguments);if(u&&N(u.promise))u.promise().done(c.resolve).fail(c.reject).progress(c.notify);else c[k[a][0]+"With"](this===b?c.promise():this,e[a]?[u]:arguments)})})(e,a);a=null}).promise()},promise:function(a){return null!=a?l(a,b):b}},d={},c,f,g=0;g<k.length;g++)(function(a){var g=k[a],m=g[2];b[g[1]]=function(){for(var a=0;a<arguments.length;a++)(function(a){N(a)?e===g[3]?a.apply(c,f):m.push(a):a&&a.length&&"string"!==
typeof a&&b[g[1]].apply(this,a)})(arguments[a]);return this};d[g[0]]=function(){d[g[0]+"With"](this===d?b:this,arguments);return this};d[g[0]+"With"]=function(b,a){if("pending"==e)for(c=b,f=a,g[3]&&(e=g[3]);m.length;)m.shift().apply(b,a);return this}})(g);b.promise(d);a&&a.call(d,d);return d}a.exports=z},When:function(a,f,h){var l=f("Deferred");a.exports=function(){var a=0,m=N(arguments[0]),k=m?[l()]:arguments,e=Array.prototype.slice.call(k),b=e.length,d=1!==b||k[0]&&N(k[0].promise)?b:0,c=1===d?k[0]:
l(),f=function(b,a,e){return function(u){a[b]=this;e[b]=1<arguments.length?Array.prototype.slice.call(arguments):u;e===g?c.notifyWith(a,e):--d||c.resolveWith(a,e)}},g,h,L;if(m)k=arguments,L=setInterval(function(){k[0]()?c.resolve():k[1]&&N(k[1])&&k[1]()&&c.reject()},50),c.always(function(){clearInterval(L)});else if(1<b)for(g=Array(b),m=Array(b),h=Array(b);a<b;a++)e[a]&&N(e[a].promise)?e[a].promise().done(f(a,h,e)).fail(c.reject).progress(f(a,m,g)):--d;d||c.resolveWith(h,e);return c.promise()}},Renderer:function(a,
f,h){a.config={singleton:!1};var l=0,z=0,m=f("Class").extend(function(a){function b(){M&&(clearTimeout(M),M=null);U(u)&&(M=setTimeout(function(){c.showAll()},u))}function d(u){if(u=(u?(u.Name||u)+"":"").toLowerCase()){var b=(a.getElement(u)||{}).Data;if(b)for(var M="",d="",c=0;c<b.length;c++)"Css"===b[c].Type?M=b[c].Data:"Html"===b[c].Type&&""!==I(b[c].Data)?d=b[c].Data:"Script"===b[c].Type&&(L.runElementScript(a,u,{html:d,css:M},b[c].Data),d=M="")}else p.log("renderElement should receive element or elementName")}
var c=this,k=f("When"),g=f("Deferred"),m=h("CGApi"),L=h("Engine"),x=h("Dom"),n={},D=z++,u=7E3,M;this.hide=function(u,a){if(!u)return p.log("You can't use renderer.hide without params"),this;-1===u.indexOf("{")&&(u+="{position:relative;left:-10000px;top:-10000px;}");a=(a||"gen_"+l++)+"_"+D;n[a]=!0;x.addCss(u,a);b();return this};this.show=function(u){if(!u)return p.log("You can't use renderer.show without params"),this;var b=u+"_"+D;if(!n[b])return p.log("ID ("+u+") you try to show is not found"),this;
delete n[b];x.removeCss(b);return this};this.showAll=function(){var u=[];P(n,function(b,a){u.push(a)});x.removeMultiCss(u);n={};M&&(clearTimeout(M),M=null);return this};this.unhideAfter=function(a){"never"===a||U(a)&&0<=a?(u=a,b()):p.log('You can use renderer.unhideAfter with number greater 0 or "never" string only.');return this};this.getContent=function(u){var b=g();m.request(u||a.getName(),function(u){u?b.resolve():b.reject()});return b.promise()};this.runVariantJs=function(u){if(0<arguments.length)d(u);
else for(var b=a.getElements(),M=0;M<b.length;M++)d(b[M]);return this};this.waitUntilDom=function(u){return k(u,L.events.domReady)};this.when=function(){return k.apply(c,arguments)}}),k=m.extend(function(a){var b=f("When"),d=h("Engine");this.waitForElement=function(a){return b(function(){return null!=document.querySelector(a)},d.events.domReady)}}),m=m.extend(function(a){var b=f("When"),d=f("Deferred"),c=h("Engine"),k=h("Dlp");this.waitForElement=function(a){var e=new d,f=!1,m=function(b){f=b};b(function(){k.checkNodeExist(a).done(m);
return f},c.events.domReady).done(function(){e.resolve()}).fail(function(){k.checkNodeExist(a).done(m).then(function(b){b?e.resolve():e.reject()},function(){e.reject()})});return e.promise()}});a.dlp=m;a.basic=k},Campaign:function(a,f,h){var l=f("Element");a.exports=function(a){function f(b){return function(a){return a.Name===b}}var k=this,e=h("Site"),b=a.Name,d=h("BaseStorage",{namespace:b}),c={},r=X(a.Elements,function(b){return new l(b)}),g=a.Recommendations;this.updateData=function(b){for(var a=
0;a<b.Elements.length;a++){var c=Y(r,f(b.Elements[a].Name));0<=c?r[c]=new l(b.Elements[a]):r.push(new l(b.Elements[a]))}g=b.Recommendations};this.getElements=function(){return r};this.getRecommendations=function(){return g};this.getExperience=function(){var a=e.getPageExperiences()[b],c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);return c};this.getElement=function(b){b||p.log("You can't use campaign.getElement without params");b=b.toLowerCase();return aa(r,f(b))||null};this.getStyles=function(b){return X(r,
function(a){return a.getStyles(b)},!0)};this.isDefault=function(){if(!r||0==r.length)throw Error("There is no content for campaign "+b+".");for(var a=!0,c=0;c<r.length;c++)a=a&&"Default"===r[c].VariantName;return a};this.getName=function(){return b};this.setData=function(b,a,c){d.set(b,a,c)};this.getData=function(b){return d.get(b)};this.clearData=function(b){d.set(b,null,-1)};this.events=h("Events");this.getContext=function(){var b={};b.scope=c;b.isDefault=function(){return k.isDefault()};b.getElements=
function(){for(var b={},a=0;a<r.length;a++)b[r[a].Name]=r[a].clone();return b};b.getElement=function(b){return(b=k.getElement(b))?b.clone():b};b.getRecommendations=function(){return X(g,ba)};b.getStyles=function(b){return k.getStyles(b)};b.getExperience=function(){return k.getExperience()};b.getName=function(){return k.getName()};b.events=k.events;b.setData=function(b,a,c){return k.setData(b,a,c)};b.getData=function(b){return k.getData(b)};b.clearData=function(b){return k.clearData(b)};return b}}},
Element:function(a,f,h){function l(a){var f=this;f.Name=a.Name;f.HTMLId=a.HTMLId;f.Order=a.Order;f.VariantName=a.VariantName;f.Data=ba(a.Data);this.getStyles=function(a){return X(Z(f.Data,function(e){return"Css"===e.Type&&(K(a)||e.Attrs.id===a)}),function(a){return a.Data})};this.clone=function(){return new l(f)}}a.exports=l},Site:function(a,f,h){a.config={singleton:!0};a.exports=function(){var a=this,f={},m={};this.getPageExperiences=function(){var a,e,b={};for(a in m)if(m.hasOwnProperty(a))for(e in b[a]=
{},m[a])m[a].hasOwnProperty(e)&&(b[a][e]=m[a][e]);return b};this.setPageExperiences=function(a){var e,b,d;for(d in a)if(a.hasOwnProperty(d)){e=a[d];b=m[d];"undefined"===typeof b&&(m[d]={},b=m[d]);for(var c in e)e.hasOwnProperty(c)&&(b[c]=e[c])}return m};this.getContext=function(){var k={};k.scope=f;k.getPageExperiences=a.getPageExperiences;return k}}},Style:function(a,f,h){a.config={singleton:!0};f=f("Class").extend(function(){function a(){var b="";P(e,function(a){b+=a});return b}var f=this,m=document,
k=m.createElement("style");k.type="text/css";k.media="screen";f.htmlId=k.id=ha("mm_cdApiStyleId");var e={},m=m.getElementsByTagName("head")[0];m.insertBefore(k,m.lastChild);this.set=function(b){k&&(k.styleSheet?k.styleSheet.cssText=b:k.innerHTML=b)};this.add=function(b,d){if(d){if(e[d]){p.error("Style with specified ID("+d+") already exists");return}e[d]=b}else e.nr=e.nr||"",e.nr+=b;f.set(a())};this.remove=function(){P(J(arguments),function(b){"nr"!==b&&e[b]?delete e[b]:p.error("Could not remove non-existent style "+
b+".")});f.set(a())};this.clear=function(){e={};f.set(a())}});a.exports=f},Action:function(a,f,h){a.config={singleton:!0};var l=f("Class").extend(function(){var a=this,m=h("CGApi"),k=f("Deferred");this.sendActions=function(e,b,d){for(var c=!0,f,g,k,m,l=0;l<e.length;l++)m=e[l].name,k=e[l].value,g=e[l].attribute,c&=f=e[l].postponedAction,f?a.postpone(m,k,g):a.set(m,k,g);!c||b?a.send().then(d):d()};this.send=function(a,b,d){var c=k();if(0<arguments.length&&a&&G(a))m.setAction(a,b,d);else if(0!==arguments.length){p.log("You can't use action.send without setting action name");
return}m.hasActions()?m.request("mmevents",function(b){b?c.resolve():c.reject()}):c.resolve();return c.promise()};this.postpone=function(a,b,d){if(!a||!G(a))return p.log("You can't use action.postpone without setting action name."),this;m.postAction(a,b,d);return this};this.set=function(a,b,d){if(!a||!G(a))return p.log("You can't use action.set without setting action name."),this;m.setAction(a,b,d);return this};this.trackClicks=function(e,b,d){h("Dom").trackClicks(e,b,d,a.sendActions)};this.getWrapper=
function(){return B(a,"send","postpone","set","trackClicks")}});a.exports=l},Visitor:function(a,f,h){a.config={singleton:!0};var l=f("Class").extend(function(){var a=this,k=f("Deferred"),e=h("CGApi");this.setAttr=function(b,a){e.setAttr(b,a);return this};this.storeAttr=function(b,a){e.storeAttr(b,a,365);return this};this.getAttr=function(b){return e.getAttr(b)};this.removeAttr=function(b){e.removeAttr(b);return this};this.setId=function(b,a){e.setId(b,a);return this};this.storeId=function(b,a){e.storeId(b,
a,365);return this};this.removeId=function(b){e.removeId(b);return this};this.setData=function(b,a,c){e.setData(b,a,c);return this};this.getData=function(b){return e.getData(b)};this.clearData=function(b){return e.clearData(b)};this.requestPage=function(b){var a=k();e.request(b,function(b){b?a.resolve():a.reject()});return a.promise()};this.getServerAttrs=function(){return ba(e.getServerAttrs())};this.getWrapper=function(){return B(a,"setAttr","storeAttr","getAttr","removeAttr","setId","storeId",
"removeId","setData","getData","clearData","requestPage","getServerAttrs")}}),z=l.extend(function(){var a=this;this.navigateTo=function(a){!G(a)||C(a)?p.log("CD API Visitor Module: You should pass targetUrl as a non-empty String to visitor.navigateTo()."):(N(window.stop)?window.stop():document.execCommand("Stop"),window.location.assign(a))};this.getWrapper=function(){return B(a,a.base.getWrapper(),"navigateTo")}}),l=l.extend(function(){var a=this,f=h("Dlp");this.navigateTo=function(a){!G(a)||C(a)?
p.log("CD API Visitor Module: You should pass targetUrl as a non-empty String to visitor.navigateTo()."):f.navigateTo(a)};this.getWrapper=function(){return B(a,a.base.getWrapper(),"navigateTo")}});a.basic=z;a.dlp=l},Dom:function(a,f,h){a.config={singleton:!0};var l=f("Class").extend(function(){function a(u,M,c){return function(){var a=l.getElements(M[0]);if(a.length)return M[0]=a,u.apply(b,M),c(),!0}}function k(){p=setInterval(function(){for(var a=0;a<z.length;a++)z[a]()&&(z.splice(a,1),--a);z.length||
clearInterval(p)},200);c.registerLoop(p)}function e(a,b){if(b&&!c.isVcbActive){var d=l.autoHide(a);return function(){l.removeCss(d)}}return ka()}var b=this,d=f("Deferred"),c=h("Vcb"),l=h("DomPlain"),g=[],z=[],p,x="hide resize freeMove changeStyle guidedMove remove bringToFront changeLinkUrl insertImageBannerBelow insertImageBannerAbove insertImageBannerWithin changeImageBanner editHtml insertHtmlAbove insertHtmlBelow insertHtmlWithin".split(" "),n=["addCss","removeCss"],D=["addListener","removeListener",
"getNodesAttribute","setNodesAttribute"];this.loop=function(u,c){return function(){var d=arguments[0],f=J(arguments),g=l.getElements(d);g.length?(f[0]=g,u.apply(b,f)):G(d)&&(d=e(d,!c),z.length||k(),z.push(a(u,f,d)))}};(function(a,c,d){c=c||{};P(d,function(d){c[d]=b.loop(a[d])})})(l,b,x);B(l,b,n);this.addListener=function(a,b,c){a=l.getElements(a);for(var d=0;d<a.length;d++){var e=l.addEvent(a[d],b,c);g.push({handler:c,handlerWrapper:e})}};this.removeListener=function(a,b,c){a=l.getElements(a);for(var d=
0;d<a.length;d++)for(var e=0;e<g.length;e++)g[e].handler===c&&l.removeEvent(a[d],b,g[e].handlerWrapper)};this.trackClicks=b.loop(l.trackClicks,!0);this.removeMultiCss=l.removeMultiCss;this.getNodesAttribute=function(){var a=J(arguments);a[0]=l.getElements(a[0]);var b=new d;b.resolve(l.getNodesAttribute.apply(l,a));return b.promise()};this.setNodesAttribute=function(){var a=J(arguments);a[0]=l.getElements(a[0]);l.setNodesAttribute.apply(l,a)};this.getWrapper=function(){var a=B(b,{},D);B(b,a,x);B(l,
a,n);return a}}),z=f("Class").extend(function(){var a=this,f=h("Dlp"),e="addCss removeCss hide resize freeMove changeStyle guidedMove remove bringToFront changeLinkUrl insertImageBannerBelow insertImageBannerAbove insertImageBannerWithin changeImageBanner editHtml setNodesAttribute insertHtmlAbove insertHtmlBelow insertHtmlWithin".split(" "),b=["getNodesAttribute"],d=["addListener","removeListener"];this.addListener=function(a,b,d){f.addListener(a,b,d)};this.removeListener=function(a,b,d){f.removeListener(a,
b,d)};P(e,function(b){a[b]=f.proxy("Dom",b)});P(b,function(b){a[b]=f.proxy("Dom",b,!0)});this.trackClicks=function(a,b,d,e){f.trackClicks(a,b,d,e)};this.removeMultiCss=f.proxy("Dom","removeMultiCss");this.getWrapper=function(){var c=B(a,{},e);B(a,c,b);B(a,c,d);return c}});a.basic=l;a.dlp=z},DomPlain:function(a,f,h){a.config={singleton:!0};f=f("Class").extend(function(){function a(b,d){return window.getComputedStyle?window.getComputedStyle(b,null)[d]:b.currentStyle?b.currentStyle[d]:b.style[d]}function f(a,
b,d){U(d)?b[d]&&a.push(b[d]):a=a.concat(J(b));return a}function m(a,b){return(a.matches||a.matchesSelector||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector).call(a,b)}function k(a,b){for(var d=a.split(":eq("),c=[],e,g,l,k,h=0;h<d.length;h++){k=/^(?:\d+\))?\s*(>)?(\+)?\s*(.+)?/.exec(d[h]);e=k[3];if(!e)break;k=k[1]?"direct":k[2]?"next":"querySelector";for(l=(g=d[h+1]&&/^(\d+)\)(.+)?/.exec(d[h+1]))?g[1]:null;"querySelector"!==k;)g=e.match(/([^ >]+)( \d+)?\s*(>?)(\+?)\s*(.*)/),e=g[5],
c.push({selector:g[2]?g[1]+g[2]:g[1],findingType:k}),k=g[3]?"direct":g[4]?"next":"querySelector";e&&c.push({selector:e,findingType:k});l&&(c[c.length-1].index=parseInt(l,10))}d=S(b)?b:[b];for(e=0;e<c.length;e++){h=[];if("querySelector"===c[e].findingType)for(k=0;k<d.length;k++){g=c[e].index;l=[];for(var D=d[k].querySelectorAll(c[e].selector),r=0;r<D.length;r++)n.useZindex(D[r])&&l.push(D[r]);h=f(h,l,g)}else if("direct"===c[e].findingType)for(l=0;l<d.length;l++){if(g=[],k=d[l].children){for(D=0;D<
k.length;D++)1===k[D].nodeType&&m(k[D],c[e].selector)&&g.push(k[D]);h=f(h,g,c[e].index)}}else if("next"===c[e].findingType)for(g=0;g<d.length;g++)(k=d[g].nextSibling)&&1===k.nodeType&&m(k,c[e].selector)&&(h=f(h,[k],c[e].index));d=h}return J(d)}function e(a,b){var d=[],c=Object.prototype.toString.call(a);if(G(a)){for(var d=b||document,c=a.split(","),e=[],f=0;f<c.length;f++)c[f]=c[f].replace(/^\s+/g,"").replace(/\s+$/g,""),c[f]&&(e=e.concat(k(c[f],d)));d=e}else"[object Array]"===c||"[object NodeList]"===
c||"[object HTMLCollection]"===c?d=J(a):d[0]=a;return d}function b(a){return a.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<title\b[^<]*(?:(?!<\/title>)<[^<]*)*<\/title>/gi,"").replace(/<link\b[^<]*>/gi,"").replace(/<meta\b[^<]*>/gi,"")}function d(a,b){for(var d=(a.style.cssText.replace(/[^;]$/,"$0;")+b).split(";"),c={},e=0;e<d.length;e++)if(d[e]){var f=d[e].split(":");c[f[0].replace(/\s/g,"")]=f[2]?f[1]+":"+f[2]:f[1]}var d="",g;for(g in c)c.hasOwnProperty(g)&&(d+=g+
":"+c[g]+"; ");x.setCssText(a,d.replace(/\s$/,""))}function c(b,c,e){var f=a(b,"position");c=c?parseInt(c,10):0;e=e?parseInt(e,10):0;if("relative"===f||"absolute"===f||"fixed"===f){var g=a(b,"left"),k=a(b,"right");"auto"===g&&"auto"!==k?c="right: "+(parseInt(k,10)-c)+"px !important; ":("auto"===g?g=c:"relative"===a(b,"position")?g=parseInt(g,10)+c:(g=parseInt(b.offsetLeft,10)+c,c=a(b,"margin-left"),"auto"!==c&&(g-=parseInt(c,10))),c="left: "+g+"px !important; ");g=a(b,"top");k=a(b,"bottom");"auto"===
g&&"auto"!==k?e="bottom: "+(parseInt(k,10)-e)+"px !important; ":("auto"===g?g=e:"relative"===a(b,"position")?g=parseInt(g,10)+e:(g=parseInt(b.offsetTop,10)+e,e=a(b,"margin-top"),"auto"!==e&&(g-=parseInt(e,10))),e="top: "+g+"px !important; ")}else f="relative",c="left: "+c+"px !important; ",e="top: "+e+"px !important; ";d(b,c+e+("position: "+f+" !important;"))}function r(a,c){K(c.imageUrl)||"img"!==a.tagName.toLowerCase()||(a.style.visibility="hidden",a.src=c.imageUrl,x.addEvent(a,"load",function(){a.style.visibility=
""}));K(c.imageAlt)||a.setAttribute("alt",b(c.imageAlt));K(c.imageTitle)||a.setAttribute("title",b(c.imageTitle))}function g(a){var b,c;b=document.createElement("img");r(b,a);void 0!==a.linkUrl&&(c=document.createElement("a"),c.setAttribute("href",a.linkUrl),c.appendChild(b));return c||b}function v(a,b){return function(){for(var c=b&&[],d=J(arguments),g=e(d[0]),f=0;f<g.length;f++)if(g[f]&&g[f].tagName){d[0]=g[f];var k=a.apply(x,d);b&&c.push(k)}return c}}function L(a,b){var c=ga(b),d=void 0;if(c){var e=
fa(c);if(!e.sameSite){a.originalPreventDefault=a.originalPreventDefault||a.preventDefault;a.preventedByClientsCode=a.preventedByClientsCode||a.defaultPrevented&&!a.preventedByCdApiCode;a.preventDefault=function(){a.preventedByClientsCode=!0;a.originalPreventDefault()};a.originalPreventDefault();a.preventedByCdApiCode=!0;var g=!1,d=function(){g||a.preventedByClientsCode||(e.hrefHasJS?(new Function(c.getAttribute("href"))).call(window):window.location.assign(c.href),g=!0)};setTimeout(d,2E3)}}return d}
var x=this,n=h("Vcb"),D=h("Style");this.setCssText=function(a,b){a.style.cssText=b};this.addCss=function(a,b){if(!S(a)&&!G(a))return p.log("You try call dom.addCss with wrong arguments."),this;0===a.length&&p.log("WARNING: You add empty css.");a.join&&(a=a.join("\n"));D.add(a,b);return this};this.removeCss=function(a){if(!a)return p.log("You can't use dom.removeCss without params"),this;D.remove(a);return this};this.removeMultiCss=function(a){D.remove.apply(D,a);return this};this.getStyle=a;this.getElements=
e;this.updateElementStyle=v(d);this.addEvent=function(a,b,c){var d=function(b){b=b||window.event;!b.target&&b.srcElement&&(b.target=b.srcElement);return c.call(a,b)};a.addEventListener?a.addEventListener(b,d,!1):a.attachEvent&&a.attachEvent("on"+b,d);return d};this.removeEvent=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent&&a.detachEvent("on"+b,c)};this.addClass=function(a,b){b=I(b);var c=I(a.getAttribute("class")||"");~c.indexOf(b)||a.setAttribute("class",I(c?c+" "+
b:b))};this.hide=v(function(a){d(a,"visibility: hidden !important;")});this.show=v(function(a){d(a,"visibility: visible !important;")});this.resize=v(function(a,b,e,g,f){b=parseInt(b,10);e=parseInt(e,10);d(a,"width: "+b+"px !important; height: "+e+"px !important;");(g||f)&&c(a,g,f)});this.freeMove=v(c);this.changeStyle=v(d);this.guidedMove=v(function(a,b){if(0<=b){var c=a.parentElement;c.removeChild(a);var d=c.children;b<d.length?c.insertBefore(a,d[b]):c.appendChild(a)}});this.remove=v(function(a){var b=
a.parentElement;b&&b.removeChild(a)});this.bringToFront=v(function(b,c){if("undefined"===typeof c){for(var e=0,g=0,f=document.querySelectorAll("*"),k=f.length,h=0;h<k;h++)if(e=parseInt(a(f[h],"z-index"),10),!isNaN(e)&&g<e&&n.useZindex(f[h])&&(g=e),n.isVcbActive&&g>=n.maxZindex){g=n.maxZindex-11;break}c=g+10}e=a(b,"position");d(b,"z-index: "+c+" !important; position: "+("static"===e||"auto"===e?"relative":e)+" !important;")});this.changeLinkUrl=function(a,b){x.setNodesAttribute(a,"href",b)};this.insertImageBannerAbove=
v(function(a,b){var c=g(b);a.parentElement.insertBefore(c,a)});this.insertImageBannerBelow=v(function(a,b){var c=g(b);a.parentElement.insertBefore(c,a.nextSibling)});this.insertImageBannerWithin=v(function(a,b){var c=g(b);a.appendChild(c)});this.changeImageBanner=v(function(a,b){if("a"===a.tagName.toLowerCase()){void 0!==b.linkUrl&&a.setAttribute("href",b.linkUrl);for(var c=a.children,d=0;d<c.length;d++)"img"===c[d].tagName.toLowerCase()&&r(c[d],b)}else"img"===a.tagName.toLowerCase()&&(r(a,b),void 0!==
b.linkUrl&&"a"===a.parentElement.tagName.toLowerCase()&&a.parentElement.setAttribute("href",b.linkUrl))});this.editHtml=v(function(a,c){a.innerHTML=b(c)});this.setNodesAttribute=v(function(a,b,c){a.setAttribute(b,c)});this.getNodesAttribute=v(function(a,b){return a.getAttribute(b)},!0);this.insertHtmlAbove=v(function(a,c){var d=document.createElement("div");a.parentElement.insertBefore(d,a);d.outerHTML=b(c)});this.insertHtmlBelow=v(function(a,c){var d=document.createElement("div");a.parentElement.insertBefore(d,
a.nextSibling);d.outerHTML=b(c)});this.insertHtmlWithin=v(function(a,c){var d=document.createElement("div");a.appendChild(d);d.outerHTML=b(c)});this.autoHide=function(a){a=a.replace(/:eq\(\d*\)/gmi,"");var b=ca();x.addCss(a+"{visibility: hidden;}",b);return b};this.trackClicks=v(function(a,b,c,d){function e(){return[b.name,b.value,b.attribute,b.postponedAction]}n.isVcbActive?n.registerClickAction(a,b,c):(a["data-mm-events-ref"]||(a["data-mm-events-ref"]={lockFuncs:[]},x.addEvent(a,"click",function(a){for(var b=
this["data-mm-events-ref"].lockFuncs,c=[],e=0;e<b.length;e++){var g=b[e]();if(g){var f=g[0],u;u=f;var k=a;u=k.target===this?!1:G(k.data)&&ea(k.data.split(","),u);u||(c.push({name:f,value:g[1],attribute:g[2],postponedAction:K(g[3])?!0:g[3]}),g=a.data&&G(a.data)?a.data.split(","):[],ea(g,f)||(g.push(f),a.data=g.join()))}}if(c.length){var e=ga(this),b=!1,n;if(e){if(!(n=fa(e)).sameSite||n.notRequiresReload)b=!0}else n=this.nodeName.toLowerCase(),e=this.getAttribute("type"),("input"===n||"button"===n)&&
e&&"submit"===e.toLowerCase()||(b=!0);d(c,b,L(a,this))}})),a["data-mm-events-ref"].lockFuncs.push(e))})});a.exports=f},BaseWidget:function(a,f,h){a.config={singleton:!1};f=f("Class").extend(function(a){function f(a,b){for(;a&&a.parentNode;)if(a=a.parentNode,a===b)return!0;return!1}function m(){function a(c){return!c||!U(c.displayedCount)||c.displayedCount>=b.showsCount?1:c.displayedCount+1}var b=g.options.showFrequency;if(!0!==b.always){var c=new Date,d=g.getWidgetData(),e=d.persistent,d=d.session,
f;b.showsInterval&&"session"===b.showsInterval&&(f={lastShown:c,displayedCount:a(d)});c={lastShown:c,wasDismissed:e&&e.wasDismissed||!1,displayedCount:a(e)};g.setWidgetData(c,f)}}function k(){var a=g.getWidgetData(),b=a.persistent;g.setWidgetData({lastShown:b&&b.lastShown,wasDismissed:!0,displayedCount:b&&b.displayedCount},a.session)}function e(){function a(){var b=e.lastShown&&e.lastShown.getTime();if(!C(k)){if("session"===k)return!d.session;if("campaign"===k)return!d.persistent;var g=new Date,f=
g.getMonth(),g=g.getFullYear();if(f={hour:36E5,day:864E5,week:6048E5,month:864E5*(new Date(g,f,0)).getDate()}[k])return c-b>f}}var b=g.options.showFrequency;if(!(!0!==b.always&&b.showsInterval||b.neverAfterDismiss))return!0;var c=new Date,d=g.getWidgetData(),e=d.persistent,f=d.session;if(e&&!0===b.neverAfterDismiss&&!0===e.wasDismissed)return!1;if(!0===b.always||!b.showsInterval)return!0;var k=I(b.showsInterval.toLowerCase()),b=b.showsCount;if(!C(k)&&b&&U(b)){if("session"===k&&!d.session||!d.persistent)return!0;
var l=a();return"session"===k?f.displayedCount<b:e.displayedCount<b||l}}var b=h("CGApi"),d=h("Engine").events,c=h("Dom"),r=h("DomPlain"),g=this,p=!1,L=[],x=[];g.target=document.body;g.selectors={guidAttr:"data-vcb-me-guid",wrapper:"vcb-me-wrapper",overlay:"vcb-me-overlay",contentWrapper:"vcb-me-content-wrapper",content:"vcb-me-content",contentInner:"vcb-me-content-inner",dismiss:"vcb-me-dismiss",pointer:"vcb-me-pointer"};g.type="BaseWidget";g.wrapper=null;g.contentWrapper=null;g.content=null;g.setWidgetData=
function(a,c){var d=g.options.guid;a&&b.setData(d+"persistData",JSON.stringify(a),365);c&&b.setData(d+"sessionData",JSON.stringify(c),0)};g.getWidgetData=function(){var a=g.options.guid,c={persistent:void 0,session:void 0};if(!C(a)){var d=b.getData(a+"sessionData"),a=b.getData(a+"persistData");C(a)||(c.persistent=JSON.parse(a),c.persistent.lastShown=new Date(c.persistent.lastShown));C(d)||(c.session=JSON.parse(d),c.session.lastShown=new Date(c.session.lastShown))}return c};g.clearWidgetData=function(){var a=
g.options.guid;C(a)||(b.clearData(a+"persistData"),b.clearData(a+"sessionData"))};g.validateOptions=function(a){var b=[];a.appearance.name||b.push("Can't create widget! Name parameter required!");a.guid||b.push("Can't create widget! Guid parameter required!");a.content||b.push("Can't create widget! Content is required!");if(b.length)throw Error(b.join("\n"));};g.addClassesAndIdContentElements=function(){for(var a=g.getContentWrapper(),b=g.options,a=a.firstChild;null!==a&&1!==a.nodeType;)a=a.nextSibling;
var c;if(a){a.id||(a.id=b.guid);r.addClass(a,g.selectors.content);if(!C(b.closeEvent.dismissElements))for(c=r.getElements(b.closeEvent.dismissElements,a),b=0;b<c.length;b++)r.addClass(c[b],g.selectors.dismiss);for(b=a.lastChild;null!==b&&1!==b.nodeType;)b=b.previousSibling;!b||c&&~Y(c,b)||r.addClass(b,g.selectors.contentInner)}};g.getWrapper=function(){if(f(g.wrapper,g.target))return g.wrapper;var a=r.getElements("["+g.selectors.guidAttr+'="'+g.options.guid+'"]',g.target)[0];if(a)return a};g.wrapperFor=
function(a){return function(){if(!f(g[a],g.target)){var b=g.getWrapper();g[a]=r.getElements("."+g.selectors[a],b)[0]}return g[a]}};g.getContentWrapper=g.wrapperFor("contentWrapper");g.getContent=g.wrapperFor("content");g.bindWidgetShowEvents=function(){var a=function(){e()&&g.show()},b=g.options.displayEvent,c;!0===b.onPageLoad&&d.domReady(a);if(!C(b.initAttachedTo)){var f=r.getElements(b.initAttachedTo);for(c=0;c<f.length;c++)!0===b.onClick&&r.addEvent(f[c],"click",a),!0===b.onMouseOver&&r.addEvent(f[c],
"mouseover",a),!0===b.onMouseOut&&r.addEvent(f[c],"mouseout",a)}if(b.delay){var k=1E3*parseInt(b.delay,10);if(b.startAfterIdle){var l;r.addEvent(document,"ontouchstart"in window?"touchmove":"mousemove",function(){window.clearTimeout(l);l=window.setTimeout(a,k)})}else window.setTimeout(a,k)}b.onLosePageFocus&&(r.addEvent(window,"blur",a),r.addEvent(window,"pagehide",a));b.onViewportMouseOut&&r.addEvent(document,"mouseout",function(a){(a=a.relatedTarget||a.toElement)&&"html"!==a.nodeName.toLowerCase()||
e()&&g.show()});if(!C(b.onCustomEvent))d.on(b.onCustomEvent,a)};g.bindDismissEvents=function(){var a=g.getWrapper(),b=g.options.closeEvent;if(b.onDismissButton&&!C(b.dismissElements))for(a=r.getElements(b.dismissElements,a),b=0;b<a.length;b++)r.addEvent(a[b],"click",g.dismiss)};g.bindCloseEvents=function(){function a(c){var d=r.getElements(g.options.displayEvent.initAttachedTo||""),e=g.getWrapper(),e=r.getElements("*:not(."+g.selectors.overlay+")",e);if(~Y(d,c.target)||~Y(e,c.target))return!1;b()}
var b=g.hide;g.options.closeEvent.onClickOutside&&(r.addEvent(document,"click",a),r.addEvent(window,"keydown",function(a){27===(K(a.which)?a.keyCode:a.which)&&b()}))};g.show=function(){var a=g.getWrapper();r.show(a);for(a=0;a<L.length;a++)L[a].call(null);p=!0};g.hide=function(){var a=g.getWrapper();c.hide(a);p=!1};g.dismiss=function(){g.hide();for(var a=0;a<x.length;a++)x[a].call(null)};g.destroy=function(){var a=g.getWrapper();a&&a.parentNode&&a.parentNode.removeChild(a)};g.getOptions=function(){return g.options};
g.isShown=function(){return p};g.subscribeFunctionOnImgsLoads=function(a){for(var b=r.getElements("img"),c=0;c<b.length;c++)r.addEvent(b[c],"load",a)};g.init=function(){g.options=g.mergeWithDefaultWidgetOptions(a);g.validateOptions(g.options);x.push(k);L.push(m);g.createWidgetDom();g.bindWidgetShowEvents()}});a.exports=f},Lightbox:function(a,f,h){a.config={singleton:!1};f=f("BaseWidget").extend(function(){function a(){var c=b.getOverlay(),d=b.options.appearance,g={display:"block",position:"fixed",
top:"0px",left:"0px",height:"100%",width:"100%"};d.fadeEnabled?(g["background-color"]=d.fadeColor,g.opacity=parseFloat(d.opacity)):g.opacity=0;e.updateElementStyle(c,O(g))}function f(){var a=b.getContentWrapper(),d=b.options.appearance,g={};g["background-color"]=d.backgroundColor;g.position="fixed";d.autofit?(g.display="inline-block",g.width="auto",g.height="auto"):(g.width=d.width,g.height=d.height);e.updateElementStyle(a,O(g))}function m(){var a=b.getContentWrapper();e.updateElementStyle(a,O({top:0,
left:0}));var d={},g=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,f=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,k=parseInt(e.getStyle(a,"width"),10),l=parseInt(e.getStyle(a,"height"),10),h=(f<l?f-30:l)/2;d.position=f<l+h-60?"absolute":"fixed";d.top="50%";d.left="50%";d["margin-top"]=-1*h+"px";d["margin-left"]=(g<k?g:k)/2*-1+"px";e.updateElementStyle(a,O(d))}var k=h("Dom"),e=h("DomPlain"),b=this,d=b.base;b.type="Lightbox";
b.widgetOverlay=null;b.getOverlay=b.wrapperFor("overlay");b.mergeWithDefaultWidgetOptions=function(a){return V({appearance:{backgroundColor:"#FFFFFF",fadeEnabled:!0,fadeColor:"#000000",opacity:.8,autofit:!0},displayEvent:{},closeEvent:{onDismissButton:!0,onClickOutside:!0},showFrequency:{always:!0,neverAfterDismiss:!0}},a)};b.show=function(){a();f();m();b.subscribeFunctionOnImgsLoads(m);d.show()};b.createWidgetDom=function(){b.wrapper=document.createElement("div");b.wrapper.setAttribute(b.selectors.guidAttr,
b.options.guid);e.addClass(b.wrapper,b.selectors.wrapper);k.hide(b.wrapper);b.target.appendChild(b.wrapper);b.widgetOverlay=document.createElement("div");e.addClass(b.widgetOverlay,b.selectors.overlay);b.wrapper.appendChild(b.widgetOverlay);a();k.bringToFront(b.widgetOverlay);b.contentWrapper=document.createElement("div");e.addClass(b.contentWrapper,b.selectors.contentWrapper);b.wrapper.appendChild(b.contentWrapper);b.contentWrapper.innerHTML=b.options.content;b.addClassesAndIdContentElements();f();
k.bringToFront(b.contentWrapper);b.bindCloseEvents();b.bindDismissEvents()};b.init()});a.exports=f},Notification:function(a,f,h){a.config={singleton:!1};f=f("BaseWidget").extend(function(){var a=h("Dom"),f=h("DomPlain"),m=this,k=m.base;m.type="Notification";m.mergeWithDefaultWidgetOptions=function(a){return V({appearance:{backgroundColor:"#FFFFFF"},displayEvent:{},closeEvent:{onDismissButton:!0},showFrequency:{always:!0}},a)};m.createWidgetDom=function(){m.wrapper=document.createElement("div");m.wrapper.setAttribute(m.selectors.guidAttr,
m.options.guid);f.addClass(m.wrapper,m.selectors.wrapper);a.hide(m.wrapper);m.target.appendChild(m.wrapper);m.contentWrapper=document.createElement("div");f.addClass(m.contentWrapper,m.selectors.contentWrapper);m.contentWrapper.innerHTML=m.options.content;m.wrapper.appendChild(m.contentWrapper);m.addClassesAndIdContentElements();m.bindCloseEvents();m.bindDismissEvents()};m.show=function(){var a=m.getWrapper(),b,d=m.options.appearance;C(d.insertWithin)?C(d.insertAbove)?C(d.insertBelow)||(b=f.getElements(d.insertBelow)[0])&&
b.parentElement.insertBefore(a,b.nextSibling):(b=f.getElements(d.insertAbove)[0])&&b.parentElement.insertBefore(a,b):(b=f.getElements(d.insertWithin)[0])&&b.appendChild(a);if(b){a=m.getContentWrapper();b=m.getContent();var d=m.options.appearance,c={},l={};l["background-color"]=d.backgroundColor;d.autofit?(c.display="inline-block",c.width="auto",c.height="auto"):(c.width=d.width,c.height=d.height,c["margin-left"]="auto",c["margin-right"]="auto",l.width="100%",l.height="100%");f.updateElementStyle(b,
O(l));f.updateElementStyle(a,O(c));k.show()}};m.hide=function(){var a=m.getWrapper();m.target.appendChild(a);k.hide()};m.init()});a.exports=f},Callout:function(a,f,h){a.config={singleton:!1};f=f("BaseWidget").extend(function(){function a(b){return"top"===b}function f(a){return"bottom"===a}function m(a){return"left"===a}function k(a){return"right"===a}function e(a){return"center"===a}function b(a){a=a.getBoundingClientRect();var b=K(window.pageXOffset)?document.documentElement.scrollLeft:window.pageXOffset,
c=K(window.pageYOffset)?document.documentElement.scrollTop:window.pageYOffset,d=a.top+c,e=a.left+b,c=a.bottom+c,b=a.right+b;return{top:d,left:e,bottom:c,right:b,width:a.width||b-e,height:a.height||c-d}}function d(a){var b=(a||"").split(" ");a=I(b[0]||"left").toLowerCase();b=I(b[1]||"top").toLowerCase();return{side:a,part:b}}function c(a){var b=(a||"").split(" ");a=parseInt(b[0]||0,10);b=parseInt(b[1]||0,10);return{side:a,part:b}}function r(g,h,n,r){function p(){m(y.part)?t.left=w.part:e(y.part)?t.left=
q.width/2-T/2+w.part:k(y.part)&&(t.left=q.width-T-w.part)}function v(){a(y.part)?t.top=w.part:e(y.part)?t.top=q.height/2-F/2+w.part:f(y.part)&&(t.top=q.height-F-w.part)}var t={},y=d(n),w=c(r),q={};if("page"===h||"viewport"===h)q.top=q.right=q.bottom=q.left=0,"page"===h?(n=b(document.body),q.width=n.width,q.height=n.height):(q.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,q.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight);
if(g=x.getElements(g)[0]){g=b(g);var T=g.width,F=g.height;m(y.side)?(v(),t.left=w.side):k(y.side)?(v(),t.left=q.width-T-w.side):f(y.side)?(p(),t.top=q.height-F-w.side):a(y.side)?(p(),t.top=w.side):e(y.side)&&e(y.part)&&(t.left=q.width/2-T/2+w.side,t.top=q.height/2-F/2+w.part);t.position="viewport"===h?"fixed":"absolute";return t}}function g(g,h,n,r){function p(){a(y.part)?t.top=q.top-w.part:e(y.part)?t.top=q.top+q.height/2-F/2+w.part:f(y.part)&&(t.top=q.bottom-F+w.part)}function v(){m(y.part)?t.left=
q.left-w.part:e(y.part)?t.left=q.left+q.width/2-T/2+w.part:k(y.part)&&(t.left=q.right-T+w.part)}var t={},y=d(n),w=c(r),q={};if(h){h=x.getElements(h)[0];if(!h)return;q=b(h)}if(g=x.getElements(g)[0]){h=b(g);var T=h.width,F=h.height;g=g.offsetParent||document.body;h=x.getStyle(g,"position");if("relative"===h||"absolute"===h||"fixed"===h)g=b(g),q.top-=g.top,q.left-=g.left,q.right=q.left+q.width,q.bottom=q.top+q.height;m(y.side)?(p(),t.left=q.left-T-w.side):k(y.side)?(p(),t.left=q.right+w.side):a(y.side)?
(v(),t.top=q.top-F-w.side):f(y.side)?(v(),t.top=q.bottom+w.side):e(y.side)&&e(y.part)&&(t.left=q.left+q.width/2-T/2+w.part,t.top=q.top+q.height/2-F/2+w.part);t.position="absolute";return t}}function p(){function c(a,b){b=b||"px";var d=["z-index"],e={},f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];U(g)&&0!==g&&!~Y(d,f)&&(g+=b);e[f]=g}return e}function h(a){return{top:"bottom",bottom:"top",left:"right",right:"left"}[a]}function v(a,b){x.updateElementStyle(a,O(b));x.updateElementStyle(a.children[0],
O({width:0,height:0}))}function Q(c,g,u,n){function r(b){var d,g="side"===b?"part":"side";a(A[b])||f(A[b])?d=0>c.top&&E.bottom+v.height<p.height||c.top+v.height>p.height&&0<E.top-v.height?h(A[b]):A[b]:k(A[b])||m(A[b])?d=0>c.left&&E.right+v.width<p.width||c.left+v.width>p.width&&0<E.left-v.width?h(A[b]):A[b]:e(A[b])&&(d=a(A[g])||f(A[g])?0>c.left?"right":c.left+v.width>p.width?"left":A[b]:m(A[g])||k(A[g])?0>c.top?"top":c.top+v.height>p.height?"bottom":A[b]:A[b]);return d}var p={width:window.innerWidth||
document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},t=K(window.pageXOffset)?document.documentElement.scrollLeft:window.pageXOffset,q=K(window.pageYOffset)?document.documentElement.scrollTop:window.pageYOffset,v=V({},b(u));u=x.getElements(n)[0];var E=b(u),A=d(g);c=V({},c);c.top-=q;c.left-=t;v.top-=q;v.left-=t;v.bottom-=q;v.right-=t;g=r("side");t=r("part");return g+" "+t}var E=n.getContentWrapper(),
D=n.options.appearance,t=n.options.appearance.position,y,w=t.at;y={};x.updateElementStyle(E,O({top:0,left:0}));if("page"===t.relativeTo||"viewport"===t.relativeTo)y=r(E,t.relativeTo,w,t.offset),y=c(y);else if(!C(t.relativeTo)){y=g(E,t.relativeTo,w,t.offset);if(t.viewportDetection){var q=Q(y,w,E,t.relativeTo);q!==w&&(w=q,y=g(E,t.relativeTo,w,t.offset))}y=c(y)}x.updateElementStyle(E,O(y));(function(e,F,H){function r(b){b=a(b)||f(b)?"width":m(b)||k(b)?"height":void 0;b=Math.ceil(3*Math.log(U[b]));return 7>
b?7:b}function p(a){var b=Q+"px solid "+D.backgroundColor,c=Q+"px solid transparent";return V(S,{top:{"border-bottom":b,"border-left":c,"border-right":c},bottom:{"border-top":b,"border-left":c,"border-right":c},right:{"border-top":c,"border-bottom":c,"border-left":b},left:{"border-top":c,"border-bottom":c,"border-right":b}}[a])}function t(a,b){var c=a;b&&2*a>b&&(c=b-a,c=0>c?0:c);return c}var q=n.getContent(),w=n.getPointer(),y=w&&w.children[0],Q,B,K=!1,C=1,N=1,I=0,J=0,R="0 ",P={},S={width:0,height:0,
"border-top":"none","border-bottom":"none","border-left":"none","border-right":"none"};if(F){var W=d(e),U=b(E);B=W.part;"page"===H||"viewport"===H?(G(F)?(H=d(F),e=H.side,B=H.part,K=e!==W.side&&e!==W.part):(e=W.side,F=e+" "+B),N=-1):(e=h(W.side),F=e+" "+B,C=-1,H=x.getElements(H)[0],P=b(H));Q=r(e);H=p(e);x.updateElementStyle(w,O(H));H=b(w);W=a(B)||f(B)?t(H.height,P.height):0;P=m(B)||k(B)?t(H.width,P.width):0;a(e)?(J=H.height,R+=-P):f(e)?(J=H.height*N*C,R+=-P):m(e)?(I=H.width,R+=-W):k(e)&&(I=H.width*
N*C,R+=-W);K||L.freeMove(E,I,J);F=c(g(w,q,F,R));x.updateElementStyle(w,O(F));y&&(w=y.children[0],F=Math.sqrt(2*Math.pow(Q,2)),q={margin:0,padding:0,"box-shadow":x.getStyle(q,"box-shadow"),transform:"rotate(45deg)",position:"absolute","z-index":-1,width:F,height:F},C={position:"absolute",overflow:"hidden",top:-Q,left:-Q,width:2*H.width,height:2*H.height},I=Q-F/2+H.width/2,J=-Q-H.width/2,R=Q-F/2+H.height/2,H=-Q-H.height/2,a(e)?(q.top=2*Q-F/2,q.left=I,C.left=J):f(e)?(q.top=-F/2,q.left=I,C.left=J):m(e)?
(q.top=R,q.left=2*Q-F/2,C.top=H):k(e)&&(q.top=R,q.left=-F/2,C.top=H),x.updateElementStyle(y,O(c(C))),x.updateElementStyle(w,O(c(q))))}else v(w,S)})(w,t.pointer,t.relativeTo)}var L=h("Dom"),x=h("DomPlain"),n=this,D=n.base;n.type="Callout";n.pointer=null;n.mergeWithDefaultWidgetOptions=function(a){return V({appearance:{backgroundColor:"#FFFFFF",autofit:!0,position:{at:"top left",relativeTo:"viewport"}},displayEvent:{},closeEvent:{onDismissButton:!0},showFrequency:{always:!0}},a)};n.getPointer=n.wrapperFor("pointer");
n.createWidgetDom=function(){n.wrapper=document.createElement("div");n.wrapper.setAttribute(n.selectors.guidAttr,n.options.guid);x.addClass(n.wrapper,n.selectors.wrapper);L.hide(n.wrapper);n.target.appendChild(n.wrapper);n.contentWrapper=document.createElement("div");x.addClass(n.contentWrapper,n.selectors.contentWrapper);n.contentWrapper.innerHTML=n.options.content;n.wrapper.appendChild(n.contentWrapper);L.bringToFront(n.contentWrapper);n.addClassesAndIdContentElements();n.pointer=document.createElement("span");
x.addClass(n.pointer,n.selectors.pointer);x.updateElementStyle(n.pointer,O({width:0,height:0,margin:0,padding:0,display:"inline-block"}));n.contentWrapper.appendChild(n.pointer);var a=document.createElement("div");n.pointerShadow=document.createElement("div");n.pointerShadow.appendChild(a);n.pointer.appendChild(n.pointerShadow);n.bindCloseEvents();n.bindDismissEvents()};n.show=function(){var a=n.getContentWrapper(),b=n.getContent(),c=n.options.appearance,d={},e={};e["background-color"]=c.backgroundColor;
c.autofit?(d.display="inline-block",d.width="auto",d.height="auto"):(d.width=c.width,d.height=c.height,e.width="100%",e.height="100%");e=V(d,e);x.updateElementStyle(b,O(e));x.updateElementStyle(a,O(d));p();n.subscribeFunctionOnImgsLoads(p);D.show()};n.init()});a.exports=f},Widgets:function(a,f,h){a.config={singleton:!0};f=f("Class").extend(function(){var a=this;this.createLightbox=function(a,f){a.guid=f;h("Lightbox",a)};this.createNotification=function(a,f){a.guid=f;h("Notification",a)};this.createCallout=
function(a,f){a.guid=f;h("Callout",a)};this.getWrapper=function(){return B(a,"createLightbox","createCallout","createNotification")}});a.exports=f},Dlp:function(a,f,h){a.config={singleton:!0};var l=f("Class").extend(function(a){function l(a){if(a.origin===x){a=a.data;var b;try{b=JSON.parse(a)}catch(c){p.log("Can not parse message,\nbecause of: "+c.message+"\nerror with object:",a)}if(b)if(b.request)try{b.command&&D[b.command](b)}catch(d){p.log('Can not execute "'+b.command+'" request command,\nbecause error occurred: '+
d.message)}else if(b.error&&p.log(b.error),a=v[b.hash]){try{b.error?a.reject({error:b.error,data:b.data}):a.resolve(b.data)}catch(e){p.log(e)}delete v[b.hash]}}}function k(a,b){return{hash:ca(),command:a,data:b}}function e(a){try{window.parent.postMessage(JSON.stringify(a),x)}catch(b){p.log("Can not send event through post message,\nbecause of: "+b.message+"\nerror with object:",a);var c=v[a.hash];c&&(c.reject({error:b,data:void 0}),delete v[a.hash])}}function b(a){var b=new r;v[a.hash]=b;e(a);return b.promise()}
function d(a,b,c){return function(){for(var d={},e=0;e<c.length;e++)d[c[e]]=arguments[e];return a(k(b,d))}}var c=this,r=f("Deferred"),g=h("Action"),v={},L=new r,x=a.dlpOrigin,n={},D={console:function(a){a=a.data;p[a.method](a.message)},raiseEvent:function(a){n[a.data.handlerHash]()},"Action.sendActions":function(a){a=a.data.args;var b=a[2];a[2]=function(){e(k("runCallback",{handler:b}))};g.sendActions.apply(g,a)}};this.parentReady=function(a){L.done(ja(a));return"resolved"===L.state()};this.proxy=
function(a,c,d){return function(){var f={args:J(arguments),promised:d};return(d?b:e)(k(a+"."+c,f))}};this.trackClicks=function(a,b,c,d){e(k("Dom.trackClicks",{args:[a,b,c]}))};this.addListener=function(a,b,c){a=k("Dom.addListener",{selector:a,eventName:b});var d,f;for(f in n)if(n.hasOwnProperty(f)&&n[f]===c){d=f;break}f=a.data;d?f.handlerHash=d:(f.handlerHash=ca(),n[f.handlerHash]=c);e(a)};this.removeListener=function(a,b,c){a=k("Dom.removeListener",{selector:a,eventName:b});for(var d in n)if(n.hasOwnProperty(d)&&
n[d]===c){a.data.handlerHash=d;e(a);break}};this.checkNodeExist=d(b,"checkNodeExist",["selector"]);this.navigateTo=d(e,"navigateTo",["url"]);addEventListener?addEventListener("message",l,!1):attachEvent("onmessage",l);L=b(k("parentReady"));this.isDlpEnabled=function(){return!0};this.getWrapper=function(){return B(c,"isDlpEnabled")}});a.basic=function(){var a=this;this.getWrapper=function(){return B(a,"isDlpEnabled")};this.isDlpEnabled=function(){return!1}};a.dlp=l},Modules:function(a,f,h){var l=f("Class");
h=l.extend(function(){var a=this,h={cgapi:{},campaign:{alias:"Campaign",args:["campaignData"]},site:{alias:"Site"},renderer:{alias:"Renderer",args:["campaign"]},element:{},html:{},css:{},Deferred:{},when:{},events:{alias:"Events"},actions:{alias:"Action"},visitor:{alias:"Visitor"},modules:{alias:"Modules"},dom:{alias:"Dom"},cookies:{alias:"Cookies"},style:{alias:"Style"},recommendations:{}},k=[],e=[],b={};this.define=function(a,b,h){if(!a||"string"!==typeof a)return p.log("Invalid module alias ( "+
a+" )."),this;if(k[a])return k[a].reserved?p.log("Reserved name can not be used ( "+a+" )."):p.log("Module with this alias already defined  ( "+a+" )."),this;"function"===typeof b?(h=b,b={}):"string"===typeof b?b={extend:b}:b&&"object"===typeof b||(b={});"undefined"===typeof b.singleton&&(b.singleton=!0);"undefined"===typeof b.autoDefine&&(b.autoDefine=!0);if("undefined"!==typeof b.extend&&("string"!==typeof b.extend||!b.extend))return p.log("Invalid parent alias ( "+b.extend+" )"),this;if(b.extend&&
(!k[b.extend]||k[b.extend].reserved&&!k[b.extend].standard))return p.log("Parent module is not defined ( "+b.extend+" )"),this;if(!h||"function"!==typeof h)return p.log("Invalid module function ( "+a+" )."),this;var g;if(b.extend){var m=k[b.extend],z;m.reserved&&m.standard?(z=f(m.standard),"undefined"===typeof z.extend&&(z=l.extend(z)),g=m.args):z=m.func;h=z.extend(h)}else h=l.extend(h);k[a]={func:h,extend:b.extend,extendArgs:g,reserved:!1,singleton:b.singleton,autoDefine:b.autoDefine};!0===b.autoDefine&&
e.push(a);return this};this.require=function(a){if(a&&"string"===typeof a){var c=k[a];if(c&&!0!==c.reserved){a=c.instance;if(!a||!c.singleton)if(c.extendArgs){var e=[],f;for(f in c.extendArgs)c.extendArgs.hasOwnProperty(f)&&e.push(b[c.extendArgs[f]]);var h=function(){h.prototype=c.func.prototype;return c.func.apply(this,e)};a=new h}else a=new c.func;if(c.singleton){c.instance=a;f={};var l=a,m;for(m in l)l.hasOwnProperty(m)&&(f[m]="function"===typeof l[m]?function(a){return function(){return l[a].apply(l,
arguments)}}(m):l[m]);a=f}return a}p.log("Module is not registered ( "+a+" ).")}else p.log("Invalid module alias ( "+a+" ).")};this.getWrapper=function(d){d&&(b=d);return B(a,"define","require")};this.mergeInstances=function(b){b=b||{};for(var c in e)if(e.hasOwnProperty(c)){var f=e[c];b[f]||(b[f]=a.require(f))}return b};(function(){for(var a in h)if(h.hasOwnProperty(a)){var b=h[a];k[a]=b&&b.alias?{reserved:!0,standard:b.alias,args:b.args}:{reserved:!0}}}).call(a)});a.exports=h},Vcb:function(a,f,h){a.config=
{singleton:!0};f=f("Class").extend(function(a){var f=this;a=(a=a.vcbParams)||{isVcbActive:!1,maxZindex:12E5,registerLoop:function(){},useZindex:function(){return!0},registerClickAction:function(){return null}};P(a,function(a,k){f[k]=a})});a.exports=f},Recommendations:function(a,f,h){a.config={singleton:!1};var l=f("Class").extend(function(a){var l=this,k=h("CGApi"),e=f("Deferred");this.setCategoryFilter=function(a,d,c){k.setCategoryFilter(a,d,c);return this};this.setProductFilter=function(a,d,c){k.setProductFilter(a,
d,c);return this};this.requestPage=function(a){var d=e();k.request(a,function(a){a?d.resolve():d.reject()});return d.promise()};this.getProducts=function(){return a};this.getWrapper=function(){return B(l,"setCategoryFilter","setProductFilter","requestPage","getProducts")}});a.exports=l}};mmInitCallback(function(a,f,h){new function(a,f,h,k){function e(){var a=location.search;if(window.parent!==window.self&&-1!==a.indexOf("original-url")&&(a=a.replace(/^\?/,"").split("&"),a=aa(a,function(a){return 0===
a.indexOf("original-url")}))){var b,c;try{b=decodeURIComponent(a).split("=").slice(1).join("="),c=/http(s)?:\/\/.*?([^/]|$)+/.exec(b)[0]}catch(d){return}return c}}function b(a,b,c){function d(a){a.apply({},f)}c=c.replace(/[^a-z0-9_]*/gi,"");b=w.mergeInstances(b);var e=[],f=[];N(k.scriptArgumentsWrapper)&&(b=k.scriptArgumentsWrapper(b));for(var g in b)b.hasOwnProperty(g)&&(e.push(g),f.push(b[g]));a="var applier = arguments[2];var scriptName = arguments[1];function "+c+"(){\nfunction inner_"+c+"("+
e.join(",")+"){\n"+a+"\n}try {\n applier(inner_"+c+");\n} catch (e) {\ne.message = 'Error in '+scriptName+': ' + e.message;\nconsole.error(e);\n};};\n"+c+"();//# sourceURL="+c+".js";try{ma.apply({},[a,c,d])}catch(h){h.message="Error in "+c+": "+h.message,p.error(h)}}function d(a){return"1.8"===a.HighLevelApiVersion}function c(a){a=A.require("Renderer",a);a.constructor=void 0;return a}function r(a){var b=x();b.modules=w.getWrapper(a);b.campaign=a.campaign.getContext();b.renderer=c(a.campaign);return b}
function g(a){if(a=t[a])return a=r({campaign:a}),a=w.mergeInstances(a)}function v(){var a=B();return a=w.mergeInstances(a)}function B(){var a=x();a.modules=w.getWrapper({});return a}function x(){return{site:y.getContext(),Deferred:A.requireClass("Deferred"),when:A.requireClass("When"),events:D.events.getWrapper(),actions:A.require("Action").getWrapper(),visitor:A.require("Visitor").getWrapper(),dom:A.require("Dom").getWrapper(),widgets:A.require("Widgets").getWrapper(),dlp:A.require("Dlp").getWrapper(),
cookies:A.require("Cookies").getWrapper(),recommendations:A.require("Recommendations",J).getWrapper()}}function n(c){q||(y=A.require("Site"),w=A.require("Modules"),q=!0);if(!k.skipPersistentData)for(var e=c.PersistData||[],f=e.length;f--;)a.setParam(e[f].Name,e[f].Value,a.baseStorage.storeStrategy.persistent,e[f].Expiration);var f,e=[],h=Z(c.Campaigns||[],d),m=Z(c.Scripts||[],d),n=A.requireClass("Campaign");for(f=0;f<m.length;f++)e.push({script:m[f]});for(f=0;f<h.length;f++){m=h[f].Name;t[m]?t[m].updateData(h[f]):
t[m]=new n(h[f]);J[m]=t[m].getRecommendations();for(var p=0;p<h[f].Scripts.length;p++)e.push({script:h[f].Scripts[p],campaign:t[m],campaignData:h[f]})}y.setPageExperiences(c.GenInfo||{});C=c.ServerAttributes;e.sort(function(a,b){return a.script.Order-b.script.Order});for(f=0;f<e.length;f++)c=e[f].script.Data,h=e[f].script.Name,(n=e[f].campaign)?(m=e[f].campaignData,b(c,r(e[f],{campaignData:m,campaign:n}),m.Name+"_"+h)):b(c,B(),"Site_"+h);k.debug&&(k.debug["1.8"]={context:{getSiteScriptArguments:v,
getCampaignScriptArguments:g}})}k=k||{};var D=this,u=[1,0];if(a.version.split(".")[0]!=u[0]||a.version.split(".")[1]<u[1])p.log("Loader have non compatible version with High level API.");else{var C={},u=e(),A=new la({Engine:D},h,{isDlpEnabled:!K(u),dlpOrigin:u,vcbParams:k.vcbParams,cookieDomain:a.calcCookieDomain||a.cookie_domain||window.location.hostname.replace(/^www\./i,""),moduleExtensions:k.moduleExtensions});A.addModule("BaseStorage",function(b){b.config={singleton:!1};b.exports=function(b){return a.baseStorage(b.namespace)}});
A.addModule("Engine",function(a){a.config={singleton:!0}});var I=A.require("BaseStorage",{namespace:"mmengine"}),E={persistent:0,deferredRequest:1,request:2,page:3};this.storeStrategy=E;var G=[];G[E.page]={};G[E.request]={};var t={},y,w,q,J={};this.setParam=function(b,c,d,e){if(k.useLoaderStorage)a.setParam(b,c,d,e);else switch(d){case E.persistent:case E.deferredRequest:a.setParam(b,c,d);break;case E.request:case E.page:G[d][b]=c;break;default:p.log("Unknown store strategy: "+d)}};this.getParam=
function(b,c){if(k.useLoaderStorage)return a.getParam(b,c);switch(c){case E.persistent:case E.deferredRequest:return a.getParam(b,c);case E.request:case E.page:return G[c][b];default:p.log("Unknown store strategy: "+c)}};this.setData=function(a,b,c){I.set(a,b,c)};this.getData=function(a){return I.get(a)};this.clearData=function(a){I.set(a,null,-1)};this.getServerAttrs=function(){return C};this.CGRequest=function(b){var c;k.useLoaderStorage||(c=a.mergeParams(G[E.page],G[E.request]),G[E.request]={});
a.CGRequest(function(a){N(b)&&b(a)},c)};this.runElementScript=function(a,d,e,f){d=a.getElement(d);var g=x();g.modules=w.getWrapper();g.campaign=a.getContext();g.renderer=c(a);g.element=d.clone();g.html=e.html;g.css=e.css;g.recommendations=A.require("Recommendations",a).getWrapper();b(f,g,a.getName()+"_"+d.Name+"_"+d.VariantName)};this.events=A.require("Events");k.skipResponseProcessing||n(f);a.on("response",n)}}(a,f,na,h)})})()})();
