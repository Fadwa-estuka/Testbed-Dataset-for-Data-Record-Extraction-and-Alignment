window.headertag=window.headertag||{},function(){"use strict";var e={};e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},e.divIdToSlot=function(t){for(var i=e.getSlots(),n=0,r=i.length;r>n;n++)if(i[n].getSlotElementId()===t)return i[n];return null},e.getDivIdToSlotMap=function(t){t||(t=e.getSlots());for(var i={},n=0,r=t.length;r>n;n++)i[t[n].getSlotElementId()]=t[n];return i},e.getDivIds=function(t){t||(t=e.getSlots());for(var i=[],n=0,r=t.length;r>n;n++)i.push(t[n].getSlotElementId());return i},e.objToQueryString=function(e){var t="?";for(var i in e)e.hasOwnProperty(i)&&(t+=i+"="+e[i]+"&");return t.slice(0,-1)},e.generateCorrelator=function(){return"_"+String((new Date).getTime()%2592e6)+String(Math.floor(16384*Math.random()))},e.generateUUID=function(){var e="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".replace(/[x]/g,function(e){var t=16*Math.random()%16|0;return t.toString(16)});return e},e.getSlots=function(){return window.googletag&&window.googletag.apiReady?googletag.pubads().getSlots().slice():null},e.isInteger=function(e){return"number"==typeof e&&e%1===0},e.validateNonEmptyString=function(e,t){return!!(t&&!e||e&&"string"==typeof e)},e.validateFunction=function(e,t){return!!(t&&!e||e&&"function"==typeof e)},e.validateNonEmptyArray=function(t,i){return!!(i&&!t||t&&e.isArray(t)&&t.length)},e.validateNonEmptyObject=function(t,i){return!!(i&&!t||t&&"object"==typeof t&&!e.isEmpty(t))},e.validateInteger=function(t,i,n,r){return!!(r&&"number"!=typeof t||"number"==typeof t&&e.isInteger(t)&&("number"==typeof i?t>=i:!0)&&("number"==typeof n?n>=t:!0))},e.validateBoolean=function(e,t){return!!(t&&"boolean"!=typeof e||"boolean"==typeof e)},e.isMobile=function(){return-1!==navigator.userAgent.indexOf("Mobi")},e.now=function(){return(new Date).getTime()},e.addScriptTag=function(e,t,i){var n=document.createElement("script");n.type="text/javascript",n.async=t,n.src=("https:"===document.location.protocol?"https:":"http:")+e,n.onload=i,n.readyState&&(n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,i())});var r=document.getElementsByTagName("script")[0];return r.parentNode.insertBefore(n,r),n},e.localStorageSupported=function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}},e.getProtocol=function(){return"https:"===document.location.protocol?"https:":"http:"},e.getPageUrl=function(){try{return window.top.location.href}catch(e){return window.location.href}},e.requiresDocumentOpen=function(){try{return-1===navigator.userAgent.toString().toLowerCase().indexOf("msie")}catch(e){return!0}},e.randomSplice=function(e){return e.length?e.splice(Math.floor(Math.random()*e.length),1)[0]:null},window.headertag.Utils=e}(),window.headertag.Utils.isMobile()?window.headertag.pagetype="mobile":window.headertag.pagetype="desktop",window.headertagconfig={siteId:999914,timeout:1e3,enableSingleRequest:!1,disableInitialLoad:!0,partners:{INDX:{targetingType:"slot",prefetch:{enabled:!0,info:{desktop:{requiredIndexSlots:["1","2","3","4","5"]},mobile:{requiredIndexSlots:["11","12"]}}}},RUBI:{targetingType:"slot",timeout:1e3,networkId:"12156",prefetch:{enabled:!1,info:{desktop:{divIds:["top","left"]},mobile:{divIds:["mobile"]}}},uniqueTargeting:"pos"},FB:{disabled:!0,timeout:1e3,debug:!0,appId:"743604429120938",targetingType:"slot",dynamicMapping:!0,uniqueTargeting:"pos",roundingBuckets:{type:2,buckets:[{range:[0,20],granularity:.05},{range:[20,50],granularity:1}]},adUnits:{desktop:[],mobile:[]},prefetch:{enabled:!1,info:{}}},AOL:{targetingType:"slot",timeout:1e3,region:"na",networkId:"10434.1",apiVersion:"3.0",targetingKey:"aolbid",roundingBuckets:{type:1,buckets:[{range:[0,20],granularity:.05},{range:[20,50],granularity:1}]},placements:{}}}},/.*jezebel\.com/.test(location.href)&&(window.headertag.Utils.isMobile()?(window.headertagconfig.siteId=187399,window.headertagconfig.partners.RUBI.slots=[{siteId:"45534",zoneId:"200874",sizes:[["300","250"],["320","50"]],id:"mobile"},{siteId:"45534",zoneId:"200874",sizes:[["300","250"],["320","50"]],id:"mobile_bottom"},{siteId:"45534",zoneId:"505506",sizes:[["300","250"],["320","50"]],id:"mobile_inpost"}],window.headertagconfig.partners.FB.adUnits.mobile=[{code:"300x250_mobile",sizes:[[300,250],[320,50]],placementId:"743604429120938_743606169120764"},{code:"300x250_mobile_bottom",sizes:[[300,250],[320,50]],placementId:"743604429120938_743606169120764"},{code:"300x250_mobile_inpost",sizes:[[300,250],[320,50]],placementId:"743604429120938_743606169120764"}],window.headertagconfig.partners.AOL.placements={3996402:["300x250_mobile"],3996401:["320x50_mobile"],3996403:["300x250_mobile_bottom"],3996400:["320x50_mobile_bottom"],4267104:["300x250_mobile_inpost"],4267103:["320x50_mobile_inpost"]},window.headertagconfig.partners.AOL.prefetch={enabled:!0,info:{desktop:{divIds:[3996402,3996401]}}}):(window.headertagconfig.siteId=187389,window.headertagconfig.partners.RUBI.slots=[{siteId:"45532",zoneId:"200870",sizes:[["970","90"],["970","250"],["728","90"]],id:"top"},{siteId:"45532",zoneId:"200870",sizes:[["300","250"],["300","600"]],id:"left"},{siteId:"45532",zoneId:"200870",sizes:[["300","250"],["300","600"]],id:"left_dynamic"},{siteId:"45532",zoneId:"200870",sizes:[["970","250"],["728","90"]],id:"bottom"},{siteId:"45532",zoneId:"200870",sizes:[["300","250"]],id:"in_featured_post"}],window.headertagconfig.partners.AOL.placements={3946298:["728x90_top"],3946299:["300x250_left"],3946301:["300x250_left_dynamic"],3946300:["728x90_bottom"],4103348:["300x250_in_featured_post"]},window.headertagconfig.partners.AOL.prefetch={enabled:!0,info:{desktop:{divIds:[3946298,3946299]}}})),/.*gizmodo\.com/.test(location.href)&&(window.headertag.Utils.isMobile()?(window.headertagconfig.siteId=187287,window.headertagconfig.partners.RUBI.slots=[{siteId:"45530",zoneId:"200862",sizes:[["300","250"],["320","50"]],id:"mobile"},{siteId:"45530",zoneId:"200862",sizes:[["300","250"],["320","50"]],id:"mobile_bottom"},{siteId:"45530",zoneId:"505450",sizes:[["300","250"],["320","50"]],id:"mobile_inpost"}],window.headertagconfig.partners.FB.adUnits.mobile=[{code:"300x250_mobile",sizes:[[300,250],[320,50]],placementId:"743604429120938_743606079120773"},{code:"300x250_mobile_bottom",sizes:[[300,250],[320,50]],placementId:"743604429120938_743606079120773"},{code:"300x250_mobile_inpost",sizes:[[300,250],[320,50]],placementId:"743604429120938_743606079120773"}],window.headertagconfig.partners.AOL.placements={3996392:["300x250_mobile"],3996393:["320x50_mobile"],3996390:["300x250_mobile_bottom"],3996391:["320x50_mobile_bottom"],4267093:["300x250_mobile_inpost"],4267092:["320x50_mobile_inpost"]},window.headertagconfig.partners.AOL.prefetch={enabled:!0,info:{desktop:{divIds:[3996392,3996393]}}}):(window.headertagconfig.siteId=187277,window.headertagconfig.partners.RUBI.slots=[{siteId:"45528",zoneId:"200858",sizes:[["970","90"],["970","250"],["728","90"]],id:"top"},{siteId:"45528",zoneId:"200858",sizes:[["300","250"],["300","600"]],id:"left"},{siteId:"45528",zoneId:"200858",sizes:[["300","250"],["300","600"]],id:"left_dynamic"},{siteId:"45528",zoneId:"200858",sizes:[["970","250"],["728","90"]],id:"bottom"},{siteId:"45528",zoneId:"200858",sizes:[["300","250"]],id:"in_featured_post"}],window.headertagconfig.partners.AOL.placements={3946287:["728x90_top"],3946289:["300x250_left"],3946290:["300x250_left_dynamic"],3946288:["728x90_bottom"],4103343:["300x250_in_featured_post"]},window.headertagconfig.partners.AOL.prefetch={enabled:!0,info:{desktop:{divIds:[3946287,3946289]}}})),/.*lifehacker\.com/.test(location.href)&&(window.headertag.Utils.isMobile()?(window.headertagconfig.siteId=187447,window.headertagconfig.partners.RUBI.slots=[{siteId:"45542",zoneId:"200898",sizes:[["300","250"],["320","50"]],id:"mobile"},{siteId:"45542",zoneId:"200898",sizes:[["300","250"],["320","50"]],id:"mobile_bottom"},{siteId:"45542",zoneId:"505510",sizes:[["300","250"],["320","50"]],id:"mobile_inpost"}],window.headertagconfig.partners.FB.adUnits.mobile=[{code:"300x250_mobile",sizes:[[300,250],[320,50]],placementId:"743604429120938_743606429120738"},{code:"300x250_mobile_bottom",sizes:[[300,250],[320,50]],placementId:"743604429120938_743606429120738"},{code:"300x250_mobile_inpost",sizes:[[300,250],[320,50]],placementId:"743604429120938_743606429120738"}],window.headertagconfig.partners.AOL.placements={3996408:["300x250_mobile"],3996411:["320x50_mobile"],3996410:["300x250_mobile_bottom"],3996409:["320x50_mobile_bottom"],4267144:["300x250_mobile_inpost"],4267145:["320x50_mobile_inpost"]},window.headertagconfig.partners.AOL.prefetch={enabled:!0,info:{desktop:{divIds:[3996408,3996411]}}}):(window.headertagconfig.siteId=187437,window.headertagconfig.partners.RUBI.slots=[{siteId:"45540",zoneId:"200894",sizes:[["970","90"],["970","250"],["728","90"]],id:"top"},{siteId:"45540",zoneId:"200894",sizes:[["300","250"],["300","600"]],id:"left"},{siteId:"45540",zoneId:"200894",sizes:[["300","250"],["300","600"]],id:"left_dynamic"},{siteId:"45540",zoneId:"200894",sizes:[["970","250"],["728","90"]],id:"bottom"},{siteId:"45540",zoneId:"200894",sizes:[["300","250"]],id:"in_featured_post"}],window.headertagconfig.partners.AOL.placements={3946172:["728x90_top"],3946171:["300x250_left"],3946173:["300x250_left_dynamic"],3946170:["728x90_bottom"],4103352:["300x250_in_featured_post"]},window.headertagconfig.partners.AOL.prefetch={enabled:!0,info:{desktop:{divIds:[3946172,3946171]}}})),/.*deadspin\.com/.test(location.href)&&(window.headertag.Utils.isMobile()?(window.headertagconfig.siteId=187463,window.headertagconfig.partners.RUBI.slots=[{siteId:"45522",zoneId:"200838",sizes:[["300","250"],["320","50"]],id:"mobile"},{siteId:"45522",zoneId:"200838",sizes:[["300","250"],["320","50"]],id:"mobile_bottom"},{siteId:"45522",zoneId:"505438",sizes:[["300","250"],["320","50"]],id:"mobile_inpost"}],window.headertagconfig.partners.FB.adUnits.mobile=[{code:"300x250_mobile",sizes:[[300,250],[320,50]],placementId:"743604429120938_743606485787399"},{code:"300x250_mobile_bottom",sizes:[[300,250],[320,50]],placementId:"743604429120938_743606485787399"},{code:"300x250_mobile_inpost",sizes:[[300,250],[320,50]],placementId:"743604429120938_743606485787399"}],window.headertagconfig.partners.AOL.placements={3996376:["300x250_mobile"],3996377:["320x50_mobile"],3996374:["300x250_mobile_bottom"],3996375:["320x50_mobile_bottom"],4267080:["300x250_mobile_inpost"],4267081:["320x50_mobile_inpost"]},window.headertagconfig.partners.AOL.prefetch={enabled:!0,info:{desktop:{divIds:[3996376,3996377]}}}):(window.headertagconfig.siteId=187453,window.headertagconfig.partners.RUBI.slots=[{siteId:"45520",zoneId:"200834",sizes:[["970","90"],["970","250"],["728","90"]],id:"top"},{siteId:"45520",zoneId:"200834",sizes:[["300","250"],["300","600"]],id:"left"},{siteId:"45520",zoneId:"200834",sizes:[["300","250"],["300","600"]],id:"left_dynamic"},{siteId:"45520",zoneId:"200834",sizes:[["970","250"],["728","90"]],id:"bottom"},{siteId:"45520",zoneId:"200834",sizes:[["300","250"]],id:"in_featured_post"}],window.headertagconfig.partners.AOL.placements={3946160:["728x90_top"],3946162:["300x250_left"],3946161:["300x250_left_dynamic"],3946163:["728x90_bottom"],4103339:["300x250_in_featured_post"]},window.headertagconfig.partners.AOL.prefetch={enabled:!0,info:{desktop:{divIds:[3946160,3946162]}}})),/.*kotaku\.com/.test(location.href)&&(window.headertag.Utils.isMobile()?(window.headertagconfig.siteId=187415,window.headertagconfig.partners.RUBI.slots=[{siteId:"45538",zoneId:"200886",sizes:[["300","250"],["320","50"]],id:"mobile"},{siteId:"45538",zoneId:"200886",sizes:[["300","250"],["320","50"]],id:"mobile_bottom"},{siteId:"45538",zoneId:"505508",sizes:[["300","250"],["320","50"]],id:"mobile_inpost"}],window.headertagconfig.partners.FB.adUnits.mobile=[{code:"300x250_mobile",sizes:[[300,250],[320,50]],placementId:"743604429120938_743605925787455"},{code:"300x250_mobile_bottom",sizes:[[300,250],[320,50]],placementId:"743604429120938_743605925787455"},{code:"300x250_mobile_inpost",sizes:[[300,250],[320,50]],placementId:"743604429120938_743605925787455"}],window.headertagconfig.partners.AOL.placements={3996406:["300x250_mobile"],3996405:["320x50_mobile"],3996404:["300x250_mobile_bottom"],3996407:["320x50_mobile_bottom"],4267142:["300x250_mobile_inpost"],4267143:["320x50_mobile_inpost"]},window.headertagconfig.partners.AOL.prefetch={enabled:!0,info:{desktop:{divIds:[3996406,3996405]}}}):(window.headertagconfig.siteId=187405,window.headertagconfig.partners.RUBI.slots=[{siteId:"45536",zoneId:"200882",sizes:[["970","90"],["970","250"],["728","90"]],id:"top"},{siteId:"45536",zoneId:"200882",sizes:[["300","250"],["300","600"]],id:"left"},{siteId:"45536",zoneId:"200882",sizes:[["300","250"],["300","600"]],id:"left_dynamic"},{siteId:"45536",zoneId:"200882",sizes:[["970","250"],["728","90"]],id:"bottom"},{siteId:"45536",zoneId:"200882",sizes:[["300","250"]],id:"in_featured_post"}],window.headertagconfig.partners.AOL.placements={3946306:["728x90_top"],3946307:["300x250_left"],3946308:["300x250_left_dynamic"],3946309:["728x90_bottom"],4103350:["300x250_in_featured_post"]},window.headertagconfig.partners.AOL.prefetch={enabled:!0,info:{desktop:{divIds:[3946306,3946307]}}})),/.*jalopnik\.com/.test(location.href)&&(window.headertag.Utils.isMobile()?(window.headertagconfig.siteId=187431,window.headertagconfig.partners.RUBI.slots=[{siteId:"45526",zoneId:"200850",sizes:[["300","250"],["320","50"]],id:"mobile"},{siteId:"45526",zoneId:"200850",sizes:[["300","250"],["320","50"]],id:"mobile_bottom"},{siteId:"45526",zoneId:"505504",sizes:[["300","250"],["320","50"]],id:"mobile_inpost"}],window.headertagconfig.partners.FB.adUnits.mobile=[{code:"300x250_mobile",sizes:[[300,250],[320,50]],placementId:"743604429120938_743606012454113"},{code:"300x250_mobile_bottom",sizes:[[300,250],[320,50]],placementId:"743604429120938_743606012454113"},{code:"300x250_mobile_inpost",sizes:[[300,250],[320,50]],placementId:"743604429120938_743606012454113"}],window.headertagconfig.partners.AOL.placements={3996397:["300x250_mobile"],3996396:["320x50_mobile"],3996398:["300x250_mobile_bottom"],3996399:["320x50_mobile_bottom"],4267100:["300x250_mobile_inpost"],4267099:["320x50_mobile_inpost"]},window.headertagconfig.partners.AOL.prefetch={enabled:!0,info:{desktop:{divIds:[3996397,3996396]}}}):(window.headertagconfig.siteId=187421,window.headertagconfig.partners.RUBI.slots=[{siteId:"45524",zoneId:"200846",sizes:[["970","90"],["970","250"],["728","90"]],id:"top"},{siteId:"45524",zoneId:"200846",sizes:[["300","250"],["300","600"]],id:"left"},{siteId:"45524",zoneId:"200846",sizes:[["300","250"],["300","600"]],id:"left_dynamic"},{siteId:"45524",zoneId:"200846",sizes:[["970","250"],["728","90"]],id:"bottom"},{siteId:"45524",zoneId:"200846",sizes:[["300","250"]],id:"in_featured_post"}],window.headertagconfig.partners.AOL.placements={3943620:["728x90_top"],3943623:["300x250_left"],3943622:["300x250_left_dynamic"],3943621:["728x90_bottom"],4103345:["300x250_in_featured_post"]},window.headertagconfig.partners.AOL.prefetch={enabled:!0,info:{desktop:{divIds:[3943620,3943623]}}})),/.*kinja\.com/.test(location.href)&&(window.headertag.Utils.isMobile()?(window.headertagconfig.siteId=187479,window.headertagconfig.partners.RUBI.slots=[{siteId:"76592",zoneId:"361122",sizes:[["300","250"],["320","50"]],id:"mobile"},{siteId:"76592",zoneId:"361122",sizes:[["300","250"],["320","50"]],id:"mobile_bottom"},{siteId:"76592",zoneId:"361122",sizes:[["300","250"],["320","50"]],id:"mobile_inpost"}],window.headertagconfig.partners.FB.adUnits.mobile=[{code:"300x250_mobile",sizes:[[300,250],[320,50]],placementId:"743604429120938_744780545669993"},{code:"300x250_mobile_bottom",sizes:[[300,250],[320,50]],placementId:"743604429120938_744780545669993"},{code:"300x250_mobile_inpost",sizes:[[300,250],[320,50]],placementId:"743604429120938_744780545669993"}],window.headertagconfig.partners.AOL.placements={4401867:["300x250_mobile"],4401860:["320x50_mobile"],4401859:["300x250_mobile_bottom"],4401865:["320x50_mobile_bottom"],4401863:["300x250_mobile_inpost"],4401866:["320x50_mobile_inpost"]},window.headertagconfig.partners.AOL.prefetch={enabled:!0,info:{desktop:{divIds:[4401867,4401860]}}}):(window.headertagconfig.siteId=187469,window.headertagconfig.partners.RUBI.slots=[{siteId:"76590",zoneId:"361120",sizes:[["970","90"],["970","250"],["728","90"]],id:"top"},{siteId:"76590",zoneId:"361120",sizes:[["300","250"],["300","600"]],id:"left"},{siteId:"76590",zoneId:"361120",sizes:[["300","250"],["300","600"]],id:"left_dynamic"},{siteId:"76590",zoneId:"361120",sizes:[["970","250"],["728","90"]],id:"bottom"},{siteId:"76590",zoneId:"361120",sizes:[["300","250"]],id:"in_featured_post"}],window.headertagconfig.partners.AOL.placements={4401868:["728x90_top"],4401869:["300x250_left"],4401870:["300x250_left_dynamic"],4401872:["728x90_bottom"],4401871:["300x250_in_featured_post"]},window.headertagconfig.partners.AOL.prefetch={enabled:!0,info:{desktop:{divIds:[4401868,4401869]}}})),/.*theroot\.com/.test(location.href)&&(window.headertagconfig.partners.AOL.disabled=!0,window.headertag.Utils.isMobile()?(window.headertagconfig.siteId=189601,window.headertagconfig.partners.RUBI.slots=[{siteId:"115258",zoneId:"542924",sizes:[["300","250"],["320","50"]],id:"mobile"},{siteId:"115258",zoneId:"542924",sizes:[["300","250"],["320","50"]],id:"mobile_bottom"},{siteId:"115258",zoneId:"542924",sizes:[["300","250"],["320","50"]],id:"mobile_inpost"}]):(window.headertagconfig.siteId=189594,window.headertagconfig.partners.RUBI.slots=[{siteId:"115250",zoneId:"542840",sizes:[["970","90"],["970","250"],["728","90"]],id:"top"},{siteId:"115250",zoneId:"542840",sizes:[["300","250"],["300","600"]],id:"left"},{siteId:"115250",zoneId:"542840",sizes:[["300","250"],["300","600"]],id:"left_dynamic"},{siteId:"115250",zoneId:"542840",sizes:[["970","250"],["728","90"]],id:"bottom"}])),function(){"use strict";window.headertag.Q=function(){function e(e){return function(){return Q.apply(e,arguments)}}function t(e){return e===Object(e)}function i(e){return"[object StopIteration]"===ie(e)||e instanceof F}function n(e,t){if(C&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(ne)){for(var i=[],n=t;n;n=n.source)n.stack&&i.unshift(n.stack);i.unshift(e.stack);var o=i.join("\n"+ne+"\n");e.stack=r(o)}}function r(e){for(var t=e.split("\n"),i=[],n=0;n<t.length;++n){var r=t[n];a(r)||o(r)||!r||i.push(r)}return i.join("\n")}function o(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function s(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var i=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(i)return[i[1],Number(i[2])];var n=/.*@(.+):(\d+)$/.exec(e);return n?[n[1],Number(n[2])]:void 0}function a(e){var t=s(e);if(!t)return!1;var i=t[0],n=t[1];return i===W&&n>=G&&de>=n}function d(){if(C)try{throw new Error}catch(e){var t=e.stack.split("\n"),i=t[0].indexOf("@")>0?t[1]:t[2],n=s(i);if(!n)return;return W=n[0],n[1]}}function p(e,t,i){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t+" is deprecated, use "+i+" instead.",new Error("").stack),e.apply(e,arguments)}}function l(e){return e instanceof f?e:v(e)?O(e):T(e)}function c(){function e(e){t=e,o.source=e,V(i,function(t,i){l.nextTick(function(){e.promiseDispatch.apply(e,i)})},void 0),i=void 0,n=void 0}var t,i=[],n=[],r=Z(c.prototype),o=Z(f.prototype);if(o.promiseDispatch=function(e,r,o){var s=X(arguments);i?(i.push(s),"when"===r&&o[1]&&n.push(o[1])):l.nextTick(function(){t.promiseDispatch.apply(t,s)})},o.valueOf=function(){if(i)return o;var e=m(t);return y(e)&&(t=e),e},o.inspect=function(){return t?t.inspect():{state:"pending"}},l.longStackSupport&&C)try{throw new Error}catch(s){o.stack=s.stack.substring(s.stack.indexOf("\n")+1)}return r.promise=o,r.resolve=function(i){t||e(l(i))},r.fulfill=function(i){t||e(T(i))},r.reject=function(i){t||e(S(i))},r.notify=function(e){t||V(n,function(t,i){l.nextTick(function(){i(e)})},void 0)},r}function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=c();try{e(t.resolve,t.reject,t.notify)}catch(i){t.reject(i)}return t.promise}function h(e){return u(function(t,i){for(var n=0,r=e.length;r>n;n++)l(e[n]).then(t,i)})}function f(e,t,i){void 0===t&&(t=function(e){return S(new Error("Promise does not support operation: "+e))}),void 0===i&&(i=function(){return{state:"unknown"}});var n=Z(f.prototype);if(n.promiseDispatch=function(i,r,o){var s;try{s=e[r]?e[r].apply(n,o):t.call(n,r,o)}catch(a){s=S(a)}i&&i(s)},n.inspect=i,i){var r=i();"rejected"===r.state&&(n.exception=r.reason),n.valueOf=function(){var e=i();return"pending"===e.state||"rejected"===e.state?n:e.value}}return n}function g(e,t,i,n){return l(e).then(t,i,n)}function m(e){if(y(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function y(e){return e instanceof f}function v(e){return t(e)&&"function"==typeof e.then}function w(e){return y(e)&&"pending"===e.inspect().state}function I(e){return!y(e)||"fulfilled"===e.inspect().state}function b(e){return y(e)&&"rejected"===e.inspect().state}function _(){re.length=0,oe.length=0,ae||(ae=!0)}function x(e,t){ae&&("object"==typeof process&&"function"==typeof process.emit&&l.nextTick.runAfter(function(){-1!==$(oe,e)&&(process.emit("unhandledRejection",t,e),se.push(e))}),oe.push(e),t&&"undefined"!=typeof t.stack?re.push(t.stack):re.push("(no stack) "+t))}function D(e){if(ae){var t=$(oe,e);-1!==t&&("object"==typeof process&&"function"==typeof process.emit&&l.nextTick.runAfter(function(){var i=$(se,e);-1!==i&&(process.emit("rejectionHandled",re[t],e),se.splice(i,1))}),oe.splice(t,1),re.splice(t,1))}}function S(e){var t=f({when:function(t){return t&&D(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return x(t,e),t}function T(e){return f({when:function(){return e},get:function(t){return e[t]},set:function(t,i){e[t]=i},"delete":function(t){delete e[t]},post:function(t,i){return null===t||void 0===t?e.apply(void 0,i):e[t].apply(e,i)},apply:function(t,i){return e.apply(t,i)},keys:function(){return te(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function O(e){var t=c();return l.nextTick(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(i){t.reject(i)}}),t.promise}function P(e){return f({isDef:function(){}},function(t,i){return j(e,t,i)},function(){return l(e).inspect()})}function z(e,t,i){return l(e).spread(t,i)}function E(e){return function(){function t(e,t){var s;if("undefined"==typeof StopIteration){try{s=n[e](t)}catch(a){return S(a)}return s.done?l(s.value):g(s.value,r,o)}try{s=n[e](t)}catch(a){return i(a)?l(a.value):S(a)}return g(s,r,o)}var n=e.apply(this,arguments),r=t.bind(t,"next"),o=t.bind(t,"throw");return r()}}function R(e){l.done(l.async(e)())}function k(e){throw new F(e)}function A(e){return function(){return z([this,N(arguments)],function(t,i){return e.apply(t,i)})}}function j(e,t,i){return l(e).dispatch(t,i)}function N(e){return g(e,function(e){var t=0,i=c();return V(e,function(n,r,o){var s;y(r)&&"fulfilled"===(s=r.inspect()).state?e[o]=s.value:(++t,g(r,function(n){e[o]=n,0===--t&&i.resolve(e)},i.reject,function(e){i.notify({index:o,value:e})}))},void 0),0===t&&i.resolve(e),i.promise})}function q(e){if(0===e.length)return l.resolve();var t=l.defer(),i=0;return V(e,function(n,r,o){function s(e){t.resolve(e)}function a(){i--,0===i&&t.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))}function d(e){t.notify({index:o,value:e})}var p=e[o];i++,g(p,s,a,d)},void 0),t.promise}function U(e){return g(e,function(e){return e=J(e,l),g(N(J(e,function(e){return g(e,Y,Y)})),function(){return e})})}function M(e){return l(e).allSettled()}function B(e,t){return l(e).then(void 0,void 0,t)}function L(e,t){return l(e).nodeify(t)}var C=!1;try{throw new Error}catch(K){C=!!K.stack}var W,F,G=d(),Y=function(){},H=function(){function e(){for(var e,n;i.next;)i=i.next,e=i.task,i.task=void 0,n=i.domain,n&&(i.domain=void 0,n.enter()),t(e,n);for(;a.length;)e=a.pop(),t(e);r=!1}function t(t,i){try{t()}catch(n){if(s)throw i&&i.exit(),setTimeout(e,0),i&&i.enter(),n;setTimeout(function(){throw n},0)}i&&i.exit()}var i={task:void 0,next:null},n=i,r=!1,o=void 0,s=!1,a=[];if(H=function(e){n=n.next={task:e,domain:s&&process.domain,next:null},r||(r=!0,o())},"object"==typeof process&&"[object process]"===process.toString()&&process.nextTick)s=!0,o=function(){process.nextTick(e)};else if("function"==typeof setImmediate)o="undefined"!=typeof window?setImmediate.bind(window,e):function(){setImmediate(e)};else if("undefined"!=typeof MessageChannel){var d=new MessageChannel;d.port1.onmessage=function(){o=p,d.port1.onmessage=e,e()};var p=function(){d.port2.postMessage(0)};o=function(){setTimeout(e,0),p()}}else o=function(){setTimeout(e,0)};return H.runAfter=function(e){a.push(e),r||(r=!0,o())},H}(),Q=Function.call,X=e(Array.prototype.slice),V=e(Array.prototype.reduce||function(e,t){var i=0,n=this.length;if(1===arguments.length)for(;;){if(i in this){t=this[i++];break}if(++i>=n)throw new TypeError}for(;n>i;i++)i in this&&(t=e(t,this[i],i));return t}),$=e(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),J=e(Array.prototype.map||function(e,t){var i=this,n=[];return V(i,function(r,o,s){n.push(e.call(t,o,s,i))},void 0),n}),Z=Object.create||function(e){function t(){}return t.prototype=e,new t},ee=e(Object.prototype.hasOwnProperty),te=Object.keys||function(e){var t=[];for(var i in e)ee(e,i)&&t.push(i);return t},ie=e(Object.prototype.toString);F="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var ne="From previous event:";l.resolve=l,l.nextTick=H,l.longStackSupport=!1,"object"==typeof process&&process&&process.env&&process.env.Q_DEBUG&&(l.longStackSupport=!0),l.defer=c,c.prototype.makeNodeResolver=function(){var e=this;return function(t,i){t?e.reject(t):arguments.length>2?e.resolve(X(arguments,1)):e.resolve(i)}},l.Promise=u,l.promise=u,u.race=h,u.all=N,u.reject=S,u.resolve=l,l.passByCopy=function(e){return e},f.prototype.passByCopy=function(){return this},l.join=function(e,t){return l(e).join(t)},f.prototype.join=function(e){return l([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Can't join: not the same: "+e+" "+t)})},l.race=h,f.prototype.race=function(){return this.then(l.race)},l.makePromise=f,f.prototype.toString=function(){return"[object Promise]"},f.prototype.then=function(e,t,i){function r(t){try{return"function"==typeof e?e(t):t}catch(i){return S(i)}}function o(e){if("function"==typeof t){n(e,a);try{return t(e)}catch(i){return S(i)}}return S(e)}function s(e){return"function"==typeof i?i(e):e}var a=this,d=c(),p=!1;return l.nextTick(function(){a.promiseDispatch(function(e){p||(p=!0,d.resolve(r(e)))},"when",[function(e){p||(p=!0,d.resolve(o(e)))}])}),a.promiseDispatch(void 0,"when",[void 0,function(e){var t,i=!1;try{t=s(e)}catch(n){if(i=!0,!l.onerror)throw n;l.onerror(n)}i||d.notify(t)}]),d.promise},l.tap=function(e,t){return l(e).tap(t)},f.prototype.tap=function(e){return e=l(e),this.then(function(t){return e.fcall(t).thenResolve(t)})},l.when=g,f.prototype.thenResolve=function(e){return this.then(function(){return e})},l.thenResolve=function(e,t){return l(e).thenResolve(t)},f.prototype.thenReject=function(e){return this.then(function(){throw e})},l.thenReject=function(e,t){return l(e).thenReject(t)},l.nearer=m,l.isPromise=y,l.isPromiseAlike=v,l.isPending=w,f.prototype.isPending=function(){return"pending"===this.inspect().state},l.isFulfilled=I,f.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},l.isRejected=b,f.prototype.isRejected=function(){return"rejected"===this.inspect().state};var re=[],oe=[],se=[],ae=!0;l.resetUnhandledRejections=_,l.getUnhandledReasons=function(){return re.slice()},l.stopUnhandledRejectionTracking=function(){_(),ae=!1},_(),l.reject=S,l.fulfill=T,l.master=P,l.spread=z,f.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},l.async=E,l.spawn=R,l["return"]=k,l.promised=A,l.dispatch=j,f.prototype.dispatch=function(e,t){var i=this,n=c();return l.nextTick(function(){i.promiseDispatch(n.resolve,e,t)}),n.promise},l.get=function(e,t){return l(e).dispatch("get",[t])},f.prototype.get=function(e){return this.dispatch("get",[e])},l.set=function(e,t,i){return l(e).dispatch("set",[t,i])},f.prototype.set=function(e,t){return this.dispatch("set",[e,t])},l.del=l["delete"]=function(e,t){return l(e).dispatch("delete",[t])},f.prototype.del=f.prototype["delete"]=function(e){return this.dispatch("delete",[e])},l.mapply=l.post=function(e,t,i){return l(e).dispatch("post",[t,i])},f.prototype.mapply=f.prototype.post=function(e,t){return this.dispatch("post",[e,t])},l.send=l.mcall=l.invoke=function(e,t){return l(e).dispatch("post",[t,X(arguments,2)])},f.prototype.send=f.prototype.mcall=f.prototype.invoke=function(e){return this.dispatch("post",[e,X(arguments,1)])},l.fapply=function(e,t){return l(e).dispatch("apply",[void 0,t])},f.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},l["try"]=l.fcall=function(e){return l(e).dispatch("apply",[void 0,X(arguments,1)])},f.prototype.fcall=function(){return this.dispatch("apply",[void 0,X(arguments)])},l.fbind=function(e){var t=l(e),i=X(arguments,1);return function(){return t.dispatch("apply",[this,i.concat(X(arguments))])}},f.prototype.fbind=function(){var e=this,t=X(arguments);return function(){return e.dispatch("apply",[this,t.concat(X(arguments))])}},l.keys=function(e){return l(e).dispatch("keys",[])},f.prototype.keys=function(){return this.dispatch("keys",[])},l.all=N,f.prototype.all=function(){return N(this)},l.any=q,f.prototype.any=function(){return q(this)},l.allResolved=p(U,"allResolved","allSettled"),f.prototype.allResolved=function(){return U(this)},l.allSettled=M,f.prototype.allSettled=function(){return this.then(function(e){return N(J(e,function(e){function t(){return e.inspect()}return e=l(e),e.then(t,t)}))})},l.fail=l["catch"]=function(e,t){return l(e).then(void 0,t)},f.prototype.fail=f.prototype["catch"]=function(e){return this.then(void 0,e)},l.progress=B,f.prototype.progress=function(e){return this.then(void 0,void 0,e)},l.fin=l["finally"]=function(e,t){return l(e)["finally"](t)},f.prototype.fin=f.prototype["finally"]=function(e){return e=l(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},l.done=function(e,t,i,n){return l(e).done(t,i,n)},f.prototype.done=function(e,t,i){var r=function(e){l.nextTick(function(){if(n(e,o),!l.onerror)throw e;l.onerror(e)})},o=e||t||i?this.then(e,t,i):this;"object"==typeof process&&process&&process.domain&&(r=process.domain.bind(r)),o.then(void 0,r)},l.timeout=function(e,t,i){return l(e).timeout(t,i)},f.prototype.timeout=function(e,t){var i=c(),n=setTimeout(function(){t&&"string"!=typeof t||(t=new Error(t||"Timed out after "+e+" ms"),t.code="ETIMEDOUT"),i.reject(t)},e);return this.then(function(e){clearTimeout(n),i.resolve(e)},function(e){clearTimeout(n),i.reject(e)},i.notify),i.promise},l.delay=function(e,t){return void 0===t&&(t=e,e=void 0),l(e).delay(t)},f.prototype.delay=function(e){return this.then(function(t){var i=c();return setTimeout(function(){i.resolve(t)},e),i.promise})},l.nfapply=function(e,t){return l(e).nfapply(t)},f.prototype.nfapply=function(e){var t=c(),i=X(e);return i.push(t.makeNodeResolver()),this.fapply(i).fail(t.reject),t.promise},l.nfcall=function(e){var t=X(arguments,1);return l(e).nfapply(t)},f.prototype.nfcall=function(){var e=X(arguments),t=c();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},l.nfbind=l.denodeify=function(e){var t=X(arguments,1);return function(){var i=t.concat(X(arguments)),n=c();
return i.push(n.makeNodeResolver()),l(e).fapply(i).fail(n.reject),n.promise}},f.prototype.nfbind=f.prototype.denodeify=function(){var e=X(arguments);return e.unshift(this),l.denodeify.apply(void 0,e)},l.nbind=function(e,t){var i=X(arguments,2);return function(){function n(){return e.apply(t,arguments)}var r=i.concat(X(arguments)),o=c();return r.push(o.makeNodeResolver()),l(n).fapply(r).fail(o.reject),o.promise}},f.prototype.nbind=function(){var e=X(arguments,0);return e.unshift(this),l.nbind.apply(void 0,e)},l.nmapply=l.npost=function(e,t,i){return l(e).npost(t,i)},f.prototype.nmapply=f.prototype.npost=function(e,t){var i=X(t||[]),n=c();return i.push(n.makeNodeResolver()),this.dispatch("post",[e,i]).fail(n.reject),n.promise},l.nsend=l.nmcall=l.ninvoke=function(e,t){var i=X(arguments,2),n=c();return i.push(n.makeNodeResolver()),l(e).dispatch("post",[t,i]).fail(n.reject),n.promise},f.prototype.nsend=f.prototype.nmcall=f.prototype.ninvoke=function(e){var t=X(arguments,1),i=c();return t.push(i.makeNodeResolver()),this.dispatch("post",[e,t]).fail(i.reject),i.promise},l.nodeify=L,f.prototype.nodeify=function(e){return e?void this.then(function(t){l.nextTick(function(){e(null,t)})},function(t){l.nextTick(function(){e(t)})}):this},l.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var de=d();return l}()}(),function(){"use strict";function e(e){function t(e){d[e]=d[e]||{},d[e].startTime=n.now()}function i(e){d.hasOwnProperty(e)&&(d[e].stopTime=n.now())}function r(e,t,i){d[e].partners=d[e].partners||{},d[e].partners[t]=d[e].partners[t]||{},d[e].partners[t].timeout=i,d[e].partners[t].startTime=n.now()}function o(e,t){d.hasOwnProperty(e)&&(d[e].partners[t].stopTime=n.now())}function s(e,t,i,n){d.hasOwnProperty(e)&&(d[e].partners[t].targetingType=i,d[e].partners[t].returnedDemand=n)}function a(t){if(d.hasOwnProperty(t)){var i={};i.s=e,i.u=encodeURIComponent(document.location.href),i.type="RT",i.r=t.replace("_",""),i.t0=d[t].startTime,i.t1=d[t].stopTime||-1;var r=d[t].partners;for(var o in r)if(r.hasOwnProperty(o)){var s=-1,a=1;r[o].startTime&&r[o].stopTime&&(s=r[o].stopTime-r[o].startTime,a=0),i[o+".t"]=s,i[o+".to"]=a,i[o+".ts"]=r[o].timeout||-1;var p=null;if(r[o].hasOwnProperty("returnedDemand"))if("page"===r[o].targetingType)for(p in r[o].returnedDemand.page.demand)r[o].returnedDemand.page.demand.hasOwnProperty(p)&&(i[o+".p.pl."+p]=r[o].returnedDemand.page.demand[p].toString()||"");else for(var l in r[o].returnedDemand.slot)if(r[o].returnedDemand.slot.hasOwnProperty(l))for(p in r[o].returnedDemand.slot[l].demand)r[o].returnedDemand.slot[l].demand.hasOwnProperty(p)&&(i[o+".p."+l+"."+p]=r[o].returnedDemand.slot[l].demand[p].toString()||"")}var c=n.objToQueryString(i),u=("https:"===document.location.protocol?"https://as-sec.":"http://as.")+"casalemedia.com/headerstats"+c,h=new XMLHttpRequest;h.open("GET",u,!0),h.send(),delete d[t]}}var d={};this.startSessionTimer=t,this.stopSessionTimer=i,this.startPartnerTimer=r,this.stopPartnerTimer=o,this.recordReturnedDemand=s,this.sendReport=a}function t(t){function r(e,i){function r(i,r){if((!i||r)&&(O[e]=r,P[e]=t.partners[e].disabled,z[e]=t.partners[e].timeout,!B&&r.getSupportedOptions().hasOwnProperty("prefetch")&&r.getSupportedOptions().prefetch&&t.partners[e].hasOwnProperty("prefetch")&&t.partners[e].prefetch.enabled)){var o=n.generateCorrelator();N.startSessionTimer(o),N.startPartnerTimer(o,e,z[e]);var s=function(){N.stopPartnerTimer(o,e),N.stopSessionTimer(o),N.sendReport(o)},a=r.getPartnerTargetingType();"page"===a?r.prefetchDemand(o,M,s):t.partners[e].prefetch.hasOwnProperty("info")&&window.headertag.pagetype&&t.partners[e].prefetch.info.hasOwnProperty(window.headertag.pagetype)&&r.prefetchDemand(o,t.partners[e].prefetch.info[window.headertag.pagetype],s)}}var o=[];return n.validateNonEmptyString(e)||o.push("partnerId must be a non-empty string."),O.hasOwnProperty(e)&&o.push("partnerId already registered."),n.validateFunction(i)||o.push("init must be a function."),o.length?!1:(t.partners.hasOwnProperty(e)&&i(t.partners[e],r),!0)}function o(e,t){var i=[];if(n.validateNonEmptyArray(e)||i.push("partnerIds must be a non-empty array."),n.validateBoolean(t)||i.push("toggle must be a boolean."),i.length)return!1;for(var r=!1,o=0,s=e.length;s>o;o++)if(O.hasOwnProperty(e[o])){if("INDX"===e[o])continue;P[e[o]]=t,r=!0}return r}function s(e){var t=[];return n.validateInteger(e,1)||t.push("timeout must be an interger and greater than 0."),t.length?!1:(T=e,!0)}function a(e){return o(e,!1)}function d(e){return o(e,!0)}function p(e,t){var i=[];return n.validateInteger(t,0)||i.push("timeout must be an interger and greater than or equal to 0."),z.hasOwnProperty(e)||i.push("partnerId not registered and instantiated."),i.length?!1:(z[e]=t,!0)}function l(e,t){var i=[];return n.validateNonEmptyString(e)||i.push("partnerId must be a non-empty string."),O.hasOwnProperty(e)||i.push("partnerId is not registered."),n.validateNonEmptyString(t)||i.push("targetingType must be a non-empty string."),i.length?!1:O[e].setPartnerTargetingType(t)}function c(e,t){if(n.validateNonEmptyObject(e)){var i=n.getDivIdToSlotMap(t),r=null,o=null;for(var s in e)if(e.hasOwnProperty(s))if(e[s].hasOwnProperty("page"))for(o in e[s].page.demand)e[s].page.demand.hasOwnProperty(o)&&(googletag.pubads().setTargeting(o,e[s].page.demand[o]),q.page[o]=!0);else if(e[s].hasOwnProperty("slot"))for(r in i)if(i.hasOwnProperty(r)&&e[s].slot.hasOwnProperty(r))for(o in e[s].slot[r].demand)e[s].slot[r].demand.hasOwnProperty(o)&&(i[r].setTargeting(o,e[s].slot[r].demand[o]),q.slot[r]=q.slot[r]||{},q.slot[r][o]=!0)}}function u(e){var t=null;for(t in q.page)q.page.hasOwnProperty(t)&&(googletag.pubads().clearTargeting(t),delete q.page[t]);for(var i=0;i<e.length;i++){var n=e[i].getSlotElementId();if(q.slot.hasOwnProperty(n)){var r=e[i].getTargetingMap();e[i].clearTargeting();for(t in r)r.hasOwnProperty(t)&&(q.slot[n].hasOwnProperty(t)||e[i].setTargeting(t,r[t]));delete q.slot[n]}}}function h(e){u(e.slots),c(e.demand,e.slots),e.divId?googletag.display(e.divId):googletag.pubads().refresh(e.slots,e.opt)}function f(e,t,r,o){var s=[];if(n.validateNonEmptyString(e)||s.push("correlator must be a non-empty string."),n.validateNonEmptyString(r)||s.push("partnerId must be a non-empty string."),O.hasOwnProperty(r)||s.push("partnerId not registered and instantiated."),n.validateNonEmptyArray(o)||s.push("slots must be a non-empty array."),s.length)return null;var a=i.defer(),d=null,p=!1,l=O[r].getPartnerTargetingType(),c=function(t,i){if(!p){if(clearTimeout(d),O[r].getSupportedAnalytics().time&&N.stopPartnerTimer(e,r),t)return void a.reject();if(!n.validateNonEmptyObject(i))return void a.reject();O[r].getSupportedAnalytics().demand&&N.recordReturnedDemand(e,r,l,i);var o={};o[r]=i,a.resolve(o)}};return z[r]&&(d=setTimeout(function(){p=!0,a.reject()},z[r])),O[r].getSupportedAnalytics().time&&N.startPartnerTimer(e,r,z[r]),"page"===l?O[r].getDemand(e,t,c):O[r].getDemand(e,o,c),a.promise}function g(e){for(var t={},i=0,n=e.length;n>i;i++)if("fulfilled"===e[i].state){var r=e[i].value;for(var o in r)if(r.hasOwnProperty(o))if(t.hasOwnProperty(o)){if(r[o].hasOwnProperty("page"))t[o].page.timestamp<r[o].page.timestamp&&(t[o]=r[o]);else if(r[o].hasOwnProperty("slot"))for(var s in r[o].slot)r[o].slot.hasOwnProperty(s)&&(t[o].slot.hasOwnProperty(s)?t[o].slot[s].timestamp<r[o].slot[s].timestamp&&(t[o].slot[s]=r[o].slot[s]):t[o].slot[s]=r[o].slot[s])}else t[o]=r[o]}return t}function m(e,t,r,o){var s=i.defer(),a=[];if(n.validateNonEmptyString(e)||a.push("correlator must be a non-empty string."),n.validateNonEmptyArray(r)||a.push("slots must be a non-empty array."),n.validateNonEmptyString(o)||a.push("action must be a non-empty string."),a.length)return s.resolve(),s.promise;r=r.slice();var d=[],p={};for(var l in O)O.hasOwnProperty(l)&&(p[l]=r.slice());for(var c=r.length-1;c>=0;c--){var u=r[c].getSlotElementId();if(E.hasOwnProperty(u)){d.indexOf(E[u])<0&&d.push(E[u]);var h=n.now(),m=E[u].inspect();if("fulfilled"===m.state){var y=m.value;for(var v in y)if(y.hasOwnProperty(v))if(O[v].getPartnerDemandExpiry()<0)p[v].splice(p[v].indexOf(r[c]),1);else if(y[v].hasOwnProperty("page")){if(y[v].page.gCorrelator!==t)continue;if(h-y[v].page.timestamp>O[v].getPartnerDemandExpiry())continue;p[v].splice(p[v].indexOf(r[c]),1)}else if(y[v].hasOwnProperty("slot")){if(!y[v].slot.hasOwnProperty(u))continue;if(h-y[v].slot[u].timestamp>O[v].getPartnerDemandExpiry())continue;p[v].splice(p[v].indexOf(r[c]),1)}}else for(var w in O)O.hasOwnProperty(w)&&p[w].splice(p[w].indexOf(r[c]),1)}else E[u]=s.promise}("display"!==o||r.length)&&N.startSessionTimer(e);var I=[];for(var b in O)O.hasOwnProperty(b)&&I.push(b);for(;I.length;){var _=n.randomSplice(I);if(!P[_]&&p[_].length){var x=f(e,t,_,p[_]);d.push(x)}}var D=null,S=!1;return T&&(D=setTimeout(function(){S=!0;for(var e=[],t=0,i=d.length;i>t;t++)e.push(d[t].inspect());var n=g(e);if("display"!==o||!A)for(var t=0;t<r.length;t++){var a=r[t].getSlotElementId();E.hasOwnProperty(a)&&delete E[a]}s.resolve(n)},T)),i.allSettled(d).then(function(t){if(!S){clearTimeout(D),("display"!==o||r.length)&&N.stopSessionTimer(e);var i=g(t);if("display"!==o||!A)for(var n=0;n<r.length;n++){var a=r[n].getSlotElementId();E.hasOwnProperty(a)&&delete E[a]}s.resolve(i)}}),s.promise}function y(e){var t=[];if(n.validateNonEmptyString(e)||t.push("Invalid divId."),!t.length){B=!0;var i=null;if(j?R?i=[n.divIdToSlot(e)]:(R=!0,i=n.getSlots()):i=[n.divIdToSlot(e)],!U.hasOwnProperty(e)){for(var r=n.getDivIds(i),o=0,s=r.length;s>o;o++)U[r[o]]=!0;var a=n.generateCorrelator();m(a,M,i,"display").then(function(t){if(A)return void googletag.display(e);var n={demand:t,slots:i,divId:e,correlator:a};return h(n)}).then(function(){N.sendReport(a)})["catch"](function(e){})}}}function v(e,t,i,r){var o=[];if(n.validateNonEmptyString(e)||o.push("adUnitPath must be a non-empty string."),n.validateNonEmptyArray(t)||o.push("size must be a non-empty array."),n.validateNonEmptyString(i,!0)||o.push("Optional. divId must be a non-empty string."),n.validateNonEmptyString(r,!0)||o.push("Optional. clickUrl must be a non-empty string."),!o.length){var s=googletag.defineSlot(e,t,i).addService(googletag.pubads());r&&s.setClickUrl(r),y(i)}}function w(e,t){var i=[];if(n.validateNonEmptyArray(e,!0)||i.push("Optional. slots must be a non-empty array."),n.validateNonEmptyObject(t,!0)||i.push("Optional. options must be a non-empty object."),!i.length){e&&e.length||(e=n.getSlots());var r=n.generateCorrelator();A&&!k?k=!0:M=googletag.pubads().getCorrelator(),m(r,M,e,"refresh").then(function(i){if(j){var n={demand:i,slots:e,opt:t,correlator:r};h(n)}else for(var o=0,s=e.length;s>o;o++)h({demand:i,slots:[e[o]],opt:t,correlator:r})}).then(function(){N.sendReport(r)})["catch"](function(e){})}}function I(){return{display:v.bind(b),refresh:w.bind(b)}}var b=this,_=[],x=[];n.validateNonEmptyObject(t)||x.push("Config not provided."),t.hasOwnProperty("siteId")&&n.validateInteger(t.siteId,0)||(t.siteId=0,_.push("Invalid siteId, using default value of 0.")),t.hasOwnProperty("timeout")&&n.validateInteger(t.timeout,1)||(t.timeout=1e3,_.push("Invalid timeout, using default value of 1000ms.")),t.hasOwnProperty("disableInitialLoad")?n.validateBoolean(t.disableInitialLoad)||(t.disableInitialLoad=!1,_.push("Invalid disableInitialLoad, using default value of false.")):t.disableInitialLoad=!1,t.hasOwnProperty("enableSingleRequest")?n.validateBoolean(t.enableSingleRequest)||(t.enableSingleRequest=!0,_.push("Invalid enableSingleRequest, using default value of true.")):(t.enableSingleRequest=!0,_.push("enableSingleRequest not provided, using default value of true.")),t.partners&&t.partners.hasOwnProperty("INDX")||(t.partners=t.partners||{},t.partners.INDX={});for(var D in t.partners)t.partners.hasOwnProperty(D)&&(t.partners[D].hasOwnProperty("disabled")?(n.validateBoolean(t.partners[D].disabled)||(_.push("Invalid disabled set for "+D+", using default value true."),t.partners[D].disabled=!0),"INDX"===D&&t.partners[D].disabled===!0&&(t.partners[D].disabled=!1,_.push("Cannot disable partner INDX."))):t.partners[D].disabled=!1,t.partners[D].hasOwnProperty("timeout")?n.validateInteger(t.partners[D].timeout,0)||(_.push("Invalid partner timeout set for "+D+", using default value 0 (i.e. not set)."),t.partners[D].timeout=0):t.partners[D].timeout=0);if(_.length,!x.length){var S=t.siteId,T=t.timeout,O={},P={},z={},E={},R=!1,k=!1,A=t.disableInitialLoad,j=t.enableSingleRequest,N=new e(S),q={page:{},slot:{}},U={},M=-1,B=!1;this.apiReady=!0,this.bidderQueue=[],this.registerPartner=r,this.setGlobalTimeout=s,this.enablePartners=a,this.disablePartners=d,this.setPartnerTimeout=p,this.setPartnerTargetingType=l,this.display=y,this.pubads=I}}var i=window.headertag.Q,n=window.headertag.Utils;if(window.headertag){var r=window.headertag;window.headertag=new t(window.headertagconfig);for(var o in r)r.hasOwnProperty(o)&&"display"!==o&&"pubads"!==o&&(window.headertag[o]=r[o])}}(),/.*jezebel\.com/.test(location.href)&&(window.cygnus_index_args={name:"cygnus",embedMode:1,siteID:187389,slots:[{id:"1",width:970,height:90,siteID:187389},{id:"2",width:970,height:250,siteID:187390},{id:"3",width:728,height:90,siteID:187391},{id:"4",width:300,height:250,siteID:187392},{id:"5",width:300,height:600,siteID:187393},{id:"6",width:300,height:250,siteID:187394},{id:"7",width:300,height:600,siteID:187395},{id:"8",width:970,height:250,siteID:187396},{id:"9",width:728,height:90,siteID:187397},{id:"10",width:300,height:250,siteID:187398},{id:"11",width:300,height:250,siteID:187399},{id:"12",width:320,height:50,siteID:187400},{id:"13",width:300,height:250,siteID:187401},{id:"14",width:320,height:50,siteID:187402},{id:"15",width:300,height:250,siteID:187403},{id:"16",width:320,height:50,siteID:187404}],gpt_map:{desktop:{"970_90":{1:{pos:["top"]}},"970_250":{2:{pos:["top"]},8:{pos:["bottom"]}},"728_90":{3:{pos:["top"]},9:{pos:["bottom"]}},"300_250":{4:{pos:["left"]},6:{pos:["left_dynamic"]},10:{pos:["in_featured_post"]}},"300_600":{5:{pos:["left"]},7:{pos:["left_dynamic"]}}},mobile:{"300_250":{11:{pos:["mobile"]},13:{pos:["mobile_bottom"]},15:{pos:["mobile_inpost"]}},"320_50":{12:{pos:["mobile"]},14:{pos:["mobile_bottom"]},16:{pos:["mobile_inpost"]}}}}}),/.*gizmodo\.com/.test(location.href)&&(window.cygnus_index_args={name:"cygnus",embedMode:1,siteID:187277,slots:[{id:"1",width:970,height:90,siteID:187277},{id:"2",width:970,height:250,siteID:187278},{id:"3",width:728,height:90,siteID:187279},{id:"4",width:300,height:250,siteID:187280},{id:"5",width:300,height:600,siteID:187281},{id:"6",width:300,height:250,siteID:187282},{id:"7",width:300,height:600,siteID:187283},{id:"8",width:970,height:250,siteID:187284},{id:"9",width:728,height:90,siteID:187285},{id:"10",width:300,height:250,siteID:187286},{id:"11",width:300,height:250,siteID:187287},{id:"12",width:320,height:50,siteID:187288},{id:"13",width:300,height:250,siteID:187289},{id:"14",width:320,height:50,siteID:187290},{id:"15",width:300,height:250,siteID:187291},{id:"16",width:320,height:50,siteID:187292}],gpt_map:{desktop:{"970_90":{1:{pos:["top"]}},"970_250":{2:{pos:["top"]},8:{pos:["bottom"]}},"728_90":{3:{pos:["top"]},9:{pos:["bottom"]}},"300_250":{4:{pos:["left"]},6:{pos:["left_dynamic"]},10:{pos:["in_featured_post"]}},"300_600":{5:{pos:["left"]},7:{pos:["left_dynamic"]}}},mobile:{"300_250":{11:{pos:["mobile"]},13:{pos:["mobile_bottom"]},15:{pos:["mobile_inpost"]}},"320_50":{12:{pos:["mobile"]},14:{pos:["mobile_bottom"]},16:{pos:["mobile_inpost"]}}}}}),/.*kotaku\.com/.test(location.href)&&(window.cygnus_index_args={name:"cygnus",embedMode:1,siteID:187405,slots:[{id:"1",width:970,height:90,siteID:187405},{id:"2",width:970,height:250,siteID:187406},{id:"3",width:728,height:90,siteID:187407},{id:"4",width:300,height:250,siteID:187408},{id:"5",width:300,height:600,siteID:187409},{id:"6",width:300,height:250,siteID:187410},{id:"7",width:300,height:600,siteID:187411},{id:"8",width:970,height:250,siteID:187412},{id:"9",width:728,height:90,siteID:187413},{id:"10",width:300,height:250,siteID:187414},{id:"11",width:300,height:250,siteID:187415},{id:"12",width:320,height:50,siteID:187416},{id:"13",width:300,height:250,siteID:187417},{id:"14",width:320,height:50,siteID:187418},{id:"15",width:300,height:250,siteID:187419},{id:"16",width:320,height:50,siteID:187420}],gpt_map:{desktop:{"970_90":{1:{pos:["top"]}},"970_250":{2:{pos:["top"]},8:{pos:["bottom"]}},"728_90":{3:{pos:["top"]},9:{pos:["bottom"]}},"300_250":{4:{pos:["left"]},6:{pos:["left_dynamic"]},10:{pos:["in_featured_post"]}},"300_600":{5:{pos:["left"]},7:{pos:["left_dynamic"]}}},mobile:{"300_250":{11:{pos:["mobile"]},13:{pos:["mobile_bottom"]},15:{pos:["mobile_inpost"]}},"320_50":{12:{pos:["mobile"]},14:{pos:["mobile_bottom"]},16:{pos:["mobile_inpost"]}}}}}),/.*jalopnik\.com/.test(location.href)&&(window.cygnus_index_args={name:"cygnus",embedMode:1,siteID:187421,slots:[{id:"1",width:970,height:90,siteID:187421},{id:"2",width:970,height:250,siteID:187422},{id:"3",width:728,height:90,siteID:187423},{id:"4",width:300,height:250,siteID:187424},{id:"5",width:300,height:600,siteID:187425},{id:"6",width:300,height:250,siteID:187426},{id:"7",width:300,height:600,siteID:187427},{id:"8",width:970,height:250,siteID:187428},{id:"9",width:728,height:90,siteID:187429},{id:"10",width:300,height:250,siteID:187430},{id:"11",width:300,height:250,siteID:187431},{id:"12",width:320,height:50,siteID:187432},{id:"13",width:300,height:250,siteID:187433},{id:"14",width:320,height:50,siteID:187434},{id:"15",width:300,height:250,siteID:187435},{id:"16",width:320,height:50,siteID:187436}],gpt_map:{desktop:{"970_90":{1:{pos:["top"]}},"970_250":{2:{pos:["top"]},8:{pos:["bottom"]}},"728_90":{3:{pos:["top"]},9:{pos:["bottom"]}},"300_250":{4:{pos:["left"]},6:{pos:["left_dynamic"]},10:{pos:["in_featured_post"]}},"300_600":{5:{pos:["left"]},7:{pos:["left_dynamic"]}}},mobile:{"300_250":{11:{pos:["mobile"]},13:{pos:["mobile_bottom"]},15:{pos:["mobile_inpost"]}},"320_50":{12:{pos:["mobile"]},14:{pos:["mobile_bottom"]},16:{pos:["mobile_inpost"]}}}}}),/.*lifehacker\.com/.test(location.href)&&(window.cygnus_index_args={name:"cygnus",embedMode:1,siteID:187437,slots:[{id:"1",width:970,height:90,siteID:187437},{id:"2",width:970,height:250,siteID:187438},{id:"3",width:728,height:90,siteID:187439},{id:"4",width:300,height:250,siteID:187440},{id:"5",width:300,height:600,siteID:187441},{id:"6",width:300,height:250,siteID:187442},{id:"7",width:300,height:600,siteID:187443},{id:"8",width:970,height:250,siteID:187444},{id:"9",width:728,height:90,siteID:187445},{id:"10",width:300,height:250,siteID:187446},{id:"11",width:300,height:250,siteID:187447},{id:"12",width:320,height:50,siteID:187448},{id:"13",width:300,height:250,siteID:187449},{id:"14",width:320,height:50,siteID:187450},{id:"15",width:300,height:250,siteID:187451},{id:"16",width:320,height:50,siteID:187452}],gpt_map:{desktop:{"970_90":{1:{pos:["top"]}},"970_250":{2:{pos:["top"]},8:{pos:["bottom"]}},"728_90":{3:{pos:["top"]},9:{pos:["bottom"]}},"300_250":{4:{pos:["left"]},6:{pos:["left_dynamic"]},10:{pos:["in_featured_post"]}},"300_600":{5:{pos:["left"]},7:{pos:["left_dynamic"]}}},mobile:{"300_250":{11:{pos:["mobile"]},13:{pos:["mobile_bottom"]},15:{pos:["mobile_inpost"]}},"320_50":{12:{pos:["mobile"]},14:{pos:["mobile_bottom"]},16:{pos:["mobile_inpost"]}}}}}),/.*deadspin\.com/.test(location.href)&&(window.cygnus_index_args={name:"cygnus",embedMode:1,siteID:187453,slots:[{id:"1",width:970,height:90,siteID:187453},{id:"2",width:970,height:250,siteID:187454},{id:"3",width:728,height:90,siteID:187455},{id:"4",width:300,height:250,siteID:187456},{id:"5",width:300,height:600,siteID:187457},{id:"6",width:300,height:250,siteID:187458},{id:"7",width:300,height:600,siteID:187459},{id:"8",width:970,height:250,siteID:187460},{id:"9",width:728,height:90,siteID:187461},{id:"10",width:300,height:250,siteID:187462},{id:"11",width:300,height:250,siteID:187463},{id:"12",width:320,height:50,siteID:187464},{id:"13",width:300,height:250,siteID:187465},{id:"14",width:320,height:50,siteID:187466},{id:"15",width:300,height:250,siteID:187467},{id:"16",width:320,height:50,siteID:187468}],gpt_map:{desktop:{"970_90":{1:{pos:["top"]}},"970_250":{2:{pos:["top"]},8:{pos:["bottom"]}},"728_90":{3:{pos:["top"]},9:{pos:["bottom"]}},"300_250":{4:{pos:["left"]},6:{pos:["left_dynamic"]},10:{pos:["in_featured_post"]}},"300_600":{5:{pos:["left"]},7:{pos:["left_dynamic"]}}},mobile:{"300_250":{11:{pos:["mobile"]},13:{pos:["mobile_bottom"]},15:{pos:["mobile_inpost"]}},"320_50":{12:{pos:["mobile"]},14:{pos:["mobile_bottom"]},16:{pos:["mobile_inpost"]}}}}}),/.*kinja\.com/.test(location.href)&&(window.cygnus_index_args={name:"cygnus",embedMode:1,siteID:187469,slots:[{id:"1",width:970,height:90,siteID:187469},{id:"2",width:970,height:250,siteID:187470},{id:"3",width:728,height:90,siteID:187471},{id:"4",width:300,height:250,siteID:187472},{id:"5",width:300,height:600,siteID:187473},{id:"6",width:300,height:250,siteID:187474},{id:"7",width:300,height:600,siteID:187475},{id:"8",width:970,height:250,siteID:187476},{id:"9",width:728,height:90,siteID:187477},{id:"10",width:300,height:250,siteID:187478},{id:"11",width:300,height:250,siteID:187479},{id:"12",width:320,height:50,siteID:187480},{id:"13",width:300,height:250,siteID:187481},{id:"14",width:320,height:50,siteID:187482},{id:"15",width:300,height:250,siteID:187483},{id:"16",width:320,height:50,siteID:187484}],gpt_map:{desktop:{"970_90":{1:{pos:["top"]}},"970_250":{2:{pos:["top"]},8:{pos:["bottom"]}},"728_90":{3:{pos:["top"]},9:{pos:["bottom"]}},"300_250":{4:{pos:["left"]},6:{pos:["left_dynamic"]},10:{pos:["in_featured_post"]}},"300_600":{5:{pos:["left"]},7:{pos:["left_dynamic"]}}},mobile:{"300_250":{11:{pos:["mobile"]},13:{pos:["mobile_bottom"]},15:{pos:["mobile_inpost"]}},"320_50":{12:{pos:["mobile"]},14:{pos:["mobile_bottom"]},16:{pos:["mobile_inpost"]}}}}}),/.*theroot\.com/.test(location.href)&&(window.cygnus_index_args={name:"cygnus",embedMode:1,siteID:189594,slots:[{id:"1",width:970,height:90,siteID:189594},{id:"2",width:970,height:250,siteID:189595},{id:"3",width:728,height:90,siteID:189596},{id:"4",width:300,height:250,siteID:190103},{id:"5",width:300,height:600,siteID:189597},{id:"6",width:300,height:250,siteID:189598},{id:"7",width:300,height:600,siteID:190104},{id:"8",width:970,height:250,siteID:190105},{id:"9",width:728,height:90,siteID:189599},{id:"11",width:300,height:250,siteID:189601},{id:"12",width:320,height:50,siteID:189602},{id:"13",width:300,height:250,siteID:189603},{id:"14",width:320,height:50,siteID:189604},{id:"15",width:300,height:250,siteID:189605},{id:"16",width:320,height:50,siteID:189606}],gpt_map:{desktop:{"970_90":{1:{pos:["top"]}},"970_250":{2:{pos:["top"]},8:{pos:["bottom"]}},"728_90":{3:{pos:["top"]},9:{pos:["bottom"]}},"300_250":{4:{pos:["left"]},6:{pos:["left_dynamic"]}},"300_600":{5:{pos:["left"]},7:{pos:["left_dynamic"]}}},mobile:{"300_250":{11:{pos:["mobile"]},13:{pos:["mobile_bottom"]},15:{pos:["mobile_inpost"]}},"320_50":{12:{pos:["mobile"]},14:{pos:["mobile_bottom"]},16:{pos:["mobile_inpost"]}}}}}),window.headertag.bidderQueue.push(function(){"use strict";function e(e){return"string"==typeof e&&r[e]}function t(t){function i(e){for(var t={},i=0;i<e.length;i++){var n=e[i];n.sizeIds=[];for(var r=0;r<n.sizes.length;r++){var o=n.sizes[r],s=o[0]+"x"+o[1];d.hasOwnProperty(s)&&n.sizeIds.push(d[s])}t[n.id]=n}return t}function n(e){var t=i(e),n={};for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(o.sizes.length){var s=window.rubicontag.defineSlot({siteId:o.siteId,zoneId:o.zoneId,sizes:o.sizeIds,id:o.id});n[r]=s}}return n}function r(e){return"undefined"!=typeof e.getTargetingMap().pos?e.getTargetingMap().pos[0]:void 0}function c(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];v.hasOwnProperty(n)&&t.push(v[n])}return t}var u=this,h=t.targetingType,f=o,g=s,m={state:a.NEW,correlator:null,slotIds:[],callbacks:[]},y={},v={};this.getPartnerTargetingType=function(){return h},this.getSupportedAnalytics=function(){return f},this.getSupportedOptions=function(){return g},this.getPartnerDemandExpiry=function(){return g.demandExpiry},this.setPartnerTargetingType=function(t){return e(t)?(h=t,!0):!1},this.prefetchDemand=function(e,i,r){m.state=a.IN_PROGRESS,m.correlator=e,m.slotIds=i.divIds.slice(),y[e]={slot:{}},window.rubicontag.cmd.push(function(){v=n(t.slots);var i=c(m.slotIds);if(i.length)window.rubicontag.run(function(){for(var t=0;t<i.length;t++)y[e].slot[i[t].getElementId()]={timestamp:p.now(),demand:{}};m.state=a.READY,r(e);for(var n=0,o=m.callbacks.length;o>n;n++)setTimeout(m.callbacks[n],0)},{slots:i});else{for(var o=0;o<i.length;o++)y[e].slot[i[o].getElementId()]={timestamp:p.now(),demand:{}};m.state=a.READY,r(e);for(var s=0,d=m.callbacks.length;d>s;s++)setTimeout(m.callbacks[s],0)}})},this.getDemand=function w(e,i,o){var s=l.defer();if(m.state===a.IN_PROGRESS){for(var d=p.getDivIds(i),h=!1,f=0,I=d.length;I>f;f++){var b=m.slotIds.indexOf(d[f]);-1!==b&&(m.slotIds.splice(b,1),h=!0)}if(h)return void m.callbacks.push(w.bind(u,e,i,o))}var _={slot:{}};if(m.state===a.READY){for(var x=i.length-1;x>=0;x--){var D=r(i[x]);if(y[m.correlator].slot.hasOwnProperty(D)){if(g.demandExpiry<0||p.now()-y[m.correlator].slot[D].timestamp<=g.demandExpiry){_.slot[D]=y[m.correlator].slot[D];for(var D=r(i[x]),S=window.rubicontag.getAllSlots(),T=0;T<S.length;T++)if(D==S[T].getElementId())for(var O=S[T].getAdServerTargeting(),P=0;P<O.length;P++)i[x].setTargeting(O[P].key,O[P].values.join(","));i.splice(x,1)}delete y[m.correlator].slot[D]}}if(p.validateNonEmptyObject(y[m.correlator].slot)||(m.state=a.USED),!i.length)return void s.resolve(_)}return window.rubicontag.cmd.push(function(){v=n(t.slots);for(var e=[],o=0;o<i.length;o++){var a=r(i[o]);""!==a&&e.push(a)}var d=c(e);return d.length?void window.rubicontag.run(function(){for(var e=0;e<i.length;e++)for(var t=r(i[e]),n=window.rubicontag.getAllSlots(),o=0;o<n.length;o++)if(t==n[o].getElementId())for(var a=n[o].getAdServerTargeting(),d=0;d<a.length;d++)i[e].setTargeting(a[d].key,a[d].values.join(","));s.resolve(_)},{slots:d}):void s.resolve(_)}),s.promise}}function i(i,n){var r=[];if(i.hasOwnProperty("targetingType")&&e(i.targetingType)||r.push("targetingType either not provided or invalid."),p.validateNonEmptyString(i.networkId)||r.push("networkId either not provided or not a string."),p.validateNonEmptyObject(i.slots))for(var o=["siteId","zoneId","id"],s=0;s<i.slots.length;s++)if(p.validateNonEmptyObject(i.slots[s])){for(var a=0;a<o.length;a++)p.validateNonEmptyString(i.slots[s][o[a]])||r.push("slot."+o[a]+" not a non-empty string");if(p.validateNonEmptyArray(i.slots[s].sizes))for(a=0;a<i.slots[s].sizes;a++){var l=i.slots[s].sizes[a];p.validateNonEmptyArray(l)&&2===l.length?p.validateInteger(l[0])&&p.validateInteger(l[1])?d.hasOwnProperty(l[0]+"x"+l[1])||r.push("size array contains unknown size values"):r.push("size array contains non-integer"):r.push("size array is not an array with 2 elements")}else r.push("slot sizes not a non-empty array")}else r.push("slots not an object containing only objects");else r.push("slots either not provided or not an object");if(r.length)return void n(r);window.rubicontag=window.rubicontag||{},window.rubicontag.cmd=window.rubicontag.cmd||[];var c=i.networkId,u="//ads.rubiconproject.com/header/"+c+".js";p.addScriptTag(u,!0,function(){}),n(null,new t(i))}var n="RUBI",r={page:!1,slot:!0},o={time:!0,demand:!1},s={prefetch:!0,demandExpiry:-1},a={NEW:1,IN_PROGRESS:2,READY:3,USED:4},d={"468x60":1,"728x90":2,"120x600":8,"160x600":9,"300x600":10,"300x250":15,"336x280":16,"320x50":43,"300x50":44,"300x1050":54,"970x90":55,"970x250":57,"1000x90":58,"320x480":67,"1800x1000":68,"480x320":101,"768x1024":102},p=window.headertag.Utils,l=window.headertag.Q;window.headertag.registerPartner(n,i)}),window.headertag.bidderQueue.push(function(){"use strict";function e(e){return"string"==typeof e&&r[e]}function t(t,n){var r=[];if(t.hasOwnProperty("targetingType")&&e(t.targetingType)||r.push("targetingType either not provided or invalid."),t.hasOwnProperty("dynamicMapping")&&!p.validateBoolean(t.dynamicMapping)&&r.push("dynamicMapping invalid."),t.hasOwnProperty("uniqueTargeting")&&!p.validateNonEmptyString(t.uniqueTargeting)&&r.push("uniqueTargeting invalid."),t.hasOwnProperty("slotSizes"))if(p.validateNonEmptyArray(t.slotSizes))for(var o=0;o<t.slotSizes.length;o++){var s=t.slotSizes[o];2===s.length&&p.isInteger(s[0])&&p.isInteger(s[1])||r.push("slotSizes invalid.")}else r.push("slotSizes invalid.");if(t.hasOwnProperty("appId")&&p.validateNonEmptyString(t.appId)||r.push("appId either not provided or invalid."),t.hasOwnProperty("adUnits")&&p.validateNonEmptyObject(t.adUnits))for(var a in t.adUnits)if("mobile"===a||"desktop"===a)for(var d=0,l=t.adUnits[a].length;l>d;d++){var c=t.adUnits[a][d];if(c.hasOwnProperty("code")&&p.validateNonEmptyString(c.code)||r.push("code not provided or invalid."),c.hasOwnProperty("placementId")&&p.validateNonEmptyString(c.placementId)||r.push("placementId not provided or invalid."),c.hasOwnProperty("sizes")&&p.isArray(c.sizes)&&c.sizes.length)for(var u=0,h=c.sizes.length;h>u;u++){var f=c.sizes[u];p.isArray(f)&&2===f.length&&p.isInteger(f[0])&&p.isInteger(f[1])||r.push("size not provided or invalid.")}else r.push("sizes not provided or invalid.")}else r.push("adUnits device invalid.");else r.push("adUnits either not provided or invalid.");if(t.hasOwnProperty("roundingBuckets")){var g=t.roundingBuckets;if((!g.hasOwnProperty("type")||!p.isInteger(g.type)||g.type>3||g.type<0)&&r.push("roundingBuckets type either not provided or invalid."),g.hasOwnProperty("buckets")&&p.isArray(g.buckets))for(var m=0,y=g.buckets.length;y>m;m++){var v=g.buckets[m];p.isArray(v.range)&&2===v.range.length?p.isInteger(v.range[0])&&p.isInteger(v.range[1])||r.push("range not provided or invalid."):r.push("range not provided or invalid."),v.hasOwnProperty("granularity")&&!isNaN(v.granularity)||r.push("granularity not provided or invalid.")}else r.push("buckets either not provided or invalid.")}if(r.length)return void n(r);var w=new i(t);window.renderFacebookAd=w.fbRenderAd,n(null,w)}function i(t){function i(e,t){for(var i=0;i<j.length;i++)if(j[i][0]===parseInt(e)&&j[i][1]===parseInt(t))return!0;return!1}function n(e){return e.getSlotElementId()}function r(e){for(var t=n(e),i=0;i<E.length;i++){var r=E[i].code;if(t===r)return r}return t}function l(e){var t=e.getSizes();if(0!==e.getTargeting(A).length)for(var n=0;n<t.length;n++){var r=t[n];if(i(r.getWidth(),r.getHeight()))return r.getWidth()+"x"+r.getHeight()+"_"+e.getTargeting(A)[0]}return""}function c(e){for(var t=k?l:r,i=[],n=0;n<e.length;n++)i.push(t(e[n]));return i}function u(e){for(var t=k?l:r,i=p.getSlots(),o=0;o<i.length;o++)if(t(i[o])===e)return n(i[o]);return""}function h(e){for(var t=[],i=0;i<E.length;i++){var n=E[i];e===n.placementId&&t.push(u(n.code))}return t}function f(e){for(var t=0;t<E.length;t++){var i=E[t];if(e===i.code)return i.placementId}return""}function g(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i][0]+"x"+e[i][1]);return t[0]}function m(e){for(var t=0;t<E.length;t++){var i=E[t];if(e===i.placementId)return g(i.sizes)}return""}function y(e){for(var t=[],i=0,n=e.length;n>i;i++)for(var r=0;r<E.length;r++)e[i]===E[r].code&&t.push(E[r]);return t}function v(e){var t=y(e);if(!t.length)return"";for(var i="https://an.facebook.com/v2/placementbid.json",n="?sdk=5.3.web&",r=0;r<t.length;r++){var o=t[r],s=encodeURIComponent(o.placementId),a=encodeURIComponent(g(o.sizes));n+="placementids[]="+s+"&adformats[]="+a+"&"}n=n.slice(0,-1);var d=encodeURIComponent(p.getPageUrl());n+="&pageurl="+d;var l=R?"&testmode=true":"",c=i+n+l;return c}function w(e){for(var t=Number(e)/100,i=1,n=0,r=z.buckets.length;r>n;n++){var o=z.buckets[n];if(t>=o.range[0]&&t<o.range[1]){i=o.granularity;break}n===r-1&&(t=o.range[1],i=o.granularity)}return t=100*t/(100*i),z.type===d.FLOOR?t=Math.floor(t):z.type===d.ROUND?t=Math.round(t):z.type===d.CEIL&&(t=Math.ceil(t)),
(t*i).toFixed(2)}function I(e){var t=w(e.bid_price_cents);return 0===Number(t)?{}:{fb_bid_id:e.bid_id,fb_cpm:t}}function b(e,t){var i=v(e);if(!i)return void t("FB: Failed to get bid request URL");var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(200!==n.status)return void t("FB: No demand response");t(null,JSON.parse(n.responseText))}},n.open("GET",i,!0),n.withCredentials=!0,n.send()}var _=this,x=t.targetingType,D=o,S=s,T={state:a.NEW,correlator:null,gCorrelator:null,slotIds:[],callbacks:[]},O={},P={},z=t.roundingBuckets?t.roundingBuckets:{type:d.FLOOR,buckets:[{range:[0,20],granularity:.05}]},E=p.isMobile()?t.adUnits.mobile:t.adUnits.desktop,R=t.debug,k=(t.appId,t.dynamicMapping||!1),A=t.uniqueTargeting||"pos",j=t.slotSizes||[[300,250],[320,50]];this.getPartnerTargetingType=function(){return x},this.getSupportedAnalytics=function(){return D},this.getSupportedOptions=function(){return S},this.getPartnerDemandExpiry=function(){return S.demandExpiry},this.setPartnerTargetingType=function(t){return e(t)?(x=t,!0):!1},this.fbRenderAd=function(e,t){if(e&&t)try{var i=P[t];if(i){var n=i.adSize,r=i.placementId;e.write('<html><body><div style="display:none; position: relative;"><iframe style="display:none;"></iframe><script type="text/javascript">var data = {placementid: "'+r+'",format: "'+n+'",bidid: "'+t+'",testmode: false,onAdLoaded: function(element) {element.style.display = "block";},onAdError: function(errorCode, errorMessage) {}};(function(w, l, d, t) {var a = t();var b = d.currentScript || (function() {var c = d.getElementsByTagName("script");return c[c.length - 1];})();var e = b.parentElement;e.dataset.placementid = data.placementid;var f = function(v) {    try {        return v.document.referrer;    } catch (e) {}    return "";};var g = function(h) {    var i = h.indexOf("/", h.indexOf("://") + 3);    if (i === -1) {        return h;    }    return h.substring(0, i);};var j = [l.href];var k = false;var m = false;if (w !== w.parent) {    var n;    var o = w;    while (o !== n) {        var h;        try {            m = m || (o.$sf && o.$sf.ext);            h = o.location.href;        } catch (e) {            k = true;        }        j.push(h || f(n));        n = o;        o = o.parent;    }}var p = l.ancestorOrigins;if (p) {    if (p.length > 0) {        data.domain = p[p.length - 1];    } else {        data.domain = g(j[j.length - 1]);    }}data.url = j[j.length - 1];data.channel = g(j[0]);data.width = screen.width;data.height = screen.height;data.pixelratio = w.devicePixelRatio;data.placementindex = w.ADNW && w.ADNW.Ads ? w.ADNW.Ads.length : 0;data.crossdomain = k;data.safeframe = !!m;var q = {};q.iframe = e.firstElementChild;var r = "https://www.facebook.com/audiencenetwork/web/?sdk=5.3";for (var s in data) {    q[s] = data[s];    if (typeof(data[s]) !== "function") {        r += "&" + s + "=" + encodeURIComponent(data[s]);    }}q.iframe.src = r;q.tagJsInitTime = a;q.rootElement = e;q.events = [];w.addEventListener("message", function(u) {    if (u.source !== q.iframe.contentWindow) {        return;    }    u.data.receivedTimestamp = t();    if (this.sdkEventHandler) {        this.sdkEventHandler(u.data);    } else {        this.events.push(u.data);    }}.bind(q), false);q.tagJsIframeAppendedTime = t();w.ADNW = w.ADNW || {};w.ADNW.Ads = w.ADNW.Ads || [];w.ADNW.Ads.push(q);w.ADNW.init && w.ADNW.init(q);})(window, location, document, Date.now || function() {return +new Date;});</script><script type="text/javascript" src="https://connect.facebook.net/en_US/fbadnw.js" async></script></div></body></html>'),e.close()}}catch(o){}},this.prefetchDemand=function(e,t,i){T.state=a.IN_PROGRESS,T.correlator=e,T.slotIds=t.divIds.slice(),O[e]={slot:{}},b(t.divIds,function(n,r){if(!n&&r.hasOwnProperty("bids")){var o=r.bids;for(var s in o)if(o.hasOwnProperty(s))for(var d=o[s].length-1;d>=0;d--)o[s][d]||o[s].splice(d,1);for(var l=0;l<t.divIds.length;l++){O[e].slot[t.divIds[l]]={},O[e].slot[t.divIds[l]].timestamp=p.now(),O[e].slot[t.divIds[l]].demand={};var c=f(t.divIds[l]);o.hasOwnProperty(c)&&o[c].length&&(P[o[c][0].bid_id]={adSize:m(c),placementId:c},O[e].slot[t.divIds[l]].demand=I(o[c][0]),o[c].splice(0,1))}T.state=a.READY}else{T.state=a.READY;for(var u=0;u<t.divIds.length;u++)O[e].slot[t.divIds[u]]={},O[e].slot[t.divIds[u]].timestamp=p.now(),O[e].slot[t.divIds[u]].demand={}}i(e);for(var h=0,g=T.callbacks.length;g>h;h++)setTimeout(T.callbacks[h],0)})},this.getDemand=function N(e,t,i){if(T.state===a.IN_PROGRESS){for(var o=c(t),s=!1,d=0,u=o.length;u>d;d++){var f=T.slotIds.indexOf(o[d]);-1!==f&&(T.slotIds.splice(f,1),s=!0)}if(s)return void T.callbacks.push(N.bind(_,e,t,i))}var g={slot:{}};if(T.state===a.READY){for(var y=t.length-1;y>=0;y--){var v=k?l(t[y]):r(t[y]);O[T.correlator].slot.hasOwnProperty(v)&&((S.demandExpiry<0||p.now()-O[T.correlator].slot[v].timestamp<=S.demandExpiry)&&(g.slot[n(t[y])]=O[T.correlator].slot[v],t.splice(y,1)),delete O[T.correlator].slot[v])}if(p.validateNonEmptyObject(O[T.correlator].slot)||(T.state=a.USED),!t.length)return void i(null,g)}b(c(t),function(e,t){if(e)return void i(e);var n=t.bids;for(var r in n)if(n.hasOwnProperty(r))for(var o=h(r),s=0;n[r].length;s++)n[r][0]&&(P[n[r][0].bid_id]={adSize:m(r),placementId:r},g.slot[o[s]]={timestamp:p.now(),demand:I(n[r][0])}),n[r].splice(0,1);i(null,g)})}}var n="FB",r={page:!1,slot:!0},o={time:!0,demand:!1},s={prefetch:!0,demandExpiry:-1},a={NEW:1,IN_PROGRESS:2,READY:3,USED:4},d={FLOOR:1,ROUND:2,CEIL:3},p=window.headertag.Utils;window.headertag.registerPartner(n,t)}),window.headertag.bidderQueue.push(function(){"use strict";function validateTargetingType(e){return"string"==typeof e&&SUPPORTED_TARGETING_TYPES[e]}function getKeys(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t}function arrayCompare(e,t){var i,n,r={matched:0,success:!1};if(!e||!t)return r;for(i=e.length,n=0;i>n;n++){if(-1===t.indexOf(e[n]))return r;r.matched++}return r.success=!0,r}function retrieveIndexSlot(e,t,i){var n,r,o,s,a,d,p,l={};for(a in t)if(!i[a]){s=t[a],n=0,o=0,r=0;for(d in s)n++,p=arrayCompare(s[d],e[d]),p.success&&(r++,o+=p.matched);n===r&&(l.indexId||(l={matched:o,indexId:a}),o>l.matched&&(l.matched=o,l.indexId=a))}return l.indexId}function mapSlots(e){var t,i,n,r,o,s,a,d,p,l,c=headerTagArgs.gptDivs,u=headerTagArgs.gptMap,h=e.length,f={};if(c)for(p=0;h>p;p++){d=e[p].getSlotElementId();for(n in c)-1!==c[n].indexOf(d)&&(f[n]||(f[n]=[]),f[n].push(d))}if(!c&&u)for(t="CSS1Compat"==window.document.compatMode?window.document.documentElement:window.document.body,i={},r=Utils.isMobile()?"mobile":"desktop",p=0;h>p;p++)for(d=e[p].getSlotElementId(),o=e[p].getSizes(t.clientWidth,t.clientHeight),l=0;l<o.length;l++)s=o[l].getWidth()+"_"+o[l].getHeight(),u[r][s]&&(a=retrieveIndexSlot(e[p].getTargetingMap(),u[r][s],i),a&&(i[a]=!0,f[a]=[d]));return f}function convertSlotDemandObject(e,t){if("slot"===targetingType)return e;var i,n,r={page:{slotIds:[],gCorrelator:t,demand:{}}};for(i in e.slot){r.page.slotIds.push(i),r.page.timestamp?r.page.timestamp=Math.min(r.page.timestamp,e.slot[i].timestamp):r.page.timestamp=e.slot[i].timestamp;for(n in e.slot[i].demand)r.page.demand[n]=r.page.demand[n]||[],r.page.demand[n]=r.page.demand[n].concat(e.slot[i].demand[n])}return r}function parseResults(e,t,i){var n,r,o,s,a,d,p=[],l={slot:{}};if(t){prefetch.demand=JSON.parse(JSON.stringify(headerTagSlots)),prefetch.state=prefetchState.READY,prefetch.analyticsCallback(prefetch.correlator);for(var c=0,u=prefetch.callbacks.length;u>c;c++)setTimeout(prefetch.callbacks[c],0);return void(prefetch.timestamp=Utils.now())}if(i?(n=prefetch.correlator,s=prefetch.demand,d=mapSlots(i)):(n=correlatorTracker[e],s=headerTagSlots,d=ixSlots[n]),(i||dSlots[n]).map(function(e){for(o=e.getSlotElementId(),r=0;r<s.length;r++)a=s[r].split("_"),"undefined"!=typeof d[a[1]]&&-1!==d[a[1]].indexOf(o)&&(i&&p.push(prefetch.demand[r]),l.slot[o]||(l.slot[o]={timestamp:prefetch.timestamp||Utils.now(),demand:{}}),l.slot[o].demand[a[0]]||(l.slot[o].demand[a[0]]=[]),l.slot[o].demand[a[0]].push(a[1]+"_"+a[2]))}),i){var h;for(var f in d)if(d.hasOwnProperty(f)&&-1!==prefetch.slotIds.indexOf(f)){for(r=0;r<d[f].length;r++)l.slot[d[f][r]]||(l.slot[d[f][r]]={timestamp:prefetch.timestamp,demand:{}});h=prefetch.slotIds.indexOf(f),-1!==h&&prefetch.slotIds.splice(h,1)}for(demandStore=l,r=prefetch.demand.length-1;r>=0;r--)-1!==p.indexOf(prefetch.demand[r])&&prefetch.demand.splice(r,1)}else"function"==typeof cb[n]&&(cb[n](null,l),delete cb[n]),delete correlatorTracker[e],delete ixSlots[n],delete dSlots[n]}function escapeCharacter(e){var t=META[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}function quote(e){return ESCAPABLE.lastIndex=0,ESCAPABLE.test(e)?e.replace(ESCAPABLE,escapeCharacter):e}function OpenRTBRequest(e,t){if("number"!=typeof e||e%1!==0||0>e)throw"Invalid Site ID";this.siteID=e,this.impressions=[],top===self?(this.sitePage=location.href,this.topframe=1):(this.sitePage=document.referrer,this.topframe=0),"undefined"==typeof indexRequestData.requestCounter?indexRequestData.requestCounter=Math.floor(256*Math.random()):indexRequestData.requestCounter=(indexRequestData.requestCounter+1)%256,this.requestID=String((new Date).getTime()%2592e3*256+indexRequestData.requestCounter+256),correlatorTracker[this.requestID]=t}function cygnus_index_judge(e){headerTagSlots=[];var t,i={},n="^(?:"+headerTagPublicKey+"|"+headerTagPrivateKey+")_(?:T([0-9])_)?(.*)_.*$",r=new RegExp(n),o=[];for(t=0;t<e.length;t++)if(e[t].split("_")[0]!==headerTagPrivateKey){var s=r.exec(e[t]);if("undefined"!=typeof s&&null!==s){var a,d;if(a=s[1],d=s[2],"undefined"!=typeof a&&null!==a||(a=0),i[d]=i[d]||{},"undefined"==typeof i[d].tier||i[d].tier<a){i[d].tier=a;var p=e[t];if(a>0){var l=e[t].split("_"),c=l.shift(),u=l.join("_");l.shift();var h=l.join("_");p=c+"_"+h,indexRequestData.targetIDToBid[h]=indexRequestData.targetIDToBid[u]}i[d].target=p}}}else o.push(e[t]);var f,g=[];for(f in i)i.hasOwnProperty(f)&&g.push(i[f].target);return g.concat(o)}function Partner(e){function t(e,t){if(Utils.isEmpty(e))return t;if(Utils.isEmpty(t))return e;var i,n;for(i in t.slot)if("undefined"==typeof e.slot[i])e.slot[i]=t.slot[i];else{e.slot[i].timestamp=Math.min(e.slot[i].timestamp,t.slot[i].timestamp);for(n in t.slot[i].demand){switch(typeof e.slot[i].demand[n]){case"undefined":e.slot[i].demand[n]=[];break;case"string":e.slot[i].demand[n]=[e.slot[i].demand[n]]}e.slot[i].demand[n]=e.slot[i].demand[n].concat(t.slot[i].demand[n])}}return e}function i(e,t){var i,n,r,o;try{if("undefined"==typeof headerTagArgs||"undefined"==typeof headerTagArgs.siteID||"undefined"==typeof headerTagArgs.slots)return;for("undefined"==typeof indexRequestData&&(indexRequestData={},indexRequestData.impIDToSlotID={},indexRequestData.reqOptions={}),r=new OpenRTBRequest(headerTagArgs.siteID,e),headerTagArgs.url&&"string"==typeof headerTagArgs.url&&r.setPageOverride(headerTagArgs.url),indexRequestData.impIDToSlotID[r.requestID]={},indexRequestData.reqOptions[r.requestID]={},i=0;i<headerTagArgs.slots.length;i++)o=headerTagArgs.slots[i],-1!==t.indexOf(o.id.toString())&&(n=r.addImpression(o.width,o.height,o.bidfloor,o.bidfloorcur,o.id,o.siteID),n&&(indexRequestData.impIDToSlotID[r.requestID][n]=String(o.id)));return"number"==typeof headerTagArgs.targetMode&&(indexRequestData.reqOptions[r.requestID].targetMode=headerTagArgs.targetMode),"function"==typeof headerTagArgs.callback&&(indexRequestData.reqOptions[r.requestID].callback=headerTagArgs.callback),r.sendRequestAsync(e,e===prefetch.correlator)}catch(s){}}var n=this;targetingType=e.targetingType||"slot",headerTagArgs={gptMap:cygnus_index_args.gpt_map,gptDivs:cygnus_index_args.gpt_divs,siteID:cygnus_index_args.siteID,slots:cygnus_index_args.slots,url:cygnus_index_args.url,targetMode:cygnus_index_args.targetMode,callback:cygnus_index_args.callback},cygnus_index_args=void 0;var r=e.targetingType,o=SUPPORTED_ANALYTICS,s=SUPPORTED_OPTIONS,a=SUPPORTED_OPTIONS.demandExpiry?SUPPORTED_OPTIONS.demandExpiry:-1;this.prefetchIndexSlotIds=e.prefetch.info[window.headertag.pagetype].requiredIndexSlots,this.publicKey=e.publicKey||"IOM",this.privateKey=e.privateKey||"IPM",headerTagPrivateKey=this.privateKey,headerTagPublicKey=this.publicKey,this.getPartnerTargetingType=function(){return r},this.getSupportedAnalytics=function(){return o},this.getSupportedOptions=function(){return s},this.getPartnerDemandExpiry=function(){return a},this.setPartnerTargetingType=function(e){return validateTargetingType(e)?(r=e,targetingType=r,!0):!1},this.prefetchDemand=function(e,t,n){prefetch.state=prefetchState.IN_PROGRESS,prefetch.correlator=e,prefetch.gCorrelator=t,prefetch.slotIds=this.prefetchIndexSlotIds.slice(),prefetch.slotIdsInPrefetch=this.prefetchIndexSlotIds.slice(),prefetch.analyticsCallback=n,i(e,this.prefetchIndexSlotIds)},this.getDemand=function d(e,r,o){if("page"===targetingType){var a=r;r=Utils.getSlots()}if(prefetch.state===prefetchState.IN_PROGRESS){for(var p=getKeys(mapSlots(r)),l=!1,c=0,u=p.length;u>c;c++){var h=prefetch.slotIdsInPrefetch.indexOf(p[c]);-1!==h&&(prefetch.slotIdsInPrefetch.splice(h,1),l=!0)}if(l)return void prefetch.callbacks.push(d.bind(n,e,r,o))}var f={};if(prefetch.state===prefetchState.READY&&(prefetch.demand&&prefetch.demand.length>0&&prefetch.slotIds.length&&parseResults(null,!1,r),demandStore.slot)){f.slot=f.slot||{};for(var g=r.length-1;g>=0;g--){var m=r[g].getSlotElementId();if(demandStore.slot.hasOwnProperty(m)){if((s.demandExpiry<0||Utils.now()-demandStore.slot[m].timestamp<=s.demandExpiry)&&(f.slot[m]=demandStore.slot[m],r.splice(g,1)),"page"===targetingType&&a===prefetch.gCorrelator)continue;delete demandStore.slot[m]}}if(prefetch.timestamp&&Utils.now()-prefetch.timestamp>s.demandExpiry&&(prefetch.slotIds=[],prefetch.demand=[],delete prefetch.timestamp),Utils.validateNonEmptyObject(demandStore.slot)||prefetch.slotIds.length||(prefetch.state=prefetchState.USED,delete prefetch.timestamp),!r.length)return void("page"===targetingType?o(null,convertSlotDemandObject(f,a)):o(null,f))}cb[e]=function(e,i){return e?void o(e):void("page"===targetingType?o(null,convertSlotDemandObject(t(f,i),a)):o(null,t(f,i)))},dSlots[e]=r,ixSlots[e]=mapSlots(r);var y=getKeys(ixSlots[e]);return y.length?void i(e,y):o(null,convertSlotDemandObject(f))}}function init(e,t){var i=[];return Utils=window.headertag.Utils,e.hasOwnProperty("targetingType")&&!validateTargetingType(e.targetingType)&&(i.push("targetingType either not set or invalid. Defaulting to using slot level targeting."),e.targetingType="slot"),e.hasOwnProperty("publicKey")&&!Utils.validateNonEmptyString(e.publicKey)&&(i.push("Private key is not a string. Defaulting value to IOM"),e.publicKey="IOM"),e.hasOwnProperty("privateKey")&&!Utils.validateNonEmptyString(e.privateKey)&&(i.push("Private key is not a string. Defaulting value to IPM"),e.privateKey="IPM"),i.length?t(i,new Partner(e)):void t(null,new Partner(e))}var PARTNER_ID="INDX",SUPPORTED_TARGETING_TYPES={page:!0,slot:!0},SUPPORTED_ANALYTICS={time:!0,demand:!0},SUPPORTED_OPTIONS={prefetch:!0,demandExpiry:5e4},prefetchState={NEW:1,IN_PROGRESS:2,READY:3,USED:4},prefetch={state:prefetchState.NEW,demand:null,correlator:null,slotIds:[],callbacks:[]},demandStore={},headerTagArgs,headerTagSlots,headerTagPublicKey,headerTagPrivateKey,cb={},correlatorTracker={},ESCAPABLE=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,META={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},indexRequestData,dSlots={},ixSlots={},targetingType,Utils,demandExpiry=15e3;OpenRTBRequest.prototype.serialize=function(){var e,t,i,n='{"id":'+this.requestID+',"site":{"page":"'+quote(this.sitePage)+'"';for("string"==typeof document.referrer&&(n+=',"ref":"'+quote(document.referrer)+'"'),n+='},"imp":[',i=0;i<this.impressions.length;i++)e=this.impressions[i],t=[],n+='{"id":"'+e.id+'", "banner":{"w":'+e.w+',"h":'+e.h+',"topframe":'+String(this.topframe)+"}","number"==typeof e.bidfloor&&(n+=',"bidfloor":'+e.bidfloor,"string"==typeof e.bidfloorcur&&(n+=',"bidfloorcur":"'+quote(e.bidfloorcur)+'"')),"string"!=typeof e.slotID||e.slotID.match(/^\s*$/)||t.push('"sid":"'+quote(e.slotID)+'"'),"number"==typeof e.siteID&&t.push('"siteID":'+e.siteID),t.length>0&&(n+=',"ext": {'+t.join()+"}"),n+=i+1==this.impressions.length?"}":"},";return n+="]}"},OpenRTBRequest.prototype.addImpression=function(e,t,i,n,r,o){var s={id:String(this.impressions.length+1)};if("number"!=typeof e||1>=e)return null;if("number"!=typeof t||1>=t)return null;if(("string"==typeof r||"number"==typeof r)&&String(r).length<=50&&(s.slotID=String(r)),s.w=e,s.h=t,void 0!==i&&"number"!=typeof i)return null;if("number"==typeof i){if(0>i)return null;if(s.bidfloor=i,void 0!==n&&"string"!=typeof n)return null;s.bidfloorcur=n}if("undefined"!=typeof o){if(!("number"==typeof o&&o%1===0&&o>=0))return null;s.siteID=o}return this.impressions.push(s),s.id},OpenRTBRequest.prototype.sendRequestAsync=function(correlator,isPrefetch){if(0===this.impressions.length)return void(cb.hasOwnProperty(correlator)&&(cb[correlator](null,{}),delete cb[correlator]));var jsonURI=encodeURIComponent(this.serialize()),scriptSrc="https:"===window.location.protocol?"https://as-sec.casalemedia.com":"http://as.casalemedia.com";scriptSrc+="/cygnus?v=7&fn=headertag_parse&s="+this.siteID+"&r="+jsonURI;var xhttp=new XMLHttpRequest;xhttp.withCredentials=!0,xhttp.onreadystatechange=function(){if(4===xhttp.readyState&&200===xhttp.status)try{eval(xhttp.responseText)}catch(e){cb.hasOwnProperty(correlator)&&(cb[correlator]([e.toString()]),delete cb[correlator])}},xhttp.open("GET",scriptSrc,!0),xhttp.send()},window.headertag_parse=function(e){function t(e,t){headerTagSlots.push(e+t),void 0===indexRequestData.targetIDToBid[t]?(indexRequestData.targetIDToBid[t]=[o.adm],indexRequestData.correlator[t]=[i]):(indexRequestData.targetIDToBid[t].push(o.adm),indexRequestData.correlator[t].push(i)),p={},p.impressionID=o.impid,"undefined"!=typeof o.ext.dealid&&(p.dealID=o.ext.dealid),p.bid=o.price,p.slotID=s,p.priceLevel=o.ext.pricelevel,p.target=e+t,u.push(p)}var i;try{if(headerTagSlots=[],e){if("object"!=typeof indexRequestData||"object"!=typeof indexRequestData.impIDToSlotID||"undefined"==typeof indexRequestData.impIDToSlotID[e.id])return;var n,r=0;"object"==typeof indexRequestData.reqOptions&&"object"==typeof indexRequestData.reqOptions[e.id]&&("function"==typeof indexRequestData.reqOptions[e.id].callback&&(n=indexRequestData.reqOptions[e.id].callback),"number"==typeof indexRequestData.reqOptions[e.id].targetMode&&(r=indexRequestData.reqOptions[e.id].targetMode)),indexRequestData.lastRequestID=e.id,i=correlatorTracker[e.id];var o,s,a,d,p,l,c,u=[],h="undefined"==typeof e.seatbid?0:e.seatbid.length;for(l=0;h>l;l++)for(c=0;c<e.seatbid[l].bid.length;c++)o=e.seatbid[l].bid[c],"object"==typeof o.ext&&"string"==typeof o.ext.pricelevel&&"undefined"!=typeof indexRequestData.impIDToSlotID[e.id][o.impid]&&(s=indexRequestData.impIDToSlotID[e.id][o.impid],"undefined"==typeof headerTagSlots&&(headerTagSlots=[]),"undefined"==typeof indexRequestData.targetIDToBid&&(indexRequestData.targetIDToBid={}),"undefined"==typeof indexRequestData.correlator&&(indexRequestData.correlator={}),"string"==typeof o.ext.dealid?(d=headerTagPrivateKey+"_",1===r?(a=s+o.ext.pricelevel,t(d,a)):2===r?(a=s+o.ext.pricelevel,t(d,a),a=s+"_"+o.ext.dealid,t(d,a)):(a=s+"_"+o.ext.dealid,t(d,a))):(d=headerTagPublicKey+"_",a=s+o.ext.pricelevel,t(d,a)));"function"==typeof n&&(0===u.length?n(e.id):n(e.id,u)),headerTagSlots=cygnus_index_judge(headerTagSlots.slice(0))}}catch(f){}"undefined"==typeof headerTagSlots&&(headerTagSlots=[]),parseResults(e.id,correlatorTracker[e.id]===prefetch.correlator)},window.index_render=function(e,t){var i,n,r,o,s,a,d;"undefined"==typeof index_demand&&(window.index_demand={}),d=t.split("_"),i=d[0];try{if(n=indexRequestData.targetIDToBid[t].shift(),null!==n)e.write(n),index_demand[i]=1,delete index_no_demand[i];else{for(r={},j=0;j<headerTagArgs.slots.length;j++)if(headerTagArgs.slot[j].id===i){r.s=headerTagArgs.slot[j].siteID;break}r.hasOwnProperty("s")||(r.s=0),r.u=encodeURIComponent(location.href),r.type="RT",r.r=correlator,r.blank="["+t+"]",o=Utils.objToQueryString(r),s=("https:"===location.protocol?"https://as-sec.":"http://as.")+"casalemedia.com/headerstats"+o,a=new XMLHttpRequest,a.open("GET",s,!0),a.send()}}catch(p){}},window.headertag_render=function(e,t,i){var n,r,o=i,s=t.split(",");for(n=0;n<s.length;n++)if(r=s[n].split("_"),r[0]==o)return void window.index_render(e,s[n])},window.headertag.registerPartner(PARTNER_ID,init)}),function(){"use strict";function e(e){return"string"==typeof e&&r[e]}function t(t){function i(e){var t=S;if(e.hasOwnProperty("id")&&(t+="/"+e.id),e.hasOwnProperty("pageId")&&(t+="/"+e.pageId),t+="/"+e.sizeId,t+="/ADTECH;",e.parameters)for(var i in e.parameters)e.parameters.hasOwnProperty(i)&&(t+=i+"="+e.parameters[i]+";");return t}function n(e){if("test"===e)return e;for(var t=Number(e)*w,i=1,n=0,r=h.buckets.length;r>n;n++){var o=h.buckets[n];if(t>=o.range[0]&&t<o.range[1]){i=1/o.granularity;break}n===r-1&&(t=o.range[1],i=1/o.granularity)}return t=100*Math.floor(t*i)/i}function r(e){for(var t=e.getSizes(window.document.documentElement.clientWidth,window.document.documentElement.clientHeight),i=[],n=[],r=0;r<t.length;r++){var o=(t[r],t[r].getWidth()),s=t[r].getHeight(),a=o+"x"+s;if("undefined"!=typeof e.getTargetingMap().pos){for(var d=0;d<e.getTargetingMap().pos.length;d++)a+="_"+e.getTargetingMap().pos[d];i.push(a)}}for(var p in x)if(x.hasOwnProperty(p))for(var l=x[p],r=0;r<i.length;r++)l.indexOf(i[r])>-1&&n.push(p);return n}function l(e,t,i){var r={};try{var o=JSON.parse(t);if(o&&o.hasOwnProperty("nbr"))return null;r.id=e.id;var s=o.seatbid[0].bid[0];r.cpm=n(s.price),r.adm=s.adm,r.divId=i,r.demand={},r.demand[I]=r.id+"_"+r.cpm}catch(a){return null}return r}function c(e,t,n){e="prefetch"===e?t:e;var r={};r.id=t,r.pageId=0,r.sizeId=-1,r.parameters={cmd:"bid",cors:"yes",v:"2"};var o=i(r),s=new XMLHttpRequest;s.withCredentials=!0,s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status){var t=l(r,s.responseText,e);!t||t.hasOwnProperty("nbr")?n("No demand response."):n(null,t)}else n("No demand response.")},s.open("GET",o,!0),s.send()}var u=this,h=t.roundingBuckets?t.roundingBuckets:{buckets:[{range:[0,20],granularity:.05}]},f=t.targetingType,g=o,m=s,y={state:a.NEW,correlator:null,gcorrelator:null,slotIds:[],callbacks:[]},v={},w=t.revshare?t.revshare:1,I=t.targetingKey?t.targetingKey:"aolbid",b=t.apiVersion,_=t.networkId,x=t.placements,D=d[t.region],S=p.getProtocol()+D+"/pubapi/"+b+"/"+_,T={};this.getPartnerTargetingType=function(){return f},this.getSupportedAnalytics=function(){return g},this.getSupportedOptions=function(){return m},this.getPartnerDemandExpiry=function(){return m.demandExpiry},this.setPartnerTargetingType=function(t){return e(t)?(f=t,!0):!1},this.prefetchDemand=function(e,t,i){function n(t,n){if(r++,n&&(T[n.id]={cpm:n.cpm,adm:n.adm},v[e].slot[n.divId]={},v[e].slot[n.divId].timestamp=p.now(),v[e].slot[n.divId].demand=v[e].slot[n.divId].demand||{},v[e].slot[n.divId].demand[I]=n.demand[I]),o===r){y.state=a.READY,i(e);for(var s=0,d=y.callbacks.length;d>s;s++)setTimeout(y.callbacks[s],0)}}y.state=a.IN_PROGRESS,y.correlator=e,y.slotIds=t.divIds,v[e]={slot:{}};for(var r=0,o=y.slotIds.length,s=0,d=y.slotIds.length;d>s;s++)setTimeout(c.bind(u,"prefetch",y.slotIds[s],n))},this.getDemand=function O(e,t,i){function n(e,t){x++,e||(t&&(T[t.id]={cpm:t.cpm,adm:t.adm},g.slot[t.divId]=g.slot[t.divId]||{},g.slot[t.divId].timestamp=p.now(),g.slot[t.divId].demand=g.slot[t.divId].demand||{},g.slot[t.divId].demand[I]=g.slot[t.divId].demand[I]?g.slot[t.divId].demand[I]+","+t.demand[I]:t.demand[I]),D===x&&i(null,g))}if(y.state===a.IN_PROGRESS){for(var o=!1,s=0,d=t.length;d>s;s++){for(var l=-1,h=r(t[s]),f=0;f<h.length;f++)l=y.slotIds.indexOf(parseInt(h[f])),-1!==l&&y.slotIds.splice(l,1);-1!==l&&(o=!0)}if(o)return void y.callbacks.push(O.bind(u,e,t,i))}var g={slot:{}};if(y.state===a.READY){for(var w=t.length-1;w>=0;w--){var b=t[w].getSlotElementId(),h=r(t[w]);0===h.length&&t.splice(w,1);for(var f=0;f<h.length;f++)v[y.correlator].slot.hasOwnProperty(h[f])&&((m.demandExpiry<0||p.now()-v[y.correlator].slot[h[f]].timestamp<=m.demandExpiry)&&(g.slot[b]?g.slot[b].demand[I]=g.slot[b].demand[I]+","+v[y.correlator].slot[h[f]].demand[I]:g.slot[b]=v[y.correlator].slot[h[f]],t.splice(w,1)),delete v[y.correlator].slot[h[f]])}if(p.validateNonEmptyObject(v[y.correlator].slot)||(y.state=a.USED),!t.length)return void i(null,g)}var _=p.getDivIds(t);if(_.length){for(var x=0,D=0,w=0;w<t.length;w++)D+=r(t[w]).length;for(var w=0;w<t.length;w++)for(var S=r(t[w]),P=0;P<S.length;P++){var z=S[P];setTimeout(c.bind(u,_[w],z,n))}}else i(null,g)},this.render=function(e,t){var i=t.split("_")[0];T.hasOwnProperty(i)&&T[i].hasOwnProperty("adm")&&(e.write(T[i].adm),delete T[i])}}function i(i,n){var r=[];if(i.hasOwnProperty("targetingType")&&e(i.targetingType)||r.push("targetingType either not provided or invalid."),i.hasOwnProperty("namespace")&&!p.validateNonEmptyString(i.namespace)&&r.push("namespace either not a string."),i.hasOwnProperty("region")&&d.hasOwnProperty(i.region)||r.push("region either not provided or invalid."),i.hasOwnProperty("apiVersion")&&p.validateNonEmptyString(i.apiVersion)||r.push("apiVersion either not provided or not a string."),i.hasOwnProperty("networkId")&&p.validateNonEmptyString(i.networkId)||r.push("networkId either not provided or not a string."),i.hasOwnProperty("placements"))for(var o=0,s=i.placements.length;s>o;o++){var a=i.placements[o];if(!p.validateNonEmptyObject(a)){r.push("placement not an array of objects");break}a.hasOwnProperty("id")||a.hasOwnProperty("alias")||r.push("either placement.id or placement.alias must exist."),a.hasOwnProperty("id")&&!p.validateNonEmptyString(a.id)&&r.push("placement.id invalid."),a.hasOwnProperty("alias")&&!p.validateNonEmptyString(a.alias)&&r.push("placement.alias invalid."),a.hasOwnProperty("pageId")&&!p.validateNonEmptyString(a.pageId)&&r.push("placement.pageId invalid."),a.hasOwnProperty("sizeId")&&p.validateNonEmptyString(a.sizeId)||r.push("placement.sizeId invalid.")}else r.push("placements either not provided or not an array.");if(r.length)return void n(r);var l=new t(i);i.namespace=i.namespace||"adtech",window[i.namespace]={render:l.render},n(null,l)}var n="AOL",r={page:!1,slot:!0},o={time:!0,demand:!0},s={prefetch:!0,demandExpiry:3e4},a={NEW:1,IN_PROGRESS:2,READY:3,USED:4},d={eu:"//adserver-eu.adtech.advertising.com",na:"//adserver-us.adtech.advertising.com",asia:"//adserver-as.adtech.advertising.com"},p=window.headertag.Utils;window.headertag.registerPartner(n,i)}(),function(){for(var e,t=window.headertag.Utils,i=window.headertag.bidderQueue;i.length;)(e=t.randomSplice(i))()}();