BOM.AjaxDialogLogin=function(target){var loginField=$('#myLogin_login');var pwField=$('#myLogin_mdp');var submitBt=$('.submitForm');var actionForm=$('#connexion').attr('action');function doError(e){e.addClass('fieldNotOK').removeClass('fieldOK')}function doSuccess(e){e.addClass('fieldOK').removeClass('fieldNotOK')}function checkFieldSize(o,size){o.focusin(function(){if($(this).val().length<size){doError($(this))}});o.focusout(function(){if($(this).val().length>=size){doSuccess($(this))}});o.keyup(function(){if($(this).val().length>=size){doSuccess($(this))}else{doError($(this))}})}target.bind('dialogopen',function(){checkFieldSize(pwField,6);submitBt.click(function(){$.ajax({url:actionForm,type:'POST',data:{'login':loginField.val(),'mdp':pwField.val(),'action':'login_action','r':window.location.href}})})})};